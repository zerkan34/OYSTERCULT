const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-DK4gcqU4.js","assets/js/vendor-CXjY3Ao_.js","assets/js/browser-BOd3kSkT.js"])))=>i.map(i=>d[i]);
var _I=Object.defineProperty;var SI=(t,e,r)=>e in t?_I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Dj=(t,e,r)=>SI(t,typeof e!="symbol"?e+"":e,r);import{r as uC,a as T,g as lr,R as re,u as is,b as N0,j as a,m as be,A as fr,L as Mj,P as Ei,c as Lj,X as vt,d as h1,C as AI,S as bn,e as ui,T as Lu,G as Id,f as nd,h as _0,D as Pf,i as dC,k as CI,U as Ci,l as zm,n as kf,o as f1,p as Oc,I as Tf,q as Vr,s as di,t as yc,v as hi,M as Ub,w as Pa,x as Zn,y as EI,z as Oi,B as OI,E as gl,F as li,W as sf,N as Fi,H as vn,J as Hb,K as qb,O as Wb,Q as Hi,V as Um,Y as Vb,Z as hC,_ as Dd,$ as Sn,a0 as PI,a1 as fC,a2 as Kn,a3 as kI,a4 as Rj,a5 as TI,a6 as II,a7 as DI,a8 as MI,a9 as LI,aa as pw,ab as Bn,ac as Dt,ad as RI,ae as Gb,af as FI,ag as BI,ah as $I,ai as Fj,aj as pC,ak as zI,al as If,am as vl,an as mC,ao as Md,ap as Xb,aq as UI,ar as mw,as as HI,at as rs,au as xC,av as gC,aw as qI,ax as Xu,ay as km,az as ks,aA as hl,aB as Bj,aC as $j,aD as Pc,aE as zj,aF as vC,aG as bC,aH as WI,aI as VI,aJ as S0,aK as ns,aL as p1,aM as xw,aN as Yb,aO as yC,aP as wC,aQ as ka,aR as GI,aS as Ld,aT as jC,aU as jo,aV as XI,aW as NC,aX as gw,aY as hf,aZ as m1,a_ as YI,a$ as _C,b0 as SC,b1 as KI,b2 as JI,b3 as AC,b4 as Rd,b5 as Tm,b6 as Ui,b7 as CC,b8 as ZI,b9 as QI,ba as eD,bb as Uj,bc as tD,bd as A0,be as vw,bf as rD,bg as nD,bh as iD,bi as aD,bj as sD,bk as oD,bl as bw,bm as EC,bn as Hj,bo as qj,bp as lD,bq as OC,br as cD,bs as PC,bt as uD,bu as dD,bv as hD,bw as Ft,bx as mv,by as fD}from"./vendor-CXjY3Ao_.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var kC,Wj=uC;kC=Wj.createRoot,Wj.hydrateRoot;let pD={data:""},mD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||pD,xD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gD=/\/\*[^]*?\*\/|  +/g,Vj=/\n+/g,al=(t,e)=>{let r="",n="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?al(o,s):s+"{"+al(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=al(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=al.p?al.p(s,o):s+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},ro={},TC=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+TC(t[r]);return e}return t},vD=(t,e,r,n,i)=>{let s=TC(t),o=ro[s]||(ro[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!ro[o]){let c=s!==t?t:(u=>{let d,h,f=[{}];for(;d=xD.exec(u.replace(gD,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Vj," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Vj," ").trim();return f[0]})(t);ro[o]=al(i?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&ro.g?ro.g:null;return r&&(ro.g=ro[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ro[o],e,n,l),o},bD=(t,e,r)=>t.reduce((n,i,s)=>{let o=e[s];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":al(l,""):l===!1?"":l}return n+i+(o??"")},"");function x1(t){let e=this||{},r=t.call?t(e.p):t;return vD(r.unshift?r.raw?bD(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,mD(e.target),e.g,e.o,e.k)}let IC,Kb,Jb;x1.bind({g:1});let vo=x1.bind({k:1});function yD(t,e,r,n){al.p=e,IC=t,Kb=r,Jb=n}function jl(t,e){let r=this||{};return function(){let n=arguments;function i(s,o){let l=Object.assign({},s),c=l.className||i.className;r.p=Object.assign({theme:Kb&&Kb()},l),r.o=/ *go\d+/.test(c),l.className=x1.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Jb&&u[0]&&Jb(l),IC(u,l)}return i}}var wD=t=>typeof t=="function",Hm=(t,e)=>wD(t)?t(e):t,jD=(()=>{let t=0;return()=>(++t).toString()})(),DC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),ND=20,MC=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,ND)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return MC(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Im=[],ic={toasts:[],pausedAt:void 0},kc=t=>{ic=MC(ic,t),Im.forEach(e=>{e(ic)})},_D={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},SD=(t={})=>{let[e,r]=T.useState(ic),n=T.useRef(ic);T.useEffect(()=>(n.current!==ic&&r(ic),Im.push(r),()=>{let s=Im.indexOf(r);s>-1&&Im.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||_D[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},AD=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||jD()}),C0=t=>(e,r)=>{let n=AD(e,t,r);return kc({type:2,toast:n}),n.id},Ni=(t,e)=>C0("blank")(t,e);Ni.error=C0("error");Ni.success=C0("success");Ni.loading=C0("loading");Ni.custom=C0("custom");Ni.dismiss=t=>{kc({type:3,toastId:t})};Ni.remove=t=>kc({type:4,toastId:t});Ni.promise=(t,e,r)=>{let n=Ni.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Hm(e.success,i):void 0;return s?Ni.success(s,{id:n,...r,...r==null?void 0:r.success}):Ni.dismiss(n),i}).catch(i=>{let s=e.error?Hm(e.error,i):void 0;s?Ni.error(s,{id:n,...r,...r==null?void 0:r.error}):Ni.dismiss(n)}),t};var CD=(t,e)=>{kc({type:1,toast:{id:t,height:e}})},ED=()=>{kc({type:5,time:Date.now()})},ff=new Map,OD=1e3,PD=(t,e=OD)=>{if(ff.has(t))return;let r=setTimeout(()=>{ff.delete(t),kc({type:4,toastId:t})},e);ff.set(t,r)},kD=t=>{let{toasts:e,pausedAt:r}=SD(t);T.useEffect(()=>{if(r)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&Ni.dismiss(l.id);return}return setTimeout(()=>Ni.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=T.useCallback(()=>{r&&kc({type:6,time:Date.now()})},[r]),i=T.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),h=d.findIndex(p=>p.id===s.id),f=d.filter((p,m)=>m<h&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[f+1]:[0,f]).reduce((p,m)=>p+(m.height||0)+c,0)},[e]);return T.useEffect(()=>{e.forEach(s=>{if(s.dismissed)PD(s.id,s.removeDelay);else{let o=ff.get(s.id);o&&(clearTimeout(o),ff.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:CD,startPause:ED,endPause:n,calculateOffset:i}}},TD=vo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ID=vo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DD=vo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,MD=jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ID} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,LD=vo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RD=jl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${LD} 1s linear infinite;
`,FD=vo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BD=vo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$D=jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zD=jl("div")`
  position: absolute;
`,UD=jl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,HD=vo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qD=jl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${HD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,WD=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?T.createElement(qD,null,e):e:r==="blank"?null:T.createElement(UD,null,T.createElement(RD,{...n}),r!=="loading"&&T.createElement(zD,null,r==="error"?T.createElement(MD,{...n}):T.createElement($D,{...n})))},VD=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,GD=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,XD="0%{opacity:0;} 100%{opacity:1;}",YD="0%{opacity:1;} 100%{opacity:0;}",KD=jl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JD=jl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZD=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=DC()?[XD,YD]:[VD(r),GD(r)];return{animation:e?`${vo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QD=T.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?ZD(t.position||e||"top-center",t.visible):{opacity:0},s=T.createElement(WD,{toast:t}),o=T.createElement(JD,{...t.ariaProps},Hm(t.message,t));return T.createElement(KD,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:o}):T.createElement(T.Fragment,null,s,o))});yD(T.createElement);var e7=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=T.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return T.createElement("div",{ref:s,className:e,style:r},i)},t7=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},r7=x1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fp=16,n7=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=kD(r);return T.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Fp,left:Fp,right:Fp,bottom:Fp,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,h=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),f=t7(d,h);return T.createElement(e7,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?r7:"",style:f},u.type==="custom"?Hm(u.message,u):i?i(u):T.createElement(QD,{toast:u,position:d}))}))},Iu=Ni;const i7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},Gj=t=>{let e;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const p=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(m=>m(e,p))}},i=()=>e,c={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(i7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,c);return c},a7=t=>t?Gj(t):Gj;var LC={exports:{}},RC={},FC={exports:{}},BC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=T;function s7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var o7=typeof Object.is=="function"?Object.is:s7,l7=id.useState,c7=id.useEffect,u7=id.useLayoutEffect,d7=id.useDebugValue;function h7(t,e){var r=e(),n=l7({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return u7(function(){i.value=r,i.getSnapshot=e,xv(i)&&s({inst:i})},[t,r,e]),c7(function(){return xv(i)&&s({inst:i}),t(function(){xv(i)&&s({inst:i})})},[t]),d7(r),r}function xv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!o7(t,r)}catch{return!0}}function f7(t,e){return e()}var p7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f7:h7;BC.useSyncExternalStore=id.useSyncExternalStore!==void 0?id.useSyncExternalStore:p7;FC.exports=BC;var m7=FC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1=T,x7=m7;function g7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var v7=typeof Object.is=="function"?Object.is:g7,b7=x7.useSyncExternalStore,y7=g1.useRef,w7=g1.useEffect,j7=g1.useMemo,N7=g1.useDebugValue;RC.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=y7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=j7(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,v7(d,p))return m;var x=n(p);return i!==void 0&&i(m,x)?(d=p,m):(d=p,h=x)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,n,i]);var l=b7(t,s[0],s[1]);return w7(function(){o.hasValue=!0,o.value=l},[l]),N7(l),l};LC.exports=RC;var _7=LC.exports;const S7=lr(_7),$C={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},{useDebugValue:A7}=re,{useSyncExternalStoreWithSelector:C7}=S7;let Xj=!1;const E7=t=>t;function O7(t,e=E7,r){($C?"production":void 0)!=="production"&&r&&!Xj&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Xj=!0);const n=C7(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return A7(n),n}const P7=t=>{($C?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?a7(t):t,r=(n,i)=>O7(e,n,i);return Object.assign(r,e),r},k7=t=>P7,T7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"};function I7(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),l=(s=r.getItem(i))!=null?s:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const Df=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Df(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Df(n)(r)}}}},D7=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,b)=>({...b,...g}),...e},o=!1;const l=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...g)},n,i);const d=Df(s.serialize),h=()=>{const g=s.partialize({...n()});let b;const y=d({state:g,version:s.version}).then(w=>u.setItem(s.name,w)).catch(w=>{b=w});if(b)throw b;return y},f=i.setState;i.setState=(g,b)=>{f(g,b),h()};const p=t((...g)=>{r(...g),h()},n,i);let m;const x=()=>{var g;if(!u)return;o=!1,l.forEach(y=>y(n()));const b=((g=s.onRehydrateStorage)==null?void 0:g.call(s,n()))||void 0;return Df(u.getItem.bind(u))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return m=s.merge(y,(w=n())!=null?w:p),r(m,!0),h()}).then(()=>{b==null||b(m,void 0),o=!0,c.forEach(y=>y(m))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:g=>{s={...s,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},x(),m||p},M7=(t,e)=>(r,n,i)=>{let s={storage:I7(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...e},o=!1;const l=new Set,c=new Set;let u=s.storage;if(!u)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,i);const d=()=>{const x=s.partialize({...n()});return u.setItem(s.name,{state:x,version:s.version})},h=i.setState;i.setState=(x,g)=>{h(x,g),d()};const f=t((...x)=>{r(...x),d()},n,i);i.getInitialState=()=>f;let p;const m=()=>{var x,g;if(!u)return;o=!1,l.forEach(y=>{var w;return y((w=n())!=null?w:f)});const b=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(x=n())!=null?x:f))||void 0;return Df(u.getItem.bind(u))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[N,_]=y;if(p=s.merge(_,(w=n())!=null?w:f),r(p,!0),N)return d()}).then(()=>{b==null||b(p,void 0),p=n(),o=!0,c.forEach(y=>y(p))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||m(),p||f},L7=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((T7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),D7(t,e)):M7(t,e),R7=L7,ua=k7()(R7(t=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[{id:"1",type:"success",title:"Tâche complétée",message:"La maintenance du système de filtration a été effectuée avec succès.",timestamp:new Date(new Date().getTime()-35*6e4).toISOString(),read:!1,important:!0,category:"task",metadata:{taskId:"task-123"}},{id:"2",type:"info",title:"Employé arrivé",message:"Michel Dupont est arrivé sur le site de production à 8:15.",timestamp:new Date(new Date().getTime()-120*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"3",type:"warning",title:"Tâche en cours",message:"Le nettoyage des bassins est en cours depuis plus de 3 heures.",timestamp:new Date(new Date().getTime()-180*6e4).toISOString(),read:!1,important:!0,category:"task"},{id:"4",type:"alert",title:"Attention requise",message:"Niveau d'oxygène bas dans le bassin 3. Vérification requise.",timestamp:new Date(new Date().getTime()-15*6e4).toISOString(),read:!1,important:!0,category:"quality"},{id:"5",type:"success",title:"Livraison reçue",message:"La livraison de nourriture spéciale a été reçue et enregistrée.",timestamp:new Date(new Date().getTime()-240*6e4).toISOString(),read:!0,important:!1,category:"inventory"},{id:"6",type:"info",title:"Équipe de contrôle arrivée",message:"L'équipe de contrôle qualité est arrivée pour l'inspection mensuelle.",timestamp:new Date(new Date().getTime()-90*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"7",type:"success",title:"Mise à jour système",message:"La mise à jour du système de surveillance a été installée avec succès.",timestamp:new Date(new Date().getTime()-320*6e4).toISOString(),read:!0,important:!1,category:"system"},{id:"8",type:"warning",title:"Tâche en retard",message:"Le rapport hebdomadaire de production n'a pas encore été soumis.",timestamp:new Date(new Date().getTime()-420*6e4).toISOString(),read:!1,important:!0,category:"task"}],unreadCount:6,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:e=>t({session:e}),setSidebarCollapsed:e=>t({sidebarCollapsed:e}),addNotification:e=>t(r=>{const n={...e,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...r.notifications,n],unreadCount:r.unreadCount+1}}),markAsRead:e=>t(r=>({notifications:r.notifications.map(n=>n.id===e?{...n,read:!0}:n),unreadCount:r.unreadCount-1})),markAllAsRead:()=>t(e=>({notifications:e.notifications.map(r=>({...r,read:!0})),unreadCount:0})),setTheme:e=>t({theme:e}),toggleTheme:()=>t(e=>({theme:e.theme==="dark"?"light":"dark"})),addBatch:e=>t(r=>({batches:[...r.batches,{...e,id:crypto.randomUUID()}]})),updateBatch:e=>t(r=>({batches:r.batches.map(n=>n.id===e.id?e:n)})),deleteBatch:e=>t(r=>({batches:r.batches.filter(n=>n.id!==e)})),setCompanyInfo:e=>t({companyInfo:e}),addUser:e=>t(r=>({users:[...r.users,{...e,id:crypto.randomUUID()}]})),updateUser:(e,r)=>t(n=>({users:n.users.map(i=>i.id===e?{...i,...r}:i)})),deleteUser:e=>t(r=>({users:r.users.filter(n=>n.id!==e)})),addRole:e=>t(r=>({roles:[...r.roles,{...e,id:crypto.randomUUID()}]})),updateRole:(e,r)=>t(n=>({roles:n.roles.map(i=>i.id===e?{...i,...r}:i)})),deleteRole:e=>t(r=>({roles:r.roles.filter(n=>n.id!==e)})),addSupplier:e=>t(r=>({suppliers:[...r.suppliers,{...e,id:crypto.randomUUID()}]})),updateSupplier:(e,r)=>t(n=>({suppliers:n.suppliers.map(i=>i.id===e?{...i,...r}:i)})),deleteSupplier:e=>t(r=>({suppliers:r.suppliers.filter(n=>n.id!==e)})),addPurchase:e=>t(r=>({purchases:[...r.purchases,{...e,id:crypto.randomUUID()}]})),updatePurchase:(e,r)=>t(n=>({purchases:n.purchases.map(i=>i.id===e?{...i,...r}:i)})),deletePurchase:e=>t(r=>({purchases:r.purchases.filter(n=>n.id!==e)})),resetSession:()=>t({session:null})}),{name:"oyster-cult-storage",partialize:t=>({companyInfo:t.companyInfo,users:t.users,batches:t.batches,theme:t.theme,roles:t.roles,suppliers:t.suppliers,purchases:t.purchases})})),F7=({onShowMobileMenu:t,onToggleNotifications:e,onShowEmergency:r,onEmergencyClick:n,onToggleMessages:i,unreadMessagesCount:s=0})=>{const{unreadCount:o}=ua(),l=is(),c=N0(),u=()=>{c.pathname!=="/dashboard"&&l("/dashboard")};return a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 hidden md:block",children:a.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 md:px-6 lg:px-8 w-full transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.1) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",height:"97px"},children:[a.jsxs("div",{className:"flex items-center h-full",children:[a.jsxs("button",{className:`
              inline-flex items-center justify-center font-medium rounded-lg transition-colors
              text-white/60 hover:text-white hover:bg-white/10
              p-2.5 relative group
              will-change-transform
            `,onClick:t,style:{transform:"translate3d(0,0,0)"},"aria-label":"Ouvrir le menu",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx("div",{style:{width:"24px",height:"24px"},className:"relative flex items-center justify-center",children:a.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[a.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})]}),a.jsx("div",{className:"h-full w-px bg-gradient-to-b from-transparent via-white/10 to-transparent ml-2 hidden md:block",style:{transform:"translate3d(0,0,0)",height:"calc(100% - 16px)",marginTop:"8px",willChange:"transform"}})]}),a.jsx(be.div,{className:"cursor-pointer hidden sm:block",style:{textAlign:"center"},onClick:u,initial:!1,children:a.jsx(be.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:a.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[a.jsx(be.div,{className:"flex items-center justify-center relative mx-8",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:a.jsx("div",{className:"flex flex-col items-center relative",children:a.jsx("div",{style:{width:"4.5rem",height:"4rem",transform:"translateX(2px)"},className:"relative flex items-center justify-center",children:a.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[a.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),a.jsx(be.span,{className:"text-[4rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap"},children:"OYSTER"}),a.jsx(be.span,{className:"text-[4rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"1rem",whiteSpace:"nowrap"},children:"CULT"})]})})}),a.jsx(be.div,{className:"absolute left-1/2 cursor-pointer sm:hidden",style:{transform:"translate3d(-50%, 2px, 0)"},onClick:u,initial:!1,children:a.jsx(be.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:a.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[a.jsx(be.div,{className:"flex items-center justify-center relative mx-2",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:a.jsx("div",{className:"flex flex-col items-center relative",children:a.jsx("div",{style:{width:"2.5rem",height:"2.5rem",transform:"translateX(1px)"},className:"relative flex items-center justify-center",children:a.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[a.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),a.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[a.jsx(be.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:"1"},children:"OYSTER"}),a.jsx(be.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:"1"},children:"CULT"})]})]})})}),a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:i,"aria-label":"Afficher les messages",style:{transform:"translate3d(0,0,0)"},children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-messages-square",children:[a.jsx("path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"}),a.jsx("path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"})]}),s>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-xs font-bold text-white shadow-[0_0_15px_rgba(0,210,255,0.5),0_0_5px_rgba(0,0,0,0.3)_inset] min-w-[20px] min-h-[20px]","aria-label":`${s} messages non lus`,children:s})]}),a.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:e,"aria-label":"Afficher les notifications",style:{transform:"translate3d(0,0,0)"},children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-bell",children:[a.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),a.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),o>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-cyan-500 text-xs font-bold text-white shadow-[0_0_10px_rgba(0,210,255,0.5)]",children:o})]})]})})]})})},B7={Principal:{color:"from-blue-500/30 to-blue-600/10",textColor:"text-blue-300"},"Gestion des stocks":{color:"from-green-500/30 to-green-600/10",textColor:"text-green-300"},Commercial:{color:"from-purple-500/30 to-purple-600/10",textColor:"text-purple-300"},Administration:{color:"from-amber-500/30 to-amber-600/10",textColor:"text-amber-300"},Paramètres:{color:"from-cyan-500/30 to-cyan-600/10",textColor:"text-cyan-300"},Surveillance:{color:"from-red-500/30 to-red-600/10",textColor:"text-red-300"}},Yj=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:a.jsx(h1,{size:22})},{path:"/tasks",label:"Tâches",icon:a.jsx(AI,{size:22})},{path:"/analyses",label:"Analyses",icon:a.jsx(bn,{size:22}),highlight:!0,color:"#0d9488"}]},{category:"Gestion des stocks",items:[{path:"/stocks",label:"Stocks",icon:a.jsx(ui,{size:22}),badge:"Nouveau"},{path:"/traceability",label:"Traçabilité",icon:a.jsx(Lu,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:a.jsx(Id,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:a.jsx(nd,{size:22})},{path:"/purchases",label:"Commandes",icon:a.jsx(_0,{size:22}),color:"#3b82f6"},{path:"/sales",label:"Ventes",icon:a.jsx(Pf,{size:22})},{path:"/shop",label:"Boutique",icon:a.jsx(dC,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:a.jsx(CI,{size:22}),badge:"2 tâches",color:"rgb(160, 38, 72)"},{path:"/hr",label:"Gestion RH",icon:a.jsx(Ci,{size:22}),badge:"2 tâches",color:"rgb(160, 38, 72)"},{path:"/digital-vault",label:"Coffre fort numérique",icon:a.jsx(zm,{size:22}),color:"rgb(56, 189, 248)"},{path:"/profile",label:"Mon Espace",icon:a.jsx(kf,{size:22})}]},{category:"Paramètres",items:[{path:"/config",label:"Configuration",icon:a.jsx(f1,{size:22})}]},{category:"Surveillance",items:[{path:"/surveillance",label:"Surveillance",icon:a.jsx(Oc,{size:22}),ariaLabel:"Accéder à la surveillance vidéo"}]}];function $7({showMobileMenu:t,onCloseMobileMenu:e,onEmergencyClick:r}){const n=N0(),i=is(),{setSession:s}=ua(),[o,l]=T.useState(!1),[c,u]=T.useState(null),[d,h]=T.useState(null),[f,p]=T.useState(!1),[m,x]=T.useState(window.innerWidth<1024),[g,b]=T.useState(!0);T.useEffect(()=>{const E=setTimeout(()=>{b(!1)},300);return()=>clearTimeout(E)},[]),T.useEffect(()=>{const E=()=>{const D=window.innerWidth<1024;x(D),m&&!D&&(l(!1),p(!1),t&&e())};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[m,t,e]);const y=()=>{s(null),i("/auth")},w=()=>{p(!0),l(!o),setTimeout(()=>p(!1),300)},N={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:E=>({opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{delay:E*.03+.1,duration:.3,type:"spring",stiffness:300,damping:25}})},_={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:{opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{opacity:{duration:.3},x:{duration:.2,type:"spring",stiffness:300}}},exit:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap",transition:{opacity:{duration:.2},x:{duration:.2}}}},S={expanded:{width:"260px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"90px",transition:{type:"spring",stiffness:300,damping:30}},mobileHidden:{transform:"translateX(-100%)",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{transform:"translateX(0)",width:"85vw",maxWidth:"300px",transition:{type:"spring",stiffness:400,damping:30}}},A={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.2}}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`
          fixed inset-0 z-40 backdrop-blur-sm bg-black/50 lg:hidden
          ${t?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:e}),a.jsx(be.div,{className:`
          fixed inset-y-0 left-0 z-50 overflow-x-hidden
          transition-all duration-300 ease-in-out rounded-tr-3xl rounded-br-3xl
          ${m?"hidden lg:block":""}
        `,initial:!g,animate:o?"collapsed":"expanded",variants:S,transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs(be.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,transform:"translateY(-10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent opacity-50"}),a.jsx(fr,{mode:"wait",children:o?a.jsx(be.div,{className:"flex items-center justify-center w-full py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):a.jsx(be.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"relative z-10"})})},"expanded-logo")}),a.jsx("div",{className:`flex justify-center ${o?"w-full":""}`,children:a.jsx(be.button,{onClick:w,className:`
                  rounded-lg hidden lg:flex items-center justify-center transition-all duration-300 relative z-10
                  p-2.5 bg-white/15 hover:bg-white/25 border border-white/20
                `,whileHover:{scale:1.1},whileTap:{scale:.95},disabled:f||m,"aria-label":o?"Déplier la barre latérale":"Replier la barre latérale",style:{display:m?"none":""},children:a.jsx("div",{className:"flex items-center",children:o?a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:a.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:a.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})})]}),a.jsx("nav",{className:"flex-1 space-y-2 md:space-y-4 p-3 md:p-4 overflow-y-auto custom-scrollbar",children:Yj.map((E,D)=>{const F=B7[E.category];return a.jsxs(be.div,{className:"mb-8",initial:{opacity:0,transform:"translateY(20px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1+D*.05},onMouseEnter:()=>u(E.category),onMouseLeave:()=>u(null),children:[a.jsx(fr,{children:!o&&a.jsxs(be.div,{className:"px-4 mb-3 relative rounded-lg overflow-hidden",initial:g?{opacity:1,x:0}:"hidden",animate:"visible",exit:"exit",variants:_,whileHover:{scale:1.02},children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${F.color} opacity-0 rounded-lg ${c===E.category?"opacity-30":""} transition-opacity duration-300`}),a.jsx("p",{className:`text-xs font-medium ${F.textColor} uppercase tracking-wider relative z-10 whitespace-nowrap`,children:E.category})]})}),a.jsx("div",{className:"space-y-2",children:E.items.map((k,O)=>{const B=n.pathname===k.path,L=k.color||(F.textColor.includes("blue")?"#3b82f6":F.textColor.includes("green")?"#10b981":F.textColor.includes("purple")?"#8b5cf6":F.textColor.includes("amber")?"#f59e0b":"#06b6d4");return a.jsx(be.div,{custom:O,variants:N,initial:g?{opacity:1,x:0}:"hidden",animate:"visible",whileHover:{scale:1.03,transition:{duration:.2}},onMouseEnter:()=>h(k.path),onMouseLeave:()=>h(null),children:a.jsxs(Mj,{to:k.path,className:`
                              relative flex items-center ${o?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                              transition-all duration-200 ease-in-out overflow-hidden
                              ${B?"bg-white/10 text-white shadow-[0_0_12px_rgba(255,255,255,0.1)]":"text-white/70 hover:bg-white/8 hover:text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.07)]"}
                            `,style:{background:B?"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:B?"rgba(0, 0, 0, 0.3) 0px 4px 8px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset, rgba(0, 0, 0, 0.5) 0px 2px 4px inset, rgba(255, 255, 255, 0.1) 0px 0px 8px":"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset",border:"none",transform:B?"translateY(-1px)":"none"},children:[a.jsx("div",{className:`
                                relative z-10 transition-all duration-200
                                flex items-center justify-center w-7 h-7 rounded-full
                                ${o?"mx-auto":"mr-3"}
                                ${B?"bg-white/15 text-white":"text-white/70 group-hover:text-white"}
                              `,style:{boxShadow:B?"rgba(0, 0, 0, 0.3) 0px 2px 4px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset":"none"},children:k.icon&&re.cloneElement(k.icon,{className:`${o?"w-5 h-5":"w-4 h-4"}`,style:{color:B?L:"",filter:B?"drop-shadow(0 0 2px rgba(255,255,255,0.3))":""}})}),a.jsx(fr,{children:!o&&a.jsxs(be.div,{className:"flex-1 flex items-center justify-between",children:[a.jsx(be.span,{className:`ml-2 md:ml-3 relative z-10 ${B?"font-medium":""} whitespace-nowrap`,variants:A,initial:"hidden",animate:"visible",exit:"hidden",children:k.label}),k.badge&&a.jsx(be.span,{className:"ml-auto bg-brand-burgundy text-white text-xs px-2 py-1 rounded-full",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1},children:k.badge})]})}),o&&a.jsx(fr,{children:d===k.path&&a.jsxs(be.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`
                                      absolute left-14 px-4 py-2 rounded-lg z-50
                                      text-sm font-medium whitespace-nowrap
                                      bg-gradient-to-r 
                                      ${F.color.replace("/30","/70").replace("/10","/40")} 
                                      backdrop-blur-sm border border-white/10
                                    `,style:k.color?{boxShadow:`0 0 10px ${k.color}50`,background:`linear-gradient(to right, ${k.color}30, ${k.color}05)`}:{},children:[a.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 rotate-45",style:{background:k.color?`${k.color}30`:F.textColor.includes("blue")?"rgba(59,130,246,0.3)":F.textColor.includes("green")?"rgba(16,185,129,0.3)":F.textColor.includes("purple")?"rgba(139,92,246,0.3)":F.textColor.includes("amber")?"rgba(245,158,11,0.3)":"rgba(6,182,212,0.3)"}}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-white font-medium",children:k.label}),k.badge&&a.jsx("span",{className:"ml-2 bg-brand-burgundy text-white text-xs px-2 py-0.5 rounded-full",children:k.badge})]})]})}),B&&a.jsx(be.div,{className:"absolute left-0 w-1.5 h-8 rounded-r-md",style:{background:`linear-gradient(to bottom, ${k.color||(F.textColor.includes("blue")?"#3b82f6":F.textColor.includes("green")?"#10b981":F.textColor.includes("purple")?"#8b5cf6":F.textColor.includes("amber")?"#f59e0b":"#06b6d4")}, transparent)`},initial:{height:0},animate:{height:24},transition:{duration:.2}})]})},k.path)})})]},D)})}),a.jsx(be.div,{className:"p-4 border-t border-white/10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs(be.button,{onClick:r,className:`
                  flex items-center ${o?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  relative group w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},style:{background:"linear-gradient(135deg, rgba(220, 38, 38, 0.95) 0%, rgba(185, 28, 28, 0.85) 100%)",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.35), inset 0 1px 3px rgba(255, 255, 255, 0.2)"},"aria-label":"Appel d'urgence",children:[a.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${o?"mx-auto":"mr-3"}
                  bg-white/15 text-white
                `,children:a.jsx(Ei,{className:"w-4 h-4"})}),!o&&a.jsx("span",{className:"font-medium",children:"Appel d'urgence"})]}),a.jsxs(be.button,{onClick:y,className:`
                  flex items-center ${o?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  bg-white/10 hover:bg-white/15 text-white/80 hover:text-white w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},"aria-label":"Se déconnecter",children:[a.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${o?"mx-auto":"mr-3"}
                  text-white/70 group-hover:text-white
                `,children:a.jsx(Lj,{className:"w-4 h-4"})}),!o&&a.jsx("span",{className:"font-medium",children:"Déconnexion"})]})]})})]})}),t&&a.jsx(be.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"fixed inset-0 z-50 bg-black/70 lg:hidden",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:a.jsx("div",{className:"absolute inset-y-0 left-0 w-full max-w-xs",children:a.jsx(be.div,{className:"h-full overflow-y-auto rounded-tr-3xl rounded-br-3xl",initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/10",children:[a.jsxs("div",{className:"text-white flex items-center",children:[a.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"OYSTER"}),a.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"0.5rem",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"CULT"})]}),a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 text-white flex items-center justify-center",children:a.jsx(vt,{className:"w-6 h-6"})})]}),a.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:Yj.map((E,D)=>a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-xs font-medium text-white/70 uppercase tracking-wider px-4 mb-2",children:E.category}),a.jsx("div",{className:"space-y-1",children:E.items.map(F=>{const k=n.pathname===F.path;return a.jsxs(Mj,{to:F.path,className:`
                                flex items-center px-4 py-3 rounded-lg text-sm
                                ${k?"bg-white/20 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                              `,onClick:e,children:[F.icon&&re.cloneElement(F.icon,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:F.label})]},F.path)})})]},D))}),a.jsxs("div",{className:"p-4 pt-2 border-t border-white/10 space-y-3",children:[a.jsxs("button",{onClick:()=>{r(),e()},className:"flex items-center justify-center w-full px-4 py-3 bg-red-600 rounded-lg text-white",children:[a.jsx(Ei,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Appel d'urgence"})]}),a.jsxs("button",{onClick:y,className:"flex items-center justify-center w-full px-4 py-3 bg-white/10 rounded-lg text-white",children:[a.jsx(Lj,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:"Déconnexion"})]})]})]})})})})]})}function zn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function bl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function z7(t,e){const r=zn(t);return isNaN(e)?bl(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const zC=6048e5,U7=864e5,H7=36e5;let q7={};function v1(){return q7}function ad(t,e){var l,c,u,d;const r=v1(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=zn(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function qm(t){return ad(t,{weekStartsOn:1})}function UC(t){const e=zn(t),r=e.getFullYear(),n=bl(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=qm(n),s=bl(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=qm(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Wm(t){const e=zn(t);return e.setHours(0,0,0,0),e}function Kj(t){const e=zn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function W7(t,e){const r=Wm(t),n=Wm(e),i=+r-Kj(r),s=+n-Kj(n);return Math.round((i-s)/U7)}function V7(t){const e=UC(t),r=bl(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),qm(r)}function HC(t,e){const r=e*7;return z7(t,r)}function G7(t,e){const r=Wm(t),n=Wm(e);return+r==+n}function X7(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Y7(t){if(!X7(t)&&typeof t!="number")return!1;const e=zn(t);return!isNaN(Number(e))}function K7(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function J7(t,e){return+zn(t)-+zn(e)}function Z7(t,e,r){const n=J7(t,e)/H7;return K7(r==null?void 0:r.roundingMethod)(n)}function Q7(t,e){const r=zn(t.start),n=zn(t.end);let i=+r>+n;const s=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=s;)c.push(zn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function eM(t){const e=zn(t),r=bl(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function tM(t,e){const r=e==null?void 0:e.weekStartsOn,n=zn(t),i=n.getDay(),s=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+s),n.setHours(23,59,59,999),n}const rM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nM=(t,e,r)=>{let n;const i=rM[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Yu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const iM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oM={date:Yu({formats:iM,defaultWidth:"full"}),time:Yu({formats:aM,defaultWidth:"full"}),dateTime:Yu({formats:sM,defaultWidth:"full"})},lM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cM=(t,e,r,n)=>lM[t];function js(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const uM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xM=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gM={ordinalNumber:xM,era:js({values:uM,defaultWidth:"wide"}),quarter:js({values:dM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:js({values:hM,defaultWidth:"wide"}),day:js({values:fM,defaultWidth:"wide"}),dayPeriod:js({values:pM,defaultWidth:"wide",formattingValues:mM,defaultFormattingWidth:"wide"})};function Ns(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?bM(l,h=>h.test(o)):vM(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function vM(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function bM(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function qC(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const yM=/^(\d+)(th|st|nd|rd)?/i,wM=/\d+/i,jM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NM={any:[/^b/i,/^(a|c)/i]},_M={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SM={any:[/1/i,/2/i,/3/i,/4/i]},AM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TM={ordinalNumber:qC({matchPattern:yM,parsePattern:wM,valueCallback:t=>parseInt(t,10)}),era:Ns({matchPatterns:jM,defaultMatchWidth:"wide",parsePatterns:NM,defaultParseWidth:"any"}),quarter:Ns({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:SM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ns({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:CM,defaultParseWidth:"any"}),day:Ns({matchPatterns:EM,defaultMatchWidth:"wide",parsePatterns:OM,defaultParseWidth:"any"}),dayPeriod:Ns({matchPatterns:PM,defaultMatchWidth:"any",parsePatterns:kM,defaultParseWidth:"any"})},IM={code:"en-US",formatDistance:nM,formatLong:oM,formatRelative:cM,localize:gM,match:TM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DM(t){const e=zn(t);return W7(e,eM(e))+1}function MM(t){const e=zn(t),r=+qm(e)-+V7(e);return Math.round(r/zC)+1}function WC(t,e){var d,h,f,p;const r=zn(t),n=r.getFullYear(),i=v1(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=bl(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=ad(o,e),c=bl(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=ad(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function LM(t,e){var l,c,u,d;const r=v1(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=WC(t,e),s=bl(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ad(s,e)}function RM(t,e){const r=zn(t),n=+ad(r,e)-+LM(r,e);return Math.round(n/zC)+1}function sr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ho={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return sr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):sr(r+1,2)},d(t,e){return sr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return sr(t.getHours()%12||12,e.length)},H(t,e){return sr(t.getHours(),e.length)},m(t,e){return sr(t.getMinutes(),e.length)},s(t,e){return sr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return sr(i,e.length)}},mu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jj={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ho.y(t,e)},Y:function(t,e,r,n){const i=WC(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return sr(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):sr(s,e.length)},R:function(t,e){const r=UC(t);return sr(r,e.length)},u:function(t,e){const r=t.getFullYear();return sr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return sr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return sr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ho.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return sr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=RM(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):sr(i,e.length)},I:function(t,e,r){const n=MM(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):sr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ho.d(t,e)},D:function(t,e,r){const n=DM(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):sr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return sr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return sr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return sr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=mu.noon:n===0?i=mu.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=mu.evening:n>=12?i=mu.afternoon:n>=4?i=mu.morning:i=mu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ho.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ho.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ho.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ho.s(t,e)},S:function(t,e){return Ho.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Qj(n);case"XXXX":case"XX":return Yl(n);case"XXXXX":case"XXX":default:return Yl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Qj(n);case"xxxx":case"xx":return Yl(n);case"xxxxx":case"xxx":default:return Yl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Zj(n,":");case"OOOO":default:return"GMT"+Yl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Zj(n,":");case"zzzz":default:return"GMT"+Yl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return sr(n,e.length)},T:function(t,e,r){const n=t.getTime();return sr(n,e.length)}};function Zj(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+sr(s,2)}function Qj(t,e){return t%60===0?(t>0?"-":"+")+sr(Math.abs(t)/60,2):Yl(t,e)}function Yl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=sr(Math.trunc(n/60),2),s=sr(n%60,2);return r+i+e+s}const eN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},VC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FM=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return eN(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",eN(n,e)).replace("{{time}}",VC(i,e))},BM={p:VC,P:FM},$M=/^D+$/,zM=/^Y+$/,UM=["D","DD","YY","YYYY"];function HM(t){return $M.test(t)}function qM(t){return zM.test(t)}function WM(t,e,r){const n=VM(t,e,r);if(console.warn(n),UM.includes(t))throw new RangeError(n)}function VM(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YM=/^'([^]*?)'?$/,KM=/''/g,JM=/[a-zA-Z]/;function It(t,e,r){var d,h,f,p,m,x,g,b;const n=v1(),i=(r==null?void 0:r.locale)??n.locale??IM,s=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,l=zn(t);if(!Y7(l))throw new RangeError("Invalid time value");let c=e.match(XM).map(y=>{const w=y[0];if(w==="p"||w==="P"){const N=BM[w];return N(y,i.formatLong)}return y}).join("").match(GM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:ZM(y)};if(Jj[w])return{isToken:!0,value:y};if(w.match(JM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&qM(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&HM(w))&&WM(w,e,String(t));const N=Jj[w[0]];return N(l,w,i.localize,u)}).join("")}function ZM(t){const e=t.match(YM);return e?e[1].replace(KM,"'"):t}function QM(t,e){return HC(t,-e)}const eL={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},tL=(t,e,r)=>{let n;const i=eL[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},rL={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},nL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},iL={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aL={date:Yu({formats:rL,defaultWidth:"full"}),time:Yu({formats:nL,defaultWidth:"full"}),dateTime:Yu({formats:iL,defaultWidth:"full"})},sL={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},oL=(t,e,r,n)=>sL[t],lL={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},cL={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},uL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},dL={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},hL={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},fL=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},pL=["MMM","MMMM"],mL={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&pL.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:fL,era:js({values:lL,defaultWidth:"wide"}),quarter:js({values:cL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:js({values:uL,defaultWidth:"wide"}),day:js({values:dL,defaultWidth:"wide"}),dayPeriod:js({values:hL,defaultWidth:"wide"})},xL=/^(\d+)(ième|ère|ème|er|e)?/i,gL=/\d+/i,vL={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},bL={any:[/^av/i,/^ap/i]},yL={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},wL={any:[/1/i,/2/i,/3/i,/4/i]},jL={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},NL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},_L={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},SL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},AL={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},CL={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},EL={ordinalNumber:qC({matchPattern:xL,parsePattern:gL,valueCallback:t=>parseInt(t)}),era:Ns({matchPatterns:vL,defaultMatchWidth:"wide",parsePatterns:bL,defaultParseWidth:"any"}),quarter:Ns({matchPatterns:yL,defaultMatchWidth:"wide",parsePatterns:wL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ns({matchPatterns:jL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),day:Ns({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:SL,defaultParseWidth:"any"}),dayPeriod:Ns({matchPatterns:AL,defaultMatchWidth:"any",parsePatterns:CL,defaultParseWidth:"any"})},Nr={code:"fr",formatDistance:tL,formatLong:aL,formatRelative:oL,localize:mL,match:EL,options:{weekStartsOn:1,firstWeekContainsDate:4}},OL=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function PL({onClose:t}){const{notifications:e,markAsRead:r,markAllAsRead:n,addNotification:i}=ua(),[s,o]=T.useState("all"),[l,c]=T.useState(""),[u,d]=T.useState(!1);T.useState(null);const h=T.useMemo(()=>e.filter(x=>!x.read).length,[e]);T.useEffect(()=>{const x=g=>{g.key==="Escape"&&t()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t]),T.useEffect(()=>{const x=g=>{const b=document.querySelector(".notifications-panel"),y=document.querySelector('[data-notification-bell="true"]');y&&y.contains(g.target)||b&&!b.contains(g.target)&&t()};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[t]);const f=x=>{r(x)},p=(x,g)=>{g.stopPropagation();const b=e.find(y=>y.id===x);b&&(i({type:b.type,title:b.title,message:b.message,important:!b.important,category:b.category,metadata:b.metadata}),r(x))},m=(x,g)=>{g.stopPropagation(),r(x)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50",onClick:t,"aria-hidden":"true"}),a.jsx(be.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md backdrop-blur-md shadow-2xl z-[51] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(5, 20, 43, 0.92) 0%, rgba(10, 120, 115, 0.88) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) -10px 0px 30px -5px, rgba(0, 0, 0, 0.3) -5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs(be.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Tf,{size:24,className:"text-brand-burgundy"}),h>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:h})]}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!u),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:a.jsx(Vr,{size:20})}),a.jsx(be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:a.jsx(vt,{size:20})})]})]}),a.jsx(fr,{children:u&&a.jsx(be.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsxs("div",{className:"relative mt-4",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx("div",{className:"flex space-x-2",children:OL.map(x=>a.jsx(be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(x.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${s===x.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:x.label},x.value))}),a.jsx(be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:a.jsx(fr,{mode:"popLayout",children:e.filter(x=>s==="unread"?!x.read:s==="important"?x.important:!0).filter(x=>l?x.title.toLowerCase().includes(l.toLowerCase())||x.message.toLowerCase().includes(l.toLowerCase()):!0).map((x,g)=>a.jsx(be.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:g*.05},className:`p-4 transition-colors relative cursor-pointer hover:bg-white/10 ${x.read?"bg-transparent":"bg-white/5 shadow-[0_0_15px_rgba(0,210,255,0.2),0_0_8px_rgba(0,0,0,0.2)_inset] border border-cyan-400/40 hover:border-cyan-400/60 rounded-xl"}`,onClick:()=>f(x.id),tabIndex:0,role:"button","aria-label":`Notification: ${x.title}. ${x.read?"Lu":"Non lu"}`,onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&f(x.id)},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x.type==="alert"?"bg-red-500/20":x.type==="success"?"bg-green-500/20":x.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:x.type==="alert"?a.jsx(di,{className:"text-red-400",size:20}):x.type==="success"?a.jsx(yc,{className:"text-green-400",size:20}):x.type==="warning"?a.jsx(di,{className:"text-yellow-400",size:20}):a.jsx(Tf,{className:"text-blue-400",size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${x.type==="alert"?"text-red-400":x.type==="success"?"text-green-400":x.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:x.title}),a.jsx("p",{className:"text-sm text-white/70 mt-1",children:x.message})]})}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hi,{size:14,className:"mr-1"}),It(new Date(x.timestamp),"PPp",{locale:Nr})]}),x.important&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"•"}),a.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),a.jsxs("div",{className:"flex space-x-1",children:[x.read?a.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-transparent text-white/40 hover:text-white/60 transition-colors rounded-full hover:bg-white/5","aria-label":"Déjà lu",title:"Déjà lu",children:a.jsx(Ub,{size:16})}):a.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),f(x.id)},className:"p-2 bg-brand-burgundy/20 text-white/80 hover:text-white transition-colors rounded-full hover:bg-brand-burgundy/40","aria-label":"Marquer comme lu",title:"Marquer comme lu",children:a.jsx(Ub,{size:16})}),a.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-full ${x.important?"bg-brand-burgundy/20 text-brand-burgundy hover:bg-brand-burgundy/40":"bg-transparent text-white/40 hover:text-white/60 hover:bg-white/5"}`,onClick:b=>p(x.id,b),"aria-label":x.important?"Retirer des importants":"Marquer comme important",title:x.important?"Retirer des importants":"Marquer comme important",children:a.jsx(Pa,{size:16})}),a.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b=>m(x.id,b),className:"p-2 bg-transparent text-white/40 hover:text-red-400 transition-colors rounded-full hover:bg-white/5","aria-label":"Supprimer",title:"Supprimer",children:a.jsx(Zn,{size:16})})]})]})},x.id))})})]})})]})}const E0=t=>{const e=T.useRef(null);return T.useEffect(()=>{const r=i=>{e.current&&!e.current.contains(i.target)&&t()},n=setTimeout(()=>{document.addEventListener("mousedown",r)},100);return()=>{clearTimeout(n),document.removeEventListener("mousedown",r)}},[t]),e},kL=(t,e)=>{const[r,n]=T.useState(0),[i,s]=T.useState(0),[o,l]=T.useState(0),[c,u]=T.useState(!1);return{handlers:{onTouchStart:p=>{n(p.touches[0].clientY),s(Date.now())},onTouchMove:async p=>{if(c)return;const x=p.touches[0].clientY-r,g=Date.now()-i;if(x>100&&g<300&&t){u(!0);try{await t()}finally{u(!1)}}},onTouchEnd:p=>{const m=Date.now();m-o<300&&e&&e(),l(m)}},isRefreshing:c}},TL={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function oa({isOpen:t,onClose:e,children:r,title:n,size:i="md",showCloseButton:s=!0,className:o=""}){const l=E0(e);return T.useEffect(()=>{const c=u=>{u.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),a.jsx(fr,{children:t&&a.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:a.jsxs(be.div,{ref:l,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`w-full ${TL[i]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${o}`,children:[(n||s)&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n&&a.jsx("h2",{className:"text-xl font-bold text-white",children:n}),s&&a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsx("div",{className:"p-6",children:r})]})})})]})})}function IL({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(""),[o,l]=T.useState(""),[c,u]=T.useState(8),[d,h]=T.useState(!0),[f,p]=T.useState(!1),[m,x]=T.useState(!1),g=[{id:"accident",label:"Accident de travail"},{id:"equipment",label:"Panne critique"},{id:"environmental",label:"Incident environnemental"},{id:"security",label:"Problème de sécurité"},{id:"boatIssue",label:"Panne en mer"}],b=[{name:"SAMU",number:"15",type:"medical"},{name:"Pompiers",number:"18",type:"fire"},{name:"Police",number:"17",type:"security"},{name:"Numéro d'urgence européen",number:"112",type:"all"},{name:"CROSS",number:"196",type:"sea"}];T.useEffect(()=>{let S;return t&&d&&c>0?S=setTimeout(()=>{u(A=>A-1)},1e3):c===0&&(x(!0),h(!1)),()=>{S&&clearTimeout(S)}},[t,c,d]),T.useEffect(()=>{t&&(u(8),h(!0),p(!1),x(!1))},[t]);const y=T.useCallback(()=>{h(!1),p(!0)},[]),w=T.useCallback(()=>{x(!0),n("boatIssue")},[]),N=T.useCallback(()=>{x(!0)},[]),_=T.useCallback(()=>{x(!1),e()},[e]);return m?a.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:r==="boatIssue"?a.jsx(EI,{className:"text-red-600 h-12 w-12"}):a.jsx(di,{className:"text-red-600 h-12 w-12"})}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:r==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),a.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:r==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),a.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Oi,{className:"text-white mr-3",size:24}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),a.jsx("p",{className:"text-white/70",children:o||"Position GPS transmise automatiquement"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(hi,{className:"text-white mr-3",size:24}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),a.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),a.jsx("button",{onClick:_,className:"px-8 py-3 bg-white text-red-600 rounded-lg font-bold hover:bg-white/90 transition-colors",children:"Fermer"})]}):a.jsx(oa,{isOpen:t,onClose:e,title:"Appel d'Urgence",size:"xl",showCloseButton:!1,className:"!bg-gradient-to-br !from-red-900/95 !to-brand-dark/95",children:a.jsxs("div",{className:"space-y-6",children:[d&&a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("p",{className:"text-white text-lg mb-2",children:"Appel automatique dans :"}),a.jsx("div",{className:"flex justify-center items-center mb-4",children:a.jsx("div",{className:"flex items-center justify-center bg-red-500 text-white w-16 h-16 rounded-full text-3xl font-bold",children:c})}),a.jsx("button",{onClick:y,className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Arrêter le compte à rebours"})]}),f&&a.jsx("div",{className:"mb-6 p-4 border border-red-500/30 rounded-lg bg-red-500/10",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(OI,{className:"text-red-500 mr-3 mt-1",size:24}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"En panne en mer ?"}),a.jsx("p",{className:"text-white/70 mb-4",children:"Vous êtes en panne en mer avec votre bateau ? Cliquez ici pour envoyer un appel d'aide immédiat. Une notification sera envoyée aux producteurs à proximité, et quelqu'un viendra rapidement vous prêter main forte."}),a.jsx("button",{onClick:w,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Je suis en panne"})]})]})}),a.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Numéros d'urgence"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map(S=>a.jsxs("a",{href:`tel:${S.number}`,className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx(Ei,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:S.name}),a.jsx("div",{className:"text-red-400 text-lg font-bold",children:S.number})]})]},S.number))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type d'urgence"}),a.jsxs("select",{value:r,onChange:S=>n(S.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[a.jsx("option",{value:"",children:"Sélectionner le type d'urgence"}),g.map(S=>a.jsx("option",{value:S.id,children:S.label},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description de l'urgence"}),a.jsx("textarea",{value:i,onChange:S=>s(S.target.value),rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Décrivez la situation d'urgence..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Localisation"}),a.jsxs("div",{className:"relative",children:[a.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Précisez l'emplacement..."})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Signaler l'urgence"})]})]})})}function qt({variant:t="primary",size:e="md",fullWidth:r=!1,className:n="",children:i,...s}){const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors",l={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return a.jsx("button",{...s,className:`
        ${o}
        ${l[t]}
        ${c[e]}
        ${r?"w-full":""}
        ${n}
      `,children:i})}function DL(){const[t,e]=T.useState([]);return a.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:a.jsx(fr,{children:t.map(r=>a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold",children:r.title}),a.jsx(qt,{variant:"ghost",size:"sm",onClick:()=>{e(n=>n.filter(i=>i.id!==r.id))},children:a.jsx(vt,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.message})]},r.id))})})}const ML=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function LL(){const[t,e]=T.useState(ML),[r,n]=T.useState(0);return T.useEffect(()=>{const o=t.reduce((l,c)=>l+(c.unreadCount||0),0);n(o)},[t]),{contacts:t,totalUnreadCount:r,markAsRead:o=>{e(l=>l.map(c=>c.id===o?{...c,unreadCount:0}:c))},addMessage:(o,l,c=!1)=>{e(u=>u.map(d=>d.id===o?{...d,lastMessage:l,lastMessageTime:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),unreadCount:c?d.unreadCount||0:(d.unreadCount||0)+1}:d))}}}const tN={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},Bp={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function RL(){const t=is(),[e,r]=T.useState(!1),n=()=>{r(!0)},i=s=>{s.preventDefault(),localStorage.setItem("isAuthenticated","true"),t("/dashboard")};return a.jsxs("div",{className:"auth-background",children:[a.jsx("div",{className:"wave-loading"}),a.jsx("div",{className:"wave-container",children:a.jsx("div",{className:"wave"})}),a.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-4",children:[a.jsxs(be.div,{initial:"hidden",animate:"visible",variants:tN,className:"text-center max-w-5xl mx-auto px-4 mb-8",children:[a.jsx(be.div,{variants:Bp,className:"text-center",children:a.jsx(be.div,{className:"flex items-center justify-center",children:a.jsx("div",{className:"flex flex-col items-center justify-center",children:a.jsxs(be.h1,{variants:Bp,className:"flex flex-col items-center text-white whitespace-nowrap",children:[a.jsx("div",{className:"flex flex-col items-center",children:a.jsx("span",{className:"text-[10rem] md:text-[12rem]",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.08em",display:"block",lineHeight:"0.8"},children:"OYSTER"})}),a.jsx("span",{className:"text-[3rem] md:text-[4rem] mt-4",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.2em"},children:"CULT"})]})})})}),a.jsx(be.p,{variants:Bp,className:"mt-8 text-xl text-white/80 max-w-2xl mx-auto",children:"Bienvenue dans votre espace de gestion"})]},"logo"),a.jsxs(be.div,{variants:tN,initial:"hidden",animate:"visible",className:"w-full max-w-md",children:[a.jsx(be.button,{variants:Bp,onClick:n,className:`w-full px-8 py-4 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 rounded-xl text-white font-medium transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg backdrop-blur-sm ${e?"scale-0 h-0 opacity-0 mt-0 mb-0":""}`,children:"Connexion"}),a.jsx("div",{className:`auth-form-container ${e?"visible":""}`,children:a.jsx("div",{className:"auth-form bg-white/10 backdrop-blur-sm",children:a.jsxs("form",{onSubmit:i,className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-light text-white mb-6 text-center tracking-wide",children:"Pour les pros, par les pros."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"auth-input bg-white/5",defaultValue:"demo@oystercult.com",readOnly:!0,"aria-label":"Email de démonstration"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Mot de passe"}),a.jsx("input",{type:"password",className:"auth-input bg-white/5",defaultValue:"demo123",readOnly:!0,"aria-label":"Mot de passe de démonstration"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 rounded-xl text-white font-medium transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg backdrop-blur-sm",children:"Se connecter"})]})})})]})]})]})}const Ur={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9}],dailyForecast:[{day:"Demain",condition:"sunny",tempMin:16,tempMax:21,windSpeed:12,windDirection:45,waveHeight:.5},{day:"Mercredi",condition:"partly-cloudy",tempMin:15,tempMax:19,windSpeed:14,windDirection:90,waveHeight:.6},{day:"Jeudi",condition:"rainy",tempMin:14,tempMax:17,windSpeed:18,windDirection:135,waveHeight:.7},{day:"Vendredi",condition:"cloudy",tempMin:15,tempMax:20,windSpeed:10,windDirection:225,waveHeight:.5}]},gv=t=>{const e=["N","NE","E","SE","S","SO","O","NO"],r=Math.round(t/45)%8;return e[r]},Rh=({condition:t})=>{switch(t){case"sunny":return a.jsx(Um,{className:"w-12 h-12 text-yellow-400"});case"cloudy":return a.jsx(Vb,{className:"w-12 h-12 text-white/60"});case"rainy":return a.jsx(hC,{className:"w-12 h-12 text-blue-400"});case"partly-cloudy":return a.jsxs("div",{className:"relative",children:[a.jsx(Um,{className:"w-12 h-12 text-yellow-400"}),a.jsx(Vb,{className:"w-8 h-8 text-white/60 absolute -bottom-2 -right-2"})]})}},$p=({title:t,icon:e,children:r,className:n})=>{const[i,s]=re.useState(!1),[o,l]=re.useState(!1);return re.useEffect(()=>{const c=()=>{const u=window.innerWidth<=768;l(u)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]),a.jsxs(be.div,{className:`
        ${o?"":"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]"}
        ${o?"":"-webkit-backdrop-filter backdrop-filter backdrop-blur-[20px]"}
        rounded-lg p-4 
        ${o?"":"shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]"}
        transition-all duration-200 relative overflow-hidden
        ${o?"":i?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
        ${n||""}
      `,onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),whileHover:{y:-4,transition:{duration:.2}},children:[a.jsx(be.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.05)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:i?1:0},transition:{duration:.2}}),a.jsxs("div",{className:"flex items-center space-x-3 mb-3 relative z-10",children:[a.jsx("div",{className:"text-cyan-400",children:e}),a.jsx("h3",{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium whitespace-nowrap",children:t})]}),a.jsx("div",{className:"relative z-10",children:r})]})};function FL(){return a.jsx("div",{className:"weather-widget-container w-full",style:{width:"100%",margin:0,padding:0,position:"relative",boxSizing:"border-box"},children:a.jsxs("div",{className:"weather-widget w-full flex flex-col glass-effect rounded-xl p-5",style:{width:"100%",maxWidth:"100%",margin:0,boxSizing:"border-box"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 w-full",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(gl,{size:20,className:"text-cyan-400 mr-2"})}),a.jsx("h2",{className:"text-lg font-medium bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent whitespace-nowrap",children:"Météo & Conditions Maritimes Actuelles"})]}),a.jsx("h1",{className:"text-2xl font-bold text-cyan-300 absolute left-1/2 transform -translate-x-1/2",children:"Bouzigues"}),a.jsx("div",{className:"text-sm text-white/60 whitespace-nowrap",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]}),a.jsxs("div",{className:"hidden md:grid md:grid-cols-4 md:gap-4 md:mb-6",children:[a.jsxs($p,{title:"Température",icon:a.jsx(gl,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"text-3xl font-bold text-white",children:[Ur.temperature,"°"]}),a.jsx("div",{className:"text-white/60 ml-2",children:"C"})]}),a.jsx("div",{className:"text-white/60 mt-1",children:"Ressenti 19°C"}),a.jsxs("div",{className:"flex items-center mt-3",children:[a.jsx(li,{size:16,className:"text-cyan-400 mr-2"}),a.jsxs("span",{className:"text-white/80",children:["Humidité ",Ur.humidity,"%"]})]})]}),a.jsxs($p,{title:"Vent",icon:a.jsx(sf,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:Ur.windSpeed}),a.jsx("div",{className:"text-white/60 ml-1",children:"km/h"})]}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Fi,{size:16,className:"text-cyan-400 mr-2",style:{transform:`rotate(${Ur.windDirection}deg)`}}),a.jsx("span",{className:"text-white/80",children:gv(Ur.windDirection)})]}),a.jsxs("div",{className:"text-sm text-white/60",children:["Rafales jusqu'à ",Ur.windGust," km/h"]})]}),a.jsxs($p,{title:"Mer",icon:a.jsx(vn,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:Ur.waveHeight}),a.jsx("div",{className:"text-white/60 ml-1",children:"mètres"})]}),a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Hb,{className:"text-cyan-400 mr-2",size:16}),a.jsx("span",{className:"text-white/80",children:gv(Ur.waveDirection)})]}),a.jsx("div",{className:"text-sm text-white/60",children:"Température de l'eau: 16°C"})]}),a.jsx($p,{title:"Marées",icon:a.jsx(Hb,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(qb,{size:16,className:"text-cyan-400 mr-2"}),a.jsx("span",{className:"text-white/80",children:"Marée haute"})]}),a.jsx("div",{className:"text-white font-medium",children:Ur.nextHighTide})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wb,{size:16,className:"text-cyan-400 mr-2"}),a.jsx("span",{className:"text-white/80",children:"Marée basse"})]}),a.jsx("div",{className:"text-white font-medium",children:Ur.nextLowTide})]})]})})]}),a.jsxs("div",{className:"border-t border-white/10 p-6 relative",children:[a.jsx("h3",{className:"text-white font-medium mb-4",children:"Prévisions horaires"}),a.jsx("div",{className:"forecast-container",children:a.jsx("div",{className:"forecast-scroll-container hide-scrollbar",children:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9},{time:"00:00",temp:15,windSpeed:14,windDirection:300,waveHeight:.7},{time:"03:00",temp:14,windSpeed:12,windDirection:290,waveHeight:.6},{time:"06:00",temp:15,windSpeed:10,windDirection:280,waveHeight:.5},{time:"09:00",temp:16,windSpeed:12,windDirection:270,waveHeight:.4}].map((t,e)=>a.jsxs("div",{className:"forecast-item bg-white/5 rounded-lg p-3 shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[a.jsx("div",{className:"text-sm text-white/60 mb-2",children:t.time}),a.jsxs("div",{className:"text-lg font-medium text-white mb-2",children:[t.temp,"°C"]}),a.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fi,{className:"w-4 h-4 text-brand-burgundy mr-1",style:{transform:`rotate(${t.windDirection}deg)`}}),a.jsxs("span",{children:[t.windSpeed," km/h"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(vn,{className:"w-4 h-4 text-brand-burgundy mr-1"}),a.jsxs("span",{children:[t.waveHeight,"m"]})]})]})]},e))})})]}),a.jsxs("div",{className:"border-t border-white/10 p-6 relative",children:[a.jsx("h3",{className:"text-white font-medium mb-4",children:"Prévisions des prochains jours"}),a.jsx("div",{className:"forecast-container",children:a.jsxs("div",{className:"forecast-scroll-container hide-scrollbar overflow-x-auto",children:[Ur.dailyForecast.map((t,e)=>a.jsxs("div",{className:"forecast-item bg-white/5 rounded-lg p-3 shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[a.jsx("div",{className:"text-sm text-white/60 mb-2",children:t.day}),a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Rh,{condition:t.condition})}),a.jsxs("div",{className:"text-lg font-medium text-white mb-2",children:[t.tempMin,"° - ",t.tempMax,"°"]}),a.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fi,{className:"w-4 h-4 text-brand-burgundy mr-1",style:{transform:`rotate(${t.windDirection}deg)`}}),a.jsxs("span",{children:[t.windSpeed," km/h"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(vn,{className:"w-4 h-4 text-brand-burgundy mr-1"}),a.jsxs("span",{children:[t.waveHeight||"0.5","m"]})]})]})]},e)),a.jsxs("div",{className:"forecast-item bg-white/5 rounded-lg p-3 shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[a.jsx("div",{className:"text-sm text-white/60 mb-2",children:"Samedi"}),a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Rh,{condition:"sunny"})}),a.jsx("div",{className:"text-lg font-medium text-white mb-2",children:"21° - 26°"}),a.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fi,{className:"w-4 h-4 text-brand-burgundy mr-1",style:{transform:"rotate(240deg)"}}),a.jsx("span",{children:"10 km/h"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(vn,{className:"w-4 h-4 text-brand-burgundy mr-1"}),a.jsx("span",{children:"0.5m"})]})]})]}),a.jsxs("div",{className:"forecast-item bg-white/5 rounded-lg p-3 shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[a.jsx("div",{className:"text-sm text-white/60 mb-2",children:"Dimanche"}),a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Rh,{condition:"partly-cloudy"})}),a.jsx("div",{className:"text-lg font-medium text-white mb-2",children:"19° - 24°"}),a.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fi,{className:"w-4 h-4 text-brand-burgundy mr-1",style:{transform:"rotate(225deg)"}}),a.jsx("span",{children:"12 km/h"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(vn,{className:"w-4 h-4 text-brand-burgundy mr-1"}),a.jsx("span",{children:"0.6m"})]})]})]}),a.jsxs("div",{className:"forecast-item bg-white/5 rounded-lg p-3 shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[a.jsx("div",{className:"text-sm text-white/60 mb-2",children:"Lundi"}),a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Rh,{condition:"cloudy"})}),a.jsx("div",{className:"text-lg font-medium text-white mb-2",children:"18° - 22°"}),a.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fi,{className:"w-4 h-4 text-brand-burgundy mr-1",style:{transform:"rotate(180deg)"}}),a.jsx("span",{children:"15 km/h"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(vn,{className:"w-4 h-4 text-brand-burgundy mr-1"}),a.jsx("span",{children:"0.7m"})]})]})]})]})})]}),a.jsxs("div",{className:"md:hidden flex flex-col space-y-4 w-full",style:{width:"100%",maxWidth:"100%",margin:0,padding:0,boxSizing:"border-box"},children:[a.jsxs("div",{className:"mobile-weather-main w-full glass-effect rounded-xl p-3",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[a.jsxs("div",{className:"mobile-weather-header w-full",children:[a.jsxs("div",{className:"mobile-current-temp",children:[Ur.temperature,"°C"]}),a.jsx(Rh,{condition:Ur.conditions})]}),a.jsxs("div",{className:"mobile-weather-details w-full",children:[a.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Conditions de vent",title:"Conditions de vent",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(sf,{size:20,className:"mobile-weather-detail-icon"})}),a.jsx("div",{className:"mobile-weather-detail-label",children:"Vent"}),a.jsxs("div",{className:"mobile-weather-detail-value",children:[Ur.windSpeed," km/h"]})]}),a.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Niveau d'humidité",title:"Niveau d'humidité",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(li,{size:20,className:"mobile-weather-detail-icon"})}),a.jsx("div",{className:"mobile-weather-detail-label",children:"Humidité"}),a.jsxs("div",{className:"mobile-weather-detail-value",children:[Ur.humidity,"%"]})]}),a.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Hauteur des vagues",title:"Hauteur des vagues",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(vn,{size:20,className:"mobile-weather-detail-icon"})}),a.jsx("div",{className:"mobile-weather-detail-label",children:"Vagues"}),a.jsxs("div",{className:"mobile-weather-detail-value",children:[Ur.waveHeight," m"]})]})]}),a.jsx("div",{className:"mobile-weather-status",children:"Partiellement nuageux"})]}),a.jsxs("div",{className:"w-full flex flex-wrap justify-center",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[a.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[a.jsxs("div",{className:"mobile-weather-card-header",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(vn,{size:20,className:"mobile-weather-card-icon"})}),a.jsx("div",{className:"mobile-weather-card-title",children:"Marées"})]}),a.jsxs("div",{className:"mobile-weather-card-content",children:[a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(qb,{size:16,className:"text-brand-burgundy"})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Haute"}),a.jsx("div",{className:"mobile-weather-card-value",children:Ur.nextHighTide})]}),a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(Wb,{size:16,className:"text-brand-burgundy"})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Basse"}),a.jsx("div",{className:"mobile-weather-card-value",children:Ur.nextLowTide})]})]})]}),a.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[a.jsxs("div",{className:"mobile-weather-card-header",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(sf,{size:20,className:"mobile-weather-card-icon"})}),a.jsx("div",{className:"mobile-weather-card-title",children:"Vent"})]}),a.jsxs("div",{className:"mobile-weather-card-content",children:[a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(Fi,{size:16,className:"text-brand-burgundy",style:{transform:`rotate(${Ur.windDirection}deg)`}})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Direction"}),a.jsx("div",{className:"mobile-weather-card-value",children:gv(Ur.windDirection)})]}),a.jsxs("div",{className:"mobile-weather-card-row",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(sf,{size:16,className:"text-brand-burgundy"})}),a.jsx("div",{className:"mobile-weather-card-label",children:"Rafales"}),a.jsxs("div",{className:"mobile-weather-card-value",children:[Ur.windGust," km/h"]})]})]})]})]}),a.jsxs("div",{className:"mobile-forecast-section w-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[a.jsxs("div",{className:"mobile-forecast-header",children:[a.jsx("span",{"aria-hidden":"true",children:a.jsx(Hi,{size:20,className:"mobile-forecast-icon"})}),a.jsx("div",{className:"mobile-forecast-title",children:"Prévisions"})]}),a.jsx("div",{className:"mobile-forecast-content overflow-x-auto",children:a.jsxs("div",{className:"flex",style:{minWidth:"100%"},children:[Ur.forecast.map((t,e)=>a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:t.time}),a.jsxs("div",{className:"mobile-forecast-temp",children:[t.temp,"°"]}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(Fi,{size:14,className:"mobile-forecast-wind-icon",style:{transform:`rotate(${t.windDirection}deg)`}}),a.jsx("span",{children:t.windSpeed})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(vn,{size:14,className:"mobile-forecast-waves-icon"}),a.jsxs("span",{children:[t.waveHeight,"m"]})]})]},e)),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"00:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(Fi,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),a.jsx("span",{children:"14"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(vn,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.7m"})]})]}),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"03:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"14°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(Fi,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(290deg)"}}),a.jsx("span",{children:"12"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(vn,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.6m"})]})]}),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"06:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(Fi,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(295deg)"}}),a.jsx("span",{children:"13"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(vn,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.5m"})]})]}),a.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[a.jsx("div",{className:"mobile-forecast-time",children:"09:00"}),a.jsx("div",{className:"mobile-forecast-temp",children:"16°"}),a.jsxs("div",{className:"mobile-forecast-wind",children:[a.jsx(Fi,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),a.jsx("span",{children:"15"})]}),a.jsxs("div",{className:"mobile-forecast-waves",children:[a.jsx(vn,{size:14,className:"mobile-forecast-waves-icon"}),a.jsx("span",{children:"0.6m"})]})]})]})})]})]})]})})}const BL=({value:t,maxValue:e=100,color:r})=>{const n=Math.min(100,Math.round(t/e*100));return a.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},rN={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}}};function GC({table:t,onClose:e}){const r=E0(e),n=t.alert||t.timeProgress>100;return a.jsx(be.div,{...rN.overlay,className:"absolute inset-0 flex items-center justify-center p-4 bg-black/50",style:{zIndex:100},onClick:e,children:a.jsxs(be.div,{ref:r,...rN.content,onClick:i=>i.stopPropagation(),className:"w-full max-w-3xl rounded-2xl shadow-2xl border border-white/10 backdrop-blur-sm",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color",zIndex:101},children:[a.jsx("div",{className:"p-6 border-b border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-white/60",children:t.type})]}),a.jsx("button",{className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10",onClick:e,"aria-label":"Fermer",children:a.jsx(vt,{size:20})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[t.currentSize&&t.targetSize&&a.jsxs(be.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.4},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(h1,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]})}),a.jsxs("div",{className:"relative py-6",children:[a.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-white/10"}),a.jsx("div",{className:"flex justify-between relative",children:["T15","N°5","N°4","N°3","N°2","N°1"].map((i,s)=>{const o=s*20,l=$L(t.currentSize)>=o,c=i===t.targetSize;return a.jsxs("div",{className:"flex flex-col items-center",children:[i==="N°3"?a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 mb-2 relative ring-4 ring-blue-500/50 shadow-lg shadow-blue-500/50 ring-white animate-pulse"})}):a.jsx("div",{className:`w-5 h-5 rounded-full ${c?"ring-2 ring-offset-2 ring-offset-blue-900/50 ring-blue-400":""} ${l?"bg-blue-500":"bg-white/20"} mb-2`}),a.jsx("span",{className:`text-xs ${l?"text-white":"text-white/40"} ${c?"font-bold":""} ${i==="N°3"?"font-medium":""}`,children:i})]},i)})}),a.jsxs("div",{className:"mt-6 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 mb-2",children:[a.jsx("span",{children:"Temps d'élevage"}),a.jsx("span",{className:"text-white",children:vv(t.startDate,t.harvest,t.name)})]}),a.jsxs("div",{className:"relative h-3 bg-white/10 rounded-full overflow-hidden",children:[a.jsx(be.div,{initial:{width:0},animate:{width:`${Math.min(t.timeProgress,100)}%`},transition:{duration:1,ease:"easeOut"},className:`absolute top-0 left-0 h-full ${n?"bg-red-500":"bg-blue-500"}`}),t.timeProgress>100&&a.jsx(be.div,{initial:{width:0},animate:{width:`${Math.min(t.timeProgress-100,100)}%`},transition:{duration:1,ease:"easeOut",delay:.5},className:"absolute top-0 left-0 h-full bg-red-500 opacity-60",style:{left:"100%"}})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[a.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[a.jsx("div",{className:"text-white/60",children:"Début"}),a.jsx("div",{className:"text-white font-medium",children:"T15"}),a.jsx("div",{className:"text-sm font-medium text-white/70",children:vv(t.startDate,t.harvest,t.name)})]}),a.jsx(Dd,{size:16,className:"text-white/40"}),a.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[a.jsx("div",{className:"text-white/60",children:"Récolte prévue pour"}),a.jsx("div",{className:"text-white font-medium",children:zL(t.name)})]})]})]})]}),a.jsxs(be.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.6},className:"glass-effect rounded-xl p-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(vn,{size:18,className:"mr-2 text-blue-400"}),"État global de la table"]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsxs("div",{className:"relative w-40 h-40",children:[a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),a.jsx(be.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:t.color||"#3b82f6",strokeWidth:"8",strokeDasharray:"283",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*t.value/100},transition:{duration:1.5,ease:"easeOut"},strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsxs("span",{className:"text-3xl font-bold text-white",children:[t.value,"%"]}),a.jsx("span",{className:"text-xs text-white/60",children:"Occupation"})]})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("span",{className:"text-white/80 block",children:["Capacité de la table ",t.name==="Table A1"&&t.value>=90?"(presque pleine)":t.value<=20?"(presque vide)":""]})})]}),a.jsxs("div",{className:"space-y-4",children:[t.mortality>0&&a.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("div",{className:"text-white/80",children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(di,{size:16,className:"mr-1 text-red-400"}),"Taux de mortalité"]})}),a.jsxs("div",{className:`text-sm font-medium ${t.mortality<=15?"text-green-400":t.mortality<=20?"text-yellow-400":"text-red-400"}`,children:[t.mortality,"%"]})]}),a.jsx(BL,{value:t.mortality,maxValue:30,color:t.mortality<=15?"#22c55e":t.mortality<=20?"#eab308":"#ef4444"}),a.jsx("div",{className:"text-xs text-white/60 mt-1",children:t.mortality<=15?"Taux normal":t.mortality<=20?"Surveillance recommandée":"Situation critique - Action requise!"})]}),a.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("div",{className:"text-white/80",children:"Durée d'élevage"}),a.jsx("div",{className:"text-sm font-medium text-white",children:vv(t.startDate,t.harvest,t.name)})]}),a.jsx("div",{className:"text-xs text-white/60",children:t.name!=="Table A1"?a.jsx(a.Fragment,{children:"Depuis le 01/01/2024"}):a.jsxs(a.Fragment,{children:["Depuis le ",t.startDate]})})]})]})]})]}),a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.8},className:"flex justify-end space-x-3",children:a.jsx("button",{onClick:e,className:"px-6 py-2.5 rounded-lg bg-white/10 hover:bg-white/20 text-white/90 hover:text-white transition-colors",children:"Fermer"})})]})]})})}function $L(t){switch(t){case"T15":return 0;case"N°5":return 20;case"N°4":return 40;case"N°3":return 60;case"N°2":return 80;case"N°1":return 100;default:return 0}}function vv(t,e,r){switch(r){case"Table A1":return"11 mois et 18 jours";case"Table A2":return"2 mois et 2 jours";case"Table B1":return"2 mois et 12 jours";default:return"N/A"}}function zL(t){switch(t){case"Table A2":return"01/01/2025";case"Table B1":return"01/01/2025";case"Table A1":return"15/05/2025";default:return"Non définie"}}function XC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=XC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=XC(t))&&(n&&(n+=" "),n+=e);return n}var UL=Array.isArray,qi=UL,HL=typeof Sn=="object"&&Sn&&Sn.Object===Object&&Sn,YC=HL,qL=YC,WL=typeof self=="object"&&self&&self.Object===Object&&self,VL=qL||WL||Function("return this")(),$s=VL,GL=$s,XL=GL.Symbol,O0=XL,nN=O0,KC=Object.prototype,YL=KC.hasOwnProperty,KL=KC.toString,Fh=nN?nN.toStringTag:void 0;function JL(t){var e=YL.call(t,Fh),r=t[Fh];try{t[Fh]=void 0;var n=!0}catch{}var i=KL.call(t);return n&&(e?t[Fh]=r:delete t[Fh]),i}var ZL=JL,QL=Object.prototype,eR=QL.toString;function tR(t){return eR.call(t)}var rR=tR,iN=O0,nR=ZL,iR=rR,aR="[object Null]",sR="[object Undefined]",aN=iN?iN.toStringTag:void 0;function oR(t){return t==null?t===void 0?sR:aR:aN&&aN in Object(t)?nR(t):iR(t)}var No=oR;function lR(t){return t!=null&&typeof t=="object"}var _o=lR,cR=No,uR=_o,dR="[object Symbol]";function hR(t){return typeof t=="symbol"||uR(t)&&cR(t)==dR}var Fd=hR,fR=qi,pR=Fd,mR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xR=/^\w*$/;function gR(t,e){if(fR(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||pR(t)?!0:xR.test(t)||!mR.test(t)||e!=null&&t in Object(e)}var yw=gR;function vR(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nl=vR;const Bd=lr(Nl);var bR=No,yR=Nl,wR="[object AsyncFunction]",jR="[object Function]",NR="[object GeneratorFunction]",_R="[object Proxy]";function SR(t){if(!yR(t))return!1;var e=bR(t);return e==jR||e==NR||e==wR||e==_R}var ww=SR;const mt=lr(ww);var AR=$s,CR=AR["__core-js_shared__"],ER=CR,bv=ER,sN=function(){var t=/[^.]+$/.exec(bv&&bv.keys&&bv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function OR(t){return!!sN&&sN in t}var PR=OR,kR=Function.prototype,TR=kR.toString;function IR(t){if(t!=null){try{return TR.call(t)}catch{}try{return t+""}catch{}}return""}var JC=IR,DR=ww,MR=PR,LR=Nl,RR=JC,FR=/[\\^$.*+?()[\]{}|]/g,BR=/^\[object .+?Constructor\]$/,$R=Function.prototype,zR=Object.prototype,UR=$R.toString,HR=zR.hasOwnProperty,qR=RegExp("^"+UR.call(HR).replace(FR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WR(t){if(!LR(t)||MR(t))return!1;var e=DR(t)?qR:BR;return e.test(RR(t))}var VR=WR;function GR(t,e){return t==null?void 0:t[e]}var XR=GR,YR=VR,KR=XR;function JR(t,e){var r=KR(t,e);return YR(r)?r:void 0}var Tc=JR,ZR=Tc,QR=ZR(Object,"create"),b1=QR,oN=b1;function e9(){this.__data__=oN?oN(null):{},this.size=0}var t9=e9;function r9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var n9=r9,i9=b1,a9="__lodash_hash_undefined__",s9=Object.prototype,o9=s9.hasOwnProperty;function l9(t){var e=this.__data__;if(i9){var r=e[t];return r===a9?void 0:r}return o9.call(e,t)?e[t]:void 0}var c9=l9,u9=b1,d9=Object.prototype,h9=d9.hasOwnProperty;function f9(t){var e=this.__data__;return u9?e[t]!==void 0:h9.call(e,t)}var p9=f9,m9=b1,x9="__lodash_hash_undefined__";function g9(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=m9&&e===void 0?x9:e,this}var v9=g9,b9=t9,y9=n9,w9=c9,j9=p9,N9=v9;function $d(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$d.prototype.clear=b9;$d.prototype.delete=y9;$d.prototype.get=w9;$d.prototype.has=j9;$d.prototype.set=N9;var _9=$d;function S9(){this.__data__=[],this.size=0}var A9=S9;function C9(t,e){return t===e||t!==t&&e!==e}var jw=C9,E9=jw;function O9(t,e){for(var r=t.length;r--;)if(E9(t[r][0],e))return r;return-1}var y1=O9,P9=y1,k9=Array.prototype,T9=k9.splice;function I9(t){var e=this.__data__,r=P9(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():T9.call(e,r,1),--this.size,!0}var D9=I9,M9=y1;function L9(t){var e=this.__data__,r=M9(e,t);return r<0?void 0:e[r][1]}var R9=L9,F9=y1;function B9(t){return F9(this.__data__,t)>-1}var $9=B9,z9=y1;function U9(t,e){var r=this.__data__,n=z9(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var H9=U9,q9=A9,W9=D9,V9=R9,G9=$9,X9=H9;function zd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zd.prototype.clear=q9;zd.prototype.delete=W9;zd.prototype.get=V9;zd.prototype.has=G9;zd.prototype.set=X9;var w1=zd,Y9=Tc,K9=$s,J9=Y9(K9,"Map"),Nw=J9,lN=_9,Z9=w1,Q9=Nw;function eF(){this.size=0,this.__data__={hash:new lN,map:new(Q9||Z9),string:new lN}}var tF=eF;function rF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var nF=rF,iF=nF;function aF(t,e){var r=t.__data__;return iF(e)?r[typeof e=="string"?"string":"hash"]:r.map}var j1=aF,sF=j1;function oF(t){var e=sF(this,t).delete(t);return this.size-=e?1:0,e}var lF=oF,cF=j1;function uF(t){return cF(this,t).get(t)}var dF=uF,hF=j1;function fF(t){return hF(this,t).has(t)}var pF=fF,mF=j1;function xF(t,e){var r=mF(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var gF=xF,vF=tF,bF=lF,yF=dF,wF=pF,jF=gF;function Ud(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ud.prototype.clear=vF;Ud.prototype.delete=bF;Ud.prototype.get=yF;Ud.prototype.has=wF;Ud.prototype.set=jF;var _w=Ud,ZC=_w,NF="Expected a function";function Sw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(NF);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Sw.Cache||ZC),r}Sw.Cache=ZC;var QC=Sw;const _F=lr(QC);var SF=QC,AF=500;function CF(t){var e=SF(t,function(n){return r.size===AF&&r.clear(),n}),r=e.cache;return e}var EF=CF,OF=EF,PF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kF=/\\(\\)?/g,TF=OF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(PF,function(r,n,i,s){e.push(i?s.replace(kF,"$1"):n||r)}),e}),IF=TF;function DF(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Aw=DF,cN=O0,MF=Aw,LF=qi,RF=Fd,FF=1/0,uN=cN?cN.prototype:void 0,dN=uN?uN.toString:void 0;function e6(t){if(typeof t=="string")return t;if(LF(t))return MF(t,e6)+"";if(RF(t))return dN?dN.call(t):"";var e=t+"";return e=="0"&&1/t==-FF?"-0":e}var BF=e6,$F=BF;function zF(t){return t==null?"":$F(t)}var t6=zF,UF=qi,HF=yw,qF=IF,WF=t6;function VF(t,e){return UF(t)?t:HF(t,e)?[t]:qF(WF(t))}var r6=VF,GF=Fd,XF=1/0;function YF(t){if(typeof t=="string"||GF(t))return t;var e=t+"";return e=="0"&&1/t==-XF?"-0":e}var N1=YF,KF=r6,JF=N1;function ZF(t,e){e=KF(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[JF(e[r++])];return r&&r==n?t:void 0}var Cw=ZF,QF=Cw;function eB(t,e,r){var n=t==null?void 0:QF(t,e);return n===void 0?r:n}var n6=eB;const la=lr(n6);function tB(t){return t==null}var rB=tB;const _t=lr(rB);var nB=No,iB=qi,aB=_o,sB="[object String]";function oB(t){return typeof t=="string"||!iB(t)&&aB(t)&&nB(t)==sB}var lB=oB;const P0=lr(lB);var i6={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew=Symbol.for("react.element"),Ow=Symbol.for("react.portal"),_1=Symbol.for("react.fragment"),S1=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),E1=Symbol.for("react.context"),cB=Symbol.for("react.server_context"),O1=Symbol.for("react.forward_ref"),P1=Symbol.for("react.suspense"),k1=Symbol.for("react.suspense_list"),T1=Symbol.for("react.memo"),I1=Symbol.for("react.lazy"),uB=Symbol.for("react.offscreen"),a6;a6=Symbol.for("react.module.reference");function Ta(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ew:switch(t=t.type,t){case _1:case A1:case S1:case P1:case k1:return t;default:switch(t=t&&t.$$typeof,t){case cB:case E1:case O1:case I1:case T1:case C1:return t;default:return e}}case Ow:return e}}}cr.ContextConsumer=E1;cr.ContextProvider=C1;cr.Element=Ew;cr.ForwardRef=O1;cr.Fragment=_1;cr.Lazy=I1;cr.Memo=T1;cr.Portal=Ow;cr.Profiler=A1;cr.StrictMode=S1;cr.Suspense=P1;cr.SuspenseList=k1;cr.isAsyncMode=function(){return!1};cr.isConcurrentMode=function(){return!1};cr.isContextConsumer=function(t){return Ta(t)===E1};cr.isContextProvider=function(t){return Ta(t)===C1};cr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ew};cr.isForwardRef=function(t){return Ta(t)===O1};cr.isFragment=function(t){return Ta(t)===_1};cr.isLazy=function(t){return Ta(t)===I1};cr.isMemo=function(t){return Ta(t)===T1};cr.isPortal=function(t){return Ta(t)===Ow};cr.isProfiler=function(t){return Ta(t)===A1};cr.isStrictMode=function(t){return Ta(t)===S1};cr.isSuspense=function(t){return Ta(t)===P1};cr.isSuspenseList=function(t){return Ta(t)===k1};cr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_1||t===A1||t===S1||t===P1||t===k1||t===uB||typeof t=="object"&&t!==null&&(t.$$typeof===I1||t.$$typeof===T1||t.$$typeof===C1||t.$$typeof===E1||t.$$typeof===O1||t.$$typeof===a6||t.getModuleId!==void 0)};cr.typeOf=Ta;i6.exports=cr;var dB=i6.exports,hB=No,fB=_o,pB="[object Number]";function mB(t){return typeof t=="number"||fB(t)&&hB(t)==pB}var s6=mB;const xB=lr(s6);var gB=s6;function vB(t){return gB(t)&&t!=+t}var bB=vB;const k0=lr(bB);var _i=function(e){return e===0?0:e>0?1:-1},ac=function(e){return P0(e)&&e.indexOf("%")===e.length-1},We=function(e){return xB(e)&&!k0(e)},An=function(e){return We(e)||P0(e)},yB=0,Hd=function(e){var r=++yB;return"".concat(e||"").concat(r)},Si=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(e)&&!P0(e))return n;var s;if(ac(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return k0(s)&&(s=n),i&&s>r&&(s=r),s},sl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},wB=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},na=function(e,r){return We(e)&&We(r)?function(n){return e+n*(r-e)}:function(){return r}};function Vm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):la(n,e))===r})}function Ku(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}var jB=["viewBox","children"],NB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hN=["points","pathLength"],yv={svg:jB,polygon:hN,polyline:hN},Pw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!Bd(n))return null;var i={};return Object.keys(n).forEach(function(s){Pw.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},_B=function(e,r,n){return function(i){return e(r,n,i),null}},wc=function(e,r,n){if(!Bd(e)||Zb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];Pw.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=_B(o,r,n))}),i},SB=["children"],AB=["children"];function fN(t,e){if(t==null)return{};var r=CB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}var pN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},po=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},mN=null,wv=null,kw=function t(e){if(e===mN&&Array.isArray(wv))return wv;var r=[];return T.Children.forEach(e,function(n){_t(n)||(dB.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),wv=r,mN=e,r};function ca(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return po(i)}):n=[po(e)],kw(t).forEach(function(i){var s=la(i,"type.displayName")||la(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ra(t,e){var r=ca(t,e);return r&&r[0]}var xN=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!We(n)||n<=0||!We(i)||i<=0)},EB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OB=function(e){return e&&e.type&&P0(e.type)&&EB.indexOf(e.type)>=0},PB=function(e){return e&&Qb(e)==="object"&&"clipDot"in e},kB=function(e,r,n,i){var s,o=(s=yv==null?void 0:yv[i])!==null&&s!==void 0?s:[];return!mt(e)&&(i&&o.includes(r)||NB.includes(r))||n&&Pw.includes(r)},ut=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!Bd(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;kB((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},ey=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!gN(s,o))return!1}return!0},gN=function(e,r){if(_t(e)&&_t(r))return!0;if(!_t(e)&&!_t(r)){var n=e.props||{},i=n.children,s=fN(n,SB),o=r.props||{},l=o.children,c=fN(o,AB);return i&&l?Ku(s,c)&&ey(i,l):!i&&!l?Ku(s,c):!1}return!1},vN=function(e,r){var n=[],i={};return kw(e).forEach(function(s,o){if(OB(s))n.push(s);else if(s){var l=po(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(s,l,o);n.push(h),i[l]=!0}}}),n},TB=function(e){var r=e&&e.type;return r&&pN[r]?pN[r]:null},IB=function(e,r){return kw(r).indexOf(e)},DB=["children","width","height","viewBox","className","style","title","desc"];function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ty.apply(this,arguments)}function MB(t,e){if(t==null)return{};var r=LB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ry(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=MB(t,DB),d=i||{width:r,height:n,x:0,y:0},h=Ct("recharts-surface",s);return re.createElement("svg",ty({},ut(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),re.createElement("title",null,l),re.createElement("desc",null,c),e)}var RB=["children","className"];function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ny.apply(this,arguments)}function FB(t,e){if(t==null)return{};var r=BB(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Vt=re.forwardRef(function(t,e){var r=t.children,n=t.className,i=FB(t,RB),s=Ct("recharts-layer",n);return re.createElement("g",ny({className:s},ut(i,!0),{ref:e}),r)}),ts=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function $B(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var zB=$B,UB=zB;function HB(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:UB(t,e,r)}var qB=HB,WB="\\ud800-\\udfff",VB="\\u0300-\\u036f",GB="\\ufe20-\\ufe2f",XB="\\u20d0-\\u20ff",YB=VB+GB+XB,KB="\\ufe0e\\ufe0f",JB="\\u200d",ZB=RegExp("["+JB+WB+YB+KB+"]");function QB(t){return ZB.test(t)}var o6=QB;function e$(t){return t.split("")}var t$=e$,l6="\\ud800-\\udfff",r$="\\u0300-\\u036f",n$="\\ufe20-\\ufe2f",i$="\\u20d0-\\u20ff",a$=r$+n$+i$,s$="\\ufe0e\\ufe0f",o$="["+l6+"]",iy="["+a$+"]",ay="\\ud83c[\\udffb-\\udfff]",l$="(?:"+iy+"|"+ay+")",c6="[^"+l6+"]",u6="(?:\\ud83c[\\udde6-\\uddff]){2}",d6="[\\ud800-\\udbff][\\udc00-\\udfff]",c$="\\u200d",h6=l$+"?",f6="["+s$+"]?",u$="(?:"+c$+"(?:"+[c6,u6,d6].join("|")+")"+f6+h6+")*",d$=f6+h6+u$,h$="(?:"+[c6+iy+"?",iy,u6,d6,o$].join("|")+")",f$=RegExp(ay+"(?="+ay+")|"+h$+d$,"g");function p$(t){return t.match(f$)||[]}var m$=p$,x$=t$,g$=o6,v$=m$;function b$(t){return g$(t)?v$(t):x$(t)}var y$=b$,w$=qB,j$=o6,N$=y$,_$=t6;function S$(t){return function(e){e=_$(e);var r=j$(e)?N$(e):void 0,n=r?r[0]:e.charAt(0),i=r?w$(r,1).join(""):e.slice(1);return n[t]()+i}}var A$=S$,C$=A$,E$=C$("toUpperCase"),O$=E$;const D1=lr(O$);function jr(t){return function(){return t}}const p6=Math.cos,Xm=Math.sin,as=Math.sqrt,Ym=Math.PI,M1=2*Ym,sy=Math.PI,oy=2*sy,Kl=1e-6,P$=oy-Kl;function m6(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function k$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return m6;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class T${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?m6:k$(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Kl)if(!(Math.abs(h*c-u*d)>Kl)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-l,x=c*c+u*u,g=p*p+m*m,b=Math.sqrt(x),y=Math.sqrt(f),w=s*Math.tan((sy-Math.acos((x+f-g)/(2*b*y)))/2),N=w/y,_=w/b;Math.abs(N-1)>Kl&&this._append`L${e+N*d},${r+N*h}`,this._append`A${s},${s},0,0,${+(h*p>d*m)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Kl||Math.abs(this._y1-d)>Kl)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%oy+oy),f>P$?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>Kl&&this._append`A${n},${n},0,${+(f>=sy)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Tw(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new T$(e)}function Iw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x6(t){this._context=t}x6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function L1(t){return new x6(t)}function g6(t){return t[0]}function v6(t){return t[1]}function b6(t,e){var r=jr(!0),n=null,i=L1,s=null,o=Tw(l);t=typeof t=="function"?t:t===void 0?g6:jr(t),e=typeof e=="function"?e:e===void 0?v6:jr(e);function l(c){var u,d=(c=Iw(c)).length,h,f=!1,p;for(n==null&&(s=i(p=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,u,c),+e(h,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:jr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:jr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:jr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function zp(t,e,r){var n=null,i=jr(!0),s=null,o=L1,l=null,c=Tw(u);t=typeof t=="function"?t:t===void 0?g6:jr(+t),e=typeof e=="function"?e:jr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?v6:jr(+r);function u(h){var f,p,m,x=(h=Iw(h)).length,g,b=!1,y,w=new Array(x),N=new Array(x);for(s==null&&(l=o(y=c())),f=0;f<=x;++f){if(!(f<x&&i(g=h[f],f,h))===b)if(b=!b)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=f-1;m>=p;--m)l.point(w[m],N[m]);l.lineEnd(),l.areaEnd()}b&&(w[f]=+t(g,f,h),N[f]=+e(g,f,h),l.point(n?+n(g,f,h):w[f],r?+r(g,f,h):N[f]))}if(y)return l=null,y+""||null}function d(){return b6().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:jr(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:jr(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:jr(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:jr(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:jr(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:jr(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:jr(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),u):s},u}class y6{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function I$(t){return new y6(t,!0)}function D$(t){return new y6(t,!1)}const Dw={draw(t,e){const r=as(e/Ym);t.moveTo(r,0),t.arc(0,0,r,0,M1)}},M$={draw(t,e){const r=as(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},w6=as(1/3),L$=w6*2,R$={draw(t,e){const r=as(e/L$),n=r*w6;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},F$={draw(t,e){const r=as(e),n=-r/2;t.rect(n,n,r,r)}},B$=.8908130915292852,j6=Xm(Ym/10)/Xm(7*Ym/10),$$=Xm(M1/10)*j6,z$=-p6(M1/10)*j6,U$={draw(t,e){const r=as(e*B$),n=$$*r,i=z$*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=M1*s/5,l=p6(o),c=Xm(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},jv=as(3),H$={draw(t,e){const r=-as(e/(jv*3));t.moveTo(0,r*2),t.lineTo(-jv*r,-r),t.lineTo(jv*r,-r),t.closePath()}},ba=-.5,ya=as(3)/2,ly=1/as(12),q$=(ly/2+1)*3,W$={draw(t,e){const r=as(e/q$),n=r/2,i=r*ly,s=n,o=r*ly+r,l=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(ba*n-ya*i,ya*n+ba*i),t.lineTo(ba*s-ya*o,ya*s+ba*o),t.lineTo(ba*l-ya*c,ya*l+ba*c),t.lineTo(ba*n+ya*i,ba*i-ya*n),t.lineTo(ba*s+ya*o,ba*o-ya*s),t.lineTo(ba*l+ya*c,ba*c-ya*l),t.closePath()}};function V$(t,e){let r=null,n=Tw(i);t=typeof t=="function"?t:jr(t||Dw),e=typeof e=="function"?e:jr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:jr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:jr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Km(){}function Jm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function N6(t){this._context=t}N6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G$(t){return new N6(t)}function _6(t){this._context=t}_6.prototype={areaStart:Km,areaEnd:Km,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X$(t){return new _6(t)}function S6(t){this._context=t}S6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y$(t){return new S6(t)}function A6(t){this._context=t}A6.prototype={areaStart:Km,areaEnd:Km,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function K$(t){return new A6(t)}function bN(t){return t<0?-1:1}function yN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(bN(s)+bN(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function wN(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Nv(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function Zm(t){this._context=t}Zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nv(this,this._t0,wN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Nv(this,wN(this,r=yN(this,t,e)),r);break;default:Nv(this,this._t0,r=yN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function C6(t){this._context=new E6(t)}(C6.prototype=Object.create(Zm.prototype)).point=function(t,e){Zm.prototype.point.call(this,e,t)};function E6(t){this._context=t}E6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function J$(t){return new Zm(t)}function Z$(t){return new C6(t)}function O6(t){this._context=t}O6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=jN(t),i=jN(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jN(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Q$(t){return new O6(t)}function R1(t,e){this._context=t,this._t=e}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ez(t){return new R1(t,.5)}function tz(t){return new R1(t,0)}function rz(t){return new R1(t,1)}function sd(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function cy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function nz(t,e){return t[e]}function iz(t){const e=[];return e.key=t,e}function az(){var t=jr([]),e=cy,r=sd,n=nz;function i(s){var o=Array.from(t.apply(this,arguments),iz),l,c=o.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,s)]).data=h;for(l=0,d=Iw(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:jr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:jr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?cy:typeof s=="function"?s:jr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??sd,i):r},i}function sz(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}sd(t,e)}}function oz(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}sd(t,e)}}function lz(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,m=0;m<l;++m){var x=t[e[m]],g=x[n][1]||0,b=x[n-1][1]||0;p+=g-b}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,sd(t,e)}}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var cz=["type","size","sizeType"];function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uy.apply(this,arguments)}function NN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(r),!0).forEach(function(n){uz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uz(t,e,r){return e=dz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dz(t){var e=hz(t,"string");return Mf(e)=="symbol"?e:e+""}function hz(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fz(t,e){if(t==null)return{};var r=pz(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var P6={symbolCircle:Dw,symbolCross:M$,symbolDiamond:R$,symbolSquare:F$,symbolStar:U$,symbolTriangle:H$,symbolWye:W$},mz=Math.PI/180,xz=function(e){var r="symbol".concat(D1(e));return P6[r]||Dw},gz=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mz;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vz=function(e,r){P6["symbol".concat(D1(e))]=r},Mw=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=fz(e,cz),u=_N(_N({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=xz(n),b=V$().type(g).size(gz(s,l,n));return b()},h=u.className,f=u.cx,p=u.cy,m=ut(u,!0);return f===+f&&p===+p&&s===+s?re.createElement("path",uy({},m,{className:Ct("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};Mw.registerSymbol=vz;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dy.apply(this,arguments)}function SN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(r),!0).forEach(function(n){Lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T6(n.key),n)}}function jz(t,e,r){return e&&wz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nz(t,e,r){return e=Qm(e),_z(t,k6()?Reflect.construct(e,r||[],Qm(t).constructor):e.apply(t,r))}function _z(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sz(t)}function Sz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}function Az(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hy(t,e)}function hy(t,e){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hy(t,e)}function Lf(t,e,r){return e=T6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T6(t){var e=Cz(t,"string");return od(e)=="symbol"?e:e+""}function Cz(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wa=32,Lw=function(t){function e(){return yz(this,e),Nz(this,e,arguments)}return Az(e,t),jz(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=wa/2,o=wa/6,l=wa/3,c=n.inactive?i:n.color;if(n.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:wa,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(wa,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return re.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wa/8,"h").concat(wa,"v").concat(wa*3/4,"h").concat(-wa,"z"),className:"recharts-legend-icon"});if(re.isValidElement(n.legendIcon)){var u=bz({},n);return delete u.legendIcon,re.cloneElement(n.legendIcon,u)}return re.createElement(Mw,{fill:c,cx:s,cy:s,size:wa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:wa,height:wa},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,m){var x=p.formatter||c,g=Ct(Lf(Lf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=mt(p.value)?null:p.value;ts(!mt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return re.createElement("li",dy({className:g,style:h,key:"legend-item-".concat(m)},wc(n.props,p,m)),re.createElement(ry,{width:o,height:o,viewBox:d,style:f},n.renderIcon(p)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(b,p,m):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(T.PureComponent);Lf(Lw,"displayName","Legend");Lf(Lw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ez=w1;function Oz(){this.__data__=new Ez,this.size=0}var Pz=Oz;function kz(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Tz=kz;function Iz(t){return this.__data__.get(t)}var Dz=Iz;function Mz(t){return this.__data__.has(t)}var Lz=Mz,Rz=w1,Fz=Nw,Bz=_w,$z=200;function zz(t,e){var r=this.__data__;if(r instanceof Rz){var n=r.__data__;if(!Fz||n.length<$z-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Bz(n)}return r.set(t,e),this.size=r.size,this}var Uz=zz,Hz=w1,qz=Pz,Wz=Tz,Vz=Dz,Gz=Lz,Xz=Uz;function qd(t){var e=this.__data__=new Hz(t);this.size=e.size}qd.prototype.clear=qz;qd.prototype.delete=Wz;qd.prototype.get=Vz;qd.prototype.has=Gz;qd.prototype.set=Xz;var I6=qd,Yz="__lodash_hash_undefined__";function Kz(t){return this.__data__.set(t,Yz),this}var Jz=Kz;function Zz(t){return this.__data__.has(t)}var Qz=Zz,eU=_w,tU=Jz,rU=Qz;function ex(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new eU;++e<r;)this.add(t[e])}ex.prototype.add=ex.prototype.push=tU;ex.prototype.has=rU;var D6=ex;function nU(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var M6=nU;function iU(t,e){return t.has(e)}var L6=iU,aU=D6,sU=M6,oU=L6,lU=1,cU=2;function uU(t,e,r,n,i,s){var o=r&lU,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&cU?new aU:void 0;for(s.set(t,e),s.set(e,t);++h<l;){var m=t[h],x=e[h];if(n)var g=o?n(x,m,h,e,t,s):n(m,x,h,t,e,s);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!sU(e,function(b,y){if(!oU(p,y)&&(m===b||i(m,b,r,n,s)))return p.push(y)})){f=!1;break}}else if(!(m===x||i(m,x,r,n,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var R6=uU,dU=$s,hU=dU.Uint8Array,fU=hU;function pU(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var mU=pU;function xU(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Rw=xU,AN=O0,CN=fU,gU=jw,vU=R6,bU=mU,yU=Rw,wU=1,jU=2,NU="[object Boolean]",_U="[object Date]",SU="[object Error]",AU="[object Map]",CU="[object Number]",EU="[object RegExp]",OU="[object Set]",PU="[object String]",kU="[object Symbol]",TU="[object ArrayBuffer]",IU="[object DataView]",EN=AN?AN.prototype:void 0,_v=EN?EN.valueOf:void 0;function DU(t,e,r,n,i,s,o){switch(r){case IU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case TU:return!(t.byteLength!=e.byteLength||!s(new CN(t),new CN(e)));case NU:case _U:case CU:return gU(+t,+e);case SU:return t.name==e.name&&t.message==e.message;case EU:case PU:return t==e+"";case AU:var l=bU;case OU:var c=n&wU;if(l||(l=yU),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=jU,o.set(t,e);var d=vU(l(t),l(e),n,i,s,o);return o.delete(t),d;case kU:if(_v)return _v.call(t)==_v.call(e)}return!1}var MU=DU;function LU(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var F6=LU,RU=F6,FU=qi;function BU(t,e,r){var n=e(t);return FU(t)?n:RU(n,r(t))}var $U=BU;function zU(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}var UU=zU;function HU(){return[]}var qU=HU,WU=UU,VU=qU,GU=Object.prototype,XU=GU.propertyIsEnumerable,ON=Object.getOwnPropertySymbols,YU=ON?function(t){return t==null?[]:(t=Object(t),WU(ON(t),function(e){return XU.call(t,e)}))}:VU,KU=YU;function JU(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ZU=JU,QU=No,eH=_o,tH="[object Arguments]";function rH(t){return eH(t)&&QU(t)==tH}var nH=rH,PN=nH,iH=_o,B6=Object.prototype,aH=B6.hasOwnProperty,sH=B6.propertyIsEnumerable,oH=PN(function(){return arguments}())?PN:function(t){return iH(t)&&aH.call(t,"callee")&&!sH.call(t,"callee")},Fw=oH,tx={exports:{}};function lH(){return!1}var cH=lH;tx.exports;(function(t,e){var r=$s,n=cH,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(tx,tx.exports);var $6=tx.exports,uH=9007199254740991,dH=/^(?:0|[1-9]\d*)$/;function hH(t,e){var r=typeof t;return e=e??uH,!!e&&(r=="number"||r!="symbol"&&dH.test(t))&&t>-1&&t%1==0&&t<e}var Bw=hH,fH=9007199254740991;function pH(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fH}var $w=pH,mH=No,xH=$w,gH=_o,vH="[object Arguments]",bH="[object Array]",yH="[object Boolean]",wH="[object Date]",jH="[object Error]",NH="[object Function]",_H="[object Map]",SH="[object Number]",AH="[object Object]",CH="[object RegExp]",EH="[object Set]",OH="[object String]",PH="[object WeakMap]",kH="[object ArrayBuffer]",TH="[object DataView]",IH="[object Float32Array]",DH="[object Float64Array]",MH="[object Int8Array]",LH="[object Int16Array]",RH="[object Int32Array]",FH="[object Uint8Array]",BH="[object Uint8ClampedArray]",$H="[object Uint16Array]",zH="[object Uint32Array]",Er={};Er[IH]=Er[DH]=Er[MH]=Er[LH]=Er[RH]=Er[FH]=Er[BH]=Er[$H]=Er[zH]=!0;Er[vH]=Er[bH]=Er[kH]=Er[yH]=Er[TH]=Er[wH]=Er[jH]=Er[NH]=Er[_H]=Er[SH]=Er[AH]=Er[CH]=Er[EH]=Er[OH]=Er[PH]=!1;function UH(t){return gH(t)&&xH(t.length)&&!!Er[mH(t)]}var HH=UH;function qH(t){return function(e){return t(e)}}var z6=qH,rx={exports:{}};rx.exports;(function(t,e){var r=YC,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(rx,rx.exports);var WH=rx.exports,VH=HH,GH=z6,kN=WH,TN=kN&&kN.isTypedArray,XH=TN?GH(TN):VH,U6=XH,YH=ZU,KH=Fw,JH=qi,ZH=$6,QH=Bw,eq=U6,tq=Object.prototype,rq=tq.hasOwnProperty;function nq(t,e){var r=JH(t),n=!r&&KH(t),i=!r&&!n&&ZH(t),s=!r&&!n&&!i&&eq(t),o=r||n||i||s,l=o?YH(t.length,String):[],c=l.length;for(var u in t)(e||rq.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||QH(u,c)))&&l.push(u);return l}var iq=nq,aq=Object.prototype;function sq(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||aq;return t===r}var oq=sq;function lq(t,e){return function(r){return t(e(r))}}var H6=lq,cq=H6,uq=cq(Object.keys,Object),dq=uq,hq=oq,fq=dq,pq=Object.prototype,mq=pq.hasOwnProperty;function xq(t){if(!hq(t))return fq(t);var e=[];for(var r in Object(t))mq.call(t,r)&&r!="constructor"&&e.push(r);return e}var gq=xq,vq=ww,bq=$w;function yq(t){return t!=null&&bq(t.length)&&!vq(t)}var T0=yq,wq=iq,jq=gq,Nq=T0;function _q(t){return Nq(t)?wq(t):jq(t)}var F1=_q,Sq=$U,Aq=KU,Cq=F1;function Eq(t){return Sq(t,Cq,Aq)}var Oq=Eq,IN=Oq,Pq=1,kq=Object.prototype,Tq=kq.hasOwnProperty;function Iq(t,e,r,n,i,s){var o=r&Pq,l=IN(t),c=l.length,u=IN(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:Tq.call(e,f)))return!1}var p=s.get(t),m=s.get(e);if(p&&m)return p==e&&m==t;var x=!0;s.set(t,e),s.set(e,t);for(var g=o;++h<c;){f=l[h];var b=t[f],y=e[f];if(n)var w=o?n(y,b,f,e,t,s):n(b,y,f,t,e,s);if(!(w===void 0?b===y||i(b,y,r,n,s):w)){x=!1;break}g||(g=f=="constructor")}if(x&&!g){var N=t.constructor,_=e.constructor;N!=_&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof _=="function"&&_ instanceof _)&&(x=!1)}return s.delete(t),s.delete(e),x}var Dq=Iq,Mq=Tc,Lq=$s,Rq=Mq(Lq,"DataView"),Fq=Rq,Bq=Tc,$q=$s,zq=Bq($q,"Promise"),Uq=zq,Hq=Tc,qq=$s,Wq=Hq(qq,"Set"),q6=Wq,Vq=Tc,Gq=$s,Xq=Vq(Gq,"WeakMap"),Yq=Xq,fy=Fq,py=Nw,my=Uq,xy=q6,gy=Yq,W6=No,Wd=JC,DN="[object Map]",Kq="[object Object]",MN="[object Promise]",LN="[object Set]",RN="[object WeakMap]",FN="[object DataView]",Jq=Wd(fy),Zq=Wd(py),Qq=Wd(my),eW=Wd(xy),tW=Wd(gy),Jl=W6;(fy&&Jl(new fy(new ArrayBuffer(1)))!=FN||py&&Jl(new py)!=DN||my&&Jl(my.resolve())!=MN||xy&&Jl(new xy)!=LN||gy&&Jl(new gy)!=RN)&&(Jl=function(t){var e=W6(t),r=e==Kq?t.constructor:void 0,n=r?Wd(r):"";if(n)switch(n){case Jq:return FN;case Zq:return DN;case Qq:return MN;case eW:return LN;case tW:return RN}return e});var rW=Jl,Sv=I6,nW=R6,iW=MU,aW=Dq,BN=rW,$N=qi,zN=$6,sW=U6,oW=1,UN="[object Arguments]",HN="[object Array]",Up="[object Object]",lW=Object.prototype,qN=lW.hasOwnProperty;function cW(t,e,r,n,i,s){var o=$N(t),l=$N(e),c=o?HN:BN(t),u=l?HN:BN(e);c=c==UN?Up:c,u=u==UN?Up:u;var d=c==Up,h=u==Up,f=c==u;if(f&&zN(t)){if(!zN(e))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new Sv),o||sW(t)?nW(t,e,r,n,i,s):iW(t,e,c,r,n,i,s);if(!(r&oW)){var p=d&&qN.call(t,"__wrapped__"),m=h&&qN.call(e,"__wrapped__");if(p||m){var x=p?t.value():t,g=m?e.value():e;return s||(s=new Sv),i(x,g,r,n,s)}}return f?(s||(s=new Sv),aW(t,e,r,n,i,s)):!1}var uW=cW,dW=uW,WN=_o;function V6(t,e,r,n,i){return t===e?!0:t==null||e==null||!WN(t)&&!WN(e)?t!==t&&e!==e:dW(t,e,r,n,V6,i)}var zw=V6,hW=I6,fW=zw,pW=1,mW=2;function xW(t,e,r,n){var i=r.length,s=i,o=!n;if(t==null)return!s;for(t=Object(t);i--;){var l=r[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=r[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new hW;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?fW(d,u,pW|mW,n,h):f))return!1}}return!0}var gW=xW,vW=Nl;function bW(t){return t===t&&!vW(t)}var G6=bW,yW=G6,wW=F1;function jW(t){for(var e=wW(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,yW(i)]}return e}var NW=jW;function _W(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var X6=_W,SW=gW,AW=NW,CW=X6;function EW(t){var e=AW(t);return e.length==1&&e[0][2]?CW(e[0][0],e[0][1]):function(r){return r===t||SW(r,t,e)}}var OW=EW;function PW(t,e){return t!=null&&e in Object(t)}var kW=PW,TW=r6,IW=Fw,DW=qi,MW=Bw,LW=$w,RW=N1;function FW(t,e,r){e=TW(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var o=RW(e[n]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&LW(i)&&MW(o,i)&&(DW(t)||IW(t)))}var BW=FW,$W=kW,zW=BW;function UW(t,e){return t!=null&&zW(t,e,$W)}var HW=UW,qW=zw,WW=n6,VW=HW,GW=yw,XW=G6,YW=X6,KW=N1,JW=1,ZW=2;function QW(t,e){return GW(t)&&XW(e)?YW(KW(t),e):function(r){var n=WW(r,t);return n===void 0&&n===e?VW(r,t):qW(e,n,JW|ZW)}}var eV=QW;function tV(t){return t}var Vd=tV;function rV(t){return function(e){return e==null?void 0:e[t]}}var nV=rV,iV=Cw;function aV(t){return function(e){return iV(e,t)}}var sV=aV,oV=nV,lV=sV,cV=yw,uV=N1;function dV(t){return cV(t)?oV(uV(t)):lV(t)}var hV=dV,fV=OW,pV=eV,mV=Vd,xV=qi,gV=hV;function vV(t){return typeof t=="function"?t:t==null?mV:typeof t=="object"?xV(t)?pV(t[0],t[1]):fV(t):gV(t)}var zs=vV;function bV(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Y6=bV;function yV(t){return t!==t}var wV=yV;function jV(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var NV=jV,_V=Y6,SV=wV,AV=NV;function CV(t,e,r){return e===e?AV(t,e,r):_V(t,SV,r)}var EV=CV,OV=EV;function PV(t,e){var r=t==null?0:t.length;return!!r&&OV(t,e,0)>-1}var kV=PV;function TV(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var IV=TV;function DV(){}var MV=DV,Av=q6,LV=MV,RV=Rw,FV=1/0,BV=Av&&1/RV(new Av([,-0]))[1]==FV?function(t){return new Av(t)}:LV,$V=BV,zV=D6,UV=kV,HV=IV,qV=L6,WV=$V,VV=Rw,GV=200;function XV(t,e,r){var n=-1,i=UV,s=t.length,o=!0,l=[],c=l;if(r)o=!1,i=HV;else if(s>=GV){var u=e?null:WV(t);if(u)return VV(u);o=!1,i=qV,c=new zV}else c=e?[]:l;e:for(;++n<s;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else i(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var YV=XV,KV=zs,JV=YV;function ZV(t,e){return t&&t.length?JV(t,KV(e)):[]}var QV=ZV;const VN=lr(QV);function K6(t,e,r){return e===!0?VN(t,r):mt(e)?VN(t,e):t}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}var eG=["ref"];function GN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(r),!0).forEach(function(n){B1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z6(n.key),n)}}function rG(t,e,r){return e&&XN(t.prototype,e),r&&XN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nG(t,e,r){return e=nx(e),iG(t,J6()?Reflect.construct(e,r||[],nx(t).constructor):e.apply(t,r))}function iG(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aG(t)}function aG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J6=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(t)}function sG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vy(t,e)}function B1(t,e,r){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z6(t){var e=oG(t,"string");return ld(e)=="symbol"?e:e+""}function oG(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lG(t,e){if(t==null)return{};var r=cG(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uG(t){return t.value}function dG(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var r=lG(e,eG);return re.createElement(Lw,r)}var YN=1,hc=function(t){function e(){var r;tG(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=nG(this,e,[].concat(i)),B1(r,"lastBoundingBox",{width:-1,height:-1}),r}return sG(e,t),rG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>YN||Math.abs(i.height-this.lastBoundingBox.height)>YN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?no({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();f={top:((d||0)-m.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return no(no({},h),f)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=no(no({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return re.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},dG(s,no(no({},this.props),{},{payload:K6(d,u,uG)})))}}],[{key:"getWithHeight",value:function(n,i){var s=no(no({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&We(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(T.PureComponent);B1(hc,"displayName","Legend");B1(hc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var KN=O0,hG=Fw,fG=qi,JN=KN?KN.isConcatSpreadable:void 0;function pG(t){return fG(t)||hG(t)||!!(JN&&t&&t[JN])}var mG=pG,xG=F6,gG=mG;function Q6(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=gG),i||(i=[]);++s<o;){var l=t[s];e>0&&r(l)?e>1?Q6(l,e-1,r,n,i):xG(i,l):n||(i[i.length]=l)}return i}var e8=Q6;function vG(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++i];if(r(s[c],c,s)===!1)break}return e}}var bG=vG,yG=bG,wG=yG(),jG=wG,NG=jG,_G=F1;function SG(t,e){return t&&NG(t,e,_G)}var t8=SG,AG=T0;function CG(t,e){return function(r,n){if(r==null)return r;if(!AG(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var EG=CG,OG=t8,PG=EG,kG=PG(OG),Uw=kG,TG=Uw,IG=T0;function DG(t,e){var r=-1,n=IG(t)?Array(t.length):[];return TG(t,function(i,s,o){n[++r]=e(i,s,o)}),n}var r8=DG;function MG(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var LG=MG,ZN=Fd;function RG(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=ZN(t),o=e!==void 0,l=e===null,c=e===e,u=ZN(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&t<e||u&&r&&i&&!n&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var FG=RG,BG=FG;function $G(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,l=r.length;++n<o;){var c=BG(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var zG=$G,Cv=Aw,UG=Cw,HG=zs,qG=r8,WG=LG,VG=z6,GG=zG,XG=Vd,YG=qi;function KG(t,e,r){e.length?e=Cv(e,function(s){return YG(s)?function(o){return UG(o,s.length===1?s[0]:s)}:s}):e=[XG];var n=-1;e=Cv(e,VG(HG));var i=qG(t,function(s,o,l){var c=Cv(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return WG(i,function(s,o){return GG(s,o,r)})}var JG=KG;function ZG(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var QG=ZG,eX=QG,QN=Math.max;function tX(t,e,r){return e=QN(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=QN(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(o),eX(t,this,l)}}var rX=tX;function nX(t){return function(){return t}}var iX=nX,aX=Tc,sX=function(){try{var t=aX(Object,"defineProperty");return t({},"",{}),t}catch{}}(),n8=sX,oX=iX,e_=n8,lX=Vd,cX=e_?function(t,e){return e_(t,"toString",{configurable:!0,enumerable:!1,value:oX(e),writable:!0})}:lX,uX=cX,dX=800,hX=16,fX=Date.now;function pX(t){var e=0,r=0;return function(){var n=fX(),i=hX-(n-r);if(r=n,i>0){if(++e>=dX)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var mX=pX,xX=uX,gX=mX,vX=gX(xX),bX=vX,yX=Vd,wX=rX,jX=bX;function NX(t,e){return jX(wX(t,e,yX),t+"")}var _X=NX,SX=jw,AX=T0,CX=Bw,EX=Nl;function OX(t,e,r){if(!EX(r))return!1;var n=typeof e;return(n=="number"?AX(r)&&CX(e,r.length):n=="string"&&e in r)?SX(r[e],t):!1}var $1=OX,PX=e8,kX=JG,TX=_X,t_=$1,IX=TX(function(t,e){if(t==null)return[];var r=e.length;return r>1&&t_(t,e[0],e[1])?e=[]:r>2&&t_(e[0],e[1],e[2])&&(e=[e[0]]),kX(t,PX(e,1),[])}),DX=IX;const Hw=lr(DX);function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},by.apply(this,arguments)}function MX(t,e){return BX(t)||FX(t,e)||RX(t,e)||LX()}function LX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(t,e){if(t){if(typeof t=="string")return r_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r_(t,e)}}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function BX(t){if(Array.isArray(t))return t}function n_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ev(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(r),!0).forEach(function(n){$X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $X(t,e,r){return e=zX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zX(t){var e=UX(t,"string");return Rf(e)=="symbol"?e:e+""}function UX(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HX(t){return Array.isArray(t)&&An(t[0])&&An(t[1])?t.join(" ~ "):t}var qX=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,x=e.label,g=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},B=(f?Hw(d,f):d).map(function(L,W){if(L.type==="none")return null;var $=Ev({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),z=L.formatter||h||HX,X=L.value,Y=L.name,le=X,fe=Y;if(z&&le!=null&&fe!=null){var R=z(X,Y,L,W,d);if(Array.isArray(R)){var I=MX(R,2);le=I[0],fe=I[1]}else le=R}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:$},An(fe)?re.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,An(fe)?re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,re.createElement("span",{className:"recharts-tooltip-item-value"},le),re.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:O},B)}return null},N=Ev({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=Ev({margin:0},u),S=!_t(x),A=S?x:"",E=Ct("recharts-default-tooltip",p),D=Ct("recharts-tooltip-label",m);S&&g&&d!==void 0&&d!==null&&(A=g(x,d));var F=y?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",by({className:E,style:N},F),re.createElement("p",{className:D,style:_},re.isValidElement(A)?A:"".concat(A)),w())};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function Hp(t,e,r){return e=WX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WX(t){var e=VX(t,"string");return Ff(e)=="symbol"?e:e+""}function VX(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bh="recharts-tooltip-wrapper",GX={visibility:"hidden"};function XX(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ct(Bh,Hp(Hp(Hp(Hp({},"".concat(Bh,"-right"),We(r)&&e&&We(e.x)&&r>=e.x),"".concat(Bh,"-left"),We(r)&&e&&We(e.x)&&r<e.x),"".concat(Bh,"-bottom"),We(n)&&e&&We(e.y)&&n>=e.y),"".concat(Bh,"-top"),We(n)&&e&&We(e.y)&&n<e.y))}function i_(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&We(s[n]))return s[n];var d=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?d:h;if(o[n]){var f=d,p=c[n];return f<p?Math.max(h,c[n]):Math.max(d,c[n])}var m=h+l,x=c[n]+u;return m>x?Math.max(d,c[n]):Math.max(h,c[n])}function YX(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function KX(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=i_({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=i_({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=YX({translateX:d,translateY:h,useTranslate3d:l})):u=GX,{cssProperties:u,cssClasses:XX({translateX:d,translateY:h,coordinate:r})}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function a_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(r),!0).forEach(function(n){wy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a8(n.key),n)}}function QX(t,e,r){return e&&ZX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eY(t,e,r){return e=ix(e),tY(t,i8()?Reflect.construct(e,r||[],ix(t).constructor):e.apply(t,r))}function tY(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rY(t)}function rY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(t)}function nY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yy(t,e)}function yy(t,e){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yy(t,e)}function wy(t,e,r){return e=a8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a8(t){var e=iY(t,"string");return cd(e)=="symbol"?e:e+""}function iY(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o_=1,aY=function(t){function e(){var r;JX(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=eY(this,e,[].concat(i)),wy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wy(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return nY(e,t),QX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>o_||Math.abs(n.height-this.state.lastBoundingBox.height)>o_)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,m=i.position,x=i.reverseDirection,g=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,w=KX({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),N=w.cssClasses,_=w.cssProperties,S=s_(s_({transition:f&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return re.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(E){n.wrapperNode=E}},u)}}])}(T.PureComponent),sY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ts={isSsr:sY(),get:function(e){return Ts[e]},set:function(e,r){if(typeof e=="string")Ts[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Ts[i]=e[i]})}}};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function l_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(r),!0).forEach(function(n){qw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o8(n.key),n)}}function cY(t,e,r){return e&&lY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uY(t,e,r){return e=ax(e),dY(t,s8()?Reflect.construct(e,r||[],ax(t).constructor):e.apply(t,r))}function dY(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hY(t)}function hY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(t)}function fY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jy(t,e)}function qw(t,e,r){return e=o8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o8(t){var e=pY(t,"string");return ud(e)=="symbol"?e:e+""}function pY(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t){return t.dataKey}function xY(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(qX,e)}var Na=function(t){function e(){return oY(this,e),uY(this,e,arguments)}return fY(e,t),cY(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,m=i.payload,x=i.payloadUniqBy,g=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,N=i.wrapperStyle,_=m??[];h&&_.length&&(_=K6(m.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),x,mY));var S=_.length>0;return re.createElement(aY,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:s,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:N},xY(u,c_(c_({},this.props),{},{payload:_})))}}])}(T.PureComponent);qw(Na,"displayName","Tooltip");qw(Na,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ts.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gY=$s,vY=function(){return gY.Date.now()},bY=vY,yY=/\s/;function wY(t){for(var e=t.length;e--&&yY.test(t.charAt(e)););return e}var jY=wY,NY=jY,_Y=/^\s+/;function SY(t){return t&&t.slice(0,NY(t)+1).replace(_Y,"")}var AY=SY,CY=AY,u_=Nl,EY=Fd,d_=NaN,OY=/^[-+]0x[0-9a-f]+$/i,PY=/^0b[01]+$/i,kY=/^0o[0-7]+$/i,TY=parseInt;function IY(t){if(typeof t=="number")return t;if(EY(t))return d_;if(u_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=u_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=CY(t);var r=PY.test(t);return r||kY.test(t)?TY(t.slice(2),r?2:8):OY.test(t)?d_:+t}var l8=IY,DY=Nl,Ov=bY,h_=l8,MY="Expected a function",LY=Math.max,RY=Math.min;function FY(t,e,r){var n,i,s,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(MY);e=h_(e)||0,DY(r)&&(d=!!r.leading,h="maxWait"in r,s=h?LY(h_(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function p(S){var A=n,E=i;return n=i=void 0,u=S,o=t.apply(E,A),o}function m(S){return u=S,l=setTimeout(b,e),d?p(S):o}function x(S){var A=S-c,E=S-u,D=e-A;return h?RY(D,s-E):D}function g(S){var A=S-c,E=S-u;return c===void 0||A>=e||A<0||h&&E>=s}function b(){var S=Ov();if(g(S))return y(S);l=setTimeout(b,x(S))}function y(S){return l=void 0,f&&n?p(S):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function N(){return l===void 0?o:y(Ov())}function _(){var S=Ov(),A=g(S);if(n=arguments,i=this,c=S,A){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(b,e),p(c)}return l===void 0&&(l=setTimeout(b,e)),o}return _.cancel=w,_.flush=N,_}var BY=FY,$Y=BY,zY=Nl,UY="Expected a function";function HY(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(UY);return zY(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),$Y(t,e,{leading:n,maxWait:e,trailing:i})}var qY=HY;const c8=lr(qY);function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function f_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(r),!0).forEach(function(n){WY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WY(t,e,r){return e=VY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VY(t){var e=GY(t,"string");return Bf(e)=="symbol"?e:e+""}function GY(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XY(t,e){return ZY(t)||JY(t,e)||KY(t,e)||YY()}function YY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(t,e){if(t){if(typeof t=="string")return p_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p_(t,e)}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ZY(t){if(Array.isArray(t))return t}var sx=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,x=m===void 0?0:m,g=t.id,b=t.className,y=t.onResize,w=t.style,N=w===void 0?{}:w,_=T.useRef(null),S=T.useRef();S.current=y,T.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var A=T.useState({containerWidth:i.width,containerHeight:i.height}),E=XY(A,2),D=E[0],F=E[1],k=T.useCallback(function(B,L){F(function(W){var $=Math.round(B),z=Math.round(L);return W.containerWidth===$&&W.containerHeight===z?W:{containerWidth:$,containerHeight:z}})},[]);T.useEffect(function(){var B=function(Y){var le,fe=Y[0].contentRect,R=fe.width,I=fe.height;k(R,I),(le=S.current)===null||le===void 0||le.call(S,R,I)};x>0&&(B=c8(B,x,{trailing:!0,leading:!1}));var L=new ResizeObserver(B),W=_.current.getBoundingClientRect(),$=W.width,z=W.height;return k($,z),L.observe(_.current),function(){L.disconnect()}},[k,x]);var O=T.useMemo(function(){var B=D.containerWidth,L=D.containerHeight;if(B<0||L<0)return null;ts(ac(o)||ac(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ts(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=ac(o)?B:o,$=ac(c)?L:c;r&&r>0&&(W?$=W/r:$&&(W=$*r),f&&$>f&&($=f)),ts(W>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,$,o,c,d,h,r);var z=!Array.isArray(p)&&po(p.type).endsWith("Chart");return re.Children.map(p,function(X){return re.isValidElement(X)?T.cloneElement(X,qp({width:W,height:$},z?{style:qp({height:"100%",width:"100%",maxHeight:$,maxWidth:W},X.props.style)}:{})):X})},[r,p,c,f,h,d,D,o]);return re.createElement("div",{id:g?"".concat(g):void 0,className:Ct("recharts-responsive-container",b),style:qp(qp({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:_},O)}),I0=function(e){return null};I0.displayName="Cell";function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function m_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ny(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(r),!0).forEach(function(n){QY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QY(t,e,r){return e=eK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eK(t){var e=tK(t,"string");return $f(e)=="symbol"?e:e+""}function tK(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xu={widthCache:{},cacheCount:0},rK=2e3,nK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x_="recharts_measurement_span";function iK(t){var e=Ny({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var pf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ts.isSsr)return{width:0,height:0};var n=iK(r),i=JSON.stringify({text:e,copyStyle:n});if(xu.widthCache[i])return xu.widthCache[i];try{var s=document.getElementById(x_);s||(s=document.createElement("span"),s.setAttribute("id",x_),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ny(Ny({},nK),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return xu.widthCache[i]=c,++xu.cacheCount>rK&&(xu.cacheCount=0,xu.widthCache={}),c}catch{return{width:0,height:0}}},aK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function ox(t,e){return cK(t)||lK(t,e)||oK(t,e)||sK()}function sK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oK(t,e){if(t){if(typeof t=="string")return g_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(t,e)}}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function cK(t){if(Array.isArray(t))return t}function uK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hK(n.key),n)}}function dK(t,e,r){return e&&v_(t.prototype,e),r&&v_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hK(t){var e=fK(t,"string");return zf(e)=="symbol"?e:e+""}function fK(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,u8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xK=Object.keys(u8),Ru="NaN";function gK(t,e){return t*u8[e]}var Wp=function(){function t(e,r){uK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!pK.test(r)&&(this.num=NaN,this.unit=""),xK.includes(r)&&(this.num=gK(e,r),this.unit="px")}return dK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=mK.exec(r))!==null&&n!==void 0?n:[],s=ox(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function d8(t){if(t.includes(Ru))return Ru;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=b_.exec(e))!==null&&r!==void 0?r:[],i=ox(n,4),s=i[1],o=i[2],l=i[3],c=Wp.parse(s??""),u=Wp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ru;e=e.replace(b_,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=y_.exec(e))!==null&&h!==void 0?h:[],p=ox(f,4),m=p[1],x=p[2],g=p[3],b=Wp.parse(m??""),y=Wp.parse(g??""),w=x==="+"?b.add(y):b.subtract(y);if(w.isNaN())return Ru;e=e.replace(y_,w.toString())}return e}var w_=/\(([^()]*)\)/;function vK(t){for(var e=t;e.includes("(");){var r=w_.exec(e),n=ox(r,2),i=n[1];e=e.replace(w_,d8(i))}return e}function bK(t){var e=t.replace(/\s+/g,"");return e=vK(e),e=d8(e),e}function yK(t){try{return bK(t)}catch{return Ru}}function Pv(t){var e=yK(t.slice(5,-1));return e===Ru?"":e}var wK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jK=["dx","dy","angle","className","breakAll"];function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_y.apply(this,arguments)}function j_(t,e){if(t==null)return{};var r=NK(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N_(t,e){return CK(t)||AK(t,e)||SK(t,e)||_K()}function _K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SK(t,e){if(t){if(typeof t=="string")return __(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(t,e)}}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function CK(t){if(Array.isArray(t))return t}var h8=/[ \f\n\r\t\v\u2028\u2029]+/,f8=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];_t(r)||(n?s=r.toString().split(""):s=r.toString().split(h8));var o=s.map(function(c){return{word:c,width:pf(c,i).width}}),l=n?0:pf(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},EK=function(e,r,n,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=We(o),h=l,f=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function($,z){var X=z.word,Y=z.width,le=$[$.length-1];if(le&&(i==null||s||le.width+Y+n<Number(i)))le.words.push(X),le.width+=Y+n;else{var fe={words:[X],width:Y};$.push(fe)}return $},[])},p=f(r),m=function(W){return W.reduce(function($,z){return $.width>z.width?$:z})};if(!d)return p;for(var x="…",g=function(W){var $=h.slice(0,W),z=f8({breakAll:u,style:c,children:$+x}).wordsWithComputedWidth,X=f(z),Y=X.length>o||m(X).width>Number(i);return[Y,X]},b=0,y=h.length-1,w=0,N;b<=y&&w<=h.length-1;){var _=Math.floor((b+y)/2),S=_-1,A=g(S),E=N_(A,2),D=E[0],F=E[1],k=g(_),O=N_(k,1),B=O[0];if(!D&&!B&&(b=_+1),D&&B&&(y=_-1),!D&&B){N=F;break}w++}return N||p},S_=function(e){var r=_t(e)?[]:e.toString().split(h8);return[{words:r}]},OK=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Ts.isSsr){var c,u,d=f8({breakAll:o,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return S_(i);return EK({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return S_(i)},A_="#808080",jc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,x=m===void 0?"end":m,g=e.fill,b=g===void 0?A_:g,y=j_(e,wK),w=T.useMemo(function(){return OK({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),N=y.dx,_=y.dy,S=y.angle,A=y.className,E=y.breakAll,D=j_(y,jK);if(!An(n)||!An(s))return null;var F=n+(We(N)?N:0),k=s+(We(_)?_:0),O;switch(x){case"start":O=Pv("calc(".concat(u,")"));break;case"middle":O=Pv("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Pv("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(h){var L=w[0].width,W=y.width;B.push("scale(".concat((We(W)?W/L:1)/L,")"))}return S&&B.push("rotate(".concat(S,", ").concat(F,", ").concat(k,")")),B.length&&(D.transform=B.join(" ")),re.createElement("text",_y({},ut(D,!0),{x:F,y:k,className:Ct("recharts-text",A),textAnchor:p,fill:b.includes("url")?A_:b}),w.map(function($,z){var X=$.words.join(E?"":" ");return re.createElement("tspan",{x:F,dy:z===0?O:l,key:"".concat(X,"-").concat(z)},X)}))};function fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ww(t){let e,r,n;t.length!==2?(e=fl,r=(l,c)=>fl(t(l),c),n=(l,c)=>t(l)-c):(e=t===fl||t===PK?t:kK,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:s}}function kK(){return 0}function p8(t){return t===null?NaN:+t}function*TK(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const IK=Ww(fl),D0=IK.right;Ww(p8).center;class C_ extends Map{constructor(e,r=LK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(E_(this,e))}has(e){return super.has(E_(this,e))}set(e,r){return super.set(DK(this,e),r)}delete(e){return super.delete(MK(this,e))}}function E_({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function DK({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function MK({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function LK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function RK(t=fl){if(t===fl)return m8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function m8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const FK=Math.sqrt(50),BK=Math.sqrt(10),$K=Math.sqrt(2);function lx(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=FK?10:s>=BK?5:s>=$K?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?lx(t,e,r*2):[l,c,u]}function Sy(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?lx(e,t,r):lx(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Ay(t,e,r){return e=+e,t=+t,r=+r,lx(t,e,r)[2]}function Cy(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ay(e,t,r):Ay(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function O_(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function P_(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function x8(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?m8:RK(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/c+f)),m=Math.min(n,Math.floor(e+(c-u)*h/c+f));x8(t,e,p,m,i)}const s=t[e];let o=r,l=n;for($h(t,r,e),i(t[n],s)>0&&$h(t,r,n);o<l;){for($h(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?$h(t,r,l):(++l,$h(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function $h(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function zK(t,e,r){if(t=Float64Array.from(TK(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return P_(t);if(e>=1)return O_(t);var n,i=(n-1)*e,s=Math.floor(i),o=O_(x8(t,s).subarray(0,s+1)),l=P_(t.subarray(s+1));return o+(l-o)*(i-s)}}function UK(t,e,r=p8){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function HK(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function So(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ey=Symbol("implicit");function Vw(){var t=new C_,e=[],r=[],n=Ey;function i(s){let o=t.get(s);if(o===void 0){if(n!==Ey)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new C_;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Vw(e,r).unknown(n)},Ia.apply(i,arguments),i}function Uf(){var t=Vw().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,m=p?i:n,x=p?n:i;s=(x-m)/Math.max(1,f-c+u*2),l&&(s=Math.floor(s)),m+=(x-m-s*(f-c))*d,o=s*(1-c),l&&(m=Math.round(m),o=Math.round(o));var g=HK(f).map(function(b){return m+s*b});return r(p?g.reverse():g)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return Uf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ia.apply(h(),arguments)}function g8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return g8(e())},t}function mf(){return g8(Uf.apply(null,arguments).paddingInner(1))}function Gw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function v8(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function M0(){}var Hf=.7,cx=1/Hf,Ju="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qK=/^#([0-9a-f]{3,8})$/,WK=new RegExp(`^rgb\\(${Ju},${Ju},${Ju}\\)$`),VK=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),GK=new RegExp(`^rgba\\(${Ju},${Ju},${Ju},${qf}\\)$`),XK=new RegExp(`^rgba\\(${Is},${Is},${Is},${qf}\\)$`),YK=new RegExp(`^hsl\\(${qf},${Is},${Is}\\)$`),KK=new RegExp(`^hsla\\(${qf},${Is},${Is},${qf}\\)$`),k_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gw(M0,Wf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:T_,formatHex:T_,formatHex8:JK,formatHsl:ZK,formatRgb:I_,toString:I_});function T_(){return this.rgb().formatHex()}function JK(){return this.rgb().formatHex8()}function ZK(){return b8(this).formatHsl()}function I_(){return this.rgb().formatRgb()}function Wf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=qK.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?D_(e):r===3?new zi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Vp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Vp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=WK.exec(t))?new zi(e[1],e[2],e[3],1):(e=VK.exec(t))?new zi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=GK.exec(t))?Vp(e[1],e[2],e[3],e[4]):(e=XK.exec(t))?Vp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=YK.exec(t))?R_(e[1],e[2]/100,e[3]/100,1):(e=KK.exec(t))?R_(e[1],e[2]/100,e[3]/100,e[4]):k_.hasOwnProperty(t)?D_(k_[t]):t==="transparent"?new zi(NaN,NaN,NaN,0):null}function D_(t){return new zi(t>>16&255,t>>8&255,t&255,1)}function Vp(t,e,r,n){return n<=0&&(t=e=r=NaN),new zi(t,e,r,n)}function QK(t){return t instanceof M0||(t=Wf(t)),t?(t=t.rgb(),new zi(t.r,t.g,t.b,t.opacity)):new zi}function Oy(t,e,r,n){return arguments.length===1?QK(t):new zi(t,e,r,n??1)}function zi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Gw(zi,Oy,v8(M0,{brighter(t){return t=t==null?cx:Math.pow(cx,t),new zi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hf:Math.pow(Hf,t),new zi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zi(fc(this.r),fc(this.g),fc(this.b),ux(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M_,formatHex:M_,formatHex8:eJ,formatRgb:L_,toString:L_}));function M_(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}`}function eJ(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}${sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function L_(){const t=ux(this.opacity);return`${t===1?"rgb(":"rgba("}${fc(this.r)}, ${fc(this.g)}, ${fc(this.b)}${t===1?")":`, ${t})`}`}function ux(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function sc(t){return t=fc(t),(t<16?"0":"")+t.toString(16)}function R_(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Za(t,e,r,n)}function b8(t){if(t instanceof Za)return new Za(t.h,t.s,t.l,t.opacity);if(t instanceof M0||(t=Wf(t)),!t)return new Za;if(t instanceof Za)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Za(o,l,c,t.opacity)}function tJ(t,e,r,n){return arguments.length===1?b8(t):new Za(t,e,r,n??1)}function Za(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Gw(Za,tJ,v8(M0,{brighter(t){return t=t==null?cx:Math.pow(cx,t),new Za(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hf:Math.pow(Hf,t),new Za(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new zi(kv(t>=240?t-240:t+120,i,n),kv(t,i,n),kv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Za(F_(this.h),Gp(this.s),Gp(this.l),ux(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ux(this.opacity);return`${t===1?"hsl(":"hsla("}${F_(this.h)}, ${Gp(this.s)*100}%, ${Gp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function F_(t){return t=(t||0)%360,t<0?t+360:t}function Gp(t){return Math.max(0,Math.min(1,t||0))}function kv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Xw=t=>()=>t;function rJ(t,e){return function(r){return t+r*e}}function nJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function iJ(t){return(t=+t)==1?y8:function(e,r){return r-e?nJ(e,r,t):Xw(isNaN(e)?r:e)}}function y8(t,e){var r=e-t;return r?rJ(t,r):Xw(isNaN(t)?e:t)}const B_=function t(e){var r=iJ(e);function n(i,s){var o=r((i=Oy(i)).r,(s=Oy(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=y8(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function aJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function sJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Gd(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function lJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function dx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function cJ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Gd(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tv=new RegExp(Py.source,"g");function uJ(t){return function(){return t}}function dJ(t){return function(e){return t(e)+""}}function hJ(t,e){var r=Py.lastIndex=Tv.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Py.exec(t))&&(i=Tv.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:dx(n,i)})),r=Tv.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?dJ(c[0].x):uJ(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Gd(t,e){var r=typeof e,n;return e==null||r==="boolean"?Xw(e):(r==="number"?dx:r==="string"?(n=Wf(e))?(e=n,B_):hJ:e instanceof Wf?B_:e instanceof Date?lJ:sJ(e)?aJ:Array.isArray(e)?oJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cJ:dx)(t,e)}function Yw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function fJ(t,e){e===void 0&&(e=t,t=Gd);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function pJ(t){return function(){return t}}function hx(t){return+t}var $_=[0,1];function Ai(t){return t}function ky(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:pJ(isNaN(e)?NaN:.5)}function mJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function xJ(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=ky(i,n),s=r(o,s)):(n=ky(n,i),s=r(s,o)),function(l){return s(n(l))}}function gJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=ky(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=D0(t,l,1,n)-1;return s[c](i[c](l))}}function L0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function z1(){var t=$_,e=$_,r=Gd,n,i,s,o=Ai,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==Ai&&(o=mJ(t[0],t[f-1])),l=f>2?gJ:xJ,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(i((u||(u=l(e,t.map(n),dx)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,hx),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=Yw,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Ai,d()):o!==Ai},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return n=f,i=p,d()}}function Kw(){return z1()(Ai,Ai)}function vJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fx(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function dd(t){return t=fx(Math.abs(t)),t?t[1]:NaN}function bJ(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function yJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var wJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vf(t){if(!(e=wJ.exec(t)))throw new Error("invalid format: "+t);var e;return new Jw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vf.prototype=Jw.prototype;function Jw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Jw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jJ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var w8;function NJ(t,e){var r=fx(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(w8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fx(t,Math.max(0,e+s-1))[0]}function z_(t,e){var r=fx(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const U_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>z_(t*100,e),r:z_,s:NJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function H_(t){return t}var q_=Array.prototype.map,W_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _J(t){var e=t.grouping===void 0||t.thousands===void 0?H_:bJ(q_.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?H_:yJ(q_.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Vf(h);var f=h.fill,p=h.align,m=h.sign,x=h.symbol,g=h.zero,b=h.width,y=h.comma,w=h.precision,N=h.trim,_=h.type;_==="n"?(y=!0,_="g"):U_[_]||(w===void 0&&(w=12),N=!0,_="g"),(g||f==="0"&&p==="=")&&(g=!0,f="0",p="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=x==="$"?n:/[%p]/.test(_)?o:"",E=U_[_],D=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function F(k){var O=S,B=A,L,W,$;if(_==="c")B=E(k)+B,k="";else{k=+k;var z=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),w),N&&(k=jJ(k)),z&&+k==0&&m!=="+"&&(z=!1),O=(z?m==="("?m:l:m==="-"||m==="("?"":m)+O,B=(_==="s"?W_[8+w8/3]:"")+B+(z&&m==="("?")":""),D){for(L=-1,W=k.length;++L<W;)if($=k.charCodeAt(L),48>$||$>57){B=($===46?i+k.slice(L+1):k.slice(L))+B,k=k.slice(0,L);break}}}y&&!g&&(k=e(k,1/0));var X=O.length+k.length+B.length,Y=X<b?new Array(b-X+1).join(f):"";switch(y&&g&&(k=e(Y+k,Y.length?b-B.length:1/0),Y=""),p){case"<":k=O+k+B+Y;break;case"=":k=O+Y+k+B;break;case"^":k=Y.slice(0,X=Y.length>>1)+O+k+B+Y.slice(X);break;default:k=Y+O+k+B;break}return s(k)}return F.toString=function(){return h+""},F}function d(h,f){var p=u((h=Vf(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(dd(f)/3)))*3,x=Math.pow(10,-m),g=W_[8+m/3];return function(b){return p(x*b)+g}}return{format:u,formatPrefix:d}}var Xp,Zw,j8;SJ({thousands:",",grouping:[3],currency:["$",""]});function SJ(t){return Xp=_J(t),Zw=Xp.format,j8=Xp.formatPrefix,Xp}function AJ(t){return Math.max(0,-dd(Math.abs(t)))}function CJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dd(e)/3)))*3-dd(Math.abs(t)))}function EJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dd(e)-dd(t))+1}function N8(t,e,r,n){var i=Cy(t,e,r),s;switch(n=Vf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=CJ(i,o))&&(n.precision=s),j8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=EJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=AJ(i))&&(n.precision=s-(n.type==="%")*2);break}}return Zw(n)}function _l(t){var e=t.domain;return t.ticks=function(r){var n=e();return Sy(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return N8(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Ay(o,l,r),u===c)return n[i]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function px(){var t=Kw();return t.copy=function(){return L0(t,px())},Ia.apply(t,arguments),_l(t)}function _8(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,hx),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return _8(t).unknown(e)},t=arguments.length?Array.from(t,hx):[0,1],_l(r)}function S8(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function V_(t){return Math.log(t)}function G_(t){return Math.exp(t)}function OJ(t){return-Math.log(-t)}function PJ(t){return-Math.exp(-t)}function kJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function TJ(t){return t===10?kJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function IJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function X_(t){return(e,r)=>-t(-e,r)}function Qw(t){const e=t(V_,G_),r=e.domain;let n=10,i,s;function o(){return i=IJ(n),s=TJ(n),r()[0]<0?(i=X_(i),s=X_(s),t(OJ,PJ)):t(V_,G_),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),m,x;const g=l==null?10:+l;let b=[];if(!(n%1)&&p-f<g){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(m=1;m<n;++m)if(x=f<0?m/s(-f):m*s(f),!(x<u)){if(x>d)break;b.push(x)}}else for(;f<=p;++f)for(m=n-1;m>=1;--m)if(x=f>0?m/s(-f):m*s(f),!(x<u)){if(x>d)break;b.push(x)}b.length*2<g&&(b=Sy(u,d,g))}else b=Sy(f,p,Math.min(p-f,g)).map(s);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Vf(c)).precision==null&&(c.trim=!0),c=Zw(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(S8(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function A8(){const t=Qw(z1()).domain([1,10]);return t.copy=()=>L0(t,A8()).base(t.base()),Ia.apply(t,arguments),t}function Y_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function K_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function e5(t){var e=1,r=t(Y_(e),K_(e));return r.constant=function(n){return arguments.length?t(Y_(e=+n),K_(e)):e},_l(r)}function C8(){var t=e5(z1());return t.copy=function(){return L0(t,C8()).constant(t.constant())},Ia.apply(t,arguments)}function J_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function DJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function MJ(t){return t<0?-t*t:t*t}function t5(t){var e=t(Ai,Ai),r=1;function n(){return r===1?t(Ai,Ai):r===.5?t(DJ,MJ):t(J_(r),J_(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},_l(e)}function r5(){var t=t5(z1());return t.copy=function(){return L0(t,r5()).exponent(t.exponent())},Ia.apply(t,arguments),t}function LJ(){return r5.apply(null,arguments).exponent(.5)}function Z_(t){return Math.sign(t)*t*t}function RJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function E8(){var t=Kw(),e=[0,1],r=!1,n;function i(s){var o=RJ(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(Z_(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,hx)).map(Z_)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return E8(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ia.apply(i,arguments),_l(i)}function O8(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=UK(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[D0(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(fl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return O8().domain(t).range(e).unknown(n)},Ia.apply(s,arguments)}function P8(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[D0(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return P8().domain([t,e]).range(i).unknown(s)},Ia.apply(_l(o),arguments)}function k8(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[D0(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return k8().domain(t).range(e).unknown(r)},Ia.apply(i,arguments)}const Iv=new Date,Dv=new Date;function En(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>En(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(Iv.setTime(+s),Dv.setTime(+o),t(Iv),t(Dv),Math.floor(r(Iv,Dv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const mx=En(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?En(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mx);mx.range;const uo=1e3,Aa=uo*60,ho=Aa*60,bo=ho*24,n5=bo*7,Q_=bo*30,Mv=bo*365,oc=En(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*uo)},(t,e)=>(e-t)/uo,t=>t.getUTCSeconds());oc.range;const i5=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uo)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getMinutes());i5.range;const a5=En(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getUTCMinutes());a5.range;const s5=En(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uo-t.getMinutes()*Aa)},(t,e)=>{t.setTime(+t+e*ho)},(t,e)=>(e-t)/ho,t=>t.getHours());s5.range;const o5=En(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ho)},(t,e)=>(e-t)/ho,t=>t.getUTCHours());o5.range;const R0=En(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Aa)/bo,t=>t.getDate()-1);R0.range;const U1=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bo,t=>t.getUTCDate()-1);U1.range;const T8=En(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bo,t=>Math.floor(t/bo));T8.range;function Ic(t){return En(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Aa)/n5)}const H1=Ic(0),xx=Ic(1),FJ=Ic(2),BJ=Ic(3),hd=Ic(4),$J=Ic(5),zJ=Ic(6);H1.range;xx.range;FJ.range;BJ.range;hd.range;$J.range;zJ.range;function Dc(t){return En(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/n5)}const q1=Dc(0),gx=Dc(1),UJ=Dc(2),HJ=Dc(3),fd=Dc(4),qJ=Dc(5),WJ=Dc(6);q1.range;gx.range;UJ.range;HJ.range;fd.range;qJ.range;WJ.range;const l5=En(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());l5.range;const c5=En(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());c5.range;const yo=En(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});yo.range;const wo=En(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());wo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:En(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});wo.range;function I8(t,e,r,n,i,s){const o=[[oc,1,uo],[oc,5,5*uo],[oc,15,15*uo],[oc,30,30*uo],[s,1,Aa],[s,5,5*Aa],[s,15,15*Aa],[s,30,30*Aa],[i,1,ho],[i,3,3*ho],[i,6,6*ho],[i,12,12*ho],[n,1,bo],[n,2,2*bo],[r,1,n5],[e,1,Q_],[e,3,3*Q_],[t,1,Mv]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),m=p?p.range(u,+d+1):[];return f?m.reverse():m}function c(u,d,h){const f=Math.abs(d-u)/h,p=Ww(([,,g])=>g).right(o,f);if(p===o.length)return t.every(Cy(u/Mv,d/Mv,h));if(p===0)return mx.every(Math.max(Cy(u,d,h),1));const[m,x]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(x)}return[l,c]}const[VJ,GJ]=I8(wo,c5,q1,T8,o5,a5),[XJ,YJ]=I8(yo,l5,H1,R0,s5,i5);function Lv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function KJ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Uh(i),d=Hh(i),h=Uh(s),f=Hh(s),p=Uh(o),m=Hh(o),x=Uh(l),g=Hh(l),b=Uh(c),y=Hh(c),w={a:z,A:X,b:Y,B:le,c:null,d:a4,e:a4,f:bZ,g:OZ,G:kZ,H:xZ,I:gZ,j:vZ,L:D8,m:yZ,M:wZ,p:fe,q:R,Q:l4,s:c4,S:jZ,u:NZ,U:_Z,V:SZ,w:AZ,W:CZ,x:null,X:null,y:EZ,Y:PZ,Z:TZ,"%":o4},N={a:I,A:q,b:Q,B:J,c:null,d:s4,e:s4,f:LZ,g:VZ,G:XZ,H:IZ,I:DZ,j:MZ,L:L8,m:RZ,M:FZ,p:de,q:ve,Q:l4,s:c4,S:BZ,u:$Z,U:zZ,V:UZ,w:HZ,W:qZ,x:null,X:null,y:WZ,Y:GZ,Z:YZ,"%":o4},_={a:F,A:k,b:O,B,c:L,d:n4,e:n4,f:hZ,g:r4,G:t4,H:i4,I:i4,j:lZ,L:dZ,m:oZ,M:cZ,p:D,q:sZ,Q:pZ,s:mZ,S:uZ,u:tZ,U:rZ,V:nZ,w:eZ,W:iZ,x:W,X:$,y:r4,Y:t4,Z:aZ,"%":fZ};w.x=S(r,w),w.X=S(n,w),w.c=S(e,w),N.x=S(r,N),N.X=S(n,N),N.c=S(e,N);function S(ue,Oe){return function(Ee){var ae=[],Pe=-1,De=0,he=ue.length,te,Ue,ee;for(Ee instanceof Date||(Ee=new Date(+Ee));++Pe<he;)ue.charCodeAt(Pe)===37&&(ae.push(ue.slice(De,Pe)),(Ue=e4[te=ue.charAt(++Pe)])!=null?te=ue.charAt(++Pe):Ue=te==="e"?" ":"0",(ee=Oe[te])&&(te=ee(Ee,Ue)),ae.push(te),De=Pe+1);return ae.push(ue.slice(De,Pe)),ae.join("")}}function A(ue,Oe){return function(Ee){var ae=zh(1900,void 0,1),Pe=E(ae,ue,Ee+="",0),De,he;if(Pe!=Ee.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Oe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(De=Rv(zh(ae.y,0,1)),he=De.getUTCDay(),De=he>4||he===0?gx.ceil(De):gx(De),De=U1.offset(De,(ae.V-1)*7),ae.y=De.getUTCFullYear(),ae.m=De.getUTCMonth(),ae.d=De.getUTCDate()+(ae.w+6)%7):(De=Lv(zh(ae.y,0,1)),he=De.getDay(),De=he>4||he===0?xx.ceil(De):xx(De),De=R0.offset(De,(ae.V-1)*7),ae.y=De.getFullYear(),ae.m=De.getMonth(),ae.d=De.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),he="Z"in ae?Rv(zh(ae.y,0,1)).getUTCDay():Lv(zh(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(he+5)%7:ae.w+ae.U*7-(he+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Rv(ae)):Lv(ae)}}function E(ue,Oe,Ee,ae){for(var Pe=0,De=Oe.length,he=Ee.length,te,Ue;Pe<De;){if(ae>=he)return-1;if(te=Oe.charCodeAt(Pe++),te===37){if(te=Oe.charAt(Pe++),Ue=_[te in e4?Oe.charAt(Pe++):te],!Ue||(ae=Ue(ue,Ee,ae))<0)return-1}else if(te!=Ee.charCodeAt(ae++))return-1}return ae}function D(ue,Oe,Ee){var ae=u.exec(Oe.slice(Ee));return ae?(ue.p=d.get(ae[0].toLowerCase()),Ee+ae[0].length):-1}function F(ue,Oe,Ee){var ae=p.exec(Oe.slice(Ee));return ae?(ue.w=m.get(ae[0].toLowerCase()),Ee+ae[0].length):-1}function k(ue,Oe,Ee){var ae=h.exec(Oe.slice(Ee));return ae?(ue.w=f.get(ae[0].toLowerCase()),Ee+ae[0].length):-1}function O(ue,Oe,Ee){var ae=b.exec(Oe.slice(Ee));return ae?(ue.m=y.get(ae[0].toLowerCase()),Ee+ae[0].length):-1}function B(ue,Oe,Ee){var ae=x.exec(Oe.slice(Ee));return ae?(ue.m=g.get(ae[0].toLowerCase()),Ee+ae[0].length):-1}function L(ue,Oe,Ee){return E(ue,e,Oe,Ee)}function W(ue,Oe,Ee){return E(ue,r,Oe,Ee)}function $(ue,Oe,Ee){return E(ue,n,Oe,Ee)}function z(ue){return o[ue.getDay()]}function X(ue){return s[ue.getDay()]}function Y(ue){return c[ue.getMonth()]}function le(ue){return l[ue.getMonth()]}function fe(ue){return i[+(ue.getHours()>=12)]}function R(ue){return 1+~~(ue.getMonth()/3)}function I(ue){return o[ue.getUTCDay()]}function q(ue){return s[ue.getUTCDay()]}function Q(ue){return c[ue.getUTCMonth()]}function J(ue){return l[ue.getUTCMonth()]}function de(ue){return i[+(ue.getUTCHours()>=12)]}function ve(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Oe=S(ue+="",w);return Oe.toString=function(){return ue},Oe},parse:function(ue){var Oe=A(ue+="",!1);return Oe.toString=function(){return ue},Oe},utcFormat:function(ue){var Oe=S(ue+="",N);return Oe.toString=function(){return ue},Oe},utcParse:function(ue){var Oe=A(ue+="",!0);return Oe.toString=function(){return ue},Oe}}}var e4={"-":"",_:" ",0:"0"},Un=/^\s*\d+/,JJ=/^%/,ZJ=/[\\^$*+?|[\]().{}]/g;function Gt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function QJ(t){return t.replace(ZJ,"\\$&")}function Uh(t){return new RegExp("^(?:"+t.map(QJ).join("|")+")","i")}function Hh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function eZ(t,e,r){var n=Un.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function tZ(t,e,r){var n=Un.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function rZ(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function nZ(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function iZ(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function t4(t,e,r){var n=Un.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function r4(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sZ(t,e,r){var n=Un.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function oZ(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function n4(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function lZ(t,e,r){var n=Un.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function i4(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function cZ(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function uZ(t,e,r){var n=Un.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function dZ(t,e,r){var n=Un.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hZ(t,e,r){var n=Un.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fZ(t,e,r){var n=JJ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pZ(t,e,r){var n=Un.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function mZ(t,e,r){var n=Un.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function a4(t,e){return Gt(t.getDate(),e,2)}function xZ(t,e){return Gt(t.getHours(),e,2)}function gZ(t,e){return Gt(t.getHours()%12||12,e,2)}function vZ(t,e){return Gt(1+R0.count(yo(t),t),e,3)}function D8(t,e){return Gt(t.getMilliseconds(),e,3)}function bZ(t,e){return D8(t,e)+"000"}function yZ(t,e){return Gt(t.getMonth()+1,e,2)}function wZ(t,e){return Gt(t.getMinutes(),e,2)}function jZ(t,e){return Gt(t.getSeconds(),e,2)}function NZ(t){var e=t.getDay();return e===0?7:e}function _Z(t,e){return Gt(H1.count(yo(t)-1,t),e,2)}function M8(t){var e=t.getDay();return e>=4||e===0?hd(t):hd.ceil(t)}function SZ(t,e){return t=M8(t),Gt(hd.count(yo(t),t)+(yo(t).getDay()===4),e,2)}function AZ(t){return t.getDay()}function CZ(t,e){return Gt(xx.count(yo(t)-1,t),e,2)}function EZ(t,e){return Gt(t.getFullYear()%100,e,2)}function OZ(t,e){return t=M8(t),Gt(t.getFullYear()%100,e,2)}function PZ(t,e){return Gt(t.getFullYear()%1e4,e,4)}function kZ(t,e){var r=t.getDay();return t=r>=4||r===0?hd(t):hd.ceil(t),Gt(t.getFullYear()%1e4,e,4)}function TZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gt(e/60|0,"0",2)+Gt(e%60,"0",2)}function s4(t,e){return Gt(t.getUTCDate(),e,2)}function IZ(t,e){return Gt(t.getUTCHours(),e,2)}function DZ(t,e){return Gt(t.getUTCHours()%12||12,e,2)}function MZ(t,e){return Gt(1+U1.count(wo(t),t),e,3)}function L8(t,e){return Gt(t.getUTCMilliseconds(),e,3)}function LZ(t,e){return L8(t,e)+"000"}function RZ(t,e){return Gt(t.getUTCMonth()+1,e,2)}function FZ(t,e){return Gt(t.getUTCMinutes(),e,2)}function BZ(t,e){return Gt(t.getUTCSeconds(),e,2)}function $Z(t){var e=t.getUTCDay();return e===0?7:e}function zZ(t,e){return Gt(q1.count(wo(t)-1,t),e,2)}function R8(t){var e=t.getUTCDay();return e>=4||e===0?fd(t):fd.ceil(t)}function UZ(t,e){return t=R8(t),Gt(fd.count(wo(t),t)+(wo(t).getUTCDay()===4),e,2)}function HZ(t){return t.getUTCDay()}function qZ(t,e){return Gt(gx.count(wo(t)-1,t),e,2)}function WZ(t,e){return Gt(t.getUTCFullYear()%100,e,2)}function VZ(t,e){return t=R8(t),Gt(t.getUTCFullYear()%100,e,2)}function GZ(t,e){return Gt(t.getUTCFullYear()%1e4,e,4)}function XZ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?fd(t):fd.ceil(t),Gt(t.getUTCFullYear()%1e4,e,4)}function YZ(){return"+0000"}function o4(){return"%"}function l4(t){return+t}function c4(t){return Math.floor(+t/1e3)}var gu,F8,B8;KZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KZ(t){return gu=KJ(t),F8=gu.format,gu.parse,B8=gu.utcFormat,gu.utcParse,gu}function JZ(t){return new Date(t)}function ZZ(t){return t instanceof Date?+t:+new Date(+t)}function u5(t,e,r,n,i,s,o,l,c,u){var d=Kw(),h=d.invert,f=d.domain,p=u(".%L"),m=u(":%S"),x=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),N=u("%Y");function _(S){return(c(S)<S?p:l(S)<S?m:o(S)<S?x:s(S)<S?g:n(S)<S?i(S)<S?b:y:r(S)<S?w:N)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?f(Array.from(S,ZZ)):f().map(JZ)},d.ticks=function(S){var A=f();return t(A[0],A[A.length-1],S??10)},d.tickFormat=function(S,A){return A==null?_:u(A)},d.nice=function(S){var A=f();return(!S||typeof S.range!="function")&&(S=e(A[0],A[A.length-1],S??10)),S?f(S8(A,S)):d},d.copy=function(){return L0(d,u5(t,e,r,n,i,s,o,l,c,u))},d}function QZ(){return Ia.apply(u5(XJ,YJ,yo,l5,H1,R0,s5,i5,oc,F8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eQ(){return Ia.apply(u5(VJ,GJ,wo,c5,q1,U1,o5,a5,oc,B8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function W1(){var t=0,e=1,r,n,i,s,o=Ai,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(s(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var p,m;return arguments.length?([p,m]=f,o=h(p,m),u):[o(0),o(1)]}}return u.range=d(Gd),u.rangeRound=d(Yw),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $8(){var t=_l(W1()(Ai));return t.copy=function(){return Sl(t,$8())},So.apply(t,arguments)}function z8(){var t=Qw(W1()).domain([1,10]);return t.copy=function(){return Sl(t,z8()).base(t.base())},So.apply(t,arguments)}function U8(){var t=e5(W1());return t.copy=function(){return Sl(t,U8()).constant(t.constant())},So.apply(t,arguments)}function d5(){var t=t5(W1());return t.copy=function(){return Sl(t,d5()).exponent(t.exponent())},So.apply(t,arguments)}function tQ(){return d5.apply(null,arguments).exponent(.5)}function H8(){var t=[],e=Ai;function r(n){if(n!=null&&!isNaN(n=+n))return e((D0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>zK(t,s/n))},r.copy=function(){return H8(e).domain(t)},So.apply(r,arguments)}function V1(){var t=0,e=.5,r=1,n=1,i,s,o,l,c,u=Ai,d,h=!1,f;function p(x){return isNaN(x=+x)?f:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(h?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),s=d(e=+e),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(x){return arguments.length?(h=!!x,p):h},p.interpolator=function(x){return arguments.length?(u=x,p):u};function m(x){return function(g){var b,y,w;return arguments.length?([b,y,w]=g,u=fJ(x,[b,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(Gd),p.rangeRound=m(Yw),p.unknown=function(x){return arguments.length?(f=x,p):f},function(x){return d=x,i=x(t),s=x(e),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,p}}function q8(){var t=_l(V1()(Ai));return t.copy=function(){return Sl(t,q8())},So.apply(t,arguments)}function W8(){var t=Qw(V1()).domain([.1,1,10]);return t.copy=function(){return Sl(t,W8()).base(t.base())},So.apply(t,arguments)}function V8(){var t=e5(V1());return t.copy=function(){return Sl(t,V8()).constant(t.constant())},So.apply(t,arguments)}function h5(){var t=t5(V1());return t.copy=function(){return Sl(t,h5()).exponent(t.exponent())},So.apply(t,arguments)}function rQ(){return h5.apply(null,arguments).exponent(.5)}const u4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uf,scaleDiverging:q8,scaleDivergingLog:W8,scaleDivergingPow:h5,scaleDivergingSqrt:rQ,scaleDivergingSymlog:V8,scaleIdentity:_8,scaleImplicit:Ey,scaleLinear:px,scaleLog:A8,scaleOrdinal:Vw,scalePoint:mf,scalePow:r5,scaleQuantile:O8,scaleQuantize:P8,scaleRadial:E8,scaleSequential:$8,scaleSequentialLog:z8,scaleSequentialPow:d5,scaleSequentialQuantile:H8,scaleSequentialSqrt:tQ,scaleSequentialSymlog:U8,scaleSqrt:LJ,scaleSymlog:C8,scaleThreshold:k8,scaleTime:QZ,scaleUtc:eQ,tickFormat:N8},Symbol.toStringTag,{value:"Module"}));var nQ=Fd;function iQ(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],o=e(s);if(o!=null&&(l===void 0?o===o&&!nQ(o):r(o,l)))var l=o,c=s}return c}var G1=iQ;function aQ(t,e){return t>e}var G8=aQ,sQ=G1,oQ=G8,lQ=Vd;function cQ(t){return t&&t.length?sQ(t,lQ,oQ):void 0}var uQ=cQ;const X1=lr(uQ);function dQ(t,e){return t<e}var X8=dQ,hQ=G1,fQ=X8,pQ=Vd;function mQ(t){return t&&t.length?hQ(t,pQ,fQ):void 0}var xQ=mQ;const Y1=lr(xQ);var gQ=Aw,vQ=zs,bQ=r8,yQ=qi;function wQ(t,e){var r=yQ(t)?gQ:bQ;return r(t,vQ(e))}var jQ=wQ,NQ=e8,_Q=jQ;function SQ(t,e){return NQ(_Q(t,e),1)}var AQ=SQ;const CQ=lr(AQ);var EQ=zw;function OQ(t,e){return EQ(t,e)}var PQ=OQ;const F0=lr(PQ);var Xd=1e9,kQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p5,Dr=!0,Oa="[DecimalError] ",pc=Oa+"Invalid argument: ",f5=Oa+"Exponent out of range: ",Yd=Math.floor,Zl=Math.pow,TQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia,Rn=1e7,Pr=7,Y8=9007199254740991,vx=Yd(Y8/Pr),Qe={};Qe.absoluteValue=Qe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Qe.comparedTo=Qe.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Qe.dividedBy=Qe.div=function(t){return mo(this,new this.constructor(t))};Qe.dividedToIntegerBy=Qe.idiv=function(t){var e=this,r=e.constructor;return gr(mo(e,new r(t),0,1),r.precision)};Qe.equals=Qe.eq=function(t){return!this.cmp(t)};Qe.exponent=function(){return dn(this)};Qe.greaterThan=Qe.gt=function(t){return this.cmp(t)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(t){return this.cmp(t)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(t){return this.cmp(t)<0};Qe.lessThanOrEqualTo=Qe.lte=function(t){return this.cmp(t)<1};Qe.logarithm=Qe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ia))throw Error(Oa+"NaN");if(r.s<1)throw Error(Oa+(r.s?"NaN":"-Infinity"));return r.eq(ia)?new n(0):(Dr=!1,e=mo(Gf(r,s),Gf(t,s),s),Dr=!0,gr(e,i))};Qe.minus=Qe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z8(e,t):K8(e,(t.s=-t.s,t))};Qe.modulo=Qe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Oa+"NaN");return r.s?(Dr=!1,e=mo(r,t,0,1).times(t),Dr=!0,r.minus(e)):gr(new n(r),i)};Qe.naturalExponential=Qe.exp=function(){return J8(this)};Qe.naturalLogarithm=Qe.ln=function(){return Gf(this)};Qe.negated=Qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Qe.plus=Qe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?K8(e,t):Z8(e,(t.s=-t.s,t))};Qe.precision=Qe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pc+t);if(e=dn(i)+1,n=i.d.length-1,r=n*Pr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Qe.squareRoot=Qe.sqrt=function(){var t,e,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Oa+"NaN")}for(t=dn(l),Dr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Cs(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(mo(l,s,o+2)).times(.5),Cs(s.d).slice(0,o)===(e=Cs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(gr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return Dr=!0,gr(n,r)};Qe.times=Qe.mul=function(t){var e,r,n,i,s,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=p.length,c<u&&(s=f,f=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+p[n]*f[i-n-1]+e,s[i--]=l%Rn|0,e=l/Rn|0;s[i]=(s[i]+e)%Rn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Dr?gr(t,h.precision):t};Qe.toDecimalPlaces=Qe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ls(t,0,Xd),e===void 0?e=n.rounding:Ls(e,0,8),gr(r,t+dn(r)+1,e))};Qe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Nc(n,!0):(Ls(t,0,Xd),e===void 0?e=i.rounding:Ls(e,0,8),n=gr(new i(n),t+1,e),r=Nc(n,!0,t+1)),r};Qe.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Nc(i):(Ls(t,0,Xd),e===void 0?e=s.rounding:Ls(e,0,8),n=gr(new s(i),t+dn(i)+1,e),r=Nc(n.abs(),!1,t+dn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Qe.toInteger=Qe.toint=function(){var t=this,e=t.constructor;return gr(new e(t),dn(t)+1,e.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(t){var e,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(ia);if(l=new c(l),!l.s){if(t.s<1)throw Error(Oa+"Infinity");return l}if(l.eq(ia))return l;if(n=c.precision,t.eq(ia))return gr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=d<0?-d:d)<=Y8){for(i=new c(ia),e=Math.ceil(n/Pr+4),Dr=!1;r%2&&(i=i.times(l),h4(i.d,e)),r=Yd(r/2),r!==0;)l=l.times(l),h4(l.d,e);return Dr=!0,t.s<0?new c(ia).div(i):gr(i,n)}}else if(s<0)throw Error(Oa+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dr=!1,i=t.times(Gf(l,n+u)),Dr=!0,i=J8(i),i.s=s,i};Qe.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=dn(i),n=Nc(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ls(t,1,Xd),e===void 0?e=s.rounding:Ls(e,0,8),i=gr(new s(i),t,e),r=dn(i),n=Nc(i,t<=r||r<=s.toExpNeg,t)),n};Qe.toSignificantDigits=Qe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ls(t,1,Xd),e===void 0?e=n.rounding:Ls(e,0,8)),gr(new n(r),t,e)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dn(t),r=t.constructor;return Nc(t,e<=r.toExpNeg||e>=r.toExpPos)};function K8(t,e){var r,n,i,s,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dr?gr(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(h/Pr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Rn|0,c[s]%=Rn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Dr?gr(e,h):e}function Ls(t,e,r){if(t!==~~t||t<e||t>r)throw Error(pc+t)}function Cs(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Pr-n.length,r&&(s+=rl(r)),s+=n;o=t[e],n=o+"",r=Pr-n.length,r&&(s+=rl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var mo=function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Rn|0,o=s/Rn|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Rn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,h,f,p,m,x,g,b,y,w,N,_,S,A,E,D=n.constructor,F=n.s==i.s?1:-1,k=n.d,O=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(Oa+"Division by zero");for(c=n.e-i.e,A=O.length,_=k.length,p=new D(F),m=p.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--c,s==null?y=s=D.precision:o?y=s+(dn(n)-dn(i))+1:y=s,y<0)return new D(0);if(y=y/Pr+2|0,u=0,A==1)for(d=0,O=O[0],y++;(u<_||d)&&y--;u++)w=d*Rn+(k[u]||0),m[u]=w/O|0,d=w%O|0;else{for(d=Rn/(O[0]+1)|0,d>1&&(O=t(O,d),k=t(k,d),A=O.length,_=k.length),N=A,x=k.slice(0,A),g=x.length;g<A;)x[g++]=0;E=O.slice(),E.unshift(0),S=O[0],O[1]>=Rn/2&&++S;do d=0,l=e(O,x,A,g),l<0?(b=x[0],A!=g&&(b=b*Rn+(x[1]||0)),d=b/S|0,d>1?(d>=Rn&&(d=Rn-1),h=t(O,d),f=h.length,g=x.length,l=e(h,x,f,g),l==1&&(d--,r(h,A<f?E:O,f))):(d==0&&(l=d=1),h=O.slice()),f=h.length,f<g&&h.unshift(0),r(x,h,g),l==-1&&(g=x.length,l=e(O,x,A,g),l<1&&(d++,r(x,A<g?E:O,g))),g=x.length):l===0&&(d++,x=[0]),m[u++]=d,l&&x[0]?x[g++]=k[N]||0:(x=[k[N]],g=1);while((N++<_||x[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=c,gr(p,o?s+dn(p)+1:s)}}();function J8(t,e){var r,n,i,s,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(dn(t)>16)throw Error(f5+dn(t));if(!t.s)return new d(ia);for(e==null?(Dr=!1,l=h):l=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Zl(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(ia),d.precision=l;;){if(i=gr(i.times(t),l),r=r.times(++c),o=s.plus(mo(i,r,l)),Cs(o.d).slice(0,l)===Cs(s.d).slice(0,l)){for(;u--;)s=gr(s.times(s),l);return d.precision=h,e==null?(Dr=!0,gr(s,h)):s}s=o}}function dn(t){for(var e=t.e*Pr,r=t.d[0];r>=10;r/=10)e++;return e}function Fv(t,e,r){if(e>t.LN10.sd())throw Dr=!0,r&&(t.precision=r),Error(Oa+"LN10 precision limit exceeded");return gr(new t(t.LN10),e)}function rl(t){for(var e="";t--;)e+="0";return e}function Gf(t,e){var r,n,i,s,o,l,c,u,d,h=1,f=10,p=t,m=p.d,x=p.constructor,g=x.precision;if(p.s<1)throw Error(Oa+(p.s?"NaN":"-Infinity"));if(p.eq(ia))return new x(0);if(e==null?(Dr=!1,u=g):u=e,p.eq(10))return e==null&&(Dr=!0),Fv(x,u);if(u+=f,x.precision=u,r=Cs(m),n=r.charAt(0),s=dn(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Cs(p.d),n=r.charAt(0),h++;s=dn(p),n>1?(p=new x("0."+r),s++):p=new x(n+"."+r.slice(1))}else return c=Fv(x,u+2,g).times(s+""),p=Gf(new x(n+"."+r.slice(1)),u-f).plus(c),x.precision=g,e==null?(Dr=!0,gr(p,g)):p;for(l=o=p=mo(p.minus(ia),p.plus(ia),u),d=gr(p.times(p),u),i=3;;){if(o=gr(o.times(d),u),c=l.plus(mo(o,new x(i),u)),Cs(c.d).slice(0,u)===Cs(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Fv(x,u+2,g).times(s+""))),l=mo(l,new x(h),u),x.precision=g,e==null?(Dr=!0,gr(l,g)):l;l=c,i+=2}}function d4(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Yd(r/Pr),t.d=[],n=(r+1)%Pr,r<0&&(n+=Pr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Pr;n<i;)t.d.push(+e.slice(n,n+=Pr));e=e.slice(n),n=Pr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Dr&&(t.e>vx||t.e<-vx))throw Error(f5+r)}else t.s=0,t.e=0,t.d=[0];return t}function gr(t,e,r){var n,i,s,o,l,c,u,d,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Pr,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Pr),s=h.length,d>=s)return t;for(u=s=h[d],o=1;s>=10;s/=10)o++;n%=Pr,i=n-Pr+o}if(r!==void 0&&(s=Zl(10,o-i-1),l=u/s%10|0,c=e<0||h[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Zl(10,o-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(s=dn(t),h.length=1,e=e-s-1,h[0]=Zl(10,(Pr-e%Pr)%Pr),t.e=Yd(-e/Pr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=Zl(10,Pr-n),h[d]=i>0?(u/Zl(10,o-i)%Zl(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==Rn&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Rn)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Dr&&(t.e>vx||t.e<-vx))throw Error(f5+dn(t));return t}function Z8(t,e){var r,n,i,s,o,l,c,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Dr?gr(e,p):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(p/Pr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=Rn-1;--c[s],c[i]+=Rn}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dr?gr(e,p):e):new f(0)}function Nc(t,e,r){var n,i=dn(t),s=Cs(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+rl(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+rl(-i-1)+s,r&&(n=r-o)>0&&(s+=rl(n))):i>=o?(s+=rl(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+rl(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=rl(n))),t.s<0?"-"+s:s}function h4(t,e){if(t.length>e)return t.length=e,!0}function Q8(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(pc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return d4(o,s.toString())}else if(typeof s!="string")throw Error(pc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,TQ.test(s))d4(o,s);else throw Error(pc+s)}if(i.prototype=Qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Q8,i.config=i.set=IQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function IQ(t){if(!t||typeof t!="object")throw Error(Oa+"Object expected");var e,r,n,i=["precision",1,Xd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Yd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(pc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(pc+r+": "+n);return this}var p5=Q8(kQ);ia=new p5(1);const hr=p5;function DQ(t){return FQ(t)||RQ(t)||LQ(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(t,e){if(t){if(typeof t=="string")return Ty(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ty(t,e)}}function RQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FQ(t){if(Array.isArray(t))return Ty(t)}function Ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var BQ=function(e){return e},eE={"@@functional/placeholder":!0},tE=function(e){return e===eE},f4=function(e){return function r(){return arguments.length===0||arguments.length===1&&tE(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},$Q=function t(e,r){return e===1?r:f4(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==eE}).length;return o>=e?r.apply(void 0,i):t(e-o,f4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return tE(h)?c.shift():h});return r.apply(void 0,DQ(d).concat(c))}))})},K1=function(e){return $Q(e.length,e)},Iy=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},zQ=K1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),UQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return BQ;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Dy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rE=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function HQ(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function qQ(t,e,r){for(var n=new hr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var WQ=K1(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),VQ=K1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),GQ=K1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const J1={rangeStep:qQ,getDigitCount:HQ,interpolateNumber:WQ,uninterpolateNumber:VQ,uninterpolateTruncation:GQ};function My(t){return KQ(t)||YQ(t)||nE(t)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function KQ(t){if(Array.isArray(t))return Ly(t)}function Xf(t,e){return QQ(t)||ZQ(t,e)||nE(t,e)||JQ()}function JQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nE(t,e){if(t){if(typeof t=="string")return Ly(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(t,e)}}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function QQ(t){if(Array.isArray(t))return t}function iE(t){var e=Xf(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function aE(t,e,r){if(t.lte(0))return new hr(0);var n=J1.getDigitCount(t.toNumber()),i=new hr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new hr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new hr(Math.ceil(c))}function eee(t,e,r){var n=1,i=new hr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new hr(10).pow(J1.getDigitCount(t)-1),i=new hr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new hr(Math.floor(t)))}else t===0?i=new hr(Math.floor((e-1)/2)):r||(i=new hr(Math.floor(t)));var o=Math.floor((e-1)/2),l=UQ(zQ(function(c){return i.add(new hr(c-o).mul(n)).toNumber()}),Iy);return l(0,e)}function sE(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var s=aE(new hr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new hr(0):(o=new hr(t).add(e).div(2),o=o.sub(new hr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new hr(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?sE(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new hr(l).mul(s)),tickMax:o.add(new hr(c).mul(s))})}function tee(t){var e=Xf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=iE([r,n]),c=Xf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(My(Iy(0,i-1).map(function(){return 1/0}))):[].concat(My(Iy(0,i-1).map(function(){return-1/0})),[d]);return r>n?Dy(h):h}if(u===d)return eee(u,i,s);var f=sE(u,d,o,s),p=f.step,m=f.tickMin,x=f.tickMax,g=J1.rangeStep(m,x.add(new hr(.1).mul(p)),p);return r>n?Dy(g):g}function ree(t,e){var r=Xf(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=iE([n,i]),l=Xf(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),h=aE(new hr(u).sub(c).div(d-1),s,0),f=[].concat(My(J1.rangeStep(new hr(c),new hr(u).sub(new hr(.99).mul(h)),h)),[u]);return n>i?Dy(f):f}var nee=rE(tee),iee=rE(ree),aee="Invariant failed";function _c(t,e){throw new Error(aee)}var see=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function oee(t,e){return dee(t)||uee(t,e)||cee(t,e)||lee()}function lee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cee(t,e){if(t){if(typeof t=="string")return p4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p4(t,e)}}function p4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function dee(t){if(Array.isArray(t))return t}function hee(t,e){if(t==null)return{};var r=fee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cE(n.key),n)}}function xee(t,e,r){return e&&mee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gee(t,e,r){return e=yx(e),vee(t,oE()?Reflect.construct(e,r||[],yx(t).constructor):e.apply(t,r))}function vee(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bee(t)}function bee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oE=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(t)}function yee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ry(t,e)}function Ry(t,e){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ry(t,e)}function lE(t,e,r){return e=cE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cE(t){var e=wee(t,"string");return pd(e)=="symbol"?e:e+""}function wee(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B0=function(t){function e(){return pee(this,e),gee(this,e,arguments)}return yee(e,t),xee(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=hee(n,see),p=ut(f,!1);this.props.direction==="x"&&d.type!=="number"&&_c();var m=c.map(function(x){var g=u(x,l),b=g.x,y=g.y,w=g.value,N=g.errorVal;if(!N)return null;var _=[],S,A;if(Array.isArray(N)){var E=oee(N,2);S=E[0],A=E[1]}else S=A=N;if(s==="vertical"){var D=d.scale,F=y+i,k=F+o,O=F-o,B=D(w-S),L=D(w+A);_.push({x1:L,y1:k,x2:L,y2:O}),_.push({x1:B,y1:F,x2:L,y2:F}),_.push({x1:B,y1:k,x2:B,y2:O})}else if(s==="horizontal"){var W=h.scale,$=b+i,z=$-o,X=$+o,Y=W(w-S),le=W(w+A);_.push({x1:z,y1:le,x2:X,y2:le}),_.push({x1:$,y1:Y,x2:$,y2:le}),_.push({x1:z,y1:Y,x2:X,y2:Y})}return re.createElement(Vt,bx({className:"recharts-errorBar",key:"bar-".concat(_.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},p),_.map(function(fe){return re.createElement("line",bx({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return re.createElement(Vt,{className:"recharts-errorBars"},m)}}])}(re.Component);lE(B0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lE(B0,"displayName","ErrorBar");function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function m4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(r),!0).forEach(function(n){jee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jee(t,e,r){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nee(t){var e=_ee(t,"string");return Yf(e)=="symbol"?e:e+""}function _ee(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uE=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=ra(r,hc);if(!o)return null;var l=hc.defaultProps,c=l!==void 0?$l($l({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:o.props.iconType||f.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?$l($l({},f),h.props):{},m=p.dataKey,x=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:c.iconType||g||"square",color:m5(h),value:x||m,payload:p}}),$l($l($l({},c),hc.getWithHeight(o,i)),{},{payload:u,item:o})};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function x4(t){return Eee(t)||Cee(t)||Aee(t)||See()}function See(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aee(t,e){if(t){if(typeof t=="string")return Fy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fy(t,e)}}function Cee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eee(t){if(Array.isArray(t))return Fy(t)}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(r),!0).forEach(function(n){Zu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zu(t,e,r){return e=Oee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oee(t){var e=Pee(t,"string");return Kf(e)=="symbol"?e:e+""}function Pee(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nn(t,e,r){return _t(t)||_t(e)?r:An(e)?la(t,e,r):mt(e)?e(t):r}function xf(t,e,r,n){var i=CQ(t,function(l){return Nn(l,e)});if(r==="number"){var s=i.filter(function(l){return We(l)||parseFloat(l)});return s.length?[Y1(s),X1(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!_t(l)}):i;return o.map(function(l){return An(l)||l instanceof Date?l:""})}var kee=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(_i(h-d)!==_i(f-h)){var m=[];if(_i(f-h)===_i(c[1]-c[0])){p=f;var x=h+c[1]-c[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var g=f+c[1]-c[0];m[0]=Math.min(h,(g+h)/2),m[1]=Math.max(h,(g+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var y=Math.min(d,f),w=Math.max(d,f);if(e>(y+h)/2&&e<=(w+h)/2){o=i[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},m5=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Tee=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var m=d[h[f]],x=m.items,g=m.cateAxisId,b=x.filter(function(A){return po(A.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?Wr(Wr({},y),b[0].props):b[0].props,N=w.barSize,_=w[g];o[_]||(o[_]=[]);var S=_t(N)?r:N;o[_].push({item:b[0],stackList:b.slice(1),barSize:_t(S)?void 0:Si(S,n,0)})}}return o},Iee=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Si(r,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/c,m=o.reduce(function(N,_){return N+_.barSize||0},0);m+=(c-1)*u,m>=i&&(m-=(c-1)*u,u=0),m>=i&&p>0&&(f=!0,p*=.9,m=c*p);var x=(i-m)/2>>0,g={offset:x-u,size:0};d=o.reduce(function(N,_){var S={item:_.item,position:{offset:g.offset+g.size+u,size:f?p:_.barSize}},A=[].concat(x4(N),[S]);return g=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:g})}),A},h)}else{var b=Si(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var y=(i-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(N,_,S){var A=[].concat(x4(N),[{item:_.item,position:{offset:b+(y+u)*S+(y-w)/2,size:w}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},h)}return d},Dee=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=uE({children:s,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&We(e[p]))return Wr(Wr({},e),{},Zu({},p,e[p]+(h||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&We(e[m]))return Wr(Wr({},e),{},Zu({},m,e[m]+(f||0)))}return e},Mee=function(e,r,n){return _t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},dE=function(e,r,n,i,s){var o=r.props.children,l=ca(o,B0).filter(function(u){return Mee(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Nn(d,n);if(_t(h))return u;var f=Array.isArray(h)?[Y1(h),X1(h)]:[h,h],p=c.reduce(function(m,x){var g=Nn(d,x,0),b=f[0]-Math.abs(Array.isArray(g)?g[0]:g),y=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Lee=function(e,r,n,i,s){var o=r.map(function(l){return dE(e,l,n,s,i)}).filter(function(l){return!_t(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},hE=function(e,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&dE(e,c,u,i)||xf(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},fE=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},pE=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},fo=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_i(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=s?s.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!k0(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:s?s[h]:h,index:f,offset:u}})},Bv=new WeakMap,Yp=function(e,r){if(typeof r!="function")return e;Bv.has(e)||Bv.set(e,new WeakMap);var n=Bv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},mE=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Uf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:px(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mf(),realScaleType:"point"}:s==="category"?{scale:Uf(),realScaleType:"band"}:{scale:px(),realScaleType:"linear"};if(P0(i)){var c="scale".concat(D1(i));return{scale:(u4[c]||mf)(),realScaleType:u4[c]?c:"point"}}return mt(i)?{scale:i}:{scale:mf(),realScaleType:"point"}},v4=1e-4,xE=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-v4,o=Math.max(i[0],i[1])+v4,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},Ree=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Fee=function(e,r){if(!r||r.length!==2||!We(r[0])||!We(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!We(e[0])||e[0]<n)&&(s[0]=n),(!We(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Bee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=k0(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},$ee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=k0(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},zee={sign:Bee,expand:sz,none:sd,silhouette:oz,wiggle:lz,positive:$ee},Uee=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=zee[n],o=az().keys(i).value(function(l,c){return+Nn(l,c,0)}).order(cy).offset(s);return o(e)},Hee=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Wr(Wr({},f.type.defaultProps),f.props):f.props,x=m.stackId,g=m.hide;if(g)return h;var b=m[n],y=h[b]||{hasStack:!1,stackGroups:{}};if(An(x)){var w=y.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[x]=w}else y.stackGroups[Hd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Wr(Wr({},h),{},Zu({},b,y))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,g){var b=p.stackGroups[g];return Wr(Wr({},x),{},Zu({},g,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:Uee(e,b.items,s)}))},m)}return Wr(Wr({},h),{},Zu({},f,p))},d)},gE=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=nee(u,s,l);return e.domain([Y1(d),X1(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),f=iee(h,s,l);return{niceTicks:f}}return null};function b4(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var l=Vm(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Nn(i,_t(o)?e.dataKey:o);return _t(c)?null:e.scale(c)}var y4=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Nn(o,r.dataKey,r.domain[l]);return _t(c)?null:r.scale(c)-s/2+i},qee=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Wee=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(An(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Vee=function(e){return e.reduce(function(r,n){return[Y1(n.concat([r[0]]).filter(We)),X1(n.concat([r[1]]).filter(We))]},[1/0,-1/0])},vE=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var h=Vee(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},w4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,By=function(e,r,n){if(mt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(We(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(w4.test(e[0])){var s=+w4.exec(e[0])[1];i[0]=r[0]-s}else mt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(We(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(j4.test(e[1])){var o=+j4.exec(e[1])[1];i[1]=r[1]+o}else mt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},wx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=Hw(r,function(h){return h.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},N4=function(e,r,n){return!e||!e.length||F0(e,la(n,"type.defaultProps.domain"))?r:e},bE=function(e,r){var n=e.type.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Wr(Wr({},ut(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:m5(e),value:Nn(r,i),type:c,payload:r,chartType:u,hide:d})};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function _4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(r),!0).forEach(function(n){yE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yE(t,e,r){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gee(t){var e=Xee(t,"string");return Jf(e)=="symbol"?e:e+""}function Xee(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yee(t,e){return Qee(t)||Zee(t,e)||Jee(t,e)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(t,e){if(t){if(typeof t=="string")return S4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S4(t,e)}}function S4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Qee(t){if(Array.isArray(t))return t}var jx=Math.PI/180,ete=function(e){return e*180/Math.PI},_r=function(e,r,n,i){return{x:e+Math.cos(-jx*i)*n,y:r+Math.sin(-jx*i)*n}},wE=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tte=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Si(e.cx,o,o/2),h=Si(e.cy,l,l/2),f=wE(o,l,n),p=Si(e.innerRadius,f,0),m=Si(e.outerRadius,f,f*.8),x=Object.keys(r);return x.reduce(function(g,b){var y=r[b],w=y.domain,N=y.reversed,_;if(_t(y.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[p,m]),N&&(_=[_[1],_[0]]);else{_=y.range;var S=_,A=Yee(S,2);c=A[0],u=A[1]}var E=mE(y,s),D=E.realScaleType,F=E.scale;F.domain(w).range(_),xE(F);var k=gE(F,oo(oo({},y),{},{realScaleType:D})),O=oo(oo(oo({},y),k),{},{range:_,radius:m,realScaleType:D,scale:F,cx:d,cy:h,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return oo(oo({},g),{},yE({},b,O))},{})},rte=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},nte=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=rte({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:ete(u),angleInRadian:u}},ite=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},ate=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},A4=function(e,r){var n=e.x,i=e.y,s=nte({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=ite(r),h=d.startAngle,f=d.endAngle,p=l,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?oo(oo({},r),{},{radius:o,angle:ate(p,r)}):null},jE=function(e){return!T.isValidElement(e)&&!mt(e)&&typeof e!="boolean"?e.className:""};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}var ste=["offset"];function ote(t){return dte(t)||ute(t)||cte(t)||lte()}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(t,e){if(t){if(typeof t=="string")return $y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(t,e)}}function ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dte(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hte(t,e){if(t==null)return{};var r=fte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(r),!0).forEach(function(n){pte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pte(t,e,r){return e=mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mte(t){var e=xte(t,"string");return Zf(e)=="symbol"?e:e+""}function xte(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qf.apply(this,arguments)}var gte=function(e){var r=e.value,n=e.formatter,i=_t(e.children)?r:e.children;return mt(n)?n(i):i},vte=function(e,r){var n=_i(r-e),i=Math.min(Math.abs(r-e),360);return n*i},bte=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,m=c.endAngle,x=c.clockWise,g=(h+f)/2,b=vte(p,m),y=b>=0?1:-1,w,N;i==="insideStart"?(w=p+y*o,N=x):i==="insideEnd"?(w=m-y*o,N=!x):i==="end"&&(w=m+y*o,N=x),N=b<=0?N:!N;var _=_r(u,d,g,w),S=_r(u,d,g,w+(N?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),E=_t(e.id)?Hd("recharts-radial-line-"):e.id;return re.createElement("text",Qf({},n,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),re.createElement("defs",null,re.createElement("path",{id:E,d:A})),re.createElement("textPath",{xlinkHref:"#".concat(E)},r))},yte=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,f=(d+h)/2;if(i==="outside"){var p=_r(o,l,u+n,f),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=_r(o,l,g,f),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},wte=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",m=h>0?"start":"end",x=u>=0?1:-1,g=x*i,b=x>0?"end":"start",y=x>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return mn(mn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var N={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:m};return mn(mn({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var _={x:l-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return mn(mn({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return mn(mn({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return s==="insideLeft"?mn({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideRight"?mn({x:l+u-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},A):s==="insideTop"?mn({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:m},A):s==="insideBottom"?mn({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?mn({x:l+g,y:c+f,textAnchor:y,verticalAnchor:m},A):s==="insideTopRight"?mn({x:l+u-g,y:c+f,textAnchor:b,verticalAnchor:m},A):s==="insideBottomLeft"?mn({x:l+g,y:c+d-f,textAnchor:y,verticalAnchor:p},A):s==="insideBottomRight"?mn({x:l+u-g,y:c+d-f,textAnchor:b,verticalAnchor:p},A):Bd(s)&&(We(s.x)||ac(s.x))&&(We(s.y)||ac(s.y))?mn({x:l+Si(s.x,u),y:c+Si(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):mn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},jte=function(e){return"cx"in e&&We(e.cx)};function Fn(t){var e=t.offset,r=e===void 0?5:e,n=hte(t,ste),i=mn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!s||_t(l)&&_t(c)&&!T.isValidElement(u)&&!mt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var p;if(mt(u)){if(p=T.createElement(u,i),T.isValidElement(p))return p}else p=gte(i);var m=jte(s),x=ut(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bte(i,p,x);var g=m?yte(i):wte(i);return re.createElement(jc,Qf({className:Ct("recharts-label",h)},x,g,{breakAll:f}),p)}Fn.displayName="Label";var NE=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,m=e.left,x=e.width,g=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(We(x)&&We(g)){if(We(h)&&We(f))return{x:h,y:f,width:x,height:g};if(We(p)&&We(m))return{x:p,y:m,width:x,height:g}}return We(h)&&We(f)?{x:h,y:f,width:0,height:0}:We(r)&&We(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},Nte=function(e,r){return e?e===!0?re.createElement(Fn,{key:"label-implicit",viewBox:r}):An(e)?re.createElement(Fn,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Fn?T.cloneElement(e,{key:"label-implicit",viewBox:r}):re.createElement(Fn,{key:"label-implicit",content:e,viewBox:r}):mt(e)?re.createElement(Fn,{key:"label-implicit",content:e,viewBox:r}):Bd(e)?re.createElement(Fn,Qf({viewBox:r},e,{key:"label-implicit"})):null:null},_te=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=NE(e),o=ca(i,Fn).map(function(c,u){return T.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=Nte(e.label,r||s);return[l].concat(ote(o))};Fn.parseViewBox=NE;Fn.renderCallByParent=_te;function Ste(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ate=Ste;const Cte=lr(Ate);function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}var Ete=["valueAccessor"],Ote=["data","dataKey","clockWise","id","textBreakAll"];function Pte(t){return Dte(t)||Ite(t)||Tte(t)||kte()}function kte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tte(t,e){if(t){if(typeof t=="string")return zy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zy(t,e)}}function Ite(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dte(t){if(Array.isArray(t))return zy(t)}function zy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function E4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(r),!0).forEach(function(n){Mte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mte(t,e,r){return e=Lte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lte(t){var e=Rte(t,"string");return e0(e)=="symbol"?e:e+""}function Rte(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4(t,e){if(t==null)return{};var r=Fte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bte=function(e){return Array.isArray(e.value)?Cte(e.value):e.value};function xo(t){var e=t.valueAccessor,r=e===void 0?Bte:e,n=P4(t,Ete),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=P4(n,Ote);return!i||!i.length?null:re.createElement(Vt,{className:"recharts-label-list"},i.map(function(d,h){var f=_t(s)?r(d,h):Nn(d&&d.payload,s),p=_t(l)?{}:{id:"".concat(l,"-").concat(h)};return re.createElement(Fn,Nx({},ut(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Fn.parseViewBox(_t(o)?d:O4(O4({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}xo.displayName="LabelList";function $te(t,e){return t?t===!0?re.createElement(xo,{key:"labelList-implicit",data:e}):re.isValidElement(t)||mt(t)?re.createElement(xo,{key:"labelList-implicit",data:e,content:t}):Bd(t)?re.createElement(xo,Nx({data:e},t,{key:"labelList-implicit"})):null:null}function zte(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ca(n,xo).map(function(o,l){return T.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=$te(t.label,e);return[s].concat(Pte(i))}xo.renderCallByParent=zte;function t0(t){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(t)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uy.apply(this,arguments)}function k4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(r),!0).forEach(function(n){Ute(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ute(t,e,r){return e=Hte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hte(t){var e=qte(t,"string");return t0(e)=="symbol"?e:e+""}function qte(t,e){if(t0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wte=function(e,r){var n=_i(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Kp=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/jx,f=u?s:s+o*h,p=_r(r,n,d,f),m=_r(r,n,i,f),x=u?s-o*h:s,g=_r(r,n,d*Math.cos(h*jx),x);return{center:p,circleTangency:m,lineTangency:g,theta:h}},_E=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Wte(o,l),u=o+c,d=_r(r,n,s,o),h=_r(r,n,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=_r(r,n,i,o),m=_r(r,n,i,u);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},Vte=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=_i(d-u),f=Kp({cx:r,cy:n,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,m=f.lineTangency,x=f.theta,g=Kp({cx:r,cy:n,radius:s,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,y=g.lineTangency,w=g.theta,N=c?Math.abs(u-d):Math.abs(u-d)-x-w;if(N<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_E({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var S=Kp({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=S.circleTangency,E=S.lineTangency,D=S.theta,F=Kp({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=F.circleTangency,O=F.lineTangency,B=F.theta,L=c?Math.abs(u-d):Math.abs(u-d)-D-B;if(L<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},Gte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SE=function(e){var r=T4(T4({},Gte),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<s||d===h)return null;var p=Ct("recharts-sector",f),m=o-s,x=Si(l,m,0,!0),g;return x>0&&Math.abs(d-h)<360?g=Vte({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):g=_E({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:h}),re.createElement("path",Uy({},ut(r,!0),{className:p,d:g,role:"img"}))};function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hy.apply(this,arguments)}function I4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(r),!0).forEach(function(n){Xte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xte(t,e,r){return e=Yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yte(t){var e=Kte(t,"string");return r0(e)=="symbol"?e:e+""}function Kte(t,e){if(r0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M4={curveBasisClosed:X$,curveBasisOpen:Y$,curveBasis:G$,curveBumpX:I$,curveBumpY:D$,curveLinearClosed:K$,curveLinear:L1,curveMonotoneX:J$,curveMonotoneY:Z$,curveNatural:Q$,curveStep:ez,curveStepAfter:rz,curveStepBefore:tz},Jp=function(e){return e.x===+e.x&&e.y===+e.y},qh=function(e){return e.x},Wh=function(e){return e.y},Jte=function(e,r){if(mt(e))return e;var n="curve".concat(D1(e));return(n==="curveMonotone"||n==="curveBump")&&r?M4["".concat(n).concat(r==="vertical"?"Y":"X")]:M4[n]||L1},Zte=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Jte(n,l),h=u?s.filter(function(x){return Jp(x)}):s,f;if(Array.isArray(o)){var p=u?o.filter(function(x){return Jp(x)}):o,m=h.map(function(x,g){return D4(D4({},x),{},{base:p[g]})});return l==="vertical"?f=zp().y(Wh).x1(qh).x0(function(x){return x.base.x}):f=zp().x(qh).y1(Wh).y0(function(x){return x.base.y}),f.defined(Jp).curve(d),f(m)}return l==="vertical"&&We(o)?f=zp().y(Wh).x1(qh).x0(o):We(o)?f=zp().x(qh).y1(Wh).y0(o):f=b6().x(qh).y(Wh),f.defined(Jp).curve(d),f(h)},_x=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Zte(e):i;return re.createElement("path",Hy({},ut(e,!1),Gm(e),{className:Ct("recharts-curve",r),d:o,ref:s}))},AE={exports:{}},Qte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ere=Qte,tre=ere;function CE(){}function EE(){}EE.resetWarningCache=CE;var rre=function(){function t(n,i,s,o,l,c){if(c!==tre){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EE,resetWarningCache:CE};return r.PropTypes=r,r};AE.exports=rre();var nre=AE.exports;const er=lr(nre);var ire=Object.getOwnPropertyNames,are=Object.getOwnPropertySymbols,sre=Object.prototype.hasOwnProperty;function L4(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Zp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function R4(t){return ire(t).concat(are(t))}var ore=Object.hasOwn||function(t,e){return sre.call(t,e)};function Mc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var lre="__v",cre="__o",ure="_owner",F4=Object.getOwnPropertyDescriptor,B4=Object.keys;function dre(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function hre(t,e){return Mc(t.getTime(),e.getTime())}function fre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function pre(t,e){return t===e}function $4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var f=o.value,p=l.value;if(r.equals(f[0],p[0],c,h,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}var mre=Mc;function xre(t,e,r){var n=B4(t),i=n.length;if(B4(e).length!==i)return!1;for(;i-- >0;)if(!OE(t,e,r,n[i]))return!1;return!0}function Vh(t,e,r){var n=R4(t),i=n.length;if(R4(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!OE(t,e,r,s)||(o=F4(t,s),l=F4(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function gre(t,e){return Mc(t.valueOf(),e.valueOf())}function vre(t,e){return t.source===e.source&&t.flags===e.flags}function z4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function bre(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function yre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function OE(t,e,r,n){return(n===ure||n===cre||n===lre)&&(t.$$typeof||e.$$typeof)?!0:ore(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var wre="[object Arguments]",jre="[object Boolean]",Nre="[object Date]",_re="[object Error]",Sre="[object Map]",Are="[object Number]",Cre="[object Object]",Ere="[object RegExp]",Ore="[object Set]",Pre="[object String]",kre="[object URL]",Tre=Array.isArray,U4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,H4=Object.assign,Ire=Object.prototype.toString.call.bind(Object.prototype.toString);function Dre(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(m,x,g){if(m===x)return!0;if(m==null||x==null)return!1;var b=typeof m;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?o(m,x,g):b==="function"?i(m,x,g):!1;var y=m.constructor;if(y!==x.constructor)return!1;if(y===Object)return l(m,x,g);if(Tre(m))return e(m,x,g);if(U4!=null&&U4(m))return h(m,x,g);if(y===Date)return r(m,x,g);if(y===RegExp)return u(m,x,g);if(y===Map)return s(m,x,g);if(y===Set)return d(m,x,g);var w=Ire(m);return w===Nre?r(m,x,g):w===Ere?u(m,x,g):w===Sre?s(m,x,g):w===Ore?d(m,x,g):w===Cre?typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,g):w===kre?f(m,x,g):w===_re?n(m,x,g):w===wre?l(m,x,g):w===jre||w===Are||w===Pre?c(m,x,g):!1}}function Mre(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Vh:dre,areDatesEqual:hre,areErrorsEqual:fre,areFunctionsEqual:pre,areMapsEqual:n?L4($4,Vh):$4,areNumbersEqual:mre,areObjectsEqual:n?Vh:xre,arePrimitiveWrappersEqual:gre,areRegExpsEqual:vre,areSetsEqual:n?L4(z4,Vh):z4,areTypedArraysEqual:n?Vh:bre,areUrlsEqual:yre};if(r&&(i=H4({},i,r(i))),e){var s=Zp(i.areArraysEqual),o=Zp(i.areMapsEqual),l=Zp(i.areObjectsEqual),c=Zp(i.areSetsEqual);i=H4({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function Lre(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function Rre(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,p=d.meta;return r(c,u,{cache:f,equals:i,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var Fre=Al();Al({strict:!0});Al({circular:!0});Al({circular:!0,strict:!0});Al({createInternalComparator:function(){return Mc}});Al({strict:!0,createInternalComparator:function(){return Mc}});Al({circular:!0,createInternalComparator:function(){return Mc}});Al({circular:!0,createInternalComparator:function(){return Mc},strict:!0});function Al(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=Mre(t),c=Dre(l),u=n?n(c):Lre(c);return Rre({circular:r,comparator:c,createState:i,equals:u,strict:o})}function Bre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function q4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Bre(i)};requestAnimationFrame(n)}function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function $re(t){return qre(t)||Hre(t)||Ure(t)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ure(t,e){if(t){if(typeof t=="string")return W4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W4(t,e)}}function W4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qre(t){if(Array.isArray(t))return t}function Wre(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=$re(o),c=l[0],u=l.slice(1);if(typeof c=="number"){q4(i.bind(null,u),c);return}i(c),q4(i.bind(null,u));return}qy(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function V4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(r),!0).forEach(function(n){PE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PE(t,e,r){return e=Vre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vre(t){var e=Gre(t,"string");return n0(e)==="symbol"?e:String(e)}function Gre(t,e){if(n0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(n0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xre=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Yre=function(e){return e},Kre=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gf=function(e,r){return Object.keys(r).reduce(function(n,i){return G4(G4({},n),{},PE({},i,e(i,r[i])))},{})},X4=function(e,r,n){return e.map(function(i){return"".concat(Kre(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Jre(t,e){return ene(t)||Qre(t,e)||kE(t,e)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ene(t){if(Array.isArray(t))return t}function tne(t){return ine(t)||nne(t)||kE(t)||rne()}function rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kE(t,e){if(t){if(typeof t=="string")return Wy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(t,e)}}function nne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ine(t){if(Array.isArray(t))return Wy(t)}function Wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Sx=1e-4,TE=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},IE=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Y4=function(e,r){return function(n){var i=TE(e,r);return IE(i,n)}},ane=function(e,r){return function(n){var i=TE(e,r),s=[].concat(tne(i.map(function(o,l){return o*l}).slice(1)),[0]);return IE(s,n)}},K4=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=Jre(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var h=Y4(i,o),f=Y4(s,l),p=ane(i,o),m=function(b){return b>1?1:b<0?0:b},x=function(b){for(var y=b>1?1:b,w=y,N=0;N<8;++N){var _=h(w)-y,S=p(w);if(Math.abs(_-y)<Sx||S<Sx)return f(w);w=m(w-_/S)}return f(w)};return x.isStepper=!1,x},sne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var p=-(d-h)*n,m=f*s,x=f+(p-m)*l/1e3,g=f*l/1e3+d;return Math.abs(g-h)<Sx&&Math.abs(x)<Sx?[h,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},one=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return K4(i);case"spring":return sne();default:if(i.split("(")[0]==="cubic-bezier")return K4(i)}return typeof i=="function"?i:null};function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function J4(t){return une(t)||cne(t)||DE(t)||lne()}function lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function une(t){if(Array.isArray(t))return Gy(t)}function Z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(r),!0).forEach(function(n){Vy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vy(t,e,r){return e=dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dne(t){var e=hne(t,"string");return i0(e)==="symbol"?e:String(e)}function hne(t,e){if(i0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(i0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fne(t,e){return xne(t)||mne(t,e)||DE(t,e)||pne()}function pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DE(t,e){if(t){if(typeof t=="string")return Gy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(t,e)}}function Gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function xne(t){if(Array.isArray(t))return t}var Ax=function(e,r,n){return e+(r-e)*n},Xy=function(e){var r=e.from,n=e.to;return r!==n},gne=function t(e,r,n){var i=gf(function(s,o){if(Xy(o)){var l=e(o.from,o.to,o.velocity),c=fne(l,2),u=c[0],d=c[1];return Xn(Xn({},o),{},{from:u,velocity:d})}return o},r);return n<1?gf(function(s,o){return Xy(o)?Xn(Xn({},o),{},{velocity:Ax(o.velocity,i[s].velocity,n),from:Ax(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const vne=function(t,e,r,n,i){var s=Xre(t,e),o=s.reduce(function(g,b){return Xn(Xn({},g),{},Vy({},b,[t[b],e[b]]))},{}),l=s.reduce(function(g,b){return Xn(Xn({},g),{},Vy({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return gf(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(Xy).length},m=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=gne(r,l,w),i(Xn(Xn(Xn({},t),e),f())),u=b,p()||(c=requestAnimationFrame(h))},x=function(b){d||(d=b);var y=(b-d)/n,w=gf(function(_,S){return Ax.apply(void 0,J4(S).concat([r(y)]))},o);if(i(Xn(Xn(Xn({},t),e),w)),y<1)c=requestAnimationFrame(h);else{var N=gf(function(_,S){return Ax.apply(void 0,J4(S).concat([r(1)]))},o);i(Xn(Xn(Xn({},t),e),N))}};return h=r.isStepper?m:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}var bne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yne(t,e){if(t==null)return{};var r=wne(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wne(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $v(t){return Sne(t)||_ne(t)||Nne(t)||jne()}function jne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,e){if(t){if(typeof t=="string")return Yy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(t,e)}}function _ne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sne(t){if(Array.isArray(t))return Yy(t)}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function of(t,e,r){return e=ME(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ME(n.key),n)}}function Ene(t,e,r){return e&&Cne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ME(t){var e=One(t,"string");return md(e)==="symbol"?e:String(e)}function One(t,e){if(md(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(md(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ky(t,e)}function kne(t){var e=Tne();return function(){var n=Cx(t),i;if(e){var s=Cx(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Jy(this,i)}}function Jy(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zy(t)}function Zy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cx(t)}var Rs=function(t){Pne(r,t);var e=kne(r);function r(n,i){var s;Ane(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Zy(s)),s.changeStyle=s.changeStyle.bind(Zy(s)),!l||p<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),Jy(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof f=="function")return s.state={style:u},Jy(s);s.state={style:c?of({},c,u):u}}else s.state={style:{}};return s}return Ene(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,f=this.state.style;if(l){if(!o){var p={style:c?of({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(Fre(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?h:i.to;if(this.state&&f){var g={style:c?of({},c,x):x};(c&&f[c]!==x||!c&&f!==x)&&this.setState(g)}this.runAnimation(qa(qa({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=vne(o,l,one(u),c,this.changeStyle),m=function(){s.stopJSAnimation=p()};this.manager.start([f,d,m,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(x,g,b){if(b===0)return x;var y=g.duration,w=g.easing,N=w===void 0?"ease":w,_=g.style,S=g.properties,A=g.onAnimationEnd,E=b>0?o[b-1]:g,D=S||Object.keys(_);if(typeof N=="function"||N==="spring")return[].concat($v(x),[s.runJSAnimation.bind(s,{from:E.style,to:_,duration:y,easing:N}),y]);var F=X4(D,y,N),k=qa(qa(qa({},E.style),_),{},{transition:F});return[].concat($v(x),[k,y,A]).filter(Yre)};return this.manager.start([c].concat($v(o.reduce(p,[d,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Wre());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var x=l?of({},l,c):c,g=X4(Object.keys(x),o,u);m.start([d,s,qa(qa({},x),{},{transition:g}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=yne(i,bne),u=T.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var h=function(p){var m=p.props,x=m.style,g=x===void 0?{}:x,b=m.className,y=T.cloneElement(p,qa(qa({},c),{},{style:qa(qa({},g),d),className:b}));return y};return u===1?h(T.Children.only(s)):re.createElement("div",null,T.Children.map(s,function(f){return h(f)}))}}]),r}(T.PureComponent);Rs.displayName="Animate";Rs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rs.propTypes={from:er.oneOfType([er.object,er.string]),to:er.oneOfType([er.object,er.string]),attributeName:er.string,duration:er.number,begin:er.number,easing:er.oneOfType([er.string,er.func]),steps:er.arrayOf(er.shape({duration:er.number.isRequired,style:er.object.isRequired,easing:er.oneOfType([er.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),er.func]),properties:er.arrayOf("string"),onAnimationEnd:er.func})),children:er.oneOfType([er.node,er.func]),isActive:er.bool,canBegin:er.bool,onAnimationEnd:er.func,shouldReAnimate:er.bool,onAnimationStart:er.func,onAnimationReStart:er.func};function a0(t){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ex.apply(this,arguments)}function Ine(t,e){return Rne(t)||Lne(t,e)||Mne(t,e)||Dne()}function Dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return e3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(t,e)}}function e3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Rne(t){if(Array.isArray(t))return t}function t3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(r),!0).forEach(function(n){Fne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fne(t,e,r){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bne(t){var e=$ne(t,"string");return a0(e)=="symbol"?e:e+""}function $ne(t,e){if(a0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(a0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n3=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=s[f]>o?o:s[f];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),d+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*h[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);d="M ".concat(e,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+c*m,",").concat(r,`
            L `).concat(e+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*m,`
            L `).concat(e+n,",").concat(r+i-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-c*m,",").concat(r+i,`
            L `).concat(e+c*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},zne=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&i>=h&&i<=f}return!1},Une={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x5=function(e){var r=r3(r3({},Une),e),n=T.useRef(),i=T.useState(-1),s=Ine(i,2),o=s[0],l=s[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Ct("recharts-rectangle",p);return y?re.createElement(Rs,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:x,animationEasing:m,isActive:y},function(N){var _=N.width,S=N.height,A=N.x,E=N.y;return re.createElement(Rs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:b,easing:m},re.createElement("path",Ex({},ut(r,!0),{className:w,d:n3(A,E,_,S,f),ref:n})))}):re.createElement("path",Ex({},ut(r,!0),{className:w,d:n3(c,u,d,h,f)}))},Hne=["points","className","baseLinePoints","connectNulls"];function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fu.apply(this,arguments)}function qne(t,e){if(t==null)return{};var r=Wne(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i3(t){return Yne(t)||Xne(t)||Gne(t)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gne(t,e){if(t){if(typeof t=="string")return Qy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qy(t,e)}}function Xne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yne(t){if(Array.isArray(t))return Qy(t)}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a3=function(e){return e&&e.x===+e.x&&e.y===+e.y},Kne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){a3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),a3(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vf=function(e,r){var n=Kne(e);r&&(n=[n.reduce(function(s,o){return[].concat(i3(s),i3(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Jne=function(e,r,n){var i=vf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vf(r.reverse(),n).slice(1))},Zne=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=qne(e,Hne);if(!r||!r.length)return null;var l=Ct("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Jne(r,i,s);return re.createElement("g",{className:l},re.createElement("path",Fu({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?re.createElement("path",Fu({},ut(o,!0),{fill:"none",d:vf(r,s)})):null,c?re.createElement("path",Fu({},ut(o,!0),{fill:"none",d:vf(i,s)})):null)}var d=vf(r,s);return re.createElement("path",Fu({},ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function e2(){return e2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e2.apply(this,arguments)}var Z1=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=Ct("recharts-dot",s);return r===+r&&n===+n&&i===+i?re.createElement("circle",e2({},ut(e,!1),Gm(e),{className:o,cx:r,cy:n,r:i})):null};function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}var Qne=["x","y","top","left","width","height","className"];function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t2.apply(this,arguments)}function s3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(r),!0).forEach(function(n){tie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tie(t,e,r){return e=rie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rie(t){var e=nie(t,"string");return s0(e)=="symbol"?e:e+""}function nie(t,e){if(s0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iie(t,e){if(t==null)return{};var r=aie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sie=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},oie=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,m=e.className,x=iie(e,Qne),g=eie({x:n,y:s,top:l,left:u,width:h,height:p},x);return!We(n)||!We(s)||!We(h)||!We(p)||!We(l)||!We(u)?null:re.createElement("path",t2({},ut(g,!0),{className:Ct("recharts-cross",m),d:sie(n,s,h,p,l,u)}))},lie=G1,cie=G8,uie=zs;function die(t,e){return t&&t.length?lie(t,uie(e),cie):void 0}var hie=die;const fie=lr(hie);var pie=G1,mie=zs,xie=X8;function gie(t,e){return t&&t.length?pie(t,mie(e),xie):void 0}var vie=gie;const bie=lr(vie);var yie=["cx","cy","angle","ticks","axisLine"],wie=["ticks","tick","angle","tickFormatter","stroke"];function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function o3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(r),!0).forEach(function(n){Q1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l3(t,e){if(t==null)return{};var r=jie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RE(n.key),n)}}function _ie(t,e,r){return e&&c3(t.prototype,e),r&&c3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sie(t,e,r){return e=Ox(e),Aie(t,LE()?Reflect.construct(e,r||[],Ox(t).constructor):e.apply(t,r))}function Aie(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cie(t)}function Cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LE=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(t)}function Eie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r2(t,e)}function Q1(t,e,r){return e=RE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RE(t){var e=Oie(t,"string");return xd(e)=="symbol"?e:e+""}function Oie(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eg=function(t){function e(){return Nie(this,e),Sie(this,e,arguments)}return Eie(e,t),_ie(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return _r(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=fie(l,function(d){return d.coordinate||0}),u=bie(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=l3(n,yie),d=l.reduce(function(m,x){return[Math.min(m[0],x.coordinate),Math.max(m[1],x.coordinate)]},[1/0,-1/0]),h=_r(i,s,d[0],o),f=_r(i,s,d[1],o),p=zl(zl(zl({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return re.createElement("line",bf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=l3(i,wie),h=this.getTickTextAnchor(),f=ut(d,!1),p=ut(o,!1),m=s.map(function(x,g){var b=n.getTickValueCoord(x),y=zl(zl(zl(zl({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:g},b),{},{payload:x});return re.createElement(Vt,bf({className:Ct("recharts-polar-radius-axis-tick",jE(o)),key:"tick-".concat(x.coordinate)},wc(n.props,x,g)),e.renderTickItem(o,y,c?c(x.value,g):x.value))});return re.createElement(Vt,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:re.createElement(Vt,{className:Ct("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return re.isValidElement(n)?o=re.cloneElement(n,i):mt(n)?o=n(i):o=re.createElement(jc,bf({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(T.PureComponent);Q1(eg,"displayName","PolarRadiusAxis");Q1(eg,"axisType","radiusAxis");Q1(eg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rc.apply(this,arguments)}function u3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ul(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(r),!0).forEach(function(n){tg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BE(n.key),n)}}function kie(t,e,r){return e&&d3(t.prototype,e),r&&d3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tie(t,e,r){return e=Px(e),Iie(t,FE()?Reflect.construct(e,r||[],Px(t).constructor):e.apply(t,r))}function Iie(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Die(t)}function Die(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FE=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(t)}function Mie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n2(t,e)}function n2(t,e){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n2(t,e)}function tg(t,e,r){return e=BE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BE(t){var e=Lie(t,"string");return gd(e)=="symbol"?e:e+""}function Lie(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rie=Math.PI/180,h3=1e-5,rg=function(t){function e(){return Pie(this,e),Tie(this,e,arguments)}return Mie(e,t),kie(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,h=_r(s,o,l,n.coordinate),f=_r(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Rie),o;return s>h3?o=i==="outer"?"start":"end":s<-h3?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Ul(Ul({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return re.createElement(Z1,rc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,h=d.map(function(f){return _r(i,s,o,f.coordinate)});return re.createElement(Zne,rc({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ut(this.props,!1),h=ut(o,!1),f=Ul(Ul({},d),{},{fill:"none"},ut(l,!1)),p=s.map(function(m,x){var g=n.getTickLineCoord(m),b=n.getTickTextAnchor(m),y=Ul(Ul(Ul({textAnchor:b},d),{},{stroke:"none",fill:u},h),{},{index:x,payload:m,x:g.x2,y:g.y2});return re.createElement(Vt,rc({className:Ct("recharts-polar-angle-axis-tick",jE(o)),key:"tick-".concat(m.coordinate)},wc(n.props,m,x)),l&&re.createElement("line",rc({className:"recharts-polar-angle-axis-tick-line"},f,g)),o&&e.renderTickItem(o,y,c?c(m.value,x):m.value))});return re.createElement(Vt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:re.createElement(Vt,{className:Ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return re.isValidElement(n)?o=re.cloneElement(n,i):mt(n)?o=n(i):o=re.createElement(jc,rc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(T.PureComponent);tg(rg,"displayName","PolarAngleAxis");tg(rg,"axisType","angleAxis");tg(rg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fie=H6,Bie=Fie(Object.getPrototypeOf,Object),$ie=Bie,zie=No,Uie=$ie,Hie=_o,qie="[object Object]",Wie=Function.prototype,Vie=Object.prototype,$E=Wie.toString,Gie=Vie.hasOwnProperty,Xie=$E.call(Object);function Yie(t){if(!Hie(t)||zie(t)!=qie)return!1;var e=Uie(t);if(e===null)return!0;var r=Gie.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&$E.call(r)==Xie}var Kie=Yie;const Jie=lr(Kie);var Zie=No,Qie=_o,eae="[object Boolean]";function tae(t){return t===!0||t===!1||Qie(t)&&Zie(t)==eae}var rae=tae;const nae=lr(rae);function o0(t){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kx.apply(this,arguments)}function iae(t,e){return lae(t)||oae(t,e)||sae(t,e)||aae()}function aae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sae(t,e){if(t){if(typeof t=="string")return f3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f3(t,e)}}function f3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lae(t){if(Array.isArray(t))return t}function p3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(r),!0).forEach(function(n){cae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cae(t,e,r){return e=uae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uae(t){var e=dae(t,"string");return o0(e)=="symbol"?e:e+""}function dae(t,e){if(o0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x3=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},hae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fae=function(e){var r=m3(m3({},hae),e),n=T.useRef(),i=T.useState(-1),s=iae(i,2),o=s[0],l=s[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Ct("recharts-trapezoid",p);return b?re.createElement(Rs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:x,animationEasing:m,isActive:b},function(w){var N=w.upperWidth,_=w.lowerWidth,S=w.height,A=w.x,E=w.y;return re.createElement(Rs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:m},re.createElement("path",kx({},ut(r,!0),{className:y,d:x3(A,E,N,_,S),ref:n})))}):re.createElement("g",null,re.createElement("path",kx({},ut(r,!0),{className:y,d:x3(c,u,d,h,f)})))},pae=["option","shapeType","propTransformer","activeClassName","isActive"];function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function mae(t,e){if(t==null)return{};var r=xae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(r),!0).forEach(function(n){gae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gae(t,e,r){return e=vae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vae(t){var e=bae(t,"string");return l0(e)=="symbol"?e:e+""}function bae(t,e){if(l0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yae(t,e){return Tx(Tx({},e),t)}function wae(t,e){return t==="symbols"}function v3(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return re.createElement(x5,r);case"trapezoid":return re.createElement(fae,r);case"sector":return re.createElement(SE,r);case"symbols":if(wae(e))return re.createElement(Mw,r);break;default:return null}}function jae(t){return T.isValidElement(t)?t.props:t}function zE(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?yae:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=mae(t,pae),u;if(T.isValidElement(e))u=T.cloneElement(e,Tx(Tx({},c),jae(e)));else if(mt(e))u=e(c);else if(Jie(e)&&!nae(e)){var d=i(e,c);u=re.createElement(v3,{shapeType:r,elementProps:d})}else{var h=c;u=re.createElement(v3,{shapeType:r,elementProps:h})}return l?re.createElement(Vt,{className:o},u):u}function ng(t,e){return e!=null&&"trapezoids"in t.props}function ig(t,e){return e!=null&&"sectors"in t.props}function c0(t,e){return e!=null&&"points"in t.props}function Nae(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function _ae(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Sae(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Aae(t,e){var r;return ng(t,e)?r=Nae:ig(t,e)?r=_ae:c0(t,e)&&(r=Sae),r}function Cae(t,e){var r;return ng(t,e)?r="trapezoids":ig(t,e)?r="sectors":c0(t,e)&&(r="points"),r}function Eae(t,e){if(ng(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ig(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return c0(t,e)?e.payload:{}}function Oae(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Cae(r,e),s=Eae(r,e),o=n.filter(function(c,u){var d=F0(s,c),h=r.props[i].filter(function(m){var x=Aae(r,e);return x(m,e)}),f=r.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Dm;function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(n){_a(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HE(n.key),n)}}function kae(t,e,r){return e&&y3(t.prototype,e),r&&y3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tae(t,e,r){return e=Ix(e),Iae(t,UE()?Reflect.construct(e,r||[],Ix(t).constructor):e.apply(t,r))}function Iae(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dae(t)}function Dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UE=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(t)}function Mae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i2(t,e)}function _a(t,e,r){return e=HE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HE(t){var e=Lae(t,"string");return vd(e)=="symbol"?e:e+""}function Lae(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Us=function(t){function e(r){var n;return Pae(this,e),n=Tae(this,e,[r]),_a(n,"pieRef",null),_a(n,"sectorRefs",[]),_a(n,"id",Hd("recharts-pie-")),_a(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),mt(i)&&i()}),_a(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),mt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Mae(e,t),kae(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ut(this.props,!1),h=ut(o,!1),f=ut(l,!1),p=o&&o.offsetRadius||20,m=n.map(function(x,g){var b=(x.startAngle+x.endAngle)/2,y=_r(x.cx,x.cy,x.outerRadius+p,b),w=wr(wr(wr(wr({},d),x),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(y.x,x.cx)},y),N=wr(wr(wr(wr({},d),x),{},{fill:"none",stroke:x.fill},f),{},{index:g,points:[_r(x.cx,x.cy,x.outerRadius,b),y]}),_=c;return _t(c)&&_t(u)?_="value":_t(c)&&(_=u),re.createElement(Vt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,w,Nn(x,_)))});return re.createElement(Vt,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),f=c&&i.hasActiveIndex()?c:null,p=h?o:f,m=wr(wr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return re.createElement(Vt,Bu({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},wc(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),re.createElement(zE,Bu({option:p,isActive:h,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return re.createElement(Rs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var x=m.t,g=[],b=s&&s[0],y=b.startAngle;return s.forEach(function(w,N){var _=f&&f[N],S=N>0?la(w,"paddingAngle",0):0;if(_){var A=na(_.endAngle-_.startAngle,w.endAngle-w.startAngle),E=wr(wr({},w),{},{startAngle:y+S,endAngle:y+A(x)+S});g.push(E),y=E.endAngle}else{var D=w.endAngle,F=w.startAngle,k=na(0,D-F),O=k(x),B=wr(wr({},w),{},{startAngle:y+S,endAngle:y+O+S});g.push(B),y=B.endAngle}}),re.createElement(Vt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!F0(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(s||!o||!o.length||!We(u)||!We(d)||!We(h)||!We(f))return null;var x=Ct("recharts-pie",l);return re.createElement(Vt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Fn.renderCallByParent(this.props,null,!1),(!p||m)&&xo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(re.isValidElement(n))return re.cloneElement(n,i);if(mt(n))return n(i);var o=Ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return re.createElement(_x,Bu({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(re.isValidElement(n))return re.cloneElement(n,i);var o=s;if(mt(n)&&(o=n(i),re.isValidElement(o)))return o;var l=Ct("recharts-pie-label-text",typeof n!="boolean"&&!mt(n)?n.className:"");return re.createElement(jc,Bu({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(T.PureComponent);Dm=Us;_a(Us,"displayName","Pie");_a(Us,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ts.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_a(Us,"parseDeltaAngle",function(t,e){var r=_i(e-t),n=Math.min(Math.abs(e-t),360);return r*n});_a(Us,"getRealPieData",function(t){var e=t.data,r=t.children,n=ut(t,!1),i=ca(r,I0);return e&&e.length?e.map(function(s,o){return wr(wr(wr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return wr(wr({},n),s.props)}):[]});_a(Us,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=wE(i,s),l=n+Si(t.cx,i,i/2),c=r+Si(t.cy,s,s/2),u=Si(t.innerRadius,o,0),d=Si(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});_a(Us,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?wr(wr({},e.type.defaultProps),e.props):e.props,i=Dm.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),m=Dm.parseCoordinateOfPie(n,r),x=Dm.parseDeltaAngle(o,l),g=Math.abs(x),b=u;_t(u)&&_t(h)?(ts(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):_t(u)&&(ts(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var y=i.filter(function(E){return Nn(E,b,0)!==0}).length,w=(g>=360?y:y-1)*c,N=g-y*p-w,_=i.reduce(function(E,D){var F=Nn(D,b,0);return E+(We(F)?F:0)},0),S;if(_>0){var A;S=i.map(function(E,D){var F=Nn(E,b,0),k=Nn(E,d,D),O=(We(F)?F:0)/_,B;D?B=A.endAngle+_i(x)*c*(F!==0?1:0):B=o;var L=B+_i(x)*((F!==0?p:0)+O*N),W=(B+L)/2,$=(m.innerRadius+m.outerRadius)/2,z=[{name:k,value:F,payload:E,dataKey:b,type:f}],X=_r(m.cx,m.cy,$,W);return A=wr(wr(wr({percent:O,cornerRadius:s,name:k,tooltipPayload:z,midAngle:W,middleRadius:$,tooltipPosition:X},E),m),{},{value:Nn(E,b),startAngle:B,endAngle:L,payload:E,paddingAngle:_i(x)*c}),A})}return wr(wr({},m),{},{sectors:S,data:i})});var Rae=Math.ceil,Fae=Math.max;function Bae(t,e,r,n){for(var i=-1,s=Fae(Rae((e-t)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=t,t+=r;return o}var $ae=Bae,zae=l8,w3=1/0,Uae=17976931348623157e292;function Hae(t){if(!t)return t===0?t:0;if(t=zae(t),t===w3||t===-w3){var e=t<0?-1:1;return e*Uae}return t===t?t:0}var qE=Hae,qae=$ae,Wae=$1,zv=qE;function Vae(t){return function(e,r,n){return n&&typeof n!="number"&&Wae(e,r,n)&&(r=n=void 0),e=zv(e),r===void 0?(r=e,e=0):r=zv(r),n=n===void 0?e<r?1:-1:zv(n),qae(e,r,n,t)}}var Gae=Vae,Xae=Gae,Yae=Xae(),Kae=Yae;const Dx=lr(Kae);function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function j3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WE(t,e,r){return e=Jae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jae(t){var e=Zae(t,"string");return u0(e)=="symbol"?e:e+""}function Zae(t,e){if(u0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(u0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qae=["Webkit","Moz","O","ms"],ese=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Qae.reduce(function(s,o){return N3(N3({},s),{},WE({},o+n,r))},{});return i[e]=r,i};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mx.apply(this,arguments)}function _3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(r),!0).forEach(function(n){ta(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GE(n.key),n)}}function rse(t,e,r){return e&&S3(t.prototype,e),r&&S3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nse(t,e,r){return e=Lx(e),ise(t,VE()?Reflect.construct(e,r||[],Lx(t).constructor):e.apply(t,r))}function ise(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ase(t)}function ase(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VE=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(t)}function sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a2(t,e)}function a2(t,e){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a2(t,e)}function ta(t,e,r){return e=GE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GE(t){var e=ose(t,"string");return bd(e)=="symbol"?e:e+""}function ose(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lse=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=mf().domain(Dx(0,c)).range([s,s+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},A3=function(e){return e.changedTouches&&!!e.changedTouches.length},yd=function(t){function e(r){var n;return tse(this,e),n=nse(this,e,[r]),ta(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ta(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ta(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),ta(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ta(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ta(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ta(n,"handleSlideDragStart",function(i){var s=A3(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sse(e,t),rse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,s),f=Math.max(i,s),p=e.getIndexInRange(o,h),m=e.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Nn(s[n],l,n);return mt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,m=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-h-l,u+d-h-o):x<0&&(x=Math.max(x,u-o,u-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==f||g.endIndex!==p)&&m&&m(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=A3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,h+f-p-u):y<0&&(y=Math.max(y,h-u)),b[o]=u+y;var w=this.getIndex(b),N=w.startIndex,_=w.endIndex,S=function(){var E=g.length-1;return o==="startX"&&(l>c?N%x===0:_%x===0)||l<c&&_===E||o==="endX"&&(l>c?_%x===0:N%x===0)||l>c&&_===E};this.setState(ta(ta({},o,u+y),"brushMoveStartX",n.pageX),function(){m&&S()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var p=l[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(ta({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return re.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=T.Children.only(u);return h?re.cloneElement(h,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,m=c.data,x=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),y=Uv(Uv({},ut(this.props,!1)),{},{x:b,y:u,width:d,height:h}),w=p||"Min value: ".concat((s=m[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[g])===null||o===void 0?void 0:o.name);return re.createElement(Vt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,m={pointerEvents:"none",fill:u};return re.createElement(Vt,{className:"recharts-brush-texts"},re.createElement(jc,Mx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},m),this.getTextOfTick(i)),re.createElement(jc,Mx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,m=f.endX,x=f.isTextActive,g=f.isSlideMoving,b=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!We(l)||!We(c)||!We(u)||!We(d)||u<=0||d<=0)return null;var w=Ct("recharts-brush",s),N=re.Children.count(o)===1,_=ese("userSelect","none");return re.createElement(Vt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||g||b||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),re.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return re.isValidElement(n)?s=re.cloneElement(n,i):mt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Uv({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?lse({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(T.PureComponent);ta(yd,"displayName","Brush");ta(yd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cse=Uw;function use(t,e){var r;return cse(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var dse=use,hse=M6,fse=zs,pse=dse,mse=qi,xse=$1;function gse(t,e,r){var n=mse(t)?hse:pse;return r&&xse(t,e,r)&&(e=void 0),n(t,fse(e))}var vse=gse;const bse=lr(vse);var Ds=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},C3=n8;function yse(t,e,r){e=="__proto__"&&C3?C3(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var wse=yse,jse=wse,Nse=t8,_se=zs;function Sse(t,e){var r={};return e=_se(e),Nse(t,function(n,i,s){jse(r,i,e(n,i,s))}),r}var Ase=Sse;const Cse=lr(Ase);function Ese(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Ose=Ese,Pse=Uw;function kse(t,e){var r=!0;return Pse(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var Tse=kse,Ise=Ose,Dse=Tse,Mse=zs,Lse=qi,Rse=$1;function Fse(t,e,r){var n=Lse(t)?Ise:Dse;return r&&Rse(t,e,r)&&(e=void 0),n(t,Mse(e))}var Bse=Fse;const XE=lr(Bse);var $se=["x","y"];function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s2.apply(this,arguments)}function E3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(r),!0).forEach(function(n){zse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zse(t,e,r){return e=Use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=Hse(t,"string");return d0(e)=="symbol"?e:e+""}function Hse(t,e){if(d0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(d0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t,e){if(t==null)return{};var r=Wse(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vse(t,e){var r=t.x,n=t.y,i=qse(t,$se),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return Gh(Gh(Gh(Gh(Gh({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function O3(t){return re.createElement(zE,s2({shapeType:"rectangle",propTransformer:Vse,activeClassName:"recharts-active-bar"},t))}var Gse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,i):(s||_c(),r)}},Xse=["value","background"],YE;function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function Yse(t,e){if(t==null)return{};var r=Kse(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rx.apply(this,arguments)}function P3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(r),!0).forEach(function(n){ul(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JE(n.key),n)}}function Zse(t,e,r){return e&&k3(t.prototype,e),r&&k3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qse(t,e,r){return e=Fx(e),eoe(t,KE()?Reflect.construct(e,r||[],Fx(t).constructor):e.apply(t,r))}function eoe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return toe(t)}function toe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KE=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(t)}function roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o2(t,e)}function o2(t,e){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o2(t,e)}function ul(t,e,r){return e=JE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JE(t){var e=noe(t,"string");return wd(e)=="symbol"?e:e+""}function noe(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lc=function(t){function e(){var r;Jse(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Qse(this,e,[].concat(i)),ul(r,"state",{isAnimationFinished:!1}),ul(r,"id",Hd("recharts-bar-")),ul(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ul(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return roe(e,t),Zse(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ut(this.props,!1);return n&&n.map(function(h,f){var p=f===c,m=p?u:o,x=cn(cn(cn({},d),h),{},{isActive:p,option:m,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(Vt,Rx({className:"recharts-bar-rectangle"},wc(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),re.createElement(O3,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return re.createElement(Rs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=s.map(function(g,b){var y=f&&f[b];if(y){var w=na(y.x,g.x),N=na(y.y,g.y),_=na(y.width,g.width),S=na(y.height,g.height);return cn(cn({},g),{},{x:w(m),y:N(m),width:_(m),height:S(m)})}if(o==="horizontal"){var A=na(0,g.height),E=A(m);return cn(cn({},g),{},{y:g.y+g.height-E,height:E})}var D=na(0,g.width),F=D(m);return cn(cn({},g),{},{width:F})});return re.createElement(Vt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!F0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=ut(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,f=Yse(u,Xse);if(!h)return null;var p=cn(cn(cn(cn(cn({},f),{},{fill:"#eee"},h),c),wc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return re.createElement(O3,Rx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=ca(d,B0);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,b){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Nn(g,b)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(Vt,m,h.map(function(x){return re.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,b=Ct("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=y||w,_=_t(x)?this.id:x;return re.createElement(Vt,{className:b},y||w?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(_)},re.createElement("rect",{x:y?u:u-h/2,y:w?d:d-f/2,width:y?h:h*2,height:w?f:f*2}))):null,re.createElement(Vt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(_,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,_),(!p||g)&&xo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(T.PureComponent);YE=Lc;ul(Lc,"displayName","Bar");ul(Lc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ul(Lc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Ree(n,r);if(!p)return null;var m=e.layout,x=r.type.defaultProps,g=x!==void 0?cn(cn({},x),r.props):r.props,b=g.dataKey,y=g.children,w=g.minPointSize,N=m==="horizontal"?o:s,_=u?N.scale.domain():null,S=qee({numericAxis:N}),A=ca(y,I0),E=h.map(function(D,F){var k,O,B,L,W,$;u?k=Fee(u[d+F],_):(k=Nn(D,b),Array.isArray(k)||(k=[S,k]));var z=Gse(w,YE.defaultProps.minPointSize)(k[1],F);if(m==="horizontal"){var X,Y=[o.scale(k[0]),o.scale(k[1])],le=Y[0],fe=Y[1];O=y4({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:D,index:F}),B=(X=fe??le)!==null&&X!==void 0?X:void 0,L=p.size;var R=le-fe;if(W=Number.isNaN(R)?0:R,$={x:O,y:o.y,width:L,height:o.height},Math.abs(z)>0&&Math.abs(W)<Math.abs(z)){var I=_i(W||z)*(Math.abs(z)-Math.abs(W));B-=I,W+=I}}else{var q=[s.scale(k[0]),s.scale(k[1])],Q=q[0],J=q[1];if(O=Q,B=y4({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:D,index:F}),L=J-Q,W=p.size,$={x:s.x,y:B,width:s.width,height:W},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var de=_i(L||z)*(Math.abs(z)-Math.abs(L));L+=de}}return cn(cn(cn({},D),{},{x:O,y:B,width:L,height:W,value:u?k:k[1],payload:D,background:$},A&&A[F]&&A[F].props),{},{tooltipPayload:[bE(r,D)],tooltipPosition:{x:O+L/2,y:B+W/2}})});return cn({data:E,layout:m},f)});function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZE(n.key),n)}}function aoe(t,e,r){return e&&T3(t.prototype,e),r&&T3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(r),!0).forEach(function(n){ag(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ag(t,e,r){return e=ZE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZE(t){var e=soe(t,"string");return h0(e)=="symbol"?e:e+""}function soe(t,e){if(h0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QE=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!ra(u,Lc);return d.reduce(function(p,m){var x=r[m],g=x.orientation,b=x.domain,y=x.padding,w=y===void 0?{}:y,N=x.mirror,_=x.reversed,S="".concat(g).concat(N?"Mirror":""),A,E,D,F,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var O=b[1]-b[0],B=1/0,L=x.categoricalDomain.sort();if(L.forEach(function(q,Q){Q>0&&(B=Math.min((q||0)-(L[Q-1]||0),B))}),Number.isFinite(B)){var W=B/O,$=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(A=W*$/2),x.padding==="no-gap"){var z=Si(e.barCategoryGap,W*$),X=W*$/2;A=X-z-(X-z)/$*z}}}i==="xAxis"?E=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:i==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:E=x.range,_&&(E=[E[1],E[0]]);var Y=mE(x,s,f),le=Y.scale,fe=Y.realScaleType;le.domain(b).range(E),xE(le);var R=gE(le,Ya(Ya({},x),{},{realScaleType:fe}));i==="xAxis"?(k=g==="top"&&!N||g==="bottom"&&N,D=n.left,F=h[S]-k*x.height):i==="yAxis"&&(k=g==="left"&&!N||g==="right"&&N,D=h[S]-k*x.width,F=n.top);var I=Ya(Ya(Ya({},x),R),{},{realScaleType:fe,x:D,y:F,scale:le,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return I.bandSize=wx(I,R),!x.hide&&i==="xAxis"?h[S]+=(k?-1:1)*I.height:x.hide||(h[S]+=(k?-1:1)*I.width),Ya(Ya({},p),{},ag({},m,I))},{})},eO=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},ooe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return eO({x:r,y:n},{x:i,y:s})},tO=function(){function t(e){ioe(this,t),this.scale=e}return aoe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();ag(tO,"EPS",1e-4);var g5=function(e){var r=Object.keys(e).reduce(function(n,i){return Ya(Ya({},n),{},ag({},i,tO.create(e[i])))},{});return Ya(Ya({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Cse(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return XE(i,function(s,o){return r[o].isInRange(s)})}})};function loe(t){return(t%180+180)%180}var coe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=loe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},uoe=zs,doe=T0,hoe=F1;function foe(t){return function(e,r,n){var i=Object(e);if(!doe(e)){var s=uoe(r);e=hoe(e),r=function(l){return s(i[l],l,i)}}var o=t(e,r,n);return o>-1?i[s?e[o]:o]:void 0}}var poe=foe,moe=qE;function xoe(t){var e=moe(t),r=e%1;return e===e?r?e-r:e:0}var goe=xoe,voe=Y6,boe=zs,yoe=goe,woe=Math.max;function joe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:yoe(r);return i<0&&(i=woe(n+i,0)),voe(t,boe(e),i)}var Noe=joe,_oe=poe,Soe=Noe,Aoe=_oe(Soe),Coe=Aoe;const Eoe=lr(Coe);var Ooe=_F(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),v5=T.createContext(void 0),b5=T.createContext(void 0),rO=T.createContext(void 0),nO=T.createContext({}),iO=T.createContext(void 0),aO=T.createContext(0),sO=T.createContext(0),D3=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Ooe(s);return re.createElement(v5.Provider,{value:n},re.createElement(b5.Provider,{value:i},re.createElement(nO.Provider,{value:s},re.createElement(rO.Provider,{value:d},re.createElement(iO.Provider,{value:o},re.createElement(aO.Provider,{value:u},re.createElement(sO.Provider,{value:c},l)))))))},Poe=function(){return T.useContext(iO)},oO=function(e){var r=T.useContext(v5);r==null&&_c();var n=r[e];return n==null&&_c(),n},koe=function(){var e=T.useContext(v5);return sl(e)},Toe=function(){var e=T.useContext(b5),r=Eoe(e,function(n){return XE(n.domain,Number.isFinite)});return r||sl(e)},lO=function(e){var r=T.useContext(b5);r==null&&_c();var n=r[e];return n==null&&_c(),n},Ioe=function(){var e=T.useContext(rO);return e},Doe=function(){return T.useContext(nO)},y5=function(){return T.useContext(sO)},w5=function(){return T.useContext(aO)};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function Moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Loe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uO(n.key),n)}}function Roe(t,e,r){return e&&Loe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Foe(t,e,r){return e=Bx(e),Boe(t,cO()?Reflect.construct(e,r||[],Bx(t).constructor):e.apply(t,r))}function Boe(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $oe(t)}function $oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bx(t)}function zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l2(t,e)}function l2(t,e){return l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l2(t,e)}function M3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(r),!0).forEach(function(n){j5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j5(t,e,r){return e=uO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uO(t){var e=Uoe(t,"string");return jd(e)=="symbol"?e:e+""}function Uoe(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hoe(t,e){return Goe(t)||Voe(t,e)||Woe(t,e)||qoe()}function qoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Woe(t,e){if(t){if(typeof t=="string")return R3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R3(t,e)}}function R3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Voe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Goe(t){if(Array.isArray(t))return t}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c2.apply(this,arguments)}var Xoe=function(e,r){var n;return re.isValidElement(e)?n=re.cloneElement(e,r):mt(e)?n=e(r):n=re.createElement("line",c2({},r,{className:"recharts-reference-line-line"})),n},Yoe=function(e,r,n,i,s,o,l,c,u){var d=s.x,h=s.y,f=s.width,p=s.height;if(n){var m=u.y,x=e.y.apply(m,{position:o});if(Ds(u,"discard")&&!e.y.isInRange(x))return null;var g=[{x:d+f,y:x},{x:d,y:x}];return c==="left"?g.reverse():g}if(r){var b=u.x,y=e.x.apply(b,{position:o});if(Ds(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:h+p},{x:y,y:h}];return l==="top"?w.reverse():w}if(i){var N=u.segment,_=N.map(function(S){return e.apply(S,{position:o})});return Ds(u,"discard")&&bse(_,function(S){return!e.isInRange(S)})?null:_}return null};function Koe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Poe(),d=oO(i),h=lO(s),f=Ioe();if(!u||!f)return null;ts(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=g5({x:d.scale,y:h.scale}),m=An(e),x=An(r),g=n&&n.length===2,b=Yoe(p,m,x,g,f,t.position,d.orientation,h.orientation,t);if(!b)return null;var y=Hoe(b,2),w=y[0],N=w.x,_=w.y,S=y[1],A=S.x,E=S.y,D=Ds(t,"hidden")?"url(#".concat(u,")"):void 0,F=L3(L3({clipPath:D},ut(t,!0)),{},{x1:N,y1:_,x2:A,y2:E});return re.createElement(Vt,{className:Ct("recharts-reference-line",l)},Xoe(o,F),Fn.renderCallByParent(t,ooe({x1:N,y1:_,x2:A,y2:E})))}var N5=function(t){function e(){return Moe(this,e),Foe(this,e,arguments)}return zoe(e,t),Roe(e,[{key:"render",value:function(){return re.createElement(Koe,this.props)}}])}(re.Component);j5(N5,"displayName","ReferenceLine");j5(N5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u2.apply(this,arguments)}function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function F3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(r),!0).forEach(function(n){sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hO(n.key),n)}}function Qoe(t,e,r){return e&&Zoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ele(t,e,r){return e=$x(e),tle(t,dO()?Reflect.construct(e,r||[],$x(t).constructor):e.apply(t,r))}function tle(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rle(t)}function rle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!t})()}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$x(t)}function nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d2(t,e)}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d2(t,e)}function sg(t,e,r){return e=hO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hO(t){var e=ile(t,"string");return Nd(e)=="symbol"?e:e+""}function ile(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ale=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=g5({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ds(e,"discard")&&!o.isInRange(l)?null:l},og=function(t){function e(){return Joe(this,e),ele(this,e,arguments)}return nle(e,t),Qoe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=An(i),d=An(s);if(ts(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=ale(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,x=m.shape,g=m.className,b=Ds(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=B3(B3({clipPath:b},ut(this.props,!0)),{},{cx:f,cy:p});return re.createElement(Vt,{className:Ct("recharts-reference-dot",g)},e.renderDot(x,y),Fn.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(re.Component);sg(og,"displayName","ReferenceDot");sg(og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sg(og,"renderDot",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):mt(t)?r=t(e):r=re.createElement(Z1,u2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h2.apply(this,arguments)}function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function $3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ole(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pO(n.key),n)}}function lle(t,e,r){return e&&ole(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cle(t,e,r){return e=zx(e),ule(t,fO()?Reflect.construct(e,r||[],zx(t).constructor):e.apply(t,r))}function ule(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(t)}function dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!t})()}function zx(t){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zx(t)}function hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f2(t,e)}function f2(t,e){return f2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f2(t,e)}function lg(t,e,r){return e=pO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pO(t){var e=fle(t,"string");return _d(e)=="symbol"?e:e+""}function fle(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ple=function(e,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var f=g5({x:d.scale,y:h.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},m={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Ds(s,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:eO(p,m)},cg=function(t){function e(){return sle(this,e),cle(this,e,arguments)}return hle(e,t),lle(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ts(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=An(i),f=An(s),p=An(o),m=An(l),x=this.props.shape;if(!h&&!f&&!p&&!m&&!x)return null;var g=ple(h,f,p,m,this.props);if(!g&&!x)return null;var b=Ds(this.props,"hidden")?"url(#".concat(d,")"):void 0;return re.createElement(Vt,{className:Ct("recharts-reference-area",c)},e.renderRect(x,z3(z3({clipPath:b},ut(this.props,!0)),g)),Fn.renderCallByParent(this.props,g))}}])}(re.Component);lg(cg,"displayName","ReferenceArea");lg(cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lg(cg,"renderRect",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):mt(t)?r=t(e):r=re.createElement(x5,h2({},e,{className:"recharts-reference-area-rect"})),r});function mO(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function mle(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return coe(n,r)}function xle(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function Ux(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function gle(t,e){return mO(t,e+1)}function vle(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:mO(n,u)};var x=c,g,b=function(){return g===void 0&&(g=r(m,x)),g},y=m.coordinate,w=c===0||Ux(t,y,b,d,l);w||(c=0,d=o,u+=1),w&&(d=y+t*(b()/2+i),c+=u)},f;u<=s.length;)if(f=h(),f)return f.v;return[]}function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function U3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(r),!0).forEach(function(n){ble(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ble(t,e,r){return e=yle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yle(t){var e=wle(t,"string");return f0(e)=="symbol"?e:e+""}function wle(t,e){if(f0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(f0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jle(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(f){var p=s[f],m,x=function(){return m===void 0&&(m=r(p,f)),m};if(f===o-1){var g=t*(p.coordinate+t*x()/2-c);s[f]=p=si(si({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else s[f]=p=si(si({},p),{},{tickCoord:p.coordinate});var b=Ux(t,p.tickCoord,x,l,c);b&&(c=p.tickCoord-t*(x()/2+i),s[f]=si(si({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function Nle(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=n[l-1],h=r(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=si(si({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=Ux(t,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-t*(h/2+i),o[l-1]=si(si({},d),{},{isShow:!0}))}for(var m=s?l-1:l,x=function(y){var w=o[y],N,_=function(){return N===void 0&&(N=r(w,y)),N};if(y===0){var S=t*(w.coordinate-t*_()/2-c);o[y]=w=si(si({},w),{},{tickCoord:S<0?w.coordinate-S*t:w.coordinate})}else o[y]=w=si(si({},w),{},{tickCoord:w.coordinate});var A=Ux(t,w.tickCoord,_,c,u);A&&(c=w.tickCoord+t*(_()/2+i),o[y]=si(si({},w),{},{isShow:!0}))},g=0;g<m;g++)x(g);return o}function _5(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(We(c)||Ts.isSsr)return gle(i,typeof c=="number"&&We(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?pf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(w,N){var _=mt(u)?u(w.value,N):w.value;return p==="width"?mle(pf(_,{fontSize:e,letterSpacing:r}),m,h):pf(_,{fontSize:e,letterSpacing:r})[p]},g=i.length>=2?_i(i[1].coordinate-i[0].coordinate):1,b=xle(s,g,p);return c==="equidistantPreserveStart"?vle(g,b,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=Nle(g,b,x,i,o,c==="preserveStartEnd"):f=jle(g,b,x,i,o),f.filter(function(y){return y.isShow}))}var _le=["viewBox"],Sle=["viewBox"],Ale=["ticks"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}function H3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(r),!0).forEach(function(n){S5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hv(t,e){if(t==null)return{};var r=Cle(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gO(n.key),n)}}function Ole(t,e,r){return e&&q3(t.prototype,e),r&&q3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ple(t,e,r){return e=Hx(e),kle(t,xO()?Reflect.construct(e,r||[],Hx(t).constructor):e.apply(t,r))}function kle(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tle(t)}function Tle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!t})()}function Hx(t){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(t)}function Ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p2(t,e)}function p2(t,e){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p2(t,e)}function S5(t,e,r){return e=gO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gO(t){var e=Dle(t,"string");return Sd(e)=="symbol"?e:e+""}function Dle(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kd=function(t){function e(r){var n;return Ele(this,e),n=Ple(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Ile(e,t),Ole(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Hv(n,_le),l=this.props,c=l.viewBox,u=Hv(l,Sle);return!Ku(s,c)||!Ku(o,u)||!Ku(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,m,x,g,b,y,w=h?-1:1,N=n.tickSize||d,_=We(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,g=o+ +!h*c,x=g-w*N,y=x-w*f,b=_;break;case"left":x=g=n.coordinate,m=s+ +!h*l,p=m-w*N,b=p-w*f,y=_;break;case"right":x=g=n.coordinate,m=s+ +h*l,p=m+w*N,b=p+w*f,y=_;break;default:p=m=n.coordinate,g=o+ +h*c,x=g+w*N,y=x+w*f,b=_;break}return{line:{x1:p,y1:x,x2:m,y2:g},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=gi(gi(gi({},ut(this.props,!1)),ut(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=gi(gi({},h),{},{x1:i,y1:s+f*l,x2:i+o,y2:s+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=gi(gi({},h),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+l})}return re.createElement("line",$u({},h,{className:Ct("recharts-cartesian-axis-line",la(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=_5(gi(gi({},this.props),{},{ticks:n}),i,s),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=ut(this.props,!1),b=ut(d,!1),y=gi(gi({},g),{},{fill:"none"},ut(c,!1)),w=p.map(function(N,_){var S=o.getTickLineCoord(N),A=S.line,E=S.tick,D=gi(gi(gi(gi({textAnchor:m,verticalAnchor:x},g),{},{stroke:"none",fill:u},b),E),{},{index:_,payload:N,visibleTicksCount:p.length,tickFormatter:h});return re.createElement(Vt,$u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},wc(o.props,N,_)),c&&re.createElement("line",$u({},y,A,{className:Ct("recharts-cartesian-axis-tick-line",la(c,"className"))})),d&&e.renderTickItem(d,D,"".concat(mt(h)?h(N.value,_):N.value).concat(f||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=Hv(h,Ale),m=f;return mt(c)&&(m=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:re.createElement(Vt,{className:Ct("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return re.isValidElement(n)?o=re.cloneElement(n,i):mt(n)?o=n(i):o=re.createElement(jc,$u({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(T.Component);S5(Kd,"displayName","CartesianAxis");S5(Kd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Mle=["x1","y1","x2","y2","key"],Lle=["offset"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function W3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(r),!0).forEach(function(n){Rle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rle(t,e,r){return e=Fle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fle(t){var e=Ble(t,"string");return Sc(e)=="symbol"?e:e+""}function Ble(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function V3(t,e){if(t==null)return{};var r=$le(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $le(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zle=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return re.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vO(t,e){var r;if(re.isValidElement(t))r=re.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=V3(e,Mle),u=ut(c,!1);u.offset;var d=V3(u,Lle);r=re.createElement("line",lc({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function Ule(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=oi(oi({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return vO(i,u)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Hle(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=oi(oi({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return vO(i,u)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function qle(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],x=m?i+o-f:d[p+1]-f;if(x<=0)return null;var g=p%e.length;return re.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:x,width:s,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Wle(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var m=!d[p+1],x=m?s+l-f:d[p+1]-f;if(x<=0)return null;var g=p%n.length;return re.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:x,height:c,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Vle=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return pE(_5(oi(oi(oi({},Kd.defaultProps),n),{},{ticks:fo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Gle=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return pE(_5(oi(oi(oi({},Kd.defaultProps),n),{},{ticks:fo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},vu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function A5(t){var e,r,n,i,s,o,l=y5(),c=w5(),u=Doe(),d=oi(oi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:vu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:vu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:vu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:vu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:vu.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:vu.verticalFill,x:We(t.x)?t.x:u.left,y:We(t.y)?t.y:u.top,width:We(t.width)?t.width:u.width,height:We(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,x=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,y=koe(),w=Toe();if(!We(p)||p<=0||!We(m)||m<=0||!We(h)||h!==+h||!We(f)||f!==+f)return null;var N=d.verticalCoordinatesGenerator||Vle,_=d.horizontalCoordinatesGenerator||Gle,S=d.horizontalPoints,A=d.verticalPoints;if((!S||!S.length)&&mt(_)){var E=g&&g.length,D=_({yAxis:w?oi(oi({},w),{},{ticks:E?g:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:x);ts(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sc(D),"]")),Array.isArray(D)&&(S=D)}if((!A||!A.length)&&mt(N)){var F=b&&b.length,k=N({xAxis:y?oi(oi({},y),{},{ticks:F?b:y.ticks}):void 0,width:l,height:c,offset:u},F?!0:x);ts(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sc(k),"]")),Array.isArray(k)&&(A=k)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(zle,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),re.createElement(Ule,lc({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:w})),re.createElement(Hle,lc({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:w})),re.createElement(qle,lc({},d,{horizontalPoints:S})),re.createElement(Wle,lc({},d,{verticalPoints:A})))}A5.displayName="CartesianGrid";var Xle=["type","layout","connectNulls","ref"],Yle=["key"];function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function G3(t,e){if(t==null)return{};var r=Kle(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}function X3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(r),!0).forEach(function(n){Ka(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bu(t){return ece(t)||Qle(t)||Zle(t)||Jle()}function Jle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return m2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(t,e)}}function Qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ece(t){if(Array.isArray(t))return m2(t)}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yO(n.key),n)}}function rce(t,e,r){return e&&Y3(t.prototype,e),r&&Y3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nce(t,e,r){return e=qx(e),ice(t,bO()?Reflect.construct(e,r||[],qx(t).constructor):e.apply(t,r))}function ice(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ace(t)}function ace(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bO=function(){return!!t})()}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qx(t)}function sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x2(t,e)}function x2(t,e){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x2(t,e)}function Ka(t,e,r){return e=yO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yO(t){var e=oce(t,"string");return Ad(e)=="symbol"?e:e+""}function oce(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $0=function(t){function e(){var r;tce(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=nce(this,e,[].concat(i)),Ka(r,"state",{isAnimationFinished:!0,totalLength:0}),Ka(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ka(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,p=[],m=0,x=0;m<c.length;x+=c[m],++m)if(x+c[m]>h){p=[].concat(bu(c.slice(0,m)),[h-x]);break}var g=p.length%2===0?[0,f]:[f];return[].concat(bu(e.repeat(c,d)),bu(p),g).map(function(b){return"".concat(b,"px")}).join(", ")}),Ka(r,"id",Hd("recharts-line-")),Ka(r,"pathRef",function(o){r.mainCurve=o}),Ka(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ka(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return sce(e,t),rce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=ca(d,B0);if(!h)return null;var f=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:Nn(x.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(Vt,p,h.map(function(m){return re.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=ut(this.props,!1),f=ut(c,!0),p=u.map(function(x,g){var b=Qi(Qi(Qi({key:"dot-".concat(g),r:3},h),f),{},{value:x.value,dataKey:d,cx:x.x,cy:x.y,index:g,payload:x.payload});return e.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return re.createElement(Vt,yf({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=G3(l,Xle),f=Qi(Qi(Qi({},ut(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return re.createElement(_x,yf({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,m=o.animateNewValues,x=o.width,g=o.height,b=this.state,y=b.prevPoints,w=b.totalLength;return re.createElement(Rs,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var _=N.t;if(y){var S=y.length/l.length,A=l.map(function(O,B){var L=Math.floor(B*S);if(y[L]){var W=y[L],$=na(W.x,O.x),z=na(W.y,O.y);return Qi(Qi({},O),{},{x:$(_),y:z(_)})}if(m){var X=na(x*2,O.x),Y=na(g/2,O.y);return Qi(Qi({},O),{},{x:X(_),y:Y(_)})}return Qi(Qi({},O),{},{x:O.x,y:O.y})});return s.renderCurveStatically(A,n,i)}var E=na(0,w),D=E(_),F;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});F=s.getStrokeDasharray(D,w,k)}else F=s.generateSimpleStrokeDasharray(w,D);return s.renderCurveStatically(l,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!F0(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,m=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Ct("recharts-line",c),N=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=N||_,A=_t(g)?this.id:g,E=(n=ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=E.r,F=D===void 0?3:D,k=E.strokeWidth,O=k===void 0?2:k,B=PB(o)?o:{},L=B.clipDot,W=L===void 0?!0:L,$=F*2+O;return re.createElement(Vt,{className:w},N||_?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(A)},re.createElement("rect",{x:N?f:f-p/2,y:_?h:h-m/2,width:N?p:p*2,height:_?m:m*2})),!W&&re.createElement("clipPath",{id:"clipPath-dots-".concat(A)},re.createElement("rect",{x:f-$/2,y:h-$/2,width:p+$,height:m+$}))):null,!y&&this.renderCurve(S,A),this.renderErrorBar(S,A),(y||o)&&this.renderDots(S,W,A),(!x||b)&&xo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(bu(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(bu(o),bu(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(re.isValidElement(n))s=re.cloneElement(n,i);else if(mt(n))s=n(i);else{var o=i.key,l=G3(i,Yle),c=Ct("recharts-line-dot",typeof n!="boolean"?n.className:"");s=re.createElement(Z1,yf({key:o},l,{className:c}))}return s}}])}(T.PureComponent);Ka($0,"displayName","Line");Ka($0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ts.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ka($0,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,p){var m=Nn(f,o);return d==="horizontal"?{x:b4({axis:r,ticks:i,bandSize:l,entry:f,index:p}),y:_t(m)?null:n.scale(m),value:m,payload:f}:{x:_t(m)?null:r.scale(m),y:b4({axis:n,ticks:s,bandSize:l,entry:f,index:p}),value:m,payload:f}});return Qi({points:h,layout:d},u)});function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function lce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NO(n.key),n)}}function uce(t,e,r){return e&&cce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dce(t,e,r){return e=Wx(e),hce(t,wO()?Reflect.construct(e,r||[],Wx(t).constructor):e.apply(t,r))}function hce(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fce(t)}function fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!t})()}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(t)}function pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g2(t,e)}function g2(t,e){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g2(t,e)}function jO(t,e,r){return e=NO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NO(t){var e=mce(t,"string");return Cd(e)=="symbol"?e:e+""}function mce(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v2(){return v2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v2.apply(this,arguments)}function xce(t){var e=t.xAxisId,r=y5(),n=w5(),i=oO(e);return i==null?null:re.createElement(Kd,v2({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return fo(o,!0)}}))}var Jd=function(t){function e(){return lce(this,e),dce(this,e,arguments)}return pce(e,t),uce(e,[{key:"render",value:function(){return re.createElement(xce,this.props)}}])}(re.Component);jO(Jd,"displayName","XAxis");jO(Jd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function gce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AO(n.key),n)}}function bce(t,e,r){return e&&vce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yce(t,e,r){return e=Vx(e),wce(t,_O()?Reflect.construct(e,r||[],Vx(t).constructor):e.apply(t,r))}function wce(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(t)}function jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!t})()}function Vx(t){return Vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vx(t)}function Nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b2(t,e)}function SO(t,e,r){return e=AO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AO(t){var e=_ce(t,"string");return Ed(e)=="symbol"?e:e+""}function _ce(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y2.apply(this,arguments)}var Sce=function(e){var r=e.yAxisId,n=y5(),i=w5(),s=lO(r);return s==null?null:re.createElement(Kd,y2({},s,{className:Ct("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return fo(l,!0)}}))},Zd=function(t){function e(){return gce(this,e),yce(this,e,arguments)}return Nce(e,t),bce(e,[{key:"render",value:function(){return re.createElement(Sce,this.props)}}])}(re.Component);SO(Zd,"displayName","YAxis");SO(Zd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function K3(t){return Oce(t)||Ece(t)||Cce(t)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){if(t){if(typeof t=="string")return w2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w2(t,e)}}function Ece(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oce(t){if(Array.isArray(t))return w2(t)}function w2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j2=function(e,r,n,i,s){var o=ca(e,N5),l=ca(e,og),c=[].concat(K3(o),K3(l)),u=ca(e,cg),d="".concat(i,"Id"),h=i[0],f=r;if(c.length&&(f=c.reduce(function(x,g){if(g.props[d]===n&&Ds(g.props,"extendDomain")&&We(g.props[h])){var b=g.props[h];return[Math.min(x[0],b),Math.max(x[1],b)]}return x},f)),u.length){var p="".concat(h,"1"),m="".concat(h,"2");f=u.reduce(function(x,g){if(g.props[d]===n&&Ds(g.props,"extendDomain")&&We(g.props[p])&&We(g.props[m])){var b=g.props[p],y=g.props[m];return[Math.min(x[0],b,y),Math.max(x[1],b,y)]}return x},f)}return s&&s.length&&(f=s.reduce(function(x,g){return We(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},f)),f},CO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,m){var x=r?r+u:u;if(!this._events[x])return!1;var g=this._events[x],b=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,h),!0;case 4:return g.fn.call(g.context,d,h,f),!0;case 5:return g.fn.call(g.context,d,h,f,p),!0;case 6:return g.fn.call(g.context,d,h,f,p,m),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var N=g.length,_;for(w=0;w<N;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,h);break;case 4:g[w].fn.call(g[w].context,d,h,f);break;default:if(!y)for(_=1,y=new Array(b-1);_<b;_++)y[_-1]=arguments[_];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var x=0,g=[],b=m.length;x<b;x++)(m[x].fn!==d||f&&!m[x].once||h&&m[x].context!==h)&&g.push(m[x]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(CO);var Pce=CO.exports;const kce=lr(Pce);var qv=new kce,Wv="recharts.syncMouseEvents";function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function Tce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ice(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EO(n.key),n)}}function Dce(t,e,r){return e&&Ice(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vv(t,e,r){return e=EO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EO(t){var e=Mce(t,"string");return p0(e)=="symbol"?e:e+""}function Mce(t,e){if(p0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lce=function(){function t(){Tce(this,t),Vv(this,"activeIndex",0),Vv(this,"coordinateList",[]),Vv(this,"layout","horizontal")}return Dce(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Rce(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&We(n)&&We(i))return!0}return!1}function Fce(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function OO(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=_r(e,r,n,i),l=_r(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Bce(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=_r(l,c,u,h),p=_r(l,c,d,h);n=f.x,i=f.y,s=p.x,o=p.y}else return OO(e);return[{x:n,y:i},{x:s,y:o}]}function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function J3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(r),!0).forEach(function(n){$ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ce(t,e,r){return e=zce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zce(t){var e=Uce(t,"string");return m0(e)=="symbol"?e:e+""}function Uce(t,e){if(m0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(m0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hce(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var m,x=_x;if(f==="ScatterChart")m=o,x=oie;else if(f==="BarChart")m=Fce(h,o,c,d),x=x5;else if(h==="radial"){var g=OO(o),b=g.cx,y=g.cy,w=g.radius,N=g.startAngle,_=g.endAngle;m={cx:b,cy:y,startAngle:N,endAngle:_,innerRadius:w,outerRadius:w},x=SE}else m={points:Bce(h,o,c)},x=_x;var S=Qp(Qp(Qp(Qp({stroke:"#ccc",pointerEvents:"none"},c),m),ut(p,!1)),{},{payload:l,payloadIndex:u,className:Ct("recharts-tooltip-cursor",p.className)});return T.isValidElement(p)?T.cloneElement(p,S):T.createElement(x,S)}var qce=["item"],Wce=["children","className","width","height","style","compact","title","desc"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function Z3(t,e){return Xce(t)||Gce(t,e)||kO(t,e)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Xce(t){if(Array.isArray(t))return t}function Q3(t,e){if(t==null)return{};var r=Yce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TO(n.key),n)}}function Zce(t,e,r){return e&&Jce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qce(t,e,r){return e=Gx(e),eue(t,PO()?Reflect.construct(e,r||[],Gx(t).constructor):e.apply(t,r))}function eue(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tue(t)}function tue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(t)}function rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N2(t,e)}function N2(t,e){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N2(t,e)}function Pd(t){return aue(t)||iue(t)||kO(t)||nue()}function nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kO(t,e){if(t){if(typeof t=="string")return _2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _2(t,e)}}function iue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aue(t){if(Array.isArray(t))return _2(t)}function _2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ft(t,e,r){return e=TO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TO(t){var e=sue(t,"string");return Od(e)=="symbol"?e:e+""}function sue(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oue={xAxis:["bottom","top"],yAxis:["left","right"]},lue={width:"100%",height:"100%"},IO={x:0,y:0};function em(t){return t}var cue=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},uue=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return Me(Me(Me({},i),_r(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Me(Me(Me({},i),_r(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return IO},ug=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Pd(l),Pd(u)):l},[]);return o.length>0?o:e&&e.length&&We(i)&&We(s)?e.slice(i,s+1):[]};function DO(t){return t==="number"?[0,"auto"]:void 0}var S2=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=ug(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=Vm(p,o.dataKey,i)}else f=h&&h[n]||l[n];return f?[].concat(Pd(c),[bE(u,f)]):c},[])},tS=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=cue(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=kee(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=S2(e,r,d,h),p=uue(n,l,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},due=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=fE(d,s);return n.reduce(function(m,x){var g,b=x.type.defaultProps!==void 0?Me(Me({},x.type.defaultProps),x.props):x.props,y=b.type,w=b.dataKey,N=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,A=b.ticks,E=b.includeHidden,D=b[o];if(m[D])return m;var F=ug(e.data,{graphicalItems:i.filter(function(R){var I,q=o in R.props?R.props[o]:(I=R.type.defaultProps)===null||I===void 0?void 0:I[o];return q===D}),dataStartIndex:c,dataEndIndex:u}),k=F.length,O,B,L;Rce(b.domain,N,y)&&(O=By(b.domain,null,N),p&&(y==="number"||S!=="auto")&&(L=xf(F,w,"category")));var W=DO(y);if(!O||O.length===0){var $,z=($=b.domain)!==null&&$!==void 0?$:W;if(w){if(O=xf(F,w,y),y==="category"&&p){var X=wB(O);_&&X?(B=O,O=Dx(0,k)):_||(O=N4(z,O,x).reduce(function(R,I){return R.indexOf(I)>=0?R:[].concat(Pd(R),[I])},[]))}else if(y==="category")_?O=O.filter(function(R){return R!==""&&!_t(R)}):O=N4(z,O,x).reduce(function(R,I){return R.indexOf(I)>=0||I===""||_t(I)?R:[].concat(Pd(R),[I])},[]);else if(y==="number"){var Y=Lee(F,i.filter(function(R){var I,q,Q=o in R.props?R.props[o]:(I=R.type.defaultProps)===null||I===void 0?void 0:I[o],J="hide"in R.props?R.props.hide:(q=R.type.defaultProps)===null||q===void 0?void 0:q.hide;return Q===D&&(E||!J)}),w,s,d);Y&&(O=Y)}p&&(y==="number"||S!=="auto")&&(L=xf(F,w,"category"))}else p?O=Dx(0,k):l&&l[D]&&l[D].hasStack&&y==="number"?O=f==="expand"?[0,1]:vE(l[D].stackGroups,c,u):O=hE(F,i.filter(function(R){var I=o in R.props?R.props[o]:R.type.defaultProps[o],q="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return I===D&&(E||!q)}),y,d,!0);if(y==="number")O=j2(h,O,D,s,A),z&&(O=By(z,O,N));else if(y==="category"&&z){var le=z,fe=O.every(function(R){return le.indexOf(R)>=0});fe&&(O=le)}}return Me(Me({},m),{},ft({},D,Me(Me({},b),{},{axisType:s,domain:O,categoricalDomain:L,duplicateDomain:B,originalDomain:(g=b.domain)!==null&&g!==void 0?g:W,isCategorical:p,layout:d})))},{})},hue=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=ug(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,m=fE(d,s),x=-1;return n.reduce(function(g,b){var y=b.type.defaultProps!==void 0?Me(Me({},b.type.defaultProps),b.props):b.props,w=y[o],N=DO("number");if(!g[w]){x++;var _;return m?_=Dx(0,p):l&&l[w]&&l[w].hasStack?(_=vE(l[w].stackGroups,c,u),_=j2(h,_,w,s)):(_=By(N,hE(f,n.filter(function(S){var A,E,D=o in S.props?S.props[o]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[o],F="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return D===w&&!F}),"number",d),i.defaultProps.allowDataOverflow),_=j2(h,_,w,s)),Me(Me({},g),{},ft({},w,Me(Me({axisType:s},i.defaultProps),{},{hide:!0,orientation:la(oue,"".concat(s,".").concat(x%2),null),domain:_,originalDomain:N,isCategorical:m,layout:d})))}return g},{})},fue=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=ca(d,s),p={};return f&&f.length?p=due(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=hue(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},pue=function(e){var r=sl(e),n=fo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Hw(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:wx(r,n)}},rS=function(e){var r=e.children,n=e.defaultShowTooltip,i=ra(r,yd),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},mue=function(e){return!e||!e.length?!1:e.some(function(r){var n=po(r&&r.type);return n&&n.indexOf("Bar")>=0})},nS=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xue=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=ra(h,yd),m=ra(h,hc),x=Object.keys(c).reduce(function(_,S){var A=c[S],E=A.orientation;return!A.mirror&&!A.hide?Me(Me({},_),{},ft({},E,_[E]+A.width)):_},{left:f.left||0,right:f.right||0}),g=Object.keys(o).reduce(function(_,S){var A=o[S],E=A.orientation;return!A.mirror&&!A.hide?Me(Me({},_),{},ft({},E,la(_,"".concat(E))+A.height)):_},{top:f.top||0,bottom:f.bottom||0}),b=Me(Me({},g),x),y=b.bottom;p&&(b.bottom+=p.props.height||yd.defaultProps.height),m&&r&&(b=Dee(b,i,n,r));var w=u-b.left-b.right,N=d-b.top-b.bottom;return Me(Me({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(N,0)})},gue=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},C5=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(b,y){var w=y.graphicalItems,N=y.stackGroups,_=y.offset,S=y.updateId,A=y.dataStartIndex,E=y.dataEndIndex,D=b.barSize,F=b.layout,k=b.barGap,O=b.barCategoryGap,B=b.maxBarSize,L=nS(F),W=L.numericAxisName,$=L.cateAxisName,z=mue(w),X=[];return w.forEach(function(Y,le){var fe=ug(b.data,{graphicalItems:[Y],dataStartIndex:A,dataEndIndex:E}),R=Y.type.defaultProps!==void 0?Me(Me({},Y.type.defaultProps),Y.props):Y.props,I=R.dataKey,q=R.maxBarSize,Q=R["".concat(W,"Id")],J=R["".concat($,"Id")],de={},ve=c.reduce(function(_e,je){var me=y["".concat(je.axisType,"Map")],Le=R["".concat(je.axisType,"Id")];me&&me[Le]||je.axisType==="zAxis"||_c();var He=me[Le];return Me(Me({},_e),{},ft(ft({},je.axisType,He),"".concat(je.axisType,"Ticks"),fo(He)))},de),ue=ve[$],Oe=ve["".concat($,"Ticks")],Ee=N&&N[Q]&&N[Q].hasStack&&Wee(Y,N[Q].stackGroups),ae=po(Y.type).indexOf("Bar")>=0,Pe=wx(ue,Oe),De=[],he=z&&Tee({barSize:D,stackGroups:N,totalSize:gue(ve,$)});if(ae){var te,Ue,ee=_t(q)?B:q,ne=(te=(Ue=wx(ue,Oe,!0))!==null&&Ue!==void 0?Ue:ee)!==null&&te!==void 0?te:0;De=Iee({barGap:k,barCategoryGap:O,bandSize:ne!==Pe?ne:Pe,sizeList:he[J],maxBarSize:ee}),ne!==Pe&&(De=De.map(function(_e){return Me(Me({},_e),{},{position:Me(Me({},_e.position),{},{offset:_e.position.offset-ne/2})})}))}var ce=Y&&Y.type&&Y.type.getComposedData;ce&&X.push({props:Me(Me({},ce(Me(Me({},ve),{},{displayedData:fe,props:b,dataKey:I,item:Y,bandSize:Pe,barPosition:De,offset:_,stackedData:Ee,layout:F,dataStartIndex:A,dataEndIndex:E}))),{},ft(ft(ft({key:Y.key||"item-".concat(le)},W,ve[W]),$,ve[$]),"animationId",S)),childIndex:IB(Y,b.children),item:Y})}),X},p=function(b,y){var w=b.props,N=b.dataStartIndex,_=b.dataEndIndex,S=b.updateId;if(!xN({props:w}))return null;var A=w.children,E=w.layout,D=w.stackOffset,F=w.data,k=w.reverseStackOrder,O=nS(E),B=O.numericAxisName,L=O.cateAxisName,W=ca(A,n),$=Hee(F,W,"".concat(B,"Id"),"".concat(L,"Id"),D,k),z=c.reduce(function(R,I){var q="".concat(I.axisType,"Map");return Me(Me({},R),{},ft({},q,fue(w,Me(Me({},I),{},{graphicalItems:W,stackGroups:I.axisType===B&&$,dataStartIndex:N,dataEndIndex:_}))))},{}),X=xue(Me(Me({},z),{},{props:w,graphicalItems:W}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(R){z[R]=d(w,z[R],X,R.replace("Map",""),r)});var Y=z["".concat(L,"Map")],le=pue(Y),fe=f(w,Me(Me({},z),{},{dataStartIndex:N,dataEndIndex:_,updateId:S,graphicalItems:W,stackGroups:$,offset:X}));return Me(Me({formattedGraphicalItems:fe,graphicalItems:W,offset:X,stackGroups:$},le),z)},m=function(g){function b(y){var w,N,_;return Kce(this,b),_=Qce(this,b,[y]),ft(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ft(_,"accessibilityManager",new Lce),ft(_,"handleLegendBBoxUpdate",function(S){if(S){var A=_.state,E=A.dataStartIndex,D=A.dataEndIndex,F=A.updateId;_.setState(Me({legendBBox:S},p({props:_.props,dataStartIndex:E,dataEndIndex:D,updateId:F},Me(Me({},_.state),{},{legendBBox:S}))))}}),ft(_,"handleReceiveSyncEvent",function(S,A,E){if(_.props.syncId===S){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(A)}}),ft(_,"handleBrushChange",function(S){var A=S.startIndex,E=S.endIndex;if(A!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var D=_.state.updateId;_.setState(function(){return Me({dataStartIndex:A,dataEndIndex:E},p({props:_.props,dataStartIndex:A,dataEndIndex:E,updateId:D},_.state))}),_.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),ft(_,"handleMouseEnter",function(S){var A=_.getMouseInfo(S);if(A){var E=Me(Me({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var D=_.props.onMouseEnter;mt(D)&&D(E,S)}}),ft(_,"triggeredAfterMouseMove",function(S){var A=_.getMouseInfo(S),E=A?Me(Me({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var D=_.props.onMouseMove;mt(D)&&D(E,S)}),ft(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ft(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ft(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),ft(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var E=_.props.onMouseLeave;mt(E)&&E(A,S)}),ft(_,"handleOuterEvent",function(S){var A=TB(S),E=la(_.props,"".concat(A));if(A&&mt(E)){var D,F;/.*touch.*/i.test(A)?F=_.getMouseInfo(S.changedTouches[0]):F=_.getMouseInfo(S),E((D=F)!==null&&D!==void 0?D:{},S)}}),ft(_,"handleClick",function(S){var A=_.getMouseInfo(S);if(A){var E=Me(Me({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var D=_.props.onClick;mt(D)&&D(E,S)}}),ft(_,"handleMouseDown",function(S){var A=_.props.onMouseDown;if(mt(A)){var E=_.getMouseInfo(S);A(E,S)}}),ft(_,"handleMouseUp",function(S){var A=_.props.onMouseUp;if(mt(A)){var E=_.getMouseInfo(S);A(E,S)}}),ft(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ft(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),ft(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),ft(_,"handleDoubleClick",function(S){var A=_.props.onDoubleClick;if(mt(A)){var E=_.getMouseInfo(S);A(E,S)}}),ft(_,"handleContextMenu",function(S){var A=_.props.onContextMenu;if(mt(A)){var E=_.getMouseInfo(S);A(E,S)}}),ft(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&qv.emit(Wv,_.props.syncId,S,_.eventEmitterSymbol)}),ft(_,"applySyncEvent",function(S){var A=_.props,E=A.layout,D=A.syncMethod,F=_.state.updateId,k=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(Me({dataStartIndex:k,dataEndIndex:O},p({props:_.props,dataStartIndex:k,dataEndIndex:O,updateId:F},_.state)));else if(S.activeTooltipIndex!==void 0){var B=S.chartX,L=S.chartY,W=S.activeTooltipIndex,$=_.state,z=$.offset,X=$.tooltipTicks;if(!z)return;if(typeof D=="function")W=D(X,S);else if(D==="value"){W=-1;for(var Y=0;Y<X.length;Y++)if(X[Y].value===S.activeLabel){W=Y;break}}var le=Me(Me({},z),{},{x:z.left,y:z.top}),fe=Math.min(B,le.x+le.width),R=Math.min(L,le.y+le.height),I=X[W]&&X[W].value,q=S2(_.state,_.props.data,W),Q=X[W]?{x:E==="horizontal"?X[W].coordinate:fe,y:E==="horizontal"?R:X[W].coordinate}:IO;_.setState(Me(Me({},S),{},{activeLabel:I,activeCoordinate:Q,activePayload:q,activeTooltipIndex:W}))}else _.setState(S)}),ft(_,"renderCursor",function(S){var A,E=_.state,D=E.isTooltipActive,F=E.activeCoordinate,k=E.activePayload,O=E.offset,B=E.activeTooltipIndex,L=E.tooltipAxisBandSize,W=_.getTooltipEventType(),$=(A=S.props.active)!==null&&A!==void 0?A:D,z=_.props.layout,X=S.key||"_recharts-cursor";return re.createElement(Hce,{key:X,activeCoordinate:F,activePayload:k,activeTooltipIndex:B,chartName:r,element:S,isActive:$,layout:z,offset:O,tooltipAxisBandSize:L,tooltipEventType:W})}),ft(_,"renderPolarAxis",function(S,A,E){var D=la(S,"type.axisType"),F=la(_.state,"".concat(D,"Map")),k=S.type.defaultProps,O=k!==void 0?Me(Me({},k),S.props):S.props,B=F&&F[O["".concat(D,"Id")]];return T.cloneElement(S,Me(Me({},B),{},{className:Ct(D,B.className),key:S.key||"".concat(A,"-").concat(E),ticks:fo(B,!0)}))}),ft(_,"renderPolarGrid",function(S){var A=S.props,E=A.radialLines,D=A.polarAngles,F=A.polarRadius,k=_.state,O=k.radiusAxisMap,B=k.angleAxisMap,L=sl(O),W=sl(B),$=W.cx,z=W.cy,X=W.innerRadius,Y=W.outerRadius;return T.cloneElement(S,{polarAngles:Array.isArray(D)?D:fo(W,!0).map(function(le){return le.coordinate}),polarRadius:Array.isArray(F)?F:fo(L,!0).map(function(le){return le.coordinate}),cx:$,cy:z,innerRadius:X,outerRadius:Y,key:S.key||"polar-grid",radialLines:E})}),ft(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,A=_.props,E=A.children,D=A.width,F=A.height,k=_.props.margin||{},O=D-(k.left||0)-(k.right||0),B=uE({children:E,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!B)return null;var L=B.item,W=Q3(B,qce);return T.cloneElement(L,Me(Me({},W),{},{chartWidth:D,chartHeight:F,margin:k,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ft(_,"renderTooltip",function(){var S,A=_.props,E=A.children,D=A.accessibilityLayer,F=ra(E,Na);if(!F)return null;var k=_.state,O=k.isTooltipActive,B=k.activeCoordinate,L=k.activePayload,W=k.activeLabel,$=k.offset,z=(S=F.props.active)!==null&&S!==void 0?S:O;return T.cloneElement(F,{viewBox:Me(Me({},$),{},{x:$.left,y:$.top}),active:z,label:W,payload:z?L:[],coordinate:B,accessibilityLayer:D})}),ft(_,"renderBrush",function(S){var A=_.props,E=A.margin,D=A.data,F=_.state,k=F.offset,O=F.dataStartIndex,B=F.dataEndIndex,L=F.updateId;return T.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Yp(_.handleBrushChange,S.props.onChange),data:D,x:We(S.props.x)?S.props.x:k.left,y:We(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:We(S.props.width)?S.props.width:k.width,startIndex:O,endIndex:B,updateId:"brush-".concat(L)})}),ft(_,"renderReferenceElement",function(S,A,E){if(!S)return null;var D=_,F=D.clipPathId,k=_.state,O=k.xAxisMap,B=k.yAxisMap,L=k.offset,W=S.type.defaultProps||{},$=S.props,z=$.xAxisId,X=z===void 0?W.xAxisId:z,Y=$.yAxisId,le=Y===void 0?W.yAxisId:Y;return T.cloneElement(S,{key:S.key||"".concat(A,"-").concat(E),xAxis:O[X],yAxis:B[le],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:F})}),ft(_,"renderActivePoints",function(S){var A=S.item,E=S.activePoint,D=S.basePoint,F=S.childIndex,k=S.isRange,O=[],B=A.props.key,L=A.item.type.defaultProps!==void 0?Me(Me({},A.item.type.defaultProps),A.item.props):A.item.props,W=L.activeDot,$=L.dataKey,z=Me(Me({index:F,dataKey:$,cx:E.x,cy:E.y,r:4,fill:m5(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ut(W,!1)),Gm(W));return O.push(b.renderActiveDot(W,z,"".concat(B,"-activePoint-").concat(F))),D?O.push(b.renderActiveDot(W,Me(Me({},z),{},{cx:D.x,cy:D.y}),"".concat(B,"-basePoint-").concat(F))):k&&O.push(null),O}),ft(_,"renderGraphicChild",function(S,A,E){var D=_.filterFormatItem(S,A,E);if(!D)return null;var F=_.getTooltipEventType(),k=_.state,O=k.isTooltipActive,B=k.tooltipAxis,L=k.activeTooltipIndex,W=k.activeLabel,$=_.props.children,z=ra($,Na),X=D.props,Y=X.points,le=X.isRange,fe=X.baseLine,R=D.item.type.defaultProps!==void 0?Me(Me({},D.item.type.defaultProps),D.item.props):D.item.props,I=R.activeDot,q=R.hide,Q=R.activeBar,J=R.activeShape,de=!!(!q&&O&&z&&(I||Q||J)),ve={};F!=="axis"&&z&&z.props.trigger==="click"?ve={onClick:Yp(_.handleItemMouseEnter,S.props.onClick)}:F!=="axis"&&(ve={onMouseLeave:Yp(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Yp(_.handleItemMouseEnter,S.props.onMouseEnter)});var ue=T.cloneElement(S,Me(Me({},D.props),ve));function Oe(je){return typeof B.dataKey=="function"?B.dataKey(je.payload):null}if(de)if(L>=0){var Ee,ae;if(B.dataKey&&!B.allowDuplicatedCategory){var Pe=typeof B.dataKey=="function"?Oe:"payload.".concat(B.dataKey.toString());Ee=Vm(Y,Pe,W),ae=le&&fe&&Vm(fe,Pe,W)}else Ee=Y==null?void 0:Y[L],ae=le&&fe&&fe[L];if(J||Q){var De=S.props.activeIndex!==void 0?S.props.activeIndex:L;return[T.cloneElement(S,Me(Me(Me({},D.props),ve),{},{activeIndex:De})),null,null]}if(!_t(Ee))return[ue].concat(Pd(_.renderActivePoints({item:D,activePoint:Ee,basePoint:ae,childIndex:L,isRange:le})))}else{var he,te=(he=_.getItemByXY(_.state.activeCoordinate))!==null&&he!==void 0?he:{graphicalItem:ue},Ue=te.graphicalItem,ee=Ue.item,ne=ee===void 0?S:ee,ce=Ue.childIndex,_e=Me(Me(Me({},D.props),ve),{},{activeIndex:ce});return[T.cloneElement(ne,_e),null,null]}return le?[ue,null,null]:[ue,null]}),ft(_,"renderCustomized",function(S,A,E){return T.cloneElement(S,Me(Me({key:"recharts-customized-".concat(E)},_.props),_.state))}),ft(_,"renderMap",{CartesianGrid:{handler:em,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:em},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:em},YAxis:{handler:em},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Hd("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=c8(_.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),_.state={},_}return rue(b,g),Zce(b,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,_=w.data,S=w.height,A=w.layout,E=ra(N,Na);if(E){var D=E.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,k=S2(this.state,_,D,F),O=this.state.tooltipTicks[D].coordinate,B=(this.state.offset.top+S)/2,L=A==="horizontal",W=L?{x:O,y:B}:{y:O,x:B},$=this.state.formattedGraphicalItems.find(function(X){var Y=X.item;return Y.type.name==="Scatter"});$&&(W=Me(Me({},W),$.props.points[D].tooltipPosition),k=$.props.points[D].tooltipPayload);var z={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:F,activePayload:k,activeCoordinate:W};this.setState(z),this.renderCursor(E),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){ey([ra(w.children,Na)],[ra(this.props.children,Na)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ra(this.props.children,Na);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,_=N.getBoundingClientRect(),S=aK(_),A={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},E=_.width/N.offsetWidth||1,D=this.inRange(A.chartX,A.chartY,E);if(!D)return null;var F=this.state,k=F.xAxisMap,O=F.yAxisMap,B=this.getTooltipEventType();if(B!=="axis"&&k&&O){var L=sl(k).scale,W=sl(O).scale,$=L&&L.invert?L.invert(A.chartX):null,z=W&&W.invert?W.invert(A.chartY):null;return Me(Me({},A),{},{xValue:$,yValue:z})}var X=tS(this.state,this.props.data,this.props.layout,D);return X?Me(Me({},A),X):null}},{key:"inRange",value:function(w,N){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=w/_,E=N/_;if(S==="horizontal"||S==="vertical"){var D=this.state.offset,F=A>=D.left&&A<=D.left+D.width&&E>=D.top&&E<=D.top+D.height;return F?{x:A,y:E}:null}var k=this.state,O=k.angleAxisMap,B=k.radiusAxisMap;if(O&&B){var L=sl(O);return A4({x:A,y:E},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),_=ra(w,Na),S={};_&&N==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Gm(this.props,this.handleOuterEvent);return Me(Me({},A),S)}},{key:"addListener",value:function(){qv.on(Wv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qv.removeListener(Wv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,_){for(var S=this.state.formattedGraphicalItems,A=0,E=S.length;A<E;A++){var D=S[A];if(D.item===w||D.props.key===w.key||N===po(D.item.type)&&_===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,_=N.left,S=N.top,A=N.height,E=N.width;return re.createElement("defs",null,re.createElement("clipPath",{id:w},re.createElement("rect",{x:_,y:S,height:A,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,_){var S=Z3(_,2),A=S[0],E=S[1];return Me(Me({},N),{},ft({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,_){var S=Z3(_,2),A=S[0],E=S[1];return Me(Me({},N),{},ft({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,_=N.formattedGraphicalItems,S=N.activeItem;if(_&&_.length)for(var A=0,E=_.length;A<E;A++){var D=_[A],F=D.props,k=D.item,O=k.type.defaultProps!==void 0?Me(Me({},k.type.defaultProps),k.props):k.props,B=po(k.type);if(B==="Bar"){var L=(F.data||[]).find(function(X){return zne(w,X)});if(L)return{graphicalItem:D,payload:L}}else if(B==="RadialBar"){var W=(F.data||[]).find(function(X){return A4(w,X)});if(W)return{graphicalItem:D,payload:W}}else if(ng(D,S)||ig(D,S)||c0(D,S)){var $=Oae({graphicalItem:D,activeTooltipItem:S,itemData:O.data}),z=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:Me(Me({},D),{},{childIndex:z}),payload:c0(D,S)?O.data[$]:D.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!xN(this))return null;var N=this.props,_=N.children,S=N.className,A=N.width,E=N.height,D=N.style,F=N.compact,k=N.title,O=N.desc,B=Q3(N,Wce),L=ut(B,!1);if(F)return re.createElement(D3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(ry,zu({},L,{width:A,height:E,title:k,desc:O}),this.renderClipPath(),vN(_,this.renderMap)));if(this.props.accessibilityLayer){var W,$;L.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,L.role=($=this.props.role)!==null&&$!==void 0?$:"application",L.onKeyDown=function(X){w.accessibilityManager.keyboardEvent(X)},L.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return re.createElement(D3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",zu({className:Ct("recharts-wrapper",S),style:Me({position:"relative",cursor:"default",width:A,height:E},D)},z,{ref:function(Y){w.container=Y}}),re.createElement(ry,zu({},L,{width:A,height:E,title:k,desc:O,style:lue}),this.renderClipPath(),vN(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);ft(m,"displayName",r),ft(m,"defaultProps",Me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ft(m,"getDerivedStateFromProps",function(g,b){var y=g.dataKey,w=g.data,N=g.children,_=g.width,S=g.height,A=g.layout,E=g.stackOffset,D=g.margin,F=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var O=rS(g);return Me(Me(Me({},O),{},{updateId:0},p(Me(Me({props:g},O),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:D,prevChildren:N})}if(y!==b.prevDataKey||w!==b.prevData||_!==b.prevWidth||S!==b.prevHeight||A!==b.prevLayout||E!==b.prevStackOffset||!Ku(D,b.prevMargin)){var B=rS(g),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},W=Me(Me({},tS(b,w,A)),{},{updateId:b.updateId+1}),$=Me(Me(Me({},B),L),W);return Me(Me(Me({},$),p(Me({props:g},$),b)),{},{prevDataKey:y,prevData:w,prevWidth:_,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:D,prevChildren:N})}if(!ey(N,b.prevChildren)){var z,X,Y,le,fe=ra(N,yd),R=fe&&(z=(X=fe.props)===null||X===void 0?void 0:X.startIndex)!==null&&z!==void 0?z:F,I=fe&&(Y=(le=fe.props)===null||le===void 0?void 0:le.endIndex)!==null&&Y!==void 0?Y:k,q=R!==F||I!==k,Q=!_t(w),J=Q&&!q?b.updateId:b.updateId+1;return Me(Me({updateId:J},p(Me(Me({props:g},b),{},{updateId:J,dataStartIndex:R,dataEndIndex:I}),b)),{},{prevChildren:N,dataStartIndex:R,dataEndIndex:I})}return null}),ft(m,"renderActiveDot",function(g,b,y){var w;return T.isValidElement(g)?w=T.cloneElement(g,b):mt(g)?w=g(b):w=re.createElement(Z1,b),re.createElement(Vt,{className:"recharts-active-dot",key:y},w)});var x=T.forwardRef(function(b,y){return re.createElement(m,zu({},b,{ref:y}))});return x.displayName=m.displayName,x},vue=C5({chartName:"LineChart",GraphicalChild:$0,axisComponents:[{axisType:"xAxis",AxisComp:Jd},{axisType:"yAxis",AxisComp:Zd}],formatAxisMap:QE}),bue=C5({chartName:"BarChart",GraphicalChild:Lc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Jd},{axisType:"yAxis",AxisComp:Zd}],formatAxisMap:QE}),MO=C5({chartName:"PieChart",GraphicalChild:Us,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rg},{axisType:"radiusAxis",AxisComp:eg}],formatAxisMap:tte,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Uu={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},item:{initial:{opacity:0,y:15},animate:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5,ease:[.19,1,.22,1]}})}},tm=({icon:t,label:e,value:r,unit:n="",subValue:i="",colorClass:s="text-white",index:o})=>a.jsxs(be.div,{custom:o,variants:Uu.item,initial:"initial",animate:"animate",whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"relative bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 shadow-lg",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center border border-white/5 shadow-inner",children:t}),a.jsx("div",{className:"text-white/70",children:e})]}),a.jsx("div",{className:`text-xl font-bold mt-2 ${s}`,children:typeof r=="number"||typeof r=="string"?a.jsxs(a.Fragment,{children:[r,n&&a.jsx("span",{className:"text-sm font-normal text-white/50 ml-1",children:n})]}):r}),i&&a.jsx("div",{className:"text-sm text-white/50 mt-1",children:i})]}),yue=({name:t,weight:e,timeRemaining:r,index:n})=>a.jsxs(be.div,{custom:n+5,variants:Uu.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center mr-3 border border-white/10",children:a.jsx(fC,{size:18,className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:t}),a.jsx("div",{className:"text-sm text-white/60",children:e})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-white font-medium",children:r}),a.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]});function LO({pool:t,onClose:e}){const r=E0(e);Math.round(t.oxygen/100*50+(1-Math.abs(t.temperature-15)/10)*25+(1-Math.abs(t.ph-8)/1)*25);const n=[{name:"LOT-2025-001",weight:"500 kg (Huîtres N°3)",timeRemaining:"12h"},{name:"LOT-2025-002",weight:"300 kg (Huîtres N°2)",timeRemaining:"24h"}];return a.jsx(be.div,{...Uu.overlay,className:"absolute inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:a.jsxs(be.div,{ref:r,...Uu.content,className:"w-full max-w-3xl rounded-xl bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-md p-0 shadow-2xl border border-white/10",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsx("div",{className:"p-6 border-b border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-white/60",children:"Bassin de purification"})]}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:a.jsx(vt,{size:20})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"space-y-6 mt-6",children:[a.jsxs(be.div,{variants:Uu.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Stock dans le bassin"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[a.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:a.jsxs("div",{className:"relative w-40 h-40",children:[a.jsx(sx,{width:"100%",height:"100%",children:a.jsx(MO,{children:a.jsx(Us,{data:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",startAngle:90,endAngle:-270,stroke:"none",children:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}].map((i,s)=>a.jsx(I0,{fill:i.color},`cell-${s}`))})})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:a.jsx("div",{className:"text-2xl font-bold text-white",children:"26.7%"})})]})}),a.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[a.jsx(tm,{icon:a.jsx(gl,{size:20,className:"text-brand-burgundy"}),label:"Température",value:12.5,unit:"°C",index:0}),a.jsx(tm,{icon:a.jsx(PI,{size:20,className:"text-brand-burgundy"}),label:"Oxygène dissous",value:87,unit:"%",index:1}),a.jsx(tm,{icon:a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0d9488] flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),label:"Huîtres N°3",value:500,unit:"kg",index:2}),a.jsx(tm,{icon:a.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3b82f6] flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),label:"Huîtres N°2",value:300,unit:"kg",index:3})]})]}),a.jsx("div",{className:"mt-5",children:a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:a.jsx(li,{size:20,className:"text-cyan-400"})}),a.jsx("div",{className:"text-white/70",children:"Dernier nettoyage"}),a.jsxs("div",{className:"text-white font-medium ml-auto",children:["12 mars 2025 ",a.jsx("span",{className:"text-sm text-white/50",children:"(il y a 1 jour)"})]})]})}),a.jsxs("div",{className:"h-48 w-full bg-gradient-to-br from-[#071a40]/95 to-[#0a2858]/95 rounded-xl overflow-hidden shadow-2xl border border-blue-900/20 relative mt-6",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[a.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),a.jsxs("div",{className:"relative h-full w-full",children:[a.jsxs("div",{className:"absolute inset-0 flex",children:[a.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),a.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"0 0 20px rgba(37, 99, 235, 0.2)"}}),a.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),a.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),a.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:a.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})]})]}),a.jsxs(be.div,{variants:Uu.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[a.jsx(fC,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Lots en purification"]}),a.jsx("div",{className:"space-y-3",children:n.map((i,s)=>a.jsx(yue,{name:i.name,weight:i.weight,timeRemaining:i.timeRemaining,index:s},i.name))})]})]}),a.jsx("div",{className:"flex justify-end mt-6 space-x-3",children:a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const wue={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function Qd({icon:t,title:e}){return a.jsxs(be.div,{variants:wue,className:"flex items-center mb-8 mt-6 pt-4",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:t})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:e})]})}const A2=({table:t,isHovered:e=!1,onHoverStart:r=()=>{},onHoverEnd:n=()=>{},onClick:i=()=>{},compact:s=!1})=>{const o=t.alert||t.timeProgress>100;return s?a.jsxs("div",{className:"relative rounded-lg p-3 overflow-hidden bg-[rgba(0,40,80,0.2)] shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] cursor-pointer",onClick:i,"aria-label":`Table ${t.name}, taux d'occupation ${t.value}%`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.5)]",style:{backgroundColor:t.value===100?"#22c55e":"#eab308"}}),a.jsx("div",{className:"text-white font-medium text-sm",children:t.name})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-base font-semibold text-white",children:[t.value,"%"]})})]}),a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10 h-5 mb-2",children:[...Array(10)].map((l,c)=>a.jsx("div",{className:"h-full rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c<Math.floor(t.value/100*10)?1:.1},"aria-hidden":"true"},c))}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-xs text-white/70",children:t.type}),o&&a.jsxs("div",{className:"text-amber-400 flex items-center",children:[a.jsx(Kn,{size:12,className:"mr-1"}),a.jsx("span",{className:"text-xs",children:"Attention"})]})]})]}):a.jsxs(be.div,{className:`
        relative rounded-lg p-4 overflow-hidden
        bg-[rgba(0,40,80,0.2)]
        shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
        cursor-pointer transition-all duration-200
      `,onHoverStart:r,onHoverEnd:n,onClick:i,style:{transform:e?"scale(1.02)":"none"},children:[a.jsx(be.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:e?1:0}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:t.value===100?"#22c55e":"#eab308"}}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:t.name}),a.jsx("div",{className:"text-xs text-white/70",children:t.plates})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-semibold text-white",children:[t.value,"%"]}),a.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(t.value===100)return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c);if(t.name==="Table A1"){const u=Math.floor(t.value/100*8),d=t.value/100*8%1,h=c-1;return c===0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c):c===9?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):h>=8-u?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):h===7-u&&d>0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},c):a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c)}return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(t.value/100*8)?1:0}},c)})}),a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(t.value===100)return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`);if(t.name==="Table A1"){const u=Math.floor(t.value/100*8),d=t.value/100*8%1,h=c-1;return c===0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`):c===9?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):h>=8-u?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):h===7-u&&d>0?a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},`second-${c}`):a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`)}return a.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(t.value/100*8)?1:0}},`second-${c}`)})})]}),a.jsx("div",{className:"flex items-center justify-between mt-3",children:a.jsx("div",{className:"text-xs text-white/70",children:t.value>0&&t.mortality>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium",children:"Mortalité :"})," ",t.mortality,"%"]})})}),a.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bn,{size:14,className:"text-cyan-400 mr-1"}),a.jsx("span",{className:"text-xs text-white/70",children:t.type})]}),t.startDate&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hi,{size:14,className:"text-cyan-400 mr-1"}),a.jsx("span",{className:"text-xs text-white/70",children:t.startDate})]})]}),o&&a.jsxs("div",{className:"text-amber-400 flex items-center",children:[a.jsx(Kn,{size:16,className:"mr-1"}),a.jsx("span",{className:"text-xs",children:"Attention"})]})]})]})]})},Kr={temperature:18,feelsLike:16,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:15,sunrise:"06:45",sunset:"20:35",forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8,conditions:"partly-cloudy"},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9,conditions:"sunny"},{time:"18:00",temp:17,windSpeed:20,windDirection:300,waveHeight:1,conditions:"partly-cloudy"},{time:"21:00",temp:16,windSpeed:15,windDirection:280,waveHeight:.7,conditions:"cloudy"},{time:"00:00",temp:15,windSpeed:12,windDirection:270,waveHeight:.5,conditions:"cloudy"},{time:"03:00",temp:14,windSpeed:10,windDirection:260,waveHeight:.4,conditions:"partly-cloudy"},{time:"06:00",temp:15,windSpeed:12,windDirection:280,waveHeight:.6,conditions:"partly-cloudy"},{time:"09:00",temp:17,windSpeed:14,windDirection:290,waveHeight:.7,conditions:"sunny"}],dailyForecast:[{day:"Aujourd'hui",highTemp:19,lowTemp:14,conditions:"partly-cloudy",windSpeed:20,waveHeight:1,precipitation:10},{day:"Demain",highTemp:20,lowTemp:15,conditions:"sunny",windSpeed:15,waveHeight:.8,precipitation:0},{day:"Lundi",highTemp:22,lowTemp:16,conditions:"sunny",windSpeed:12,waveHeight:.6,precipitation:0},{day:"Mardi",highTemp:21,lowTemp:17,conditions:"partly-cloudy",windSpeed:14,waveHeight:.7,precipitation:5},{day:"Mercredi",highTemp:19,lowTemp:15,conditions:"cloudy",windSpeed:18,waveHeight:.9,precipitation:30},{day:"Jeudi",highTemp:18,lowTemp:14,conditions:"rainy",windSpeed:20,waveHeight:1.2,precipitation:80},{day:"Vendredi",highTemp:17,lowTemp:13,conditions:"cloudy",windSpeed:15,waveHeight:1,precipitation:40}]},Gv=t=>["N","NE","E","SE","S","SO","O","NO"][Math.round(t/45)%8],E5=({condition:t,size:e=32,className:r=""})=>{switch(t){case"sunny":return a.jsx(Um,{size:e,className:`text-yellow-400 ${r}`});case"cloudy":return a.jsx(Vb,{size:e,className:`text-gray-300 ${r}`});case"rainy":return a.jsx(hC,{size:e,className:`text-blue-300 ${r}`});case"partly-cloudy":return a.jsx(Rj,{size:e,className:`text-gray-200 ${r}`});default:return a.jsx(Rj,{size:e,className:`text-gray-200 ${r}`})}},jue=({forecast:t})=>a.jsxs("div",{className:"forecast-card",children:[a.jsx("p",{className:"forecast-time",children:t.time}),a.jsx(E5,{condition:t.conditions,size:24,className:"my-2"}),a.jsxs("p",{className:"forecast-temp",children:[t.temp,"°"]}),a.jsxs("div",{className:"forecast-wind-indicator",children:[a.jsx(Fi,{size:12,style:{transform:`rotate(${t.windDirection}deg)`}}),a.jsx("span",{children:t.windSpeed})]}),a.jsxs("p",{className:"forecast-waves",children:[t.waveHeight," m"]})]}),Nue=({forecast:t})=>a.jsxs("div",{className:"daily-forecast-row",children:[a.jsx("div",{className:"daily-forecast-day",children:t.day}),a.jsx("div",{className:"daily-forecast-icon",children:a.jsx(E5,{condition:t.conditions,size:20})}),a.jsxs("div",{className:"daily-forecast-precip",children:[a.jsx(li,{size:14,className:"text-blue-300"}),a.jsxs("span",{children:[t.precipitation,"%"]})]}),a.jsxs("div",{className:"daily-forecast-temp",children:[a.jsxs("span",{className:"high-temp",children:[t.highTemp,"°"]}),a.jsxs("span",{className:"low-temp",children:[t.lowTemp,"°"]})]})]}),_ue=()=>a.jsxs("div",{className:"mobile-weather-container",children:[a.jsxs("header",{className:"weather-header",children:[a.jsx("h1",{className:"weather-location-title",children:"Météo & Marée"}),a.jsxs("div",{className:"weather-update-time",children:[a.jsx(hi,{size:14,className:"text-cyan-300"}),a.jsxs("span",{children:["Mise à jour ",new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsxs("section",{className:"current-weather",children:[a.jsxs("div",{className:"primary-info",children:[a.jsxs("div",{className:"temp-display",children:[a.jsxs("span",{className:"current-temp",children:[Kr.temperature,"°"]}),a.jsxs("span",{className:"feels-like",children:["Ressenti ",Kr.feelsLike,"°"]})]}),a.jsx("div",{className:"weather-icon-large",children:a.jsx(E5,{condition:Kr.conditions,size:80})})]}),a.jsx("div",{className:"weather-condition-text",children:"Partiellement nuageux"})]}),a.jsxs("section",{className:"current-indicators",children:[a.jsxs("div",{className:"indicator-item",children:[a.jsx(sf,{size:18,className:"indicator-icon"}),a.jsx("div",{className:"indicator-label",children:"Vent"}),a.jsxs("div",{className:"indicator-value",children:[Kr.windSpeed," km/h"]}),a.jsx("div",{className:"indicator-detail",children:Gv(Kr.windDirection)})]}),a.jsxs("div",{className:"indicator-item",children:[a.jsx(vn,{size:18,className:"indicator-icon"}),a.jsx("div",{className:"indicator-label",children:"Vagues"}),a.jsxs("div",{className:"indicator-value",children:[Kr.waveHeight," m"]}),a.jsx("div",{className:"indicator-detail",children:Gv(Kr.waveDirection)})]}),a.jsxs("div",{className:"indicator-item",children:[a.jsx(li,{size:18,className:"indicator-icon"}),a.jsx("div",{className:"indicator-label",children:"Humidité"}),a.jsxs("div",{className:"indicator-value",children:[Kr.humidity,"%"]})]}),a.jsx("div",{className:"indicator-item",children:a.jsxs(be.div,{className:"tide-indicator",animate:{height:`${Kr.tideLevel/10*100}%`},transition:{duration:1},children:[a.jsx("div",{className:"indicator-label",children:"Marée"}),a.jsxs("div",{className:"indicator-value",children:[Kr.tideLevel," m"]}),a.jsxs("div",{className:"tide-times",children:[a.jsxs("div",{children:[a.jsx(qb,{size:12})," ",Kr.nextHighTide]}),a.jsxs("div",{children:[a.jsx(Wb,{size:12})," ",Kr.nextLowTide]})]})]})})]}),a.jsxs("section",{className:"hourly-forecast",children:[a.jsx("h2",{className:"section-title",children:"Prévisions horaires"}),a.jsx("div",{className:"forecast-scroll-container",children:Kr.forecast.map((t,e)=>a.jsx(jue,{forecast:t},e))})]}),a.jsxs("section",{className:"daily-forecast",children:[a.jsx("h2",{className:"section-title",children:"Prévisions 7 jours"}),a.jsx("div",{className:"daily-forecast-container",children:Kr.dailyForecast.map((t,e)=>a.jsx(Nue,{forecast:t},e))})]}),a.jsxs("section",{className:"wind-detail-section",children:[a.jsx("h2",{className:"section-title",children:"Détails du vent"}),a.jsxs("div",{className:"wind-detail-container",children:[a.jsxs("div",{className:"wind-compass",children:[a.jsx(Hb,{size:100,className:"wind-compass-base"}),a.jsx("div",{className:"wind-direction-indicator",style:{transform:`rotate(${Kr.windDirection}deg)`},children:a.jsx(Fi,{size:40,className:"text-cyan-400"})})]}),a.jsxs("div",{className:"wind-stats",children:[a.jsxs("div",{className:"wind-stat-row",children:[a.jsx("span",{children:"Direction"}),a.jsxs("span",{children:[Gv(Kr.windDirection)," (",Kr.windDirection,"°)"]})]}),a.jsxs("div",{className:"wind-stat-row",children:[a.jsx("span",{children:"Vitesse"}),a.jsxs("span",{children:[Kr.windSpeed," km/h"]})]}),a.jsxs("div",{className:"wind-stat-row",children:[a.jsx("span",{children:"Rafales"}),a.jsxs("span",{children:[Kr.windGust," km/h"]})]})]})]})]}),a.jsx("section",{className:"sun-times",children:a.jsxs("div",{className:"sun-time-container",children:[a.jsxs("div",{className:"sunrise",children:[a.jsx(Um,{size:18,className:"text-yellow-400"}),a.jsx("span",{className:"sun-time-label",children:"Lever"}),a.jsx("span",{className:"sun-time-value",children:Kr.sunrise})]}),a.jsx("div",{className:"sun-path",children:a.jsx("div",{className:"sun-path-line"})}),a.jsxs("div",{className:"sunset",children:[a.jsx(kI,{size:18,className:"text-blue-300"}),a.jsx("span",{className:"sun-time-label",children:"Coucher"}),a.jsx("span",{className:"sun-time-value",children:Kr.sunset})]})]})})]}),Sue=({activeSection:t,onSectionChange:e,isLandscape:r=!1})=>{const[n,i]=T.useState(0),s=T.useRef(null),o=()=>{if(!window.visualViewport)return;const u=window.visualViewport.height,d=window.innerHeight,h=Math.max(0,d-u),f=h>0?h+25:15;console.log(`Viewport: ${u}, Full: ${d}, Diff: ${h}, Padding: ${f}`),f!==n&&i(f)};T.useEffect(()=>{if(!window.visualViewport){console.warn("VisualViewport API not available");return}o(),window.visualViewport.addEventListener("resize",o),window.addEventListener("resize",o),window.addEventListener("scroll",o);const u=[100,500].map(h=>setTimeout(o,h)),d=()=>{setTimeout(o,100)};return window.addEventListener("orientationchange",d),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",o),window.removeEventListener("resize",o),window.removeEventListener("scroll",o),window.removeEventListener("orientationchange",d),u.forEach(clearTimeout)}},[]);const l=["mobile-bottom-nav",r?"landscape":"portrait"].join(" "),c={paddingBottom:n?`${n}px`:void 0};return a.jsxs("div",{className:l,ref:s,style:c,children:[a.jsxs("button",{className:`mobile-nav-item ${t==="overview"?"active":""}`,onClick:()=>e("overview"),children:[a.jsx(TI,{size:r?18:22}),a.jsx("span",{children:"Accueil"})]}),a.jsxs("button",{className:`mobile-nav-item ${t==="tables"?"active":""}`,onClick:()=>e("tables"),children:[a.jsx(ui,{size:r?18:22}),a.jsx("span",{children:"Tables"})]}),a.jsxs("button",{className:`mobile-nav-item ${t==="pools"?"active":""}`,onClick:()=>e("pools"),children:[a.jsx(II,{size:r?18:22}),a.jsx("span",{children:"Bassins"})]}),a.jsxs("button",{className:`mobile-nav-item ${t==="notifications"?"active":""}`,onClick:()=>e("notifications"),children:[a.jsx(di,{size:r?18:22}),a.jsx("span",{children:"Alertes"})]}),a.jsxs("button",{className:`mobile-nav-item emergency ${t==="emergency"?"active":""}`,onClick:()=>e("emergency"),children:[a.jsx(DI,{size:r?18:22}),a.jsx("span",{children:"Urgence"})]})]})},Xh={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}}},Aue=()=>{const[t,e]=T.useState("overview"),[r,n]=T.useState(null),[i,s]=T.useState(null),[o,l]=T.useState(0);T.useState(0);const[c,u]=T.useState(!1),[d,h]=T.useState(!1),f=T.useRef(null);T.useEffect(()=>(h(!0),document.querySelectorAll(".animate-fade-in").forEach((b,y)=>{setTimeout(()=>{b.classList.add("visible")},y*100)}),()=>{h(!1)}),[]);const p=T.useCallback(g=>{e(g),f.current&&(f.current.scrollTop=0)},[f]);T.useEffect(()=>{const g=()=>{const b=window.innerWidth>window.innerHeight;u(b)};return g(),window.addEventListener("resize",g),window.addEventListener("orientationchange",()=>{setTimeout(g,100)}),()=>{window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}},[]);const m=[{id:"table1",name:"Table Nord-Est",value:78,color:"#38bdf8",type:"Spéciale de Claire",plates:"45/60",currentSize:"6.5 cm",targetSize:"9 cm",timeProgress:65,startDate:"10/01/2023",harvest:"30/06/2023",mortality:8.5,alert:null,status:"active",occupiedUnits:45,totalUnits:60,location:"Secteur Nord-Est",area:120,waterHeight:1.2,lastInspection:"15/05/2023",currentConditions:"Optimales",lastUpdate:"Il y a 2h",occupancyRate:78,lastUpdated:"Il y a 2h",oysterType:"Spéciale de Claire",lastHarvest:"12/05/2023",quality:4.2,avgSize:7.8},{id:"table2",name:"Table Centrale",value:45,color:"#22c55e",type:"Fine de Claire",plates:"30/60",currentSize:"5.8 cm",targetSize:"8 cm",timeProgress:50,startDate:"15/01/2023",harvest:"15/07/2023",mortality:6.2,status:"active",occupiedUnits:30,totalUnits:60,location:"Secteur Central",area:110,waterHeight:1.1,lastInspection:"12/05/2023",currentConditions:"Bonnes",lastUpdate:"Il y a 1h",occupancyRate:45,lastUpdated:"Il y a 1h",oysterType:"Fine de Claire",lastHarvest:"15/05/2023",quality:3.8,avgSize:6.5},{id:"table3",name:"Table Ouest",value:92,color:"#ef4444",type:"Spéciale de Claire",plates:"55/60",currentSize:"7.2 cm",targetSize:"9 cm",timeProgress:80,startDate:"05/01/2023",harvest:"20/06/2023",mortality:9.8,alert:"Forte densité",status:"active",occupiedUnits:55,totalUnits:60,location:"Secteur Ouest",area:130,waterHeight:1.3,lastInspection:"10/05/2023",currentConditions:"Densité élevée",lastUpdate:"Il y a 3h",occupancyRate:92,lastUpdated:"Il y a 3h",oysterType:"Spéciale de Claire",lastHarvest:"10/05/2023",quality:4.5,avgSize:8.2}],x=[{id:"pool1",name:"Bassin Principal",status:"Optimal",temperature:14.7,oxygen:95,salinity:33.5,ph:8.1,lastCheck:"Il y a 30 min",alert:!1,stock:{mussels:120,urchins:45},healthIndex:87,lastUpdated:"Il y a 30 min",waterLevel:1.45,waterChangeRate:12},{id:"pool2",name:"Bassin de Purification",status:"Optimal",temperature:15.2,oxygen:97,salinity:32.8,ph:8,lastCheck:"Il y a 1h",alert:!1,stock:{mussels:85,urchins:30},healthIndex:92,lastUpdated:"Il y a 1h",waterLevel:1.22,waterChangeRate:18},{id:"pool3",name:"Bassin d'Élevage",status:"Attention",temperature:14.3,oxygen:82,salinity:34.1,ph:7.8,lastCheck:"Il y a 2h",alert:!0,stock:{mussels:150,urchins:0},healthIndex:65,lastUpdated:"Il y a 2h",waterLevel:.87,waterChangeRate:8}];return a.jsx("div",{className:"mobile-dashboard",children:a.jsx("div",{className:"mobile-dashboard-wrapper",ref:f,children:a.jsxs("div",{className:"mobile-dashboard-content",children:[t==="overview"&&a.jsx(be.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Xh,children:a.jsxs("div",{className:"dashboard-sections space-y-5",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tableau de bord"}),a.jsx("div",{className:"animate-fade-in",children:a.jsx(_ue,{})}),a.jsxs("section",{className:"animate-fade-in mt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Tables ostréicoles"}),a.jsxs("button",{className:"text-cyan-400 text-sm flex items-center gap-1",onClick:()=>p("tables"),"aria-label":"Voir toutes les tables",children:["Tout voir ",a.jsx(Dd,{size:16})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"mobile-carousel",children:m.map((g,b)=>a.jsx("div",{className:`mobile-carousel-item ${b===o?"active":""}`,onClick:()=>n(g),children:a.jsx(A2,{table:g,compact:!0,onClick:()=>n(g)})},g.id))}),a.jsx("div",{className:"mobile-carousel-indicators mt-2",children:m.map((g,b)=>a.jsx("button",{className:`mobile-carousel-indicator ${b===o?"active":""}`,onClick:()=>l(b),"aria-label":`Voir table ${b+1}`},b))})]})]})]})}),t==="tables"&&a.jsxs(be.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Xh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Tables ostréicoles"}),m.map(g=>a.jsx(A2,{table:g},g.id))]}),t==="pools"&&a.jsxs(be.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Xh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Bassins"}),x.map(g=>a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:g.name}),a.jsxs("p",{children:["Status: ",g.status]}),a.jsxs("p",{children:["Température: ",g.temperature,"°C"]}),a.jsxs("p",{children:["Oxygène: ",g.oxygen,"%"]}),a.jsxs("p",{children:["Salinité: ",g.salinity,"‰"]}),a.jsxs("p",{children:["pH: ",g.ph]}),a.jsxs("p",{children:["Dernière vérification: ",g.lastCheck]}),a.jsxs("p",{children:["Alerte: ",g.alert?"Oui":"Non"]}),a.jsxs("p",{children:["Stock: ",g.stock.mussels," moules, ",g.stock.urchins," oursins"]})]},g.id))]}),t==="notifications"&&a.jsxs(be.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Xh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Alertes"}),a.jsxs("ul",{children:[m.map(g=>g.alert&&a.jsxs("li",{children:[g.name,": ",g.alert]},g.id)),x.map(g=>g.alert&&a.jsxs("li",{children:[g.name,": ",g.alert]},g.id))]})]}),t==="emergency"&&a.jsxs(be.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:Xh,children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6 text-red-400",children:"Urgence"}),a.jsx("p",{children:"Contenu de la section urgence"})]}),a.jsx(Sue,{activeSection:t,onSectionChange:p,isLandscape:c}),a.jsxs(fr,{children:[r&&a.jsx(GC,{table:r,onClose:()=>n(null)}),i&&a.jsx(LO,{pool:i,onClose:()=>s(null)})]})]})})})},iS=[{name:"Table A1",value:72,color:"#22c55e",type:"Huîtres creuses",plates:"N°3",harvest:"En cours",mortality:15,currentSize:"3.2cm",targetSize:"4.5cm",timeProgress:65,startDate:"10/01/24",status:"En cours"},{name:"Table A2",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°4",harvest:"01/01/2026",mortality:8,currentSize:"T15",targetSize:"4.2cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B1",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°2",harvest:"01/01/2026",mortality:12,currentSize:"T15",targetSize:"4.8cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B2",value:0,color:"#22c55e",type:"",plates:"",harvest:"",mortality:0,currentSize:"",targetSize:"",timeProgress:0,startDate:"",status:"Vide"}],aS=[{id:"pool-a1",name:"Bassin A1",status:"Optimal",temperature:12.5,oxygen:95,salinity:32.4,ph:8.1,lastCheck:"08:30",alert:!1},{id:"pool-a2",name:"Bassin A2",status:"Bon",temperature:13.2,oxygen:88,salinity:31.9,ph:8,lastCheck:"08:35",alert:!1,stock:{mussels:500,urchins:100}}],io=[{name:"Bassin A1",value:80,color:"#22c55e",type:"Purification",capacity:1e3,currentLoad:800,products:[{name:"Plates",quantity:500,unit:"kg",color:"#22c55e"},{name:"Creuses",quantity:300,unit:"kg",color:"#eab308"}],waterQuality:{quality:98,oxygen:95,temperature:12.5}},{name:"Bassin A2",value:65,color:"#eab308",type:"Purification",capacity:1e3,currentLoad:650,products:[{name:"Moules",quantity:500,unit:"kg",color:"#22c55e"},{name:"Oursins",quantity:100,unit:"dz",color:"#eab308"}],waterQuality:{quality:92,oxygen:88,temperature:13.2}}],on={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},Cue={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},rm={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function Eue(){const[t,e]=T.useState(null),[r,n]=T.useState(null),[i,s]=T.useState(null),[o,l]=T.useState(null),[c,u]=T.useState(!1);return T.useEffect(()=>{const d=()=>{u(window.innerWidth<=768)};d(),window.addEventListener("resize",d);const h=setTimeout(()=>{d()},500);return()=>{window.removeEventListener("resize",d),clearTimeout(h)}},[]),T.useEffect(()=>(c?document.body.classList.add("has-fixed-nav"):document.body.classList.remove("has-fixed-nav"),()=>{document.body.classList.remove("has-fixed-nav")}),[c]),c?a.jsx("div",{className:"dashboard-page",children:a.jsx(Aue,{tableOccupancyData:iS,poolData:aS,poolDisplayData:io})}):a.jsxs(be.div,{initial:"hidden",animate:"visible",variants:Cue,className:"space-y-6",children:[a.jsx(Qd,{icon:a.jsx(h1,{size:28,className:"text-white"}),title:"Tableau de bord"}),a.jsx(be.div,{variants:rm,className:`mb-6 w-full ${on.container} ${on.hoverEffect}`,children:a.jsx(FL,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full relative",children:[a.jsx("div",{className:"col-span-full",children:a.jsxs(fr,{children:[i&&a.jsx(GC,{table:i,onClose:()=>s(null)}),o&&a.jsx(LO,{pool:o,onClose:()=>l(null)})]})}),a.jsxs(be.div,{variants:rm,className:`${on.container} ${on.hoverEffect} p-5 space-y-4`,children:[a.jsx("h2",{className:on.heading,children:"Statistiques globales"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:on.subheading,children:"Taux production"}),a.jsx("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:"+4.2%"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"97.8%"}),a.jsx("div",{className:on.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:"97.8%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:on.subheading,children:"Santé moyenne"}),a.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"92.3%"}),a.jsx("div",{className:on.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"92.3%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:on.subheading,children:"Taux mortalité"}),a.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 text-xs px-2 py-1 rounded-full",children:"-0.5%"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"2.5%"}),a.jsx("div",{className:on.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-400",initial:{width:0},animate:{width:"25%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:on.subheading,children:"Récolte prévue"}),a.jsx("div",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-1 rounded-full",children:"15 jours"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"4.8t"}),a.jsx("div",{className:on.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-purple-500 to-pink-400",initial:{width:0},animate:{width:"80%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),a.jsxs(be.div,{variants:rm,className:`${on.container} ${on.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:on.heading,children:"Occupation des tables"}),a.jsx("div",{className:"text-sm text-white/60",children:"3 tables actives"})]}),a.jsx("div",{className:"space-y-4",children:iS.map((d,h)=>a.jsx(A2,{table:d,isHovered:t===d.name,onHoverStart:()=>e(d.name),onHoverEnd:()=>e(null),onClick:()=>s(d)},h))})]}),a.jsxs(be.div,{variants:rm,className:`${on.container} ${on.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:on.heading,children:"Santé des bassins"}),a.jsx("div",{className:"text-sm text-white/60",children:"2 bassins actifs"})]}),a.jsx("div",{className:"space-y-4",children:aS.map((d,h)=>{var f,p,m,x,g,b,y,w;return a.jsxs(be.div,{className:`
                  relative rounded-lg p-4 overflow-hidden
                  bg-[rgba(0,40,80,0.2)]
                  shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
                  cursor-pointer transition-all duration-200
                  ${r===d.name?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
                `,onHoverStart:()=>n(d.name),onHoverEnd:()=>n(null),onClick:()=>l(d),whileHover:{y:-4,transition:{duration:.2}},children:[a.jsx(be.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===d.name?1:0},transition:{duration:.2}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:(f=io.find(N=>N.name===d.name))==null?void 0:f.color}}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:d.name}),a.jsx("div",{className:"text-xs text-white/70",children:d.status})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-semibold text-white",children:[(p=io.find(N=>N.name===d.name))==null?void 0:p.value,"%"]}),a.jsx("div",{className:"text-xs text-white/70",children:"qualité"})]})]}),a.jsx("div",{className:on.progressBar,children:a.jsx(be.div,{className:"h-full rounded-full",style:{background:`linear-gradient(to right, ${(m=io.find(N=>N.name===d.name))==null?void 0:m.color}, ${(x=io.find(N=>N.name===d.name))==null?void 0:x.color}80)`,boxShadow:`0 0 10px ${(g=io.find(N=>N.name===d.name))==null?void 0:g.color}40`},initial:{width:0},animate:{width:`${(b=io.find(N=>N.name===d.name))==null?void 0:b.value}%`},transition:{duration:1,ease:"easeOut"}})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[a.jsxs("div",{className:"text-xs text-white/70",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gl,{className:"w-3 h-3 mr-1 text-cyan-400"}),a.jsx("span",{children:"Température"})]}),a.jsxs("span",{className:"text-white",children:[d.temperature,"°C"]})]}),a.jsxs("div",{className:"text-xs text-white/70",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(li,{className:"w-3 h-3 mr-1 text-cyan-400"}),a.jsx("span",{children:"Oxygène"})]}),a.jsxs("span",{className:"text-white",children:[d.oxygen,"%"]})]}),a.jsxs("div",{className:"text-xs text-white/70",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vn,{className:"w-3 h-3 mr-1 text-cyan-400"}),a.jsx("span",{children:"Capacité"})]}),a.jsxs("span",{className:"text-white",children:[(((y=io.find(N=>N.name===d.name))==null?void 0:y.currentLoad)/((w=io.find(N=>N.name===d.name))==null?void 0:w.capacity)*100).toFixed(0),"%"]})]})]})]})]},h)})})]})]})]})}const Oue=[{id:"1",name:"Table A-12",location:"Bouzigues",type:"Huîtres Triploïdes",status:"optimal",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:e<=2?!1:e===3?.75:e===8||e===16?!0:e>=4})),currentSize:"N°2",targetSize:"N°3",startDate:"15/11/2023",lastUpdate:"En cours",timeProgress:65,sizeProgress:40,layers:3,density:"Élevée",alert:!1,value:72,history:[],oysterType:"Triploïdes",tableNumber:"A-12",temperature:12,salinity:35,sampling:{lastCheckDate:"2024-03-15",nextCheckDate:"2024-04-15",mortalityRate:2,currentSize:"N°3"},currentBatch:{size:"N°3",currentSize:"N°3",quantity:1e3,startDate:"2024-01-04",estimatedHarvestDate:"Actuellement",oysterType:"Triploïdes",caliber:"N°3"}},{id:"2",name:"Table B-07",location:"Bouzigues",type:"Huîtres Triploïdes",status:"warning",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:!0})),currentSize:"N°3",targetSize:"N°3",startDate:"10/03/2024",lastUpdate:"30/03/2025",timeProgress:75,sizeProgress:60,layers:4,density:"Très élevée",alert:!0,value:100,history:[],oysterType:"Triploïdes",tableNumber:"B-07"},{id:"3",name:"Table C-04",location:"Marseillan",type:"Huîtres Diploïdes",status:"critical",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:!0})),currentSize:"T15",targetSize:"N°3",startDate:"11/01/2025",lastUpdate:"15/01/2026",timeProgress:30,sizeProgress:25,layers:2,density:"Moyenne",alert:!1,value:100,history:[],oysterType:"Triploïdes",tableNumber:"C-04"},{id:"4",name:"Table D-15",location:"Mèze",type:"Vide",status:"optimal",cells:Array(20).fill(null).map((t,e)=>({id:`${e}`,filled:!1})),currentSize:"Vide",targetSize:"Vide",startDate:"Vide",lastUpdate:"Vide",timeProgress:15,sizeProgress:10,layers:2,density:"Faible",alert:!1,value:0,history:[],oysterType:"Triploïdes",tableNumber:"D-15"}],co=["T15","T30","N°5","N°4","N°3","N°2","N°1"],Pue=t=>{const e=co.indexOf(t);return e===-1?"bg-gray-500":e<=co.indexOf("N°3")?"bg-gradient-to-r from-blue-500 to-[#22c55e]":e<=co.indexOf("N°2")?"bg-gradient-to-r from-[#22c55e] to-orange-300":t==="N°1"?"bg-red-500":"bg-gradient-to-r from-blue-500 to-cyan-400"},kue=t=>t==="N°2"?"bg-gradient-to-r from-blue-500 via-[#22c55e] to-orange-500":"bg-gradient-to-r from-blue-500 to-cyan-400",Tue=t=>"bg-blue-500",Iue=({currentSize:t,targetSize:e,tableName:r})=>{if(t==="Vide"||e==="Vide")return r==="Table D-15"?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 flex",children:co.map(s=>a.jsx("div",{className:"flex-1 border-r border-white/10 last:border-r-0"},s))}),a.jsx("div",{className:"h-full bg-gray-500/20 transition-all duration-300",style:{width:"100%"}})]}),a.jsx("div",{className:"flex justify-between px-1 text-sm font-medium",children:co.map(s=>a.jsx("span",{className:"text-white/30",children:s},s))})]}):null;const i=(co.indexOf(t)+1)/co.length*100;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 flex",children:co.map(s=>a.jsx("div",{className:"flex-1 border-r border-white/10 last:border-r-0"},s))}),a.jsx("div",{className:`h-full ${r==="Table A-12"?kue(t):r==="Table C-04"?Tue():Pue(t)} transition-all duration-300`,style:{width:`${i}%`}})]}),a.jsx("div",{className:"flex justify-between px-1 text-sm font-medium",children:co.map(s=>a.jsx("span",{className:s==="N°3"?"text-cyan-400 border border-cyan-400/50 px-1 rounded":"text-white/60",children:s},s))})]})},Due={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.19,1,.22,1]}},Mue=({table:t,onCellClick:e})=>a.jsx("div",{className:"space-y-1",children:[0,1].map(r=>a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-cyan-950/50",children:Array.from({length:10},(n,i)=>{const s=r*10+i,o=t.cells[s];return a.jsxs("div",{onClick:()=>e==null?void 0:e(s),className:"w-full h-7 rounded-[4px] border border-white/10 relative overflow-hidden cursor-pointer hover:border-cyan-400/30 transition-colors",children:[a.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:typeof(o==null?void 0:o.filled)=="number"?`${o.filled*100}%`:o!=null&&o.filled?"100%":"0%"}}),a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white/80 font-medium",children:s+1})]},i)})},r))}),Lue=({table:t,onEdit:e})=>{const[r,n]=T.useState(!1),[i,s]=T.useState(t.name),o=l=>{l.preventDefault(),e(t,i),n(!1)};return a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:a.jsx(LI,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),r?a.jsx("form",{onSubmit:o,className:"flex items-center",children:a.jsx("input",{type:"text",value:i,onChange:l=>s(l.target.value),className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white"})}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),a.jsx("span",{className:"text-white/60",children:"-"}),a.jsx("span",{className:"text-lg font-medium text-cyan-400",children:t.location})]})]})})};function Rue({onTableSelect:t,onTableHover:e,hoveredTable:r,selectedTable:n,onTableUpdate:i}){const[s,o]=T.useState(Oue);T.useState(null);const l=(c,u)=>{const d=s.find(x=>x.id===c);if(!d||!i)return;const h=d.cells.findIndex(x=>x.id===u.id);if(h===-1)return;const f={...u,filled:!u.filled},p=[...d.cells];p[h]=f;const m={...d,cells:p,value:p.filter(x=>x.filled).length/p.length*100};o(s.map(x=>x.id===c?m:x)),i(m)};return a.jsx("div",{className:"grid grid-cols-1 gap-4 p-4",children:s.map(c=>a.jsxs(be.div,{className:`bg-gray-900/50 backdrop-blur-sm p-6 rounded-lg border border-white/10 hover:border-cyan-500/30 transition-colors ${(r==null?void 0:r.id)===c.id?"border-cyan-500/50":""}`,...Due,onClick:()=>t(c),onMouseEnter:()=>e==null?void 0:e(c),onMouseLeave:()=>e==null?void 0:e(null),children:[a.jsx(Lue,{table:c,onEdit:(u,d)=>{const h={...u,name:d};o(s.map(f=>f.id===u.id?h:f)),i(h)}}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-white/60 font-medium",children:"Mise à l'eau"}),a.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.startDate})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-white/60 font-medium",children:"Récolte"}),a.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.name==="Table A-12"&&c.lastUpdate==="En cours"?a.jsx("span",{className:"animate-pulse text-cyan-400",children:"En cours"}):c.lastUpdate})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gl,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"Type:"}),a.jsx("span",{className:"text-gray-300",children:c.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(MI,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"État:"}),a.jsxs("span",{className:"text-gray-300",children:[c.value,"%"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"État"}),a.jsx(Mue,{table:c,onCellClick:u=>l(c.id,c.cells[u])})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Calibre"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bn,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"Actuel:"}),a.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md",children:c.currentSize})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pa,{size:18,className:"text-cyan-400"}),a.jsx("span",{className:"text-white/60",children:"Cible:"}),a.jsx("span",{className:"text-white font-semibold px-3 py-1 rounded-md border border-cyan-500/20",children:c.targetSize})]})]})]}),a.jsx(Iue,{currentSize:c.currentSize,targetSize:c.targetSize,tableName:c.name})]})]})]})]},c.id))})}function Fue({isOpen:t,onClose:e,onConfirm:r,maintenanceType:n,lastMaintenance:i,uvLampHours:s}){const[o,l]=T.useState(""),[c,u]=T.useState(!1),d=()=>{r(n,o),u(!1),e()};return a.jsx(oa,{isOpen:t,onClose:e,title:n==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[a.jsx(di,{size:24,className:"text-yellow-400 flex-shrink-0"}),a.jsx("p",{className:"text-yellow-400",children:n==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(hi,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),a.jsx("div",{className:"text-white font-medium",children:It(new Date(i),"PPP",{locale:Nr})})]})]}),n==="uv_lamp"&&s&&a.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[a.jsx(hi,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),a.jsxs("div",{className:`font-medium ${s>=8e3?"text-red-400":s>=7e3?"text-yellow-400":"text-white"}`,children:[s," heures"]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),a.jsx("textarea",{value:o,onChange:h=>l(h.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),a.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",n==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})}function Bue({isOpen:t,onClose:e,onConfirm:r,batch:n}){const[i,s]=T.useState(n.quantity),[o,l]=T.useState(""),[c,u]=T.useState(""),[d,h]=T.useState(n.remainingTime>0),f=p=>{p.preventDefault(),r({quantity:i,destination:o,notes:c})};return a.jsx(oa,{isOpen:t,onClose:e,title:"Sortie de lot",size:"md",children:a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),a.jsx("div",{className:"text-white font-medium",children:n.number})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Type"}),a.jsx("div",{className:"text-white font-medium",children:n.type})]})]})]}),d&&a.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(di,{size:20,className:"text-yellow-400 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),a.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",n.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),a.jsx("input",{type:"number",value:i,onChange:p=>s(Number(p.target.value)),max:n.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),a.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",n.quantity," unités"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),a.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner une destination..."}),a.jsx("option",{value:"stock",children:"Stock"}),a.jsx("option",{value:"vente",children:"Vente directe"}),a.jsx("option",{value:"destruction",children:"Destruction"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),a.jsx("textarea",{value:c,onChange:p=>u(p.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(pw,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})}const $ue=[{id:"1",name:"Bassin A1",capacity:1e3,currentOccupancy:800,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"plates"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}];function zue({pool:t,onClose:e}){const[r,n]=T.useState("info"),i=E0(e),[s,o]=T.useState(!1),[l,c]=T.useState("cleaning"),[u,d]=T.useState(null),[h,f]=T.useState(!1),p=(x,g)=>{console.log(`Maintenance ${x} confirmée:`,g),o(!1)},m=x=>{console.log("Sortie du lot:",{batch:u,...x}),f(!1),d(null)};return a.jsxs(a.Fragment,{children:[a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:a.jsxs(be.div,{ref:i,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),a.jsxs("p",{className:"text-white/60",children:["Système de filtration : ",t.filterType]})]}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("div",{className:"flex space-x-4 mb-6",children:[a.jsx("button",{onClick:()=>n("info"),className:`px-4 py-2 rounded-lg transition-colors ${r==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),a.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-lg transition-colors ${r==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),a.jsx("button",{onClick:()=>n("config"),className:`px-4 py-2 rounded-lg transition-colors ${r==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),a.jsxs(fr,{mode:"wait",children:[r==="info"&&a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(gl,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.temperature,"°C"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(li,{size:20,className:"mr-2 text-brand-primary"}),"Qualité eau"]}),a.jsxs("div",{className:`text-2xl font-bold ${t.waterQuality>=95?"text-green-400":t.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality,"%"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(bn,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(t.currentOccupancy/t.capacity*100),"%"]}),a.jsxs("div",{className:"text-sm text-white/60",children:[t.currentOccupancy,"/",t.capacity]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en purification"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>{c("cleaning"),o(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[a.jsx(RI,{size:16,className:"mr-1 inline-block"}),"Nettoyage"]}),a.jsxs("button",{onClick:()=>{c("uv_lamp"),o(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[a.jsx(Gb,{size:16,className:"mr-1 inline-block"}),"Lampe UV"]}),a.jsxs("button",{className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[a.jsx(Dt,{size:16,className:"mr-1 inline-block"}),"Nouveau lot"]})]})]}),a.jsx("div",{className:"space-y-3",children:t.batches.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:x.number}),a.jsxs("div",{className:"text-sm text-white/60",children:[x.quantity," kg - ",x.type]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-white",children:[x.remainingTime,"h"]}),a.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),a.jsx("button",{onClick:()=>{d(x),f(!0)},className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:a.jsx(pw,{size:20,className:"text-white/60"})})]})]},x.id))})]}),a.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx(Gb,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),a.jsxs("div",{className:`text-lg font-medium ${t.uvLampHours>=8e3?"text-red-400":t.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:[t.uvLampHours," heures d'utilisation"]}),a.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",It(new Date(t.lastUVChange),"PP",{locale:Nr})]})]}),t.uvLampHours>=7e3&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(di,{size:20,className:"text-yellow-400"}),a.jsx("span",{className:"text-yellow-400",children:t.uvLampHours>=8e3?"Changement nécessaire":"Changement recommandé"})]})]})})]},"info"),r==="history"&&a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center text-white",children:[a.jsx(hi,{size:16,className:"mr-2"}),a.jsxs("span",{children:["Dernier nettoyage: ",It(new Date(t.lastMaintenance),"PP",{locale:Nr})]})]})}),a.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center text-white",children:[a.jsx(Bn,{size:16,className:"mr-2"}),a.jsxs("span",{children:["Changement filtre: ",It(new Date(t.lastMaintenance),"PP",{locale:Nr})]})]})})]})]})},"history"),r==="config"&&a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),a.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"uv",children:"UV"}),a.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),a.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),a.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),r==="config"&&a.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})}),s&&a.jsx(Fue,{isOpen:s,onClose:()=>o(!1),onConfirm:p,maintenanceType:l,lastMaintenance:t.lastMaintenance,uvLampHours:t.uvLampHours}),h&&u&&a.jsx(Bue,{isOpen:h,onClose:()=>{f(!1),d(null)},onConfirm:m,batch:u})]})}function Uue(){const[t,e]=T.useState(null),[r,n]=T.useState(null),[i,s]=T.useState($ue),[o,l]=T.useState(!1),[c,u]=T.useState(null),[d,h]=T.useState({number:"",quantity:0,type:"plates",entryTime:It(new Date,"yyyy-MM-dd'T'HH:mm")}),f=(m,x)=>{m.stopPropagation(),u(x),h({number:`LOT-${It(new Date,"yyyy")}-${String(Math.floor(Math.random()*999)).padStart(3,"0")}`,quantity:0,type:"plates",entryTime:It(new Date,"yyyy-MM-dd'T'HH:mm")}),l(!0)},p=()=>{c&&d.quantity>0&&(console.log(`Ajout d'un lot au bassin ${c.name}:`,d),l(!1),u(null))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-2 gap-6",children:i.map(m=>a.jsxs(be.div,{className:`bg-white/5 border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer relative overflow-hidden ${r===m.id?"ring-2 ring-brand-primary shadow-neon":""}`,onClick:()=>e(m),onHoverStart:()=>n(m.id),onHoverEnd:()=>n(null),whileHover:{y:-4},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:m.name}),a.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[a.jsx(Bn,{size:16,className:"mr-1"}),m.filterType]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:x=>f(x,m),className:"px-3 py-1 text-sm bg-brand-primary rounded-lg text-white hover:bg-brand-primary/80 transition-colors flex items-center",children:[a.jsx(Dt,{size:14,className:"mr-1"}),"Rentrer un lot"]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${m.filterStatus==="active"?"bg-green-500/20 text-green-300":m.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:m.filterStatus==="active"?"Actif":m.filterStatus==="maintenance"?"Maintenance":"Erreur"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),a.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(m.currentOccupancy/m.capacity*100),"%"]}),a.jsxs("div",{className:"text-sm text-white/60",children:[m.currentOccupancy,"/",m.capacity]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),a.jsxs("div",{className:`text-xl font-bold ${m.waterQuality>=95?"text-green-400":m.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[m.waterQuality,"%"]}),a.jsxs("div",{className:"text-sm text-white/60",children:[m.temperature,"°C"]})]})]}),a.jsx("div",{className:"space-y-3",children:m.batches.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:x.number}),a.jsxs("div",{className:"text-sm text-white/60",children:[x.quantity," kg"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-white",children:[x.remainingTime,"h"]}),a.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),a.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:a.jsx(pw,{size:20,className:"text-white/60"})})]})]},x.id))}),a.jsx(be.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===m.id?1:0},transition:{duration:.2}})]},m.id))}),a.jsx(fr,{children:t&&a.jsx(zue,{pool:t,onClose:()=>e(null)})}),o&&c&&a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:a.jsxs(be.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white",children:["Rentrer un lot dans ",c.name]}),a.jsx("button",{onClick:()=>l(!1),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("form",{onSubmit:m=>{m.preventDefault(),p()},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),a.jsx("input",{type:"text",value:d.number,onChange:m=>h({...d,number:m.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),a.jsxs("select",{value:d.type,onChange:m=>h({...d,type:m.target.value}),className:"w-full p-4 bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"plates",children:"Plates"}),a.jsx("option",{value:"creuses",children:"Creuses"}),a.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),a.jsx("input",{type:"number",value:d.quantity,onChange:m=>h({...d,quantity:parseInt(m.target.value)}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date et heure d'entrée"}),a.jsx("input",{type:"datetime-local",value:d.entryTime,onChange:m=>h({...d,entryTime:m.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter le lot"})]})]})]})})]})}const O5="-",Hue=t=>{const e=Wue(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(O5);return l[0]===""&&l.length!==1&&l.shift(),RO(l,e)||que(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},RO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?RO(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(O5);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},sS=/^\[(.+)\]$/,que=t=>{if(sS.test(t)){const e=sS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Wue=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)C2(r[i],n,i,e);return n},C2=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:oS(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(Vue(i)){C2(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{C2(o,oS(e,s),r,n)})})},oS=(t,e)=>{let r=t;return e.split(O5).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Vue=t=>t.isThemeGetter,Gue=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},E2="!",O2=":",Xue=O2.length,Yue=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,l=0,c=0,u;for(let m=0;m<i.length;m++){let x=i[m];if(o===0&&l===0){if(x===O2){s.push(i.slice(c,m)),c=m+Xue;continue}if(x==="/"){u=m;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const d=s.length===0?i:i.substring(c),h=Kue(d),f=h!==d,p=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}};if(e){const i=e+O2,s=n;n=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},Kue=t=>t.endsWith(E2)?t.substring(0,t.length-1):t.startsWith(E2)?t.substring(1):t,Jue=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Zue=t=>({cache:Gue(t.cacheSize),parseClassName:Yue(t),sortModifiers:Jue(t),...Hue(t)}),Que=/\s+/,ede=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(Que);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:x}=r(d);if(h){c=d+(c.length>0?" "+c:c);continue}let g=!!x,b=n(g?m.substring(0,x):m);if(!b){if(!g){c=d+(c.length>0?" "+c:c);continue}if(b=n(m),!b){c=d+(c.length>0?" "+c:c);continue}g=!1}const y=s(f).join(":"),w=p?y+E2:y,N=w+b;if(o.includes(N))continue;o.push(N);const _=i(b,g);for(let S=0;S<_.length;++S){const A=_[S];o.push(w+A)}c=d+(c.length>0?" "+c:c)}return c};function tde(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=FO(e))&&(n&&(n+=" "),n+=r);return n}const FO=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=FO(t[n]))&&(r&&(r+=" "),r+=e);return r};function rde(t,...e){let r,n,i,s=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=Zue(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=ede(c,r);return i(c,d),d}return function(){return s(tde.apply(null,arguments))}}const In=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},BO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$O=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nde=/^\d+\/\d+$/,ide=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ade=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sde=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ode=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lde=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yu=t=>nde.test(t),Lt=t=>!!t&&!Number.isNaN(Number(t)),Hl=t=>!!t&&Number.isInteger(Number(t)),lS=t=>t.endsWith("%")&&Lt(t.slice(0,-1)),qo=t=>ide.test(t),cde=()=>!0,ude=t=>ade.test(t)&&!sde.test(t),P5=()=>!1,dde=t=>ode.test(t),hde=t=>lde.test(t),fde=t=>!tt(t)&&!rt(t),pde=t=>eh(t,HO,P5),tt=t=>BO.test(t),ql=t=>eh(t,qO,ude),Xv=t=>eh(t,Sde,Lt),mde=t=>eh(t,zO,P5),xde=t=>eh(t,UO,hde),gde=t=>eh(t,P5,dde),rt=t=>$O.test(t),nm=t=>th(t,qO),vde=t=>th(t,Ade),bde=t=>th(t,zO),yde=t=>th(t,HO),wde=t=>th(t,UO),jde=t=>th(t,Cde,!0),eh=(t,e,r)=>{const n=BO.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},th=(t,e,r=!1)=>{const n=$O.exec(t);return n?n[1]?e(n[1]):r:!1},zO=t=>t==="position",Nde=new Set(["image","url"]),UO=t=>Nde.has(t),_de=new Set(["length","size","percentage"]),HO=t=>_de.has(t),qO=t=>t==="length",Sde=t=>t==="number",Ade=t=>t==="family-name",Cde=t=>t==="shadow",Ede=()=>{const t=In("color"),e=In("font"),r=In("text"),n=In("font-weight"),i=In("tracking"),s=In("leading"),o=In("breakpoint"),l=In("container"),c=In("spacing"),u=In("radius"),d=In("shadow"),h=In("inset-shadow"),f=In("drop-shadow"),p=In("blur"),m=In("perspective"),x=In("aspect"),g=In("ease"),b=In("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],S=()=>[rt,tt,c],A=()=>[yu,"full","auto",...S()],E=()=>[Hl,"none","subgrid",rt,tt],D=()=>["auto",{span:["full",Hl,rt,tt]},rt,tt],F=()=>[Hl,"auto",rt,tt],k=()=>["auto","min","max","fr",rt,tt],O=()=>["start","end","center","between","around","evenly","stretch","baseline"],B=()=>["start","end","center","stretch"],L=()=>["auto",...S()],W=()=>[yu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],$=()=>[t,rt,tt],z=()=>[lS,ql],X=()=>["","none","full",u,rt,tt],Y=()=>["",Lt,nm,ql],le=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["","none",p,rt,tt],I=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt,tt],q=()=>["none",Lt,rt,tt],Q=()=>["none",Lt,rt,tt],J=()=>[Lt,rt,tt],de=()=>[yu,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[qo],breakpoint:[qo],color:[cde],container:[qo],"drop-shadow":[qo],ease:["in","out","in-out"],font:[fde],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[qo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[qo],shadow:[qo],spacing:["px",Lt],text:[qo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yu,tt,rt,x]}],container:["container"],columns:[{columns:[Lt,tt,rt,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...w(),tt,rt]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Hl,"auto",rt,tt]}],basis:[{basis:[yu,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,yu,"auto","initial","none",tt]}],grow:[{grow:["",Lt,rt,tt]}],shrink:[{shrink:["",Lt,rt,tt]}],order:[{order:[Hl,"first","last","none",rt,tt]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...O(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...O()]}],"align-items":[{items:[...B(),"baseline"]}],"align-self":[{self:["auto",...B(),"baseline"]}],"place-content":[{"place-content":O()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen",...W()]}],"min-h":[{"min-h":["screen","none",...W()]}],"max-h":[{"max-h":["screen",...W()]}],"font-size":[{text:["base",r,nm,ql]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,rt,Xv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lS,tt]}],"font-family":[{font:[vde,tt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,rt,tt]}],"line-clamp":[{"line-clamp":[Lt,"none",rt,Xv]}],leading:[{leading:[s,...S()]}],"list-image":[{"list-image":["none",rt,tt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rt,tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",rt,ql]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Lt,"auto",rt,tt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt,tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt,tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...w(),bde,mde]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",yde,pde]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hl,rt,tt],radial:["",rt,tt],conic:[Hl,rt,tt]},wde,xde]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,rt,tt]}],"outline-w":[{outline:["",Lt,nm,ql]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,jde,gde]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",rt,tt,h]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Lt,ql]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":$()}],opacity:[{opacity:[Lt,rt,tt]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none",rt,tt]}],blur:[{blur:R()}],brightness:[{brightness:[Lt,rt,tt]}],contrast:[{contrast:[Lt,rt,tt]}],"drop-shadow":[{"drop-shadow":["","none",f,rt,tt]}],grayscale:[{grayscale:["",Lt,rt,tt]}],"hue-rotate":[{"hue-rotate":[Lt,rt,tt]}],invert:[{invert:["",Lt,rt,tt]}],saturate:[{saturate:[Lt,rt,tt]}],sepia:[{sepia:["",Lt,rt,tt]}],"backdrop-filter":[{"backdrop-filter":["","none",rt,tt]}],"backdrop-blur":[{"backdrop-blur":R()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,rt,tt]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,rt,tt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,rt,tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,rt,tt]}],"backdrop-invert":[{"backdrop-invert":["",Lt,rt,tt]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,rt,tt]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,rt,tt]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,rt,tt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rt,tt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",rt,tt]}],ease:[{ease:["linear","initial",g,rt,tt]}],delay:[{delay:[Lt,rt,tt]}],animate:[{animate:["none",b,rt,tt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,rt,tt]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:q()}],"rotate-x":[{"rotate-x":q()}],"rotate-y":[{"rotate-y":q()}],"rotate-z":[{"rotate-z":q()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:J()}],"skew-x":[{"skew-x":J()}],"skew-y":[{"skew-y":J()}],transform:[{transform:[rt,tt,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt,tt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt,tt]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Lt,nm,ql,Xv]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Ode=rde(Ede);function Hs(...t){return Ode(Ct(t))}function wf({children:t,className:e,...r}){return a.jsx("div",{className:Hs("border border-white/10 rounded-lg overflow-hidden",e),style:{background:"linear-gradient(135deg, rgba(0, 20, 40, 0.98) 0%, rgba(0, 80, 80, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px, rgba(0, 180, 180, 0.1) 0px 0px 10px inset"},...r,children:t})}const xt=T.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t||""}`,ref:n,...r}));xt.displayName="Input";function go(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function cS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WO(...t){return e=>{let r=!1;const n=t.map(i=>{const s=cS(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():cS(t[i],null)}}}}function Ao(...t){return T.useCallback(WO(...t),t)}function Pde(t,e){const r=T.createContext(e),n=s=>{const{children:o,...l}=s,c=T.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=T.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function VO(t,e=[]){let r=[];function n(s,o){const l=T.createContext(o),c=r.length;r=[...r,o];const u=h=>{var b;const{scope:f,children:p,...m}=h,x=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,g=T.useMemo(()=>m,Object.values(m));return a.jsx(x.Provider,{value:g,children:p})};u.displayName=s+"Provider";function d(h,f){var x;const p=((x=f==null?void 0:f[t])==null?void 0:x[c])||l,m=T.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>T.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,kde(i,...e)]}function kde(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Xx=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Tde=FI.useId||(()=>{}),Ide=0;function Yv(t){const[e,r]=T.useState(Tde());return Xx(()=>{t||r(n=>n??String(Ide++))},[t]),t||(e?`radix-${e}`:"")}function Ac(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Dde({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=Mde({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,l=Ac(r),c=T.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else i(u)},[s,t,i,l]);return[o,c]}function Mde({defaultProp:t,onChange:e}){const r=T.useState(t),[n]=r,i=T.useRef(n),s=Ac(e);return T.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var k5=T.forwardRef((t,e)=>{const{children:r,...n}=t,i=T.Children.toArray(r),s=i.find(Lde);if(s){const o=s.props.children,l=i.map(c=>c===s?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:c);return a.jsx(P2,{...n,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,l):null})}return a.jsx(P2,{...n,ref:e,children:r})});k5.displayName="Slot";var P2=T.forwardRef((t,e)=>{const{children:r,...n}=t;if(T.isValidElement(r)){const i=Fde(r),s=Rde(n,r.props);return r.type!==T.Fragment&&(s.ref=e?WO(e,i):i),T.cloneElement(r,s)}return T.Children.count(r)>1?T.Children.only(null):null});P2.displayName="SlotClone";var GO=({children:t})=>a.jsx(a.Fragment,{children:t});function Lde(t){return T.isValidElement(t)&&t.type===GO}function Rde(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{s(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Fde(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Bde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Co=Bde.reduce((t,e)=>{const r=T.forwardRef((n,i)=>{const{asChild:s,...o}=n,l=s?k5:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $de(t,e){t&&uC.flushSync(()=>t.dispatchEvent(e))}function zde(t,e=globalThis==null?void 0:globalThis.document){const r=Ac(t);T.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Ude="DismissableLayer",k2="dismissableLayer.update",Hde="dismissableLayer.pointerDownOutside",qde="dismissableLayer.focusOutside",uS,XO=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),YO=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=T.useContext(XO),[d,h]=T.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=T.useState({}),m=Ao(e,A=>h(A)),x=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(g),y=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=b,_=Gde(A=>{const E=A.target,D=[...u.branches].some(F=>F.contains(E));!N||D||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},f),S=Xde(A=>{const E=A.target;[...u.branches].some(F=>F.contains(E))||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},f);return zde(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),T.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(uS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),dS(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=uS)}},[d,f,r,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),dS())},[d,u]),T.useEffect(()=>{const A=()=>p({});return document.addEventListener(k2,A),()=>document.removeEventListener(k2,A)},[]),a.jsx(Co.div,{...c,ref:m,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:go(t.onFocusCapture,S.onFocusCapture),onBlurCapture:go(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:go(t.onPointerDownCapture,_.onPointerDownCapture)})});YO.displayName=Ude;var Wde="DismissableLayerBranch",Vde=T.forwardRef((t,e)=>{const r=T.useContext(XO),n=T.useRef(null),i=Ao(e,n);return T.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Co.div,{...t,ref:i})});Vde.displayName=Wde;function Gde(t,e=globalThis==null?void 0:globalThis.document){const r=Ac(t),n=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){KO(Hde,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Xde(t,e=globalThis==null?void 0:globalThis.document){const r=Ac(t),n=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!n.current&&KO(qde,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dS(){const t=new CustomEvent(k2);document.dispatchEvent(t)}function KO(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?$de(i,s):i.dispatchEvent(s)}var Kv="focusScope.autoFocusOnMount",Jv="focusScope.autoFocusOnUnmount",hS={bubbles:!1,cancelable:!0},Yde="FocusScope",JO=T.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=T.useState(null),u=Ac(i),d=Ac(s),h=T.useRef(null),f=Ao(e,x=>c(x)),p=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(n){let x=function(w){if(p.paused||!l)return;const N=w.target;l.contains(N)?h.current=N:Qo(h.current,{select:!0})},g=function(w){if(p.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Qo(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Qo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,p.paused]),T.useEffect(()=>{if(l){pS.add(p);const x=document.activeElement;if(!l.contains(x)){const b=new CustomEvent(Kv,hS);l.addEventListener(Kv,u),l.dispatchEvent(b),b.defaultPrevented||(Kde(the(ZO(l)),{select:!0}),document.activeElement===x&&Qo(l))}return()=>{l.removeEventListener(Kv,u),setTimeout(()=>{const b=new CustomEvent(Jv,hS);l.addEventListener(Jv,d),l.dispatchEvent(b),b.defaultPrevented||Qo(x??document.body,{select:!0}),l.removeEventListener(Jv,d),pS.remove(p)},0)}}},[l,u,d,p]);const m=T.useCallback(x=>{if(!r&&!n||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(g&&b){const y=x.currentTarget,[w,N]=Jde(y);w&&N?!x.shiftKey&&b===N?(x.preventDefault(),r&&Qo(w,{select:!0})):x.shiftKey&&b===w&&(x.preventDefault(),r&&Qo(N,{select:!0})):b===y&&x.preventDefault()}},[r,n,p.paused]);return a.jsx(Co.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});JO.displayName=Yde;function Kde(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Qo(n,{select:e}),document.activeElement!==r)return}function Jde(t){const e=ZO(t),r=fS(e,t),n=fS(e.reverse(),t);return[r,n]}function ZO(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function fS(t,e){for(const r of t)if(!Zde(r,{upTo:e}))return r}function Zde(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Qde(t){return t instanceof HTMLInputElement&&"select"in t}function Qo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Qde(t)&&e&&t.select()}}var pS=ehe();function ehe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=mS(t,e),t.unshift(e)},remove(e){var r;t=mS(t,e),(r=t[0])==null||r.resume()}}}function mS(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function the(t){return t.filter(e=>e.tagName!=="A")}var rhe="Portal",QO=T.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,s]=T.useState(!1);Xx(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?BI.createPortal(a.jsx(Co.div,{...n,ref:e}),o):null});QO.displayName=rhe;function nhe(t,e){return T.useReducer((r,n)=>e[r][n]??r,t)}var dg=t=>{const{present:e,children:r}=t,n=ihe(e),i=typeof r=="function"?r({present:n.isPresent}):T.Children.only(r),s=Ao(n.ref,ahe(i));return typeof r=="function"||n.isPresent?T.cloneElement(i,{ref:s}):null};dg.displayName="Presence";function ihe(t){const[e,r]=T.useState(),n=T.useRef({}),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[l,c]=nhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=im(n.current);s.current=l==="mounted"?u:"none"},[l]),Xx(()=>{const u=n.current,d=i.current;if(d!==t){const f=s.current,p=im(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Xx(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const x=im(n.current).includes(p.animationName);if(p.target===e&&x&&(c("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=p=>{p.target===e&&(s.current=im(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:T.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function im(t){return(t==null?void 0:t.animationName)||"none"}function ahe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Zv=0;function she(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xS()),document.body.insertAdjacentElement("beforeend",t[1]??xS()),Zv++,()=>{Zv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zv--}},[])}function xS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _s=function(){return _s=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_s.apply(this,arguments)};function eP(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function ohe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Mm="right-scroll-bar-position",Lm="width-before-scroll-bar",lhe="with-scroll-bars-hidden",che="--removed-body-scroll-bar-size";function Qv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uhe(t,e){var r=T.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var dhe=typeof window<"u"?T.useLayoutEffect:T.useEffect,gS=new WeakMap;function hhe(t,e){var r=uhe(null,function(n){return t.forEach(function(i){return Qv(i,n)})});return dhe(function(){var n=gS.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||Qv(l,null)}),s.forEach(function(l){i.has(l)||Qv(l,o)})}gS.set(r,t)},[t]),r}function fhe(t){return t}function phe(t,e){e===void 0&&(e=fhe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function mhe(t){t===void 0&&(t={});var e=phe(null);return e.options=_s({async:!0,ssr:!1},t),e}var tP=function(t){var e=t.sideCar,r=eP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return T.createElement(n,_s({},r))};tP.isSideCarExport=!0;function xhe(t,e){return t.useMedium(e),tP}var rP=mhe(),eb=function(){},hg=T.forwardRef(function(t,e){var r=T.useRef(null),n=T.useState({onScrollCapture:eb,onWheelCapture:eb,onTouchMoveCapture:eb}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,m=t.inert,x=t.allowPinchZoom,g=t.as,b=g===void 0?"div":g,y=t.gapMode,w=eP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,_=hhe([r,e]),S=_s(_s({},w),i);return T.createElement(T.Fragment,null,d&&T.createElement(N,{sideCar:rP,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:y}),o?T.cloneElement(T.Children.only(l),_s(_s({},S),{ref:_})):T.createElement(b,_s({},S,{className:c,ref:_}),l))});hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hg.classNames={fullWidth:Lm,zeroRight:Mm};var ghe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vhe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ghe();return e&&t.setAttribute("nonce",e),t}function bhe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yhe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var whe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=vhe())&&(bhe(e,r),yhe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jhe=function(){var t=whe();return function(e,r){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},nP=function(){var t=jhe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Nhe={left:0,top:0,right:0,gap:0},tb=function(t){return parseInt(t||"",10)||0},_he=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tb(r),tb(n),tb(i)]},She=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Nhe;var e=_he(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Ahe=nP(),Qu="data-scroll-locked",Che=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(lhe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Qu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Lm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mm," .").concat(Mm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qu,`] {
    `).concat(che,": ").concat(l,`px;
  }
`)},vS=function(){var t=parseInt(document.body.getAttribute(Qu)||"0",10);return isFinite(t)?t:0},Ehe=function(){T.useEffect(function(){return document.body.setAttribute(Qu,(vS()+1).toString()),function(){var t=vS()-1;t<=0?document.body.removeAttribute(Qu):document.body.setAttribute(Qu,t.toString())}},[])},Ohe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Ehe();var s=T.useMemo(function(){return She(i)},[i]);return T.createElement(Ahe,{styles:Che(s,!e,i,r?"":"!important")})},T2=!1;if(typeof window<"u")try{var am=Object.defineProperty({},"passive",{get:function(){return T2=!0,!0}});window.addEventListener("test",am,am),window.removeEventListener("test",am,am)}catch{T2=!1}var wu=T2?{passive:!1}:!1,Phe=function(t){return t.tagName==="TEXTAREA"},iP=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Phe(t)&&r[e]==="visible")},khe=function(t){return iP(t,"overflowY")},The=function(t){return iP(t,"overflowX")},bS=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=aP(t,n);if(i){var s=sP(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Ihe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Dhe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},aP=function(t,e){return t==="v"?khe(e):The(e)},sP=function(t,e){return t==="v"?Ihe(e):Dhe(e)},Mhe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Lhe=function(t,e,r,n,i){var s=Mhe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var p=sP(t,l),m=p[0],x=p[1],g=p[2],b=x-g-s*m;(m||b)&&aP(t,l)&&(h+=b,f+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},sm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yS=function(t){return[t.deltaX,t.deltaY]},wS=function(t){return t&&"current"in t?t.current:t},Rhe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Fhe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Bhe=0,ju=[];function $he(t){var e=T.useRef([]),r=T.useRef([0,0]),n=T.useRef(),i=T.useState(Bhe++)[0],s=T.useState(nP)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=ohe([t.lockRef.current],(t.shards||[]).map(wS),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=T.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var b=sm(x),y=r.current,w="deltaX"in x?x.deltaX:y[0]-b[0],N="deltaY"in x?x.deltaY:y[1]-b[1],_,S=x.target,A=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in x&&A==="h"&&S.type==="range")return!1;var E=bS(A,S);if(!E)return!0;if(E?_=A:(_=A==="v"?"h":"v",E=bS(A,S)),!E)return!1;if(!n.current&&"changedTouches"in x&&(w||N)&&(n.current=_),!_)return!0;var D=n.current||_;return Lhe(D,g,x,D==="h"?w:N,!0)},[]),c=T.useCallback(function(x){var g=x;if(!(!ju.length||ju[ju.length-1]!==s)){var b="deltaY"in g?yS(g):sm(g),y=e.current.filter(function(_){return _.name===g.type&&(_.target===g.target||g.target===_.shadowParent)&&Rhe(_.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(wS).filter(Boolean).filter(function(_){return _.contains(g.target)}),N=w.length>0?l(g,w[0]):!o.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),u=T.useCallback(function(x,g,b,y){var w={name:x,delta:g,target:b,should:y,shadowParent:zhe(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(N){return N!==w})},1)},[]),d=T.useCallback(function(x){r.current=sm(x),n.current=void 0},[]),h=T.useCallback(function(x){u(x.type,yS(x),x.target,l(x,t.lockRef.current))},[]),f=T.useCallback(function(x){u(x.type,sm(x),x.target,l(x,t.lockRef.current))},[]);T.useEffect(function(){return ju.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,wu),document.addEventListener("touchmove",c,wu),document.addEventListener("touchstart",d,wu),function(){ju=ju.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,wu),document.removeEventListener("touchmove",c,wu),document.removeEventListener("touchstart",d,wu)}},[]);var p=t.removeScrollBar,m=t.inert;return T.createElement(T.Fragment,null,m?T.createElement(s,{styles:Fhe(i)}):null,p?T.createElement(Ohe,{gapMode:t.gapMode}):null)}function zhe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Uhe=xhe(rP,$he);var oP=T.forwardRef(function(t,e){return T.createElement(hg,_s({},t,{ref:e,sideCar:Uhe}))});oP.classNames=hg.classNames;var Hhe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nu=new WeakMap,om=new WeakMap,lm={},rb=0,lP=function(t){return t&&(t.host||lP(t.parentNode))},qhe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=lP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Whe=function(t,e,r,n){var i=qhe(e,Array.isArray(t)?t:[t]);lm[r]||(lm[r]=new WeakMap);var s=lm[r],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(n),m=p!==null&&p!=="false",x=(Nu.get(f)||0)+1,g=(s.get(f)||0)+1;Nu.set(f,x),s.set(f,g),o.push(f),x===1&&m&&om.set(f,!0),g===1&&f.setAttribute(r,"true"),m||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(e),l.clear(),rb++,function(){o.forEach(function(h){var f=Nu.get(h)-1,p=s.get(h)-1;Nu.set(h,f),s.set(h,p),f||(om.has(h)||h.removeAttribute(n),om.delete(h)),p||h.removeAttribute(r)}),rb--,rb||(Nu=new WeakMap,Nu=new WeakMap,om=new WeakMap,lm={})}},Vhe=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Hhe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Whe(n,i,r,"aria-hidden")):function(){return null}},T5="Dialog",[cP,uP]=VO(T5),[Ghe,ss]=cP(T5),dP=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=T.useRef(null),c=T.useRef(null),[u=!1,d]=Dde({prop:n,defaultProp:i,onChange:s});return a.jsx(Ghe,{scope:e,triggerRef:l,contentRef:c,contentId:Yv(),titleId:Yv(),descriptionId:Yv(),open:u,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};dP.displayName=T5;var hP="DialogTrigger",fP=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(hP,r),s=Ao(e,i.triggerRef);return a.jsx(Co.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":M5(i.open),...n,ref:s,onClick:go(t.onClick,i.onOpenToggle)})});fP.displayName=hP;var I5="DialogPortal",[Xhe,pP]=cP(I5,{forceMount:void 0}),mP=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=ss(I5,e);return a.jsx(Xhe,{scope:e,forceMount:r,children:T.Children.map(n,o=>a.jsx(dg,{present:r||s.open,children:a.jsx(QO,{asChild:!0,container:i,children:o})}))})};mP.displayName=I5;var Yx="DialogOverlay",xP=T.forwardRef((t,e)=>{const r=pP(Yx,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ss(Yx,t.__scopeDialog);return s.modal?a.jsx(dg,{present:n||s.open,children:a.jsx(Yhe,{...i,ref:e})}):null});xP.displayName=Yx;var Yhe=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(Yx,r);return a.jsx(oP,{as:k5,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Co.div,{"data-state":M5(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Cc="DialogContent",gP=T.forwardRef((t,e)=>{const r=pP(Cc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ss(Cc,t.__scopeDialog);return a.jsx(dg,{present:n||s.open,children:s.modal?a.jsx(Khe,{...i,ref:e}):a.jsx(Jhe,{...i,ref:e})})});gP.displayName=Cc;var Khe=T.forwardRef((t,e)=>{const r=ss(Cc,t.__scopeDialog),n=T.useRef(null),i=Ao(e,r.contentRef,n);return T.useEffect(()=>{const s=n.current;if(s)return Vhe(s)},[]),a.jsx(vP,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:go(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:go(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:go(t.onFocusOutside,s=>s.preventDefault())})}),Jhe=T.forwardRef((t,e)=>{const r=ss(Cc,t.__scopeDialog),n=T.useRef(!1),i=T.useRef(!1);return a.jsx(vP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),vP=T.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=ss(Cc,r),c=T.useRef(null),u=Ao(e,c);return she(),a.jsxs(a.Fragment,{children:[a.jsx(JO,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(YO,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":M5(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Qhe,{titleId:l.titleId}),a.jsx(tfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),D5="DialogTitle",bP=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(D5,r);return a.jsx(Co.h2,{id:i.titleId,...n,ref:e})});bP.displayName=D5;var yP="DialogDescription",wP=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(yP,r);return a.jsx(Co.p,{id:i.descriptionId,...n,ref:e})});wP.displayName=yP;var jP="DialogClose",NP=T.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ss(jP,r);return a.jsx(Co.button,{type:"button",...n,ref:e,onClick:go(t.onClick,()=>i.onOpenChange(!1))})});NP.displayName=jP;function M5(t){return t?"open":"closed"}var _P="DialogTitleWarning",[Zhe,SP]=Pde(_P,{contentName:Cc,titleName:D5,docsSlug:"dialog"}),Qhe=({titleId:t})=>{const e=SP(_P),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},efe="DialogDescriptionWarning",tfe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SP(efe).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},AP=dP,rfe=fP,CP=mP,L5=xP,R5=gP,F5=bP,B5=wP,$5=NP;const Kx=AP,nfe=CP,EP=T.forwardRef(({className:t,...e},r)=>a.jsx(L5,{ref:r,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${t||""}`,...e}));EP.displayName=L5.displayName;const x0=T.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(nfe,{children:[a.jsx(EP,{}),a.jsxs(R5,{ref:n,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${t||""}`,...r,children:[e,a.jsxs($5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(vt,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));x0.displayName=R5.displayName;const g0=({className:t,...e})=>a.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${t||""}`,...e});g0.displayName="DialogHeader";const OP=({className:t,...e})=>a.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${t||""}`,...e});OP.displayName="DialogFooter";const v0=T.forwardRef(({className:t,...e},r)=>a.jsx(F5,{ref:r,className:`text-lg font-semibold leading-none tracking-tight ${t||""}`,...e}));v0.displayName=F5.displayName;const Jx=T.forwardRef(({className:t,...e},r)=>a.jsx(B5,{ref:r,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${t||""}`,...e}));Jx.displayName=B5.displayName;const ife=[{id:1,status:"en_trempe",batches:[],number:1,remainingRopes:85,totalRopes:100,tableName:"Table Nord #128",description:"Huîtres Fines de Claire",startDate:"2024-10-15",harvestDate:"2025-01-15",mortalityRate:12,currentSize:"N°4",targetSize:"N°2",occupancy:{current:9,total:10}},{id:2,status:"pret",batches:[],number:2,remainingRopes:0,totalRopes:100,tableName:"Table Nord #129",description:"Huîtres Fines de Claire",startDate:"2024-09-15",harvestDate:"2025-01-01",mortalityRate:8,currentSize:"N°3",targetSize:"N°2",occupancy:{current:10,total:10}}],afe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},cm={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},jS={initial:{scale:1},highlight:{scale:[1,1.05,1],transition:{duration:.6,times:[0,.5,1],ease:[.25,.25,0,1]}}},sfe=t=>({initial:{scaleX:0,filter:"brightness(1)"},animate:{scaleX:t.remainingRopes/t.totalRopes,filter:["brightness(1)","brightness(1.5)","brightness(1)"],transition:{duration:.6,filter:{times:[0,.5,1],duration:.8},ease:[.25,.25,0,1]}}}),NS={hidden:{opacity:0,transform:"scale(0.95) translateY(10px)"},visible:{opacity:1,transform:"scale(1) translateY(0)",transition:{duration:.2,ease:[.4,0,.2,1],transform:{type:"spring",damping:15,stiffness:300}}},exit:{opacity:0,transform:"scale(0.95) translateY(10px)",transition:{duration:.15,ease:[.4,0,1,1],transform:{type:"spring",damping:20,stiffness:300}}}},um={hidden:{opacity:0,transform:"translateY(10px)"},visible:{opacity:1,transform:"translateY(0)",transition:{duration:.3,ease:[.25,.25,0,1],transform:{type:"spring",damping:15,stiffness:200}}}},ofe=()=>{re.useState(null);const[t,e]=re.useState(null);re.useState({x:0,y:0}),re.useState(!1),re.useState(!0),re.useState(!1),re.useState(null);const[r,n]=re.useState(ife);re.useState(!1);const[i,s]=re.useState(!1),[o,l]=re.useState({tableName:"",description:"Huîtres Fines de Claire",startDate:new Date().toISOString().split("T")[0],harvestDate:new Date(Date.now()+90*24*60*60*1e3).toISOString().split("T")[0],currentSize:"T15",targetSize:"N°2"});re.useState(!1),re.useState(1),re.useState("");const[c,u]=re.useState(!1),{batches:d}=ua();return re.useEffect(()=>{const h={};d.forEach(f=>{if(f.trempeSquareId){h[f.trempeSquareId]||(h[f.trempeSquareId]=[]);const p={id:f.id,name:f.batchNumber||`Lot ${f.id}`,status:f.status,quantity:f.quantity,createdAt:f.createdAt,updatedAt:f.updatedAt,date:new Date(f.startDate||Date.now()),trempeSquareId:f.trempeSquareId};h[f.trempeSquareId].push(p)}}),n(f=>f.map(p=>({...p,batches:h[p.id]||[]})))},[d]),a.jsxs(be.div,{initial:"hidden",animate:"visible",variants:afe,className:"w-full",children:[a.jsx(wf,{children:a.jsxs("div",{className:"bg-brand-dark/30 rounded-xl p-6 border border-white/10 backdrop-blur-xl",children:[a.jsxs(be.div,{variants:cm,className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Trempes"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Gérez vos trempes en cours"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(qt,{variant:"primary",className:"group bg-brand-accent hover:bg-brand-accent/90 text-white px-4 py-2 rounded-lg border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},children:[a.jsx(Dt,{className:"w-4 h-4 transform transition-transform group-hover:scale-110"}),a.jsx("span",{children:"Nouvelle trempe"})]}),a.jsxs(qt,{variant:"outline",className:"group bg-brand-darker/30 hover:bg-brand-darker/50 text-white px-4 py-2 rounded-lg border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},onClick:()=>s(!0),children:[a.jsx(Dt,{className:"w-4 h-4 transform transition-transform group-hover:scale-110"}),a.jsx("span",{children:"Nouvelle table"})]})]})]}),a.jsxs(be.div,{variants:cm,className:"flex gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),a.jsx(xt,{type:"text",placeholder:"Rechercher une trempe...",className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg pl-10 pr-4 py-2 text-white backdrop-blur-xl transition-colors"})]}),a.jsxs(qt,{variant:"outline",className:"group px-4 py-2 rounded-lg text-white bg-brand-darker/30 hover:bg-brand-darker/50 border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center gap-2",style:{willChange:"transform"},children:[a.jsx(Bn,{className:"w-4 h-4 transform transition-transform group-hover:rotate-180"}),a.jsx("span",{children:"Filtres"})]})]}),a.jsx(be.div,{variants:cm,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(h=>a.jsxs(be.div,{variants:cm,initial:h.id===1?"initial":void 0,animate:h.id===1?"highlight":void 0,className:"bg-brand-dark/30 rounded-xl p-4 border border-white/10 hover:border-white/20 transition-colors backdrop-blur-md cursor-pointer",style:h.id===1?{willChange:"transform, border-color"}:void 0,onClick:()=>{e(h),u(!0)},children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx(be.h3,{initial:"initial",animate:"highlight",variants:jS,className:"text-lg font-semibold text-white stat-title bg-brand-darker/30 px-3 py-1.5 rounded-lg backdrop-blur-xl border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px",style:h.id===1?{willChange:"transform"}:void 0,children:h.tableName}),a.jsx(be.span,{initial:"initial",animate:"highlight",variants:jS,className:`px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-2 transition-all duration-200 transform hover:-translate-y-px backdrop-blur-xl ${h.status==="en_trempe"?"bg-green-500/20 text-green-400 border border-green-500/20":h.status==="pret"?"bg-blue-500/20 text-blue-400 border border-blue-500/20":"bg-gray-500/20 text-gray-400 border border-gray-500/20"}`,style:h.id===1?{willChange:"transform"}:void 0,children:h.status==="en_trempe"?a.jsxs(a.Fragment,{children:[a.jsx($I,{className:"w-3.5 h-3.5 animate-spin"}),a.jsx("span",{children:"En trempe"})]}):h.status==="pret"?a.jsxs(a.Fragment,{children:[a.jsx(yc,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:"Prêt"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fj,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:"Disponible"})]})})]}),a.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{children:"Lots actifs:"}),a.jsx(be.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},style:h.id===1?{willChange:"transform, opacity"}:void 0,className:`px-2 py-0.5 rounded-md text-xs ${h.batches.length>0?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:h.batches.length},h.batches.length)]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{children:["Cordes restantes:",a.jsx(be.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},className:"ml-1",style:h.id===1?{willChange:"transform, opacity"}:void 0,children:h.remainingRopes},h.remainingRopes)]}),a.jsxs(be.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:[.25,.25,0,1]},className:"text-xs",style:h.id===1?{willChange:"transform, opacity"}:void 0,children:[Math.round(h.remainingRopes/h.totalRopes*100),"%"]},h.remainingRopes)]}),a.jsx("div",{className:"w-full h-1.5 bg-brand-darker/50 rounded-full overflow-hidden",children:a.jsx(be.div,{initial:"initial",animate:"animate",variants:sfe(h),className:"h-full rounded-full origin-left",style:{willChange:h.id===1?"transform, filter":void 0,backgroundColor:h.status==="en_trempe"?"rgb(34 197 94 / 0.5)":h.status==="pret"?"rgb(59 130 246 / 0.5)":"rgb(107 114 128 / 0.5)"}})})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:a.jsxs(qt,{variant:"outline",className:"group w-full px-4 py-2 rounded-lg text-white bg-brand-darker/30 hover:bg-brand-darker/50 border border-white/10 hover:border-white/20 transition-colors transform hover:-translate-y-px backdrop-blur-xl flex items-center justify-center gap-2",style:{willChange:"transform"},children:[a.jsx("span",{children:"Voir les détails"}),a.jsx(pC,{className:"w-4 h-4 transform transition-transform group-hover:translate-x-1"})]})})]},h.id))})]})}),a.jsx(Kx,{open:c,onOpenChange:u,children:a.jsx(x0,{className:"bg-brand-darker/95 border-white/10 max-w-2xl w-full",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",willChange:"transform"},children:a.jsxs(be.div,{variants:NS,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{willChange:"transform, opacity"},children:[a.jsx(g0,{className:"pb-4 border-b border-white/10",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(v0,{className:"text-2xl font-bold text-white",children:t==null?void 0:t.tableName}),a.jsx(Jx,{className:"text-white/60 mt-1",children:t==null?void 0:t.description})]}),a.jsx(qt,{variant:"ghost",className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5",onClick:()=>u(!1),children:a.jsx(vt,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"py-4 space-y-6",children:[a.jsxs(be.div,{variants:um,className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("div",{className:`px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2 ${(t==null?void 0:t.status)==="en_trempe"?"bg-green-500/20 text-green-400 border border-green-500/20":(t==null?void 0:t.status)==="pret"?"bg-blue-500/20 text-blue-400 border border-blue-500/20":"bg-gray-500/20 text-gray-400 border border-gray-500/20"}`,children:(t==null?void 0:t.status)==="en_trempe"?a.jsxs(a.Fragment,{children:[a.jsx(hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Active"})]}):(t==null?void 0:t.status)==="pret"?a.jsxs(a.Fragment,{children:[a.jsx(yc,{className:"w-4 h-4"}),a.jsx("span",{children:"Prêt"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fj,{className:"w-4 h-4"}),a.jsx("span",{children:"Disponible"})]})})})}),a.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[a.jsx("button",{className:"px-4 py-2 text-white border-b-2 border-brand-accent",children:"Informations"}),a.jsx("button",{className:"px-4 py-2 text-white/60 hover:text-white",children:"Historique"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Occupation de la table"}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Progression"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-white font-medium",children:[t==null?void 0:t.occupancy.current,"/",t==null?void 0:t.occupancy.total," unités"]}),a.jsxs("span",{className:"text-white/60",children:["(",Math.round(((t==null?void 0:t.occupancy.current)||0)/((t==null?void 0:t.occupancy.total)||1)*100),"%)"]})]})]}),a.jsx("div",{className:"w-full h-2 bg-brand-darker/50 rounded-full overflow-hidden",children:a.jsx(be.div,{initial:{scaleX:0},animate:{scaleX:t?t.occupancy.current/t.occupancy.total:0,backgroundColor:"rgb(34 197 94 / 0.5)"},transition:{duration:.6,ease:[.25,.25,0,1]},className:"h-full rounded-full origin-left",style:{willChange:"transform"}})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Progression du calibre"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Début"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsx("span",{className:"text-white font-medium",children:"T15"})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Objectif"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.targetSize})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Final"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.currentSize})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-[3px] w-full rounded-full overflow-hidden",style:{background:"linear-gradient(to right, #3b82f6 0%, #3b82f6 30%, #60a5fa 50%, #93c5fd 75%, #22c55e 85%, #f97316 95%, #ef4444 100%)"}}),a.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-white/40",style:{left:"85%",transform:"translateX(-50%)",willChange:"transform"}}),a.jsxs(be.div,{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4",style:{left:`${["T15","N°5","N°4","N°3","N°2","N°1"].indexOf((t==null?void 0:t.currentSize)||"T15")/5*100}%`,willChange:"transform, left"},initial:!1,animate:{scale:[1,1.2,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-500/20 animate-pulse"}),a.jsx("div",{className:"absolute inset-[2px] rounded-full bg-blue-500"})]})]}),a.jsx("div",{className:"flex items-center justify-between space-x-2 py-2",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(h=>a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("div",{className:`text-xs ${h===(t==null?void 0:t.currentSize)?"text-blue-400 font-medium":h===(t==null?void 0:t.targetSize)?"text-green-400 font-medium":"text-white/40"}`,children:h}),a.jsx("div",{className:`h-1 mt-1 rounded-full transform origin-center transition-transform ${h===(t==null?void 0:t.currentSize)?"bg-blue-500 scale-100":h===(t==null?void 0:t.targetSize)?"bg-green-500 scale-100":"bg-white/10 scale-75"}`,style:{willChange:"transform"}})]},h))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Calibre actuel"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.currentSize})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Calibre cible"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsx("span",{className:"text-white font-medium",children:t==null?void 0:t.targetSize})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Informations de production"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Date de démarrage"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsx("span",{className:"text-white font-medium",children:new Date((t==null?void 0:t.startDate)||"").toLocaleDateString("fr-FR")})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Date de récolte prévue"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsx("span",{className:"text-white font-medium",children:new Date((t==null?void 0:t.harvestDate)||"").toLocaleDateString("fr-FR")})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Taux de mortalité"}),a.jsx("div",{className:"px-3 py-2 rounded-lg bg-brand-darker/30 border border-white/10",children:a.jsxs("span",{className:"text-white font-medium",children:[t==null?void 0:t.mortalityRate,"%"]})})]})]})]})]}),a.jsxs(be.div,{variants:um,className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[a.jsx(qt,{variant:"primary",className:"flex-1 bg-brand-accent hover:bg-brand-accent/90",children:"Ajouter des cordes"}),a.jsx(qt,{variant:"outline",className:"flex-1",children:"Récolter"})]})]})]})})}),a.jsx(Kx,{open:i,onOpenChange:s,children:a.jsx(x0,{className:"bg-brand-darker/95 border-white/10 max-w-2xl w-full",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",willChange:"transform"},children:a.jsxs(be.div,{variants:NS,initial:"hidden",animate:"visible",exit:"exit",className:"relative",style:{willChange:"transform, opacity"},children:[a.jsx(g0,{className:"pb-4 border-b border-white/10",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(v0,{className:"text-2xl font-bold text-white",children:"Nouvelle table"}),a.jsx(Jx,{className:"text-white/60 mt-1",children:"Créer une nouvelle table de trempe"})]}),a.jsx(qt,{variant:"ghost",className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5",onClick:()=>s(!1),children:a.jsx(vt,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"py-4 space-y-6",children:[a.jsxs(be.div,{variants:um,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Nom de la table"}),a.jsx(xt,{value:o.tableName,onChange:h=>l({...o,tableName:h.target.value}),placeholder:"ex: Table Nord #128",className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Description"}),a.jsx(xt,{value:o.description,onChange:h=>l({...o,description:h.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Date de démarrage"}),a.jsx(xt,{type:"date",value:o.startDate,onChange:h=>l({...o,startDate:h.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Date de récolte prévue"}),a.jsx(xt,{type:"date",value:o.harvestDate,onChange:h=>l({...o,harvestDate:h.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Calibre initial"}),a.jsx("select",{value:o.currentSize,onChange:h=>l({...o,currentSize:h.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(h=>a.jsx("option",{value:h,children:h},h))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Calibre cible"}),a.jsx("select",{value:o.targetSize,onChange:h=>l({...o,targetSize:h.target.value}),className:"w-full bg-brand-darker/30 border border-white/10 hover:border-white/20 rounded-lg px-3 py-2 text-white",children:["T15","N°5","N°4","N°3","N°2","N°1"].map(h=>a.jsx("option",{value:h,children:h},h))})]})]})]}),a.jsxs(be.div,{variants:um,className:"flex items-center gap-3 pt-4 border-t border-white/10",children:[a.jsx(qt,{variant:"primary",className:"flex-1 bg-brand-accent hover:bg-brand-accent/90",onClick:()=>{const h={id:r.length+1,status:"disponible",batches:[],number:r.length+1,remainingRopes:100,totalRopes:100,tableName:o.tableName,description:o.description,startDate:o.startDate,harvestDate:o.harvestDate,mortalityRate:0,currentSize:o.currentSize,targetSize:o.targetSize,occupancy:{current:0,total:10}};n([...r,h]),s(!1)},children:"Créer la table"}),a.jsx(qt,{variant:"outline",className:"flex-1",onClick:()=>s(!1),children:"Annuler"})]})]})]})})})]})},Zx=()=>{const t=new Date,e=t.getFullYear().toString().slice(-2),r=(t.getMonth()+1).toString().padStart(2,"0"),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${e}${r}-${n}`},lfe=({cell:t,onClose:e,onSave:r})=>{var d,h;const[n,i]=T.useState(t.ropeCount||0),[s,o]=T.useState(((d=t.spat)==null?void 0:d.name)||""),[l,c]=T.useState(((h=t.spat)==null?void 0:h.batchNumber)||Zx()),u=()=>{r({...t,filled:!0,ropeCount:n,spat:{name:s,batchNumber:l,dateAdded:new Date().toISOString()}}),e()};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(be.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-96 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-6 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ajouter des cordes"}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes"}),a.jsx("input",{type:"number",value:n,onChange:f=>i(Number(f.target.value)),className:"w-full bg-black/20 rounded-lg p-3 border border-white/10 focus:border-cyan-500/30 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-200",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Naissain"}),a.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),className:"w-full bg-black/20 rounded-lg p-3 border border-white/10 focus:border-cyan-500/30 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-200",placeholder:"Nom du naissain"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Numéro de lot"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),className:"w-full bg-black/20 rounded-lg p-3 border border-white/10 focus:border-cyan-500/30 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-200",placeholder:"Auto-généré"}),a.jsx("button",{onClick:()=>c(Zx()),className:"absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs bg-cyan-500/20 text-cyan-400 rounded hover:bg-cyan-500/30 transition-colors",children:"Générer"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2.5 bg-white/5 rounded-lg hover:bg-white/10 border border-white/10 transition-colors",children:"Annuler"}),a.jsx("button",{onClick:u,className:"px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg hover:from-cyan-400 hover:to-blue-400 transition-colors font-medium",children:"Enregistrer"})]})]})]})})},cfe=({cell:t,onClose:e,onSave:r})=>{var h,f,p,m;const[n,i]=T.useState(1),l=10*5,c=150,u=()=>{const x=t.ropeCount||l,g=Math.max(0,x-n),b=g===0;r({...t,filled:!b,ropeCount:g,spat:b?void 0:t.spat}),e()},d=x=>x*c;return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(be.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-96 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-1 text-cyan-500",children:"Récolter des cordes"}),a.jsx("div",{className:"text-xl text-white/90 mb-4",children:"Bouzigues"}),a.jsxs("div",{className:"text-sm text-white/70 mb-6",children:[a.jsx("div",{className:"mb-1",children:"Table A-12"}),a.jsx("div",{children:"Carré n°5"})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes à récolter"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:n,onChange:x=>i(Math.min(Math.max(1,Number(x.target.value)),t.ropeCount||l)),className:"flex-1 bg-black/20 rounded-lg p-3 border border-white/10 focus:border-[#22c55e]/30 focus:ring-2 focus:ring-[#22c55e]/20 transition-all duration-200",min:"1",max:t.ropeCount||l}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("button",{onClick:()=>i(x=>Math.min(x+1,t.ropeCount||l)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:a.jsx(mC,{size:16})}),a.jsx("button",{onClick:()=>i(x=>Math.max(1,x-1)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:a.jsx(Md,{size:16})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Numéro de lot :"})," ",a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-black/20 rounded-lg p-2 border border-white/10",children:a.jsx("span",{className:"text-white",children:((h=t.spat)==null?void 0:h.batchNumber)||Zx()})}),a.jsx("button",{onClick:()=>{const x=Zx();r({...t,spat:{...t.spat,batchNumber:x}})},className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:a.jsx(Xb,{size:14})})]})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Naissain à récolter :"})," ",a.jsx("span",{className:"text-white",children:"Marennes-Oléron"})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Cordes restantes après récolte :"})," ",a.jsx("span",{className:"text-white",children:(t.ropeCount||l)-n})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsx("span",{className:"font-medium",children:"Huîtres restantes après récolte :"})," ",a.jsx("span",{className:"text-white",children:d((t.ropeCount||l)-n)})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{var y;const x=new Date().toISOString(),g=(((y=t.exondation)==null?void 0:y.exondationCount)||0)+1,b={date:x,action:"Exondation",details:`Exondation #${g}`,type:"exondation"};r({...t,exondation:{startTime:x,isExonded:!0,exondationCount:g},history:[...t.history||[],b]}),setTimeout(()=>{var w;(w=t.exondation)!=null&&w.isExonded&&alert("⚠️ ATTENTION : Cette table est exondée depuis plus de 24 heures !")},24*60*60*1e3)},className:`px-4 py-2 rounded-lg ${(f=t.exondation)!=null&&f.isExonded?"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10 text-white/70"} transition-colors`,"aria-label":(p=t.exondation)!=null&&p.isExonded?"Table exondée":"Exonder",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(li,{size:16}),(m=t.exondation)!=null&&m.isExonded?"Exondé":"Exonder"]})}),a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),a.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors",children:"Récolter"})]})]})]})})},ufe=({table:t,onClose:e,onTableUpdate:r})=>{var D,F,k;const[n,i]=T.useState(null),[s,o]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[h,f]=T.useState(!1),[p,m]=T.useState(!1),[x,g]=T.useState("all"),[b,y]=T.useState([]);re.useEffect(()=>{if(t.id==="1"&&r){const O=[...t.cells];O[3]&&(O[3]={...O[3],filled:!0,ropeCount:7}),O[8]&&(O[8]={...O[8],filled:!0}),O[16]&&(O[16]={...O[16],filled:!0}),r({...t,cells:O})}},[t.id,r]);const w=(O,B)=>{var X;const L=new Date().toISOString(),W=(((X=t.exondation)==null?void 0:X.exondationCount)||0)+1,$={date:L,action:"Exondation",details:`Exondation #${W} - ${O==="all"?"Table complète":O==="right"?"Colonne droite":O==="left"?"Colonne gauche":"Cellules spécifiques"}`,type:"exondation"},z=[...t.cells];O==="all"?z.forEach(Y=>{Y.exondation={startTime:L,isExonded:!0,exondationCount:W}}):O==="right"?z.slice(50).forEach(Y=>{Y.exondation={startTime:L,isExonded:!0,exondationCount:W}}):O==="left"?z.slice(0,50).forEach(Y=>{Y.exondation={startTime:L,isExonded:!0,exondationCount:W}}):B&&B.forEach(Y=>{z[Y]&&(z[Y].exondation={startTime:L,isExonded:!0,exondationCount:W})}),r({...t,cells:z,history:[...t.history||[],$]}),setTimeout(()=>{z.filter(le=>{var fe;return(fe=le.exondation)==null?void 0:fe.isExonded}).length>0&&alert("⚠️ ATTENTION : Des huîtres sont exondées depuis plus de 24 heures !")},24*60*60*1e3),m(!1)},N=O=>{const B=[...t.cells],L=B.findIndex(W=>W.id===O.id);if(L!==-1){B[L]=O;const W={date:new Date().toISOString(),action:"Mise à jour cellule",spat:O.spat,details:`Cellule ${L+1} mise à jour avec ${O.ropeCount} cordes`};r({...t,cells:B,history:[...t.history,W]})}o(!1)},_=O=>{const B=[...t.cells],L=B.findIndex(W=>W.id===O.id);if(L!==-1){B[L]=O;const W={date:new Date().toISOString(),action:"Récolte de cordes",spat:O.spat,details:`Cellule ${L+1} récoltée`};r({...t,cells:B,history:[...t.history,W]})}f(!1)},S=O=>{const B=[...t.cells];for(let L=O;L<O+10;L++)B[L].filled||(B[L]={...B[L],filled:!0,ropeCount:10,spat:{name:"Naissain standard",dateAdded:new Date().toISOString()}});r({...t,cells:B,history:[...t.history,{date:new Date().toISOString(),action:"Remplissage colonne",details:`Colonne ${O===0?"gauche":"droite"} remplie`}]})},A=()=>{const O=[...t.history,{date:new Date().toISOString(),action:"Échantillonnage",details:"Contrôle de croissance effectué"}];r({...t,sampling:{...t.sampling,lastCheckDate:new Date().toISOString(),nextCheckDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),mortalityRate:Math.round(Math.random()*5),currentSize:Math.round(70+Math.random()*30).toString()},history:O}),d(!1)},E=O=>{i(O),O.filled?f(!0):o(!0)};return a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-40",onClick:O=>{O.target===O.currentTarget&&e()},children:a.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm p-8 rounded-xl w-[1000px] max-h-[90vh] overflow-y-auto border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent",children:["Table ",t.name]}),a.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[a.jsxs("span",{className:"text-lg",children:["Table n° ",t.tableNumber]}),a.jsx("span",{className:"text-gray-500",children:"•"}),a.jsx("span",{className:"text-lg",children:t.oysterType})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 text-cyan-300",children:"Informations générales"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(gl,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Température"})]}),a.jsxs("span",{className:"text-white font-medium",children:[t.temperature,"°C"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(li,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Salinité"})]}),a.jsxs("span",{className:"text-white font-medium",children:[t.salinity,"g/L"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(hi,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Dernière mise à jour"})]}),a.jsx("span",{className:"text-white font-medium",children:new Date(t.lastUpdate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Oi,{size:20,className:"text-cyan-400"}),a.jsx("span",{className:"text-gray-300",children:"Provenance naissain"})]}),a.jsx("span",{className:"text-white font-medium",children:"Marennes-Oléron"})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[a.jsx("h3",{className:"text-xl font-semibold mb-6 text-cyan-300",children:"Actions"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>m(!0),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg border transition-all duration-200 ${(D=t.exondation)!=null&&D.isExonded?"bg-orange-500/20 border-orange-500/30 hover:bg-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(li,{className:(F=t.exondation)!=null&&F.isExonded?"text-orange-400":"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:(k=t.exondation)!=null&&k.isExonded?"Exondé":"Exonder"})]})}),a.jsx("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(zI,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Échantillonnage"})]})}),a.jsx("button",{onClick:()=>S(10),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(pC,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Remplir colonne droite"})]})}),a.jsx("button",{onClick:()=>S(0),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(If,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Remplir colonne gauche"})]})}),a.jsx("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-700/50 hover:bg-gray-700 rounded-lg border border-white/5 transition-colors",children:a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(vl,{className:"text-cyan-400",size:20}),a.jsx("span",{className:"text-white",children:"Voir l'historique"})]})})]})]})]}),a.jsx("div",{className:"grid grid-cols-10 gap-1",children:t.cells.map((O,B)=>a.jsxs("div",{onClick:()=>E(O),className:`h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative backdrop-blur-sm ${O.filled?B===3?"bg-gradient-to-l from-cyan-500/40 to-transparent from-[87.5%] to-[87.5%] border-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[a.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40",children:B+1}),O.filled&&O.ropeCount&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white/70",children:O.ropeCount})})]},O.id))}),s&&n&&a.jsx(lfe,{cell:n,onClose:()=>o(!1),onSave:N}),h&&n&&a.jsx(cfe,{cell:n,onClose:()=>f(!1),onSave:_}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:O=>{O.target===O.currentTarget&&c(!1)},children:a.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm p-8 rounded-xl w-[600px] border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent",children:"Historique"}),a.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"space-y-4",children:t.history.map((O,B)=>a.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-400 font-medium",children:new Date(O.date).toLocaleDateString()}),a.jsx("span",{className:"text-gray-400 text-sm",children:O.action})]}),a.jsx("p",{className:"text-gray-300",children:O.details}),O.spat&&a.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Naissain : ",O.spat.name,O.spat.batchNumber&&` (Lot ${O.spat.batchNumber})`]})]},B))})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:O=>{O.target===O.currentTarget&&d(!1)},children:a.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm p-8 rounded-xl w-[600px] border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-cyan-200 bg-clip-text text-transparent",children:"Échantillonnage"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("p",{className:"text-gray-300",children:"Voulez-vous effectuer un contrôle d'échantillonnage sur cette table ?"}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-700 text-gray-300 transition-colors",children:"Annuler"}),a.jsx("button",{onClick:A,className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors",children:"Confirmer"})]})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:O=>{O.target===O.currentTarget&&m(!1)},children:a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] p-6 rounded-lg w-96 shadow-xl border border-white/10",onClick:O=>O.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-semibold text-cyan-500 mb-4",children:"Sélectionner la zone à exonder"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx("button",{onClick:()=>g("all"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="all"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Table complète"}),a.jsx("button",{onClick:()=>g("right"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="right"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Colonne droite"}),a.jsx("button",{onClick:()=>g("left"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="left"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Colonne gauche"}),a.jsx("button",{onClick:()=>g("custom"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${x==="custom"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Sélection personnalisée"})]}),x==="custom"&&a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"grid grid-cols-10 gap-1 mb-4",children:t.cells.map((O,B)=>a.jsx("div",{onClick:()=>{y(L=>L.includes(B)?L.filter(W=>W!==B):[...L,B])},className:`w-8 h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative ${b.includes(B)?"bg-cyan-500/50 border-cyan-400":B<3?"bg-white/5 border-white/10 hover:bg-white/10":B===3?"bg-cyan-500/20 border-cyan-500/30 hover:bg-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50"}`,children:a.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40 flex items-center justify-center relative",children:B+1})},O.id))}),a.jsx("p",{className:"text-white/70 text-sm",children:"Sélectionnez les cellules à exonder"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),a.jsx("button",{onClick:()=>{x==="custom"?w("custom",b):w(x)},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:"Confirmer"})]})]})})]})})};var z0=t=>t.type==="checkbox",cc=t=>t instanceof Date,ji=t=>t==null;const PP=t=>typeof t=="object";var tn=t=>!ji(t)&&!Array.isArray(t)&&PP(t)&&!cc(t),dfe=t=>tn(t)&&t.target?z0(t.target)?t.target.checked:t.target.value:t,hfe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ffe=(t,e)=>t.has(hfe(e)),pfe=t=>{const e=t.constructor&&t.constructor.prototype;return tn(e)&&e.hasOwnProperty("isPrototypeOf")},z5=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(z5&&(t instanceof Blob||n))&&(r||tn(t)))if(e=r?[]:{},!r&&!pfe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Yn(t[i]));else return t;return e}var U0=t=>Array.isArray(t)?t.filter(Boolean):[],Ir=t=>t===void 0,Ze=(t,e,r)=>{if(!e||!tn(t))return r;const n=U0(e.split(/[,[\].]+?/)).reduce((i,s)=>ji(i)?i:i[s],t);return Ir(n)||n===t?Ir(t[e])?r:t[e]:n},ws=t=>typeof t=="boolean",U5=t=>/^\w*$/.test(t),kP=t=>U0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),mr=(t,e,r)=>{let n=-1;const i=U5(e)?[e]:kP(e),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=t[l];c=tn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const _S={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ao={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mfe=re.createContext(null),xfe=()=>re.useContext(mfe);var gfe=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Sa.all&&(e._proxyFormState[o]=!n||Sa.all),t[o]}});return i},wi=t=>tn(t)&&!Object.keys(t).length,vfe=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return wi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Sa.all)},aa=t=>Array.isArray(t)?t:[t];function TP(t){const e=re.useRef(t);e.current=t,re.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Es=t=>typeof t=="string",bfe=(t,e,r,n,i)=>Es(t)?(n&&e.watch.add(t),Ze(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Ze(r,s))):(n&&(e.watchAll=!0),r),yfe=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Wo=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},nb=(t,e,r={})=>r.shouldFocus||Ir(r.shouldFocus)?r.focusName||`${t}.${Ir(r.focusIndex)?e:r.focusIndex}.`:"",jf=t=>({isOnSubmit:!t||t===Sa.onSubmit,isOnBlur:t===Sa.onBlur,isOnChange:t===Sa.onChange,isOnAll:t===Sa.all,isOnTouch:t===Sa.onTouched}),I2=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ed=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=Ze(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(ed(l,e))break}else if(tn(l)&&ed(l,e))break}}};var IP=(t,e,r)=>{const n=aa(Ze(t,r));return mr(n,"root",e[r]),mr(t,r,n),t},H5=t=>t.type==="file",Ss=t=>typeof t=="function",Qx=t=>{if(!z5)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rm=t=>Es(t),q5=t=>t.type==="radio",e1=t=>t instanceof RegExp;const SS={value:!1,isValid:!1},AS={value:!0,isValid:!0};var DP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ir(t[0].attributes.value)?Ir(t[0].value)||t[0].value===""?AS:{value:t[0].value,isValid:!0}:AS:SS}return SS};const CS={isValid:!1,value:null};var MP=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,CS):CS;function ES(t,e,r="validate"){if(Rm(t)||Array.isArray(t)&&t.every(Rm)||ws(t)&&!t)return{type:r,message:Rm(t)?t:"",ref:e}}var _u=t=>tn(t)&&!e1(t)?t:{value:t,message:""},D2=async(t,e,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:x,valueAsNumber:g,mount:b}=t._f,y=Ze(r,x);if(!b||e.has(x))return{};const w=l?l[0]:o,N=O=>{i&&w.reportValidity&&(w.setCustomValidity(ws(O)?"":O||""),w.reportValidity())},_={},S=q5(o),A=z0(o),E=S||A,D=(g||H5(o))&&Ir(o.value)&&Ir(y)||Qx(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,F=yfe.bind(null,x,n,_),k=(O,B,L,W=ao.maxLength,$=ao.minLength)=>{const z=O?B:L;_[x]={type:O?W:$,message:z,ref:o,...F(O?W:$,z)}};if(s?!Array.isArray(y)||!y.length:c&&(!E&&(D||ji(y))||ws(y)&&!y||A&&!DP(l).isValid||S&&!MP(l).isValid)){const{value:O,message:B}=Rm(c)?{value:!!c,message:c}:_u(c);if(O&&(_[x]={type:ao.required,message:B,ref:w,...F(ao.required,B)},!n))return N(B),_}if(!D&&(!ji(h)||!ji(f))){let O,B;const L=_u(f),W=_u(h);if(!ji(y)&&!isNaN(y)){const $=o.valueAsNumber||y&&+y;ji(L.value)||(O=$>L.value),ji(W.value)||(B=$<W.value)}else{const $=o.valueAsDate||new Date(y),z=le=>new Date(new Date().toDateString()+" "+le),X=o.type=="time",Y=o.type=="week";Es(L.value)&&y&&(O=X?z(y)>z(L.value):Y?y>L.value:$>new Date(L.value)),Es(W.value)&&y&&(B=X?z(y)<z(W.value):Y?y<W.value:$<new Date(W.value))}if((O||B)&&(k(!!O,L.message,W.message,ao.max,ao.min),!n))return N(_[x].message),_}if((u||d)&&!D&&(Es(y)||s&&Array.isArray(y))){const O=_u(u),B=_u(d),L=!ji(O.value)&&y.length>+O.value,W=!ji(B.value)&&y.length<+B.value;if((L||W)&&(k(L,O.message,B.message),!n))return N(_[x].message),_}if(p&&!D&&Es(y)){const{value:O,message:B}=_u(p);if(e1(O)&&!y.match(O)&&(_[x]={type:ao.pattern,message:B,ref:o,...F(ao.pattern,B)},!n))return N(B),_}if(m){if(Ss(m)){const O=await m(y,r),B=ES(O,w);if(B&&(_[x]={...B,...F(ao.validate,B.message)},!n))return N(B.message),_}else if(tn(m)){let O={};for(const B in m){if(!wi(O)&&!n)break;const L=ES(await m[B](y,r),w,B);L&&(O={...L,...F(B,L.message)},N(L.message),n&&(_[x]=O))}if(!wi(O)&&(_[x]={ref:w,...O},!n))return _}}return N(!0),_},ib=(t,e)=>[...t,...aa(e)],ab=t=>Array.isArray(t)?t.map(()=>{}):void 0;function sb(t,e,r){return[...t.slice(0,e),...aa(r),...t.slice(e)]}var ob=(t,e,r)=>Array.isArray(t)?(Ir(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],lb=(t,e)=>[...aa(e),...aa(t)];function wfe(t,e){let r=0;const n=[...t];for(const i of e)n.splice(i-r,1),r++;return U0(n).length?n:[]}var cb=(t,e)=>Ir(e)?[]:wfe(t,aa(e).sort((r,n)=>r-n)),ub=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]};function jfe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ir(t)?n++:t[e[n++]];return t}function Nfe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ir(t[e]))return!1;return!0}function ln(t,e){const r=Array.isArray(e)?e:U5(e)?[e]:kP(e),n=r.length===1?t:jfe(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(tn(n)&&wi(n)||Array.isArray(n)&&Nfe(n))&&ln(t,r.slice(0,-1)),t}var OS=(t,e,r)=>(t[e]=r,t);function _fe(t){const e=xfe(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:s,rules:o}=t,[l,c]=re.useState(r._getFieldArray(n)),u=re.useRef(r._getFieldArray(n).map(Wo)),d=re.useRef(l),h=re.useRef(n),f=re.useRef(!1);h.current=n,d.current=l,r._names.array.add(n),o&&r.register(n,o),TP({next:({values:S,name:A})=>{if(A===h.current||!A){const E=Ze(S,h.current);Array.isArray(E)&&(c(E),u.current=E.map(Wo))}},subject:r._subjects.array});const p=re.useCallback(S=>{f.current=!0,r._updateFieldArray(n,S)},[r,n]),m=(S,A)=>{const E=aa(Yn(S)),D=ib(r._getFieldArray(n),E);r._names.focus=nb(n,D.length-1,A),u.current=ib(u.current,E.map(Wo)),p(D),c(D),r._updateFieldArray(n,D,ib,{argA:ab(S)})},x=(S,A)=>{const E=aa(Yn(S)),D=lb(r._getFieldArray(n),E);r._names.focus=nb(n,0,A),u.current=lb(u.current,E.map(Wo)),p(D),c(D),r._updateFieldArray(n,D,lb,{argA:ab(S)})},g=S=>{const A=cb(r._getFieldArray(n),S);u.current=cb(u.current,S),p(A),c(A),!Array.isArray(Ze(r._fields,n))&&mr(r._fields,n,void 0),r._updateFieldArray(n,A,cb,{argA:S})},b=(S,A,E)=>{const D=aa(Yn(A)),F=sb(r._getFieldArray(n),S,D);r._names.focus=nb(n,S,E),u.current=sb(u.current,S,D.map(Wo)),p(F),c(F),r._updateFieldArray(n,F,sb,{argA:S,argB:ab(A)})},y=(S,A)=>{const E=r._getFieldArray(n);ub(E,S,A),ub(u.current,S,A),p(E),c(E),r._updateFieldArray(n,E,ub,{argA:S,argB:A},!1)},w=(S,A)=>{const E=r._getFieldArray(n);ob(E,S,A),ob(u.current,S,A),p(E),c(E),r._updateFieldArray(n,E,ob,{argA:S,argB:A},!1)},N=(S,A)=>{const E=Yn(A),D=OS(r._getFieldArray(n),S,E);u.current=[...D].map((F,k)=>!F||k===S?Wo():u.current[k]),p(D),c([...D]),r._updateFieldArray(n,D,OS,{argA:S,argB:E},!0,!1)},_=S=>{const A=aa(Yn(S));u.current=A.map(Wo),p([...A]),c([...A]),r._updateFieldArray(n,[...A],E=>E,{},!0,!1)};return re.useEffect(()=>{if(r._state.action=!1,I2(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!jf(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(S=>{const A=Ze(S.errors,n),E=Ze(r._formState.errors,n);(E?!A&&E.type||A&&(E.type!==A.type||E.message!==A.message):A&&A.type)&&(A?mr(r._formState.errors,n,A):ln(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const S=Ze(r._fields,n);S&&S._f&&!(jf(r._options.reValidateMode).isOnSubmit&&jf(r._options.mode).isOnSubmit)&&D2(S,r._names.disabled,r._formValues,r._options.criteriaMode===Sa.all,r._options.shouldUseNativeValidation,!0).then(A=>!wi(A)&&r._subjects.state.next({errors:IP(r._formState.errors,A,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&ed(r._fields,(S,A)=>{if(r._names.focus&&A.startsWith(r._names.focus)&&S.focus)return S.focus(),1}),r._names.focus="",r._updateValid(),f.current=!1},[l,n,r]),re.useEffect(()=>(!Ze(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||s)&&r.unregister(n)}),[n,r,i,s]),{swap:re.useCallback(y,[p,n,r]),move:re.useCallback(w,[p,n,r]),prepend:re.useCallback(x,[p,n,r]),append:re.useCallback(m,[p,n,r]),remove:re.useCallback(g,[p,n,r]),insert:re.useCallback(b,[p,n,r]),update:re.useCallback(N,[p,n,r]),replace:re.useCallback(_,[p,n,r]),fields:re.useMemo(()=>l.map((S,A)=>({...S,[i]:u.current[A]||Wo()})),[l,i])}}var db=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},M2=t=>ji(t)||!PP(t);function ol(t,e){if(M2(t)||M2(e))return t===e;if(cc(t)&&cc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(cc(s)&&cc(o)||tn(s)&&tn(o)||Array.isArray(s)&&Array.isArray(o)?!ol(s,o):s!==o)return!1}}return!0}var LP=t=>t.type==="select-multiple",Sfe=t=>q5(t)||z0(t),hb=t=>Qx(t)&&t.isConnected,RP=t=>{for(const e in t)if(Ss(t[e]))return!0;return!1};function t1(t,e={}){const r=Array.isArray(t);if(tn(t)||r)for(const n in t)Array.isArray(t[n])||tn(t[n])&&!RP(t[n])?(e[n]=Array.isArray(t[n])?[]:{},t1(t[n],e[n])):ji(t[n])||(e[n]=!0);return e}function FP(t,e,r){const n=Array.isArray(t);if(tn(t)||n)for(const i in t)Array.isArray(t[i])||tn(t[i])&&!RP(t[i])?Ir(e)||M2(r[i])?r[i]=Array.isArray(t[i])?t1(t[i],[]):{...t1(t[i])}:FP(t[i],ji(e)?{}:e[i],r[i]):r[i]=!ol(t[i],e[i]);return r}var Yh=(t,e)=>FP(t,e,t1(e)),BP=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ir(t)?t:e?t===""?NaN:t&&+t:r&&Es(t)?new Date(t):n?n(t):t;function fb(t){const e=t.ref;return H5(e)?e.files:q5(e)?MP(t.refs).value:LP(e)?[...e.selectedOptions].map(({value:r})=>r):z0(e)?DP(t.refs).value:BP(Ir(e.value)?t.ref.value:e.value,t)}var Afe=(t,e,r,n)=>{const i={};for(const s of t){const o=Ze(e,s);o&&mr(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Kh=t=>Ir(t)?t:e1(t)?t.source:tn(t)?e1(t.value)?t.value.source:t.value:t;const PS="AsyncFunction";var Cfe=t=>!!t&&!!t.validate&&!!(Ss(t.validate)&&t.validate.constructor.name===PS||tn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===PS)),Efe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function kS(t,e,r){const n=Ze(t,r);if(n||U5(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=Ze(e,s),l=Ze(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:r}}var Ofe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Pfe=(t,e)=>!U0(Ze(t,e)).length&&ln(t,e);const kfe={mode:Sa.onSubmit,reValidateMode:Sa.onChange,shouldFocusError:!0};function Tfe(t={}){let e={...kfe,...t},r={submitCount:0,isDirty:!1,isLoading:Ss(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=tn(e.defaultValues)||tn(e.values)?Yn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Yn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:db(),array:db(),state:db()},f=jf(e.mode),p=jf(e.reValidateMode),m=e.criteriaMode===Sa.all,x=ee=>ne=>{clearTimeout(u),u=setTimeout(ee,ne)},g=async ee=>{if(!e.disabled&&(d.isValid||ee)){const ne=e.resolver?wi((await E()).errors):await F(n,!0);ne!==r.isValid&&h.state.next({isValid:ne})}},b=(ee,ne)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((ee||Array.from(l.mount)).forEach(ce=>{ce&&(ne?mr(r.validatingFields,ce,ne):ln(r.validatingFields,ce))}),h.state.next({validatingFields:r.validatingFields,isValidating:!wi(r.validatingFields)}))},y=(ee,ne=[],ce,_e,je=!0,me=!0)=>{if(_e&&ce&&!e.disabled){if(o.action=!0,me&&Array.isArray(Ze(n,ee))){const Le=ce(Ze(n,ee),_e.argA,_e.argB);je&&mr(n,ee,Le)}if(me&&Array.isArray(Ze(r.errors,ee))){const Le=ce(Ze(r.errors,ee),_e.argA,_e.argB);je&&mr(r.errors,ee,Le),Pfe(r.errors,ee)}if(d.touchedFields&&me&&Array.isArray(Ze(r.touchedFields,ee))){const Le=ce(Ze(r.touchedFields,ee),_e.argA,_e.argB);je&&mr(r.touchedFields,ee,Le)}d.dirtyFields&&(r.dirtyFields=Yh(i,s)),h.state.next({name:ee,isDirty:O(ee,ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mr(s,ee,ne)},w=(ee,ne)=>{mr(r.errors,ee,ne),h.state.next({errors:r.errors})},N=ee=>{r.errors=ee,h.state.next({errors:r.errors,isValid:!1})},_=(ee,ne,ce,_e)=>{const je=Ze(n,ee);if(je){const me=Ze(s,ee,Ir(ce)?Ze(i,ee):ce);Ir(me)||_e&&_e.defaultChecked||ne?mr(s,ee,ne?me:fb(je._f)):W(ee,me),o.mount&&g()}},S=(ee,ne,ce,_e,je)=>{let me=!1,Le=!1;const He={name:ee};if(!e.disabled){const Ke=!!(Ze(n,ee)&&Ze(n,ee)._f&&Ze(n,ee)._f.disabled);if(!ce||_e){d.isDirty&&(Le=r.isDirty,r.isDirty=He.isDirty=O(),me=Le!==He.isDirty);const it=Ke||ol(Ze(i,ee),ne);Le=!!(!Ke&&Ze(r.dirtyFields,ee)),it||Ke?ln(r.dirtyFields,ee):mr(r.dirtyFields,ee,!0),He.dirtyFields=r.dirtyFields,me=me||d.dirtyFields&&Le!==!it}if(ce){const it=Ze(r.touchedFields,ee);it||(mr(r.touchedFields,ee,ce),He.touchedFields=r.touchedFields,me=me||d.touchedFields&&it!==ce)}me&&je&&h.state.next(He)}return me?He:{}},A=(ee,ne,ce,_e)=>{const je=Ze(r.errors,ee),me=d.isValid&&ws(ne)&&r.isValid!==ne;if(e.delayError&&ce?(c=x(()=>w(ee,ce)),c(e.delayError)):(clearTimeout(u),c=null,ce?mr(r.errors,ee,ce):ln(r.errors,ee)),(ce?!ol(je,ce):je)||!wi(_e)||me){const Le={..._e,...me&&ws(ne)?{isValid:ne}:{},errors:r.errors,name:ee};r={...r,...Le},h.state.next(Le)}},E=async ee=>{b(ee,!0);const ne=await e.resolver(s,e.context,Afe(ee||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(ee),ne},D=async ee=>{const{errors:ne}=await E(ee);if(ee)for(const ce of ee){const _e=Ze(ne,ce);_e?mr(r.errors,ce,_e):ln(r.errors,ce)}else r.errors=ne;return ne},F=async(ee,ne,ce={valid:!0})=>{for(const _e in ee){const je=ee[_e];if(je){const{_f:me,...Le}=je;if(me){const He=l.array.has(me.name),Ke=je._f&&Cfe(je._f);Ke&&d.validatingFields&&b([_e],!0);const it=await D2(je,l.disabled,s,m,e.shouldUseNativeValidation&&!ne,He);if(Ke&&d.validatingFields&&b([_e]),it[me.name]&&(ce.valid=!1,ne))break;!ne&&(Ze(it,me.name)?He?IP(r.errors,it,me.name):mr(r.errors,me.name,it[me.name]):ln(r.errors,me.name))}!wi(Le)&&await F(Le,ne,ce)}}return ce.valid},k=()=>{for(const ee of l.unMount){const ne=Ze(n,ee);ne&&(ne._f.refs?ne._f.refs.every(ce=>!hb(ce)):!hb(ne._f.ref))&&J(ee)}l.unMount=new Set},O=(ee,ne)=>!e.disabled&&(ee&&ne&&mr(s,ee,ne),!ol(fe(),i)),B=(ee,ne,ce)=>bfe(ee,l,{...o.mount?s:Ir(ne)?i:Es(ee)?{[ee]:ne}:ne},ce,ne),L=ee=>U0(Ze(o.mount?s:i,ee,e.shouldUnregister?Ze(i,ee,[]):[])),W=(ee,ne,ce={})=>{const _e=Ze(n,ee);let je=ne;if(_e){const me=_e._f;me&&(!me.disabled&&mr(s,ee,BP(ne,me)),je=Qx(me.ref)&&ji(ne)?"":ne,LP(me.ref)?[...me.ref.options].forEach(Le=>Le.selected=je.includes(Le.value)):me.refs?z0(me.ref)?me.refs.length>1?me.refs.forEach(Le=>(!Le.defaultChecked||!Le.disabled)&&(Le.checked=Array.isArray(je)?!!je.find(He=>He===Le.value):je===Le.value)):me.refs[0]&&(me.refs[0].checked=!!je):me.refs.forEach(Le=>Le.checked=Le.value===je):H5(me.ref)?me.ref.value="":(me.ref.value=je,me.ref.type||h.values.next({name:ee,values:{...s}})))}(ce.shouldDirty||ce.shouldTouch)&&S(ee,je,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&le(ee)},$=(ee,ne,ce)=>{for(const _e in ne){const je=ne[_e],me=`${ee}.${_e}`,Le=Ze(n,me);(l.array.has(ee)||tn(je)||Le&&!Le._f)&&!cc(je)?$(me,je,ce):W(me,je,ce)}},z=(ee,ne,ce={})=>{const _e=Ze(n,ee),je=l.array.has(ee),me=Yn(ne);mr(s,ee,me),je?(h.array.next({name:ee,values:{...s}}),(d.isDirty||d.dirtyFields)&&ce.shouldDirty&&h.state.next({name:ee,dirtyFields:Yh(i,s),isDirty:O(ee,me)})):_e&&!_e._f&&!ji(me)?$(ee,me,ce):W(ee,me,ce),I2(ee,l)&&h.state.next({...r}),h.values.next({name:o.mount?ee:void 0,values:{...s}})},X=async ee=>{o.mount=!0;const ne=ee.target;let ce=ne.name,_e=!0;const je=Ze(n,ce),me=()=>ne.type?fb(je._f):dfe(ee),Le=He=>{_e=Number.isNaN(He)||cc(He)&&isNaN(He.getTime())||ol(He,Ze(s,ce,He))};if(je){let He,Ke;const it=me(),jt=ee.type===_S.BLUR||ee.type===_S.FOCUS_OUT,dt=!Efe(je._f)&&!e.resolver&&!Ze(r.errors,ce)&&!je._f.deps||Ofe(jt,Ze(r.touchedFields,ce),r.isSubmitted,p,f),At=I2(ce,l,jt);mr(s,ce,it),jt?(je._f.onBlur&&je._f.onBlur(ee),c&&c(0)):je._f.onChange&&je._f.onChange(ee);const Ge=S(ce,it,jt,!1),On=!wi(Ge)||At;if(!jt&&h.values.next({name:ce,type:ee.type,values:{...s}}),dt)return d.isValid&&(e.mode==="onBlur"&&jt?g():jt||g()),On&&h.state.next({name:ce,...At?{}:Ge});if(!jt&&At&&h.state.next({...r}),e.resolver){const{errors:Rt}=await E([ce]);if(Le(it),_e){const Gi=kS(r.errors,n,ce),Jt=kS(Rt,n,Gi.name||ce);He=Jt.error,ce=Jt.name,Ke=wi(Rt)}}else b([ce],!0),He=(await D2(je,l.disabled,s,m,e.shouldUseNativeValidation))[ce],b([ce]),Le(it),_e&&(He?Ke=!1:d.isValid&&(Ke=await F(n,!0)));_e&&(je._f.deps&&le(je._f.deps),A(ce,Ke,He,Ge))}},Y=(ee,ne)=>{if(Ze(r.errors,ne)&&ee.focus)return ee.focus(),1},le=async(ee,ne={})=>{let ce,_e;const je=aa(ee);if(e.resolver){const me=await D(Ir(ee)?ee:je);ce=wi(me),_e=ee?!je.some(Le=>Ze(me,Le)):ce}else ee?(_e=(await Promise.all(je.map(async me=>{const Le=Ze(n,me);return await F(Le&&Le._f?{[me]:Le}:Le)}))).every(Boolean),!(!_e&&!r.isValid)&&g()):_e=ce=await F(n);return h.state.next({...!Es(ee)||d.isValid&&ce!==r.isValid?{}:{name:ee},...e.resolver||!ee?{isValid:ce}:{},errors:r.errors}),ne.shouldFocus&&!_e&&ed(n,Y,ee?je:l.mount),_e},fe=ee=>{const ne={...o.mount?s:i};return Ir(ee)?ne:Es(ee)?Ze(ne,ee):ee.map(ce=>Ze(ne,ce))},R=(ee,ne)=>({invalid:!!Ze((ne||r).errors,ee),isDirty:!!Ze((ne||r).dirtyFields,ee),error:Ze((ne||r).errors,ee),isValidating:!!Ze(r.validatingFields,ee),isTouched:!!Ze((ne||r).touchedFields,ee)}),I=ee=>{ee&&aa(ee).forEach(ne=>ln(r.errors,ne)),h.state.next({errors:ee?r.errors:{}})},q=(ee,ne,ce)=>{const _e=(Ze(n,ee,{_f:{}})._f||{}).ref,je=Ze(r.errors,ee)||{},{ref:me,message:Le,type:He,...Ke}=je;mr(r.errors,ee,{...Ke,...ne,ref:_e}),h.state.next({name:ee,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&_e&&_e.focus&&_e.focus()},Q=(ee,ne)=>Ss(ee)?h.values.subscribe({next:ce=>ee(B(void 0,ne),ce)}):B(ee,ne,!0),J=(ee,ne={})=>{for(const ce of ee?aa(ee):l.mount)l.mount.delete(ce),l.array.delete(ce),ne.keepValue||(ln(n,ce),ln(s,ce)),!ne.keepError&&ln(r.errors,ce),!ne.keepDirty&&ln(r.dirtyFields,ce),!ne.keepTouched&&ln(r.touchedFields,ce),!ne.keepIsValidating&&ln(r.validatingFields,ce),!e.shouldUnregister&&!ne.keepDefaultValue&&ln(i,ce);h.values.next({values:{...s}}),h.state.next({...r,...ne.keepDirty?{isDirty:O()}:{}}),!ne.keepIsValid&&g()},de=({disabled:ee,name:ne,field:ce,fields:_e})=>{(ws(ee)&&o.mount||ee||l.disabled.has(ne))&&(ee?l.disabled.add(ne):l.disabled.delete(ne),S(ne,fb(ce?ce._f:Ze(_e,ne)._f),!1,!1,!0))},ve=(ee,ne={})=>{let ce=Ze(n,ee);const _e=ws(ne.disabled)||ws(e.disabled);return mr(n,ee,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:ee}},name:ee,mount:!0,...ne}}),l.mount.add(ee),ce?de({field:ce,disabled:ws(ne.disabled)?ne.disabled:e.disabled,name:ee}):_(ee,!0,ne.value),{..._e?{disabled:ne.disabled||e.disabled}:{},...e.progressive?{required:!!ne.required,min:Kh(ne.min),max:Kh(ne.max),minLength:Kh(ne.minLength),maxLength:Kh(ne.maxLength),pattern:Kh(ne.pattern)}:{},name:ee,onChange:X,onBlur:X,ref:je=>{if(je){ve(ee,ne),ce=Ze(n,ee);const me=Ir(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Le=Sfe(me),He=ce._f.refs||[];if(Le?He.find(Ke=>Ke===me):me===ce._f.ref)return;mr(n,ee,{_f:{...ce._f,...Le?{refs:[...He.filter(hb),me,...Array.isArray(Ze(i,ee))?[{}]:[]],ref:{type:me.type,name:ee}}:{ref:me}}}),_(ee,!1,void 0,me)}else ce=Ze(n,ee,{}),ce._f&&(ce._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(ffe(l.array,ee)&&o.action)&&l.unMount.add(ee)}}},ue=()=>e.shouldFocusError&&ed(n,Y,l.mount),Oe=ee=>{ws(ee)&&(h.state.next({disabled:ee}),ed(n,(ne,ce)=>{const _e=Ze(n,ce);_e&&(ne.disabled=_e._f.disabled||ee,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(je=>{je.disabled=_e._f.disabled||ee}))},0,!1))},Ee=(ee,ne)=>async ce=>{let _e;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let je=Yn(s);if(l.disabled.size)for(const me of l.disabled)mr(je,me,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:Le}=await E();r.errors=me,je=Le}else await F(n);if(ln(r.errors,"root"),wi(r.errors)){h.state.next({errors:{}});try{await ee(je,ce)}catch(me){_e=me}}else ne&&await ne({...r.errors},ce),ue(),setTimeout(ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wi(r.errors)&&!_e,submitCount:r.submitCount+1,errors:r.errors}),_e)throw _e},ae=(ee,ne={})=>{Ze(n,ee)&&(Ir(ne.defaultValue)?z(ee,Yn(Ze(i,ee))):(z(ee,ne.defaultValue),mr(i,ee,Yn(ne.defaultValue))),ne.keepTouched||ln(r.touchedFields,ee),ne.keepDirty||(ln(r.dirtyFields,ee),r.isDirty=ne.defaultValue?O(ee,Yn(Ze(i,ee))):O()),ne.keepError||(ln(r.errors,ee),d.isValid&&g()),h.state.next({...r}))},Pe=(ee,ne={})=>{const ce=ee?Yn(ee):i,_e=Yn(ce),je=wi(ee),me=je?i:_e;if(ne.keepDefaultValues||(i=ce),!ne.keepValues){if(ne.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys(Yh(i,s))]);for(const He of Array.from(Le))Ze(r.dirtyFields,He)?mr(me,He,Ze(s,He)):z(He,Ze(me,He))}else{if(z5&&Ir(ee))for(const Le of l.mount){const He=Ze(n,Le);if(He&&He._f){const Ke=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(Qx(Ke)){const it=Ke.closest("form");if(it){it.reset();break}}}}n={}}s=e.shouldUnregister?ne.keepDefaultValues?Yn(i):{}:Yn(me),h.array.next({values:{...me}}),h.values.next({values:{...me}})}l={mount:ne.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:ne.keepSubmitCount?r.submitCount:0,isDirty:je?!1:ne.keepDirty?r.isDirty:!!(ne.keepDefaultValues&&!ol(ee,i)),isSubmitted:ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:ne.keepDirtyValues?ne.keepDefaultValues&&s?Yh(i,s):r.dirtyFields:ne.keepDefaultValues&&ee?Yh(i,ee):ne.keepDirty?r.dirtyFields:{},touchedFields:ne.keepTouched?r.touchedFields:{},errors:ne.keepErrors?r.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},De=(ee,ne)=>Pe(Ss(ee)?ee(s):ee,ne);return{control:{register:ve,unregister:J,getFieldState:R,handleSubmit:Ee,setError:q,_executeSchema:E,_getWatch:B,_getDirty:O,_updateValid:g,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:de,_getFieldArray:L,_reset:Pe,_resetDefaultValues:()=>Ss(e.defaultValues)&&e.defaultValues().then(ee=>{De(ee,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:ee=>{r={...r,...ee}},_disableForm:Oe,_subjects:h,_proxyFormState:d,_setErrors:N,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ee){o=ee},get _defaultValues(){return i},get _names(){return l},set _names(ee){l=ee},get _formState(){return r},set _formState(ee){r=ee},get _options(){return e},set _options(ee){e={...e,...ee}}},trigger:le,register:ve,handleSubmit:Ee,watch:Q,setValue:z,getValues:fe,reset:De,resetField:ae,clearErrors:I,unregister:J,setError:q,setFocus:(ee,ne={})=>{const ce=Ze(n,ee),_e=ce&&ce._f;if(_e){const je=_e.refs?_e.refs[0]:_e.ref;je.focus&&(je.focus(),ne.shouldSelect&&Ss(je.select)&&je.select())}},getFieldState:R}}function rh(t={}){const e=re.useRef(void 0),r=re.useRef(void 0),[n,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:Ss(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ss(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Tfe(t),formState:n});const s=e.current.control;return s._options=t,TP({subject:s._subjects.state,next:o=>{vfe(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),re.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),re.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),re.useEffect(()=>{t.values&&!ol(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),re.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),re.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),re.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=gfe(n,s),e.current}function Ife({isOpen:t,onClose:e}){const{register:r,handleSubmit:n,formState:{errors:i}}=rh(),s=o=>{console.log(o),e()};return a.jsx(oa,{isOpen:t,onClose:e,title:"Nouvel Article",size:"xl",children:a.jsxs("form",{onSubmit:n(s),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),a.jsx("input",{...r("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.name&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),a.jsx("input",{...r("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.sku&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.sku.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{...r("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),a.jsxs("select",{...r("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"huitres",children:"Huîtres"}),a.jsx("option",{value:"materiels",children:"Matériels"}),a.jsx("option",{value:"emballages",children:"Emballages"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),a.jsxs("select",{...r("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"douzaines",children:"Douzaines"}),a.jsx("option",{value:"unites",children:"Unités"}),a.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),a.jsx("input",{type:"number",...r("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),a.jsx("input",{type:"number",...r("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),a.jsx("input",{type:"number",...r("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),a.jsx("input",{type:"number",step:"0.01",...r("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),a.jsx("input",{type:"number",step:"0.01",...r("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),a.jsx("input",{...r("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),a.jsxs("select",{...r("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[a.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),a.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),a.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const Dfe=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],Mfe=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],Lfe=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function Rfe({isOpen:t,onClose:e,onApplyFilters:r}){const[n,i]=re.useState([]),[s,o]=re.useState([]),[l,c]=re.useState([]),[u,d]=re.useState({min:"",max:""}),h=()=>{r({categories:n,locations:s,status:l,priceRange:u}),e()},f=()=>{i([]),o([]),c([]),d({min:"",max:""})};return a.jsx(oa,{isOpen:t,onClose:e,title:"Filtres avancés",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Dfe.map(p=>a.jsx("button",{onClick:()=>{i(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Mfe.map(p=>a.jsx("button",{onClick:()=>{o(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${s.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Lfe.map(p=>a.jsx("button",{onClick:()=>{c(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${l.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),a.jsx("input",{type:"number",value:u.min,onChange:p=>d({...u,min:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),a.jsx("input",{type:"number",value:u.max,onChange:p=>d({...u,max:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsx("button",{onClick:f,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:h,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}const TS=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],Ffe=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function Bfe(){const[t,e]=T.useState(null),[r,n]=T.useState(0),[i,s]=T.useState(null),[o,l]=T.useState(null),[c,u]=T.useState(!1),[d,h]=T.useState(0),[f,p]=T.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),m=N=>{const _=parseInt(N,10);!isNaN(_)&&_>=0&&n(_)},x=()=>t&&r?(t.price*r).toFixed(2):"0.00",g=N=>{switch(N){case"moules":return a.jsx(bn,{className:"w-4 h-4"});case"palourdes":return a.jsx(gC,{className:"w-4 h-4"});default:return a.jsx(ui,{className:"w-4 h-4"})}},b=()=>{console.log("Commande confirmée:",{product:t==null?void 0:t.name,quantity:r,total:x()}),e(null),n(0)},y=N=>{var S;const _=(S=N.target.files)==null?void 0:S[0];_&&p(A=>({...A,invoice:_}))},w=N=>{N.preventDefault(),console.log("Nouveau achat:",{...f,rating:d}),u(!1),p({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),h(0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),a.jsxs(qt,{onClick:()=>u(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[a.jsx(Dt,{className:"w-4 h-4"}),"Nouvel achat"]})]}),a.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:Ffe.map(N=>a.jsxs(wf,{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),a.jsx("div",{className:"relative p-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kf,{className:"w-5 h-5 text-brand-burgundy"}),a.jsx("h3",{className:"text-base font-medium text-white",children:N.name})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm text-white/60",children:N.address}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[a.jsx(Ei,{className:"w-4 h-4"}),N.contact]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",N.reliability,"%"]}),a.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",N.lastDelivery]})]})]})})})]},N.id))}),o==="CDB"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),a.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),a.jsxs(qt,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(Dt,{className:"w-4 h-4"}),"Nouveau produit"]})]}),a.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:TS.map(N=>a.jsxs(wf,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(t==null?void 0:t.id)===N.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>e(N),children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),a.jsxs("div",{className:"relative p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-base font-medium text-white",children:N.name}),a.jsx("p",{className:"text-sm text-white/60",children:N.description})]}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[g(N.type),a.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:N.type})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nd,{className:"w-4 h-4 text-white/40"}),a.jsx("span",{className:"text-sm text-white",children:N.origin})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(UI,{className:"w-4 h-4 text-white/40"}),a.jsxs("span",{className:"text-sm text-white",children:[N.price,"€/",N.unit]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mw,{className:"w-4 h-4 text-white/40"}),a.jsxs("span",{className:"text-sm text-white",children:["Min. ",N.minOrder,N.unit]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(HI,{className:"w-4 h-4 text-white/40"}),a.jsx("span",{className:"text-sm text-white",children:N.calibre})]})]}),N.certification&&a.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:N.certification.map((_,S)=>a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:_},S))})]})]},N.id))})]}),t&&a.jsxs(wf,{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),a.jsx("div",{className:"relative p-4",children:a.jsx("div",{className:"flex items-start gap-4",children:a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",t.name]}),a.jsx(qt,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>s(t.id),children:a.jsx(Tf,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",t.unit,")"]}),a.jsx(xt,{type:"number",value:r,onChange:N=>m(N.target.value),min:0,className:"bg-white/5 border-white/10"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),a.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:a.jsxs("span",{className:"text-white font-medium",children:[x(),"€"]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",t.minOrder,t.unit]}),a.jsx(qt,{variant:"default",size:"sm",disabled:r<t.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:b,children:"Confirmer la commande"})]})]})})})]}),i&&a.jsx(Kx,{open:!!i,children:a.jsxs(x0,{children:[a.jsx(g0,{children:a.jsx(v0,{children:"Détails du produit"})}),(()=>{var _;const N=TS.find(S=>S.id===i);return N?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:g(N.type)}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white",children:N.name}),a.jsx("p",{className:"text-sm text-white/60",children:N.description})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),a.jsx("span",{className:"text-sm text-white",children:N.calibre})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),a.jsx("span",{className:"text-sm text-white",children:N.conservation})]})]})]}),a.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(_=N.certification)==null?void 0:_.map((S,A)=>a.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:S},A))})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(qt,{variant:"outline",onClick:()=>s(null),children:"Fermer"})})]}):null})()]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:a.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:a.jsx(vt,{className:"text-white/60",size:20})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),a.jsx(xt,{type:"text",value:f.supplier,onChange:N=>p(_=>({..._,supplier:N.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),a.jsx(xt,{type:"text",value:f.product,onChange:N=>p(_=>({..._,product:N.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),a.jsx(xt,{type:"date",value:f.expiryDate,onChange:N=>p(_=>({..._,expiryDate:N.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),a.jsxs("select",{value:f.storageLocation,onChange:N=>p(_=>({..._,storageLocation:N.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),a.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),a.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),a.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),a.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),a.jsx("option",{value:"Remise",children:"Remise"}),a.jsx("option",{value:"Cave",children:"Cave"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),a.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(N=>a.jsx("button",{type:"button",onClick:()=>h(N),className:"focus:outline-none",children:a.jsx(Pa,{size:24,className:N<=d?"text-yellow-400 fill-yellow-400":"text-white/20"})},N))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:y,className:"hidden"}),a.jsx(rs,{className:"w-5 h-5 text-white/60 mr-2"}),a.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),a.jsxs(qt,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[a.jsx(Oc,{className:"w-4 h-4"}),"Photo"]}),a.jsxs(qt,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[a.jsx(xC,{className:"w-4 h-4"}),"Scanner"]})]}),f.invoice&&a.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",f.invoice.name]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(qt,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Annuler"}),a.jsx(qt,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function $fe({isOpen:t,onClose:e}){const{register:r,handleSubmit:n,formState:{errors:i},setValue:s,watch:o}=rh({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[l,c]=T.useState(null),u=o("rating"),d=p=>{console.log(p),e()},h=p=>{var x;const m=(x=p.target.files)==null?void 0:x[0];if(m){const g=new FileReader;g.onloadend=()=>{c(g.result)},g.readAsDataURL(m)}},f=p=>{s("rating",p)};return a.jsx(oa,{isOpen:t,onClose:e,title:"Nouvel achat",size:"lg",children:a.jsxs("form",{onSubmit:n(d),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),a.jsx("input",{...r("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.productName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.productName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),a.jsx("input",{...r("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.supplierName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.supplierName.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),a.jsx("input",{type:"date",...r("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.expiryDate&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.expiryDate.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),a.jsx("input",{...r("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.storageLocation&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.storageLocation.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),a.jsx("input",{type:"number",min:"1",...r("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.quantity&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.quantity.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",...r("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.unitPrice&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.unitPrice.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),a.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(p=>a.jsx("button",{type:"button",onClick:()=>f(p),className:"focus:outline-none",children:a.jsx(Pa,{size:24,className:`${p<=u?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),a.jsx("textarea",{...r("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),a.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:l?a.jsxs("div",{className:"w-full space-y-3",children:[a.jsx("img",{src:l,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>c(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):a.jsxs("div",{className:"w-full space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(rs,{size:20,className:"mr-2"}),a.jsx("span",{children:"Choisir un fichier"}),a.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:h})]})}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(Oc,{size:20,className:"mr-2"}),a.jsx("span",{children:"Prendre une photo"})]})})]})}),a.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:e,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}const zfe=()=>{var ce,_e,je;const[t,e]=T.useState("tables"),[r,n]=T.useState(""),[i,s]=T.useState(null),[o,l]=T.useState(null),[c,u]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[m,x]=T.useState(null),[g,b]=T.useState(!1),[y,w]=T.useState(!1),[N,_]=T.useState(null),[S,A]=T.useState(""),[E,D]=T.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[F,k]=T.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),O=re.useRef(null),B=me=>{const Le=Math.floor(Math.random()*1e4);return`${me}-${Le.toString().padStart(5,"0")}`},L=()=>{if(!m||!E.name||!E.quantity)return;let me="";m.includes("Frigo")?me="F":m.includes("Congélateur")?me="C":m==="Remise"?me="R":m==="Cave"&&(me="CA");const Le={id:B(me),name:E.name,quantity:`${E.quantity}${E.unit==="unités"?" unités":E.unit==="bouteilles"?" bouteilles":E.unit}`,arrivalDate:E.arrivalDate,expiryDate:E.expiryDate===""?"N/A":E.expiryDate};k({...F,[m]:[...F[m],Le]}),D({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),b(!1)},W=(me,Le)=>{_({id:Le.id,name:Le.name,quantity:Le.quantity});const He=Le.quantity.match(/^(\d+(?:\.\d+)?)/);He&&He[1]?A(He[1]):A(""),w(!0)},$=me=>{const Le=me.match(/[a-zA-Z]+|unités|bouteilles/);return Le?Le[0]:""},z=me=>{const Le=me.match(/^(\d+(?:\.\d+)?)/);return Le?parseFloat(Le[1]):0},X=()=>{if(!m||!N)return;const me=z(N.quantity),Le=parseFloat(S),He=$(N.quantity),Ke=[...F[m]],it=Ke.findIndex(jt=>jt.id===N.id);if(it!==-1){if(Le>=me){const jt=Ke.filter(dt=>dt.id!==N.id);k({...F,[m]:jt}),console.log(`Produit ${N.id} entièrement retiré de ${m}`)}else{const jt={...Ke[it],quantity:`${(me-Le).toFixed(2).replace(/\.00$/,"")}${He}`};Ke[it]=jt,k({...F,[m]:Ke}),console.log(`${S}${He} de ${N.name} retiré de ${m}`)}w(!1),_(null),A("")}},{handlers:Y,isRefreshing:le}=kL(async()=>{await new Promise(me=>setTimeout(me,1e3))}),fe=()=>{switch(t){case"tables":return"Tables";case"trempes":return"Trempes";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},[R,I]=T.useState(!1),{register:q,handleSubmit:Q,formState:{errors:J}}=rh({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[de,ve]=T.useState(null),ue=me=>{console.log(me),I(!1)},Oe=me=>{var He;const Le=(He=me.target.files)==null?void 0:He[0];if(Le){const Ke=new FileReader;Ke.onloadend=()=>{ve(Ke.result)},Ke.readAsDataURL(Le)}},Ee=()=>{ve(null)};T.useState(!1);const ae=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[Pe,De]=T.useState(!1),[he,te]=T.useState(null),[Ue,ee]=T.useState(!1),ne=me=>{te(me),ee(!0)};return a.jsxs("div",{ref:O,className:"p-6 space-y-6",...Y,children:[a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:a.jsx(qI,{size:28,className:"text-white"})})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Inventaire"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:fe()}),a.jsx("div",{className:"flex items-center space-x-3"})]}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>e("tables"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="tables"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ui,{size:16,className:"mr-2"}),"Tables"]})}),a.jsx("button",{onClick:()=>e("trempes"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="trempes"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(li,{size:16,className:"mr-2"}),"Trempes"]})}),a.jsx("button",{onClick:()=>e("pools"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="pools"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(li,{size:16,className:"mr-2"}),"Bassins"]})}),a.jsx("button",{onClick:()=>e("autres"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="autres"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xu,{size:16,className:"mr-2"}),"Autres emplacements"]})}),a.jsx("button",{onClick:()=>e("achats"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="achats"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(_0,{size:16,className:"mr-2"}),"Achats"]})}),a.jsx("button",{onClick:()=>e("charges"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="charges"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pf,{size:16,className:"mr-2"}),"Charges"]})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:r,onChange:me=>n(me.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(Bn,{size:20,className:"mr-2"}),"Filtres"]})]}),t==="tables"&&a.jsx(Rue,{onTableSelect:s,onTableHover:l,hoveredTable:o,selectedTable:i}),t==="pools"&&a.jsx(Uue,{}),t==="trempes"&&a.jsx(ofe,{}),t==="autres"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),a.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Dt,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),a.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:a.jsx(li,{size:18,className:"text-blue-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),a.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"500 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"65%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:a.jsx(li,{size:18,className:"text-blue-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),a.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"300 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"30%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:a.jsx(km,{size:18,className:"text-cyan-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),a.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"200 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"85%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:a.jsx(km,{size:18,className:"text-cyan-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),a.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"150 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"40%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Remise"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:a.jsx(ui,{size:18,className:"text-amber-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),a.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"1000 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"55%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Cave"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:a.jsx(Xu,{size:18,className:"text-purple-400"})}),a.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),a.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsx("span",{className:"text-white",children:"800 kg"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsx("span",{className:"text-white",children:"25%"})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),t==="achats"&&a.jsx(Bfe,{}),i&&a.jsx(ufe,{table:i,onClose:()=>s(null)}),c&&t!=="achats"&&a.jsx(Ife,{isOpen:c,onClose:()=>u(!1)}),c&&t==="achats"&&a.jsx($fe,{isOpen:c,onClose:()=>u(!1)}),d&&a.jsx(Rfe,{isOpen:d,onClose:()=>h(!1)}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${m.includes("Frigo")?"bg-blue-500/20":m.includes("Congélateur")?"bg-cyan-500/20":m==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:m.includes("Frigo")?a.jsx(li,{size:20,className:"text-blue-400"}):m.includes("Congélateur")?a.jsx(km,{size:20,className:"text-cyan-400"}):m==="Remise"?a.jsx(ui,{size:20,className:"text-amber-400"}):a.jsx(Xu,{size:20,className:"text-purple-400"})}),a.jsx("h3",{className:"text-xl font-bold text-white",children:m})]}),a.jsx("button",{onClick:()=>x(null),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-white/70",children:[(ce=F[m])==null?void 0:ce.length," produits stockés"]})}),a.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[a.jsx(Dt,{size:16}),"Ajouter un produit"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[a.jsx("div",{children:"Produit"}),a.jsx("div",{children:"Quantité"}),a.jsx("div",{children:"Date d'arrivée"}),a.jsx("div",{children:"DLC"}),a.jsx("div",{className:"text-right",children:"Actions"})]}),((_e=F[m])==null?void 0:_e.length)>0?(je=F[m])==null?void 0:je.map(me=>a.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[a.jsx("div",{className:"font-medium",children:me.name}),a.jsx("div",{children:me.quantity}),a.jsx("div",{children:me.arrivalDate}),a.jsx("div",{children:me.expiryDate==="N/A"?a.jsx("span",{className:"text-white/50",children:"N/A"}):a.jsx("span",{className:`${new Date(me.expiryDate)<new Date?"text-red-400":new Date(me.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:me.expiryDate})}),a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsx("button",{onClick:Le=>{Le.stopPropagation(),W(m,me)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},me.id)):a.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),g&&m&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",m]}),a.jsx("button",{onClick:()=>b(!1),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("form",{onSubmit:me=>{me.preventDefault(),L()},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),a.jsx("input",{type:"text",value:E.name,onChange:me=>D({...E,name:me.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),a.jsx("input",{type:"text",value:E.quantity,onChange:me=>D({...E,quantity:me.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),a.jsxs("select",{value:E.unit,onChange:me=>D({...E,unit:me.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"g",children:"g"}),a.jsx("option",{value:"tonnes",children:"tonnes"}),a.jsx("option",{value:"unités",children:"unités"}),a.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),a.jsx("input",{type:"date",value:E.arrivalDate,onChange:me=>D({...E,arrivalDate:me.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),a.jsx("input",{type:"date",value:E.expiryDate,onChange:me=>D({...E,expiryDate:me.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),a.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),a.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),a.jsx("button",{onClick:()=>p(!1),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),a.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),a.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[a.jsx("option",{value:"",children:"Sélectionner un type"}),a.jsx("option",{value:"frigo",children:"Frigo"}),a.jsx("option",{value:"congelateur",children:"Congélateur"}),a.jsx("option",{value:"remise",children:"Remise"}),a.jsx("option",{value:"other",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),a.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"tonnes",children:"tonnes"}),a.jsx("option",{value:"units",children:"unités"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),y&&N&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),a.jsx("button",{onClick:()=>{w(!1),_(null)},className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-white text-lg mb-2",children:N.name}),a.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",N.quantity]})]}),a.jsxs("form",{onSubmit:me=>{me.preventDefault(),X()},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"number",min:"0.01",step:"0.01",max:z(N.quantity),value:S,onChange:me=>A(me.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),a.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:$(N.quantity)})]})]}),a.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>{w(!1),_(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),t==="charges"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Pf,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),a.jsxs("button",{onClick:()=>De(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(vl,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),a.jsxs("div",{className:"space-y-4 mt-6",children:[a.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:a.jsx(ks,{className:"text-brand-blue",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("p",{className:"text-white font-medium",children:"50 €"}),a.jsx("button",{onClick:()=>ne(ae[0]),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(hl,{size:20})})]})]}),a.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:a.jsx(ks,{className:"text-brand-blue",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("p",{className:"text-white font-medium",children:"75 €"}),a.jsx("button",{onClick:()=>ne(ae[1]),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(hl,{size:20})})]})]}),a.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:a.jsx(ks,{className:"text-brand-blue",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("p",{className:"text-white font-medium",children:"200 €"}),a.jsx("button",{onClick:()=>ne(ae[2]),className:"text-white/60 hover:text-white transition-colors",children:a.jsx(hl,{size:20})})]})]})]}),R&&a.jsx(oa,{isOpen:R,onClose:()=>I(!1),title:"Nouvelle Charge",size:"lg",children:a.jsxs("form",{onSubmit:Q(ue),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),a.jsx("input",{...q("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),J.chargeName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:J.chargeName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",...q("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),J.amount&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:J.amount.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{...q("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),a.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:de?a.jsxs("div",{className:"w-full space-y-3",children:[a.jsx("img",{src:de,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),a.jsx("button",{type:"button",onClick:Ee,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):a.jsxs("div",{className:"w-full space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(rs,{size:20,className:"mr-2"}),a.jsx("span",{children:"Choisir un fichier"}),a.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:Oe})]})}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[a.jsx(Oc,{size:20,className:"mr-2"}),a.jsx("span",{children:"Prendre une photo"})]})})]})}),a.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),Pe&&a.jsx(oa,{isOpen:Pe,onClose:()=>De(!1),title:"Calendrier",size:"lg",children:a.jsx("div",{className:"p-4",children:a.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),Ue&&he&&a.jsx(oa,{isOpen:Ue,onClose:()=>ee(!1),title:"Détails de la facture",size:"lg",children:a.jsx("div",{className:"p-4",children:a.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",he.name]})})}),le&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white/5 rounded-full p-4",children:a.jsx("div",{className:"w-8 h-8 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})})})]})},Ufe=[{id:"1",name:"Frigo 1",type:"frigo",capacity:500,occupation:65,icon:"droplets"},{id:"2",name:"Frigo 2",type:"frigo",capacity:300,occupation:30,icon:"droplets"},{id:"3",name:"Congélateur 1",type:"congélateur",capacity:200,occupation:85,icon:"thermometer"},{id:"4",name:"Congélateur 2",type:"congélateur",capacity:150,occupation:40,icon:"thermometer"},{id:"5",name:"Remise",type:"remise",capacity:1e3,occupation:55,icon:"package"},{id:"6",name:"Cave",type:"remise",capacity:800,occupation:25,icon:"map"}],Hfe=(t,e)=>{switch(t){case"droplets":return a.jsx(li,{className:e});case"thermometer":return a.jsx(km,{className:e});case"package":return a.jsx(ui,{className:e});case"map":return a.jsx(Xu,{className:e})}},qfe=t=>{switch(t){case"frigo":return"blue";case"congélateur":return"cyan";case"remise":return t==="remise"?"amber":"purple";default:return"blue"}},Wfe=()=>{const[t,e]=T.useState(null);return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ufe.map(r=>{const n=qfe(r.type);return a.jsxs("div",{className:"relative p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>e(r.id),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-md bg-${n}-500/20 flex items-center justify-center mr-3`,children:Hfe(r.icon,`text-${n}-400`)}),a.jsx("h3",{className:"text-white font-medium",children:r.name})]}),a.jsx("div",{className:`bg-${n}-500/20 text-${n}-400 text-xs px-2 py-1 rounded-full`,children:r.type.charAt(0).toUpperCase()+r.type.slice(1)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Capacité"}),a.jsxs("span",{className:"text-white",children:[r.capacity," kg"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Occupation"}),a.jsxs("span",{className:"text-white",children:[r.occupation,"%"]})]}),a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:`bg-${n}-400 h-full rounded-full`,style:{width:`${r.occupation}%`}})}),a.jsx("div",{className:"hidden group-hover:block mt-3",children:a.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]},r.id)})})},Vfe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},Gfe={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},Xfe=[{id:"1",name:"Huîtres N°3",quantity:1e3,unit:"pièces",location:"Bassin A",lastUpdate:new Date},{id:"2",name:"Huîtres N°2",quantity:500,unit:"pièces",location:"Bassin B",lastUpdate:new Date},{id:"3",name:"Huîtres N°1",quantity:300,unit:"pièces",location:"Bassin C",lastUpdate:new Date}],Yfe=()=>{const[t,e]=re.useState(Xfe),[r,n]=re.useState(""),[i,s]=T.useState("current"),o=is(),l=d=>{o(`/tables/${d}`)},c=d=>{s(d)},u=[{id:"current",label:"Stock actuel",icon:a.jsx(ui,{size:20,className:"text-cyan-400"}),count:3},{id:"movements",label:"Mouvements",icon:a.jsx(Bj,{size:20,className:"text-cyan-400"})},{id:"history",label:"Historique",icon:a.jsx(vl,{size:20,className:"text-cyan-400"})},{id:"analytics",label:"Statistiques",icon:a.jsx($j,{size:20,className:"text-cyan-400"})}];return T.useEffect(()=>{},[i]),a.jsxs("div",{className:"w-full p-6 min-h-screen animate-fadeIn",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des Stocks"}),a.jsx("p",{className:"text-white/70 mt-2",children:"Gestion centralisée des stocks pour tous vos produits."})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex items-center",children:[a.jsx(Vr,{className:"absolute left-3 text-white/50",size:18,"aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Rechercher un stock...",value:r,onChange:d=>n(d.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-auto min-w-[280px] rounded-lg bg-white/5 border border-white/10 focus:border-cyan-400/30 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25)] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher un stock"}),a.jsx(Bn,{className:"absolute right-3 text-white/50",size:18,"aria-hidden":"true"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un nouveau stock",children:[a.jsx(Dt,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Nouveau stock"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les stocks",children:[a.jsx(Bn,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Filtres"})]})]}),a.jsx("div",{className:"relative mb-6 mt-4",children:a.jsx("div",{id:"stock-page-tabs",className:"w-full overflow-x-auto hide-scrollbar",children:a.jsx("div",{className:"flex gap-4",role:"tablist",style:{padding:"4px",borderRadius:"12px"},children:u.map(d=>a.jsxs("button",{onClick:()=>c(d.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",transition:"all 0.3s ease",minWidth:"44px",minHeight:"44px",backgroundColor:i===d.id?"rgba(6, 182, 212, 0.2)":"transparent",color:i===d.id?"#22d3ee":"rgba(255, 255, 255, 0.6)",boxShadow:i===d.id?"0 4px 10px rgba(0, 0, 0, 0.25), 0 0 15px rgba(0, 210, 200, 0.2)":"none",border:i===d.id?"1px solid rgba(6, 182, 212, 0.3)":"1px solid rgba(255, 255, 255, 0.1)"},className:`stockpage-tab ${i===d.id?"stockpage-tab-active":"stockpage-tab-inactive"}`,role:"tab","aria-selected":i===d.id,children:[d.icon,a.jsx("span",{children:d.label}),d.count!==void 0&&a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:i===d.id?"rgba(6, 182, 212, 0.3)":"rgba(255, 255, 255, 0.1)",borderRadius:"9999px",padding:"2px 8px",fontSize:"0.75rem",fontWeight:"bold"},children:d.count})]},d.id))})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",role:"tabpanel",id:`tab-panel-${i}`,"aria-labelledby":`tab-${i}`,children:[i==="current"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(ui,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Inventaire actuel"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'inventaire",children:[a.jsx(Bn,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Exporter"})]})})]}),a.jsx(be.div,{initial:"hidden",animate:"visible",variants:Vfe,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>a.jsxs(be.div,{variants:Gfe,className:"glass p-4 rounded-lg border border-white/10 hover:border-white/20 transition-duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),a.jsx("span",{className:"text-white/60 text-sm",children:d.lastUpdate.toLocaleDateString()})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Quantité"}),a.jsxs("span",{className:"font-medium text-white",children:[d.quantity," ",d.unit]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Emplacement"}),a.jsx("span",{className:"font-medium text-white",children:d.location})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1.5 text-sm rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":`Voir les détails de ${d.name}`,children:"Voir détails"})})]},d.id))})]}),i==="movements"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(Bj,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Mouvements de stock"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Nouveau mouvement",children:[a.jsx(Dt,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Nouveau mouvement"})]})})]}),a.jsx("div",{className:"text-center py-10 text-white/60",children:'Aucun mouvement récent. Utilisez le bouton "Nouveau mouvement" pour en créer un.'})]}),i==="history"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(vl,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Historique des stocks"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'historique",children:[a.jsx(Bn,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Exporter"})]})})]}),a.jsx("div",{className:"text-center py-10 text-white/60",children:"L'historique des mouvements de stock sera affiché ici."})]}),i==="analytics"&&a.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx($j,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Statistiques des stocks"]})}),a.jsx("div",{className:"text-center py-10 text-white/60",children:"Les statistiques et graphiques de performance des stocks seront affichés ici."})]})]}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white/90",children:"Autres emplacements"}),a.jsx(Wfe,{})]})]})};class b0 extends T.PureComponent{render(){const{series:e,height:r,showGrid:n,showLegend:i}=this.props;if(!e||e.length===0||!e[0].data)return a.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:a.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const s=e[0].data.map((o,l)=>{const c={name:o.name};return e.forEach(u=>{u.data[l]&&(c[u.name]=u.data[l].value)}),c});return a.jsx(sx,{width:"100%",height:r,children:a.jsxs(vue,{data:s,children:[n&&a.jsx(A5,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),a.jsx(Jd,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),a.jsx(Zd,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),a.jsx(Na,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),i&&a.jsx(hc,{verticalAlign:"top",height:36,iconType:"circle",formatter:o=>a.jsx("span",{style:{color:"rgb(var(--color-text))"},children:o})}),e.map(o=>a.jsx($0,{type:"monotone",dataKey:o.name,stroke:o.color,strokeWidth:2,dot:{fill:o.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},o.name))]})})}}Dj(b0,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const Kfe=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],Jfe=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function $P({type:t,initialData:e,onSubmit:r,onCancel:n}){const{register:i,control:s,handleSubmit:o,watch:l,setValue:c,formState:{errors:u}}=rh({defaultValues:{type:t,status:"draft",date:It(new Date,"yyyy-MM-dd"),items:(e==null?void 0:e.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...e}}),{fields:d,append:h,remove:f}=_fe({control:s,name:"items"}),p=l("items"),m=()=>p.reduce((b,y)=>b+y.quantity*y.unit_price,0),x=()=>p.reduce((b,y)=>{const w=y.tax_rate||20;return b+y.quantity*y.unit_price*(w/100)},0),g=()=>m()+x();return a.jsxs("form",{onSubmit:o(r),className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:t==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Pc,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:t==="sale"?"Client":"Fournisseur"}),a.jsx("select",{...i("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:a.jsx("option",{value:"",children:"Sélectionner..."})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),a.jsx("input",{type:"date",...i("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),a.jsx("select",{...i("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:Kfe.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),a.jsxs("button",{type:"button",onClick:()=>h({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),a.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-white/10",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),a.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),a.jsx("th",{className:"px-4 py-3 w-16"})]})}),a.jsx("tbody",{children:d.map((b,y)=>{var w,N;return a.jsxs("tr",{className:"border-b border-white/10",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{...i(`items.${y}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"number",...i(`items.${y}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"number",step:"0.01",...i(`items.${y}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("select",{...i(`items.${y}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:Jfe.map(_=>a.jsx("option",{value:_.rate,children:_.name},_.id))})}),a.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((w=p[y])==null?void 0:w.quantity)*((N=p[y])==null?void 0:N.unit_price)).toFixed(2),"€"]}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{type:"button",onClick:()=>f(y),className:"p-1 text-white/60 hover:text-white transition-colors",children:a.jsx(Zn,{size:16})})})]},b.id)})})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"w-64 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),a.jsxs("span",{className:"text-white",children:[m().toFixed(2),"€"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"TVA"}),a.jsxs("span",{className:"text-white",children:[x().toFixed(2),"€"]})]}),a.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[a.jsx("span",{className:"text-white",children:"Total TTC"}),a.jsxs("span",{className:"text-white",children:[g().toFixed(2),"€"]})]})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),a.jsx("textarea",{...i("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const IS=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],DS=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],r1=(t,e)=>({data:t.map(r=>({name:r.month,value:r[e]}))}),Zfe=[{name:"Revenus",color:"#22d3ee",...r1(IS,"revenue")},{name:"Dépenses",color:"#fb7185",...r1(IS,"expenses")}],Qfe=[{name:"Entrées",color:"#22d3ee",...r1(DS,"inflow")},{name:"Sorties",color:"#fb7185",...r1(DS,"outflow")}];function e0e(){const[t,e]=T.useState(!0),[r,n]=T.useState(""),[i,s]=T.useState(!1);T.useState("month");const o=l=>{console.log("Creating invoice:",l),s(!1)};return a.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:a.jsx(zj,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Comptabilité"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Dt,{size:20,"aria-hidden":"true"}),"Nouvelle Facture"]}),a.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(vC,{size:20,"aria-hidden":"true"}),"Statistiques"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(bC,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Chiffre d'affaires"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"58,000 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(WI,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Bénéfice net"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"12,500 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(zj,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Dépenses"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"45,500 €"}),a.jsx("p",{className:"text-sm text-rose-400",children:"+5% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(VI,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Trésorerie"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"25,800 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+3% ce mois"})]})]})})]}),t&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Revenus et Dépenses"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),a.jsx(b0,{series:Zfe,height:300})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Flux de Trésorerie"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),a.jsx(b0,{series:Qfe,height:300})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transactions récentes"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",value:r,onChange:l=>n(l.target.value)})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Bn,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-white/60",children:[a.jsx("th",{className:"pb-4",children:"Date"}),a.jsx("th",{className:"pb-4",children:"Description"}),a.jsx("th",{className:"pb-4",children:"Type"}),a.jsx("th",{className:"pb-4 text-right",children:"Montant"}),a.jsx("th",{className:"pb-4",children:"Statut"})]})}),a.jsxs("tbody",{className:"text-white",children:[a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"15/06/2023"}),a.jsx("td",{children:"Facture #2023-156"}),a.jsx("td",{children:"Vente"}),a.jsx("td",{className:"text-right text-cyan-400",children:"+3,500€"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Payée"})})]}),a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"14/06/2023"}),a.jsx("td",{children:"Fournitures bureau"}),a.jsx("td",{children:"Dépense"}),a.jsx("td",{className:"text-right text-red-400",children:"-250€"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"Traitée"})})]})]})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Facture"}),a.jsx("button",{onClick:()=>s(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:a.jsx(vt,{size:24})})]}),a.jsx($P,{type:"sale",onSubmit:o,onCancel:()=>s(!1)})]})})]})}const t0e=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],r0e={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},n0e={draft:hi,sent:p1,paid:Yb,overdue:di,cancelled:yC};function i0e({type:t,onEdit:e,onDelete:r}){const[n,i]=T.useState(null),s=t0e.filter(c=>c.type===t),o=c=>{console.log("Downloading invoice:",c.number)},l=c=>{console.log("Sending invoice:",c.number)};return a.jsx("div",{className:"space-y-4",children:s.map(c=>{var d,h;const u=n0e[c.status];return a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx(ks,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:c.number}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${r0e[c.status]}`,children:[a.jsx(u,{size:12,className:"mr-1"}),c.status]})]}),a.jsx("div",{className:"mt-1 text-sm text-white/60",children:t==="sale"?(d=c.customer)==null?void 0:d.name:(h=c.supplier)==null?void 0:h.name}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60",children:"Date"}),a.jsx("div",{className:"text-white",children:It(new Date(c.date),"PP",{locale:Nr})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60",children:"Échéance"}),a.jsx("div",{className:"text-white",children:It(new Date(c.due_date),"PP",{locale:Nr})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60",children:"Montant TTC"}),a.jsxs("div",{className:"text-white font-medium",children:[c.total.toFixed(2),"€"]})]})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>i(n===c.id?null:c.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(S0,{size:20,className:"text-white/60"})}),n===c.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[a.jsxs("button",{onClick:()=>o(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(ns,{size:16,className:"mr-2"}),"Télécharger"]}),c.status==="draft"&&a.jsxs("button",{onClick:()=>l(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(p1,{size:16,className:"mr-2"}),"Envoyer"]}),a.jsxs("button",{onClick:()=>e(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(xw,{size:16,className:"mr-2"}),"Modifier"]}),a.jsxs("button",{onClick:()=>r(c),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[a.jsx(Zn,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},c.id)})})}function a0e(){const[t,e]=T.useState("sales"),[r,n]=T.useState(!1),[i,s]=T.useState(""),[o,l]=T.useState(null),c=h=>{console.log("Creating invoice:",h),n(!1)},u=h=>{l(h)},d=h=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${h.number} ?`)&&console.log("Deleting invoice:",h.number)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>e("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ks,{size:16,className:"mr-2"}),"Factures Clients"]})}),a.jsx("button",{onClick:()=>e("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ns,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:i,onChange:h=>s(h.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(Bn,{size:20,className:"mr-2"}),"Filtres"]})]}),a.jsx(i0e,{type:t==="sales"?"sale":"purchase",onEdit:u,onDelete:d}),(r||o)&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:a.jsx($P,{type:t==="sales"?"sale":"purchase",initialData:o||void 0,onSubmit:c,onCancel:()=>{n(!1),l(null)}})})})]})}const s0e=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function o0e({date:t,period:e,currentSchedule:r,onSave:n,onDelete:i}){const[s,o]=T.useState((r==null?void 0:r.start)||(e==="morning"?"08:00":"14:00")),[l,c]=T.useState((r==null?void 0:r.end)||(e==="morning"?"12:00":"18:00")),u=()=>{n({start:s,end:l})};return a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"text-white font-medium",children:[e==="morning"?"Matin":"Après-midi"," - ",It(t,"EEEE d MMMM",{locale:Nr})]}),r&&i&&a.jsx("button",{onClick:i,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:a.jsx(Zn,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:`start-${e}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),a.jsx("input",{id:`start-${e}`,type:"time",value:s,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`end-${e}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),a.jsx("input",{id:`end-${e}`,type:"time",value:l,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsx("button",{onClick:u,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function zP({employee:t,onClose:e}){var b,y,w;const[r,n]=T.useState(new Date),[i,s]=T.useState(s0e),[o,l]=T.useState(null),{session:c}=ua();(b=c==null?void 0:c.user)==null||b.role;const u=ad(r,{weekStartsOn:1}),d=tM(r,{weekStartsOn:1}),h=Q7({start:u,end:d}),f=()=>n(QM(r,1)),p=()=>n(HC(r,1)),m=N=>i.find(_=>G7(new Date(_.date),N)),x=(N,_,S)=>{s(A=>{const E=It(N,"yyyy-MM-dd"),D=A.findIndex(F=>F.date===E);if(D>=0){const F=[...A];return F[D]={...F[D],[_]:S},F}else return[...A,{id:crypto.randomUUID(),date:E,[_]:S}]}),l(null)},g=(N,_)=>{s(S=>{const A=It(N,"yyyy-MM-dd"),E=S.findIndex(D=>D.date===A);if(E>=0){const D=[...S],F=D[E];return _==="morning"?delete F.morning:delete F.afternoon,!F.morning&&!F.afternoon&&D.splice(E,1),D}return S}),l(null)};return a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-white/10",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:t.name}),a.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsx("button",{onClick:f,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:a.jsx(wC,{size:20,className:"text-white/60"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hi,{size:20,className:"text-white/60"}),a.jsx("span",{className:"text-white font-medium",children:It(u,"MMMM yyyy",{locale:Nr})})]}),a.jsx("button",{onClick:p,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:a.jsx(Dd,{size:20,className:"text-white/60"})})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-1 p-6",children:a.jsx("div",{className:"grid grid-cols-7 gap-4",children:h.map((N,_)=>{var S,A,E,D,F,k,O,B,L,W,$,z;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-white/60",children:It(N,"EEEE",{locale:Nr})}),a.jsx("div",{className:"text-lg font-medium text-white",children:It(N,"d",{locale:Nr})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(be.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(S=m(N))!=null&&S.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:N,period:"morning"}),whileHover:{scale:1.02},children:[a.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),a.jsx("div",{className:"text-sm text-white/60",children:(A=m(N))!=null&&A.morning?`${(D=(E=m(N))==null?void 0:E.morning)==null?void 0:D.start} - ${(k=(F=m(N))==null?void 0:F.morning)==null?void 0:k.end}`:"-"})]}),a.jsxs(be.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(O=m(N))!=null&&O.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:N,period:"afternoon"}),whileHover:{scale:1.02},children:[a.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),a.jsx("div",{className:"text-sm text-white/60",children:(B=m(N))!=null&&B.afternoon?`${(W=(L=m(N))==null?void 0:L.afternoon)==null?void 0:W.start} - ${(z=($=m(N))==null?void 0:$.afternoon)==null?void 0:z.end}`:"-"})]})]})]},_)})})}),a.jsx(fr,{children:o&&a.jsx(be.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:a.jsx("div",{className:"w-80 p-6",children:a.jsx(o0e,{date:o.date,period:o.period,currentSchedule:(y=m(o.date))==null?void 0:y[o.period],onSave:N=>x(o.date,o.period,N),onDelete:(w=m(o.date))!=null&&w[o.period]?()=>g(o.date,o.period):void 0})})})})]})]})}const l0e=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function c0e({searchQuery:t}){const[e,r]=T.useState(null),[n,i]=T.useState(!1),s=l0e.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.position.toLowerCase().includes(t.toLowerCase())||l.department.toLowerCase().includes(t.toLowerCase())),o=(l,c)=>{c.stopPropagation(),r(l),i(!0)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(l=>a.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:l.avatar?a.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full rounded-full"}):a.jsx("span",{className:"text-white text-lg font-medium",children:l.name.charAt(0)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),a.jsx("p",{className:"text-sm text-white/60",children:l.position})]})]}),a.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:a.jsx(S0,{size:20})})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(ka,{size:16,className:"mr-2"}),l.email]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Ei,{size:16,className:"mr-2"}),l.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Oi,{size:16,className:"mr-2"}),l.location]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(l.hireDate).toLocaleDateString("fr-FR")]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:l.status==="active"?"Actif":"Inactif"})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:a.jsxs("button",{onClick:c=>o(l,c),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[a.jsx(Hi,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},l.id))}),n&&e&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>i(!1),children:a.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:a.jsx(zP,{employee:e,onClose:()=>i(!1)})})})]})}function u0e({onClose:t}){const{register:e,handleSubmit:r,formState:{errors:n}}=rh(),i=s=>{console.log(s),t()};return a.jsxs("form",{onSubmit:r(i),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),a.jsx("button",{type:"button",onClick:t,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),a.jsx("input",{...e("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.firstName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.firstName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),a.jsx("input",{...e("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.lastName&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.lastName.message})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),a.jsx("input",{type:"email",...e("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.email&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),a.jsx("input",{...e("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),a.jsx("input",{...e("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.position&&a.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.position.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),a.jsxs("select",{...e("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[a.jsx("option",{value:"production",children:"Production"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"quality",children:"Contrôle Qualité"}),a.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),a.jsx("input",{...e("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),a.jsx("input",{type:"date",...e("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),a.jsx("input",{...e("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),a.jsx("input",{...e("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const d0e=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function h0e({isOpen:t,onClose:e,onConfirm:r,action:n}){return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),a.jsx("p",{className:"text-white/70 mb-6",children:n==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>r(n==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${n==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:n==="approve"?"Approuver":"Refuser"})]})]})}):null}function f0e({request:t,onClose:e,onValidate:r}){const[n,i]=T.useState(""),[s,o]=T.useState(null),l=c=>{r(t.id,c,n),o(null),e()};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Type"}),a.jsx("div",{className:"text-white font-medium",children:t.type})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Période"}),a.jsxs("div",{className:"text-white font-medium",children:[It(new Date(t.startDate),"dd/MM/yyyy")," - ",It(new Date(t.endDate),"dd/MM/yyyy")]})]})]}),t.reason&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),a.jsx("div",{className:"text-white",children:t.reason})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),a.jsx("textarea",{value:n,onChange:c=>i(c.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>o("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),a.jsx("button",{onClick:()=>o("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),a.jsx(h0e,{isOpen:s!==null,onClose:()=>o(null),onConfirm:c=>l(c),action:s||"approve"})]})}function p0e(){const[t,e]=T.useState(d0e),[r,n]=T.useState(null),[i,s]=T.useState({start:"",end:""}),o=(c,u,d)=>{e(t.map(h=>h.id===c?{...h,status:u?"approved":"rejected",notes:d}:h)),n(null)},l=t.filter(c=>{if(!i.start&&!i.end)return!0;const u=new Date(c.startDate),d=i.start?new Date(i.start):null,h=i.end?new Date(i.end):null;return d&&h?u>=d&&u<=h:d?u>=d:h?u<=h:!0});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),a.jsx("input",{type:"date",value:i.start,onChange:c=>s(u=>({...u,start:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),a.jsx("input",{type:"date",value:i.end,onChange:c=>s(u=>({...u,end:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsx("button",{onClick:()=>s({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"p-4 border-b border-white/10",children:a.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),a.jsx("div",{className:"divide-y divide-white/10",children:l.map(c=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:a.jsx(Hi,{size:20,className:"text-white/60"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:c.type}),a.jsxs("div",{className:"text-sm text-white/60",children:["Du ",It(new Date(c.startDate),"dd/MM/yyyy",{locale:Nr})," au"," ",It(new Date(c.endDate),"dd/MM/yyyy",{locale:Nr})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.status==="approved"?"bg-green-500/20 text-green-300":c.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:c.status==="approved"?"Approuvé":c.status==="rejected"?"Refusé":"En attente"}),c.status==="pending"&&a.jsx("button",{onClick:()=>n(c.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),c.reason&&a.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",c.reason]}),c.notes&&a.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",c.notes]})]},c.id))})]}),r&&a.jsx(f0e,{request:t.find(c=>c.id===r),onClose:()=>n(null),onValidate:o})]})}const m0e=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function x0e(){const[t,e]=T.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),a.jsxs("button",{onClick:()=>e(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-6",children:m0e.map(r=>a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:r.employeeName}),a.jsx("p",{className:"text-sm text-white/60",children:r.position})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.status==="completed"?"bg-green-500/20 text-green-300":r.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:r.status==="completed"?"Terminé":r.status==="acknowledged"?"Validé":"Brouillon"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),a.jsxs("div",{className:`text-xl font-bold ${r.taskPerformance.averageScore>=90?"text-green-400":r.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[r.taskPerformance.averageScore,"%"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),a.jsx("div",{className:"text-xl font-bold text-white",children:r.taskPerformance.tasksCompleted})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),a.jsxs("div",{className:"text-xl font-bold text-green-400",children:[r.taskPerformance.onTimeCompletion,"%"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),a.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[r.taskPerformance.efficiencyRate,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(n=>a.jsx(Pa,{size:20,className:n<=r.overallRating?"text-yellow-400 fill-current":"text-white/20"},n)),a.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[r.overallRating,"/5"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.strengths.map((n,i)=>a.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:n},i))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.improvements.map((n,i)=>a.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:n},i))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.goals.map((n,i)=>a.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:n},i))})]})]})]},r.id))})]})}const g0e={id:"default",name:"Planning Global"};function v0e(){const[t,e]=GI(),[r,n]=T.useState(()=>t.get("tab")||"employees"),[i,s]=T.useState(!1),[o,l]=T.useState("");T.useEffect(()=>{const u=t.get("tab");u&&u!==r&&n(u)},[t]);const c=u=>{n(u),e({tab:u})};return a.jsxs(be.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsx(Qd,{icon:a.jsx(Ci,{size:28,className:"text-white"}),title:"Gestion RH"}),a.jsx("div",{className:"flex items-center justify-between",children:r==="employees"&&a.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouvel Employé"]})}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>c("employees"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="employees"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ci,{size:16,className:"mr-2"}),"Employés"]})}),a.jsx("button",{onClick:()=>c("schedule"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="schedule"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hi,{size:16,className:"mr-2"}),"Planning"]})}),a.jsx("button",{onClick:()=>c("leave"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="leave"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hi,{size:16,className:"mr-2"}),"Congés"]})}),a.jsx("button",{onClick:()=>c("performance"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${r==="performance"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pa,{size:16,className:"mr-2"}),"Évaluations"]})})]}),r==="employees"&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:o,onChange:u=>l(u.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(Bn,{size:20,className:"mr-2"}),"Filtres"]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:a.jsx(u0e,{onClose:()=>s(!1)})})}),r==="employees"&&a.jsx(c0e,{searchQuery:o}),r==="leave"&&a.jsx(p0e,{}),r==="performance"&&a.jsx(x0e,{}),r==="schedule"&&a.jsx(zP,{employee:g0e,onClose:()=>c("employees")})]})}const b0e=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function y0e({searchQuery:t,selectedSkill:e}){const[r,n]=T.useState(null),i=b0e.filter(s=>s.name.toLowerCase().includes(t.toLowerCase())||s.location.toLowerCase().includes(t.toLowerCase())||s.skills.some(o=>o.toLowerCase().includes(t.toLowerCase()))).filter(s=>!e||s.skills.includes(e)).sort((s,o)=>s.isVerified!==o.isVerified?o.isVerified?1:-1:o.rating-s.rating);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-2",children:i.map(s=>a.jsx("div",{onClick:()=>n(s),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:s.name}),s.isVerified&&a.jsx("span",{className:"text-brand-primary",children:a.jsx(Yb,{size:20})})]}),a.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Oi,{size:14,className:"mr-1"}),s.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pa,{size:14,className:"mr-1 text-brand-primary"}),s.rating]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.skills.map((o,l)=>a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:o},l))})]}),a.jsx(Dd,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},s.id))}),r&&a.jsx(oa,{isOpen:!0,onClose:()=>n(null),title:r.name,size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Oi,{size:20,className:"mr-3"}),r.location]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(ka,{size:20,className:"mr-3"}),r.contact.email]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Ei,{size:20,className:"mr-3"}),r.contact.phone]}),r.contact.website&&a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Id,{size:20,className:"mr-3"}),r.contact.website]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),a.jsx("div",{className:"space-y-2",children:r.certifications.map((s,o)=>a.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[a.jsx(Yb,{size:16,className:"mr-2"}),s]},o))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),a.jsx("p",{className:"text-white/70",children:r.description})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[a.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),a.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const w0e=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function j0e({searchQuery:t}){const e=w0e.filter(r=>r.title.toLowerCase().includes(t.toLowerCase())||r.content.toLowerCase().includes(t.toLowerCase())||r.tags.some(n=>n.toLowerCase().includes(t.toLowerCase())));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),a.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),a.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),a.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),a.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:e.map((r,n)=>a.jsx("div",{className:`p-6 ${n<e.length-1?"border-b border-white/10":""}`,children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:r.author.avatar?a.jsx("img",{src:r.author.avatar,alt:r.author.name,className:"w-full h-full rounded-full"}):a.jsx(Ld,{size:20,className:"text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:r.title}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("span",{className:"text-sm text-white/60",children:r.author.name}),a.jsx("span",{className:"text-sm text-white/60",children:new Date(r.postedAt).toLocaleDateString("fr-FR")}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.category})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(jC,{size:16,className:"mr-1"}),r.likes]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(hl,{size:16,className:"mr-1"}),r.views]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(jo,{size:16,className:"mr-1"}),r.replies]})]})]}),a.jsx("p",{className:"mt-4 text-white/70",children:r.content}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.tags.map((i,s)=>a.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",i]},s))})]})]})},r.id))})]})}const N0e=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],_0e={public:Id,network:Ci,private:zm};function S0e(){const[t,e]=re.useState(null);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:"M"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:a.jsx(Id,{size:20})}),a.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[a.jsx("option",{value:"public",children:"Public"}),a.jsx("option",{value:"network",children:"Mon réseau"}),a.jsx("option",{value:"private",children:"Privé"})]})]}),a.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:N0e.map(r=>{const n=_0e[r.visibility];return a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:r.author.name.charAt(0)})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"text-white font-medium",children:r.author.name}),a.jsx("span",{className:"text-white/40",children:"•"}),a.jsx("span",{className:"text-white/60",children:r.author.company})]}),a.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[a.jsx(n,{size:14,className:"mr-1"}),new Date(r.timestamp).toLocaleString()]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>e(t===r.id?null:r.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(S0,{size:20,className:"text-white/60"})}),t===r.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[a.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),a.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),a.jsx("p",{className:"mt-4 text-white/80",children:r.content}),a.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[a.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[a.jsx(jC,{size:20,className:"mr-2"}),r.likes]}),a.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[a.jsx(jo,{size:20,className:"mr-2"}),r.comments]}),a.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[a.jsx(XI,{size:20,className:"mr-2"}),r.shares]})]})]})},r.id)})})]})}const A0e=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function C0e({searchQuery:t,onSelectContact:e}){const[r,n]=re.useState(null),i=A0e.filter(s=>s.name.toLowerCase().includes(t.toLowerCase())||s.company.toLowerCase().includes(t.toLowerCase())||s.tags.some(o=>o.toLowerCase().includes(t.toLowerCase())));return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:s.avatar?a.jsx("img",{src:s.avatar,alt:s.name,className:"w-full h-full rounded-full"}):a.jsx(Ld,{size:24,className:"text-white"})}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${s.status==="online"?"bg-green-500":s.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:s.name}),a.jsx("p",{className:"text-sm text-white/60",children:s.position}),a.jsx("p",{className:"text-sm text-white/40",children:s.company})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(r===s.id?null:s.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(S0,{size:20,className:"text-white/60"})}),r===s.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[a.jsxs("button",{onClick:()=>e(s.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(jo,{size:16,className:"mr-2"}),"Message"]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(Pa,{size:16,className:"mr-2"}),s.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(ka,{size:16,className:"mr-2"}),s.email]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Ei,{size:16,className:"mr-2"}),s.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Oi,{size:16,className:"mr-2"}),s.location]})]}),s.tags.length>0&&a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.tags.map((o,l)=>a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:o},l))}),a.jsxs("div",{className:"mt-6 flex space-x-3",children:[a.jsx("button",{onClick:()=>e(s.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),a.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},s.id))})}function E0e({onClose:t,type:e}){const r=()=>{switch(e){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return a.jsx(oa,{isOpen:!0,onClose:t,title:r(),size:"xl",children:a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function O0e({onClose:t}){const[e,r]=T.useState(""),[n,i]=T.useState(null),[s,o]=T.useState(!1),l=async c=>{c.preventDefault(),i(null),o(!0);try{if(!MS(e))throw new Error("Format de code invalide");await new Promise(u=>setTimeout(u,1e3)),t()}catch(u){i(u instanceof Error?u.message:"Une erreur est survenue")}finally{o(!1)}};return a.jsx(oa,{isOpen:!0,onClose:t,title:"Ajouter un contact",size:"md",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:a.jsx(Ci,{size:32,className:"text-brand-burgundy"})})}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),a.jsx("input",{type:"text",value:e,onChange:c=>{const u=P0e(c.target.value);r(u),i(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),a.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),n&&a.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center text-red-400",children:[a.jsx(di,{size:20,className:"mr-2"}),n]})}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:!MS(e)||s,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Recherche...":"Ajouter"})]})]}),a.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[a.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),a.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function P0e(t){return(t.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function MS(t){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(t)}function k0e(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let n=0;n<8;n++){const i=Math.floor(Math.random()*t.length);r+=t[i]}return r}const Vo=[{id:"1",name:"Huîtres Marennes Oléron",email:"contact@huitres-mo.fr",phone:"05 46 85 12 34",address:"12 Route des Claires, 17320 Marennes",friend_code:"HMO17320",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Les Parcs de l'Estuaire",email:"commandes@parcs-estuaire.fr",phone:"05 46 36 45 78",address:"8 Quai des Ostréiculteurs, 17390 La Tremblade",friend_code:"LPE17390",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Atlantique Coquillages",email:"ventes@atlantique-coq.fr",phone:"02 51 68 23 45",address:"45 Avenue du Port, 85230 Bouin",friend_code:"ACQ85230",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"Cancale Premium",email:"service@cancale-premium.fr",phone:"02 99 89 67 89",address:"23 Rue du Port, 35260 Cancale",friend_code:"CAN35260",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"Arcachon Huîtres",email:"pro@arcachon-huitres.com",phone:"05 57 72 34 56",address:"56 Boulevard de la Plage, 33120 Arcachon",friend_code:"ARC33120",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],T0e={1:[{id:"1",supplier_id:"1",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"1",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],2:[{id:"3",supplier_id:"2",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],3:[{id:"4",supplier_id:"3",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],4:[{id:"5",supplier_id:"4",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],5:[{id:"6",supplier_id:"5",name:"Huîtres Gillardeau",description:"Les célèbres huîtres Gillardeau, reconnues mondialement",price:24,unit:"douzaine",category:"Premium",image:"/placeholder.jpg",available:!0,stock:100,minOrder:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function fg(){const t=NC(),{data:e=Vo,isLoading:r}=gw({queryKey:["suppliers"],queryFn:async()=>Vo}),n=hf({mutationFn:async o=>{const l=k0e(),c={...o,friend_code:l,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return Vo.push({...c,id:String(Vo.length+1)}),c},onSuccess:()=>{t.invalidateQueries({queryKey:["suppliers"]})}}),i=hf({mutationFn:async o=>{const l=Vo.findIndex(c=>c.id===o.id);return l!==-1&&o.deleted!==void 0&&(Vo[l]={...Vo[l],deleted:o.deleted,updated_at:new Date().toISOString()}),Vo[l]},onSuccess:()=>{t.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:e,isLoading:r,createSupplier:n,updateSupplier:i,getSupplierProducts:async o=>T0e[o]||[]}}function I0e({children:t,variant:e="default",className:r="",...n}){const i="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",s={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return a.jsx("div",{className:`${i} ${s[e]} ${r}`,...n,children:t})}function D0e(){const{suppliers:t}=fg(),e=t.filter(r=>r.is_friend);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),a.jsxs(I0e,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[e.length," partenaires"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(r=>a.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:r.name}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(m1,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm font-mono",children:r.friend_code})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(ka,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:r.email})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(Ei,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm",children:r.phone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[a.jsx(Oi,{className:"w-4 h-4 shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:r.address})]})]})]})},r.id))})]})}const UP=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],LS={1:[{id:"1-1",content:"Bonjour, avez-vous des huîtres plates disponibles ?",sender:"Jean Dupont",timestamp:"10:15",isMe:!1},{id:"1-2",content:"Oui, nous en avons en stock. Quelle quantité vous intéresse ?",sender:"Moi",timestamp:"10:20",isMe:!0},{id:"1-3",content:"Je cherche environ 500 douzaines pour un événement",sender:"Jean Dupont",timestamp:"10:25",isMe:!1},{id:"1-4",content:"Parfait, merci !",sender:"Jean Dupont",timestamp:"10:30",isMe:!1}],2:[{id:"2-1",content:"Bonjour, je souhaite connaître vos tarifs pour une livraison à Paris",sender:"Marie Martin",timestamp:"09:00",isMe:!1},{id:"2-2",content:"Bonjour Marie, pour Paris les frais de livraison sont de 15€ pour les commandes inférieures à 100€, et gratuits au-delà",sender:"Moi",timestamp:"09:10",isMe:!0},{id:"2-3",content:"Je vous recontacte demain pour passer ma commande, merci",sender:"Marie Martin",timestamp:"09:15",isMe:!1}],3:[{id:"3-1",content:"Bonjour, j'organise un mariage le mois prochain",sender:"Pierre Durand",timestamp:"14:20",isMe:!1},{id:"3-2",content:"Félicitations ! Nous pouvons vous proposer une dégustation d'huîtres pour votre événement",sender:"Moi",timestamp:"14:30",isMe:!0},{id:"3-3",content:"Pouvez-vous me donner les prix pour 200 personnes ?",sender:"Pierre Durand",timestamp:"14:35",isMe:!1}],4:[{id:"4-1",content:"J'ai besoin d'une facture pour ma dernière commande",sender:"Sophie Dubois",timestamp:"Lun 15:10",isMe:!1},{id:"4-2",content:"Bien sûr, je vous prépare cela tout de suite",sender:"Moi",timestamp:"Lun 15:20",isMe:!0},{id:"4-3",content:"Je vous envoie les documents dès que possible",sender:"Sophie Dubois",timestamp:"Lun 15:25",isMe:!1}],5:[{id:"5-1",content:"Avez-vous des huîtres spéciales de Marennes-Oléron ?",sender:"Luc Moreau",timestamp:"23/02 11:05",isMe:!1},{id:"5-2",content:"Oui, nous avons des spéciales n°2 et n°3, ainsi que des fines de claire",sender:"Moi",timestamp:"23/02 11:15",isMe:!0},{id:"5-3",content:"Je vais prendre deux douzaines de spéciales n°2",sender:"Luc Moreau",timestamp:"23/02 11:30",isMe:!1},{id:"5-4",content:"Merci pour votre réponse",sender:"Luc Moreau",timestamp:"23/02 11:35",isMe:!1}]},M0e=t=>UP.find(e=>e.id===t);function L0e({contactId:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(""),o=re.useRef(null),[l,c]=T.useState(t),u=()=>{var p;(p=o.current)==null||p.scrollIntoView({behavior:"smooth"})};re.useEffect(()=>{u()},[LS[l]]),re.useEffect(()=>{c(t)},[t]);const d=p=>{p.preventDefault(),r.trim()&&(console.log("Message envoyé:",r),n(""))},h=p=>{c(p)},f=M0e(l);return a.jsxs("div",{className:"h-[calc(100vh-12rem)] flex flex-col md:flex-row",children:[a.jsxs("div",{className:"hidden md:block w-80 border-r border-white/10",children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:i,onChange:p=>s(p.target.value),placeholder:"Rechercher une conversation...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]})}),a.jsx("div",{className:"divide-y divide-white/10",children:UP.map(p=>a.jsx("div",{onClick:()=>h(p.id),className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${p.id===l?"bg-white/5":""}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:p.name.charAt(0)})}),p.online&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-white font-medium truncate",children:p.name}),p.lastMessageTime&&a.jsx("span",{className:"text-xs text-white/40",children:p.lastMessageTime})]}),p.lastMessage&&a.jsx("p",{className:"text-sm text-white/60 truncate",children:p.lastMessage})]}),p.unreadCount&&p.unreadCount>0&&a.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white",children:p.unreadCount})})]})},p.id))})]}),a.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[a.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[a.jsx("button",{onClick:e,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors","aria-label":"Retour à la liste des contacts",children:a.jsx(If,{size:18,className:"md:w-5 md:h-5"})}),a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:(f==null?void 0:f.name.charAt(0))||"?"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:(f==null?void 0:f.name)||"Contact"}),a.jsx("p",{className:"text-xs md:text-sm text-green-400",children:f!=null&&f.online?"En ligne":"Hors ligne"})]})]})})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[LS[l].map(p=>a.jsx("div",{className:`flex ${p.isMe?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${p.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[a.jsx("p",{className:"text-sm md:text-base",children:p.content}),a.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${p.isMe?"text-white/60":"text-white/40"}`,children:p.timestamp})]})},p.id)),a.jsx("div",{ref:o})]}),a.jsx("form",{onSubmit:d,className:"p-3 md:p-4 border-t border-white/10",children:a.jsxs("div",{className:"flex items-end space-x-2 md:space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("textarea",{value:r,onChange:p=>n(p.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none",rows:1}),a.jsxs("div",{className:"absolute bottom-2 md:bottom-3 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[a.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:a.jsx(YI,{size:16,className:"md:w-5 md:h-5"})}),a.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:a.jsx(_C,{size:16,className:"md:w-5 md:h-5"})}),a.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:a.jsx(SC,{size:16,className:"md:w-5 md:h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:!r.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(p1,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}const R0e=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function HP({onSelectContact:t}){const[e,r]=T.useState(""),[n,i]=T.useState(null),s=R0e.filter(o=>o.name.toLowerCase().includes(e.toLowerCase()));return a.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),a.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:a.jsx(Dt,{size:18})})]}),a.jsx("div",{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:e,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),a.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:16})]})}),n?a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(L0e,{contactId:n,onClose:()=>i(null)})}):a.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/10",children:s.length>0?a.jsx("div",{className:"space-y-0.5",children:s.map(o=>a.jsx("div",{onClick:()=>{i(o.id),t&&t(o.id)},className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",tabIndex:0,role:"button","aria-label":`Conversation avec ${o.name}`,children:a.jsxs("div",{className:"flex items-center justify-between pointer-events-none",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsxs("div",{className:"relative",children:[o.avatar?a.jsx("img",{src:o.avatar,alt:o.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:a.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:o.name.substring(0,1)})}),o.online&&a.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:o.name}),o.lastMessage&&a.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:o.lastMessage})]})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[o.lastMessageTime&&a.jsx("span",{className:"text-xs text-white/40",children:o.lastMessageTime}),o.unreadCount>0&&a.jsx("span",{className:"bg-brand-primary text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:o.unreadCount})]})]})},o.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[a.jsx(jo,{size:36,className:"mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function F0e({messageView:t=!1,activeTab:e}){const r=N0(),[n,i]=T.useState(e||t?"messages":"feed"),[s,o]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState(""),[h,f]=T.useState(null),[p,m]=T.useState(null),[x,g]=T.useState(window.innerWidth<=768),{unreadCount:b}=ua();return T.useEffect(()=>{var y;(y=r.state)!=null&&y.activeTab&&i(r.state.activeTab)},[r.state]),T.useEffect(()=>{e?i(e):t&&i("messages")},[t,e]),T.useEffect(()=>{r.pathname==="/network/messages"&&n!=="messages"&&i("messages")},[r.pathname,n]),T.useEffect(()=>{const y=()=>{g(window.innerWidth<=768)};return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:a.jsx(Ci,{size:28,className:"text-cyan-400"})})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Entre Pro"})]}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(KI,{size:20}),"Ajouter un contact"]}),n==="feed"&&a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Dt,{size:20}),"Nouvelle publication"]})]})}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10 mb-6",children:[a.jsxs("button",{onClick:()=>i("feed"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="feed"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="feed"?"page":void 0,children:[a.jsx(JI,{size:16}),"Fil d'actualités"]}),a.jsxs("button",{onClick:()=>i("contacts"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="contacts"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="contacts"?"page":void 0,children:[a.jsx(Ci,{size:16}),"Contacts"]}),a.jsxs("button",{onClick:()=>i("directory"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="directory"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="directory"?"page":void 0,children:[a.jsx(Id,{size:16}),"Annuaire Prestataires"]}),a.jsxs("button",{onClick:()=>i("forum"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="forum"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="forum"?"page":void 0,children:[a.jsx(jo,{size:16}),"Forum"]}),a.jsxs("button",{onClick:()=>i("messages"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="messages"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="messages"?"page":void 0,children:[a.jsx(AC,{size:16}),"Messagerie"]}),a.jsxs("button",{onClick:()=>i("suppliers"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${n==="suppliers"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":n==="suppliers"?"page":void 0,children:[a.jsx(Ci,{size:16}),"Fournisseurs Amis"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:u,onChange:y=>d(y.target.value),placeholder:"Rechercher...",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx(Bn,{size:18}),"Filtres"]}),a.jsxs("button",{className:"relative p-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx(Rd,{size:18,className:"text-cyan-400"}),b>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full flex items-center justify-center text-xs font-bold shadow-[0_0_10px_rgba(0,210,200,0.5)]",children:b})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[n==="feed"&&a.jsx(S0e,{}),n==="contacts"&&a.jsx(C0e,{searchQuery:u,onSelectContact:y=>{m(y),i("feed")}}),n==="directory"&&a.jsx(y0e,{searchQuery:u,selectedSkill:h}),n==="forum"&&a.jsx(j0e,{searchQuery:u}),n==="messages"&&a.jsx(HP,{}),n==="suppliers"&&a.jsx(D0e,{})]}),s&&a.jsx(E0e,{onClose:()=>o(!1),type:"forum"}),l&&a.jsx(O0e,{onClose:()=>c(!1)})]})}const B0e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Go={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function $0e(){const{companyInfo:t,setCompanyInfo:e}=ua(),[r,n]=T.useState({name:(t==null?void 0:t.name)||"",siret:(t==null?void 0:t.siret)||"",logo:(t==null?void 0:t.logo)||"",description:(t==null?void 0:t.description)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",website:(t==null?void 0:t.website)||""});T.useEffect(()=>{t&&n({name:t.name,siret:t.siret,logo:t.logo||"",description:t.description||"",email:t.email,phone:t.phone,address:t.address,website:t.website||""})},[t]);const i=o=>{const{name:l,value:c}=o.target;n(u=>({...u,[l]:c}))},s=o=>{o.preventDefault(),e(r),Iu.success("Informations de l'entreprise enregistrées avec succès")};return a.jsxs(be.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:B0e,children:[a.jsxs(be.div,{variants:Go,children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Informations de l'entreprise"}),a.jsx("p",{className:"text-white/60 mb-6",children:"Gérez les informations principales de votre entreprise"})]}),a.jsxs("form",{className:"space-y-6",onSubmit:s,children:[a.jsxs(be.div,{className:"grid grid-cols-2 gap-6",variants:Go,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom de l'entreprise"}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:i,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Oyster Cult Enterprise",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Numéro SIRET"}),a.jsx("input",{type:"text",name:"siret",value:r.siret,onChange:i,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"123 456 789 00012",required:!0})]})]}),a.jsxs(be.div,{variants:Go,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Logo de l'entreprise"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-xl transition-all duration-200 hover:border-[#00D1FF]/30 group",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:a.jsxs("div",{className:"space-y-2 text-center",children:[a.jsx(rs,{className:"mx-auto h-12 w-12 text-white/40 group-hover:text-[#00D1FF]/60 transition-colors duration-200"}),a.jsxs("div",{className:"flex text-sm text-white/60",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-[#00D1FF] hover:text-[#00D1FF]/80 focus-within:outline-none transition-colors duration-200",children:[a.jsx("span",{children:"Télécharger un fichier"}),a.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];l&&n(u=>({...u,logo:l.name}))}})]}),a.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),a.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG jusqu'à 10MB"})]})})]}),a.jsxs(be.div,{variants:Go,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:r.description,onChange:i,rows:4,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Description de votre entreprise..."})]}),a.jsxs(be.div,{className:"grid grid-cols-2 gap-6",variants:Go,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"email",name:"email",value:r.email,onChange:i,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"contact@example.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:i,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"+33 1 23 45 67 89",required:!0})]})]})]}),a.jsxs(be.div,{variants:Go,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Adresse"}),a.jsxs("div",{className:"relative",children:[a.jsx(Oi,{className:"absolute left-3 top-3 text-white/40",size:20}),a.jsx("textarea",{name:"address",value:r.address,onChange:i,rows:2,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"Adresse complète...",required:!0})]})]}),a.jsxs(be.div,{variants:Go,children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Site web"}),a.jsxs("div",{className:"relative",children:[a.jsx(Id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"url",name:"website",value:r.website,onChange:i,className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},placeholder:"https://www.example.com"})]})]}),a.jsx(be.div,{variants:Go,className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:"Enregistrer les modifications"})})]})]})}const dm={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},z0e=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function U0e(){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let r="";for(let n=0;n<12;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}const RS={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},FS={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}},BS={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.9,transition:{duration:.2}}};function H0e(){const{addUser:t,deleteUser:e,updateUser:r,users:n}=ua(),[i,s]=T.useState(!1),[o,l]=T.useState(null);T.useState(null);const[c,u]=T.useState(null),[d,h]=T.useState(dm),[f,p]=T.useState({}),m=S=>{l(S);const A={firstName:S.firstName,lastName:S.lastName,email:S.email,phone:S.phone,position:S.position,department:S.department,location:S.location,startDate:S.startDate,employeeId:S.employeeId,emergencyContact:S.emergencyContact,role:S.role};h(A),s(!0)},x=()=>{const S={};return d.firstName||(S.firstName="Le prénom est requis"),d.lastName||(S.lastName="Le nom est requis"),d.email||(S.email="L'email est requis"),d.phone||(S.phone="Le téléphone est requis"),d.position||(S.position="Le poste est requis"),d.employeeId||(S.employeeId="L'ID employé est requis"),p(S),Object.keys(S).length===0},g=async S=>{if(S.preventDefault(),!x())return;const A=U0e();try{const E={...d,password:A};await t(E),Iu.success("Utilisateur ajouté avec succès"),h(dm),s(!1)}catch{Iu.error("Erreur lors de l'ajout de l'utilisateur")}},b=async S=>{if(S.preventDefault(),!(!(o!=null&&o.id)||!x()))try{await r(o.id,d),Iu.success("Utilisateur modifié avec succès"),l(null),h(dm),s(!1)}catch{Iu.error("Erreur lors de la modification de l'utilisateur")}},y=S=>{const{name:A,value:E}=S.target;if(h(D=>({...D,[A]:E})),f[A]){const D={...f};delete D[A],p(D)}},w=()=>{s(!1),l(null),h(dm),p({})},N=S=>{S.preventDefault();const A={};d.firstName||(A.firstName="Le prénom est obligatoire"),d.lastName||(A.lastName="Le nom est obligatoire"),d.email||(A.email="L'email est obligatoire"),d.phone||(A.phone="Le téléphone est obligatoire"),d.position||(A.position="Le rôle est obligatoire"),d.startDate||(A.startDate="La date de début est obligatoire"),p(A),Object.keys(A).length===0&&g(S)},_=S=>{e(S),u(null),Iu.success("Utilisateur supprimé avec succès")};return a.jsxs(be.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:RS,children:[a.jsxs(be.div,{variants:FS,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),a.jsx(Tm,{size:24,className:"text-[#00D1FF] relative z-10"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Rôles & Permissions"}),a.jsx("p",{className:"text-white/60",children:"Gérez les rôles et les permissions des utilisateurs"})]})]}),a.jsxs(be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:[a.jsx(Dt,{size:20,className:"inline-block mr-2"}),"Ajouter un utilisateur"]})]}),a.jsx(be.div,{className:"grid grid-cols-1 gap-6",variants:RS,children:z0e.map(S=>a.jsx(be.div,{variants:FS,className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00D1FF]/10 flex items-center justify-center",children:a.jsx(Tm,{size:24,className:"text-[#00D1FF]"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent mb-1",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:S.name}),a.jsx("p",{className:"text-white/60",children:S.description}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-white/80",children:"Utilisateurs"}),a.jsx("div",{className:"space-y-3",children:n.filter(A=>A.role===S.id).map(A=>a.jsx(be.div,{className:"bg-white/5 rounded-xl p-4 group hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-white font-medium",children:[A.firstName," ",A.lastName]}),a.jsx("div",{className:"text-sm text-white/60 mt-1",children:A.position})]}),a.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[a.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(A),className:"p-2 hover:bg-[#00D1FF]/10 rounded-lg transition-colors",children:a.jsx(Ui,{size:16,className:"text-[#00D1FF]"})}),a.jsx(be.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(A.id),className:"p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:a.jsx(Zn,{size:16,className:"text-red-400"})})]})]})},A.id))})]})]})]})})},S.id))}),a.jsx(fr,{children:(i||o)&&a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx(be.div,{variants:BS,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-xl rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-6",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:o?"Modifier l'utilisateur":"Nouvel utilisateur"}),a.jsxs("form",{className:"space-y-6",onSubmit:o?b:N,children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Prénom"}),a.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:y,className:`w-full px-4 py-3 bg-white/5 border ${f.firstName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),f.firstName&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(Kn,{size:16,className:"mr-1"}),f.firstName]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom"}),a.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:y,className:`w-full px-4 py-3 bg-white/5 border ${f.lastName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),f.lastName&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(Kn,{size:16,className:"mr-1"}),f.lastName]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"email",name:"email",value:d.email,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.email?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),f.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(Kn,{size:16,className:"mr-1"}),f.email]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.phone?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),f.phone&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(Kn,{size:16,className:"mr-1"}),f.phone]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Rôle"}),a.jsxs("div",{className:"relative",children:[a.jsx(Tm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsxs("select",{name:"position",value:d.position,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.position?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none appearance-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0,children:[a.jsx("option",{value:"",children:"Sélectionner un rôle"}),a.jsx("option",{value:"manageur",children:"Manageur"}),a.jsx("option",{value:"operateur",children:"Opérateur"}),a.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),a.jsx("option",{value:"comptable",children:"Comptable"})]})]}),f.position&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(Kn,{size:16,className:"mr-1"}),f.position]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Date de début"}),a.jsxs("div",{className:"relative",children:[a.jsx(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),a.jsx("input",{type:"date",name:"startDate",value:d.startDate,onChange:y,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${f.startDate?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),f.startDate&&a.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[a.jsx(Kn,{size:16,className:"mr-1"}),f.startDate]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[a.jsx(be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:w,className:"px-6 py-3 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),a.jsx(be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:o?"Mettre à jour":"Ajouter"})]})]})]})})})}),a.jsx(fr,{children:c&&a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx(be.div,{variants:BS,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-white/70 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),a.jsx(be.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c&&_(c),className:"px-4 py-2 bg-red-500/80 hover:bg-red-500 text-white rounded-xl transition-colors",children:"Supprimer"})]})]})})})})]})}const q0e=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function W0e(){const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(null),[o,l]=T.useState(q0e),c=h=>{n(h),e(!0)},u=h=>{l(o.filter(f=>f.id!==h)),s(null)},d=h=>{if(r)l(o.map(f=>f.id===r.id?{...f,...h}:f));else{const f={id:crypto.randomUUID(),...h};l([...o,f])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(h=>a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(ui,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:h.name}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:h.description})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(h),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Ui,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(h.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Zn,{size:20,className:"text-white/60"})})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.sizes.map(f=>a.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",f]},f))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),a.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[a.jsxs("div",{children:["Stock minimum: ",h.minStock," ",h.unit,"s"]}),a.jsxs("div",{children:["Stock maximum: ",h.maxStock," ",h.unit,"s"]})]})]})]})]},h.id))}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le produit":"Nouveau produit"}),a.jsxs("form",{onSubmit:h=>{h.preventDefault();const f=new FormData(h.currentTarget),p=Object.fromEntries(f.entries());d(p)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),a.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.category,required:!0,children:[a.jsx("option",{value:"huitres",children:"Huîtres"}),a.jsx("option",{value:"materiels",children:"Matériels"}),a.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:r==null?void 0:r.description})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(h=>a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",name:"sizes",value:h,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.sizes.includes(h)}),a.jsxs("span",{className:"text-white",children:["N°",h]})]},h))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),a.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.unit,required:!0,children:[a.jsx("option",{value:"douzaine",children:"Douzaine"}),a.jsx("option",{value:"piece",children:"Pièce"}),a.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le produit"})]})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(Kn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const V0e=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function G0e(){const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(null),[o,l]=T.useState(V0e),c=h=>{n(h),e(!0)},u=h=>{l(o.filter(f=>f.id!==h)),s(null)},d=h=>{if(r)l(o.map(f=>f.id===r.id?{...f,...h}:f));else{const f={id:crypto.randomUUID(),...h};l([...o,f])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(h=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(nd,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:h.name}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:h.type})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(ka,{size:16,className:"mr-2"}),h.contact.email]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Ei,{size:16,className:"mr-2"}),h.contact.phone]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Oi,{size:16,className:"mr-2"}),h.address]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.products.map((f,p)=>a.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:f},p))})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(h),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Ui,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(h.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Zn,{size:20,className:"text-white/60"})})]})]})},h.id))}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le fournisseur":"Nouveau fournisseur"}),a.jsxs("form",{onSubmit:h=>{h.preventDefault();const f=new FormData(h.currentTarget),p={name:f.get("name"),type:f.get("type"),contact:{name:f.get("contactName"),email:f.get("email"),phone:f.get("phone")},address:f.get("address"),products:f.getAll("products"),status:"active"};d(p)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[a.jsx("option",{value:"naissain",children:"Naissain"}),a.jsx("option",{value:"emballages",children:"Emballages"}),a.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),a.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.email,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),a.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.phone,required:!0})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),a.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:r==null?void 0:r.address,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),a.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(h=>a.jsxs("label",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",name:"products",value:h,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.products.includes(h)}),a.jsx("span",{className:"text-white",children:h})]},h))})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(Kn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const X0e=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function Y0e(){const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(null),[o,l]=T.useState(X0e),c=h=>{n(h),e(!0)},u=h=>{l(o.filter(f=>f.id!==h)),s(null)},d=h=>{if(r)l(o.map(f=>f.id===r.id?{...f,...h}:f));else{const f={id:crypto.randomUUID(),...h};l([...o,f])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(h=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(Pf,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:h.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:h.type==="retail"?"Détail":"Gros"})]}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:h.description}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(h.validFrom).toLocaleDateString("fr-FR"),h.validTo&&` au ${new Date(h.validTo).toLocaleDateString("fr-FR")}`]}),a.jsx("div",{className:"mt-4",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-sm text-white/60",children:[a.jsx("th",{className:"text-left pb-2",children:"Produit"}),a.jsx("th",{className:"text-left pb-2",children:"Calibre"}),a.jsx("th",{className:"text-right pb-2",children:"Prix"}),h.type==="wholesale"&&a.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),a.jsx("tbody",{className:"text-white",children:h.products.map((f,p)=>a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-2",children:f.name}),a.jsxs("td",{className:"py-2",children:["N°",f.size]}),a.jsxs("td",{className:"text-right py-2",children:[f.price.toFixed(2),"€/",f.unit]}),h.type==="wholesale"&&a.jsx("td",{className:"text-right py-2",children:f.minQuantity})]},p))})]})})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(h),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Ui,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(h.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Zn,{size:20,className:"text-white/60"})})]})]})},h.id))}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(Kn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la liste de prix":"Nouvelle liste de prix"}),a.jsxs("form",{onSubmit:h=>{h.preventDefault();const f=new FormData(h.currentTarget),p={name:f.get("name"),description:f.get("description"),type:f.get("type"),validFrom:f.get("validFrom"),validTo:f.get("validTo"),products:[]};d(p)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[a.jsx("option",{value:"retail",children:"Vente au détail"}),a.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:r==null?void 0:r.description,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),a.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validFrom,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),a.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validTo})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),a.jsxs("div",{className:"space-y-4",children:[((r==null?void 0:r.products)||[]).map((h,f)=>a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),a.jsxs("select",{name:`products[${f}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.name,children:[a.jsx("option",{value:"plates",children:"Huîtres Plates"}),a.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),a.jsxs("select",{name:`products[${f}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.size,children:[a.jsx("option",{value:"2",children:"N°2"}),a.jsx("option",{value:"3",children:"N°3"}),a.jsx("option",{value:"4",children:"N°4"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),a.jsx("input",{type:"number",step:"0.01",name:`products[${f}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.price})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),a.jsx("input",{type:"number",name:`products[${f}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:h.minQuantity})]})]},f)),a.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const h=[...(r==null?void 0:r.products)||[]];h.push({name:"plates",size:"3",price:0,minQuantity:1}),n({...r||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:h})},children:"+ Ajouter un produit"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const K0e=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function J0e(){var h,f;const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(null),[o,l]=T.useState(K0e),c=p=>{n(p),e(!0)},u=p=>{l(o.filter(m=>m.id!==p)),s(null)},d=p=>{if(r)l(o.map(m=>m.id===r.id?{...m,...p}:m));else{const m={id:crypto.randomUUID(),...p};l([...o,m])}e(!1),n(null)};return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),a.jsxs("button",{onClick:()=>{n(null),e(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Configuration table"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(p=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:a.jsx(Xu,{size:20,className:"text-brand-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="active"?"bg-green-500/20 text-green-300":p.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.status==="active"?"Actif":p.status==="maintenance"?"Maintenance":"Inactif"})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm text-white/60",children:"Type"}),a.jsx("div",{className:"text-white",children:p.type}),a.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),a.jsx("div",{className:"text-white",children:p.capacity})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),a.jsx("div",{className:"text-white",children:p.cordCount})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c(p),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Ui,{size:20,className:"text-white/60"})}),a.jsx("button",{onClick:()=>s(p.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Zn,{size:20,className:"text-white/60"})})]})]})},p.id))}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:a.jsx(Kn,{size:24,className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),a.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),a.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[a.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>u(i),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la table":"Nouvelle table"}),a.jsxs("form",{onSubmit:p=>{p.preventDefault();const m=new FormData(p.currentTarget),x={name:m.get("name"),type:m.get("type"),capacity:Number(m.get("capacity")),cordCount:Number(m.get("cordCount")),cordLength:Number(m.get("cordLength")),oystersPerCord:Number(m.get("oystersPerCord")),coordinates:{latitude:Number(m.get("latitude")),longitude:Number(m.get("longitude"))}};d(x)},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),a.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:r==null?void 0:r.name,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.type)||"table",required:!0,children:[a.jsx("option",{value:"table",children:"Table"}),a.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),a.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.capacity)||100,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),a.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.cordCount)||10,required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(r==null?void 0:r.cordLength)||3,required:!0}),a.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),a.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.oystersPerCord)||130,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),a.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(h=r==null?void 0:r.coordinates)==null?void 0:h.latitude,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),a.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(f=r==null?void 0:r.coordinates)==null?void 0:f.longitude,required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>{e(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer table"})]})]})]})})]})}const $S=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function Z0e(){const[t,e]=T.useState(!1);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),a.jsxs("button",{onClick:()=>e(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[a.jsx(Dt,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:$S.map(r=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx(mw,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:r.name}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.symbol}),a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.type})]}),r.description&&a.jsx("p",{className:"text-sm text-white/60 mt-1",children:r.description}),r.baseUnit&&a.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",r.symbol," = ",r.conversionFactor," ",r.baseUnit]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Ui,{size:20,className:"text-white/60"})}),a.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(Zn,{size:20,className:"text-white/60"})})]})]})},r.id))}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),a.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[a.jsx("option",{value:"weight",children:"Poids"}),a.jsx("option",{value:"volume",children:"Volume"}),a.jsx("option",{value:"quantity",children:"Quantité"}),a.jsx("option",{value:"dimension",children:"Dimension"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),a.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),a.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[a.jsx("option",{value:"",children:"Aucune"}),$S.map(r=>a.jsxs("option",{value:r.symbol,children:[r.name," (",r.symbol,")"]},r.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const Q0e=[{id:"company",label:"Entreprise",icon:a.jsx(m1,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:a.jsx(Ci,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:a.jsx(ui,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:a.jsx(Pf,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:a.jsx(Xu,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:a.jsx(mw,{size:20}),description:"Configuration des unités de mesure"}];function epe(){const[t,e]=T.useState("company"),r=()=>{switch(t){case"company":return a.jsx($0e,{});case"roles":return a.jsx(H0e,{});case"products":return a.jsx(W0e,{});case"suppliers":return a.jsx(G0e,{});case"pricing":return a.jsx(Y0e,{});case"locations":return a.jsx(J0e,{});case"units":return a.jsx(Z0e,{});default:return null}};return a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 p-6 animate-fadeIn",children:[a.jsx("div",{className:"config-container",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-lg"}),a.jsx(f1,{size:24,className:"text-cyan-400 relative z-10","aria-hidden":"true"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Configuration"})]})}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("nav",{className:"col-span-3",children:a.jsx("div",{className:"config-container space-y-2",children:Q0e.map(n=>a.jsxs("button",{onClick:()=>e(n.id),className:`
                  flex items-center w-full gap-3 px-4 py-3 rounded-lg transition-all duration-300
                  ${t===n.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}
                  min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40
                `,"aria-selected":t===n.id,role:"tab",children:[a.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:n.icon}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium",children:n.label}),a.jsx("span",{className:"text-sm text-white/70",children:n.description})]})]},n.id))})}),a.jsx("main",{className:"col-span-9",children:a.jsx("div",{className:"config-container",children:a.jsx(fr,{mode:"wait",children:a.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r()},t)})})})]})]})}const tpe=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],rpe={alert:di,success:yc,info:Rd,warning:hi},npe={system:Rd,task:Hi,inventory:ui,quality:ks,hr:Ci},zS={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function ipe({searchQuery:t,filter:e}){const[r,n]=T.useState(null),[i,s]=T.useState(tpe),o=i.filter(d=>{const h=d.title.toLowerCase().includes(t.toLowerCase())||d.message.toLowerCase().includes(t.toLowerCase()),f=e==="all"||e==="unread"&&!d.read||e==="important"&&d.important;return h&&f}),l=d=>{s(i.map(h=>h.id===d?{...h,read:!0}:h))},c=d=>{s(i.map(h=>h.id===d?{...h,important:!h.important}:h))},u=d=>{s(i.filter(h=>h.id!==d))};return a.jsx("div",{className:"space-y-4",children:o.map(d=>{const h=rpe[d.type],f=npe[d.category];return a.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${d.read?"":"bg-white/10"}`,children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${zS[d.type].split(" ")[0]} flex items-center justify-center`,children:a.jsx(h,{size:20,className:zS[d.type].split(" ")[1]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:d.title}),d.important&&a.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!d.read&&a.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),a.jsx("p",{className:"text-white/70 mt-1",children:d.message}),a.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hi,{size:16,className:"mr-1"}),It(new Date(d.timestamp),"PPp",{locale:Nr})]}),a.jsx("div",{children:"•"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(f,{size:16,className:"mr-1"}),d.category]})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>n(r===d.id?null:d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(S0,{size:20,className:"text-white/60"})}),r===d.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!d.read&&a.jsxs("button",{onClick:()=>l(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(Ub,{size:16,className:"mr-2"}),"Marquer comme lu"]}),a.jsxs("button",{onClick:()=>c(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[a.jsx(Pa,{size:16,className:"mr-2"}),d.important?"Retirer important":"Marquer important"]}),a.jsxs("button",{onClick:()=>u(d.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[a.jsx(Zn,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},d.id)})})}const pb=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],ape=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],mb=["#ef4444","#22c55e","#3b82f6","#eab308"];function spe(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx(Rd,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),a.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:a.jsx(di,{size:20,className:"text-red-300"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),a.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:a.jsx(yc,{size:20,className:"text-green-300"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),a.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:a.jsx(hi,{size:20,className:"text-yellow-300"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),a.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),a.jsx("div",{className:"h-80",children:a.jsx(sx,{width:"100%",height:"100%",children:a.jsxs(MO,{children:[a.jsx(Us,{data:pb,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:pb.map((t,e)=>a.jsx(I0,{fill:mb[e%mb.length]},`cell-${e}`))}),a.jsx(Na,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:t=>`${t}%`})]})})}),a.jsx("div",{className:"mt-6 space-y-4",children:pb.map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:mb[e]}}),a.jsx("span",{className:"text-white/70",children:t.name})]}),a.jsxs("span",{className:"text-white",children:[t.value,"%"]})]},t.name))})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),a.jsx("div",{className:"h-80",children:a.jsx(sx,{width:"100%",height:"100%",children:a.jsxs(bue,{data:ape,children:[a.jsx(A5,{strokeDasharray:"3 3",stroke:"#ffffff10"}),a.jsx(Jd,{dataKey:"date",stroke:"#ffffff60"}),a.jsx(Zd,{stroke:"#ffffff60"}),a.jsx(Na,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),a.jsx(Lc,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function ope({onClose:t}){return a.jsx(oa,{isOpen:!0,onClose:t,title:"Paramètres des notifications",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Rd,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Application"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ka,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Email"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(CC,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Mobile"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ei,{size:20,className:"text-white/60"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"SMS"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Alertes système"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Tâches"}),a.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Stock"}),a.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"Qualité"}),a.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white",children:"RH"}),a.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function lpe(){const[t,e]=T.useState(!0),[r,n]=T.useState(!1),[i,s]=T.useState(""),[o,l]=T.useState("all");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>e(!t),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(vC,{size:20,className:"mr-2"}),"Statistiques"]}),a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(f1,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),t&&a.jsx(spe,{}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),a.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-colors ${o==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),a.jsx("button",{onClick:()=>l("unread"),className:`px-4 py-2 rounded-lg transition-colors ${o==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),a.jsx("button",{onClick:()=>l("important"),className:`px-4 py-2 rounded-lg transition-colors ${o==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),a.jsx(ipe,{searchQuery:i,filter:o}),r&&a.jsx(ope,{onClose:()=>n(!1)})]})}const L2=({onClose:t,task:e})=>{const n=(x=>!x||!Array.isArray(x)?"":x.map(g=>{if(typeof g=="object"&&g!==null){const b=typeof g.author=="string"?g.author:g.author&&typeof g.author=="object"&&g.author.name?g.author.name:"Utilisateur",y=typeof g.content=="string"?g.content:JSON.stringify(g.content);return`${b}: ${y}`}return typeof g=="string"?g:JSON.stringify(g)}).join(`

`))(e==null?void 0:e.comments),{register:i,handleSubmit:s,formState:{errors:o},watch:l}=rh({defaultValues:{...e||{},comments:n}}),[c,u]=T.useState("details"),[d,h]=T.useState(null),p=l("status")==="completed",m=async x=>{try{const g={...x,comments:(e==null?void 0:e.comments)||x.comments};console.log("Mise à jour de tâche:",g),t()}catch(g){console.error("Error updating task:",g)}};return a.jsx("div",{className:"modal-container",children:a.jsxs("form",{onSubmit:s(m),className:"space-y-6",children:[p&&a.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[a.jsx("button",{type:"button",className:`px-4 py-2 mr-2 transition-all ${c==="details"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("details"),"aria-label":"Afficher les détails de la tâche",children:a.jsx("div",{className:"flex items-center",children:"Détails"})}),a.jsx("button",{type:"button",className:`px-4 py-2 transition-all ${c==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("performance"),"aria-label":"Afficher la performance de la tâche",children:a.jsx("div",{className:"flex items-center",children:"Performance"})})]}),c==="details"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"title",children:"Titre de la tâche"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",...i("title",{required:"Le titre est requis"}),id:"title",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Entrez le titre de la tâche","aria-required":"true"})}),o.title&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.title.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"description",children:"Description"}),a.jsx("textarea",{...i("description"),id:"description",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[100px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Décrivez la tâche en détail"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"dueDate",children:"Date"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(Hi,{size:16})}),a.jsx("input",{type:"date",...i("dueDate",{required:"La date est requise"}),id:"dueDate",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-required":"true"})]}),o.dueDate&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.dueDate.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"assignedTo",children:"Assigné à"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(Ld,{size:16})}),a.jsxs("select",{...i("assignedTo"),id:"assignedTo",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white appearance-none focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx("option",{value:"",children:"Sélectionner un utilisateur"}),a.jsx("option",{value:"John Doe",children:"John Doe"}),a.jsx("option",{value:"Jane Smith",children:"Jane Smith"}),a.jsx("option",{value:"Alex Johnson",children:"Alex Johnson"})]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{className:"w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"estimatedHours",children:"Heures estimées"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(hi,{size:16})}),a.jsx("input",{type:"number",step:"0.5",...i("estimatedHours",{required:"Ce champ est requis",min:{value:.5,message:"Minimum 0.5 heure"},max:{value:100,message:"Maximum 100 heures"}}),id:"estimatedHours",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Heures","aria-required":"true"})]}),o.estimatedHours&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.estimatedHours.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"comments",children:"Commentaires"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-4 text-white/40",children:a.jsx(jo,{size:16})}),a.jsx("textarea",{...i("comments"),id:"comments",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[80px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Ajoutez vos commentaires ici..."})]})]})]}),c==="performance"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-4 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Évaluation de la tâche"}),a.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start space-x-1",children:[1,2,3,4,5].map(x=>a.jsx("button",{type:"button",onClick:()=>h(x),className:`p-1 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-md transition-colors ${d&&d>=x?"text-yellow-400":"text-white/30 hover:text-white/50"}`,"aria-label":`Évaluer ${x} sur 5`,children:a.jsx(Pa,{className:"w-5 h-5 sm:w-6 sm:h-6",fill:d&&d>=x?"currentColor":"none"})},x))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-white mb-1",htmlFor:"delay",children:"Retard (en jours)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:a.jsx(Kn,{size:16})}),a.jsx("input",{type:"number",step:"1",...i("delay"),id:"delay",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"0"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-white/10",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/30 text-white/70 hover:text-white transition-all min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Enregistrer"})]})]})})},cpe={low:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400",gradientClass:"from-green-500/10 to-transparent"},medium:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400",gradientClass:"from-amber-500/10 to-transparent"},high:{badgeClass:"text-red-300 bg-red-500/20 border-red-500/30",iconColor:"text-red-400",gradientClass:"from-red-500/10 to-transparent"}},upe={pending:{badgeClass:"text-blue-300 bg-blue-500/20 border-blue-500/30",iconColor:"text-blue-400"},inProgress:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400"},completed:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400"},cancelled:{badgeClass:"text-gray-300 bg-gray-500/20 border-gray-500/30",iconColor:"text-gray-400"}},US={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2}},exit:{opacity:0,y:20,transition:{duration:.2}}},dpe=[{id:"1",title:"Nettoyage des poches d'huîtres",description:"Nettoyer les poches d'huîtres dans la zone A pour éliminer les algues et sédiments. Vérifier l'état des attaches.",status:"completed",priority:"medium",dueDate:"2023-09-15",assignedTo:"Thomas Moreau",category:"Entretien",location:"Zone A - Parc 3",tags:["Nettoyage","Poches"],estimatedTime:6,actualTime:5,comments:[{author:"Jean Dupont",content:"J'ai remarqué que les attaches des poches 45 à 52 sont usées et devront être remplacées prochainement.",date:"2023-09-10T14:30:00",rating:4,attachments:[]},{author:"Thomas Moreau",content:"Nettoyage terminé avec efficacité. J'ai également remplacé quelques attaches qui étaient trop abîmées.",date:"2023-09-12T09:45:00",rating:5,attachments:["rapport-entretien.pdf"]}],delay:0,performance:{efficiency:100,quality:92,timeliness:100}},{id:"2",title:"Retournement des poches d'huîtres",description:"Retourner les poches dans les parcs 5 à 8 pour assurer une croissance uniforme des huîtres et réduire les déformations.",status:"in_progress",priority:"high",dueDate:"2023-09-25",assignedTo:"Marie Lefèvre",category:"Manipulation",location:"Zone B - Parcs 5-8",tags:["Retournement","Croissance"],estimatedTime:10,actualTime:8,comments:[{author:"Marie Lefèvre",content:"Les parcs 5 et 6 sont terminés. J'ai remarqué une forte présence de naissain naturel sur certaines poches.",date:"2023-09-18T10:15:00",rating:3,attachments:["observations.jpg"]}],delay:0,performance:{efficiency:70,quality:85,timeliness:90}},{id:"3",title:"Tri et calibrage des huîtres",description:"Trier et calibrer les huîtres du lot 2023-B pour séparer les différentes tailles et déterminer celles prêtes pour la vente.",status:"pending",priority:"medium",dueDate:"2023-09-30",assignedTo:"Pierre Dubois",category:"Tri",location:"Atelier principal",tags:["Calibrage","Tri","Vente"],estimatedTime:8,actualTime:0,comments:[{author:"Pierre Dubois",content:"J'ai préparé la zone de tri et vérifié l'état de la calibreuse automatique.",date:"2023-09-17T11:00:00",rating:0,attachments:["vérification-machine.pdf"]}],delay:0},{id:"4",title:"Mise en claire des huîtres spéciales",description:"Transférer les huîtres spéciales sélectionnées vers les claires pour l'affinage avant la période de fêtes. Vérifier la salinité et le phytoplancton.",status:"pending",priority:"low",dueDate:"2023-10-05",assignedTo:"Sophie Martin",category:"Affinage",location:"Claires - Marais Est",tags:["Affinage","Spéciales","Préparation fêtes"],estimatedTime:5,actualTime:0,comments:[]}];function hpe({searchQuery:t,onTaskSelect:e}){const[r,n]=T.useState(null),[i,s]=T.useState([]),[o,l]=T.useState(null),[c,u]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState(""),[m,x]=T.useState(null),[g,b]=T.useState(!1),[y,w]=T.useState({}),[N,_]=T.useState(""),[S,A]=T.useState("");T.useState(!0),T.useState({top:0,left:0});const[E,D]=T.useState(!1),[F,k]=T.useState(null),[O,B]=T.useState(dpe),L=T.useMemo(()=>O.filter(ae=>ae.title.toLowerCase().includes(t.toLowerCase())||ae.description&&ae.description.toLowerCase().includes(t.toLowerCase())),[O,t]),W=ae=>{const Pe=L.find(Ue=>Ue.id===ae);if(!Pe)return 0;const De=Pe.estimatedTime||8,he=Pe.actualTime||Math.random()*De*1.5;let te=0;if(he<De)te=Math.round(De/he*100);else if(he===De)te=100;else{const Ue=he/De;Ue<=1.1?te=90:Ue<=1.25?te=75:Ue<=1.5?te=60:Ue<=2?te=40:te=20}return Math.round(te)},$=ae=>ae>=100||ae>=90?"text-green-500":ae>=75?"text-green-400":ae>=60?"text-yellow-400":ae>=40?"text-amber-500":"text-red-500",z=ae=>{s(Pe=>Pe.includes(ae)?Pe.filter(De=>De!==ae):[...Pe,ae])},X=(ae,Pe)=>{Pe&&Pe.stopPropagation(),x(ae.id),n(ae)},Y=ae=>{k(ae),D(!0)},le=()=>{F&&(B(ae=>ae.filter(Pe=>Pe.id!==F)),o&&o.id===F&&l(null),r&&r.id===F&&n(null),console.log(`Task deleted: ${F}`),D(!1),k(null))},fe=()=>{D(!1),k(null)},R=ae=>{g&&x(ae.id)},I=ae=>new Date(ae).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),q=(ae,Pe)=>{Pe.stopPropagation(),x(ae),u(!0)},Q=(ae,Pe)=>{Pe.stopPropagation(),x(ae),h(!0)},J=(ae,Pe)=>{ae&&ae.stopPropagation(),typeof Pe=="function"&&Pe(Pe===l||Pe===n?null:!1)},de=ae=>{ae&&(ae.stopPropagation(),ae.preventDefault()),n(null)},ve=ae=>{ae.stopPropagation(),ae.preventDefault()},ue=()=>{m&&f&&(console.log(`Commentaire ajouté pour la tâche ${m}:`,f),p(""),u(!1))},Oe=()=>{m&&N&&(console.log(`Retard signalé pour la tâche ${m}:`,{raison:N,durée:S}),_(""),A(""),h(!1))};T.useEffect(()=>{const ae={};L.forEach(Pe=>{ae[Pe.id]=re.createRef()}),w(ae)},[L]),T.useEffect(()=>{const ae=()=>{b(window.innerWidth<=768)};return ae(),window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)}},[]);const Ee=!g;return a.jsxs("div",{className:`task-list ${g?"isResponsive":""}`,children:[L.length===0?a.jsxs("div",{className:"empty-task-state",children:[a.jsx("div",{className:"empty-task-icon",children:a.jsx(ZI,{size:40})}),a.jsx("h3",{className:"empty-task-title",children:"Aucune tâche trouvée"}),a.jsx("p",{className:"empty-task-text",children:"Commencez à ajouter de nouvelles tâches ou modifiez vos critères de recherche."})]}):a.jsx("div",{className:"task-grid",children:L.map(ae=>{var ee,ne;const Pe=ae.priority,De=ae.status,he=i.includes(ae.id),te=De==="completed"?"Terminée":De==="in_progress"?"En cours":"En attente",Ue=De==="completed"?"completed":De==="in_progress"?"inProgress":"pending";return a.jsxs("div",{className:"task-card-wrapper",ref:y[ae.id],children:[g&&m===ae.id&&a.jsxs(a.Fragment,{children:[c&&a.jsx("div",{className:"modal-responsive-container",onClick:ce=>J(ce,u),children:a.jsxs("div",{className:"modal-responsive-content",onClick:ve,children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{children:"Ajouter un commentaire"}),a.jsx("button",{onClick:ce=>J(ce,u),className:"modal-responsive-close",children:a.jsx(vt,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("textarea",{value:f,onChange:ce=>p(ce.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:ce=>J(ce,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:ue,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!f.trim(),children:"Envoyer"})]})]})]})}),d&&a.jsx("div",{className:"modal-responsive-container",onClick:ce=>J(ce,h),children:a.jsxs("div",{className:"modal-responsive-content",onClick:ve,children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{children:"Signaler un retard"}),a.jsx("button",{onClick:ce=>J(ce,h),className:"modal-responsive-close",children:a.jsx(vt,{size:20})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),a.jsx("textarea",{value:N,onChange:ce=>_(ce.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),a.jsx("input",{type:"text",value:S,onChange:ce=>A(ce.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:ce=>J(ce,h),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:Oe,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!N.trim(),children:"Signaler"})]})]})]})}),a.jsx(fr,{children:r&&r.id===ae.id&&a.jsx(be.div,{className:"modal-responsive-container edit-modal-responsive",onClick:de,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(be.div,{className:"modal-responsive-content edit-modal-responsive-content",onClick:ve,variants:US,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{children:"Modifier la tâche"}),a.jsx("button",{onClick:de,className:"modal-responsive-close",children:a.jsx(vt,{size:20})})]}),a.jsx("div",{className:"p-4",children:a.jsx(L2,{onClose:de,task:r})})]})})})]}),a.jsxs("div",{className:"task-card",onClick:()=>R(ae),children:[a.jsx("div",{className:`task-card-header ${cpe[Pe].gradientClass}`,children:a.jsxs("div",{className:"task-header-content",children:[a.jsxs("div",{className:"task-header-left",children:[ae.status==="completed"&&a.jsx("div",{className:"ml-2 flex items-center",children:a.jsxs("div",{className:"efficiency-indicator flex items-center",title:"Pourcentage de rendement basé sur le temps",children:[a.jsx("span",{className:"text-xs text-white/60 mr-1",children:"Rendement:"}),a.jsxs("span",{className:`text-sm font-medium ${$(W(ae.id))}`,children:[W(ae.id),"%"]})]})}),a.jsx("div",{className:"status-container",children:a.jsx("div",{className:`status-badge ${upe[Ue].badgeClass}`,children:a.jsx("span",{children:te})})})]}),a.jsx("div",{className:"task-header-right",children:a.jsx("button",{className:"expand-task-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:ce=>{ce.stopPropagation(),z(ae.id)},"aria-label":he?"Réduire":"Développer",children:he?a.jsx(mC,{className:"transition-transform duration-200",size:16}):a.jsx(Md,{className:"transition-transform duration-200",size:16})})})]})}),a.jsxs("div",{className:`task-card-body ${he?"expanded":""}`,children:[a.jsx("h3",{className:"task-title",children:ae.title}),a.jsx("p",{className:"task-description",children:ae.description}),a.jsxs("div",{className:"task-metadata",children:[ae.dueDate&&a.jsxs("div",{className:"metadata-item",children:[a.jsx(Hi,{size:14,className:"metadata-icon"}),a.jsx("span",{children:I(ae.dueDate)})]}),ae.assignedTo&&a.jsxs("div",{className:"metadata-item",children:[a.jsx(Ld,{size:14,className:"metadata-icon"}),a.jsx("span",{children:ae.assignedTo})]}),ae.location&&a.jsxs("div",{className:"metadata-item",children:[a.jsx(Oi,{size:14,className:"metadata-icon"}),a.jsx("span",{children:ae.location})]})]}),a.jsxs("div",{className:`expanded-content ${he?"expanded":""}`,children:[a.jsxs("div",{className:"task-tags",children:[ae.category&&a.jsxs("div",{className:"task-tag",children:[a.jsx(Lu,{size:12}),a.jsx("span",{children:ae.category})]}),ae.title.toLowerCase().includes("inspection")&&a.jsxs("div",{className:"task-tag",children:[a.jsx(Lu,{size:12}),a.jsx("span",{children:"inspection"})]}),ae.title.toLowerCase().includes("qualité")||((ee=ae.description)==null?void 0:ee.toLowerCase().includes("qualité"))&&a.jsxs("div",{className:"task-tag",children:[a.jsx(Lu,{size:12}),a.jsx("span",{children:"qualité"})]}),ae.title.toLowerCase().includes("huître")||((ne=ae.description)==null?void 0:ne.toLowerCase().includes("huître"))&&a.jsxs("div",{className:"task-tag",children:[a.jsx(Lu,{size:12}),a.jsx("span",{children:"huîtres"})]})]}),a.jsxs("div",{className:"task-actions flex flex-col gap-2 w-full",children:[a.jsxs("div",{className:"flex justify-between w-full gap-2",children:[a.jsxs("button",{className:"delay-btn comment-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ce=>q(ae.id,ce),"aria-label":"Commenter",title:"Commenter",children:[a.jsx(jo,{size:16,className:"text-blue-400 mr-2"}),a.jsx("span",{className:"text-s",children:"Commenter"})]}),a.jsxs("button",{className:"delay-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ce=>Q(ae.id,ce),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[a.jsx(Kn,{size:16,className:"text-amber-400 mr-2"}),a.jsx("span",{className:"text-s",children:"Signaler un retard"})]})]}),a.jsxs("div",{className:"flex justify-between w-full gap-2",children:[a.jsxs("button",{className:"task-action-btn edit w-1/2",onClick:ce=>X(ae,ce),"aria-label":"Modifier",title:"Modifier",children:[a.jsx(xw,{size:14}),a.jsx("span",{children:"Modifier"})]}),a.jsxs("button",{className:"task-action-btn delete w-1/2",onClick:ce=>{ce.stopPropagation(),Y(ae.id)},children:[a.jsx(Zn,{size:14}),a.jsx("span",{children:"Supprimer"})]})]})]})]}),a.jsx("div",{className:"performance-details",children:he&&ae.status==="completed"&&a.jsxs("div",{className:"bg-white/5 mt-3 p-3 rounded-lg border border-white/10",children:[a.jsxs("h4",{className:"text-sm font-medium text-white mb-2 flex items-center",children:[a.jsx(hi,{size:14,className:"mr-1.5 text-yellow-400"}),"Évaluation du temps de réalisation"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps prévu"}),a.jsxs("div",{className:"text-sm text-white",children:[ae.estimatedTime||8," heures"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps réel"}),a.jsxs("div",{className:"text-sm text-white",children:[ae.actualTime||Math.round((Math.random()*.5+.75)*(ae.estimatedTime||8)*10)/10," heures"]})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Rendement"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:a.jsx("div",{className:"h-full rounded-full bg-green-500",style:{width:`${Math.min(100,W(ae.id))}%`}})}),a.jsxs("span",{className:`ml-2 text-sm font-medium ${$(W(ae.id))}`,children:[W(ae.id),"%"]})]})]})]})]})})]})]}),E&&F===ae.id&&a.jsx("div",{className:"modal-responsive-container",onClick:fe,children:a.jsxs("div",{className:"modal-responsive-content",onClick:ce=>ce.stopPropagation(),children:[a.jsxs("div",{className:"modal-responsive-header",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Confirmer la suppression"}),a.jsx("button",{onClick:fe,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:a.jsx(vt,{size:20})})]}),a.jsx("div",{className:"modal-responsive-body",children:a.jsx("p",{className:"text-white/90",children:"Êtes-vous sûr de vouloir supprimer cette tâche ? Cette action est irréversible."})}),a.jsxs("div",{className:"modal-responsive-footer",children:[a.jsx("button",{onClick:fe,className:"px-4 py-2 text-white/80 hover:text-white",children:"Annuler"}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Supprimer"})]})]})})]},ae.id)})}),a.jsx(fr,{}),a.jsx(fr,{children:r&&Ee&&a.jsx(be.div,{className:"fixed inset-0 bg-black/70 z-50 motion-div-overlay task-list-container-modal edit-task-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ae=>J(ae,n),children:a.jsxs(be.div,{className:"p-4 sm:p-6 rounded-lg max-w-2xl w-full mx-2 sm:mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 edit-modal-content task-list-container-modal-content",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:ve,variants:US,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Modifier la tâche"}),a.jsx("button",{onClick:()=>J(null,n),className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:a.jsx(vt,{size:20})})]}),a.jsx(L2,{onClose:()=>J(null,n),task:r})]})]})})}),c&&Ee&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>J(null,u),children:a.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:ae=>ae.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Ajouter un commentaire"}),a.jsx("button",{onClick:()=>J(null,u),className:"text-white/60 hover:text-white",children:a.jsx(vt,{size:20})})]}),a.jsx("textarea",{value:f,onChange:ae=>p(ae.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:()=>J(null,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:ue,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!f.trim(),children:"Envoyer"})]})]})}),d&&Ee&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>J(null,h),children:a.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:ae=>ae.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-white text-lg font-medium",children:"Signaler un retard"}),a.jsx("button",{onClick:()=>J(null,h),className:"text-white/60 hover:text-white",children:a.jsx(vt,{size:20})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),a.jsx("textarea",{value:N,onChange:ae=>_(ae.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),a.jsx("input",{type:"text",value:S,onChange:ae=>A(ae.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),a.jsxs("div",{className:"flex justify-end mt-4",children:[a.jsx("button",{onClick:()=>J(null,h),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),a.jsx("button",{onClick:Oe,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!N.trim(),children:"Signaler"})]})]})})]})}const fpe=({value:t,maxValue:e=100,color:r})=>{const n=Math.min(100,Math.round(t/e*100));return a.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},ppe=({currentSize:t,targetSize:e,progress:r})=>{const n=["T15","N°5","N°4","N°3","N°2","N°1"],i=()=>r>100?"#ef4444":r>=85?"#22c55e":(r>=70,"#3b82f6");return a.jsxs("div",{className:"mt-4 mb-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("div",{className:"text-white/70 text-xs",children:"Début"}),a.jsx("div",{className:"text-white/70 text-xs",children:"Objectif"}),a.jsx("div",{className:"text-white/70 text-xs",children:"Final"})]}),a.jsxs("div",{className:"relative h-3 w-full rounded-full overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to right, #3b82f6, #3b82f6 30%, #3b82f6 50%, #3b82f6 75%, #22c55e 85%, #eab308 95%, #ef4444)"}}),a.jsx("div",{className:"absolute inset-y-0 right-0 bg-gray-900/70 rounded-r-full transition-all duration-1000 ease-out",style:{width:`${100-r}%`}}),a.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/70",style:{left:"85%"}}),a.jsxs("div",{className:"absolute top-1/2 z-10 -translate-y-1/2 transition-all duration-1000",style:{left:`${r}%`},children:[a.jsx(be.div,{className:"absolute -inset-2 rounded-full opacity-30",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{backgroundColor:i()}}),a.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg border-2 border-white z-20",style:{backgroundColor:i()}})]})]}),a.jsx("div",{className:"flex justify-between mt-1",children:n.map((s,o)=>a.jsx("div",{className:`text-xs ${s===t?"text-white font-bold":s===e?"text-green-400 font-bold":"text-white/50"}`,children:s},o))})]})},mpe=({occupancy:t})=>{const e=Array.from({length:10},(i,s)=>s+1),r=t/100*10,n="w-full h-7 rounded-sm border border-white/10";return a.jsx("div",{className:"grid grid-cols-10 gap-1 w-full mt-2",style:{backgroundColor:"rgb(7, 26, 64)"},children:e.map(i=>{const s=i===Math.ceil(r)&&!Number.isInteger(r),o=i<=Math.floor(r);return i===1?a.jsx("div",{className:`${n} bg-transparent`},i):o?a.jsx("div",{className:`${n} bg-[#a02648]`},i):s?a.jsx("div",{className:`${n} relative overflow-hidden`,children:a.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-[#a02648]",style:{width:"50%"}})},i):a.jsx("div",{className:`${n} bg-transparent`},i)})})},xpe=()=>{const t=[{date:"13/01/2025",action:"Échantillonnage",user:"Sophie L."},{date:"12/01/2025",action:"Vider 15 cordes",user:"Marc D."},{date:"11/01/2025",action:"Vider 15 cordes",user:"Jean F."},{date:"10/01/2025",action:"Vider 15 cordes",user:"Pierre M."}];return a.jsx("div",{className:"space-y-3 mt-4",children:t.map((e,r)=>a.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/10",children:a.jsx(QI,{size:16,className:"text-blue-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.action}),a.jsx("div",{className:"text-sm text-white/60",children:e.date})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ld,{size:16,className:"text-white/40 mr-1"}),a.jsx("span",{className:"text-white/70",children:e.user})]})]},r))})};function gpe({table:t,onClose:e}){const r=E0(e),n=t.alert||t.timeProgress>100,[i,s]=T.useState("info");return a.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:a.jsxs(be.div,{ref:r,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},className:"glass-effect shadow-glass w-full max-w-4xl rounded-xl overflow-hidden relative",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-900/80 to-brand-burgundy/80 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full"}),a.jsx(bn,{size:24,className:"text-white relative z-10"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),a.jsx("p",{className:"text-white/70",children:t.type}),t.status&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 mt-2 rounded-full text-xs font-medium bg-white/10 text-white/80",children:t.status})]})]}),a.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full","aria-label":"Fermer",children:a.jsx(vt,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex border-b border-white/10",children:[a.jsx("button",{onClick:()=>s("info"),className:`px-4 py-2 font-medium transition-colors ${i==="info"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Informations"}),a.jsx("button",{onClick:()=>s("history"),className:`px-4 py-2 font-medium transition-colors ${i==="history"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Historique"})]}),i==="info"&&a.jsxs(a.Fragment,{children:[a.jsxs(be.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(vn,{size:18,className:"mr-2 text-blue-400"}),"Occupation de la table"]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.occupancy,"%"]}),a.jsxs("div",{className:"text-sm text-white/60",children:[Math.round(t.occupancy*.1),"/10 unités"]})]}),a.jsx(mpe,{occupancy:t.occupancy}),t.alert&&a.jsxs("div",{className:"flex items-center p-3 bg-red-500/20 rounded-lg mt-3",children:[a.jsx(Kn,{size:16,className:"text-red-400 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-white",children:t.alert})]})]}),a.jsxs(be.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.1},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(h1,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]}),n&&a.jsxs("div",{className:"flex items-center p-3 bg-amber-500/20 rounded-lg",children:[a.jsx(di,{size:16,className:"text-amber-400 mr-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-white",children:t.alert||"Calibre dépassé"})]}),a.jsx(ppe,{currentSize:t.currentSize,targetSize:t.targetSize,progress:t.timeProgress}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[a.jsx("div",{className:"text-white/60",children:"Calibre actuel"}),a.jsx("div",{className:"text-white font-semibold text-lg",children:t.currentSize})]}),a.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[a.jsx("div",{className:"text-white/60",children:"Calibre cible"}),a.jsx("div",{className:"text-white font-semibold text-lg",children:t.targetSize})]})]})]}),a.jsxs(be.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.2},className:"glass-effect rounded-xl p-6 space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[a.jsx(Hi,{size:18,className:"mr-2 text-blue-400"}),"Informations de production"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 mb-1",children:"Date de démarrage"}),a.jsx("div",{className:"text-white font-medium",children:t.startDate})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white/60 mb-1",children:"Date de récolte prévue"}),a.jsx("div",{className:"text-white font-medium",children:t.harvestDate})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("div",{className:"text-white/60",children:"Taux de mortalité"}),a.jsxs("div",{className:`text-sm ${t.mortality>20?"text-red-400":t.mortality>15?"text-amber-400":"text-green-400"}`,children:[t.mortality,"%"]})]}),a.jsx(fpe,{value:t.mortality,maxValue:30,color:t.mortality<=15?"#22c55e":t.mortality<=20?"#eab308":"#ef4444"})]})]})]}),i==="history"&&a.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"glass-effect rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des manipulations"}),a.jsx(xpe,{})]})]})]})})}const hm=[{id:"1",title:"Inspection des huîtres",description:"Vérification de la qualité et de la taille des huîtres dans le parc A.",priority:"high",status:"pending",dueDate:"2025-03-15",category:"Qualité",assignedTo:"Jean Dupont",estimatedTime:3,location:"Parc A - Zone Nord",tags:["inspection","qualité","huîtres"]},{id:"2",title:"Maintenance des poches",description:"Entretien et rotation des poches d'huîtres pour optimiser la croissance.",priority:"medium",status:"in_progress",dueDate:"2025-03-14",category:"Maintenance",assignedTo:"Marie Martin",estimatedTime:5,location:"Parc B - Filière 3",tags:["maintenance","poches","rotation"]},{id:"3",title:"Analyse de l'eau",description:"Prélèvement et analyse des échantillons d'eau pour surveiller la qualité du milieu.",priority:"medium",status:"completed",dueDate:"2025-03-10",category:"Environnement",assignedTo:"Sophie Bernard",estimatedTime:2,actualTime:1.5,location:"Laboratoire",tags:["analyse","eau","qualité"]},{id:"4",title:"Préparation commandes",description:"Préparation des commandes pour livraison aux restaurants locaux.",priority:"high",status:"in_progress",dueDate:"2025-03-13",category:"Logistique",assignedTo:"Thomas Leroy",estimatedTime:4,location:"Zone de conditionnement",tags:["commandes","livraison","restaurants"]},{id:"5",title:"Contrôle des naissains",description:"Vérification de la croissance des naissains et ajustement des conditions.",priority:"low",status:"pending",dueDate:"2025-03-18",category:"Production",assignedTo:"Julie Moreau",estimatedTime:3,location:"Écloserie",tags:["naissains","croissance","surveillance"]}];function fm({title:t,value:e,icon:r,color:n,onClick:i}){const s=()=>{switch(n){case"green":return"bg-emerald-500/20 text-emerald-400";case"blue":return"bg-blue-500/20 text-blue-400";case"yellow":return"bg-amber-500/20 text-amber-400";case"red":return"bg-red-500/20 text-red-400";default:return"bg-cyan-500/20 text-cyan-400"}};return a.jsx("div",{onClick:i,className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[120px] flex items-center stats-card to-block",children:a.jsxs("div",{className:"flex items-center gap-4 direction-column",children:[a.jsx("div",{className:`w-12 h-12 rounded-full ${s()} flex items-center justify-center`,children:r}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70 text-sm",children:t}),a.jsx("h3",{className:"text-2xl font-bold text-white",children:e})]})]})})}const HS={hidden:{opacity:0,transform:"translate3d(0, 20px, 0)"},visible:{opacity:1,transform:"translate3d(0, 0, 0)",transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transform:"translate3d(0, 20px, 0)",transition:{duration:.2,ease:"easeIn"}}};function vpe(){var g;is();const[t,e]=T.useState(""),[r,n]=T.useState(null),[i,s]=T.useState(!1),{session:o}=ua();(g=o==null?void 0:o.user)==null||g.role;const l=()=>{n(null)},c=()=>{s(!0)},u=()=>{s(!1)},d=b=>{console.log(`Filtering tasks by status: ${b}`)},h=b=>{console.log(`Filtering tasks by priority: ${b}`)},f=hm.filter(b=>b.status==="pending").length,p=hm.filter(b=>b.status==="in_progress").length,m=hm.filter(b=>b.status==="completed").length,x=hm.filter(b=>b.priority==="high").length;return a.jsxs("div",{className:"task-page-wrapper",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-4 sm:p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-page-header",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 task-page-header",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex justify-start items-center gap-2 mb-4 header-content",children:[a.jsx("span",{className:"header-icon",children:a.jsx("span",{className:"icon-inner",children:a.jsx(eD,{size:28,className:"text-cyan-400","aria-hidden":"true"})})}),a.jsx("span",{className:"header-title",children:"Gestion des Tâches"})]}),a.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-3 action-buttons items-center",children:[a.jsxs("div",{className:"relative search-container w-full md:w-1/2",children:[a.jsx(Vr,{size:18,className:"search-icon absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60 pointer-events-none","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",className:"pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] text-white w-full h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",value:t,onChange:b=>e(b.target.value)})]}),a.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] whitespace-nowrap h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 action-button w-full md:w-1/2","aria-label":"Ajouter une nouvelle tâche",children:[a.jsx(Dt,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Nouvelle tâche"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 stats-container",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[a.jsx(fm,{title:"En attente",value:f,icon:a.jsx(hi,{size:20,className:"text-amber-500","aria-hidden":"true"}),color:"amber",onClick:()=>d("pending")}),a.jsx(fm,{title:"En cours",value:p,icon:a.jsx(Gb,{size:20,className:"text-blue-500","aria-hidden":"true"}),color:"blue",onClick:()=>d("in_progress")})]}),a.jsx("div",{className:"w-full lg:w-1/5 flex justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 flex items-center justify-center",children:a.jsx(Uj,{className:"h-10 w-10 text-cyan-400","aria-hidden":"true"})}),a.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mt-2",children:"Tâches en cours"}),a.jsx("p",{className:"text-sm text-white/60",children:It(new Date,"d MMMM yyyy",{locale:Nr})})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[a.jsx(fm,{title:"Terminées",value:m,icon:a.jsx(yc,{size:20,className:"text-green-500","aria-hidden":"true"}),color:"green",onClick:()=>d("completed")}),a.jsx(fm,{title:"Prioritaires",value:x,icon:a.jsx(Kn,{size:20,className:"text-red-500","aria-hidden":"true"}),color:"red",onClick:()=>h("high")})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-list-container",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 task-list-header",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:a.jsx(Uj,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Liste des tâches"}),a.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",It(new Date,"d MMMM yyyy 'à' HH:mm",{locale:Nr})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:-translate-y-1 filter-button","aria-label":"Filtrer les tâches",children:[a.jsx(Bn,{size:16,className:"text-white/70","aria-hidden":"true"}),a.jsx("span",{className:"text-white/70 text-sm",children:"Filtrer"})]})})]}),a.jsx(hpe,{searchQuery:t})]}),a.jsx(fr,{children:i&&a.jsx(be.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,children:a.jsxs(be.div,{className:"p-6 rounded-lg max-w-2xl w-full mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 new-task-modal",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:b=>b.stopPropagation(),variants:HS,initial:"hidden",animate:"visible",exit:"exit",children:[a.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/10 pb-4 new-task-modal-header",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:a.jsx(Dt,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent new-task-modal-title",children:"Nouvelle tâche"})]}),a.jsx("button",{onClick:u,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:rotate-90 new-task-modal-close","aria-label":"Fermer",children:a.jsx(vt,{size:20,"aria-hidden":"true"})})]}),a.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar new-task-modal-body",children:a.jsx(L2,{onClose:u})})]})]})})}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 activity-report-container",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 activity-report-header",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:a.jsx(tD,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Rapport d'activité"}),a.jsx("p",{className:"text-sm text-white/60",children:"Performances et analyses"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 stats-grid",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Efficacité"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"87%"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"+2% depuis la semaine dernière"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Temps moyen"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"3.2h"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Par tâche complétée"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Priorité"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"12"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Tâches à traiter cette semaine"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[a.jsx("h3",{className:"text-lg text-white mb-2",children:"Score global"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"A+"}),a.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Excellent niveau de performance"})]})]}),a.jsx("div",{className:"flex justify-center md:justify-end mt-4",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 export-button",children:[a.jsx(ns,{size:18,"aria-hidden":"true"}),a.jsx("span",{children:"Exporter le rapport"})]})})]}),a.jsx(fr,{children:r&&a.jsx(be.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:a.jsx(be.div,{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 max-w-4xl w-full mx-4",variants:HS,initial:"hidden",animate:"visible",exit:"exit",onClick:b=>b.stopPropagation(),children:a.jsx(gpe,{table:r,onClose:l})})})})]})}function bpe({table:t}){const e=is();return a.jsx("div",{className:"flex-1 pt-24",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors text-white/60 hover:text-white/90",children:a.jsx(wC,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Bouzigues"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("p",{className:"text-white/60",children:"T-1234"}),a.jsx("button",{className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:a.jsx(xw,{size:14,className:"text-white/60"})})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thermometer mr-2 text-brand-burgundy",children:a.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),"Température"]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-droplets mr-2 text-brand-primary",children:[a.jsx("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}),a.jsx("path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"})]}),"Salinité"]}),a.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clock mr-2 text-brand-tertiary",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Échantillonnage"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),a.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),a.jsx("span",{className:"text-white",children:"26 févr. 2025"})]}),a.jsx("div",{className:"pt-2 border-t border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),a.jsx("span",{className:"text-lg font-medium text-yellow-400",children:"2.5%"})]})})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shell mr-2 text-brand-burgundy",children:a.jsx("path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44"})}),"Lot en cours"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Calibre"}),a.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Quantité"}),a.jsx("span",{className:"text-white font-medium",children:"300 unités"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),a.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[a.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-spreadsheet mr-2 text-brand-tertiary",children:[a.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),a.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),a.jsx("path",{d:"M8 13h2"}),a.jsx("path",{d:"M14 13h2"}),a.jsx("path",{d:"M8 17h2"}),a.jsx("path",{d:"M14 17h2"})]}),"Importation de données"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),a.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-download mr-1",children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"7 10 12 15 17 10"}),a.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),"Télécharger un modèle de fichier"]}),a.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-upload",children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"17 8 12 3 7 8"}),a.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),"Importer des données"]})]})]})]})})}const Jh=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),a.jsxs("div",{className:"relative w-full max-w-lg rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px -2px, rgba(0, 200, 200, 0.1) 0px 4px 12px -2px, rgba(255, 255, 255, 0.05) 0px -1px 2px 0px inset"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-cyan-500/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-cyan-500/10 transition-colors",children:a.jsx(vt,{className:"w-5 h-5 text-cyan-400"})})]}),a.jsx("div",{className:"p-4",children:n})]})]}):null,ype="modulepreload",wpe=function(t){return"/"+t},qS={},Fs=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=wpe(c),c in qS)return;qS[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ype,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function or(t){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(t)}var ci=Uint8Array,sa=Uint16Array,W5=Int32Array,pg=new ci([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mg=new ci([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),R2=new ci([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qP=function(t,e){for(var r=new sa(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new W5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},WP=qP(pg,2),VP=WP.b,F2=WP.r;VP[28]=258,F2[258]=28;var GP=qP(mg,0),jpe=GP.b,WS=GP.r,B2=new sa(32768);for(var kr=0;kr<32768;++kr){var Xo=(kr&43690)>>1|(kr&21845)<<1;Xo=(Xo&52428)>>2|(Xo&13107)<<2,Xo=(Xo&61680)>>4|(Xo&3855)<<4,B2[kr]=((Xo&65280)>>8|(Xo&255)<<8)>>1}var Ms=function(t,e,r){for(var n=t.length,i=0,s=new sa(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new sa(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(r){l=new sa(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=o[t[i]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)l[B2[h]>>c]=u}else for(l=new sa(n),i=0;i<n;++i)t[i]&&(l[i]=B2[o[t[i]-1]++]>>15-t[i]);return l},yl=new ci(288);for(var kr=0;kr<144;++kr)yl[kr]=8;for(var kr=144;kr<256;++kr)yl[kr]=9;for(var kr=256;kr<280;++kr)yl[kr]=7;for(var kr=280;kr<288;++kr)yl[kr]=8;var y0=new ci(32);for(var kr=0;kr<32;++kr)y0[kr]=5;var Npe=Ms(yl,9,0),_pe=Ms(yl,9,1),Spe=Ms(y0,5,0),Ape=Ms(y0,5,1),xb=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Wa=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},gb=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},V5=function(t){return(t+7)/8|0},XP=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ci(t.subarray(e,r))},Cpe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xa=function(t,e,r){var n=new Error(e||Cpe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Xa),!r)throw n;return n},Epe=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new ci(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new ci(i*3));var u=function(Ee){var ae=r.length;if(Ee>ae){var Pe=new ci(Math.max(ae*2,Ee));Pe.set(r),r=Pe}},d=e.f||0,h=e.p||0,f=e.b||0,p=e.l,m=e.d,x=e.m,g=e.n,b=i*8;do{if(!p){d=Wa(t,h,1);var y=Wa(t,h+1,3);if(h+=3,y)if(y==1)p=_pe,m=Ape,x=9,g=5;else if(y==2){var S=Wa(t,h,31)+257,A=Wa(t,h+10,15)+4,E=S+Wa(t,h+5,31)+1;h+=14;for(var D=new ci(E),F=new ci(19),k=0;k<A;++k)F[R2[k]]=Wa(t,h+k*3,7);h+=A*3;for(var O=xb(F),B=(1<<O)-1,L=Ms(F,O,1),k=0;k<E;){var W=L[Wa(t,h,B)];h+=W&15;var w=W>>4;if(w<16)D[k++]=w;else{var $=0,z=0;for(w==16?(z=3+Wa(t,h,3),h+=2,$=D[k-1]):w==17?(z=3+Wa(t,h,7),h+=3):w==18&&(z=11+Wa(t,h,127),h+=7);z--;)D[k++]=$}}var X=D.subarray(0,S),Y=D.subarray(S);x=xb(X),g=xb(Y),p=Ms(X,x,1),m=Ms(Y,g,1)}else Xa(1);else{var w=V5(h)+4,N=t[w-4]|t[w-3]<<8,_=w+N;if(_>i){c&&Xa(0);break}l&&u(f+N),r.set(t.subarray(w,_),f),e.b=f+=N,e.p=h=_*8,e.f=d;continue}if(h>b){c&&Xa(0);break}}l&&u(f+131072);for(var le=(1<<x)-1,fe=(1<<g)-1,R=h;;R=h){var $=p[gb(t,h)&le],I=$>>4;if(h+=$&15,h>b){c&&Xa(0);break}if($||Xa(2),I<256)r[f++]=I;else if(I==256){R=h,p=null;break}else{var q=I-254;if(I>264){var k=I-257,Q=pg[k];q=Wa(t,h,(1<<Q)-1)+VP[k],h+=Q}var J=m[gb(t,h)&fe],de=J>>4;J||Xa(3),h+=J&15;var Y=jpe[de];if(de>3){var Q=mg[de];Y+=gb(t,h)&(1<<Q)-1,h+=Q}if(h>b){c&&Xa(0);break}l&&u(f+131072);var ve=f+q;if(f<Y){var ue=s-Y,Oe=Math.min(Y,ve);for(ue+f<0&&Xa(3);f<Oe;++f)r[f]=n[ue+f]}for(;f<ve;++f)r[f]=r[f-Y]}}e.l=p,e.p=R,e.b=f,e.f=d,p&&(d=1,e.m=x,e.d=m,e.n=g)}while(!d);return f!=r.length&&o?XP(r,0,f):r.subarray(0,f)},so=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Zh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},vb=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:KP,l:0};if(i==1){var o=new ci(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,S){return _.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var p=new sa(f+1),m=$2(r[d-1],p,0);if(m>e){var n=0,x=0,g=m-e,b=1<<g;for(s.sort(function(S,A){return p[A.s]-p[S.s]||S.f-A.f});n<i;++n){var y=s[n].s;if(p[y]>e)x+=b-(1<<m-p[y]),p[y]=e;else break}for(x>>=g;x>0;){var w=s[n].s;p[w]<e?x-=1<<e-p[w]++-1:++n}for(;n>=0&&x;--n){var N=s[n].s;p[N]==e&&(--p[N],++x)}m=e}return{t:new ci(p),l:m}},$2=function(t,e,r){return t.s==-1?Math.max($2(t.l,e,r+1),$2(t.r,e,r+1)):e[t.s]=r},VS=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new sa(++e),n=0,i=t[0],s=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[l]}return{c:r.subarray(0,n),n:e}},Qh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},YP=function(t,e,r){var n=r.length,i=V5(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},GS=function(t,e,r,n,i,s,o,l,c,u,d){so(e,d++,r),++i[256];for(var h=vb(i,15),f=h.t,p=h.l,m=vb(s,15),x=m.t,g=m.l,b=VS(f),y=b.c,w=b.n,N=VS(x),_=N.c,S=N.n,A=new sa(19),E=0;E<y.length;++E)++A[y[E]&31];for(var E=0;E<_.length;++E)++A[_[E]&31];for(var D=vb(A,7),F=D.t,k=D.l,O=19;O>4&&!F[R2[O-1]];--O);var B=u+5<<3,L=Qh(i,yl)+Qh(s,y0)+o,W=Qh(i,f)+Qh(s,x)+o+14+3*O+Qh(A,F)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&B<=L&&B<=W)return YP(e,d,t.subarray(c,c+u));var $,z,X,Y;if(so(e,d,1+(W<L)),d+=2,W<L){$=Ms(f,p,0),z=f,X=Ms(x,g,0),Y=x;var le=Ms(F,k,0);so(e,d,w-257),so(e,d+5,S-1),so(e,d+10,O-4),d+=14;for(var E=0;E<O;++E)so(e,d+3*E,F[R2[E]]);d+=3*O;for(var fe=[y,_],R=0;R<2;++R)for(var I=fe[R],E=0;E<I.length;++E){var q=I[E]&31;so(e,d,le[q]),d+=F[q],q>15&&(so(e,d,I[E]>>5&127),d+=I[E]>>12)}}else $=Npe,z=yl,X=Spe,Y=y0;for(var E=0;E<l;++E){var Q=n[E];if(Q>255){var q=Q>>18&31;Zh(e,d,$[q+257]),d+=z[q+257],q>7&&(so(e,d,Q>>23&31),d+=pg[q]);var J=Q&31;Zh(e,d,X[J]),d+=Y[J],J>3&&(Zh(e,d,Q>>5&8191),d+=mg[J])}else Zh(e,d,$[Q]),d+=z[Q]}return Zh(e,d,$[256]),d+z[256]},Ope=new W5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KP=new ci(0),Ppe=function(t,e,r,n,i,s){var o=s.z||t.length,l=new ci(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var h=Ope[e-1],f=h>>13,p=h&8191,m=(1<<r)-1,x=s.p||new sa(32768),g=s.h||new sa(m+1),b=Math.ceil(r/3),y=2*b,w=function(De){return(t[De]^t[De+1]<<b^t[De+2]<<y)&m},N=new W5(25e3),_=new sa(288),S=new sa(32),A=0,E=0,D=s.i||0,F=0,k=s.w||0,O=0;D+2<o;++D){var B=w(D),L=D&32767,W=g[B];if(x[L]=W,g[B]=L,k<=D){var $=o-D;if((A>7e3||F>24576)&&($>423||!u)){d=GS(t,c,0,N,_,S,E,F,O,D-O,d),F=A=E=0,O=D;for(var z=0;z<286;++z)_[z]=0;for(var z=0;z<30;++z)S[z]=0}var X=2,Y=0,le=p,fe=L-W&32767;if($>2&&B==w(D-fe))for(var R=Math.min(f,$)-1,I=Math.min(32767,D),q=Math.min(258,$);fe<=I&&--le&&L!=W;){if(t[D+X]==t[D+X-fe]){for(var Q=0;Q<q&&t[D+Q]==t[D+Q-fe];++Q);if(Q>X){if(X=Q,Y=fe,Q>R)break;for(var J=Math.min(fe,Q-2),de=0,z=0;z<J;++z){var ve=D-fe+z&32767,ue=x[ve],Oe=ve-ue&32767;Oe>de&&(de=Oe,W=ve)}}}L=W,W=x[L],fe+=L-W&32767}if(Y){N[F++]=268435456|F2[X]<<18|WS[Y];var Ee=F2[X]&31,ae=WS[Y]&31;E+=pg[Ee]+mg[ae],++_[257+Ee],++S[ae],k=D+X,++A}else N[F++]=t[D],++_[t[D]]}}for(D=Math.max(D,k);D<o;++D)N[F++]=t[D],++_[t[D]];d=GS(t,c,u,N,_,S,E,F,O,D-O,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=g,s.p=x,s.i=D,s.w=k)}else{for(var D=s.w||0;D<o+u;D+=65535){var Pe=D+65535;Pe>=o&&(c[d/8|0]=u,Pe=o),d=YP(c,d+1,t.subarray(D,Pe))}s.i=o}return XP(l,0,n+V5(d)+i)},JP=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kpe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ci(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return Ppe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},ZP=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Tpe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=JP();i.p(e.dictionary),ZP(t,2,i.d())}},Ipe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Xa(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Xa(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function z2(t,e){e||(e={});var r=JP();r.p(t);var n=kpe(t,e,e.dictionary?6:2,4);return Tpe(n,e),ZP(n,n.length-4,r.d()),n}function Dpe(t,e){return Epe(t.subarray(Ipe(t,e),-4),{i:2},e,e)}var Mpe=typeof TextDecoder<"u"&&new TextDecoder,Lpe=0;try{Mpe.decode(KP,{stream:!0}),Lpe=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function bb(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var xr={log:bb,warn:function(t){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):bb.call(null,arguments))},error:function(t){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):bb(t))}};function yb(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ql(n.response,e,r)},n.onerror=function(){xr.error("could not download file")},n.send()}function XS(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Nf,U2,Ql=pt.saveAs||((typeof window>"u"?"undefined":or(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?XS(i.href)?yb(t,e,r):pm(i,i.target="_blank"):pm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){pm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(XS(t))yb(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){pm(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:or(s)!=="object"&&(xr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return yb(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(pt.HTMLElement)||pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":or(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=pt.URL||pt.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function QP(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function wb(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=ti(r,n,i,s,e[0],7,-680876936),s=ti(s,r,n,i,e[1],12,-389564586),i=ti(i,s,r,n,e[2],17,606105819),n=ti(n,i,s,r,e[3],22,-1044525330),r=ti(r,n,i,s,e[4],7,-176418897),s=ti(s,r,n,i,e[5],12,1200080426),i=ti(i,s,r,n,e[6],17,-1473231341),n=ti(n,i,s,r,e[7],22,-45705983),r=ti(r,n,i,s,e[8],7,1770035416),s=ti(s,r,n,i,e[9],12,-1958414417),i=ti(i,s,r,n,e[10],17,-42063),n=ti(n,i,s,r,e[11],22,-1990404162),r=ti(r,n,i,s,e[12],7,1804603682),s=ti(s,r,n,i,e[13],12,-40341101),i=ti(i,s,r,n,e[14],17,-1502002290),r=ri(r,n=ti(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ri(s,r,n,i,e[6],9,-1069501632),i=ri(i,s,r,n,e[11],14,643717713),n=ri(n,i,s,r,e[0],20,-373897302),r=ri(r,n,i,s,e[5],5,-701558691),s=ri(s,r,n,i,e[10],9,38016083),i=ri(i,s,r,n,e[15],14,-660478335),n=ri(n,i,s,r,e[4],20,-405537848),r=ri(r,n,i,s,e[9],5,568446438),s=ri(s,r,n,i,e[14],9,-1019803690),i=ri(i,s,r,n,e[3],14,-187363961),n=ri(n,i,s,r,e[8],20,1163531501),r=ri(r,n,i,s,e[13],5,-1444681467),s=ri(s,r,n,i,e[2],9,-51403784),i=ri(i,s,r,n,e[7],14,1735328473),r=ni(r,n=ri(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ni(s,r,n,i,e[8],11,-2022574463),i=ni(i,s,r,n,e[11],16,1839030562),n=ni(n,i,s,r,e[14],23,-35309556),r=ni(r,n,i,s,e[1],4,-1530992060),s=ni(s,r,n,i,e[4],11,1272893353),i=ni(i,s,r,n,e[7],16,-155497632),n=ni(n,i,s,r,e[10],23,-1094730640),r=ni(r,n,i,s,e[13],4,681279174),s=ni(s,r,n,i,e[0],11,-358537222),i=ni(i,s,r,n,e[3],16,-722521979),n=ni(n,i,s,r,e[6],23,76029189),r=ni(r,n,i,s,e[9],4,-640364487),s=ni(s,r,n,i,e[12],11,-421815835),i=ni(i,s,r,n,e[15],16,530742520),r=ii(r,n=ni(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ii(s,r,n,i,e[7],10,1126891415),i=ii(i,s,r,n,e[14],15,-1416354905),n=ii(n,i,s,r,e[5],21,-57434055),r=ii(r,n,i,s,e[12],6,1700485571),s=ii(s,r,n,i,e[3],10,-1894986606),i=ii(i,s,r,n,e[10],15,-1051523),n=ii(n,i,s,r,e[1],21,-2054922799),r=ii(r,n,i,s,e[8],6,1873313359),s=ii(s,r,n,i,e[15],10,-30611744),i=ii(i,s,r,n,e[6],15,-1560198380),n=ii(n,i,s,r,e[13],21,1309151649),r=ii(r,n,i,s,e[4],6,-145523070),s=ii(s,r,n,i,e[11],10,-1120210379),i=ii(i,s,r,n,e[2],15,718787259),n=ii(n,i,s,r,e[9],21,-343485551),t[0]=dl(r,t[0]),t[1]=dl(n,t[1]),t[2]=dl(i,t[2]),t[3]=dl(s,t[3])}function xg(t,e,r,n,i,s){return e=dl(dl(e,t),dl(n,s)),dl(e<<i|e>>>32-i,r)}function ti(t,e,r,n,i,s,o){return xg(e&r|~e&n,t,e,i,s,o)}function ri(t,e,r,n,i,s,o){return xg(e&n|r&~n,t,e,i,s,o)}function ni(t,e,r,n,i,s,o){return xg(e^r^n,t,e,i,s,o)}function ii(t,e,r,n,i,s,o){return xg(r^(e|~n),t,e,i,s,o)}function ek(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)wb(n,Rpe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(wb(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,wb(n,i),n}function Rpe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Nf=pt.atob.bind(pt),U2=pt.btoa.bind(pt);var YS="0123456789abcdef".split("");function Fpe(t){for(var e="",r=0;r<4;r++)e+=YS[t>>8*r+4&15]+YS[t>>8*r&15];return e}function Bpe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function H2(t){return ek(t).map(Bpe).join("")}var $pe=function(t){for(var e=0;e<t.length;e++)t[e]=Fpe(t[e]);return t.join("")}(ek("hello"))!="5d41402abc4b2a76b9719d911017c592";function dl(t,e){if($pe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q2(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var h=e.length,f=0,p=0,m="";for(c=0;c<h;c++)p=(p+(d=l[f=(f+1)%256]))%256,l[f]=l[p],l[p]=d,o=l[(l[f]+l[p])%256],m+=String.fromCharCode(e.charCodeAt(c)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var KS={print:4,modify:8,copy:16,"annot-forms":32};function Du(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(KS.perm!==void 0)throw new Error("Invalid permission: "+l);i+=KS[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=H2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=q2(this.encryptionKey,this.padding)}function Mu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function JS(t){if(or(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(l){pt.console&&xr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function w0(t){if(!(this instanceof w0))return new w0(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function tk(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ll(t,e,r,n,i){if(!(this instanceof ll))return new ll(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,tk.call(this,n,i)}function uc(t,e,r,n,i){if(!(this instanceof uc))return new uc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,tk.call(this,n,i)}function st(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;or(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=JS;var m="1.3",x=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(C){m=C};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var b=p.__private__.getPageFormat=function(C){return g[C]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function N(){this.saveGraphicsState(),te(new ht(Ge,0,0,-Ge,0,ko()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",w=y.ADVANCED}function _(){this.restoreGraphicsState(),u="S",w=y.COMPAT}var S=p.__private__.combineFontStyleAndFontWeight=function(C,H){if(C=="bold"&&H=="normal"||C=="bold"&&H==400||C=="normal"&&H=="italic"||C=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(C=H==400||H==="normal"?C==="italic"?"italic":"normal":H!=700&&H!=="bold"||C!=="normal"?(H==700?"bold":H)+""+C:"bold"),C};p.advancedAPI=function(C){var H=w===y.COMPAT;return H&&N.call(this),typeof C!="function"||(C(this),H&&_.call(this)),this},p.compatAPI=function(C){var H=w===y.ADVANCED;return H&&_.call(this),typeof C!="function"||(C(this),H&&N.call(this)),this},p.isAdvancedAPI=function(){return w===y.ADVANCED};var A,E=function(C){if(w!==y.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(C,H){var oe=e||H;if(isNaN(C)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(oe).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return D(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return D(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return D(C,16)};var F=p.f2=p.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return D(C,2)},k=p.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return D(C,3)},O=p.scale=p.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?C*Ge:w===y.ADVANCED?C:void 0},B=function(C){return w===y.COMPAT?ko()-C:w===y.ADVANCED?C:void 0},L=function(C){return O(B(C))};p.__private__.setPrecision=p.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var W,$="00000000000000000000000000000000",z=p.__private__.getFileId=function(){return $},X=p.__private__.setFileId=function(C){return $=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Qn=new Du(d.userPermissions,d.userPassword,d.ownerPassword,$)),$};p.setFileId=function(C){return X(C),this},p.getFileId=function(){return z()};var Y=p.__private__.convertDateToPDFDate=function(C){var H=C.getTimezoneOffset(),oe=H<0?"+":"-",pe=Math.floor(Math.abs(H/60)),Ne=Math.abs(H%60),Te=[oe,q(pe),"'",q(Ne),"'"].join("");return["D:",C.getFullYear(),q(C.getMonth()+1),q(C.getDate()),q(C.getHours()),q(C.getMinutes()),q(C.getSeconds()),Te].join("")},le=p.__private__.convertPDFDateToDate=function(C){var H=parseInt(C.substr(2,4),10),oe=parseInt(C.substr(6,2),10)-1,pe=parseInt(C.substr(8,2),10),Ne=parseInt(C.substr(10,2),10),Te=parseInt(C.substr(12,2),10),ze=parseInt(C.substr(14,2),10);return new Date(H,oe,pe,Ne,Te,ze,0)},fe=p.__private__.setCreationDate=function(C){var H;if(C===void 0&&(C=new Date),C instanceof Date)H=Y(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=C}return W=H},R=p.__private__.getCreationDate=function(C){var H=W;return C==="jsDate"&&(H=le(W)),H};p.setCreationDate=function(C){return fe(C),this},p.getCreationDate=function(C){return R(C)};var I,q=p.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},Q=p.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},J=0,de=[],ve=[],ue=0,Oe=[],Ee=[],ae=!1,Pe=ve,De=function(){J=0,ue=0,ve=[],de=[],Oe=[],Vs=rn(),La=rn()};p.__private__.setCustomOutputDestination=function(C){ae=!0,Pe=C};var he=function(C){ae||(Pe=C)};p.__private__.resetCustomOutputDestination=function(){ae=!1,Pe=ve};var te=p.__private__.out=function(C){return C=C.toString(),ue+=C.length+1,Pe.push(C),Pe},Ue=p.__private__.write=function(C){return te(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},ee=p.__private__.getArrayBuffer=function(C){for(var H=C.length,oe=new ArrayBuffer(H),pe=new Uint8Array(oe);H--;)pe[H]=C.charCodeAt(H);return oe},ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ne};var ce=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(C){return ce=w===y.ADVANCED?C/Ge:C,this};var _e,je=p.__private__.getFontSize=p.getFontSize=function(){return w===y.COMPAT?ce:ce*Ge},me=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(C){return me=C,this},p.__private__.getR2L=p.getR2L=function(){return me};var Le,He=p.__private__.setZoomMode=function(C){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))_e=C;else if(isNaN(C)){if(H.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');_e=C}else _e=parseInt(C,10)};p.__private__.getZoomMode=function(){return _e};var Ke,it=p.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Le=C};p.__private__.getPageMode=function(){return Le};var jt=p.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Ke=C};p.__private__.getLayoutMode=function(){return Ke},p.__private__.setDisplayMode=p.setDisplayMode=function(C,H,oe){return He(C),jt(H),it(oe),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(C){if(Object.keys(dt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[C]},p.__private__.getDocumentProperties=function(){return dt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(C){for(var H in dt)dt.hasOwnProperty(H)&&C[H]&&(dt[H]=C[H]);return this},p.__private__.setDocumentProperty=function(C,H){if(Object.keys(dt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[C]=H};var At,Ge,On,Rt,Gi,Jt={},Tr={},cs=[],Zt={},Cl={},Fr={},Da={},Ws=null,Br=0,bt=[],Qt=new JS(p),El=t.hotfixes||[],Hn={},us={},ds=[],ht=function C(H,oe,pe,Ne,Te,ze){if(!(this instanceof C))return new C(H,oe,pe,Ne,Te,ze);isNaN(H)&&(H=1),isNaN(oe)&&(oe=0),isNaN(pe)&&(pe=0),isNaN(Ne)&&(Ne=1),isNaN(Te)&&(Te=0),isNaN(ze)&&(ze=0),this._matrix=[H,oe,pe,Ne,Te,ze]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(C)},ht.prototype.multiply=function(C){var H=C.sx*this.sx+C.shy*this.shx,oe=C.sx*this.shy+C.shy*this.sy,pe=C.shx*this.sx+C.sy*this.shx,Ne=C.shx*this.shy+C.sy*this.sy,Te=C.tx*this.sx+C.ty*this.shx+this.tx,ze=C.tx*this.shy+C.ty*this.sy+this.ty;return new ht(H,oe,pe,Ne,Te,ze)},ht.prototype.decompose=function(){var C=this.sx,H=this.shy,oe=this.shx,pe=this.sy,Ne=this.tx,Te=this.ty,ze=Math.sqrt(C*C+H*H),Ye=(C/=ze)*oe+(H/=ze)*pe;oe-=C*Ye,pe-=H*Ye;var at=Math.sqrt(oe*oe+pe*pe);return Ye/=at,C*(pe/=at)<H*(oe/=at)&&(C=-C,H=-H,Ye=-Ye,ze=-ze),{scale:new ht(ze,0,0,at,0,0),translate:new ht(1,0,0,1,Ne,Te),rotate:new ht(C,H,-H,C,0,0),skew:new ht(1,0,Ye,1,0,0)}},ht.prototype.toString=function(C){return this.join(" ")},ht.prototype.inversed=function(){var C=this.sx,H=this.shy,oe=this.shx,pe=this.sy,Ne=this.tx,Te=this.ty,ze=1/(C*pe-H*oe),Ye=pe*ze,at=-H*ze,Nt=-oe*ze,yt=C*ze;return new ht(Ye,at,Nt,yt,-Ye*Ne-Nt*Te,-at*Ne-yt*Te)},ht.prototype.applyToPoint=function(C){var H=C.x*this.sx+C.y*this.shx+this.tx,oe=C.x*this.shy+C.y*this.sy+this.ty;return new Qc(H,oe)},ht.prototype.applyToRectangle=function(C){var H=this.applyToPoint(C),oe=this.applyToPoint(new Qc(C.x+C.w,C.y+C.h));return new gh(H.x,H.y,oe.x-H.x,oe.y-H.y)},ht.prototype.clone=function(){var C=this.sx,H=this.shy,oe=this.shx,pe=this.sy,Ne=this.tx,Te=this.ty;return new ht(C,H,oe,pe,Ne,Te)},p.Matrix=ht;var Ma=p.matrixMult=function(C,H){return H.multiply(C)},hs=new ht(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=hs;var Pi=function(C,H){if(!Cl[C]){var oe=(H instanceof ll?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);H.id=oe,Cl[C]=oe,Zt[oe]=H,Qt.publish("addPattern",H)}};p.ShadingPattern=ll,p.TilingPattern=uc,p.addShadingPattern=function(C,H){return E("addShadingPattern()"),Pi(C,H),this},p.beginTilingPattern=function(C){E("beginTilingPattern()"),hp(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},p.endTilingPattern=function(C,H){E("endTilingPattern()"),H.stream=Ee[I].join(`
`),Pi(C,H),Qt.publish("endTilingPattern",H),ds.pop().restore()};var hn=p.__private__.newObject=function(){var C=rn();return Xi(C,!0),C},rn=p.__private__.newObjectDeferred=function(){return J++,de[J]=function(){return ue},J},Xi=function(C,H){return H=typeof H=="boolean"&&H,de[C]=ue,H&&te(C+" 0 obj"),C},$c=p.__private__.newAdditionalObject=function(){var C={objId:rn(),content:""};return Oe.push(C),C},Vs=rn(),La=rn(),Ra=p.__private__.decodeColorString=function(C){var H=C.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var oe=parseFloat(H[0]);H=[oe,oe,oe,"r"]}for(var pe="#",Ne=0;Ne<3;Ne++)pe+=("0"+Math.floor(255*parseFloat(H[Ne])).toString(16)).slice(-2);return pe},Fa=p.__private__.encodeColorString=function(C){var H;typeof C=="string"&&(C={ch1:C});var oe=C.ch1,pe=C.ch2,Ne=C.ch3,Te=C.ch4,ze=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var Ye=new QP(oe);if(Ye.ok)oe=Ye.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var at=parseInt(oe.substr(1),16);oe=at>>16&255,pe=at>>8&255,Ne=255&at}if(pe===void 0||Te===void 0&&oe===pe&&pe===Ne)if(typeof oe=="string")H=oe+" "+ze[0];else switch(C.precision){case 2:H=F(oe/255)+" "+ze[0];break;case 3:default:H=k(oe/255)+" "+ze[0]}else if(Te===void 0||or(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return H=["1.","1.","1.",ze[1]].join(" ");if(typeof oe=="string")H=[oe,pe,Ne,ze[1]].join(" ");else switch(C.precision){case 2:H=[F(oe/255),F(pe/255),F(Ne/255),ze[1]].join(" ");break;default:case 3:H=[k(oe/255),k(pe/255),k(Ne/255),ze[1]].join(" ")}}else if(typeof oe=="string")H=[oe,pe,Ne,Te,ze[2]].join(" ");else switch(C.precision){case 2:H=[F(oe),F(pe),F(Ne),F(Te),ze[2]].join(" ");break;case 3:default:H=[k(oe),k(pe),k(Ne),k(Te),ze[2]].join(" ")}return H},fs=p.__private__.getFilters=function(){return o},da=p.__private__.putStream=function(C){var H=(C=C||{}).data||"",oe=C.filters||fs(),pe=C.alreadyAppliedFilters||[],Ne=C.addLength1||!1,Te=H.length,ze=C.objectId,Ye=function(ei){return ei};if(d!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ye=Qn.encryptor(ze,0));var at={};oe===!0&&(oe=["FlateEncode"]);var Nt=C.additionalKeyValues||[],yt=(at=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(H,oe):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(at.data.length!==0&&(Nt.push({key:"Length",value:at.data.length}),Ne===!0&&Nt.push({key:"Length1",value:Te})),yt.length!=0)if(yt.split("/").length-1==1)Nt.push({key:"Filter",value:yt});else{Nt.push({key:"Filter",value:"["+yt+"]"});for(var $t=0;$t<Nt.length;$t+=1)if(Nt[$t].key==="DecodeParms"){for(var Mr=[],$r=0;$r<at.reverseChain.split("/").length-1;$r+=1)Mr.push("null");Mr.push(Nt[$t].value),Nt[$t].value="["+Mr.join(" ")+"]"}}te("<<");for(var nn=0;nn<Nt.length;nn++)te("/"+Nt[nn].key+" "+Nt[nn].value);te(">>"),at.data.length!==0&&(te("stream"),te(Ye(at.data)),te("endstream"))},ps=p.__private__.putPage=function(C){var H=C.number,oe=C.data,pe=C.objId,Ne=C.contentsObjId;Xi(pe,!0),te("<</Type /Page"),te("/Parent "+C.rootDictionaryObjId+" 0 R"),te("/Resources "+C.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(A(C.mediaBox.bottomLeftX))+" "+parseFloat(A(C.mediaBox.bottomLeftY))+" "+A(C.mediaBox.topRightX)+" "+A(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&te("/CropBox ["+A(C.cropBox.bottomLeftX)+" "+A(C.cropBox.bottomLeftY)+" "+A(C.cropBox.topRightX)+" "+A(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&te("/BleedBox ["+A(C.bleedBox.bottomLeftX)+" "+A(C.bleedBox.bottomLeftY)+" "+A(C.bleedBox.topRightX)+" "+A(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&te("/TrimBox ["+A(C.trimBox.bottomLeftX)+" "+A(C.trimBox.bottomLeftY)+" "+A(C.trimBox.topRightX)+" "+A(C.trimBox.topRightY)+"]"),C.artBox!==null&&te("/ArtBox ["+A(C.artBox.bottomLeftX)+" "+A(C.artBox.bottomLeftY)+" "+A(C.artBox.topRightX)+" "+A(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&te("/UserUnit "+C.userUnit),Qt.publish("putPage",{objId:pe,pageContext:bt[H],pageNumber:H,page:oe}),te("/Contents "+Ne+" 0 R"),te(">>"),te("endobj");var Te=oe.join(`
`);return w===y.ADVANCED&&(Te+=`
Q`),Xi(Ne,!0),da({data:Te,filters:fs(),objectId:Ne}),te("endobj"),pe},Ol=p.__private__.putPages=function(){var C,H,oe=[];for(C=1;C<=Br;C++)bt[C].objId=rn(),bt[C].contentsObjId=rn();for(C=1;C<=Br;C++)oe.push(ps({number:C,data:Ee[C],objId:bt[C].objId,contentsObjId:bt[C].contentsObjId,mediaBox:bt[C].mediaBox,cropBox:bt[C].cropBox,bleedBox:bt[C].bleedBox,trimBox:bt[C].trimBox,artBox:bt[C].artBox,userUnit:bt[C].userUnit,rootDictionaryObjId:Vs,resourceDictionaryObjId:La}));Xi(Vs,!0),te("<</Type /Pages");var pe="/Kids [";for(H=0;H<Br;H++)pe+=oe[H]+" 0 R ";te(pe+"]"),te("/Count "+Br),te(">>"),te("endobj"),Qt.publish("postPutPages")},zc=function(C){Qt.publish("putFont",{font:C,out:te,newObject:hn,putStream:da}),C.isAlreadyPutted!==!0&&(C.objectNumber=hn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Mu(C.postScriptName)),te("/Subtype /Type1"),typeof C.encoding=="string"&&te("/Encoding /"+C.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Uc=function(){for(var C in Jt)Jt.hasOwnProperty(C)&&(h===!1||h===!0&&f.hasOwnProperty(C))&&zc(Jt[C])},Hc=function(C){C.objectNumber=hn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[A(C.x),A(C.y),A(C.x+C.width),A(C.y+C.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var oe=C.pages[1].join(`
`);da({data:oe,additionalKeyValues:H,objectId:C.objectNumber}),te("endobj")},qc=function(){for(var C in Hn)Hn.hasOwnProperty(C)&&Hc(Hn[C])},X0=function(C,H){var oe,pe=[],Ne=1/(H-1);for(oe=0;oe<1;oe+=Ne)pe.push(oe);if(pe.push(1),C[0].offset!=0){var Te={offset:0,color:C[0].color};C.unshift(Te)}if(C[C.length-1].offset!=1){var ze={offset:1,color:C[C.length-1].color};C.push(ze)}for(var Ye="",at=0,Nt=0;Nt<pe.length;Nt++){for(oe=pe[Nt];oe>C[at+1].offset;)at++;var yt=C[at].offset,$t=(oe-yt)/(C[at+1].offset-yt),Mr=C[at].color,$r=C[at+1].color;Ye+=Q(Math.round((1-$t)*Mr[0]+$t*$r[0]).toString(16))+Q(Math.round((1-$t)*Mr[1]+$t*$r[1]).toString(16))+Q(Math.round((1-$t)*Mr[2]+$t*$r[2]).toString(16))}return Ye.trim()},Cg=function(C,H){H||(H=21);var oe=hn(),pe=X0(C.colors,H),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+H+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),da({data:pe,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),te("endobj"),C.objectNumber=hn(),te("<< /ShadingType "+C.type),te("/ColorSpace /DeviceRGB");var Te="/Coords ["+A(parseFloat(C.coords[0]))+" "+A(parseFloat(C.coords[1]))+" ";C.type===2?Te+=A(parseFloat(C.coords[2]))+" "+A(parseFloat(C.coords[3])):Te+=A(parseFloat(C.coords[2]))+" "+A(parseFloat(C.coords[3]))+" "+A(parseFloat(C.coords[4]))+" "+A(parseFloat(C.coords[5])),te(Te+="]"),C.matrix&&te("/Matrix ["+C.matrix.toString()+"]"),te("/Function "+oe+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Eg=function(C,H){var oe=rn(),pe=hn();H.push({resourcesOid:oe,objectOid:pe}),C.objectNumber=pe;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+C.boundingBox.map(A).join(" ")+"]"}),Ne.push({key:"XStep",value:A(C.xStep)}),Ne.push({key:"YStep",value:A(C.yStep)}),Ne.push({key:"Resources",value:oe+" 0 R"}),C.matrix&&Ne.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),da({data:C.stream,additionalKeyValues:Ne,objectId:C.objectNumber}),te("endobj")},Wc=function(C){var H;for(H in Zt)Zt.hasOwnProperty(H)&&(Zt[H]instanceof ll?Cg(Zt[H]):Zt[H]instanceof uc&&Eg(Zt[H],C))},Y0=function(C){for(var H in C.objectNumber=hn(),te("<<"),C)switch(H){case"opacity":te("/ca "+F(C[H]));break;case"stroke-opacity":te("/CA "+F(C[H]))}te(">>"),te("endobj")},Og=function(){var C;for(C in Fr)Fr.hasOwnProperty(C)&&Y0(Fr[C])},oh=function(){for(var C in te("/XObject <<"),Hn)Hn.hasOwnProperty(C)&&Hn[C].objectNumber>=0&&te("/"+C+" "+Hn[C].objectNumber+" 0 R");Qt.publish("putXobjectDict"),te(">>")},Pg=function(){Qn.oid=hn(),te("<<"),te("/Filter /Standard"),te("/V "+Qn.v),te("/R "+Qn.r),te("/U <"+Qn.toHexString(Qn.U)+">"),te("/O <"+Qn.toHexString(Qn.O)+">"),te("/P "+Qn.P),te(">>"),te("endobj")},K0=function(){for(var C in te("/Font <<"),Jt)Jt.hasOwnProperty(C)&&(h===!1||h===!0&&f.hasOwnProperty(C))&&te("/"+C+" "+Jt[C].objectNumber+" 0 R");te(">>")},kg=function(){if(Object.keys(Zt).length>0){for(var C in te("/Shading <<"),Zt)Zt.hasOwnProperty(C)&&Zt[C]instanceof ll&&Zt[C].objectNumber>=0&&te("/"+C+" "+Zt[C].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),te(">>")}},Vc=function(C){if(Object.keys(Zt).length>0){for(var H in te("/Pattern <<"),Zt)Zt.hasOwnProperty(H)&&Zt[H]instanceof p.TilingPattern&&Zt[H].objectNumber>=0&&Zt[H].objectNumber<C&&te("/"+H+" "+Zt[H].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),te(">>")}},Tg=function(){if(Object.keys(Fr).length>0){var C;for(C in te("/ExtGState <<"),Fr)Fr.hasOwnProperty(C)&&Fr[C].objectNumber>=0&&te("/"+C+" "+Fr[C].objectNumber+" 0 R");Qt.publish("putGStateDict"),te(">>")}},Gr=function(C){Xi(C.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),K0(),kg(),Vc(C.objectOid),Tg(),oh(),te(">>"),te("endobj")},J0=function(){var C=[];Uc(),Og(),qc(),Wc(C),Qt.publish("putResources"),C.forEach(Gr),Gr({resourcesOid:La,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},Z0=function(){Qt.publish("putAdditionalObjects");for(var C=0;C<Oe.length;C++){var H=Oe[C];Xi(H.objId,!0),te(H.content),te("endobj")}Qt.publish("postPutAdditionalObjects")},Q0=function(C){Tr[C.fontName]=Tr[C.fontName]||{},Tr[C.fontName][C.fontStyle]=C.id},lh=function(C,H,oe,pe,Ne){var Te={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:C,fontName:H,fontStyle:oe,encoding:pe,isStandardFont:Ne||!1,metadata:{}};return Qt.publish("addFont",{font:Te,instance:this}),Jt[Te.id]=Te,Q0(Te),Te.id},Ig=function(C){for(var H=0,oe=ne.length;H<oe;H++){var pe=lh.call(this,C[H][0],C[H][1],C[H][2],ne[H][3],!0);h===!1&&(f[pe]=!0);var Ne=C[H][0].split("-");Q0({id:pe,fontName:Ne[0],fontStyle:Ne[1]||""})}Qt.publish("addFonts",{fonts:Jt,dictionary:Tr})},Ba=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(pe){var H=pe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var oe="Error in function "+H.split(`
`)[0].split("<")[0]+": "+pe.message;if(!pt.console)throw new Error(oe);pt.console.error(oe,pe),pt.alert&&alert(oe)}},C.foo.bar=C,C.foo},Gc=function(C,H){var oe,pe,Ne,Te,ze,Ye,at,Nt,yt;if(Ne=(H=H||{}).sourceEncoding||"Unicode",ze=H.outputEncoding,(H.autoencode||ze)&&Jt[At].metadata&&Jt[At].metadata[Ne]&&Jt[At].metadata[Ne].encoding&&(Te=Jt[At].metadata[Ne].encoding,!ze&&Jt[At].encoding&&(ze=Jt[At].encoding),!ze&&Te.codePages&&(ze=Te.codePages[0]),typeof ze=="string"&&(ze=Te[ze]),ze)){for(at=!1,Ye=[],oe=0,pe=C.length;oe<pe;oe++)(Nt=ze[C.charCodeAt(oe)])?Ye.push(String.fromCharCode(Nt)):Ye.push(C[oe]),Ye[oe].charCodeAt(0)>>8&&(at=!0);C=Ye.join("")}for(oe=C.length;at===void 0&&oe!==0;)C.charCodeAt(oe-1)>>8&&(at=!0),oe--;if(!at)return C;for(Ye=H.noBOM?[]:[254,255],oe=0,pe=C.length;oe<pe;oe++){if((yt=(Nt=C.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(yt),Ye.push(Nt-(yt<<8))}return String.fromCharCode.apply(void 0,Ye)},ki=p.__private__.pdfEscape=p.pdfEscape=function(C,H){return Gc(C,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ch=p.__private__.beginPage=function(C){Ee[++Br]=[],bt[Br]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},tp(Br),he(Ee[I])},ep=function(C,H){var oe,pe,Ne;switch(r=H||r,typeof C=="string"&&(oe=b(C.toLowerCase()),Array.isArray(oe)&&(pe=oe[0],Ne=oe[1])),Array.isArray(C)&&(pe=C[0]*Ge,Ne=C[1]*Ge),isNaN(pe)&&(pe=i[0],Ne=i[1]),(pe>14400||Ne>14400)&&(xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Ne=Math.min(14400,Ne)),i=[pe,Ne],r.substr(0,1)){case"l":Ne>pe&&(i=[Ne,pe]);break;case"p":pe>Ne&&(i=[Ne,pe])}ch(i),op(fh),te($a),mh!==0&&te(mh+" J"),xh!==0&&te(xh+" j"),Qt.publish("addPage",{pageNumber:Br})},Dg=function(C){C>0&&C<=Br&&(Ee.splice(C,1),bt.splice(C,1),Br--,I>Br&&(I=Br),this.setPage(I))},tp=function(C){C>0&&C<=Br&&(I=C)},Mg=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ee.length-1},rp=function(C,H,oe){var pe,Ne=void 0;return oe=oe||{},C=C!==void 0?C:Jt[At].fontName,H=H!==void 0?H:Jt[At].fontStyle,pe=C.toLowerCase(),Tr[pe]!==void 0&&Tr[pe][H]!==void 0?Ne=Tr[pe][H]:Tr[C]!==void 0&&Tr[C][H]!==void 0?Ne=Tr[C][H]:oe.disableWarning===!1&&xr.warn("Unable to look up font label for font '"+C+"', '"+H+"'. Refer to getFontList() for available fonts."),Ne||oe.noFallback||(Ne=Tr.times[H])==null&&(Ne=Tr.times.normal),Ne},Lg=p.__private__.putInfo=function(){var C=hn(),H=function(pe){return pe};for(var oe in d!==null&&(H=Qn.encryptor(C,0)),te("<<"),te("/Producer ("+ki(H("jsPDF "+st.version))+")"),dt)dt.hasOwnProperty(oe)&&dt[oe]&&te("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ki(H(dt[oe]))+")");te("/CreationDate ("+ki(H(W))+")"),te(">>"),te("endobj")},uh=p.__private__.putCatalog=function(C){var H=(C=C||{}).rootDictionaryObjId||Vs;switch(hn(),te("<<"),te("/Type /Catalog"),te("/Pages "+H+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+_e;oe.substr(oe.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&te("/OpenAction [3 0 R /XYZ null null "+F(_e)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Le&&te("/PageMode /"+Le),Qt.publish("putCatalog"),te(">>"),te("endobj")},Rg=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(J+1)),te("/Root "+J+" 0 R"),te("/Info "+(J-1)+" 0 R"),d!==null&&te("/Encrypt "+Qn.oid+" 0 R"),te("/ID [ <"+$+"> <"+$+"> ]"),te(">>")},Fg=p.__private__.putHeader=function(){te("%PDF-"+m),te("%ºß¬à")},Bg=p.__private__.putXRef=function(){var C="0000000000";te("xref"),te("0 "+(J+1)),te("0000000000 65535 f ");for(var H=1;H<=J;H++)typeof de[H]=="function"?te((C+de[H]()).slice(-10)+" 00000 n "):de[H]!==void 0?te((C+de[H]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Gs=p.__private__.buildDocument=function(){De(),he(ve),Qt.publish("buildDocument"),Fg(),Ol(),Z0(),J0(),d!==null&&Pg(),Lg(),uh();var C=ue;return Bg(),Rg(),te("startxref"),te(""+C),te("%%EOF"),he(Ee[I]),ve.join(`
`)},Xc=p.__private__.getBlob=function(C){return new Blob([ee(C)],{type:"application/pdf"})},Yc=p.output=p.__private__.output=Ba(function(C,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",C){case void 0:return Gs();case"save":p.save(H.filename);break;case"arraybuffer":return ee(Gs());case"blob":return Xc(Gs());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(Xc(Gs()))||void 0;xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",pe=Gs();try{oe=U2(pe)}catch{oe=U2(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+H.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Ne=H.pdfObjectUrl,Te="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Ye=pt.open();return Ye!==null&&Ye.document.write(ze),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Nt=pt.open();if(Nt!==null){Nt.document.write(at);var yt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=H.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Mr=pt.open();if(Mr!==null&&(Mr.document.write($t),Mr.document.title=H.filename),Mr||typeof safari>"u")return Mr;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",H);default:return null}}),np=function(C){return Array.isArray(El)===!0&&El.indexOf(C)>-1};switch(n){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=np("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ge=n}var Qn=null;fe(),X();var $g=function(C){return d!==null?Qn.encryptor(C,0):function(H){return H}},ip=p.__private__.getPageInfo=p.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[C].objId,pageNumber:C,pageContext:bt[C]}},gt=p.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in bt)if(bt[H].objId===C)break;return ip(H)},zg=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:bt[I].objId,pageNumber:I,pageContext:bt[I]}};p.addPage=function(){return ep.apply(this,arguments),this},p.setPage=function(){return tp.apply(this,arguments),he.call(this,Ee[I]),this},p.insertPage=function(C){return this.addPage(),this.movePage(I,C),this},p.movePage=function(C,H){var oe,pe;if(C>H){oe=Ee[C],pe=bt[C];for(var Ne=C;Ne>H;Ne--)Ee[Ne]=Ee[Ne-1],bt[Ne]=bt[Ne-1];Ee[H]=oe,bt[H]=pe,this.setPage(H)}else if(C<H){oe=Ee[C],pe=bt[C];for(var Te=C;Te<H;Te++)Ee[Te]=Ee[Te+1],bt[Te]=bt[Te+1];Ee[H]=oe,bt[H]=pe,this.setPage(H)}return this},p.deletePage=function(){return Dg.apply(this,arguments),this},p.__private__.text=p.text=function(C,H,oe,pe,Ne){var Te,ze,Ye,at,Nt,yt,$t,Mr,$r,nn=(pe=pe||{}).scope||this;if(typeof C=="number"&&typeof H=="number"&&(typeof oe=="string"||Array.isArray(oe))){var ei=oe;oe=H,H=C,C=ei}if(arguments[3]instanceof ht?(E("The transform parameter of text() with a Matrix value"),$r=Ne):(Ye=arguments[4],at=arguments[5],or($t=arguments[3])==="object"&&$t!==null||(typeof Ye=="string"&&(at=Ye,Ye=null),typeof $t=="string"&&(at=$t,$t=null),typeof $t=="number"&&(Ye=$t,$t=null),pe={flags:$t,angle:Ye,align:at})),isNaN(H)||isNaN(oe)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return nn;var Pn="",za=!1,Yi=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:kl,gs=nn.internal.scaleFactor;function fp(vr){return vr=vr.split("	").join(Array(pe.TabLen||9).join(" ")),ki(vr,$t)}function wh(vr){for(var br,Yr=vr.concat(),fn=[],Zs=Yr.length;Zs--;)typeof(br=Yr.shift())=="string"?fn.push(br):Array.isArray(vr)&&(br.length===1||br[1]===void 0&&br[2]===void 0)?fn.push(br[0]):fn.push([br[0],br[1],br[2]]);return fn}function jh(vr,br){var Yr;if(typeof vr=="string")Yr=br(vr)[0];else if(Array.isArray(vr)){for(var fn,Zs,Ph=vr.concat(),uu=[],vp=Ph.length;vp--;)typeof(fn=Ph.shift())=="string"?uu.push(br(fn)[0]):Array.isArray(fn)&&typeof fn[0]=="string"&&(Zs=br(fn[0],fn[1],fn[2]),uu.push([Zs[0],Zs[1],Zs[2]]));Yr=uu}return Yr}var tu=!1,Nh=!0;if(typeof C=="string")tu=!0;else if(Array.isArray(C)){var _h=C.concat();ze=[];for(var ru,qn=_h.length;qn--;)(typeof(ru=_h.shift())!="string"||Array.isArray(ru)&&typeof ru[0]!="string")&&(Nh=!1);tu=Nh}if(tu===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var nu=ce/nn.internal.scaleFactor,iu=nu*(Yi-1);switch(pe.baseline){case"bottom":oe-=iu;break;case"top":oe+=nu-iu;break;case"hanging":oe+=nu-2*iu;break;case"middle":oe+=nu/2-iu}if((yt=pe.maxWidth||0)>0&&(typeof C=="string"?C=nn.splitTextToSize(C,yt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(vr,br){return vr.concat(nn.splitTextToSize(br,yt))},[]))),Te={text:C,x:H,y:oe,options:pe,mutex:{pdfEscape:ki,activeFontKey:At,fonts:Jt,activeFontSize:ce}},Qt.publish("preProcessText",Te),C=Te.text,Ye=(pe=Te.options).angle,!($r instanceof ht)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,pe.rotationDirection===0&&(Ye=-Ye),w===y.ADVANCED&&(Ye=-Ye);var au=Math.cos(Ye),Sh=Math.sin(Ye);$r=new ht(au,Sh,-Sh,au,0,0)}else Ye&&Ye instanceof ht&&($r=Ye);w!==y.ADVANCED||$r||($r=hs),(Nt=pe.charSpace||Zc)!==void 0&&(Pn+=A(O(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mr=pe.horizontalScale)!==void 0&&(Pn+=A(100*Mr)+` Tz
`),pe.lang;var Ti=-1,Jg=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,Ah=nn.internal.getCurrentPageInfo().pageContext;switch(Jg){case 0:case!1:case"fill":Ti=0;break;case 1:case!0:case"stroke":Ti=1;break;case 2:case"fillThenStroke":Ti=2;break;case 3:case"invisible":Ti=3;break;case 4:case"fillAndAddForClipping":Ti=4;break;case 5:case"strokeAndAddPathForClipping":Ti=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ti=6;break;case 7:case"addToPathForClipping":Ti=7}var pp=Ah.usedRenderingMode!==void 0?Ah.usedRenderingMode:-1;Ti!==-1?Pn+=Ti+` Tr
`:pp!==-1&&(Pn+=`0 Tr
`),Ti!==-1&&(Ah.usedRenderingMode=Ti),at=pe.align||"left";var ha,su=ce*Yi,mp=nn.internal.pageSize.getWidth(),xp=Jt[At];Nt=pe.charSpace||Zc,yt=pe.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var To=[],Dl=function(vr){return nn.getStringUnitWidth(vr,{font:xp,charSpace:Nt,fontSize:ce,doKerning:!1})*ce/gs};if(Object.prototype.toString.call(C)==="[object Array]"){var Ii;ze=wh(C),at!=="left"&&(ha=ze.map(Dl));var pi,Io=0;if(at==="right"){H-=ha[0],C=[],qn=ze.length;for(var Ys=0;Ys<qn;Ys++)Ys===0?(pi=xs(H),Ii=Xs(oe)):(pi=O(Io-ha[Ys]),Ii=-su),C.push([ze[Ys],pi,Ii]),Io=ha[Ys]}else if(at==="center"){H-=ha[0]/2,C=[],qn=ze.length;for(var Ks=0;Ks<qn;Ks++)Ks===0?(pi=xs(H),Ii=Xs(oe)):(pi=O((Io-ha[Ks])/2),Ii=-su),C.push([ze[Ks],pi,Ii]),Io=ha[Ks]}else if(at==="left"){C=[],qn=ze.length;for(var ou=0;ou<qn;ou++)C.push(ze[ou])}else if(at==="justify"&&xp.encoding==="Identity-H"){C=[],qn=ze.length,yt=yt!==0?yt:mp;for(var Js=0,Xr=0;Xr<qn;Xr++)if(Ii=Xr===0?Xs(oe):-su,pi=Xr===0?xs(H):Js,Xr<qn-1){var Ch=O((yt-ha[Xr])/(ze[Xr].split(" ").length-1)),mi=ze[Xr].split(" ");C.push([mi[0]+" ",pi,Ii]),Js=0;for(var fa=1;fa<mi.length;fa++){var lu=(Dl(mi[fa-1]+" "+mi[fa])-Dl(mi[fa]))*gs+Ch;fa==mi.length-1?C.push([mi[fa],lu,0]):C.push([mi[fa]+" ",lu,0]),Js-=lu}}else C.push([ze[Xr],pi,Ii]);C.push(["",Js,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],qn=ze.length,yt=yt!==0?yt:mp,Xr=0;Xr<qn;Xr++)Ii=Xr===0?Xs(oe):-su,pi=Xr===0?xs(H):0,Xr<qn-1?To.push(A(O((yt-ha[Xr])/(ze[Xr].split(" ").length-1)))):To.push(0),C.push([ze[Xr],pi,Ii])}}var gp=typeof pe.R2L=="boolean"?pe.R2L:me;gp===!0&&(C=jh(C,function(vr,br,Yr){return[vr.split("").reverse().join(""),br,Yr]})),Te={text:C,x:H,y:oe,options:pe,mutex:{pdfEscape:ki,activeFontKey:At,fonts:Jt,activeFontSize:ce}},Qt.publish("postProcessText",Te),C=Te.text,za=Te.mutex.isHex||!1;var Eh=Jt[At].encoding;Eh!=="WinAnsiEncoding"&&Eh!=="StandardEncoding"||(C=jh(C,function(vr,br,Yr){return[fp(vr),br,Yr]})),ze=wh(C),C=[];for(var Ml,Ll,Do,Rl=0,cu=1,Fl=Array.isArray(ze[0])?cu:Rl,Mo="",Oh=function(vr,br,Yr){var fn="";return Yr instanceof ht?(Yr=typeof pe.angle=="number"?Ma(Yr,new ht(1,0,0,1,vr,br)):Ma(new ht(1,0,0,1,vr,br),Yr),w===y.ADVANCED&&(Yr=Ma(new ht(1,0,0,-1,0,0),Yr)),fn=Yr.join(" ")+` Tm
`):fn=A(vr)+" "+A(br)+` Td
`,fn},pa=0;pa<ze.length;pa++){switch(Mo="",Fl){case cu:Do=(za?"<":"(")+ze[pa][0]+(za?">":")"),Ml=parseFloat(ze[pa][1]),Ll=parseFloat(ze[pa][2]);break;case Rl:Do=(za?"<":"(")+ze[pa]+(za?">":")"),Ml=xs(H),Ll=Xs(oe)}To!==void 0&&To[pa]!==void 0&&(Mo=To[pa]+` Tw
`),pa===0?C.push(Mo+Oh(Ml,Ll,$r)+Do):Fl===Rl?C.push(Mo+Do):Fl===cu&&C.push(Mo+Oh(Ml,Ll,$r)+Do)}C=Fl===Rl?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ma=`BT
/`;return ma+=At+" "+ce+` Tf
`,ma+=A(ce*Yi)+` TL
`,ma+=Tl+`
`,ma+=Pn,ma+=C,te(ma+="ET"),f[At]=!0,nn};var Ug=p.__private__.clip=p.clip=function(C){return te(C==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ug("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var ms=p.__private__.isValidStyle=function(C){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(C){return ms(C)&&(u=C),this};var ap=p.__private__.getStyle=p.getStyle=function(C){var H=u;switch(C){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=C}return H},sp=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(C){return Kc("f",C),this},p.fillEvenOdd=function(C){return Kc("f*",C),this},p.fillStroke=function(C){return Kc("B",C),this},p.fillStrokeEvenOdd=function(C){return Kc("B*",C),this};var Kc=function(C,H){or(H)==="object"?qg(H,C):te(C)},dh=function(C){C===null||w===y.ADVANCED&&C===void 0||(C=ap(C),te(C))};function Hg(C,H,oe,pe,Ne){var Te=new uc(H||this.boundingBox,oe||this.xStep,pe||this.yStep,this.gState,Ne||this.matrix);Te.stream=this.stream;var ze=C+"$$"+this.cloneIndex+++"$$";return Pi(ze,Te),Te}var qg=function(C,H){var oe=Cl[C.key],pe=Zt[oe];if(pe instanceof ll)te("q"),te(Wg(H)),pe.gState&&p.setGState(pe.gState),te(C.matrix.toString()+" cm"),te("/"+oe+" sh"),te("Q");else if(pe instanceof uc){var Ne=new ht(1,0,0,-1,0,ko());C.matrix&&(Ne=Ne.multiply(C.matrix||hs),oe=Hg.call(pe,C.key,C.boundingBox,C.xStep,C.yStep,Ne).id),te("q"),te("/Pattern cs"),te("/"+oe+" scn"),pe.gState&&p.setGState(pe.gState),te(H),te("Q")}},Wg=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},hh=p.moveTo=function(C,H){return te(A(O(C))+" "+A(L(H))+" m"),this},Pl=p.lineTo=function(C,H){return te(A(O(C))+" "+A(L(H))+" l"),this},Oo=p.curveTo=function(C,H,oe,pe,Ne,Te){return te([A(O(C)),A(L(H)),A(O(oe)),A(L(pe)),A(O(Ne)),A(L(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(C,H,oe,pe,Ne){if(isNaN(C)||isNaN(H)||isNaN(oe)||isNaN(pe)||!ms(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[oe-C,pe-H]],C,H,[1,1],Ne||"S"):this.lines([[oe-C,pe-H]],C,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(C,H,oe,pe,Ne,Te){var ze,Ye,at,Nt,yt,$t,Mr,$r,nn,ei,Pn,za;if(typeof C=="number"&&(za=oe,oe=H,H=C,C=za),pe=pe||[1,1],Te=Te||!1,isNaN(H)||isNaN(oe)||!Array.isArray(C)||!Array.isArray(pe)||!ms(Ne)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hh(H,oe),ze=pe[0],Ye=pe[1],Nt=C.length,ei=H,Pn=oe,at=0;at<Nt;at++)(yt=C[at]).length===2?(ei=yt[0]*ze+ei,Pn=yt[1]*Ye+Pn,Pl(ei,Pn)):($t=yt[0]*ze+ei,Mr=yt[1]*Ye+Pn,$r=yt[2]*ze+ei,nn=yt[3]*Ye+Pn,ei=yt[4]*ze+ei,Pn=yt[5]*Ye+Pn,Oo($t,Mr,$r,nn,ei,Pn));return Te&&sp(),dh(Ne),this},p.path=function(C){for(var H=0;H<C.length;H++){var oe=C[H],pe=oe.c;switch(oe.op){case"m":hh(pe[0],pe[1]);break;case"l":Pl(pe[0],pe[1]);break;case"c":Oo.apply(this,pe);break;case"h":sp()}}return this},p.__private__.rect=p.rect=function(C,H,oe,pe,Ne){if(isNaN(C)||isNaN(H)||isNaN(oe)||isNaN(pe)||!ms(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(pe=-pe),te([A(O(C)),A(L(H)),A(O(oe)),A(O(pe)),"re"].join(" ")),dh(Ne),this},p.__private__.triangle=p.triangle=function(C,H,oe,pe,Ne,Te,ze){if(isNaN(C)||isNaN(H)||isNaN(oe)||isNaN(pe)||isNaN(Ne)||isNaN(Te)||!ms(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-C,pe-H],[Ne-oe,Te-pe],[C-Ne,H-Te]],C,H,[1,1],ze,!0),this},p.__private__.roundedRect=p.roundedRect=function(C,H,oe,pe,Ne,Te,ze){if(isNaN(C)||isNaN(H)||isNaN(oe)||isNaN(pe)||isNaN(Ne)||isNaN(Te)||!ms(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*oe),Te=Math.min(Te,.5*pe),this.lines([[oe-2*Ne,0],[Ne*Ye,0,Ne,Te-Te*Ye,Ne,Te],[0,pe-2*Te],[0,Te*Ye,-Ne*Ye,Te,-Ne,Te],[2*Ne-oe,0],[-Ne*Ye,0,-Ne,-Te*Ye,-Ne,-Te],[0,2*Te-pe],[0,-Te*Ye,Ne*Ye,-Te,Ne,-Te]],C+Ne,H,[1,1],ze,!0),this},p.__private__.ellipse=p.ellipse=function(C,H,oe,pe,Ne){if(isNaN(C)||isNaN(H)||isNaN(oe)||isNaN(pe)||!ms(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*oe,ze=4/3*(Math.SQRT2-1)*pe;return hh(C+oe,H),Oo(C+oe,H-ze,C+Te,H-pe,C,H-pe),Oo(C-Te,H-pe,C-oe,H-ze,C-oe,H),Oo(C-oe,H+ze,C-Te,H+pe,C,H+pe),Oo(C+Te,H+pe,C+oe,H+ze,C+oe,H),dh(Ne),this},p.__private__.circle=p.circle=function(C,H,oe,pe){if(isNaN(C)||isNaN(H)||isNaN(oe)||!ms(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,H,oe,oe,pe)},p.setFont=function(C,H,oe){return oe&&(H=S(H,oe)),At=rp(C,H,{disableWarning:!1}),this};var Vg=p.__private__.getFont=p.getFont=function(){return Jt[rp.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var C,H,oe={};for(C in Tr)if(Tr.hasOwnProperty(C))for(H in oe[C]=[],Tr[C])Tr[C].hasOwnProperty(H)&&oe[C].push(H);return oe},p.addFont=function(C,H,oe,pe,Ne){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(oe=S(oe,pe)),Ne=Ne||"Identity-H",lh.call(this,C,H,oe,Ne)};var kl,fh=t.lineWidth||.200025,Jc=p.__private__.getLineWidth=p.getLineWidth=function(){return fh},op=p.__private__.setLineWidth=p.setLineWidth=function(C){return fh=C,te(A(O(C))+" w"),this};p.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(C,H){if(C=C||[],H=H||0,isNaN(H)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(oe){return A(O(oe))}).join(" "),H=A(O(H)),te("["+C+"] "+H+" d"),this};var lp=p.__private__.getLineHeight=p.getLineHeight=function(){return ce*kl};p.__private__.getLineHeight=p.getLineHeight=function(){return ce*kl};var cp=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(kl=C),this},up=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return kl};cp(t.lineHeight);var xs=p.__private__.getHorizontalCoordinate=function(C){return O(C)},Xs=p.__private__.getVerticalCoordinate=function(C){return w===y.ADVANCED?C:bt[I].mediaBox.topRightY-bt[I].mediaBox.bottomLeftY-O(C)},Gg=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(C){return A(xs(C))},Po=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(C){return A(Xs(C))},$a=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ra($a)},p.__private__.setStrokeColor=p.setDrawColor=function(C,H,oe,pe){return $a=Fa({ch1:C,ch2:H,ch3:oe,ch4:pe,pdfColorType:"draw",precision:2}),te($a),this};var ph=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ra(ph)},p.__private__.setFillColor=p.setFillColor=function(C,H,oe,pe){return ph=Fa({ch1:C,ch2:H,ch3:oe,ch4:pe,pdfColorType:"fill",precision:2}),te(ph),this};var Tl=t.textColor||"0 g",Xg=p.__private__.getTextColor=p.getTextColor=function(){return Ra(Tl)};p.__private__.setTextColor=p.setTextColor=function(C,H,oe,pe){return Tl=Fa({ch1:C,ch2:H,ch3:oe,ch4:pe,pdfColorType:"text",precision:3}),this};var Zc=t.charSpace,Yg=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Zc||0)};p.__private__.setCharSpace=p.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zc=C,this};var mh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(C){var H=p.CapJoinStyles[C];if(H===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mh=H,te(H+" J"),this};var xh=0;p.__private__.setLineJoin=p.setLineJoin=function(C){var H=p.CapJoinStyles[C];if(H===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xh=H,te(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(A(O(C))+" M"),this},p.GState=w0,p.setGState=function(C){(C=typeof C=="string"?Fr[Da[C]]:dp(null,C)).equals(Ws)||(te("/"+C.id+" gs"),Ws=C)};var dp=function(C,H){if(!C||!Da[C]){var oe=!1;for(var pe in Fr)if(Fr.hasOwnProperty(pe)&&Fr[pe].equals(H)){oe=!0;break}if(oe)H=Fr[pe];else{var Ne="GS"+(Object.keys(Fr).length+1).toString(10);Fr[Ne]=H,H.id=Ne}return C&&(Da[C]=H.id),Qt.publish("addGState",H),H}};p.addGState=function(C,H){return dp(C,H),this},p.saveGraphicsState=function(){return te("q"),cs.push({key:At,size:ce,color:Tl}),this},p.restoreGraphicsState=function(){te("Q");var C=cs.pop();return At=C.key,ce=C.size,Tl=C.color,Ws=null,this},p.setCurrentTransformationMatrix=function(C){return te(C.toString()+" cm"),this},p.comment=function(C){return te("#"+C),this};var Qc=function(C,H){var oe=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Te){isNaN(Te)||(oe=parseFloat(Te))}});var pe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Te){isNaN(Te)||(pe=parseFloat(Te))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Te){Ne=Te.toString()}}),this},gh=function(C,H,oe,pe){Qc.call(this,C,H),this.type="rect";var Ne=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(ze){isNaN(ze)||(Ne=parseFloat(ze))}});var Te=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(ze){isNaN(ze)||(Te=parseFloat(ze))}}),this},vh=function(){this.page=Br,this.currentPage=I,this.pages=Ee.slice(0),this.pagesContext=bt.slice(0),this.x=On,this.y=Rt,this.matrix=Gi,this.width=Il(I),this.height=ko(I),this.outputDestination=Pe,this.id="",this.objectNumber=-1};vh.prototype.restore=function(){Br=this.page,I=this.currentPage,bt=this.pagesContext,Ee=this.pages,On=this.x,Rt=this.y,Gi=this.matrix,bh(I,this.width),yh(I,this.height),Pe=this.outputDestination};var hp=function(C,H,oe,pe,Ne){ds.push(new vh),Br=I=0,Ee=[],On=C,Rt=H,Gi=Ne,ch([oe,pe])},Kg=function(C){if(us[C])ds.pop().restore();else{var H=new vh,oe="Xo"+(Object.keys(Hn).length+1).toString(10);H.id=oe,us[C]=oe,Hn[oe]=H,Qt.publish("addFormObject",H),ds.pop().restore()}};for(var eu in p.beginFormObject=function(C,H,oe,pe,Ne){return hp(C,H,oe,pe,Ne),this},p.endFormObject=function(C){return Kg(C),this},p.doFormObject=function(C,H){var oe=Hn[us[C]];return te("q"),te(H.toString()+" cm"),te("/"+oe.id+" Do"),te("Q"),this},p.getFormObject=function(C){var H=Hn[us[C]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(C,H){return C=C||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Ql(Xc(Gs()),C),typeof Ql.unload=="function"&&pt.setTimeout&&setTimeout(Ql.unload,911),this):new Promise(function(oe,pe){try{var Ne=Ql(Xc(Gs()),C);typeof Ql.unload=="function"&&pt.setTimeout&&setTimeout(Ql.unload,911),oe(Ne)}catch(Te){pe(Te.message)}})},st.API)st.API.hasOwnProperty(eu)&&(eu==="events"&&st.API.events.length?function(C,H){var oe,pe,Ne;for(Ne=H.length-1;Ne!==-1;Ne--)oe=H[Ne][0],pe=H[Ne][1],C.subscribe.apply(C,[oe].concat(typeof pe=="function"?[pe]:pe))}(Qt,st.API.events):p[eu]=st.API[eu]);var Il=p.getPageWidth=function(C){return(bt[C=C||I].mediaBox.topRightX-bt[C].mediaBox.bottomLeftX)/Ge},bh=p.setPageWidth=function(C,H){bt[C].mediaBox.topRightX=H*Ge+bt[C].mediaBox.bottomLeftX},ko=p.getPageHeight=function(C){return(bt[C=C||I].mediaBox.topRightY-bt[C].mediaBox.bottomLeftY)/Ge},yh=p.setPageHeight=function(C,H){bt[C].mediaBox.topRightY=H*Ge+bt[C].mediaBox.bottomLeftY};return p.internal={pdfEscape:ki,getStyle:ap,getFont:Vg,getFontSize:je,getCharSpace:Yg,getTextColor:Xg,getLineHeight:lp,getLineHeightFactor:up,getLineWidth:Jc,write:Ue,getHorizontalCoordinate:xs,getVerticalCoordinate:Xs,getCoordinateString:Gg,getVerticalCoordinateString:Po,collections:{},newObject:hn,newAdditionalObject:$c,newObjectDeferred:rn,newObjectDeferredBegin:Xi,getFilters:fs,putStream:da,events:Qt,scaleFactor:Ge,pageSize:{getWidth:function(){return Il(I)},setWidth:function(C){bh(I,C)},getHeight:function(){return ko(I)},setHeight:function(C){yh(I,C)}},encryptionOptions:d,encryption:Qn,getEncryptor:$g,output:Yc,getNumberOfPages:Mg,pages:Ee,out:te,f2:F,f3:k,getPageInfo:ip,getPageInfoByObjId:gt,getCurrentPageInfo:zg,getPDFVersion:x,Point:Qc,Rectangle:gh,Matrix:ht,hasHotfix:np},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Il(I)},set:function(C){bh(I,C)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ko(I)},set:function(C){yh(I,C)},enumerable:!0,configurable:!0}),Ig.call(p,ne),At="F1",ep(i,r),Qt.publish("initialized"),p}Du.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Du.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Du.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Du.prototype.processOwnerPassword=function(t,e){return q2(H2(e).substr(0,5),t)},Du.prototype.encryptor=function(t,e){var r=H2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return q2(r,n)}},w0.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||or(t)!==or(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},st.API={events:[]},st.version="2.5.2";var qr=st.API,G5=1,Rc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Su=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wt=function(t){return t.toFixed(2)},Yo=function(t){return t.toFixed(5)};qr.__acroform__={};var Wi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ZS=function(t){return t*G5},bs=function(t){var e=new nk,r=et.internal.getHeight(t)||0,n=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(wt(n)),Number(wt(r))],e},zpe=qr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Upe=qr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Hpe=qr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zr=qr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Hpe(t,e-1)},Qr=qr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zpe(t,e-1)},en=qr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Upe(t,e-1)},qpe=qr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(s)||0,[Number(wt(c.lowerLeft_X)),Number(wt(c.lowerLeft_Y)),Number(wt(c.upperRight_X)),Number(wt(c.upperRight_Y))]},Wpe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=W2(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+wt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=bs(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},W2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=r,o=et.internal.getHeight(t)||0;o=o<0?-o:o;var l=et.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(k,O,B){if(k+1<i.length){var L=O+" "+i[k+1][0];return mm(L,t,B).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,h=mm("3",t,s).height,f=t.multiline?o-s:(o-h)/2,p=f+=2,m=0,x=0,g=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+mm(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var b="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var N=!1;if(i[w].length!==1&&g!==i[w].length-1){if((h+2)*(y+2)+2>o)continue e;b+=i[w][g],N=!0,x=w,w--}else{b=(b+=i[w][g]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var _=parseInt(w),S=c(_,b,s),A=w>=i.length-1;if(S&&!A){b+=" ",g=0;continue}if(S||A){if(A)x=_;else if(t.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>o)continue e;x=_}}for(var E="",D=m;D<=x;D++){var F=i[D];if(t.multiline){if(D===x){E+=F[g]+" ",g=(g+1)%F.length;continue}if(D===m){E+=F[F.length-1]+" ";continue}}E+=F[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=mm(E,t,s).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}e+=wt(u)+" "+wt(p)+` Td
`,e+="("+Rc(E)+`) Tj
`,e+=-wt(u)+` 0 Td
`,p=-(s+2),d=0,m=N?x:x+1,y++,b=""}break}return n.text=e,n.fontSize=s,n},mm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Vpe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gpe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Xpe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),or(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},Ype=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(os.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Vpe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ik,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Gpe(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=qpe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=et.createDefaultAppearanceStream(l),or(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Wpe(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var p=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var m=p[o];typeof m=="function"&&(m=m.call(i,l)),h+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(i,l)),h+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&Xpe(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},rk=qr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),or(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Rc(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jb=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Rc(n(t))+")"},Os=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Os.prototype.toString=function(){return this.objId+" 0 R"},Os.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Os.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:rk(i,this.objId,this.scope)}):i instanceof Os?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var nk=function(){Os.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Wi(nk,Os);var ik=function(){Os.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Rc(r(t))+")"}},set:function(r){t=r}})};Wi(ik,Os);var os=function t(){Os.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zr(e,3)},set:function(b){b?this.F=Qr(e,3):this.F=en(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof n1)return;s="FieldObject"+t.FieldNum++}var b=function(y){return y};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Rc(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/G5:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof n1||this instanceof pl))return jb(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof yn?f:jb(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof yn?b:b.substr(0,1)==="("?Su(b.substr(1,b.length-2)):Su(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yn?Su(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof yn?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof yn?p:jb(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof yn?b:b.substr(0,1)==="("?Su(b.substr(1,b.length-2)):Su(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yn?Su(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof yn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(b){m=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,1)},set:function(b){b?this.Ff=Qr(this.Ff,1):this.Ff=en(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,2)},set:function(b){b?this.Ff=Qr(this.Ff,2):this.Ff=en(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,3)},set:function(b){b?this.Ff=Qr(this.Ff,3):this.Ff=en(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');g=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(g){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Wi(os,Os);var mc=function(){os.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rk(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,18)},set:function(r){r?this.Ff=Qr(this.Ff,18):this.Ff=en(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qr(this.Ff,19):this.Ff=en(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,20)},set:function(r){r?(this.Ff=Qr(this.Ff,20),e.sort()):this.Ff=en(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,22)},set:function(r){r?this.Ff=Qr(this.Ff,22):this.Ff=en(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(r){r?this.Ff=Qr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,27)},set:function(r){r?this.Ff=Qr(this.Ff,27):this.Ff=en(this.Ff,27)}}),this.hasAppearanceStream=!1};Wi(mc,os);var xc=function(){mc.call(this),this.fontName="helvetica",this.combo=!1};Wi(xc,mc);var gc=function(){xc.call(this),this.combo=!0};Wi(gc,xc);var _f=function(){gc.call(this),this.edit=!0};Wi(_f,gc);var yn=function(){os.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,15)},set:function(r){r?this.Ff=Qr(this.Ff,15):this.Ff=en(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,16)},set:function(r){r?this.Ff=Qr(this.Ff,16):this.Ff=en(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,17)},set:function(r){r?this.Ff=Qr(this.Ff,17):this.Ff=en(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(r){r?this.Ff=Qr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Rc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){or(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Wi(yn,os);var Sf=function(){yn.call(this),this.pushButton=!0};Wi(Sf,yn);var vc=function(){yn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Wi(vc,yn);var n1=function(){var t,e;os.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Rc(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){or(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wi(n1,os),vc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},vc.prototype.createOption=function(t){var e=new n1;return e.Parent=this,e.optionName=t,this.Kids.push(e),Kpe.call(this.scope,e),e};var Af=function(){yn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Wi(Af,yn);var pl=function(){os.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,13)},set:function(e){e?this.Ff=Qr(this.Ff,13):this.Ff=en(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,21)},set:function(e){e?this.Ff=Qr(this.Ff,21):this.Ff=en(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(e){e?this.Ff=Qr(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,24)},set:function(e){e?this.Ff=Qr(this.Ff,24):this.Ff=en(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,25)},set:function(e){e?this.Ff=Qr(this.Ff,25):this.Ff=en(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(e){e?this.Ff=Qr(this.Ff,26):this.Ff=en(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wi(pl,os);var Cf=function(){pl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,14)},set:function(t){t?this.Ff=Qr(this.Ff,14):this.Ff=en(this.Ff,14)}}),this.password=!0};Wi(Cf,pl);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=W2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+wt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=bs(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=et.internal.getHeight(t),o=et.internal.getWidth(t),l=W2(t,t.caption);return i.push("1 g"),i.push("0 0 "+wt(o)+" "+wt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wt(o-1)+" "+wt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+wt(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=et.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Yo(et.internal.getWidth(t)/2)+" "+Yo(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5)),o=Number((n*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yo(et.internal.getWidth(t)/2)+" "+Yo(et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Yo(et.internal.getWidth(t)/2)+" "+Yo(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yo(et.internal.getWidth(t)/2)+" "+Yo(et.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=bs(t);e.scope=t.scope;var r=[],n=et.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+wt(et.internal.getWidth(t)-2)+" "+wt(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(wt(n.x1.x)+" "+wt(n.x1.y)+" m"),r.push(wt(n.x2.x)+" "+wt(n.x2.y)+" l"),r.push(wt(n.x4.x)+" "+wt(n.x4.y)+" m"),r.push(wt(n.x3.x)+" "+wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=et.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+wt(et.internal.getWidth(t)-2)+" "+wt(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(wt(r.x1.x)+" "+wt(r.x1.y)+" m"),n.push(wt(r.x2.x)+" "+wt(r.x2.y)+" l"),n.push(wt(r.x4.x)+" "+wt(r.x4.y)+" m"),n.push(wt(r.x3.x)+" "+wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=bs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),r=et.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},et.internal.getWidth=function(t){var e=0;return or(t)==="object"&&(e=ZS(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return or(t)==="object"&&(e=ZS(t.Rect[3])),e};var Kpe=qr.addField=function(t){if(Ype(this,t),!(t instanceof os))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};qr.AcroFormChoiceField=mc,qr.AcroFormListBox=xc,qr.AcroFormComboBox=gc,qr.AcroFormEditBox=_f,qr.AcroFormButton=yn,qr.AcroFormPushButton=Sf,qr.AcroFormRadioButton=vc,qr.AcroFormCheckBox=Af,qr.AcroFormTextField=pl,qr.AcroFormPasswordField=Cf,qr.AcroFormAppearance=et,qr.AcroForm={ChoiceField:mc,ListBox:xc,ComboBox:gc,EditBox:_f,Button:yn,PushButton:Sf,RadioButton:vc,CheckBox:Af,TextField:pl,PasswordField:Cf,Appearance:et},st.AcroForm={ChoiceField:mc,ListBox:xc,ComboBox:gc,EditBox:_f,Button:yn,PushButton:Sf,RadioButton:vc,CheckBox:Af,TextField:pl,PasswordField:Cf,Appearance:et};var Jpe=st.AcroForm;function ak(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(k,O){var B,L,W,$,z,X=e;if((O=O||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(S(k))for(z in r)for(W=r[z],B=0;B<W.length;B+=1){for($=!0,L=0;L<W[B].length;L+=1)if(W[B][L]!==void 0&&W[B][L]!==k[L]){$=!1;break}if($===!0){X=z;break}}else for(z in r)for(W=r[z],B=0;B<W.length;B+=1){for($=!0,L=0;L<W[B].length;L+=1)if(W[B][L]!==void 0&&W[B][L]!==k.charCodeAt(L)){$=!1;break}if($===!0){X=z;break}}return X===e&&O!==e&&(X=O),X},i=function k(O){for(var B=this.internal.write,L=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:O.width}),$.push({key:"Height",value:O.height}),O.colorSpace===g.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===g.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var z="",X=0,Y=O.transparency.length;X<Y;X++)z+=O.transparency[X]+" "+O.transparency[X]+" ";$.push({key:"Mask",value:"["+z+"]"})}O.sMask!==void 0&&$.push({key:"SMask",value:O.objectId+1+" 0 R"});var le=O.filter!==void 0?["/"+O.filter]:void 0;if(L({data:O.data,additionalKeyValues:$,alreadyAppliedFilters:le,objectId:O.objectId}),B("endobj"),"sMask"in O&&O.sMask!==void 0){var fe="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,R={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:fe,data:O.sMask};"filter"in O&&(R.filter=O.filter),k.call(this,R)}if(O.colorSpace===g.INDEXED){var I=this.internal.newObject();L({data:E(new Uint8Array(O.palette)),objectId:I}),B("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var O in k)i.call(this,k[O])},o=function(){var k,O=this.internal.collections.addImage_images,B=this.internal.write;for(var L in O)B("/I"+(k=O[L]).index,k.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return l.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof t["process"+k.toUpperCase()]=="function"},h=function(k){return or(k)==="object"&&k.nodeType===1},f=function(k,O){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var B=""+k.getAttribute("src");if(B.indexOf("data:image/")===0)return Nf(unescape(B).split("base64,").pop());var L=t.loadFile(B,!0);if(L!==void 0)return L}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var W;switch(O){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;case"JPEG":case"JPG":default:W="image/jpeg"}return Nf(k.toDataURL(W,1).split("base64,").pop())}},p=function(k){var O=this.internal.collections.addImage_images;if(O){for(var B in O)if(k===O[B].alias)return O[B]}},m=function(k,O,B){return k||O||(k=-96,O=-96),k<0&&(k=-1*B.width*72/k/this.internal.scaleFactor),O<0&&(O=-1*B.height*72/O/this.internal.scaleFactor),k===0&&(k=O*B.width/B.height),O===0&&(O=k*B.height/B.width),[k,O]},x=function(k,O,B,L,W,$){var z=m.call(this,B,L,W),X=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,le=c.call(this);if(B=z[0],L=z[1],le[W.index]=W,$){$*=Math.PI/180;var fe=Math.cos($),R=Math.sin($),I=function(Q){return Q.toFixed(4)},q=[I(fe),I(R),I(-1*R),I(fe),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,X(k),Y(O+L),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([X(B),"0","0",X(L),"0","0","cm"].join(" "))):this.internal.write([X(B),"0","0",X(L),X(k),Y(O+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(k){var O,B,L=0;if(typeof k=="string")for(B=k.length,O=0;O<B;O++)L=(L<<5)-L+k.charCodeAt(O),L|=0;else if(S(k))for(B=k.byteLength/2,O=0;O<B;O++)L=(L<<5)-L+k[O],L|=0;return L},w=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var O=!0;return k.length===0&&(O=!1),k.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(O=!1),O},N=t.__addimage__.extractImageFromDataUrl=function(k){var O=(k=k||"").split("base64,"),B=null;if(O.length===2){var L=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(L)&&(B={mimeType:L[1],charset:L[2],data:O[1]})}return B},_=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return _()&&k instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(k){return _()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},A=t.__addimage__.binaryStringToUint8Array=function(k){for(var O=k.length,B=new Uint8Array(O),L=0;L<O;L++)B[L]=k.charCodeAt(L);return B},E=t.__addimage__.arrayBufferToBinaryString=function(k){for(var O="",B=S(k)?k:new Uint8Array(k),L=0;L<B.length;L+=8192)O+=String.fromCharCode.apply(null,B.subarray(L,L+8192));return O};t.addImage=function(){var k,O,B,L,W,$,z,X,Y;if(typeof arguments[1]=="number"?(O=e,B=arguments[1],L=arguments[2],W=arguments[3],$=arguments[4],z=arguments[5],X=arguments[6],Y=arguments[7]):(O=arguments[1],B=arguments[2],L=arguments[3],W=arguments[4],$=arguments[5],z=arguments[6],X=arguments[7],Y=arguments[8]),or(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var le=k;k=le.imageData,O=le.format||O||e,B=le.x||B||0,L=le.y||L||0,W=le.w||le.width||W,$=le.h||le.height||$,z=le.alias||z,X=le.compression||X,Y=le.rotation||le.angle||Y}var fe=this.internal.getFilters();if(X===void 0&&fe.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(B)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=D.call(this,k,O,z,X);return x.call(this,B,L,W,$,R,Y),this};var D=function(k,O,B,L){var W,$,z;if(typeof k=="string"&&n(k)===e){k=unescape(k);var X=F(k,!1);(X!==""||(X=t.loadFile(k,!0))!==void 0)&&(k=X)}if(h(k)&&(k=f(k,O)),O=n(k,O),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((z=B)==null||z.length===0)&&(B=function(Y){return typeof Y=="string"||S(Y)?y(Y):S(Y.data)?y(Y.data):null}(k)),(W=p.call(this,B))||(_()&&(k instanceof Uint8Array||O==="RGBA"||($=k,k=A(k))),W=this["process"+O.toUpperCase()](k,u.call(this),B,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:b.NONE}(L),$)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},F=t.__addimage__.convertBase64ToBinaryString=function(k,O){var B;O=typeof O!="boolean"||O;var L,W="";if(typeof k=="string"){L=(B=N(k))!==null?B.data:k;try{W=Nf(L)}catch($){if(O)throw w(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(k){var O,B,L="";if(h(k)&&(k=f(k)),typeof k=="string"&&n(k)===e&&((L=F(k,!1))===""&&(L=t.loadFile(k)||""),k=L),B=n(k),!d(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!_()||k instanceof Uint8Array||(k=A(k)),!(O=this["process"+B.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=B,O}})(st.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};st.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){n=u[f];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(b(y))+") >>",x.content=s;var w=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(x.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(m(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-u,l,o,s),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(st.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(x){var g=0,b=r,y="",w=0;for(g=0;g<x.length;g+=1)b[x.charCodeAt(g)]!==void 0?(w++,typeof(b=b[x.charCodeAt(g)])=="number"&&(y+=String.fromCharCode(b),b=r,w=0),g===x.length-1&&(b=r,y+=x.charAt(g-(w-1)),g-=w-1,w=0)):(b=r,y+=x.charAt(g-w),g-=w,w=0);return y};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(x,g,b){return o(x)?s(x)===!1?-1:!u(x)||!o(g)&&!o(b)||!o(b)&&l(g)||l(x)&&!o(g)||l(x)&&c(g)||l(x)&&l(g)?0:d(x)&&o(g)&&!l(g)&&o(b)&&u(b)?3:l(x)||!o(b)?1:2:-1},p=function(x){var g=0,b=0,y=0,w="",N="",_="",S=(x=x||"").split("\\s+"),A=[];for(g=0;g<S.length;g+=1){for(A.push(""),b=0;b<S[g].length;b+=1)w=S[g][b],N=S[g][b-1],_=S[g][b+1],o(w)?(y=f(w,N,_),A[g]+=y!==-1?String.fromCharCode(e[w.charCodeAt(0)][y]):w):A[g]+=w;A[g]=h(A[g])}return A.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var x,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(g)){var y=0;for(b=[],y=0;y<g.length;y+=1)Array.isArray(g[y])?b.push([p(g[y][0]),g[y][1],g[y][2]]):b.push([p(g[y])]);x=b}else x=p(g);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",m])}(st.API),st.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(st.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(x){m=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,p=0,m=0,x=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,N){return w.concat(g.splitTextToSize(N,b))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(x=this.getStringUnitWidth(c[y],{font:h})*d)&&(p=x);return p!==0&&(m=c.length),{w:p/=f,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,f){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,m,x,g,b=[],y=[],w=[],N={},_={},S=[],A=[],E=(f=f||{}).autoSize||!1,D=f.printHeaders!==!1,F=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,k=f.margins||Object.assign({width:this.getPageWidth()},e),O=typeof f.padding=="number"?f.padding:3,B=f.headerBackgroundColor||"#c8c8c8",L=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=L,this.setFontSize(F),h==null)y=b=Object.keys(d[0]),w=b.map(function(){return"left"});else if(Array.isArray(h)&&or(h[0])==="object")for(b=h.map(function(le){return le.name}),y=h.map(function(le){return le.prompt||le.name||""}),w=h.map(function(le){return le.align||"left"}),p=0;p<h.length;p+=1)_[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=b=h,w=b.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<b.length;p+=1){for(N[g=b[p]]=d.map(function(le){return le[g]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[g],this.setFont(void 0,"normal"),x=0;x<m.length;x+=1)S.push(this.getTextDimensions(m[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[g]=Math.max.apply(null,S)+O+O,S=[]}if(D){var W={};for(p=0;p<b.length;p+=1)W[b[p]]={},W[b[p]].text=y[p],W[b[p]].align=w[p];var $=l.call(this,W,_);A=b.map(function(le){return new s(c,u,_[le],$,W[le].text,void 0,W[le].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var z=h.reduce(function(le,fe){return le[fe.name]=fe.align,le},{});for(p=0;p<d.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:d[p]},this);var X=l.call(this,d[p],_);for(x=0;x<b.length;x+=1){var Y=d[p][b[x]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:x,data:Y},this),o.call(this,new s(c,u,_[b[x]],X,Y,p+2,z[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var m=c[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+d+d},this).reduce(function(p,m){return Math.max(p,m)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(st.API);var sk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ok=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V2=ak(ok),lk=[100,200,300,400,500,600,700,800,900],Zpe=ak(lk);function G2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return sk[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof V2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function QS(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Qpe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},eA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function eme(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},Qpe,r.genericFontFamilies||{}),s=null,o=null,l=0;l<e.length;++l)if(i[(s=G2(e[l])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+tA(s)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=V2[c],h=d<=V2.normal?-1:1,f=QS(u,ok,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(s.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=sk[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Zpe[c],h=QS(u,lk,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+tA(s)+"'.");return o}function rA(t){return t.trimLeft()}function tme(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function rme(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var xm,nA,iA,Nb=["times"];(function(t){var e,r,n,i,s,o,l,c,u,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=R;Object.defineProperty(this,"pdf",{get:function(){return I}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(he){q=!!he}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(he){Q=!!he}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(he){isNaN(he)||(J=he)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(he){isNaN(he)||(de=he)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(he){var te;typeof he=="number"?te=[he,he,he,he]:((te=new Array(4))[0]=he[0],te[1]=he.length>=2?he[1]:te[0],te[2]=he.length>=3?he[2]:te[0],te[3]=he.length>=4?he[3]:te[1]),u.margin=te}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(he){ve=he}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(he){ue=he}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(he){Oe=he}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(he){he instanceof d&&(u=he)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(he){u.path=he}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(he){Ee=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var te;te=f(he),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var te=f(he);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var ae=null;function Pe(he,te){if(ae===null){var Ue=function(ee){var ne=[];return Object.keys(ee).forEach(function(ce){ee[ce].forEach(function(_e){var je=null;switch(_e){case"bold":je={family:ce,weight:"bold"};break;case"italic":je={family:ce,style:"italic"};break;case"bolditalic":je={family:ce,weight:"bold",style:"italic"};break;case"":case"normal":je={family:ce}}je!==null&&(je.ref={name:ce,style:_e},ne.push(je))})}),ne}(he.getFontList());ae=function(ee){for(var ne={},ce=0;ce<ee.length;++ce){var _e=G2(ee[ce]),je=_e.family,me=_e.stretch,Le=_e.style,He=_e.weight;ne[je]=ne[je]||{},ne[je][me]=ne[je][me]||{},ne[je][me][Le]=ne[je][me][Le]||{},ne[je][me][Le][He]=_e}return ne}(Ue.concat(te))}return ae}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(he){ae=null,De=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var te;if(this.ctx.font=he,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Ue=te[1],ee=(te[2],te[3]),ne=te[4],ce=(te[5],te[6]),_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ne)[2];ne=Math.floor(_e==="px"?parseFloat(ne)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(ne)*this.pdf.getFontSize():parseFloat(ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ne);var je=function(dt){var At,Ge,On=[],Rt=dt.trim();if(Rt==="")return Nb;if(Rt in eA)return[eA[Rt]];for(;Rt!=="";){switch(Ge=null,At=(Rt=rA(Rt)).charAt(0)){case'"':case"'":Ge=tme(Rt.substring(1),At);break;default:Ge=rme(Rt)}if(Ge===null||(On.push(Ge[0]),(Rt=rA(Ge[1]))!==""&&Rt.charAt(0)!==","))return Nb;Rt=Rt.replace(/^,/,"")}return On}(ce);if(this.fontFaces){var me=eme(Pe(this.pdf,this.fontFaces),je.map(function(dt){return{family:dt,stretch:"normal",weight:ee,style:Ue}}));this.pdf.setFont(me.ref.name,me.ref.style)}else{var Le="";(ee==="bold"||parseInt(ee,10)>=700||Ue==="bold")&&(Le="bold"),Ue==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var He="",Ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<je.length;it++){if(this.pdf.internal.getFont(je[it],Le,{noFallback:!0,disableWarning:!0})!==void 0){He=je[it];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(je[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=je[it],Le="bold";else if(this.pdf.internal.getFont(je[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=je[it],Le="normal";break}}if(He===""){for(var jt=0;jt<je.length;jt++)if(Ke[je[jt]]){He=Ke[je[jt]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};h.prototype.setLineDash=function(R){this.lineDash=R},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){N.call(this,"fill",!1)},h.prototype.stroke=function(){N.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(R,I){if(isNaN(R)||isNaN(I))throw xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(R,I));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(R,I)},h.prototype.closePath=function(){var R=new o(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&or(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){R=new o(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},h.prototype.lineTo=function(R,I){if(isNaN(R)||isNaN(I))throw xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(R,I));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},h.prototype.quadraticCurveTo=function(R,I,q,Q){if(isNaN(q)||isNaN(Q)||isNaN(R)||isNaN(I))throw xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(q,Q)),de=this.ctx.transform.applyToPoint(new o(R,I));this.path.push({type:"qct",x1:de.x,y1:de.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.bezierCurveTo=function(R,I,q,Q,J,de){if(isNaN(J)||isNaN(de)||isNaN(R)||isNaN(I)||isNaN(q)||isNaN(Q))throw xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(J,de)),ue=this.ctx.transform.applyToPoint(new o(R,I)),Oe=this.ctx.transform.applyToPoint(new o(q,Q));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:Oe.x,y2:Oe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},h.prototype.arc=function(R,I,q,Q,J,de){if(isNaN(R)||isNaN(I)||isNaN(q)||isNaN(Q)||isNaN(J))throw xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(R,I));R=ve.x,I=ve.y;var ue=this.ctx.transform.applyToPoint(new o(0,q)),Oe=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(ue.x-Oe.x,2)+Math.pow(ue.y-Oe.y,2))}Math.abs(J-Q)>=2*Math.PI&&(Q=0,J=2*Math.PI),this.path.push({type:"arc",x:R,y:I,radius:q,startAngle:Q,endAngle:J,counterclockwise:de})},h.prototype.arcTo=function(R,I,q,Q,J){throw new Error("arcTo not implemented.")},h.prototype.rect=function(R,I,q,Q){if(isNaN(R)||isNaN(I)||isNaN(q)||isNaN(Q))throw xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,I),this.lineTo(R+q,I),this.lineTo(R+q,I+Q),this.lineTo(R,I+Q),this.lineTo(R,I),this.lineTo(R+q,I),this.lineTo(R,I)},h.prototype.fillRect=function(R,I,q,Q){if(isNaN(R)||isNaN(I)||isNaN(q)||isNaN(Q))throw xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,I,q,Q),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},h.prototype.strokeRect=function(R,I,q,Q){if(isNaN(R)||isNaN(I)||isNaN(q)||isNaN(Q))throw xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(R,I,q,Q),this.stroke())},h.prototype.clearRect=function(R,I,q,Q){if(isNaN(R)||isNaN(I)||isNaN(q)||isNaN(Q))throw xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,I,q,Q))},h.prototype.save=function(R){R=typeof R!="boolean"||R;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},h.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(I),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(R){var I,q,Q,J;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))I=0,q=0,Q=0,J=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(de!==null)I=parseInt(de[1]),q=parseInt(de[2]),Q=parseInt(de[3]),J=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)I=parseInt(de[1]),q=parseInt(de[2]),Q=parseInt(de[3]),J=parseFloat(de[4]);else{if(J=1,typeof R=="string"&&R.charAt(0)!=="#"){var ve=new QP(R);R=ve.ok?ve.toHex():"#000000"}R.length===4?(I=R.substring(1,2),I+=I,q=R.substring(2,3),q+=q,Q=R.substring(3,4),Q+=Q):(I=R.substring(1,3),q=R.substring(3,5),Q=R.substring(5,7)),I=parseInt(I,16),q=parseInt(q,16),Q=parseInt(Q,16)}}return{r:I,g:q,b:Q,a:J,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(R,I,q,Q){if(isNaN(I)||isNaN(q)||typeof R!="string")throw xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var J=X(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;O.call(this,{text:R,x:I,y:q,scale:de,angle:J,align:this.textAlign,maxWidth:Q})}},h.prototype.strokeText=function(R,I,q,Q){if(isNaN(I)||isNaN(q)||typeof R!="string")throw xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Q=isNaN(Q)?void 0:Q;var J=X(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;O.call(this,{text:R,x:I,y:q,scale:de,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:Q})}},h.prototype.measureText=function(R){if(typeof R!="string")throw xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,q=this.pdf.internal.scaleFactor,Q=I.internal.getFontSize(),J=I.getStringUnitWidth(R)*Q/I.internal.scaleFactor,de=function(ve){var ue=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new de({width:J*=Math.round(96*q/72*1e4)/1e4})},h.prototype.scale=function(R,I){if(isNaN(R)||isNaN(I))throw xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(R,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.rotate=function(R){if(isNaN(R))throw xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.translate=function(R,I){if(isNaN(R)||isNaN(I))throw xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,R,I);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.transform=function(R,I,q,Q,J,de){if(isNaN(R)||isNaN(I)||isNaN(q)||isNaN(Q)||isNaN(J)||isNaN(de))throw xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new c(R,I,q,Q,J,de);this.ctx.transform=this.ctx.transform.multiply(ve)},h.prototype.setTransform=function(R,I,q,Q,J,de){R=isNaN(R)?1:R,I=isNaN(I)?0:I,q=isNaN(q)?0:q,Q=isNaN(Q)?1:Q,J=isNaN(J)?0:J,de=isNaN(de)?0:de,this.ctx.transform=new c(R,I,q,Q,J,de)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(R,I,q,Q,J,de,ve,ue,Oe){var Ee=this.pdf.getImageProperties(R),ae=1,Pe=1,De=1,he=1;Q!==void 0&&ue!==void 0&&(De=ue/Q,he=Oe/J,ae=Ee.width/Q*ue/Q,Pe=Ee.height/J*Oe/J),de===void 0&&(de=I,ve=q,I=0,q=0),Q!==void 0&&ue===void 0&&(ue=Q,Oe=J),Q===void 0&&ue===void 0&&(ue=Ee.width,Oe=Ee.height);for(var te,Ue=this.ctx.transform.decompose(),ee=X(Ue.rotate.shx),ne=new c,ce=(ne=(ne=(ne=ne.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new l(de-I*De,ve-q*he,Q*ae,J*Pe)),_e=g.call(this,ce),je=[],me=0;me<_e.length;me+=1)je.indexOf(_e[me])===-1&&je.push(_e[me]);if(w(je),this.autoPaging)for(var Le=je[0],He=je[je.length-1],Ke=Le;Ke<He+1;Ke++){this.pdf.setPage(Ke);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=Ke===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Ke===1?0:dt+(Ke-2)*At;if(this.ctx.clip_path.length!==0){var On=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(te,this.posX+this.margin[3],-Ge+jt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=On}var Rt=JSON.parse(JSON.stringify(ce));Rt=y([Rt],this.posX+this.margin[3],-Ge+jt+this.ctx.prevPageLastElemOffset)[0];var Gi=(Ke>Le||Ke<He)&&x.call(this);Gi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,At,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,ee),Gi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,ee)};var g=function(R,I,q){var Q=[];I=I||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":Q.push(Math.floor((R.y+J)/q)+1);break;case"arc":Q.push(Math.floor((R.y+J-R.radius)/q)+1),Q.push(Math.floor((R.y+J+R.radius)/q)+1);break;case"qct":var de=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);Q.push(Math.floor((de.y+J)/q)+1),Q.push(Math.floor((de.y+de.h+J)/q)+1);break;case"bct":var ve=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);Q.push(Math.floor((ve.y+J)/q)+1),Q.push(Math.floor((ve.y+ve.h+J)/q)+1);break;case"rect":Q.push(Math.floor((R.y+J)/q)+1),Q.push(Math.floor((R.y+R.h+J)/q)+1)}for(var ue=0;ue<Q.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ue];)b.call(this);return Q},b=function(){var R=this.fillStyle,I=this.strokeStyle,q=this.font,Q=this.lineCap,J=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=I,this.font=q,this.lineCap=Q,this.lineWidth=J,this.lineJoin=de},y=function(R,I,q){for(var Q=0;Q<R.length;Q++)switch(R[Q].type){case"bct":R[Q].x2+=I,R[Q].y2+=q;case"qct":R[Q].x1+=I,R[Q].y1+=q;case"mt":case"lt":case"arc":default:R[Q].x+=I,R[Q].y+=q}return R},w=function(R){return R.sort(function(I,q){return I-q})},N=function(R,I){for(var q,Q,J=this.fillStyle,de=this.strokeStyle,ve=this.lineCap,ue=this.lineWidth,Oe=Math.abs(ue*this.ctx.transform.scaleX),Ee=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),De=[],he=0;he<Pe.length;he++)if(Pe[he].x!==void 0)for(var te=g.call(this,Pe[he]),Ue=0;Ue<te.length;Ue+=1)De.indexOf(te[Ue])===-1&&De.push(te[Ue]);for(var ee=0;ee<De.length;ee++)for(;this.pdf.internal.getNumberOfPages()<De[ee];)b.call(this);if(w(De),this.autoPaging)for(var ne=De[0],ce=De[De.length-1],_e=ne;_e<ce+1;_e++){this.pdf.setPage(_e),this.fillStyle=J,this.strokeStyle=de,this.lineCap=ve,this.lineWidth=Oe,this.lineJoin=Ee;var je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=_e===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=_e===1?0:Le+(_e-2)*He;if(this.ctx.clip_path.length!==0){var it=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(q,this.posX+this.margin[3],-Ke+me+this.ctx.prevPageLastElemOffset),_.call(this,R,!0),this.path=it}if(Q=JSON.parse(JSON.stringify(ae)),this.path=y(Q,this.posX+this.margin[3],-Ke+me+this.ctx.prevPageLastElemOffset),I===!1||_e===0){var jt=(_e>ne||_e<ce)&&x.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,He,null).clip().discardPath()),_.call(this,R,I),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=Oe,_.call(this,R,I),this.lineWidth=ue;this.path=ae},_=function(R,I){if((R!=="stroke"||I||!m.call(this))&&(R==="stroke"||I||!p.call(this))){for(var q,Q,J=[],de=this.path,ve=0;ve<de.length;ve++){var ue=de[ve];switch(ue.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ue,deltas:[],abs:[]});break;case"lt":var Oe=J.length;if(de[ve-1]&&!isNaN(de[ve-1].x)&&(q=[ue.x-de[ve-1].x,ue.y-de[ve-1].y],Oe>0)){for(;Oe>=0;Oe--)if(J[Oe-1].close!==!0&&J[Oe-1].begin!==!0){J[Oe-1].deltas.push(q),J[Oe-1].abs.push(ue);break}}break;case"bct":q=[ue.x1-de[ve-1].x,ue.y1-de[ve-1].y,ue.x2-de[ve-1].x,ue.y2-de[ve-1].y,ue.x-de[ve-1].x,ue.y-de[ve-1].y],J[J.length-1].deltas.push(q);break;case"qct":var Ee=de[ve-1].x+2/3*(ue.x1-de[ve-1].x),ae=de[ve-1].y+2/3*(ue.y1-de[ve-1].y),Pe=ue.x+2/3*(ue.x1-ue.x),De=ue.y+2/3*(ue.y1-ue.y),he=ue.x,te=ue.y;q=[Ee-de[ve-1].x,ae-de[ve-1].y,Pe-de[ve-1].x,De-de[ve-1].y,he-de[ve-1].x,te-de[ve-1].y],J[J.length-1].deltas.push(q);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ue)}}Q=I?null:R==="stroke"?"stroke":"fill";for(var Ue=!1,ee=0;ee<J.length;ee++)if(J[ee].arc)for(var ne=J[ee].abs,ce=0;ce<ne.length;ce++){var _e=ne[ce];_e.type==="arc"?E.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,I,!Ue):B.call(this,_e.x,_e.y),Ue=!0}else if(J[ee].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(J[ee].begin!==!0){var je=J[ee].start.x,me=J[ee].start.y;L.call(this,J[ee].deltas,je,me),Ue=!0}Q&&D.call(this,Q),I&&F.call(this)}},S=function(R){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-q;case"top":return R+I-q;case"hanging":return R+I-2*q;case"middle":return R+I/2-q;case"ideographic":return R;case"alphabetic":default:return R}},A=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(I,q){this.colorStops.push([I,q])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(R,I,q,Q,J,de,ve,ue,Oe){for(var Ee=$.call(this,q,Q,J,de),ae=0;ae<Ee.length;ae++){var Pe=Ee[ae];ae===0&&(Oe?k.call(this,Pe.x1+R,Pe.y1+I):B.call(this,Pe.x1+R,Pe.y1+I)),W.call(this,R,I,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ue?F.call(this):D.call(this,ve)},D=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(R,I){this.pdf.internal.out(r(R)+" "+n(I)+" m")},O=function(R){var I;switch(R.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var q=this.pdf.getTextDimensions(R.text),Q=S.call(this,R.y),J=A.call(this,Q)-q.h,de=this.ctx.transform.applyToPoint(new o(R.x,Q)),ve=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Oe,Ee,ae,Pe=this.ctx.transform.applyToRectangle(new l(R.x,Q,q.w,q.h)),De=ue.applyToRectangle(new l(R.x,J,q.w,q.h)),he=g.call(this,De),te=[],Ue=0;Ue<he.length;Ue+=1)te.indexOf(he[Ue])===-1&&te.push(he[Ue]);if(w(te),this.autoPaging)for(var ee=te[0],ne=te[te.length-1],ce=ee;ce<ne+1;ce++){this.pdf.setPage(ce);var _e=ce===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],Le=me-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Ke=He-this.margin[3],it=ce===1?0:je+(ce-2)*Le;if(this.ctx.clip_path.length!==0){var jt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Oe,this.posX+this.margin[3],-1*it+_e),_.call(this,"fill",!0),this.path=jt}var dt=y([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-it+_e+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale);var At=this.autoPaging!=="text";if(At||dt.y+dt.h<=me){if(At||dt.y>=_e&&dt.x<=He){var Ge=At?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||He-dt.x)[0],On=y([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-it+_e+this.ctx.prevPageLastElemOffset)[0],Rt=At&&(ce>ee||ce<ne)&&x.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,Le,null).clip().discardPath()),this.pdf.text(Ge,On.x,On.y,{angle:R.angle,align:I,renderingMode:R.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else dt.y<me&&(this.ctx.prevPageLastElemOffset+=me-dt.y);R.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ae)}else R.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale),this.pdf.text(R.text,de.x+this.posX,de.y+this.posY,{angle:R.angle,align:I,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ae)},B=function(R,I,q,Q){q=q||0,Q=Q||0,this.pdf.internal.out(r(R+q)+" "+n(I+Q)+" l")},L=function(R,I,q){return this.pdf.lines(R,I,q,null,null)},W=function(R,I,q,Q,J,de,ve,ue){this.pdf.internal.out([e(i(q+R)),e(s(Q+I)),e(i(J+R)),e(s(de+I)),e(i(ve+R)),e(s(ue+I)),"c"].join(" "))},$=function(R,I,q,Q){for(var J=2*Math.PI,de=Math.PI/2;I>q;)I-=J;var ve=Math.abs(q-I);ve<J&&Q&&(ve=J-ve);for(var ue=[],Oe=Q?-1:1,Ee=I;ve>1e-5;){var ae=Ee+Oe*Math.min(ve,de);ue.push(z.call(this,R,Ee,ae)),ve-=Math.abs(ae-Ee),Ee=ae}return ue},z=function(R,I,q){var Q=(q-I)/2,J=R*Math.cos(Q),de=R*Math.sin(Q),ve=J,ue=-de,Oe=ve*ve+ue*ue,Ee=Oe+ve*J+ue*de,ae=4/3*(Math.sqrt(2*Oe*Ee)-Ee)/(ve*de-ue*J),Pe=ve-ae*ue,De=ue+ae*ve,he=Pe,te=-De,Ue=Q+I,ee=Math.cos(Ue),ne=Math.sin(Ue);return{x1:R*Math.cos(I),y1:R*Math.sin(I),x2:Pe*ee-De*ne,y2:Pe*ne+De*ee,x3:he*ee-te*ne,y3:he*ne+te*ee,x4:R*Math.cos(q),y4:R*Math.sin(q)}},X=function(R){return 180*R/Math.PI},Y=function(R,I,q,Q,J,de){var ve=R+.5*(q-R),ue=I+.5*(Q-I),Oe=J+.5*(q-J),Ee=de+.5*(Q-de),ae=Math.min(R,J,ve,Oe),Pe=Math.max(R,J,ve,Oe),De=Math.min(I,de,ue,Ee),he=Math.max(I,de,ue,Ee);return new l(ae,De,Pe-ae,he-De)},le=function(R,I,q,Q,J,de,ve,ue){var Oe,Ee,ae,Pe,De,he,te,Ue,ee,ne,ce,_e,je,me,Le=q-R,He=Q-I,Ke=J-q,it=de-Q,jt=ve-J,dt=ue-de;for(Ee=0;Ee<41;Ee++)ee=(te=(ae=R+(Oe=Ee/40)*Le)+Oe*((De=q+Oe*Ke)-ae))+Oe*(De+Oe*(J+Oe*jt-De)-te),ne=(Ue=(Pe=I+Oe*He)+Oe*((he=Q+Oe*it)-Pe))+Oe*(he+Oe*(de+Oe*dt-he)-Ue),Ee==0?(ce=ee,_e=ne,je=ee,me=ne):(ce=Math.min(ce,ee),_e=Math.min(_e,ne),je=Math.max(je,ee),me=Math.max(me,ne));return new l(Math.round(ce),Math.round(_e),Math.round(je-ce),Math.round(me-_e))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,I,q=(R=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:I}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(st.API),function(t){var e=function(s){var o,l,c,u,d,h,f,p,m,x;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(x=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,p+33,m+33,x+33)):l.push(122);return function(g,b){for(var y=b;y>0;y--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,d,h=String,f="length",p=255,m="charCodeAt",x="slice",g="replace";for(s[x](-2),s=s[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(s+=o="uuuuu"[x](s[f]%5||5))[f];d>u;u+=5)l=52200625*(s[m](u)-33)+614125*(s[m](u+1)-33)+7225*(s[m](u+2)-33)+85*(s[m](u+3)-33)+(s[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(b,y){for(var w=y;w>0;w--)b.pop()}(c,o[f]),h.fromCharCode.apply(h,c)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=z2(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(st.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,f=0,p=function(m){var x=m.length,g=[],b=String.fromCharCode;for(f=0;f<x;f+=1)g.push(b(255&m.charCodeAt(f)));return g.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(i,s,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(st.API),function(t){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):Fs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):Fs(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=or(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],m=p.src.find(function(x){return x.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,st.getPageSize=function(o,l,c){if(or(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,x=0;if(f.hasOwnProperty(h))m=f[h][1]/d,x=f[h][0]/d;else try{m=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>m&&(p=x,x=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>x&&(p=x,x=m,m=p)}return{width:x,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(G2):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(st.API),st.API.addJS=function(t){return iA=t,this.internal.events.subscribe("postPutResources",function(){xm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xm!==void 0&&nA!==void 0&&this.internal.out("/Names <</JavaScript "+xm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var h=r.internal.newObject();d.push(h);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(st.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,x={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=p,e.indexOf(h.charCodeAt(g+1))!==-1){f=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),x={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:f,numcomponents:h.charCodeAt(g+9)};break}p=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(st.API);var Au,gm,aA,sA,oA,nme=function(){var t,e,r;function n(s){var o,l,c,u,d,h,f,p,m,x,g,b,y,w;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),m=(function(){var N,_;for(_=[],N=0;N<4;++N)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(g=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(h,f,p,m){var x,g,b,y,w,N,_,S,A,E,D,F,k,O,B,L,W,$,z,X,Y,le=Math.ceil((u.width-h)/p),fe=Math.ceil((u.height-f)/m),R=u.width==le&&u.height==fe;for(O=o*le,F=R?l:new Uint8Array(O*fe),N=s.length,k=0,g=0;k<fe&&c<N;){switch(s[c++]){case 0:for(y=W=0;W<O;y=W+=1)F[g++]=s[c++];break;case 1:for(y=$=0;$<O;y=$+=1)x=s[c++],w=y<o?0:F[g-o],F[g++]=(x+w)%256;break;case 2:for(y=z=0;z<O;y=z+=1)x=s[c++],b=(y-y%o)/o,B=k&&F[(k-1)*O+b*o+y%o],F[g++]=(B+x)%256;break;case 3:for(y=X=0;X<O;y=X+=1)x=s[c++],b=(y-y%o)/o,w=y<o?0:F[g-o],B=k&&F[(k-1)*O+b*o+y%o],F[g++]=(x+Math.floor((w+B)/2))%256;break;case 4:for(y=Y=0;Y<O;y=Y+=1)x=s[c++],b=(y-y%o)/o,w=y<o?0:F[g-o],k===0?B=L=0:(B=F[(k-1)*O+b*o+y%o],L=b&&F[(k-1)*O+(b-1)*o+y%o]),_=w+B-L,S=Math.abs(_-w),E=Math.abs(_-B),D=Math.abs(_-L),A=S<=E&&S<=D?w:E<=D?B:L,F[g++]=(x+A)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!R){var I=((f+k*m)*u.width+h)*o,q=k*O;for(y=0;y<le;y+=1){for(var Q=0;Q<o;Q+=1)l[I++]=F[q++];I+=(p-1)*o}}k++}}return s=Dpe(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var s,o,l,c,u,d,h,f,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,s=0,o=h=0,f=l.length;h<f;o=h+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[s++])!=null?p:255;return u},n.prototype.copyToImageData=function(s,o){var l,c,u,d,h,f,p,m,x,g,b;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),m=(u=s.data||s).length,h=x||o,d=f=0,c===1)for(;d<m;)p=x?4*o[d/4]:f,g=h[p++],u[d++]=g,u[d++]=g,u[d++]=g,u[d++]=l?h[p++]:255,f=p;else for(;d<m;)p=x?4*o[d/4]:f,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=l?h[p++]:255,f=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{e=pt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,l,c,u,d,h,f,p;if(this.animation){for(p=[],l=d=0,h=(f=this.animation.frames).length;d<h;l=++d)o=f[l],c=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=t(c));return p}},n.prototype.renderFrame=function(s,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var o,l,c,u,d,h,f=this;return l=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(o=function(){var p,m;if(p=l++%u,m=c[p],f.renderFrame(s,p),u>1&&l/u<d)return f.animation._timeout=setTimeout(o,m.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ime(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var u=!0,d=[],h=0,f=null,p=0,m=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],!(1&x)&&(f=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++],_=N>>6&1,S=1<<(7&N)+1,A=l,E=c,D=!1;N>>7&&(D=!0,A=e,E=S,e+=3*S);var F=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}d.push({x:g,y:b,width:y,height:w,has_local_palette:D,palette_offset:A,palette_size:E,data_offset:F,data_length:e-F,transparent_index:f,interlaced:!!_,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,B){var L=this.frameInfo(O),W=L.width*L.height,$=new Uint8Array(W);lA(t,L.data_offset,$,W);var z=L.palette_offset,X=L.transparent_index;X===null&&(X=256);var Y=L.width,le=r-Y,fe=Y,R=4*(L.y*r+L.x),I=4*((L.y+L.height)*r+L.x),q=R,Q=4*le;L.interlaced===!0&&(Q+=4*r*7);for(var J=8,de=0,ve=$.length;de<ve;++de){var ue=$[de];if(fe===0&&(fe=Y,(q+=Q)>=I&&(Q=4*le+4*r*(J-1),q=R+(Y+le)*(J<<1),J>>=1)),ue===X)q+=4;else{var Oe=t[z+3*ue],Ee=t[z+3*ue+1],ae=t[z+3*ue+2];B[q++]=ae,B[q++]=Ee,B[q++]=Oe,B[q++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(O,B){var L=this.frameInfo(O),W=L.width*L.height,$=new Uint8Array(W);lA(t,L.data_offset,$,W);var z=L.palette_offset,X=L.transparent_index;X===null&&(X=256);var Y=L.width,le=r-Y,fe=Y,R=4*(L.y*r+L.x),I=4*((L.y+L.height)*r+L.x),q=R,Q=4*le;L.interlaced===!0&&(Q+=4*r*7);for(var J=8,de=0,ve=$.length;de<ve;++de){var ue=$[de];if(fe===0&&(fe=Y,(q+=Q)>=I&&(Q=4*le+4*r*(J-1),q=R+(Y+le)*(J<<1),J>>=1)),ue===X)q+=4;else{var Oe=t[z+3*ue],Ee=t[z+3*ue+1],ae=t[z+3*ue+2];B[q++]=Oe,B[q++]=Ee,B[q++]=ae,B[q++]=255}--fe}}}function lA(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,h=0,f=0,p=t[e++],m=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)h|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<c)break;var g=h&u;if(h>>=c,d-=c,g!==s){if(g===o)break;for(var b=g<l?g:x,y=0,w=b;w>s;)w=m[w]>>8,++y;var N=w;if(f+y+(b!==g?1:0)>n)return void xr.log("Warning, gif stream longer than expected.");r[f++]=N;var _=f+=y;for(b!==g&&(r[f++]=N),w=b;y--;)w=m[w],r[--_]=255&w,w>>=8;x!==null&&l<4096&&(m[l++]=x<<8|N,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=g}else l=o+1,u=(1<<(c=i+1))-1,x=null}return f!==n&&xr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _b(t){var e,r,n,i,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),m=new Array(64),x=[],g=0,b=7,y=new Array(64),w=new Array(64),N=new Array(64),_=new Array(256),S=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(R,I){for(var q=0,Q=0,J=new Array,de=1;de<=16;de++){for(var ve=1;ve<=R[de];ve++)J[I[Q]]=[],J[I[Q]][0]=q,J[I[Q]][1]=de,Q++,q++;q*=2}return J}function z(R){for(var I=R[0],q=R[1]-1;q>=0;)I&1<<q&&(g|=1<<b),q--,--b<0&&(g==255?(X(255),X(0)):X(g),b=7,g=0)}function X(R){x.push(R)}function Y(R){X(R>>8&255),X(255&R)}function le(R,I,q,Q,J){for(var de,ve=J[0],ue=J[240],Oe=function(ne,ce){var _e,je,me,Le,He,Ke,it,jt,dt,At,Ge=0;for(dt=0;dt<8;++dt){_e=ne[Ge],je=ne[Ge+1],me=ne[Ge+2],Le=ne[Ge+3],He=ne[Ge+4],Ke=ne[Ge+5],it=ne[Ge+6];var On=_e+(jt=ne[Ge+7]),Rt=_e-jt,Gi=je+it,Jt=je-it,Tr=me+Ke,cs=me-Ke,Zt=Le+He,Cl=Le-He,Fr=On+Zt,Da=On-Zt,Ws=Gi+Tr,Br=Gi-Tr;ne[Ge]=Fr+Ws,ne[Ge+4]=Fr-Ws;var bt=.707106781*(Br+Da);ne[Ge+2]=Da+bt,ne[Ge+6]=Da-bt;var Qt=.382683433*((Fr=Cl+cs)-(Br=Jt+Rt)),El=.5411961*Fr+Qt,Hn=1.306562965*Br+Qt,us=.707106781*(Ws=cs+Jt),ds=Rt+us,ht=Rt-us;ne[Ge+5]=ht+El,ne[Ge+3]=ht-El,ne[Ge+1]=ds+Hn,ne[Ge+7]=ds-Hn,Ge+=8}for(Ge=0,dt=0;dt<8;++dt){_e=ne[Ge],je=ne[Ge+8],me=ne[Ge+16],Le=ne[Ge+24],He=ne[Ge+32],Ke=ne[Ge+40],it=ne[Ge+48];var Ma=_e+(jt=ne[Ge+56]),hs=_e-jt,Pi=je+it,hn=je-it,rn=me+Ke,Xi=me-Ke,$c=Le+He,Vs=Le-He,La=Ma+$c,Ra=Ma-$c,Fa=Pi+rn,fs=Pi-rn;ne[Ge]=La+Fa,ne[Ge+32]=La-Fa;var da=.707106781*(fs+Ra);ne[Ge+16]=Ra+da,ne[Ge+48]=Ra-da;var ps=.382683433*((La=Vs+Xi)-(fs=hn+hs)),Ol=.5411961*La+ps,zc=1.306562965*fs+ps,Uc=.707106781*(Fa=Xi+hn),Hc=hs+Uc,qc=hs-Uc;ne[Ge+40]=qc+Ol,ne[Ge+24]=qc-Ol,ne[Ge+8]=Hc+zc,ne[Ge+56]=Hc-zc,Ge++}for(dt=0;dt<64;++dt)At=ne[dt]*ce[dt],p[dt]=At>0?At+.5|0:At-.5|0;return p}(R,I),Ee=0;Ee<64;++Ee)m[A[Ee]]=Oe[Ee];var ae=m[0]-q;q=m[0],ae==0?z(Q[0]):(z(Q[f[de=32767+ae]]),z(h[de]));for(var Pe=63;Pe>0&&m[Pe]==0;)Pe--;if(Pe==0)return z(ve),q;for(var De,he=1;he<=Pe;){for(var te=he;m[he]==0&&he<=Pe;)++he;var Ue=he-te;if(Ue>=16){De=Ue>>4;for(var ee=1;ee<=De;++ee)z(ue);Ue&=15}de=32767+m[he],z(J[(Ue<<4)+f[de]]),z(h[de]),he++}return Pe!=63&&z(ve),q}function fe(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(I){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var J=o((q[Q]*I+50)/100);J=Math.min(Math.max(J,1),255),l[A[Q]]=J}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var ue=o((de[ve]*I+50)/100);ue=Math.min(Math.max(ue,1),255),c[A[ve]]=ue}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ae=0;ae<8;ae++)for(var Pe=0;Pe<8;Pe++)u[Ee]=1/(l[A[Ee]]*Oe[ae]*Oe[Pe]*8),d[Ee]=1/(c[A[Ee]]*Oe[ae]*Oe[Pe]*8),Ee++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,I){I&&fe(I),x=new Array,g=0,b=7,Y(65496),Y(65504),Y(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Y(1),Y(1),X(0),X(0),function(){Y(65499),Y(132),X(0);for(var je=0;je<64;je++)X(l[je]);X(1);for(var me=0;me<64;me++)X(c[me])}(),function(je,me){Y(65472),Y(17),X(8),Y(me),Y(je),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(R.width,R.height),function(){Y(65476),Y(418),X(0);for(var je=0;je<16;je++)X(E[je+1]);for(var me=0;me<=11;me++)X(D[me]);X(16);for(var Le=0;Le<16;Le++)X(F[Le+1]);for(var He=0;He<=161;He++)X(k[He]);X(1);for(var Ke=0;Ke<16;Ke++)X(O[Ke+1]);for(var it=0;it<=11;it++)X(B[it]);X(17);for(var jt=0;jt<16;jt++)X(L[jt+1]);for(var dt=0;dt<=161;dt++)X(W[dt])}(),Y(65498),Y(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var q=0,Q=0,J=0;g=0,b=7,this.encode.displayName="_encode_";for(var de,ve,ue,Oe,Ee,ae,Pe,De,he,te=R.data,Ue=R.width,ee=R.height,ne=4*Ue,ce=0;ce<ee;){for(de=0;de<ne;){for(Ee=ne*ce+de,Pe=-1,De=0,he=0;he<64;he++)ae=Ee+(De=he>>3)*ne+(Pe=4*(7&he)),ce+De>=ee&&(ae-=ne*(ce+1+De-ee)),de+Pe>=ne&&(ae-=de+Pe-ne+4),ve=te[ae++],ue=te[ae++],Oe=te[ae++],y[he]=(S[ve]+S[ue+256>>0]+S[Oe+512>>0]>>16)-128,w[he]=(S[ve+768>>0]+S[ue+1024>>0]+S[Oe+1280>>0]>>16)-128,N[he]=(S[ve+1280>>0]+S[ue+1536>>0]+S[Oe+1792>>0]>>16)-128;q=le(y,u,q,e,n),Q=le(w,d,Q,r,i),J=le(N,d,J,r,i),de+=32}ce+=8}if(b>=0){var _e=[];_e[1]=b+1,_e[0]=(1<<b+1)-1,z(_e)}return Y(65497),new Uint8Array(x)},t=t||50,function(){for(var R=String.fromCharCode,I=0;I<256;I++)_[I]=R(I)}(),e=$(E,D),r=$(O,B),n=$(F,k),i=$(L,W),function(){for(var R=1,I=2,q=1;q<=15;q++){for(var Q=R;Q<I;Q++)f[32767+Q]=q,h[32767+Q]=[],h[32767+Q][1]=q,h[32767+Q][0]=Q;for(var J=-(I-1);J<=-R;J++)f[32767+J]=q,h[32767+J]=[],h[32767+J][1]=q,h[32767+J][0]=I-1+J;R<<=1,I<<=1}}(),function(){for(var R=0;R<256;R++)S[R]=19595*R,S[R+256>>0]=38470*R,S[R+512>>0]=7471*R+32768,S[R+768>>0]=-11059*R,S[R+1024>>0]=-21709*R,S[R+1280>>0]=32768*R+8421375,S[R+1536>>0]=-27439*R,S[R+1792>>0]=-5329*R}(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Va(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cA(t){function e(E){if(!E)throw Error("assert :P")}function r(E,D,F){for(var k=0;4>k;k++)if(E[D+k]!=F.charCodeAt(k))return!0;return!1}function n(E,D,F,k,O){for(var B=0;B<O;B++)E[D+B]=F[k+B]}function i(E,D,F,k){for(var O=0;O<k;O++)E[D+O]=F}function s(E){return new Int32Array(E)}function o(E,D){for(var F=[],k=0;k<E;k++)F.push(new D);return F}function l(E,D){var F=[];return function k(O,B,L){for(var W=L[B],$=0;$<W&&(O.push(L.length>B+1?[]:new D),!(L.length<B+1));$++)k(O[$],B+1,L)}(F,0,E),F}var c=function(){var E=this;function D(v,j){for(var P=1<<j-1>>>0;v&P;)P>>>=1;return P?(v&P-1)+P:v}function F(v,j,P,M,U){e(!(M%P));do v[j+(M-=P)]=U;while(0<M)}function k(v,j,P,M,U){if(e(2328>=U),512>=U)var V=s(512);else if((V=s(U))==null)return 0;return function(G,K,Z,se,xe,Se){var Ae,we,Be=K,ke=1<<Z,ge=s(16),ye=s(16);for(e(xe!=0),e(se!=null),e(G!=null),e(0<Z),we=0;we<xe;++we){if(15<se[we])return 0;++ge[se[we]]}if(ge[0]==xe)return 0;for(ye[1]=0,Ae=1;15>Ae;++Ae){if(ge[Ae]>1<<Ae)return 0;ye[Ae+1]=ye[Ae]+ge[Ae]}for(we=0;we<xe;++we)Ae=se[we],0<se[we]&&(Se[ye[Ae]++]=we);if(ye[15]==1)return(se=new O).g=0,se.value=Se[0],F(G,Be,1,ke,se),ke;var Re,$e=-1,Fe=ke-1,Je=0,Ve=1,ct=1,Xe=1<<Z;for(we=0,Ae=1,xe=2;Ae<=Z;++Ae,xe<<=1){if(Ve+=ct<<=1,0>(ct-=ge[Ae]))return 0;for(;0<ge[Ae];--ge[Ae])(se=new O).g=Ae,se.value=Se[we++],F(G,Be+Je,xe,Xe,se),Je=D(Je,Ae)}for(Ae=Z+1,xe=2;15>=Ae;++Ae,xe<<=1){if(Ve+=ct<<=1,0>(ct-=ge[Ae]))return 0;for(;0<ge[Ae];--ge[Ae]){if(se=new O,(Je&Fe)!=$e){for(Be+=Xe,Re=1<<($e=Ae)-Z;15>$e&&!(0>=(Re-=ge[$e]));)++$e,Re<<=1;ke+=Xe=1<<(Re=$e-Z),G[K+($e=Je&Fe)].g=Re+Z,G[K+$e].value=Be-K-$e}se.g=Ae-Z,se.value=Se[we++],F(G,Be+(Je>>Z),xe,Xe,se),Je=D(Je,Ae)}}return Ve!=2*ye[15]-1?0:ke}(v,j,P,M,U,V)}function O(){this.value=this.g=0}function B(){this.value=this.g=0}function L(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qn,B)}function W(v,j,P,M){e(v!=null),e(j!=null),e(2147483648>M),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=j,v.pa=P,v.Jd=j,v.Yc=P+M,v.Zc=4<=M?P+M-4+1:P,de(v)}function $(v,j){for(var P=0;0<j--;)P|=ue(v,128)<<j;return P}function z(v,j){var P=$(v,j);return ve(v)?-P:P}function X(v,j,P,M){var U,V=0;for(e(v!=null),e(j!=null),e(4294967288>M),v.Sb=M,v.Ra=0,v.u=0,v.h=0,4<M&&(M=4),U=0;U<M;++U)V+=j[P+U]<<8*U;v.Ra=V,v.bb=M,v.oa=j,v.pa=P}function Y(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<au-8>>>0,++v.bb,v.u-=8;q(v)&&(v.h=1,v.u=0)}function le(v,j){if(e(0<=j),!v.h&&j<=iu){var P=I(v)&nu[j];return v.u+=j,Y(v),P}return v.h=1,v.u=0}function fe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(v){return v.Ra>>>(v.u&au-1)>>>0}function q(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>au}function Q(v,j){v.u=j,v.h=q(v)}function J(v){v.u>=Sh&&(e(v.u>=Sh),Y(v))}function de(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function ve(v){return $(v,1)}function ue(v,j){var P=v.Ca;0>v.b&&de(v);var M=v.b,U=P*j>>>8,V=(v.I>>>M>U)+0;for(V?(P-=U,v.I-=U+1<<M>>>0):P=U+1,M=P,U=0;256<=M;)U+=8,M>>=8;return M=7^U+Ti[M],v.b-=M,v.Ca=(P<<M)-1,V}function Oe(v,j,P){v[j+0]=P>>24&255,v[j+1]=P>>16&255,v[j+2]=P>>8&255,v[j+3]=P>>0&255}function Ee(v,j){return v[j+0]<<0|v[j+1]<<8}function ae(v,j){return Ee(v,j)|v[j+2]<<16}function Pe(v,j){return Ee(v,j)|Ee(v,j+2)<<16}function De(v,j){var P=1<<j;return e(v!=null),e(0<j),v.X=s(P),v.X==null?0:(v.Mb=32-j,v.Xa=j,1)}function he(v,j){e(v!=null),e(j!=null),e(v.Xa==j.Xa),n(j.X,0,v.X,0,1<<j.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Ue(v,j,P,M){e(P!=null),e(M!=null);var U=P[0],V=M[0];return U==0&&(U=(v*V+j/2)/j),V==0&&(V=(j*U+v/2)/v),0>=U||0>=V?0:(P[0]=U,M[0]=V,1)}function ee(v,j){return v+(1<<j)-1>>>j}function ne(v,j){return((4278255360&v)+(4278255360&j)>>>0&4278255360)+((16711935&v)+(16711935&j)>>>0&16711935)>>>0}function ce(v,j){E[j]=function(P,M,U,V,G,K,Z){var se;for(se=0;se<G;++se){var xe=E[v](K[Z+se-1],U,V+se);K[Z+se]=ne(P[M+se],xe)}}}function _e(){this.ud=this.hd=this.jd=0}function je(v,j){return((4278124286&(v^j))>>>1)+(v&j)>>>0}function me(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Le(v,j){return me(v+(v-j+.5>>1))}function He(v,j,P){return Math.abs(j-P)-Math.abs(v-P)}function Ke(v,j,P,M,U,V,G){for(M=V[G-1],P=0;P<U;++P)V[G+P]=M=ne(v[j+P],M)}function it(v,j,P,M,U){var V;for(V=0;V<P;++V){var G=v[j+V],K=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((K<<16)+K));M[U+V]=(4278255360&G)+Z>>>0}}function jt(v,j){j.jd=v>>0&255,j.hd=v>>8&255,j.ud=v>>16&255}function dt(v,j,P,M,U,V){var G;for(G=0;G<M;++G){var K=j[P+G],Z=K>>>8,se=K,xe=255&(xe=(xe=K>>>16)+((v.jd<<24>>24)*(Z<<24>>24)>>>5));se=255&(se=(se=se+((v.hd<<24>>24)*(Z<<24>>24)>>>5))+((v.ud<<24>>24)*(xe<<24>>24)>>>5)),U[V+G]=(4278255360&K)+(xe<<16)+se}}function At(v,j,P,M,U){E[j]=function(V,G,K,Z,se,xe,Se,Ae,we){for(Z=Se;Z<Ae;++Z)for(Se=0;Se<we;++Se)se[xe++]=U(K[M(V[G++])])},E[v]=function(V,G,K,Z,se,xe,Se){var Ae=8>>V.b,we=V.Ea,Be=V.K[0],ke=V.w;if(8>Ae)for(V=(1<<V.b)-1,ke=(1<<Ae)-1;G<K;++G){var ge,ye=0;for(ge=0;ge<we;++ge)ge&V||(ye=M(Z[se++])),xe[Se++]=U(Be[ye&ke]),ye>>=Ae}else E["VP8LMapColor"+P](Z,se,Be,ke,xe,Se,G,K,we)}}function Ge(v,j,P,M,U){for(P=j+P;j<P;){var V=v[j++];M[U++]=V>>16&255,M[U++]=V>>8&255,M[U++]=V>>0&255}}function On(v,j,P,M,U){for(P=j+P;j<P;){var V=v[j++];M[U++]=V>>16&255,M[U++]=V>>8&255,M[U++]=V>>0&255,M[U++]=V>>24&255}}function Rt(v,j,P,M,U){for(P=j+P;j<P;){var V=(G=v[j++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;M[U++]=V,M[U++]=G}}function Gi(v,j,P,M,U){for(P=j+P;j<P;){var V=(G=v[j++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;M[U++]=V,M[U++]=G}}function Jt(v,j,P,M,U){for(P=j+P;j<P;){var V=v[j++];M[U++]=V>>0&255,M[U++]=V>>8&255,M[U++]=V>>16&255}}function Tr(v,j,P,M,U,V){if(V==0)for(P=j+P;j<P;)Oe(M,((V=v[j++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),U+=32;else n(M,U,v,j,P)}function cs(v,j){E[j][0]=E[v+"0"],E[j][1]=E[v+"1"],E[j][2]=E[v+"2"],E[j][3]=E[v+"3"],E[j][4]=E[v+"4"],E[j][5]=E[v+"5"],E[j][6]=E[v+"6"],E[j][7]=E[v+"7"],E[j][8]=E[v+"8"],E[j][9]=E[v+"9"],E[j][10]=E[v+"10"],E[j][11]=E[v+"11"],E[j][12]=E[v+"12"],E[j][13]=E[v+"13"],E[j][14]=E[v+"0"],E[j][15]=E[v+"0"]}function Zt(v){return v==ev||v==tv||v==_p||v==rv}function Cl(){this.eb=[],this.size=this.A=this.fb=0}function Fr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Da(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Cl,this.f.kb=new Fr,this.sd=null}function Ws(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Br(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function bt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Qt(v,j){var P=v.T,M=j.ba.f.RGBA,U=M.eb,V=M.fb+v.ka*M.A,G=ga[j.ba.S],K=v.y,Z=v.O,se=v.f,xe=v.N,Se=v.ea,Ae=v.W,we=j.cc,Be=j.dc,ke=j.Mc,ge=j.Nc,ye=v.ka,Re=v.ka+v.T,$e=v.U,Fe=$e+1>>1;for(ye==0?G(K,Z,null,null,se,xe,Se,Ae,se,xe,Se,Ae,U,V,null,null,$e):(G(j.ec,j.fc,K,Z,we,Be,ke,ge,se,xe,Se,Ae,U,V-M.A,U,V,$e),++P);ye+2<Re;ye+=2)we=se,Be=xe,ke=Se,ge=Ae,xe+=v.Rc,Ae+=v.Rc,V+=2*M.A,G(K,(Z+=2*v.fa)-v.fa,K,Z,we,Be,ke,ge,se,xe,Se,Ae,U,V-M.A,U,V,$e);return Z+=v.fa,v.j+Re<v.o?(n(j.ec,j.fc,K,Z,$e),n(j.cc,j.dc,se,xe,Fe),n(j.Mc,j.Nc,Se,Ae,Fe),P--):1&Re||G(K,Z,null,null,se,xe,Se,Ae,se,xe,Se,Ae,U,V+M.A,null,null,$e),P}function El(v,j,P){var M=v.F,U=[v.J];if(M!=null){var V=v.U,G=j.ba.S,K=G==Np||G==_p;j=j.ba.f.RGBA;var Z=[0],se=v.ka;Z[0]=v.T,v.Kb&&(se==0?--Z[0]:(--se,U[0]-=v.width),v.j+v.ka+v.T==v.o&&(Z[0]=v.o-v.j-se));var xe=j.eb;se=j.fb+se*j.A,v=br(M,U[0],v.width,V,Z,xe,se+(K?0:3),j.A),e(P==Z),v&&Zt(G)&&ma(xe,se,K,V,Z,j.A)}return 0}function Hn(v){var j=v.ma,P=j.ba.S,M=11>P,U=P==wp||P==jp||P==Np||P==Qg||P==12||Zt(P);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Nh(j.Oa,v,U?11:12))return 0;if(U&&Zt(P)&&ze(),v.da)alert("todo:use_scaling");else{if(M){if(j.Ib=bt,v.Kb){if(P=v.U+1>>1,j.memory=s(v.U+2*P),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+v.U,j.Mc=j.cc,j.Nc=j.dc+P,j.Ib=Qt,ze()}}else alert("todo:EmitYUV");U&&(j.Jb=El,M&&Ne())}if(M&&!xj){for(v=0;256>v;++v)aI[v]=89858*(v-128)+Ap>>Sp,lI[v]=-22014*(v-128)+Ap,oI[v]=-45773*(v-128),sI[v]=113618*(v-128)+Ap>>Sp;for(v=Th;v<av;++v)j=76283*(v-16)+Ap>>Sp,cI[v-Th]=Yi(j,255),uI[v-Th]=Yi(j+8>>4,15);xj=1}return 1}function us(v){var j=v.ma,P=v.U,M=v.T;return e(!(1&v.ka)),0>=P||0>=M?0:(P=j.Ib(v,j),j.Jb!=null&&j.Jb(v,j,P),j.Dc+=P,1)}function ds(v){v.ma.memory=null}function ht(v,j,P,M){return le(v,8)!=47?0:(j[0]=le(v,14)+1,P[0]=le(v,14)+1,M[0]=le(v,1),le(v,3)!=0?0:!v.h)}function Ma(v,j){if(4>v)return v+1;var P=v-2>>1;return(2+(1&v)<<P)+le(j,P)+1}function hs(v,j){return 120<j?j-120:1<=(P=((P=WT[j-1])>>4)*v+(8-(15&P)))?P:1;var P}function Pi(v,j,P){var M=I(P),U=v[j+=255&M].g-8;return 0<U&&(Q(P,P.u+8),M=I(P),j+=v[j].value,j+=M&(1<<U)-1),Q(P,P.u+v[j].g),v[j].value}function hn(v,j,P){return P.g+=v.g,P.value+=v.value<<j>>>0,e(8>=P.g),v.g}function rn(v,j,P){var M=v.xc;return e((j=M==0?0:v.vc[v.md*(P>>M)+(j>>M)])<v.Wb),v.Ya[j]}function Xi(v,j,P,M){var U=v.ab,V=v.c*j,G=v.C;j=G+j;var K=P,Z=M;for(M=v.Ta,P=v.Ua;0<U--;){var se=v.gc[U],xe=G,Se=j,Ae=K,we=Z,Be=(Z=M,K=P,se.Ea);switch(e(xe<Se),e(Se<=se.nc),se.hc){case 2:pp(Ae,we,(Se-xe)*Be,Z,K);break;case 0:var ke=xe,ge=Se,ye=Z,Re=K,$e=(Xe=se).Ea;ke==0&&(Jg(Ae,we,null,null,1,ye,Re),Ke(Ae,we+1,0,0,$e-1,ye,Re+1),we+=$e,Re+=$e,++ke);for(var Fe=1<<Xe.b,Je=Fe-1,Ve=ee($e,Xe.b),ct=Xe.K,Xe=Xe.w+(ke>>Xe.b)*Ve;ke<ge;){var Xt=ct,rr=Xe,Ut=1;for(Ah(Ae,we,ye,Re-$e,1,ye,Re);Ut<$e;){var Mt=(Ut&~Je)+Fe;Mt>$e&&(Mt=$e),(0,To[Xt[rr++]>>8&15])(Ae,we+ +Ut,ye,Re+Ut-$e,Mt-Ut,ye,Re+Ut),Ut=Mt}we+=$e,Re+=$e,++ke&Je||(Xe+=Ve)}Se!=se.nc&&n(Z,K-Be,Z,K+(Se-xe-1)*Be,Be);break;case 1:for(Be=Ae,ge=we,$e=(Ae=se.Ea)-(Re=Ae&~(ye=(we=1<<se.b)-1)),ke=ee(Ae,se.b),Fe=se.K,se=se.w+(xe>>se.b)*ke;xe<Se;){for(Je=Fe,Ve=se,ct=new _e,Xe=ge+Re,Xt=ge+Ae;ge<Xe;)jt(Je[Ve++],ct),Dl(ct,Be,ge,we,Z,K),ge+=we,K+=we;ge<Xt&&(jt(Je[Ve++],ct),Dl(ct,Be,ge,$e,Z,K),ge+=$e,K+=$e),++xe&ye||(se+=ke)}break;case 3:if(Ae==Z&&we==K&&0<se.b){for(ge=Z,Ae=Be=K+(Se-xe)*Be-(Re=(Se-xe)*ee(se.Ea,se.b)),we=Z,ye=K,ke=[],Re=($e=Re)-1;0<=Re;--Re)ke[Re]=we[ye+Re];for(Re=$e-1;0<=Re;--Re)ge[Ae+Re]=ke[Re];ha(se,xe,Se,Z,Be,Z,K)}else ha(se,xe,Se,Ae,we,Z,K)}K=M,Z=P}Z!=P&&n(M,P,K,Z,V)}function $c(v,j){var P=v.V,M=v.Ba+v.c*v.C,U=j-v.C;if(e(j<=v.l.o),e(16>=U),0<U){var V=v.l,G=v.Ta,K=v.Ua,Z=V.width;if(Xi(v,U,P,M),U=K=[K],e((P=v.C)<(M=j)),e(V.v<V.va),M>V.o&&(M=V.o),P<V.j){var se=V.j-P;P=V.j,U[0]+=se*Z}if(P>=M?P=0:(U[0]+=4*V.v,V.ka=P-V.j,V.U=V.va-V.v,V.T=M-P,P=1),P){if(K=K[0],11>(P=v.ca).S){var xe=P.f.RGBA,Se=(M=P.S,U=V.U,V=V.T,se=xe.eb,xe.A),Ae=V;for(xe=xe.fb+v.Ma*xe.A;0<Ae--;){var we=G,Be=K,ke=U,ge=se,ye=xe;switch(M){case yp:Ii(we,Be,ke,ge,ye);break;case wp:pi(we,Be,ke,ge,ye);break;case ev:pi(we,Be,ke,ge,ye),ma(ge,ye,0,ke,1,0);break;case sj:Ks(we,Be,ke,ge,ye);break;case jp:Tr(we,Be,ke,ge,ye,1);break;case tv:Tr(we,Be,ke,ge,ye,1),ma(ge,ye,0,ke,1,0);break;case Np:Tr(we,Be,ke,ge,ye,0);break;case _p:Tr(we,Be,ke,ge,ye,0),ma(ge,ye,1,ke,1,0);break;case Qg:Io(we,Be,ke,ge,ye);break;case rv:Io(we,Be,ke,ge,ye),vr(ge,ye,ke,1,0);break;case oj:Ys(we,Be,ke,ge,ye);break;default:e(0)}K+=Z,xe+=Se}v.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=P.height)}}v.C=j,e(v.C<=v.i)}function Vs(v){var j;if(0<v.ua)return 0;for(j=0;j<v.Wb;++j){var P=v.Ya[j].G,M=v.Ya[j].H;if(0<P[1][M[1]+0].g||0<P[2][M[2]+0].g||0<P[3][M[3]+0].g)return 0}return 1}function La(v,j,P,M,U,V){if(v.Z!=0){var G=v.qd,K=v.rd;for(e(Ro[v.Z]!=null);j<P;++j)Ro[v.Z](G,K,M,U,M,U,V),G=M,K=U,U+=V;v.qd=G,v.rd=K}}function Ra(v,j){var P=v.l.ma,M=P.Z==0||P.Z==1?v.l.j:v.C;if(M=v.C<M?M:v.C,e(j<=v.l.o),j>M){var U=v.l.width,V=P.ca,G=P.tb+U*M,K=v.V,Z=v.Ba+v.c*M,se=v.gc;e(v.ab==1),e(se[0].hc==3),mp(se[0],M,j,K,Z,V,G),La(P,M,j,V,G,U)}v.C=v.Ma=j}function Fa(v,j,P,M,U,V,G){var K=v.$/M,Z=v.$%M,se=v.m,xe=v.s,Se=P+v.$,Ae=Se;U=P+M*U;var we=P+M*V,Be=280+xe.ua,ke=v.Pb?K:16777216,ge=0<xe.ua?xe.Wa:null,ye=xe.wc,Re=Se<we?rn(xe,Z,K):null;e(v.C<V),e(we<=U);var $e=!1;e:for(;;){for(;$e||Se<we;){var Fe=0;if(K>=ke){var Je=Se-P;e((ke=v).Pb),ke.wd=ke.m,ke.xd=Je,0<ke.s.ua&&he(ke.s.Wa,ke.s.vb),ke=K+GT}if(Z&ye||(Re=rn(xe,Z,K)),e(Re!=null),Re.Qb&&(j[Se]=Re.qb,$e=!0),!$e)if(J(se),Re.jc){Fe=se,Je=j;var Ve=Se,ct=Re.pd[I(Fe)&qn-1];e(Re.jc),256>ct.g?(Q(Fe,Fe.u+ct.g),Je[Ve]=ct.value,Fe=0):(Q(Fe,Fe.u+ct.g-256),e(256<=ct.value),Fe=ct.value),Fe==0&&($e=!0)}else Fe=Pi(Re.G[0],Re.H[0],se);if(se.h)break;if($e||256>Fe){if(!$e)if(Re.nd)j[Se]=(Re.qb|Fe<<8)>>>0;else{if(J(se),$e=Pi(Re.G[1],Re.H[1],se),J(se),Je=Pi(Re.G[2],Re.H[2],se),Ve=Pi(Re.G[3],Re.H[3],se),se.h)break;j[Se]=(Ve<<24|$e<<16|Fe<<8|Je)>>>0}if($e=!1,++Se,++Z>=M&&(Z=0,++K,G!=null&&K<=V&&!(K%16)&&G(v,K),ge!=null))for(;Ae<Se;)Fe=j[Ae++],ge.X[(506832829*Fe&4294967295)>>>ge.Mb]=Fe}else if(280>Fe){if(Fe=Ma(Fe-256,se),Je=Pi(Re.G[4],Re.H[4],se),J(se),Je=hs(M,Je=Ma(Je,se)),se.h)break;if(Se-P<Je||U-Se<Fe)break e;for(Ve=0;Ve<Fe;++Ve)j[Se+Ve]=j[Se+Ve-Je];for(Se+=Fe,Z+=Fe;Z>=M;)Z-=M,++K,G!=null&&K<=V&&!(K%16)&&G(v,K);if(e(Se<=U),Z&ye&&(Re=rn(xe,Z,K)),ge!=null)for(;Ae<Se;)Fe=j[Ae++],ge.X[(506832829*Fe&4294967295)>>>ge.Mb]=Fe}else{if(!(Fe<Be))break e;for($e=Fe-280,e(ge!=null);Ae<Se;)Fe=j[Ae++],ge.X[(506832829*Fe&4294967295)>>>ge.Mb]=Fe;Fe=Se,e(!($e>>>(Je=ge).Xa)),j[Fe]=Je.X[$e],$e=!0}$e||e(se.h==q(se))}if(v.Pb&&se.h&&Se<U)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&he(v.s.vb,v.s.Wa);else{if(se.h)break e;G!=null&&G(v,K>V?V:K),v.a=0,v.$=Se-P}return 1}return v.a=3,0}function fs(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var j=v.Wa;j!=null&&(j.X=null),v.vb=null,e(v!=null)}function da(){var v=new Kg;return v==null?null:(v.a=0,v.xb=uj,cs("Predictor","VP8LPredictors"),cs("Predictor","VP8LPredictors_C"),cs("PredictorAdd","VP8LPredictorsAdd"),cs("PredictorAdd","VP8LPredictorsAdd_C"),pp=it,Dl=dt,Ii=Ge,pi=On,Io=Rt,Ys=Gi,Ks=Jt,E.VP8LMapColor32b=su,E.VP8LMapColor8b=xp,v)}function ps(v,j,P,M,U){var V=1,G=[v],K=[j],Z=M.m,se=M.s,xe=null,Se=0;e:for(;;){if(P)for(;V&&le(Z,1);){var Ae=G,we=K,Be=M,ke=1,ge=Be.m,ye=Be.gc[Be.ab],Re=le(ge,2);if(Be.Oc&1<<Re)V=0;else{switch(Be.Oc|=1<<Re,ye.hc=Re,ye.Ea=Ae[0],ye.nc=we[0],ye.K=[null],++Be.ab,e(4>=Be.ab),Re){case 0:case 1:ye.b=le(ge,3)+2,ke=ps(ee(ye.Ea,ye.b),ee(ye.nc,ye.b),0,Be,ye.K),ye.K=ye.K[0];break;case 3:var $e,Fe=le(ge,8)+1,Je=16<Fe?0:4<Fe?1:2<Fe?2:3;if(Ae[0]=ee(ye.Ea,Je),ye.b=Je,$e=ke=ps(Fe,1,0,Be,ye.K)){var Ve,ct=Fe,Xe=ye,Xt=1<<(8>>Xe.b),rr=s(Xt);if(rr==null)$e=0;else{var Ut=Xe.K[0],Mt=Xe.w;for(rr[0]=Xe.K[0][0],Ve=1;Ve<1*ct;++Ve)rr[Ve]=ne(Ut[Mt+Ve],rr[Ve-1]);for(;Ve<4*Xt;++Ve)rr[Ve]=0;Xe.K[0]=null,Xe.K[0]=rr,$e=1}}ke=$e;break;case 2:break;default:e(0)}V=ke}}if(G=G[0],K=K[0],V&&le(Z,1)&&!(V=1<=(Se=le(Z,4))&&11>=Se)){M.a=3;break e}var pr;if(pr=V)t:{var ur,St,an,Di=M,sn=G,Mi=K,nr=Se,Ji=P,Zi=Di.m,kn=Di.s,Wn=[null],xi=1,va=0,vs=VT[nr];r:for(;;){if(Ji&&le(Zi,1)){var Tn=le(Zi,3)+2,eo=ee(sn,Tn),Bl=ee(Mi,Tn),du=eo*Bl;if(!ps(eo,Bl,0,Di,Wn))break r;for(Wn=Wn[0],kn.xc=Tn,ur=0;ur<du;++ur){var Fo=Wn[ur]>>8&65535;Wn[ur]=Fo,Fo>=xi&&(xi=Fo+1)}}if(Zi.h)break r;for(St=0;5>St;++St){var zr=lj[St];!St&&0<nr&&(zr+=1<<nr),va<zr&&(va=zr)}var sv=o(xi*vs,O),bj=xi,yj=o(bj,L);if(yj==null)var Ep=null;else e(65536>=bj),Ep=yj;var Ih=s(va);if(Ep==null||Ih==null||sv==null){Di.a=1;break r}var Op=sv;for(ur=an=0;ur<xi;++ur){var Ha=Ep[ur],hu=Ha.G,fu=Ha.H,wj=0,Pp=1,jj=0;for(St=0;5>St;++St){zr=lj[St],hu[St]=Op,fu[St]=an,!St&&0<nr&&(zr+=1<<nr);i:{var kp,ov=zr,Tp=Di,Dh=Ih,fI=Op,pI=an,lv=0,Bo=Tp.m,mI=le(Bo,1);if(i(Dh,0,0,ov),mI){var xI=le(Bo,1)+1,gI=le(Bo,1),Nj=le(Bo,gI==0?1:8);Dh[Nj]=1,xI==2&&(Dh[Nj=le(Bo,8)]=1);var Ip=1}else{var _j=s(19),Sj=le(Bo,4)+4;if(19<Sj){Tp.a=3;var Dp=0;break i}for(kp=0;kp<Sj;++kp)_j[qT[kp]]=le(Bo,3);var cv=void 0,Mh=void 0,Aj=Tp,vI=_j,Mp=ov,Cj=Dh,uv=0,$o=Aj.m,Ej=8,Oj=o(128,O);n:for(;k(Oj,0,7,vI,19);){if(le($o,1)){var bI=2+2*le($o,3);if((cv=2+le($o,bI))>Mp)break n}else cv=Mp;for(Mh=0;Mh<Mp&&cv--;){J($o);var Pj=Oj[0+(127&I($o))];Q($o,$o.u+Pj.g);var pu=Pj.value;if(16>pu)Cj[Mh++]=pu,pu!=0&&(Ej=pu);else{var yI=pu==16,kj=pu-16,wI=UT[kj],Tj=le($o,zT[kj])+wI;if(Mh+Tj>Mp)break n;for(var jI=yI?Ej:0;0<Tj--;)Cj[Mh++]=jI}}uv=1;break n}uv||(Aj.a=3),Ip=uv}(Ip=Ip&&!Bo.h)&&(lv=k(fI,pI,8,Dh,ov)),Ip&&lv!=0?Dp=lv:(Tp.a=3,Dp=0)}if(Dp==0)break r;if(Pp&&HT[St]==1&&(Pp=Op[an].g==0),wj+=Op[an].g,an+=Dp,3>=St){var Lh,dv=Ih[0];for(Lh=1;Lh<zr;++Lh)Ih[Lh]>dv&&(dv=Ih[Lh]);jj+=dv}}if(Ha.nd=Pp,Ha.Qb=0,Pp&&(Ha.qb=(hu[3][fu[3]+0].value<<24|hu[1][fu[1]+0].value<<16|hu[2][fu[2]+0].value)>>>0,wj==0&&256>hu[0][fu[0]+0].value&&(Ha.Qb=1,Ha.qb+=hu[0][fu[0]+0].value<<8)),Ha.jc=!Ha.Qb&&6>jj,Ha.jc){var Lp,to=Ha;for(Lp=0;Lp<qn;++Lp){var zo=Lp,Uo=to.pd[zo],Rp=to.G[0][to.H[0]+zo];256<=Rp.value?(Uo.g=Rp.g+256,Uo.value=Rp.value):(Uo.g=0,Uo.value=0,zo>>=hn(Rp,8,Uo),zo>>=hn(to.G[1][to.H[1]+zo],16,Uo),zo>>=hn(to.G[2][to.H[2]+zo],0,Uo),hn(to.G[3][to.H[3]+zo],24,Uo))}}}kn.vc=Wn,kn.Wb=xi,kn.Ya=Ep,kn.yc=sv,pr=1;break t}pr=0}if(!(V=pr)){M.a=3;break e}if(0<Se){if(se.ua=1<<Se,!De(se.Wa,Se)){M.a=1,V=0;break e}}else se.ua=0;var hv=M,Ij=G,NI=K,fv=hv.s,pv=fv.xc;if(hv.c=Ij,hv.i=NI,fv.md=ee(Ij,pv),fv.wc=pv==0?-1:(1<<pv)-1,P){M.xb=eI;break e}if((xe=s(G*K))==null){M.a=1,V=0;break e}V=(V=Fa(M,xe,0,G,K,K,null))&&!Z.h;break e}return V?(U!=null?U[0]=xe:(e(xe==null),e(P)),M.$=0,P||fs(se)):fs(se),V}function Ol(v,j){var P=v.c*v.i,M=P+j+16*j;return e(v.c<=j),v.V=s(M),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+P+j,1)}function zc(v,j){var P=v.C,M=j-P,U=v.V,V=v.Ba+v.c*P;for(e(j<=v.l.o);0<M;){var G=16<M?16:M,K=v.l.ma,Z=v.l.width,se=Z*G,xe=K.ca,Se=K.tb+Z*P,Ae=v.Ta,we=v.Ua;Xi(v,G,U,V),Yr(Ae,we,xe,Se,se),La(K,P,P+G,xe,Se,Z),M-=G,U+=G*v.c,P+=G}e(P==j),v.C=v.Ma=j}function Uc(){this.ub=this.yd=this.td=this.Rb=0}function Hc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function X0(){this.Yb=function(){var v=[];return function j(P,M,U){for(var V=U[M],G=0;G<V&&(P.push(U.length>M+1?[]:0),!(U.length<M+1));G++)j(P[G],M+1,U)}(v,0,[3,11]),v}()}function Cg(){this.jb=s(3),this.Wc=l([4,8],X0),this.Xc=l([4,17],X0)}function Eg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Wc(){this.ld=this.La=this.dd=this.tc=0}function Y0(){this.Na=this.la=0}function Og(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oh(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wc),this.Y=0,this.ya=Array(new oh),this.aa=0,this.l=new Vc}function K0(){this.y=s(16),this.f=s(8),this.ea=s(8)}function kg(){this.cb=this.a=0,this.sc="",this.m=new fe,this.Od=new Uc,this.Kc=new Hc,this.ed=new Eg,this.Qa=new qc,this.Ic=this.$c=this.Aa=0,this.D=new Pg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,fe),this.ia=0,this.pb=o(4,Og),this.Pa=new Cg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new K0),this.Hd=0,this.rb=Array(new Y0),this.sb=0,this.wa=Array(new Wc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oh),this.L=this.aa=0,this.gd=l([4,2],Wc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tg(){var v=new kg;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,kh||(kh=Q0)),v}function Gr(v,j,P){return v.a==0&&(v.a=j,v.sc=P,v.cb=0),0}function J0(v,j,P){return 3<=P&&v[j+0]==157&&v[j+1]==1&&v[j+2]==42}function Z0(v,j){if(v==null)return 0;if(v.a=0,v.sc="OK",j==null)return Gr(v,2,"null VP8Io passed to VP8GetHeaders()");var P=j.data,M=j.w,U=j.ha;if(4>U)return Gr(v,7,"Truncated header.");var V=P[M+0]|P[M+1]<<8|P[M+2]<<16,G=v.Od;if(G.Rb=!(1&V),G.td=V>>1&7,G.yd=V>>4&1,G.ub=V>>5,3<G.td)return Gr(v,3,"Incorrect keyframe parameters.");if(!G.yd)return Gr(v,4,"Frame not displayable.");M+=3,U-=3;var K=v.Kc;if(G.Rb){if(7>U)return Gr(v,7,"cannot parse picture header");if(!J0(P,M,U))return Gr(v,3,"Bad code word");K.c=16383&(P[M+4]<<8|P[M+3]),K.Td=P[M+4]>>6,K.i=16383&(P[M+6]<<8|P[M+5]),K.Ud=P[M+6]>>6,M+=7,U-=7,v.za=K.c+15>>4,v.Ub=K.i+15>>4,j.width=K.c,j.height=K.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,i((V=v.Pa).jb,0,255,V.jb.length),e((V=v.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(G.ub>U)return Gr(v,7,"bad partition length");W(V=v.m,P,M,G.ub),M+=G.ub,U-=G.ub,G.Rb&&(K.Ld=ve(V),K.Kd=ve(V)),K=v.Qa;var Z,se=v.Pa;if(e(V!=null),e(K!=null),K.Cb=ve(V),K.Cb){if(K.Bb=ve(V),ve(V)){for(K.Fb=ve(V),Z=0;4>Z;++Z)K.Zb[Z]=ve(V)?z(V,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=ve(V)?z(V,6):0}if(K.Bb)for(Z=0;3>Z;++Z)se.jb[Z]=ve(V)?$(V,8):255}else K.Bb=0;if(V.Ka)return Gr(v,3,"cannot parse segment header");if((K=v.ed).zd=ve(V),K.Tb=$(V,6),K.wb=$(V,3),K.Pc=ve(V),K.Pc&&ve(V)){for(se=0;4>se;++se)ve(V)&&(K.vd[se]=z(V,6));for(se=0;4>se;++se)ve(V)&&(K.od[se]=z(V,6))}if(v.L=K.Tb==0?0:K.zd?1:2,V.Ka)return Gr(v,3,"cannot parse filter header");var xe=U;if(U=Z=M,M=Z+xe,K=xe,v.Xb=(1<<$(v.m,2))-1,xe<3*(se=v.Xb))P=7;else{for(Z+=3*se,K-=3*se,xe=0;xe<se;++xe){var Se=P[U+0]|P[U+1]<<8|P[U+2]<<16;Se>K&&(Se=K),W(v.Jc[+xe],P,Z,Se),Z+=Se,K-=Se,U+=3}W(v.Jc[+se],P,Z,K),P=Z<M?0:5}if(P!=0)return Gr(v,P,"cannot parse partitions");for(P=$(Z=v.m,7),U=ve(Z)?z(Z,4):0,M=ve(Z)?z(Z,4):0,K=ve(Z)?z(Z,4):0,se=ve(Z)?z(Z,4):0,Z=ve(Z)?z(Z,4):0,xe=v.Qa,Se=0;4>Se;++Se){if(xe.Cb){var Ae=xe.Zb[Se];xe.Fb||(Ae+=P)}else{if(0<Se){v.pb[Se]=v.pb[0];continue}Ae=P}var we=v.pb[Se];we.Sc[0]=nv[Yi(Ae+U,127)],we.Sc[1]=iv[Yi(Ae+0,127)],we.Eb[0]=2*nv[Yi(Ae+M,127)],we.Eb[1]=101581*iv[Yi(Ae+K,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=nv[Yi(Ae+se,117)],we.Qc[1]=iv[Yi(Ae+Z,127)],we.lc=Ae+Z}if(!G.Rb)return Gr(v,4,"Not a key frame.");for(ve(V),G=v.Pa,P=0;4>P;++P){for(U=0;8>U;++U)for(M=0;3>M;++M)for(K=0;11>K;++K)se=ue(V,ZT[P][U][M][K])?$(V,8):KT[P][U][M][K],G.Wc[P][U].Yb[M][K]=se;for(U=0;17>U;++U)G.Xc[P][U]=G.Wc[P][QT[U]]}return v.kc=ve(V),v.kc&&(v.Bd=$(V,8)),v.cb=1}function Q0(v,j,P,M,U,V,G){var K=j[U].Yb[P];for(P=0;16>U;++U){if(!ue(v,K[P+0]))return U;for(;!ue(v,K[P+1]);)if(K=j[++U].Yb[0],P=0,U==16)return 16;var Z=j[U+1].Yb;if(ue(v,K[P+2])){var se=v,xe=0;if(ue(se,(Ae=K)[(Se=P)+3]))if(ue(se,Ae[Se+6])){for(K=0,Se=2*(xe=ue(se,Ae[Se+8]))+(Ae=ue(se,Ae[Se+9+xe])),xe=0,Ae=XT[Se];Ae[K];++K)xe+=xe+ue(se,Ae[K]);xe+=3+(8<<Se)}else ue(se,Ae[Se+7])?(xe=7+2*ue(se,165),xe+=ue(se,145)):xe=5+ue(se,159);else xe=ue(se,Ae[Se+4])?3+ue(se,Ae[Se+5]):2;K=Z[2]}else xe=1,K=Z[1];Z=G+YT[U],0>(se=v).b&&de(se);var Se,Ae=se.b,we=(Se=se.Ca>>1)-(se.I>>Ae)>>31;--se.b,se.Ca+=we,se.Ca|=1,se.I-=(Se+1&we)<<Ae,V[Z]=((xe^we)-we)*M[(0<U)+0]}return 16}function lh(v){var j=v.rb[v.sb-1];j.la=0,j.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function Ig(v,j){if(v==null)return 0;if(j==null)return Gr(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Z0(v,j))return 0;if(e(v.cb),j.ac==null||j.ac(j)){j.ob&&(v.L=0);var P=Cp[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=j.v-P>>4,v.zb=j.j-P>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=j.o+15+P>>4,v.Hb=j.va+15+P>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var M=v.ed;for(P=0;4>P;++P){var U;if(v.Qa.Cb){var V=v.Qa.Lb[P];v.Qa.Fb||(V+=M.Tb)}else V=M.Tb;for(U=0;1>=U;++U){var G=v.gd[P][U],K=V;if(M.Pc&&(K+=M.vd[0],U&&(K+=M.od[0])),0<(K=0>K?0:63<K?63:K)){var Z=K;0<M.wb&&(Z=4<M.wb?Z>>2:Z>>1)>9-M.wb&&(Z=9-M.wb),1>Z&&(Z=1),G.dd=Z,G.tc=2*K+Z,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=U}}}P=0}else Gr(v,6,"Frame setup failed"),P=v.a;if(P=P==0){if(P){v.$c=0,0<v.Aa||(v.Ic=hI);e:{P=v.Ic,M=4*(Z=v.za);var se=32*Z,xe=Z+1,Se=0<v.L?Z*(0<v.Aa?2:1):0,Ae=(v.Aa==2?2:1)*Z;if((G=M+832+(U=3*(16*P+Cp[v.L])/2*se)+(V=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=G)P=0;else{if(G>v.Vb){if(v.Vb=0,v.Ec=s(G),v.Fc=0,v.Ec==null){P=Gr(v,1,"no memory during frame initialization.");break e}v.Vb=G}G=v.Ec,K=v.Fc,v.Ac=G,v.Bc=K,K+=M,v.Gd=o(se,K0),v.Hd=0,v.rb=o(xe+1,Y0),v.sb=1,v.wa=Se?o(Se,Wc):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=Z),e(!0),v.oc=G,v.pc=K,K+=832,v.ya=o(Ae,oh),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=Z),v.R=16*Z,v.B=8*Z,Z=(se=Cp[v.L])*v.R,se=se/2*v.B,v.sa=G,v.ta=K+Z,v.qa=v.sa,v.ra=v.ta+16*P*v.R+se,v.Ha=v.qa,v.Ia=v.ra+8*P*v.B+se,v.$c=0,K+=U,v.mb=V?G:null,v.nb=V?K:null,e(K+V<=v.Fc+v.Vb),lh(v),i(v.Ac,v.Bc,0,M),P=1}}if(P){if(j.ka=0,j.y=v.sa,j.O=v.ta,j.f=v.qa,j.N=v.ra,j.ea=v.Ha,j.Vd=v.Ia,j.fa=v.R,j.Rc=v.B,j.F=null,j.J=0,!vp){for(P=-255;255>=P;++P)fn[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Zs[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Ph[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)uu[255+P]=0>P?0:255<P?255:P;vp=1}ou=Lg,Js=Dg,Ch=tp,mi=Mg,fa=rp,Xr=ep,lu=ph,gp=Tl,Eh=Yg,Ml=mh,Ll=Xg,Do=Zc,Rl=xh,cu=dp,Fl=up,Mo=xs,Oh=Xs,pa=Gg,Ua[0]=ms,Ua[1]=Rg,Ua[2]=zg,Ua[3]=Ug,Ua[4]=ap,Ua[5]=Kc,Ua[6]=sp,Ua[7]=dh,Ua[8]=qg,Ua[9]=Hg,Lo[0]=np,Lo[1]=Bg,Lo[2]=Gs,Lo[3]=Xc,Lo[4]=Qn,Lo[5]=$g,Lo[6]=ip,Qs[0]=Oo,Qs[1]=Fg,Qs[2]=Wg,Qs[3]=hh,Qs[4]=kl,Qs[5]=Vg,Qs[6]=fh,P=1}else P=0}P&&(P=function(we,Be){for(we.M=0;we.M<we.Va;++we.M){var ke,ge=we.Jc[we.M&we.Xb],ye=we.m,Re=we;for(ke=0;ke<Re.za;++ke){var $e=ye,Fe=Re,Je=Fe.Ac,Ve=Fe.Bc+4*ke,ct=Fe.zc,Xe=Fe.ya[Fe.aa+ke];if(Fe.Qa.Bb?Xe.$b=ue($e,Fe.Pa.jb[0])?2+ue($e,Fe.Pa.jb[2]):ue($e,Fe.Pa.jb[1]):Xe.$b=0,Fe.kc&&(Xe.Ad=ue($e,Fe.Bd)),Xe.Za=!ue($e,145)+0,Xe.Za){var Xt=Xe.Ob,rr=0;for(Fe=0;4>Fe;++Fe){var Ut,Mt=ct[0+Fe];for(Ut=0;4>Ut;++Ut){Mt=JT[Je[Ve+Ut]][Mt];for(var pr=cj[ue($e,Mt[0])];0<pr;)pr=cj[2*pr+ue($e,Mt[pr])];Mt=-pr,Je[Ve+Ut]=Mt}n(Xt,rr,Je,Ve,4),rr+=4,ct[0+Fe]=Mt}}else Mt=ue($e,156)?ue($e,128)?1:3:ue($e,163)?2:0,Xe.Ob[0]=Mt,i(Je,Ve,Mt,4),i(ct,0,Mt,4);Xe.Dd=ue($e,142)?ue($e,114)?ue($e,183)?1:3:2:0}if(Re.m.Ka)return Gr(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(Re=ge,$e=(ye=we).rb[ye.sb-1],Je=ye.rb[ye.sb+ye.ja],ke=ye.ya[ye.aa+ye.ja],Ve=ye.kc?ke.Ad:0)$e.la=Je.la=0,ke.Za||($e.Na=Je.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var ur,St;if($e=Je,Je=Re,Ve=ye.Pa.Xc,ct=ye.ya[ye.aa+ye.ja],Xe=ye.pb[ct.$b],Fe=ct.ad,Xt=0,rr=ye.rb[ye.sb-1],Mt=Ut=0,i(Fe,Xt,0,384),ct.Za)var an=0,Di=Ve[3];else{pr=s(16);var sn=$e.Na+rr.Na;if(sn=kh(Je,Ve[1],sn,Xe.Eb,0,pr,0),$e.Na=rr.Na=(0<sn)+0,1<sn)ou(pr,0,Fe,Xt);else{var Mi=pr[0]+3>>3;for(pr=0;256>pr;pr+=16)Fe[Xt+pr]=Mi}an=1,Di=Ve[0]}var nr=15&$e.la,Ji=15&rr.la;for(pr=0;4>pr;++pr){var Zi=1&Ji;for(Mi=St=0;4>Mi;++Mi)nr=nr>>1|(Zi=(sn=kh(Je,Di,sn=Zi+(1&nr),Xe.Sc,an,Fe,Xt))>an)<<7,St=St<<2|(3<sn?3:1<sn?2:Fe[Xt+0]!=0),Xt+=16;nr>>=4,Ji=Ji>>1|Zi<<7,Ut=(Ut<<8|St)>>>0}for(Di=nr,an=Ji>>4,ur=0;4>ur;ur+=2){for(St=0,nr=$e.la>>4+ur,Ji=rr.la>>4+ur,pr=0;2>pr;++pr){for(Zi=1&Ji,Mi=0;2>Mi;++Mi)sn=Zi+(1&nr),nr=nr>>1|(Zi=0<(sn=kh(Je,Ve[2],sn,Xe.Qc,0,Fe,Xt)))<<3,St=St<<2|(3<sn?3:1<sn?2:Fe[Xt+0]!=0),Xt+=16;nr>>=2,Ji=Ji>>1|Zi<<5}Mt|=St<<4*ur,Di|=nr<<4<<ur,an|=(240&Ji)<<ur}$e.la=Di,rr.la=an,ct.Hc=Ut,ct.Gc=Mt,ct.ia=43690&Mt?0:Xe.ia,Ve=!(Ut|Mt)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[ke.$b][ke.Za],ye.wa[ye.Y+ye.ja].La|=!Ve),Re.Ka)return Gr(we,7,"Premature end-of-file encountered.")}if(lh(we),ye=Be,Re=1,ke=(ge=we).D,$e=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)e:{if(ke.M=ge.M,ke.uc=$e,jh(ge,ke),Re=1,ke=(St=ge.D).Nb,$e=(Mt=Cp[ge.L])*ge.R,Je=Mt/2*ge.B,pr=16*ke*ge.R,Mi=8*ke*ge.B,Ve=ge.sa,ct=ge.ta-$e+pr,Xe=ge.qa,Fe=ge.ra-Je+Mi,Xt=ge.Ha,rr=ge.Ia-Je+Mi,Ji=(nr=St.M)==0,Ut=nr>=ge.Va-1,ge.Aa==2&&jh(ge,St),St.uc)for(Zi=(sn=ge).D.M,e(sn.D.uc),St=sn.yb;St<sn.Hb;++St){an=St,Di=Zi;var kn=(Wn=(zr=sn).D).Nb;ur=zr.R;var Wn=Wn.wa[Wn.Y+an],xi=zr.sa,va=zr.ta+16*kn*ur+16*an,vs=Wn.dd,Tn=Wn.tc;if(Tn!=0)if(e(3<=Tn),zr.L==1)0<an&&Mo(xi,va,ur,Tn+4),Wn.La&&pa(xi,va,ur,Tn),0<Di&&Fl(xi,va,ur,Tn+4),Wn.La&&Oh(xi,va,ur,Tn);else{var eo=zr.B,Bl=zr.qa,du=zr.ra+8*kn*eo+8*an,Fo=zr.Ha,zr=zr.Ia+8*kn*eo+8*an;kn=Wn.ld,0<an&&(gp(xi,va,ur,Tn+4,vs,kn),Ml(Bl,du,Fo,zr,eo,Tn+4,vs,kn)),Wn.La&&(Do(xi,va,ur,Tn,vs,kn),cu(Bl,du,Fo,zr,eo,Tn,vs,kn)),0<Di&&(lu(xi,va,ur,Tn+4,vs,kn),Eh(Bl,du,Fo,zr,eo,Tn+4,vs,kn)),Wn.La&&(Ll(xi,va,ur,Tn,vs,kn),Rl(Bl,du,Fo,zr,eo,Tn,vs,kn))}}if(ge.ia&&alert("todo:DitherRow"),ye.put!=null){if(St=16*nr,nr=16*(nr+1),Ji?(ye.y=ge.sa,ye.O=ge.ta+pr,ye.f=ge.qa,ye.N=ge.ra+Mi,ye.ea=ge.Ha,ye.W=ge.Ia+Mi):(St-=Mt,ye.y=Ve,ye.O=ct,ye.f=Xe,ye.N=Fe,ye.ea=Xt,ye.W=rr),Ut||(nr-=Mt),nr>ye.o&&(nr=ye.o),ye.F=null,ye.J=null,ge.Fa!=null&&0<ge.Fa.length&&St<nr&&(ye.J=yh(ge,ye,St,nr-St),ye.F=ge.mb,ye.F==null&&ye.F.length==0)){Re=Gr(ge,3,"Could not decode alpha data.");break e}St<ye.j&&(Mt=ye.j-St,St=ye.j,e(!(1&Mt)),ye.O+=ge.R*Mt,ye.N+=ge.B*(Mt>>1),ye.W+=ge.B*(Mt>>1),ye.F!=null&&(ye.J+=ye.width*Mt)),St<nr&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=St-ye.j,ye.U=ye.va-ye.v,ye.T=nr-St,Re=ye.put(ye))}ke+1!=ge.Ic||Ut||(n(ge.sa,ge.ta-$e,Ve,ct+16*ge.R,$e),n(ge.qa,ge.ra-Je,Xe,Fe+8*ge.B,Je),n(ge.Ha,ge.Ia-Je,Xt,rr+8*ge.B,Je))}if(!Re)return Gr(we,6,"Output aborted.")}return 1}(v,j)),j.bc!=null&&j.bc(j),P&=1}return P?(v.cb=0,P):0}function Ba(v,j,P,M,U){U=v[j+P+32*M]+(U>>3),v[j+P+32*M]=-256&U?0>U?0:255:U}function Gc(v,j,P,M,U,V){Ba(v,j,0,P,M+U),Ba(v,j,1,P,M+V),Ba(v,j,2,P,M-V),Ba(v,j,3,P,M-U)}function ki(v){return(20091*v>>16)+v}function ch(v,j,P,M){var U,V=0,G=s(16);for(U=0;4>U;++U){var K=v[j+0]+v[j+8],Z=v[j+0]-v[j+8],se=(35468*v[j+4]>>16)-ki(v[j+12]),xe=ki(v[j+4])+(35468*v[j+12]>>16);G[V+0]=K+xe,G[V+1]=Z+se,G[V+2]=Z-se,G[V+3]=K-xe,V+=4,j++}for(U=V=0;4>U;++U)K=(v=G[V+0]+4)+G[V+8],Z=v-G[V+8],se=(35468*G[V+4]>>16)-ki(G[V+12]),Ba(P,M,0,0,K+(xe=ki(G[V+4])+(35468*G[V+12]>>16))),Ba(P,M,1,0,Z+se),Ba(P,M,2,0,Z-se),Ba(P,M,3,0,K-xe),V++,M+=32}function ep(v,j,P,M){var U=v[j+0]+4,V=35468*v[j+4]>>16,G=ki(v[j+4]),K=35468*v[j+1]>>16;Gc(P,M,0,U+G,v=ki(v[j+1]),K),Gc(P,M,1,U+V,v,K),Gc(P,M,2,U-V,v,K),Gc(P,M,3,U-G,v,K)}function Dg(v,j,P,M,U){ch(v,j,P,M),U&&ch(v,j+16,P,M+4)}function tp(v,j,P,M){Js(v,j+0,P,M,1),Js(v,j+32,P,M+128,1)}function Mg(v,j,P,M){var U;for(v=v[j+0]+4,U=0;4>U;++U)for(j=0;4>j;++j)Ba(P,M,j,U,v)}function rp(v,j,P,M){v[j+0]&&mi(v,j+0,P,M),v[j+16]&&mi(v,j+16,P,M+4),v[j+32]&&mi(v,j+32,P,M+128),v[j+48]&&mi(v,j+48,P,M+128+4)}function Lg(v,j,P,M){var U,V=s(16);for(U=0;4>U;++U){var G=v[j+0+U]+v[j+12+U],K=v[j+4+U]+v[j+8+U],Z=v[j+4+U]-v[j+8+U],se=v[j+0+U]-v[j+12+U];V[0+U]=G+K,V[8+U]=G-K,V[4+U]=se+Z,V[12+U]=se-Z}for(U=0;4>U;++U)G=(v=V[0+4*U]+3)+V[3+4*U],K=V[1+4*U]+V[2+4*U],Z=V[1+4*U]-V[2+4*U],se=v-V[3+4*U],P[M+0]=G+K>>3,P[M+16]=se+Z>>3,P[M+32]=G-K>>3,P[M+48]=se-Z>>3,M+=64}function uh(v,j,P){var M,U=j-32,V=Ki,G=255-v[U-1];for(M=0;M<P;++M){var K,Z=V,se=G+v[j-1];for(K=0;K<P;++K)v[j+K]=Z[se+v[U+K]];j+=32}}function Rg(v,j){uh(v,j,4)}function Fg(v,j){uh(v,j,8)}function Bg(v,j){uh(v,j,16)}function Gs(v,j){var P;for(P=0;16>P;++P)n(v,j+32*P,v,j-32,16)}function Xc(v,j){var P;for(P=16;0<P;--P)i(v,j,v[j-1],16),j+=32}function Yc(v,j,P){var M;for(M=0;16>M;++M)i(j,P+32*M,v,16)}function np(v,j){var P,M=16;for(P=0;16>P;++P)M+=v[j-1+32*P]+v[j+P-32];Yc(M>>5,v,j)}function Qn(v,j){var P,M=8;for(P=0;16>P;++P)M+=v[j-1+32*P];Yc(M>>4,v,j)}function $g(v,j){var P,M=8;for(P=0;16>P;++P)M+=v[j+P-32];Yc(M>>4,v,j)}function ip(v,j){Yc(128,v,j)}function gt(v,j,P){return v+2*j+P+2>>2}function zg(v,j){var P,M=j-32;for(M=new Uint8Array([gt(v[M-1],v[M+0],v[M+1]),gt(v[M+0],v[M+1],v[M+2]),gt(v[M+1],v[M+2],v[M+3]),gt(v[M+2],v[M+3],v[M+4])]),P=0;4>P;++P)n(v,j+32*P,M,0,M.length)}function Ug(v,j){var P=v[j-1],M=v[j-1+32],U=v[j-1+64],V=v[j-1+96];Oe(v,j+0,16843009*gt(v[j-1-32],P,M)),Oe(v,j+32,16843009*gt(P,M,U)),Oe(v,j+64,16843009*gt(M,U,V)),Oe(v,j+96,16843009*gt(U,V,V))}function ms(v,j){var P,M=4;for(P=0;4>P;++P)M+=v[j+P-32]+v[j-1+32*P];for(M>>=3,P=0;4>P;++P)i(v,j+32*P,M,4)}function ap(v,j){var P=v[j-1+0],M=v[j-1+32],U=v[j-1+64],V=v[j-1-32],G=v[j+0-32],K=v[j+1-32],Z=v[j+2-32],se=v[j+3-32];v[j+0+96]=gt(M,U,v[j-1+96]),v[j+1+96]=v[j+0+64]=gt(P,M,U),v[j+2+96]=v[j+1+64]=v[j+0+32]=gt(V,P,M),v[j+3+96]=v[j+2+64]=v[j+1+32]=v[j+0+0]=gt(G,V,P),v[j+3+64]=v[j+2+32]=v[j+1+0]=gt(K,G,V),v[j+3+32]=v[j+2+0]=gt(Z,K,G),v[j+3+0]=gt(se,Z,K)}function sp(v,j){var P=v[j+1-32],M=v[j+2-32],U=v[j+3-32],V=v[j+4-32],G=v[j+5-32],K=v[j+6-32],Z=v[j+7-32];v[j+0+0]=gt(v[j+0-32],P,M),v[j+1+0]=v[j+0+32]=gt(P,M,U),v[j+2+0]=v[j+1+32]=v[j+0+64]=gt(M,U,V),v[j+3+0]=v[j+2+32]=v[j+1+64]=v[j+0+96]=gt(U,V,G),v[j+3+32]=v[j+2+64]=v[j+1+96]=gt(V,G,K),v[j+3+64]=v[j+2+96]=gt(G,K,Z),v[j+3+96]=gt(K,Z,Z)}function Kc(v,j){var P=v[j-1+0],M=v[j-1+32],U=v[j-1+64],V=v[j-1-32],G=v[j+0-32],K=v[j+1-32],Z=v[j+2-32],se=v[j+3-32];v[j+0+0]=v[j+1+64]=V+G+1>>1,v[j+1+0]=v[j+2+64]=G+K+1>>1,v[j+2+0]=v[j+3+64]=K+Z+1>>1,v[j+3+0]=Z+se+1>>1,v[j+0+96]=gt(U,M,P),v[j+0+64]=gt(M,P,V),v[j+0+32]=v[j+1+96]=gt(P,V,G),v[j+1+32]=v[j+2+96]=gt(V,G,K),v[j+2+32]=v[j+3+96]=gt(G,K,Z),v[j+3+32]=gt(K,Z,se)}function dh(v,j){var P=v[j+0-32],M=v[j+1-32],U=v[j+2-32],V=v[j+3-32],G=v[j+4-32],K=v[j+5-32],Z=v[j+6-32],se=v[j+7-32];v[j+0+0]=P+M+1>>1,v[j+1+0]=v[j+0+64]=M+U+1>>1,v[j+2+0]=v[j+1+64]=U+V+1>>1,v[j+3+0]=v[j+2+64]=V+G+1>>1,v[j+0+32]=gt(P,M,U),v[j+1+32]=v[j+0+96]=gt(M,U,V),v[j+2+32]=v[j+1+96]=gt(U,V,G),v[j+3+32]=v[j+2+96]=gt(V,G,K),v[j+3+64]=gt(G,K,Z),v[j+3+96]=gt(K,Z,se)}function Hg(v,j){var P=v[j-1+0],M=v[j-1+32],U=v[j-1+64],V=v[j-1+96];v[j+0+0]=P+M+1>>1,v[j+2+0]=v[j+0+32]=M+U+1>>1,v[j+2+32]=v[j+0+64]=U+V+1>>1,v[j+1+0]=gt(P,M,U),v[j+3+0]=v[j+1+32]=gt(M,U,V),v[j+3+32]=v[j+1+64]=gt(U,V,V),v[j+3+64]=v[j+2+64]=v[j+0+96]=v[j+1+96]=v[j+2+96]=v[j+3+96]=V}function qg(v,j){var P=v[j-1+0],M=v[j-1+32],U=v[j-1+64],V=v[j-1+96],G=v[j-1-32],K=v[j+0-32],Z=v[j+1-32],se=v[j+2-32];v[j+0+0]=v[j+2+32]=P+G+1>>1,v[j+0+32]=v[j+2+64]=M+P+1>>1,v[j+0+64]=v[j+2+96]=U+M+1>>1,v[j+0+96]=V+U+1>>1,v[j+3+0]=gt(K,Z,se),v[j+2+0]=gt(G,K,Z),v[j+1+0]=v[j+3+32]=gt(P,G,K),v[j+1+32]=v[j+3+64]=gt(M,P,G),v[j+1+64]=v[j+3+96]=gt(U,M,P),v[j+1+96]=gt(V,U,M)}function Wg(v,j){var P;for(P=0;8>P;++P)n(v,j+32*P,v,j-32,8)}function hh(v,j){var P;for(P=0;8>P;++P)i(v,j,v[j-1],8),j+=32}function Pl(v,j,P){var M;for(M=0;8>M;++M)i(j,P+32*M,v,8)}function Oo(v,j){var P,M=8;for(P=0;8>P;++P)M+=v[j+P-32]+v[j-1+32*P];Pl(M>>4,v,j)}function Vg(v,j){var P,M=4;for(P=0;8>P;++P)M+=v[j+P-32];Pl(M>>3,v,j)}function kl(v,j){var P,M=4;for(P=0;8>P;++P)M+=v[j-1+32*P];Pl(M>>3,v,j)}function fh(v,j){Pl(128,v,j)}function Jc(v,j,P){var M=v[j-P],U=v[j+0],V=3*(U-M)+Zg[1020+v[j-2*P]-v[j+P]],G=bp[112+(V+4>>3)];v[j-P]=Ki[255+M+bp[112+(V+3>>3)]],v[j+0]=Ki[255+U-G]}function op(v,j,P,M){var U=v[j+0],V=v[j+P];return xa[255+v[j-2*P]-v[j-P]]>M||xa[255+V-U]>M}function lp(v,j,P,M){return 4*xa[255+v[j-P]-v[j+0]]+xa[255+v[j-2*P]-v[j+P]]<=M}function cp(v,j,P,M,U){var V=v[j-3*P],G=v[j-2*P],K=v[j-P],Z=v[j+0],se=v[j+P],xe=v[j+2*P],Se=v[j+3*P];return 4*xa[255+K-Z]+xa[255+G-se]>M?0:xa[255+v[j-4*P]-V]<=U&&xa[255+V-G]<=U&&xa[255+G-K]<=U&&xa[255+Se-xe]<=U&&xa[255+xe-se]<=U&&xa[255+se-Z]<=U}function up(v,j,P,M){var U=2*M+1;for(M=0;16>M;++M)lp(v,j+M,P,U)&&Jc(v,j+M,P)}function xs(v,j,P,M){var U=2*M+1;for(M=0;16>M;++M)lp(v,j+M*P,1,U)&&Jc(v,j+M*P,1)}function Xs(v,j,P,M){var U;for(U=3;0<U;--U)up(v,j+=4*P,P,M)}function Gg(v,j,P,M){var U;for(U=3;0<U;--U)xs(v,j+=4,P,M)}function Po(v,j,P,M,U,V,G,K){for(V=2*V+1;0<U--;){if(cp(v,j,P,V,G))if(op(v,j,P,K))Jc(v,j,P);else{var Z=v,se=j,xe=P,Se=Z[se-2*xe],Ae=Z[se-xe],we=Z[se+0],Be=Z[se+xe],ke=Z[se+2*xe],ge=27*(Re=Zg[1020+3*(we-Ae)+Zg[1020+Se-Be]])+63>>7,ye=18*Re+63>>7,Re=9*Re+63>>7;Z[se-3*xe]=Ki[255+Z[se-3*xe]+Re],Z[se-2*xe]=Ki[255+Se+ye],Z[se-xe]=Ki[255+Ae+ge],Z[se+0]=Ki[255+we-ge],Z[se+xe]=Ki[255+Be-ye],Z[se+2*xe]=Ki[255+ke-Re]}j+=M}}function $a(v,j,P,M,U,V,G,K){for(V=2*V+1;0<U--;){if(cp(v,j,P,V,G))if(op(v,j,P,K))Jc(v,j,P);else{var Z=v,se=j,xe=P,Se=Z[se-xe],Ae=Z[se+0],we=Z[se+xe],Be=bp[112+((ke=3*(Ae-Se))+4>>3)],ke=bp[112+(ke+3>>3)],ge=Be+1>>1;Z[se-2*xe]=Ki[255+Z[se-2*xe]+ge],Z[se-xe]=Ki[255+Se+ke],Z[se+0]=Ki[255+Ae-Be],Z[se+xe]=Ki[255+we-ge]}j+=M}}function ph(v,j,P,M,U,V){Po(v,j,P,1,16,M,U,V)}function Tl(v,j,P,M,U,V){Po(v,j,1,P,16,M,U,V)}function Xg(v,j,P,M,U,V){var G;for(G=3;0<G;--G)$a(v,j+=4*P,P,1,16,M,U,V)}function Zc(v,j,P,M,U,V){var G;for(G=3;0<G;--G)$a(v,j+=4,1,P,16,M,U,V)}function Yg(v,j,P,M,U,V,G,K){Po(v,j,U,1,8,V,G,K),Po(P,M,U,1,8,V,G,K)}function mh(v,j,P,M,U,V,G,K){Po(v,j,1,U,8,V,G,K),Po(P,M,1,U,8,V,G,K)}function xh(v,j,P,M,U,V,G,K){$a(v,j+4*U,U,1,8,V,G,K),$a(P,M+4*U,U,1,8,V,G,K)}function dp(v,j,P,M,U,V,G,K){$a(v,j+4,1,U,8,V,G,K),$a(P,M+4,1,U,8,V,G,K)}function Qc(){this.ba=new Da,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Br,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hp(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new O}function Kg(){this.xb=this.a=0,this.l=new Vc,this.ca=new Da,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hp,this.ab=0,this.gc=o(4,vh),this.Oc=0}function eu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Il(v,j,P,M,U,V,G){for(v=v==null?0:v[j+0],j=0;j<G;++j)U[V+j]=v+P[M+j]&255,v=U[V+j]}function bh(v,j,P,M,U,V,G){var K;if(v==null)Il(null,null,P,M,U,V,G);else for(K=0;K<G;++K)U[V+K]=v[j+K]+P[M+K]&255}function ko(v,j,P,M,U,V,G){if(v==null)Il(null,null,P,M,U,V,G);else{var K,Z=v[j+0],se=Z,xe=Z;for(K=0;K<G;++K)se=xe+(Z=v[j+K])-se,xe=P[M+K]+(-256&se?0>se?0:255:se)&255,se=Z,U[V+K]=xe}}function yh(v,j,P,M){var U=j.width,V=j.o;if(e(v!=null&&j!=null),0>P||0>=M||P+M>V)return null;if(!v.Cc){if(v.ga==null){var G;if(v.ga=new eu,(G=v.ga==null)||(G=j.width*j.o,e(v.Gb.length==0),v.Gb=s(G),v.Uc=0,v.Gb==null?G=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,G=1),G=!G),!G){G=v.ga;var K=v.Fa,Z=v.P,se=v.qc,xe=v.mb,Se=v.nb,Ae=Z+1,we=se-1,Be=G.l;if(e(K!=null&&xe!=null&&j!=null),Ro[0]=null,Ro[1]=Il,Ro[2]=bh,Ro[3]=ko,G.ca=xe,G.tb=Se,G.c=j.width,G.i=j.height,e(0<G.c&&0<G.i),1>=se)j=0;else if(G.$a=K[Z+0]>>0&3,G.Z=K[Z+0]>>2&3,G.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)j=0;else if(Be.put=us,Be.ac=Hn,Be.bc=ds,Be.ma=G,Be.width=j.width,Be.height=j.height,Be.Da=j.Da,Be.v=j.v,Be.va=j.va,Be.j=j.j,Be.o=j.o,G.$a)e:{e(G.$a==1),j=da();t:for(;;){if(j==null){j=0;break e}if(e(G!=null),G.mc=j,j.c=G.c,j.i=G.i,j.l=G.l,j.l.ma=G,j.l.width=G.c,j.l.height=G.i,j.a=0,X(j.m,K,Ae,we),!ps(G.c,G.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&Vs(j.s)?(G.ic=1,K=j.c*j.i,j.Ta=null,j.Ua=0,j.V=s(K),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(G.ic=0,j=Ol(j,G.c)),!j))break t;j=1;break e}G.mc=null,j=0}else j=we>=G.c*G.i;G=!j}if(G)return null;v.ga.Lc!=1?v.Ga=0:M=V-P}e(v.ga!=null),e(P+M<=V);e:{if(j=(K=v.ga).c,V=K.l.o,K.$a==0){if(Ae=v.rc,we=v.Vc,Be=v.Fa,Z=v.P+1+P*j,se=v.mb,xe=v.nb+P*j,e(Z<=v.P+v.qc),K.Z!=0)for(e(Ro[K.Z]!=null),G=0;G<M;++G)Ro[K.Z](Ae,we,Be,Z,se,xe,j),Ae=se,we=xe,xe+=j,Z+=j;else for(G=0;G<M;++G)n(se,xe,Be,Z,j),Ae=se,we=xe,xe+=j,Z+=j;v.rc=Ae,v.Vc=we}else{if(e(K.mc!=null),j=P+M,e((G=K.mc)!=null),e(j<=G.i),G.C>=j)j=1;else if(K.ic||Ne(),K.ic){K=G.V,Ae=G.Ba,we=G.c;var ke=G.i,ge=(Be=1,Z=G.$/we,se=G.$%we,xe=G.m,Se=G.s,G.$),ye=we*ke,Re=we*j,$e=Se.wc,Fe=ge<Re?rn(Se,se,Z):null;e(ge<=ye),e(j<=ke),e(Vs(Se));t:for(;;){for(;!xe.h&&ge<Re;){if(se&$e||(Fe=rn(Se,se,Z)),e(Fe!=null),J(xe),256>(ke=Pi(Fe.G[0],Fe.H[0],xe)))K[Ae+ge]=ke,++ge,++se>=we&&(se=0,++Z<=j&&!(Z%16)&&Ra(G,Z));else{if(!(280>ke)){Be=0;break t}ke=Ma(ke-256,xe);var Je,Ve=Pi(Fe.G[4],Fe.H[4],xe);if(J(xe),!(ge>=(Ve=hs(we,Ve=Ma(Ve,xe)))&&ye-ge>=ke)){Be=0;break t}for(Je=0;Je<ke;++Je)K[Ae+ge+Je]=K[Ae+ge+Je-Ve];for(ge+=ke,se+=ke;se>=we;)se-=we,++Z<=j&&!(Z%16)&&Ra(G,Z);ge<Re&&se&$e&&(Fe=rn(Se,se,Z))}e(xe.h==q(xe))}Ra(G,Z>j?j:Z);break t}!Be||xe.h&&ge<ye?(Be=0,G.a=xe.h?5:3):G.$=ge,j=Be}else j=Fa(G,G.V,G.Ba,G.c,G.i,j,zc);if(!j){M=0;break e}}P+M>=V&&(v.Cc=1),M=1}if(!M)return null;if(v.Cc&&((M=v.ga)!=null&&(M.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+P*U}function C(v,j,P,M,U,V){for(;0<U--;){var G,K=v,Z=j+(P?1:0),se=v,xe=j+(P?0:3);for(G=0;G<M;++G){var Se=se[xe+4*G];Se!=255&&(Se*=32897,K[Z+4*G+0]=K[Z+4*G+0]*Se>>23,K[Z+4*G+1]=K[Z+4*G+1]*Se>>23,K[Z+4*G+2]=K[Z+4*G+2]*Se>>23)}j+=V}}function H(v,j,P,M,U){for(;0<M--;){var V;for(V=0;V<P;++V){var G=v[j+2*V+0],K=15&(se=v[j+2*V+1]),Z=4369*K,se=(240&se|se>>4)*Z>>16;v[j+2*V+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,v[j+2*V+1]=240&se|K}j+=U}}function oe(v,j,P,M,U,V,G,K){var Z,se,xe=255;for(se=0;se<U;++se){for(Z=0;Z<M;++Z){var Se=v[j+Z];V[G+4*Z]=Se,xe&=Se}j+=P,G+=K}return xe!=255}function pe(v,j,P,M,U){var V;for(V=0;V<U;++V)P[M+V]=v[j+V]>>8}function Ne(){ma=C,vr=H,br=oe,Yr=pe}function Te(v,j,P){E[v]=function(M,U,V,G,K,Z,se,xe,Se,Ae,we,Be,ke,ge,ye,Re,$e){var Fe,Je=$e-1>>1,Ve=K[Z+0]|se[xe+0]<<16,ct=Se[Ae+0]|we[Be+0]<<16;e(M!=null);var Xe=3*Ve+ct+131074>>2;for(j(M[U+0],255&Xe,Xe>>16,ke,ge),V!=null&&(Xe=3*ct+Ve+131074>>2,j(V[G+0],255&Xe,Xe>>16,ye,Re)),Fe=1;Fe<=Je;++Fe){var Xt=K[Z+Fe]|se[xe+Fe]<<16,rr=Se[Ae+Fe]|we[Be+Fe]<<16,Ut=Ve+Xt+ct+rr+524296,Mt=Ut+2*(Xt+ct)>>3;Xe=Mt+Ve>>1,Ve=(Ut=Ut+2*(Ve+rr)>>3)+Xt>>1,j(M[U+2*Fe-1],255&Xe,Xe>>16,ke,ge+(2*Fe-1)*P),j(M[U+2*Fe-0],255&Ve,Ve>>16,ke,ge+(2*Fe-0)*P),V!=null&&(Xe=Ut+ct>>1,Ve=Mt+rr>>1,j(V[G+2*Fe-1],255&Xe,Xe>>16,ye,Re+(2*Fe-1)*P),j(V[G+2*Fe+0],255&Ve,Ve>>16,ye,Re+(2*Fe+0)*P)),Ve=Xt,ct=rr}1&$e||(Xe=3*Ve+ct+131074>>2,j(M[U+$e-1],255&Xe,Xe>>16,ke,ge+($e-1)*P),V!=null&&(Xe=3*ct+Ve+131074>>2,j(V[G+$e-1],255&Xe,Xe>>16,ye,Re+($e-1)*P)))}}function ze(){ga[yp]=tI,ga[wp]=dj,ga[sj]=rI,ga[jp]=hj,ga[Np]=fj,ga[Qg]=pj,ga[oj]=nI,ga[ev]=dj,ga[tv]=hj,ga[_p]=fj,ga[rv]=pj}function Ye(v){return v&~iI?0>v?0:255:v>>mj}function at(v,j){return Ye((19077*v>>8)+(26149*j>>8)-14234)}function Nt(v,j,P){return Ye((19077*v>>8)-(6419*j>>8)-(13320*P>>8)+8708)}function yt(v,j){return Ye((19077*v>>8)+(33050*j>>8)-17685)}function $t(v,j,P,M,U){M[U+0]=at(v,P),M[U+1]=Nt(v,j,P),M[U+2]=yt(v,j)}function Mr(v,j,P,M,U){M[U+0]=yt(v,j),M[U+1]=Nt(v,j,P),M[U+2]=at(v,P)}function $r(v,j,P,M,U){var V=Nt(v,j,P);j=V<<3&224|yt(v,j)>>3,M[U+0]=248&at(v,P)|V>>5,M[U+1]=j}function nn(v,j,P,M,U){var V=240&yt(v,j)|15;M[U+0]=240&at(v,P)|Nt(v,j,P)>>4,M[U+1]=V}function ei(v,j,P,M,U){M[U+0]=255,$t(v,j,P,M,U+1)}function Pn(v,j,P,M,U){Mr(v,j,P,M,U),M[U+3]=255}function za(v,j,P,M,U){$t(v,j,P,M,U),M[U+3]=255}function Yi(v,j){return 0>v?0:v>j?j:v}function gs(v,j,P){E[v]=function(M,U,V,G,K,Z,se,xe,Se){for(var Ae=xe+(-2&Se)*P;xe!=Ae;)j(M[U+0],V[G+0],K[Z+0],se,xe),j(M[U+1],V[G+0],K[Z+0],se,xe+P),U+=2,++G,++Z,xe+=2*P;1&Se&&j(M[U+0],V[G+0],K[Z+0],se,xe)}}function fp(v,j,P){return P==0?v==0?j==0?6:5:j==0?4:0:P}function wh(v,j,P,M,U){switch(v>>>30){case 3:Js(j,P,M,U,0);break;case 2:Xr(j,P,M,U);break;case 1:mi(j,P,M,U)}}function jh(v,j){var P,M,U=j.M,V=j.Nb,G=v.oc,K=v.pc+40,Z=v.oc,se=v.pc+584,xe=v.oc,Se=v.pc+600;for(P=0;16>P;++P)G[K+32*P-1]=129;for(P=0;8>P;++P)Z[se+32*P-1]=129,xe[Se+32*P-1]=129;for(0<U?G[K-1-32]=Z[se-1-32]=xe[Se-1-32]=129:(i(G,K-32-1,127,21),i(Z,se-32-1,127,9),i(xe,Se-32-1,127,9)),M=0;M<v.za;++M){var Ae=j.ya[j.aa+M];if(0<M){for(P=-1;16>P;++P)n(G,K+32*P-4,G,K+32*P+12,4);for(P=-1;8>P;++P)n(Z,se+32*P-4,Z,se+32*P+4,4),n(xe,Se+32*P-4,xe,Se+32*P+4,4)}var we=v.Gd,Be=v.Hd+M,ke=Ae.ad,ge=Ae.Hc;if(0<U&&(n(G,K-32,we[Be].y,0,16),n(Z,se-32,we[Be].f,0,8),n(xe,Se-32,we[Be].ea,0,8)),Ae.Za){var ye=G,Re=K-32+16;for(0<U&&(M>=v.za-1?i(ye,Re,we[Be].y[15],4):n(ye,Re,we[Be+1].y,0,4)),P=0;4>P;P++)ye[Re+128+P]=ye[Re+256+P]=ye[Re+384+P]=ye[Re+0+P];for(P=0;16>P;++P,ge<<=2)ye=G,Re=K+gj[P],Ua[Ae.Ob[P]](ye,Re),wh(ge,ke,16*+P,ye,Re)}else if(ye=fp(M,U,Ae.Ob[0]),Lo[ye](G,K),ge!=0)for(P=0;16>P;++P,ge<<=2)wh(ge,ke,16*+P,G,K+gj[P]);for(P=Ae.Gc,ye=fp(M,U,Ae.Dd),Qs[ye](Z,se),Qs[ye](xe,Se),ge=ke,ye=Z,Re=se,255&(Ae=P>>0)&&(170&Ae?Ch(ge,256,ye,Re):fa(ge,256,ye,Re)),Ae=xe,ge=Se,255&(P>>=8)&&(170&P?Ch(ke,320,Ae,ge):fa(ke,320,Ae,ge)),U<v.Ub-1&&(n(we[Be].y,0,G,K+480,16),n(we[Be].f,0,Z,se+224,8),n(we[Be].ea,0,xe,Se+224,8)),P=8*V*v.B,we=v.sa,Be=v.ta+16*M+16*V*v.R,ke=v.qa,Ae=v.ra+8*M+P,ge=v.Ha,ye=v.Ia+8*M+P,P=0;16>P;++P)n(we,Be+P*v.R,G,K+32*P,16);for(P=0;8>P;++P)n(ke,Ae+P*v.B,Z,se+32*P,8),n(ge,ye+P*v.B,xe,Se+32*P,8)}}function tu(v,j,P,M,U,V,G,K,Z){var se=[0],xe=[0],Se=0,Ae=Z!=null?Z.kd:0,we=Z??new gh;if(v==null||12>P)return 7;we.data=v,we.w=j,we.ha=P,j=[j],P=[P],we.gb=[we.gb];e:{var Be=j,ke=P,ge=we.gb;if(e(v!=null),e(ke!=null),e(ge!=null),ge[0]=0,12<=ke[0]&&!r(v,Be[0],"RIFF")){if(r(v,Be[0]+8,"WEBP")){ge=3;break e}var ye=Pe(v,Be[0]+4);if(12>ye||4294967286<ye){ge=3;break e}if(Ae&&ye>ke[0]-8){ge=7;break e}ge[0]=ye,Be[0]+=12,ke[0]-=12}ge=0}if(ge!=0)return ge;for(ye=0<we.gb[0],P=P[0];;){e:{var Re=v;ke=j,ge=P;var $e=se,Fe=xe,Je=Be=[0];if((Xe=Se=[Se])[0]=0,8>ge[0])ge=7;else{if(!r(Re,ke[0],"VP8X")){if(Pe(Re,ke[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var Ve=Pe(Re,ke[0]+8),ct=1+ae(Re,ke[0]+12);if(2147483648<=ct*(Re=1+ae(Re,ke[0]+15))){ge=3;break e}Je!=null&&(Je[0]=Ve),$e!=null&&($e[0]=ct),Fe!=null&&(Fe[0]=Re),ke[0]+=18,ge[0]-=18,Xe[0]=1}ge=0}}if(Se=Se[0],Be=Be[0],ge!=0)return ge;if(ke=!!(2&Be),!ye&&Se)return 3;if(V!=null&&(V[0]=!!(16&Be)),G!=null&&(G[0]=ke),K!=null&&(K[0]=0),G=se[0],Be=xe[0],Se&&ke&&Z==null){ge=0;break}if(4>P){ge=7;break}if(ye&&Se||!ye&&!Se&&!r(v,j[0],"ALPH")){P=[P],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{Ve=v,ge=j,ye=P;var Xe=we.gb;$e=we.na,Fe=we.P,Je=we.Sa,ct=22,e(Ve!=null),e(ye!=null),Re=ge[0];var Xt=ye[0];for(e($e!=null),e(Je!=null),$e[0]=null,Fe[0]=null,Je[0]=0;;){if(ge[0]=Re,ye[0]=Xt,8>Xt){ge=7;break e}var rr=Pe(Ve,Re+4);if(4294967286<rr){ge=3;break e}var Ut=8+rr+1&-2;if(ct+=Ut,0<Xe&&ct>Xe){ge=3;break e}if(!r(Ve,Re,"VP8 ")||!r(Ve,Re,"VP8L")){ge=0;break e}if(Xt[0]<Ut){ge=7;break e}r(Ve,Re,"ALPH")||($e[0]=Ve,Fe[0]=Re+8,Je[0]=rr),Re+=Ut,Xt-=Ut}}if(P=P[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ge!=0)break}P=[P],we.Ja=[we.Ja],we.xa=[we.xa];e:if(Xe=v,ge=j,ye=P,$e=we.gb[0],Fe=we.Ja,Je=we.xa,Ve=ge[0],Re=!r(Xe,Ve,"VP8 "),ct=!r(Xe,Ve,"VP8L"),e(Xe!=null),e(ye!=null),e(Fe!=null),e(Je!=null),8>ye[0])ge=7;else{if(Re||ct){if(Xe=Pe(Xe,Ve+4),12<=$e&&Xe>$e-12){ge=3;break e}if(Ae&&Xe>ye[0]-8){ge=7;break e}Fe[0]=Xe,ge[0]+=8,ye[0]-=8,Je[0]=ct}else Je[0]=5<=ye[0]&&Xe[Ve+0]==47&&!(Xe[Ve+4]>>5),Fe[0]=ye[0];ge=0}if(P=P[0],we.Ja=we.Ja[0],we.xa=we.xa[0],j=j[0],ge!=0)break;if(4294967286<we.Ja)return 3;if(K==null||ke||(K[0]=we.xa?2:1),G=[G],Be=[Be],we.xa){if(5>P){ge=7;break}K=G,Ae=Be,ke=V,v==null||5>P?v=0:5<=P&&v[j+0]==47&&!(v[j+4]>>5)?(ye=[0],Xe=[0],$e=[0],X(Fe=new R,v,j,P),ht(Fe,ye,Xe,$e)?(K!=null&&(K[0]=ye[0]),Ae!=null&&(Ae[0]=Xe[0]),ke!=null&&(ke[0]=$e[0]),v=1):v=0):v=0}else{if(10>P){ge=7;break}K=Be,v==null||10>P||!J0(v,j+3,P-3)?v=0:(Ae=v[j+0]|v[j+1]<<8|v[j+2]<<16,ke=16383&(v[j+7]<<8|v[j+6]),v=16383&(v[j+9]<<8|v[j+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=we.Ja||!ke||!v?v=0:(G&&(G[0]=ke),K&&(K[0]=v),v=1))}if(!v||(G=G[0],Be=Be[0],Se&&(se[0]!=G||xe[0]!=Be)))return 3;Z!=null&&(Z[0]=we,Z.offset=j-Z.w,e(4294967286>j-Z.w),e(Z.offset==Z.ha-P));break}return ge==0||ge==7&&Se&&Z==null?(V!=null&&(V[0]|=we.na!=null&&0<we.na.length),M!=null&&(M[0]=G),U!=null&&(U[0]=Be),0):ge}function Nh(v,j,P){var M=j.width,U=j.height,V=0,G=0,K=M,Z=U;if(j.Da=v!=null&&0<v.Da,j.Da&&(K=v.cd,Z=v.bd,V=v.v,G=v.j,11>P||(V&=-2,G&=-2),0>V||0>G||0>=K||0>=Z||V+K>M||G+Z>U))return 0;if(j.v=V,j.j=G,j.va=V+K,j.o=G+Z,j.U=K,j.T=Z,j.da=v!=null&&0<v.da,j.da){if(!Ue(K,Z,P=[v.ib],V=[v.hb]))return 0;j.ib=P[0],j.hb=V[0]}return j.ob=v!=null&&v.ob,j.Kb=v==null||!v.Sd,j.da&&(j.ob=j.ib<3*M/4&&j.hb<3*U/4,j.Kb=0),1}function _h(v){if(v==null)return 2;if(11>v.S){var j=v.f.RGBA;j.fb+=(v.height-1)*j.A,j.A=-j.A}else j=v.f.kb,v=v.height,j.O+=(v-1)*j.fa,j.fa=-j.fa,j.N+=(v-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(v-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(v-1)*j.lb,j.lb=-j.lb);return 0}function ru(v,j,P,M){if(M==null||0>=v||0>=j)return 2;if(P!=null){if(P.Da){var U=P.cd,V=P.bd,G=-2&P.v,K=-2&P.j;if(0>G||0>K||0>=U||0>=V||G+U>v||K+V>j)return 2;v=U,j=V}if(P.da){if(!Ue(v,j,U=[P.ib],V=[P.hb]))return 2;v=U[0],j=V[0]}}M.width=v,M.height=j;e:{var Z=M.width,se=M.height;if(v=M.S,0>=Z||0>=se||!(v>=yp&&13>v))v=2;else{if(0>=M.Rd&&M.sd==null){G=V=U=j=0;var xe=(K=Z*vj[v])*se;if(11>v||(V=(se+1)/2*(j=(Z+1)/2),v==12&&(G=(U=Z)*se)),(se=s(xe+2*V+G))==null){v=1;break e}M.sd=se,11>v?((Z=M.f.RGBA).eb=se,Z.fb=0,Z.A=K,Z.size=xe):((Z=M.f.kb).y=se,Z.O=0,Z.fa=K,Z.Fd=xe,Z.f=se,Z.N=0+xe,Z.Ab=j,Z.Cd=V,Z.ea=se,Z.W=0+xe+V,Z.Db=j,Z.Ed=V,v==12&&(Z.F=se,Z.J=0+xe+2*V),Z.Tc=G,Z.lb=U)}if(j=1,U=M.S,V=M.width,G=M.height,U>=yp&&13>U)if(11>U)v=M.f.RGBA,j&=(K=Math.abs(v.A))*(G-1)+V<=v.size,j&=K>=V*vj[U],j&=v.eb!=null;else{v=M.f.kb,K=(V+1)/2,xe=(G+1)/2,Z=Math.abs(v.fa),se=Math.abs(v.Ab);var Se=Math.abs(v.Db),Ae=Math.abs(v.lb),we=Ae*(G-1)+V;j&=Z*(G-1)+V<=v.Fd,j&=se*(xe-1)+K<=v.Cd,j=(j&=Se*(xe-1)+K<=v.Ed)&Z>=V&se>=K&Se>=K,j&=v.y!=null,j&=v.f!=null,j&=v.ea!=null,U==12&&(j&=Ae>=V,j&=we<=v.Tc,j&=v.F!=null)}else j=0;v=j?0:2}}return v!=0||P!=null&&P.fd&&(v=_h(M)),v}var qn=64,nu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],iu=24,au=32,Sh=8,Ti=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(v){return v},E.Predictor2=function(v,j,P){return j[P+0]},E.Predictor3=function(v,j,P){return j[P+1]},E.Predictor4=function(v,j,P){return j[P-1]},E.Predictor5=function(v,j,P){return je(je(v,j[P+1]),j[P+0])},E.Predictor6=function(v,j,P){return je(v,j[P-1])},E.Predictor7=function(v,j,P){return je(v,j[P+0])},E.Predictor8=function(v,j,P){return je(j[P-1],j[P+0])},E.Predictor9=function(v,j,P){return je(j[P+0],j[P+1])},E.Predictor10=function(v,j,P){return je(je(v,j[P-1]),je(j[P+0],j[P+1]))},E.Predictor11=function(v,j,P){var M=j[P+0];return 0>=He(M>>24&255,v>>24&255,(j=j[P-1])>>24&255)+He(M>>16&255,v>>16&255,j>>16&255)+He(M>>8&255,v>>8&255,j>>8&255)+He(255&M,255&v,255&j)?M:v},E.Predictor12=function(v,j,P){var M=j[P+0];return(me((v>>24&255)+(M>>24&255)-((j=j[P-1])>>24&255))<<24|me((v>>16&255)+(M>>16&255)-(j>>16&255))<<16|me((v>>8&255)+(M>>8&255)-(j>>8&255))<<8|me((255&v)+(255&M)-(255&j)))>>>0},E.Predictor13=function(v,j,P){var M=j[P-1];return(Le((v=je(v,j[P+0]))>>24&255,M>>24&255)<<24|Le(v>>16&255,M>>16&255)<<16|Le(v>>8&255,M>>8&255)<<8|Le(v>>0&255,M>>0&255))>>>0};var Jg=E.PredictorAdd0;E.PredictorAdd1=Ke,ce("Predictor2","PredictorAdd2"),ce("Predictor3","PredictorAdd3"),ce("Predictor4","PredictorAdd4"),ce("Predictor5","PredictorAdd5"),ce("Predictor6","PredictorAdd6"),ce("Predictor7","PredictorAdd7"),ce("Predictor8","PredictorAdd8"),ce("Predictor9","PredictorAdd9"),ce("Predictor10","PredictorAdd10"),ce("Predictor11","PredictorAdd11"),ce("Predictor12","PredictorAdd12"),ce("Predictor13","PredictorAdd13");var Ah=E.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var pp,ha=E.ColorIndexInverseTransform,su=E.MapARGB,mp=E.VP8LColorIndexInverseTransformAlpha,xp=E.MapAlpha,To=E.VP8LPredictorsAdd=[];To.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Dl,Ii,pi,Io,Ys,Ks,ou,Js,Xr,Ch,mi,fa,lu,gp,Eh,Ml,Ll,Do,Rl,cu,Fl,Mo,Oh,pa,ma,vr,br,Yr,fn=s(511),Zs=s(2041),Ph=s(225),uu=s(767),vp=0,Zg=Zs,bp=Ph,Ki=uu,xa=fn,yp=0,wp=1,sj=2,jp=3,Np=4,Qg=5,oj=6,ev=7,tv=8,_p=9,rv=10,zT=[2,3,7],UT=[3,3,11],lj=[280,256,256,256,40],HT=[0,1,1,1,0],qT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],WT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],VT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],GT=8,nv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],iv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kh=null,XT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],YT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],KT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ZT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],QT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lo=[],Ua=[],Qs=[],eI=1,uj=2,Ro=[],ga=[];Te("UpsampleRgbLinePair",$t,3),Te("UpsampleBgrLinePair",Mr,3),Te("UpsampleRgbaLinePair",za,4),Te("UpsampleBgraLinePair",Pn,4),Te("UpsampleArgbLinePair",ei,4),Te("UpsampleRgba4444LinePair",nn,2),Te("UpsampleRgb565LinePair",$r,2);var tI=E.UpsampleRgbLinePair,rI=E.UpsampleBgrLinePair,dj=E.UpsampleRgbaLinePair,hj=E.UpsampleBgraLinePair,fj=E.UpsampleArgbLinePair,pj=E.UpsampleRgba4444LinePair,nI=E.UpsampleRgb565LinePair,Sp=16,Ap=1<<Sp-1,Th=-227,av=482,mj=6,iI=(256<<mj)-1,xj=0,aI=s(256),sI=s(256),oI=s(256),lI=s(256),cI=s(av-Th),uI=s(av-Th);gs("YuvToRgbRow",$t,3),gs("YuvToBgrRow",Mr,3),gs("YuvToRgbaRow",za,4),gs("YuvToBgraRow",Pn,4),gs("YuvToArgbRow",ei,4),gs("YuvToRgba4444Row",nn,2),gs("YuvToRgb565Row",$r,2);var gj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cp=[0,2,8],dI=[8,7,6,4,4,2,2,2,1,1,1,1],hI=1;this.WebPDecodeRGBA=function(v,j,P,M,U){var V=wp,G=new Qc,K=new Da;G.ba=K,K.S=V,K.width=[K.width],K.height=[K.height];var Z=K.width,se=K.height,xe=new Ws;if(xe==null||v==null)var Se=2;else e(xe!=null),Se=tu(v,j,P,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Se!=0?Z=0:(Z!=null&&(Z[0]=xe.width[0]),se!=null&&(se[0]=xe.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],M!=null&&(M[0]=K.width),U!=null&&(U[0]=K.height);e:{if(M=new Vc,(U=new gh).data=v,U.w=j,U.ha=P,U.kd=1,j=[0],e(U!=null),((v=tu(U.data,U.w,U.ha,null,null,null,j,null,U))==0||v==7)&&j[0]&&(v=4),(j=v)==0){if(e(G!=null),M.data=U.data,M.w=U.w+U.offset,M.ha=U.ha-U.offset,M.put=us,M.ac=Hn,M.bc=ds,M.ma=G,U.xa){if((v=da())==null){G=1;break e}if(function(Ae,we){var Be=[0],ke=[0],ge=[0];t:for(;;){if(Ae==null)return 0;if(we==null)return Ae.a=2,0;if(Ae.l=we,Ae.a=0,X(Ae.m,we.data,we.w,we.ha),!ht(Ae.m,Be,ke,ge)){Ae.a=3;break t}if(Ae.xb=uj,we.width=Be[0],we.height=ke[0],!ps(Be[0],ke[0],1,Ae,null))break t;return 1}return e(Ae.a!=0),0}(v,M)){if(M=(j=ru(M.width,M.height,G.Oa,G.ba))==0){t:{M=v;r:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((P=M.l)!=null),e((U=P.ma)!=null),M.xb!=0){if(M.ca=U.ba,M.tb=U.tb,e(M.ca!=null),!Nh(U.Oa,P,jp)){M.a=2;break r}if(!Ol(M,P.width)||P.da)break r;if((P.da||Zt(M.ca.S))&&Ne(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Ne()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!De(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!Fa(M,M.V,M.Ba,M.c,M.i,P.o,$c))break r;U.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(j=v.a)}else j=v.a}else{if((v=new Tg)==null){G=1;break e}if(v.Fa=U.na,v.P=U.P,v.qc=U.Sa,Z0(v,M)){if((j=ru(M.width,M.height,G.Oa,G.ba))==0){if(v.Aa=0,P=G.Oa,e((U=v)!=null),P!=null){if(0<(Z=0>(Z=P.Md)?0:100<Z?255:255*Z/100)){for(se=xe=0;4>se;++se)12>(Se=U.pb[se]).lc&&(Se.ia=Z*dI[0>Se.lc?0:Se.lc]>>3),xe|=Se.ia;xe&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=P.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}Ig(v,M)||(j=v.a)}}else j=v.a}j==0&&G.Oa!=null&&G.Oa.fd&&(j=_h(G.ba))}G=j}V=G!=0?null:11>V?K.f.RGBA.eb:K.f.kb.y}else V=null;return V};var vj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,D){for(var F="",k=0;k<4;k++)F+=String.fromCharCode(E[D++]);return F}function d(E,D){return(E[D+0]<<0|E[D+1]<<8|E[D+2]<<16)>>>0}function h(E,D){return(E[D+0]<<0|E[D+1]<<8|E[D+2]<<16|E[D+3]<<24)>>>0}new c;var f=[0],p=[0],m=[],x=new c,g=t,b=function(E,D){var F={},k=0,O=!1,B=0,L=0;if(F.frames=[],!function(I,q,Q,J){for(var de=0;de<J;de++)if(I[q+de]!=Q.charCodeAt(de))return!0;return!1}(E,D,"RIFF",4)){var W,$;for(h(E,D+=4),D+=8;D<E.length;){var z=u(E,D),X=h(E,D+=4);D+=4;var Y=X+(1&X);switch(z){case"VP8 ":case"VP8L":F.frames[k]===void 0&&(F.frames[k]={}),(R=F.frames[k]).src_off=O?L:D-8,R.src_size=B+X+8,k++,O&&(O=!1,B=0,L=0);break;case"VP8X":(R=F.header={}).feature_flags=E[D];var le=D+4;R.canvas_width=1+d(E,le),le+=3,R.canvas_height=1+d(E,le),le+=3;break;case"ALPH":O=!0,B=Y+8,L=D-8;break;case"ANIM":(R=F.header).bgcolor=h(E,D),le=D+4,R.loop_count=(W=E)[($=le)+0]<<0|W[$+1]<<8,le+=2;break;case"ANMF":var fe,R;(R=F.frames[k]={}).offset_x=2*d(E,D),D+=3,R.offset_y=2*d(E,D),D+=3,R.width=1+d(E,D),D+=3,R.height=1+d(E,D),D+=3,R.duration=d(E,D),D+=3,fe=E[D++],R.dispose=1&fe,R.blend=fe>>1&1}z!="ANMF"&&(D+=Y)}return F}}(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,w=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],p=[y.canvas_width];for(var N=0;N<w.length&&w[N].blend!=0;N++);}var _=w[0],S=x.WebPDecodeRGBA(g,_.src_off,_.src_size,p,f);_.rgba=S,_.imgwidth=p[0],_.imgheight=f[0];for(var A=0;A<p[0]*f[0]*4;A++)m[A]=S[A];return this.width=p,this.height=f,this.data=m,this}(function(t){var e=function(){return typeof z2=="function"},r=function(f,p,m,x){var g=4,b=o;switch(x){case t.image_compression.FAST:g=1,b=s;break;case t.image_compression.MEDIUM:g=6,b=l;break;case t.image_compression.SLOW:g=9,b=c}f=n(f,p,m,b);var y=z2(f,{level:g});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(f,p,m,x){for(var g,b,y,w=f.length/p,N=new Uint8Array(f.length+w),_=d(),S=0;S<w;S+=1){if(y=S*p,g=f.subarray(y,y+p),x)N.set(x(g,m,b),y+S);else{for(var A,E=_.length,D=[];A<E;A+=1)D[A]=_[A](g,m,b);var F=h(D.concat());N.set(D[F],y+S)}b=g}return N},i=function(f){var p=Array.apply([],f);return p.unshift(0),p},s=function(f,p){var m,x=[],g=f.length;x[0]=1;for(var b=0;b<g;b+=1)m=f[b-p]||0,x[b+1]=f[b]-m+256&255;return x},o=function(f,p,m){var x,g=[],b=f.length;g[0]=2;for(var y=0;y<b;y+=1)x=m&&m[y]||0,g[y+1]=f[y]-x+256&255;return g},l=function(f,p,m){var x,g,b=[],y=f.length;b[0]=3;for(var w=0;w<y;w+=1)x=f[w-p]||0,g=m&&m[w]||0,b[w+1]=f[w]+256-(x+g>>>1)&255;return b},c=function(f,p,m){var x,g,b,y,w=[],N=f.length;w[0]=4;for(var _=0;_<N;_+=1)x=f[_-p]||0,g=m&&m[_]||0,b=m&&m[_-p]||0,y=u(x,g,b),w[_+1]=f[_]-y+256&255;return w},u=function(f,p,m){if(f===p&&p===m)return f;var x=Math.abs(p-m),g=Math.abs(f-m),b=Math.abs(f+p-m-m);return x<=g&&x<=b?f:g<=b?p:m},d=function(){return[i,s,o,l,c]},h=function(f){var p=f.map(function(m){return m.reduce(function(x,g){return x+Math.abs(g)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(f,p,m,x){var g,b,y,w,N,_,S,A,E,D,F,k,O,B,L,W=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new nme(f)).imgData,b=y.bits,g=y.colorSpace,N=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){E=(A=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,F=new Uint8Array(E*y.colors),D=new Uint8Array(E);var z,X=y.pixelBitlength-y.bits;for(B=0,L=0;B<E;B++){for(O=A[B],z=0;z<X;)F[L++]=O>>>z&255,z+=y.bits;D[B]=O>>>z&255}}if(y.bits===16){E=(A=new Uint32Array(y.decodePixels().buffer)).length,F=new Uint8Array(E*(32/y.pixelBitlength)*y.colors),D=new Uint8Array(E*(32/y.pixelBitlength)),k=y.colors>1,B=0,L=0;for(var Y=0;B<E;)O=A[B++],F[L++]=O>>>0&255,k&&(F[L++]=O>>>16&255,O=A[B++],F[L++]=O>>>0&255),D[Y++]=O>>>16&255;b=8}x!==t.image_compression.NONE&&e()?(f=r(F,y.width*y.colors,y.colors,x),S=r(D,y.width,1,x)):(f=F,S=D,W=void 0)}if(y.colorType===3&&(g=this.color_spaces.INDEXED,_=y.palette,y.transparency.indexed)){var le=y.transparency.indexed,fe=0;for(B=0,E=le.length;B<E;++B)fe+=le[B];if((fe/=255)===E-1&&le.indexOf(0)!==-1)w=[le.indexOf(0)];else if(fe!==E){for(A=y.decodePixels(),D=new Uint8Array(A.length),B=0,E=A.length;B<E;B++)D[B]=le[A[B]];S=r(D,y.width,1)}}var R=function(I){var q;switch(I){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(x);return W===this.decode.FLATE_DECODE&&($="/Predictor "+R+" "),$+="/Colors "+N+" /BitsPerComponent "+b+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:m,data:f,index:p,filter:W,decodeParameters:$,transparency:w,palette:_,sMask:S,predictor:R,width:y.width,height:y.height,bitsPerComponent:b,colorSpace:g}}}})(st.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new ime(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new _b(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(st.API),Va.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Va.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){xr.log("bit decode error:"+r)}},Va.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Va.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Va.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Va.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},Va.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},Va.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Va.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Va.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Va(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new _b(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(st.API),cA.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new cA(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new _b(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)}}(st.API),st.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=n[u],h=n[u+1],f=n[u+2],p=n[u+3];s[l++]=d,s[l++]=h,s[l++]=f,o[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},st.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Au=st.API,gm=Au.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,f=0,p=t.length,m=0,x=l[0]||c,g=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(f=h&&or(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,g.push((l[n]||x)/c+f)),m=n;return g},aA=Au.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Au.processArabic&&(t=Au.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:gm.apply(this,arguments).reduce(function(s,o){return s+o},0)},sA=function(t,e,r,n){for(var i=[],s=0,o=t.length,l=0;s!==o&&l+e[s]<r;)l+=e[s],s++;i.push(t.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>n&&(i.push(t.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},oA=function(t,e,r){r||(r={});var n,i,s,o,l,c,u,d=[],h=[d],f=r.textIndent||0,p=0,m=0,x=t.split(" "),g=gm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),y=[];x.map(function(N){(N=N.split(/\s*\n/)).length>1?y=y.concat(N.map(function(_,S){return(S&&_.length?`
`:"")+_})):y.push(N[0])}),x=y,c=aA.apply(this,[b,r])}for(s=0,o=x.length;s<o;s++){var w=0;if(n=x[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+p+(m=(i=gm.apply(this,[n,r])).reduce(function(N,_){return N+_},0))>e||w){if(m>e){for(l=sA.apply(this,[n,i,e-(f+p),e]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);m=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(N,_){return N+_},0)}else d=[n];h.push(d),f=m+c,p=g}else d.push(n),f+=p+m,p=g}return u=c?function(N,_){return(_?b:"")+N.join(" ")}:function(N){return N.join(" ")},h.map(u)},Au.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(oA.apply(this,[n[l],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var f,p,m,x,g=["{"];for(var b in h){if(f=h[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=s(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),x="-"):(m=s(f).slice(2),x=""),m=x+m.slice(0,-1)+n[m.slice(-1)];else{if(or(f)!=="object")throw new Error("Don't know what to do with value type "+or(f)+".");m=o(f)}g.push(p+m)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,m,x,g={},b=1,y=g,w=[],N="",_="",S=h.length-1,A=1;A<S;A+=1)(x=h[A])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(w.push([y,m]),y={},m=void 0):x=="}"?((p=w.pop())[0][p[1]]=y,m=void 0,y=p[0]):x=="-"?b=-1:m===void 0?r.hasOwnProperty(x)?(N+=r[x],m=parseInt(N,16)*b,b=1,N=""):N+=x:r.hasOwnProperty(x)?(_+=r[x],y[m]=parseInt(_,16)*b,b=1,m=void 0,_=""):_+=x;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(st.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Nf(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(st),function(t){function e(){return(pt.canvg?Promise.resolve(pt.canvg):Fs(()=>import("./index.es-DK4gcqU4.js"),__vite__mapDeps([0,1]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}st.API.addSvgAsImage=function(r,n,i,s,o,l,c,u){if(isNaN(n)||isNaN(i))throw xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(m){return m.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,i,s,o,c,u)})}}(),st.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},st.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function f(m,x){var g,b=!1;for(g=0;g<m.length;g+=1)m[g]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(or(t)==="object"){for(i in t)if(s=t[i],f(l,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,x=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?x.push("/"+m+" /"+r[m].value):x.push("/"+m+" "+r[m].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(st.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=s.length;h<f;++h){if(l=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(s).sort(function(p,m){return p-m})).length;h<f;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Mu(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Mu(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+Mu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var m=u();d({data:f,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Mu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Mu(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},h=s.mutex||{},f=h.pdfEscape,p=h.activeFontKey,m=h.fonts,x=p,g="",b=0,y="",w=m[x].encoding;if(m[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(y=l,x=p,Array.isArray(l)&&(y=l[0]),b=0;b<y.length;b+=1)m[x].metadata.hasOwnProperty("cmap")&&(o=m[x].metadata.cmap.unicode.codeMap[y[b].charCodeAt(0)]),o||y[b].charCodeAt(0)<256&&m[x].metadata.hasOwnProperty("Unicode")?g+=y[b]:g+="";var N="";return parseInt(x.slice(1))<14||w==="WinAnsiEncoding"?N=f(g,x).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(N=r(g,m[x])),h.isHex=!0,{text:N,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])}(st),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(st.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,l,c,u,d,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var N=function(k){var O=k.charCodeAt(),B=O>>8,L=x[B];return L!==void 0?h[256*L+(255&O)]:B===252||B===253?"AL":b.test(B)?"L":B===8?"R":"N"},_=function(k){for(var O,B=0;B<k.length;B++){if((O=N(k.charAt(B)))==="L")return!1;if(O==="R")return!0}return!1},S=function(k,O,B,L){var W,$,z,X,Y=O[L];switch(Y){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(Y="AN");break;case"AL":y=!0,Y="R";break;case"WS":Y="N";break;case"CS":L<1||L+1>=O.length||(W=B[L-1])!=="EN"&&W!=="AN"||($=O[L+1])!=="EN"&&$!=="AN"?Y="N":y&&($="AN"),Y=$===W?$:"N";break;case"ES":Y=(W=L>0?B[L-1]:"B")==="EN"&&L+1<O.length&&O[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&B[L-1]==="EN"){Y="EN";break}if(y){Y="N";break}for(z=L+1,X=O.length;z<X&&O[z]==="ET";)z++;Y=z<X&&O[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(X=O.length,z=L+1;z<X&&O[z]==="NSM";)z++;if(z<X){var le=k[L],fe=le>=1425&&le<=2303||le===64286;if(W=O[z],fe&&(W==="R"||W==="AL")){Y="R";break}}}Y=L<1||(W=O[L-1])==="B"?"N":B[L-1];break;case"B":y=!1,i=!0,Y=w;break;case"S":s=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":Y="N"}return Y},A=function(k,O,B){var L=k.split("");return B&&E(L,B,{hiLevel:w}),L.reverse(),O&&O.reverse(),L.join("")},E=function(k,O,B){var L,W,$,z,X,Y=-1,le=k.length,fe=0,R=[],I=w?p:f,q=[];for(y=!1,i=!1,s=!1,W=0;W<le;W++)q[W]=N(k[W]);for($=0;$<le;$++){if(X=fe,R[$]=S(k,q,R,$),L=240&(fe=I[X][m[R[$]]]),fe&=15,O[$]=z=I[fe][5],L>0)if(L===16){for(W=Y;W<$;W++)O[W]=1;Y=-1}else Y=-1;if(I[fe][6])Y===-1&&(Y=$);else if(Y>-1){for(W=Y;W<$;W++)O[W]=z;Y=-1}q[$]==="B"&&(O[$]=0),B.hiLevel|=z}s&&function(Q,J,de){for(var ve=0;ve<de;ve++)if(Q[ve]==="S"){J[ve]=w;for(var ue=ve-1;ue>=0&&Q[ue]==="WS";ue--)J[ue]=w}}(q,O,le)},D=function(k,O,B,L,W){if(!(W.hiLevel<k)){if(k===1&&w===1&&!i)return O.reverse(),void(B&&B.reverse());for(var $,z,X,Y,le=O.length,fe=0;fe<le;){if(L[fe]>=k){for(X=fe+1;X<le&&L[X]>=k;)X++;for(Y=fe,z=X-1;Y<z;Y++,z--)$=O[Y],O[Y]=O[z],O[z]=$,B&&($=B[Y],B[Y]=B[z],B[z]=$);fe=X}fe++}}},F=function(k,O,B){var L=k.split(""),W={hiLevel:w};return B||(B=[]),E(L,B,W),function($,z,X){if(X.hiLevel!==0&&d)for(var Y,le=0;le<$.length;le++)z[le]===1&&(Y=g.indexOf($[le]))>=0&&($[le]=g[Y+1])}(L,B,W),D(2,L,O,B,W),D(1,L,O,B,W),L.join("")};return this.__bidiEngine__.doBidiReorder=function(k,O,B){if(function(W,$){if($)for(var z=0;z<W.length;z++)$[z]=z;l===void 0&&(l=_(W)),u===void 0&&(u=_(W))}(k,O),o||!c||u)if(o&&c&&l^u)w=l?1:0,k=A(k,O,B);else if(!o&&c&&u)w=l?1:0,k=F(k,O,B),k=A(k,O);else if(!o||l||c||u){if(o&&!c&&l^u)k=A(k,O),l?(w=0,k=F(k,O,B)):(w=1,k=F(k,O,B),k=A(k,O));else if(o&&l&&!c&&u)w=1,k=F(k,O,B),k=A(k,O);else if(!o&&!c&&l^u){var L=d;l?(w=1,k=F(k,O,B),w=0,d=!1,k=F(k,O,B),d=L):(w=0,k=F(k,O,B),k=A(k,O),w=1,d=!1,k=F(k,O,B),d=L,k=A(k,O))}}else w=0,k=F(k,O,B);else w=l?1:0,k=F(k,O,B);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new wl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new bme(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ame(this.contents),this.head=new ome(this),this.name=new hme(this),this.cmap=new ck(this),this.toUnicode={},this.hhea=new lme(this),this.maxp=new fme(this),this.hmtx=new pme(this),this.post=new ume(this),this.os2=new cme(this),this.loca=new vme(this),this.glyf=new mme(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ls,wl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),ame=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,l,c,u,d,h,f,p,m,x;for(x in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),d=16*p-h,(i=new wl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(o),i.writeShort(d),s=16*p,u=i.pos+s,l=null,m=[],r)for(f=r[x],i.writeString(x),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),m=m.concat(f),x==="head"&&(l=u),u+=f.length;u%4;)m.push(0),u++;return i.write(m),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=uk.call(r);r.length%4;)r.push(0);for(s=new wl(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),sme={}.hasOwnProperty,qs=function(t,e){for(var r in e)sme.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ls=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ome=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new wl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),uA=function(){function t(e,r){var n,i,s,o,l,c,u,d,h,f,p,m,x,g,b,y,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,s=function(){var N,_;for(_=[],c=N=0;0<=f?N<f:N>f;c=0<=f?++N:--N)_.push(e.readUInt16());return _}(),e.pos+=2,x=function(){var N,_;for(_=[],c=N=0;0<=f?N<f:N>f;c=0<=f?++N:--N)_.push(e.readUInt16());return _}(),u=function(){var N,_;for(_=[],c=N=0;0<=f?N<f:N>f;c=0<=f?++N:--N)_.push(e.readUInt16());return _}(),d=function(){var N,_;for(_=[],c=N=0;0<=f?N<f:N>f;c=0<=f?++N:--N)_.push(e.readUInt16());return _}(),i=(this.length-e.pos+this.offset)/2,l=function(){var N,_;for(_=[],c=N=0;0<=i?N<i:N>i;c=0<=i?++N:--N)_.push(e.readUInt16());return _}(),c=b=0,w=s.length;b<w;c=++b)for(g=s[c],n=y=m=x[c];m<=g?y<=g:y>=g;n=m<=g?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-m)-(f-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,i,s,o,l,c,u,d,h,f,p,m,x,g,b,y,w,N,_,S,A,E,D,F,k,O,B,L,W,$,z,X,Y,le,fe,R,I,q,Q,J,de,ve,ue,Oe,Ee,ae;switch(L=new wl,o=Object.keys(e).sort(function(Pe,De){return Pe-De}),r){case"macroman":for(x=0,g=function(){var Pe=[];for(m=0;m<256;++m)Pe.push(0);return Pe}(),y={0:0},s={},W=0,Y=o.length;W<Y;W++)y[ue=e[i=o[W]]]==null&&(y[ue]=++x),s[i]={old:e[i],new:y[e[i]]},g[i]=y[e[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(g),{charMap:s,subtable:L.data,maxGlyphID:x+1};case"unicode":for(O=[],h=[],w=0,y={},n={},b=u=null,$=0,le=o.length;$<le;$++)y[_=e[i=o[$]]]==null&&(y[_]=++w),n[i]={old:_,new:y[_]},l=y[_]-i,b!=null&&l===u||(b&&h.push(b),O.push(i),u=l),b=i;for(b&&h.push(b),h.push(65535),O.push(65535),F=2*(D=O.length),E=2*Math.pow(Math.log(D)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,A=2*D-E,c=[],S=[],p=[],m=z=0,fe=O.length;z<fe;m=++z){if(k=O[m],d=h[m],k===65535){c.push(0),S.push(0);break}if(k-(B=n[k].new)>=32768)for(c.push(0),S.push(2*(p.length+D-m)),i=X=k;k<=d?X<=d:X>=d;i=k<=d?++X:--X)p.push(n[i].new);else c.push(B-k),S.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*D+2*p.length),L.writeUInt16(0),L.writeUInt16(F),L.writeUInt16(E),L.writeUInt16(f),L.writeUInt16(A),de=0,R=h.length;de<R;de++)i=h[de],L.writeUInt16(i);for(L.writeUInt16(0),ve=0,I=O.length;ve<I;ve++)i=O[ve],L.writeUInt16(i);for(Oe=0,q=c.length;Oe<q;Oe++)l=c[Oe],L.writeUInt16(l);for(Ee=0,Q=S.length;Ee<Q;Ee++)N=S[Ee],L.writeUInt16(N);for(ae=0,J=p.length;ae<J;ae++)x=p[ae],L.writeUInt16(x);return{charMap:n,subtable:L.data,maxGlyphID:w+1}}},t}(),ck=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new uA(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=uA.encode(r,n),(s=new wl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),lme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),cme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),ume=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},e}(),dme=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,o,l,c,u,d,h,f,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=h=0,f=i.length;h<f;o=++h)s=i[o],r.pos=s.offset,d=r.readString(s.length),l=new dme(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),fme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),pme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)h.push(r.readInt16());return h}(),this.widths=(function(){var d,h,f,p;for(p=[],d=0,h=(f=this.metrics).length;d<h;d++)o=f[d],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),uk=[].slice,mme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,o,l,c,u,d,h,f;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,l=(c=new wl(n.read(s))).readShort(),d=c.readShort(),f=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new gme(c,d,f,u,h):new xme(c,l,d,f,u,h),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)s=r[n[c]],o.push(l.length),s&&(l=l.concat(s.encode(i)));return o.push(l.length),{table:l,offsets:o}},e}(),xme=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),gme=function(){function t(e,r,n,i,s){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new wl(uk.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),vme=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return qs(e,ls),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<i.length;++l)if(i[l]=s,o<n.length&&n[o]==l){++o,i[l]=s;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(s+=u)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),bme=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,l,c,u,d,h,f,p,m,x,g,b;for(i in n=ck.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},b=n.charMap)p[(c=b[i]).old]=c.new;for(m in f=n.maxGlyphID,o)m in p||(p[m]=f++);return d=function(y){var w,N;for(w in N={},y)N[y[w]]=w;return N}(p),h=Object.keys(d).sort(function(y,w){return y-w}),x=function(){var y,w,N;for(N=[],y=0,w=h.length;y<w;y++)l=h[y],N.push(d[l]);return N}(),s=this.font.glyf.encode(o,x,p),u=this.font.loca.encode(s.offsets,x),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();st.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();const yme=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Jpe,AcroFormAppearance:et,AcroFormButton:yn,AcroFormCheckBox:Af,AcroFormChoiceField:mc,AcroFormComboBox:gc,AcroFormEditBox:_f,AcroFormListBox:xc,AcroFormPasswordField:Cf,AcroFormPushButton:Sf,AcroFormRadioButton:vc,AcroFormTextField:pl,GState:w0,ShadingPattern:ll,TilingPattern:uc,default:st,jsPDF:st},Symbol.toStringTag,{value:"Module"}));function wme(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function jme(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Nme=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_me=function(t){Nme(e,t);function e(r,n){var i=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),wme(s,i.prototype),jme(s),s}return e}(Error),Sme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vi=function(t){Sme(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(_me),Ame=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jr=function(t){Ame(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Vi),Cme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(t){Cme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Vi),dk=function(){function t(e){if(this.binarizer=e,e===null)throw new lt("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var s=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(s))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Eme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),un=function(t){Eme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Vi),Ome=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Sr=function(){function t(){}return t.arraycopy=function(e,r,n,i,s){for(;s--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Pme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X5=function(t){Pme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Vi),kme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dA=function(t){kme(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(X5),Tme=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_n=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var s=r;s<n;s++)e[s]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new lt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new dA(r);if(n>e)throw new dA(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var s=Tme(e),o=s.next();!o.done;o=s.next()){var l=o.value;i=31*i+l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,s=new Int32Array(i);return Sr.arraycopy(e,r,s,0,i),s},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,s=e.length-1;i<=s;){var o=s+i>>1,l=n(r,e[o]);if(l>0)i=o+1;else if(l<0)s=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),kt=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),$n=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Sr.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=n[i];s&=~((1<<(e&31))-1);for(var o=n.length;s===0;){if(++i===o)return r;s=n[i]}var l=i*32+kt.numberOfTrailingZeros(s);return l>r?r:l},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=~n[i];s&=~((1<<(e&31))-1);for(var o=n.length;s===0;){if(++i===o)return r;s=~n[i]}var l=i*32+kt.numberOfTrailingZeros(s);return l>r?r:l},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new lt;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,o=n;o<=i;o++){var l=o>n?0:e&31,c=o<i?31:r&31,u=(2<<c)-(1<<l);s[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new lt;if(r===e)return!0;r--;for(var i=Math.floor(e/32),s=Math.floor(r/32),o=this.bits,l=i;l<=s;l++){var c=l>i?0:e&31,u=l<s?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((o[l]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new lt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new lt("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var s=0;s<i;s++){for(var o=0,l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;r[n+s]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,s=0;s<n;s++){var o=i[s];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-s]=o}if(this.size!==n*32){for(var l=n*32-this.size,c=e[0]>>>l,s=1;s<n;s++){var u=e[s];c|=u<<32-l,e[s-1]=c,c=u>>>l}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&_n.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+_n.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),X2;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(X2||(X2={}));const Ar=X2;var Ime=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qe=function(t){Ime(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Vi),Dme=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ir;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(ir||(ir={}));var jn=function(){function t(e,r,n){for(var i,s,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var h=c[u];t.VALUES_TO_ECI.set(h,this)}try{for(var f=Dme(o),p=f.next();!p.done;p=f.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new qe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new qe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new qe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(ir.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(ir.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(ir.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(ir.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(ir.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(ir.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(ir.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(ir.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(ir.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(ir.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(ir.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(ir.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(ir.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(ir.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(ir.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(ir.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(ir.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(ir.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(ir.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(ir.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(ir.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(ir.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(ir.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(ir.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(ir.Big5,28,"Big5"),t.GB18030=new t(ir.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(ir.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Mme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fm=function(t){Mme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Vi),Ea=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof jn?e:jn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",s=0,o=e.length;s<o;s++){var l=e[s].toString(16);l.length<2&&(l="0"+l),i+="%"+l}return decodeURIComponent(i)}if(n.equals(jn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Fm("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(jn.UTF8)||e.equals(jn.ISO8859_1)||e.equals(jn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)},t}(),zt=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Ea.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Ar.CHARACTER_SET)!==void 0)return r.get(Ar.CHARACTER_SET).toString();for(var n=e.length,i=!0,s=!0,o=!0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,x=0,g=0,b=0,y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(i||s||o);w++){var N=e[w]&255;o&&(l>0?N&128?l--:o=!1:N&128&&(N&64?(l++,N&32?(l++,N&16?(l++,N&8?o=!1:d++):u++):c++):o=!1)),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&b++),s&&(h>0?N<64||N===127||N>252?s=!1:h--:N===128||N===160||N>239?s=!1:N>160&&N<224?(f++,m=0,p++,p>x&&(x=p)):N>127?(h++,p=0,m++,m>g&&(g=m)):(p=0,m=0))}return o&&l>0&&(o=!1),s&&h>0&&(s=!1),o&&(y||c+u+d>0)?t.UTF8:s&&(t.ASSUME_SHIFT_JIS||x>=3||g>=3)?t.SHIFT_JIS:i&&s?x===2&&f===2||b*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:s?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function s(l,c,u,d,h,f){if(l==="%%")return"%";if(r[++i]!==void 0){l=d?parseInt(d.substr(1)):void 0;var p=h?parseInt(h.substr(1)):void 0,m;switch(f){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(l);break;case"p":m=parseFloat(r[i]).toPrecision(l);break;case"e":m=parseFloat(r[i]).toExponential(l);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(l)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var x=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";m.length<x;)m=c!==void 0?m+g:g+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)},t.getBytes=function(e,r){return Ea.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=jn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=jn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=jn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Ot=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=zt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Bs=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new lt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),s=0;s<r;s++)for(var o=e[s],l=0;l<n;l++)o[l]&&i.set(l,s);return i},t.parseFromString=function(e,r,n){if(e===null)throw new lt("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,o=0,l=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(s>o){if(l===-1)l=s-o;else if(s-o!==l)throw new lt("row lengths do not match");o=s,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[s]=!0,s++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[s]=!1,s++;else throw new lt("illegal character encountered: "+e.substring(u));if(s>o){if(l===-1)l=s-o;else if(s-o!==l)throw new lt("row lengths do not match");c++}for(var d=new t(l,c),h=0;h<s;h++)i[h]&&d.set(Math.floor(h%l),Math.floor(h/l));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new lt("input matrix dimensions do not match");for(var r=new $n(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,s=0,o=this.height;s<o;s++)for(var l=s*n,c=e.getRow(s,r).getBitArray(),u=0;u<n;u++)i[l+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new lt("Left and top must be nonnegative");if(i<1||n<1)throw new lt("Height and width must be at least 1");var s=e+n,o=r+i;if(o>this.height||s>this.width)throw new lt("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,u=r;u<o;u++)for(var d=u*l,h=e;h<s;h++)c[d+Math.floor(h/32)]|=1<<(h&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new $n(this.width):r.clear();for(var n=this.rowSize,i=this.bits,s=e*n,o=0;o<n;o++)r.setBulk(o*32,i[s+o]);return r},t.prototype.setRow=function(e,r){Sr.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new $n(e),i=new $n(e),s=0,o=Math.floor((r+1)/2);s<o;s++)n=this.getRow(s,n),i=this.getRow(r-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(r-1-s,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,s=e,o=r,l=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var h=i[u*n+d];if(h!==0){if(u<o&&(o=u),u>c&&(c=u),d*32<s){for(var f=0;!(h<<31-f&4294967295);)f++;d*32+f<s&&(s=d*32+f)}if(d*32+31>l){for(var f=31;!(h>>>f);)f--;d*32+f>l&&(l=d*32+f)}}}return l<s||c<o?null:Int32Array.from([s,o,l-s+1,c-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,s=n%e*32,o=r[n],l=0;!(o<<31-l&4294967295);)l++;return s+=l,Int32Array.from([s,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),s=Math.floor(n%e)*32,o=r[n],l=31;!(o>>>l);)l--;return s+=l,Int32Array.from([s,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&_n.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+_n.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Ot,s=0,o=this.height;s<o;s++){for(var l=0,c=this.width;l<c;l++)i.append(this.get(l,s)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Lme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(t){Lme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Vi),Rme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fme=function(t){Rme(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),s=i.getWidth();n==null||n.getSize()<s?n=new $n(s):n.clear(),this.initArrays(s);for(var o=i.getRow(r,this.luminances),l=this.buckets,c=0;c<s;c++)l[(o[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(l);if(s<3)for(var c=0;c<s;c++)(o[c]&255)<u&&n.set(c);else for(var d=o[0]&255,h=o[1]&255,c=1;c<s-1;c++){var f=o[c+1]&255;(h*4-d-f)/2<u&&n.set(c),d=h,h=f}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),s=new Bs(n,i);this.initArrays(n);for(var o=this.buckets,l=1;l<5;l++)for(var c=Math.floor(i*l/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),h=Math.floor(n/5);h<d;h++){var f=u[h]&255;o[f>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),m=r.getMatrix(),l=0;l<i;l++)for(var x=l*n,h=0;h<n;h++){var f=m[x+h]&255;f<p&&s.set(h,l)}return s},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,s=0,o=0,l=0;l<n;l++)r[l]>o&&(s=l,o=r[l]),r[l]>i&&(i=r[l]);for(var c=0,u=0,l=0;l<n;l++){var d=l-s,h=r[l]*d*d;h>u&&(c=l,u=h)}if(s>c){var f=s;s=c,c=f}if(c-s<=n/16)throw new Ie;for(var p=c-1,m=-1,l=c-1;l>s;l--){var x=l-s,h=x*x*(c-l)*(i-r[l]);h>m&&(p=l,m=h)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Ome),Bme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hk=function(t){Bme(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var l=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&l++;var c=e.calculateBlackPoints(s,o,l,n,i),u=new Bs(n,i);e.calculateThresholdForBlock(s,o,l,n,i,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,s,o,l,c){for(var u=o-e.BLOCK_SIZE,d=s-e.BLOCK_SIZE,h=0;h<i;h++){var f=h<<e.BLOCK_SIZE_POWER;f>u&&(f=u);for(var p=e.cap(h,2,i-3),m=0;m<n;m++){var x=m<<e.BLOCK_SIZE_POWER;x>d&&(x=d);for(var g=e.cap(m,2,n-3),b=0,y=-2;y<=2;y++){var w=l[p+y];b+=w[g-2]+w[g-1]+w[g]+w[g+1]+w[g+2]}var N=b/25;e.thresholdBlock(r,x,f,N,s,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,s,o,l){for(var c=0,u=i*o+n;c<e.BLOCK_SIZE;c++,u+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=s&&l.set(n+d,i+c)},e.calculateBlackPoints=function(r,n,i,s,o){for(var l=o-e.BLOCK_SIZE,c=s-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var h=d<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var f=0;f<n;f++){var p=f<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,x=255,g=0,b=0,y=h*s+p;b<e.BLOCK_SIZE;b++,y+=s){for(var w=0;w<e.BLOCK_SIZE;w++){var N=r[y+w]&255;m+=N,N<x&&(x=N),N>g&&(g=N)}if(g-x>e.MIN_DYNAMIC_RANGE)for(b++,y+=s;b<e.BLOCK_SIZE;b++,y+=s)for(var w=0;w<e.BLOCK_SIZE;w++)m+=r[y+w]&255}var _=m>>e.BLOCK_SIZE_POWER*2;if(g-x<=e.MIN_DYNAMIC_RANGE&&(_=x/2,d>0&&f>0)){var S=(u[d-1][f]+2*u[d][f-1]+u[d-1][f-1])/4;x<S&&(_=S)}u[d][f]=_}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Fme),H0=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Fm("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Fm("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Fm("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Ot,n=0;n<this.height;n++){for(var i=this.getRow(n,e),s=0;s<this.width;s++){var o=i[s]&255,l=void 0;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},t}(),$me=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gg=function(t){$me(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),s=this.getWidth(),o=0;o<s;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),s=0;s<n;s++)i[s]=255-(r[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,s){return new e(this.delegate.crop(r,n,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(H0),zme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ume=function(t){zme(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,s){s===void 0&&(s=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var l=0,c=0,u=r.length;l<u;l+=4,c++){var d=void 0,h=r[l+3];if(h===0)d=255;else{var f=r[l],p=r[l+1],m=r[l+2];d=306*f+601*p+117*m+512>>10}o[c]=d}else for(var l=0,c=0,x=r.length;l<x;l+=4,c++){var d=void 0,h=r[l+3];if(h===0)d=255;else{var f=r[l],p=r[l+1],m=r[l+2];d=306*f+601*p+117*m+512>>10}o[c]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),s=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*l),u=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*l);return n.width=c,n.height=u,i.translate(c/2,u/2),i.rotate(s),i.drawImage(this.canvas,o/-2,l/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new gg(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(H0),Hme=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),vi=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},bi=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qme=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nh=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return vi(this,void 0,void 0,function(){var e,r,n,i,s,o,l,c,u,d,h,f;return bi(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=qme(e),i=n.next();!i.done;i=n.next())s=i.value,o=s.kind==="video"?"videoinput":s.kind,o==="videoinput"&&(l=s.deviceId||s.id,c=s.label||"Video device "+(r.length+1),u=s.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){h={error:m}}finally{try{i&&!i.done&&(f=n.return)&&f.call(n)}finally{if(h)throw h.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return vi(this,void 0,void 0,function(){var e;return bi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Hme(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return vi(this,void 0,void 0,function(){var r;return bi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return vi(this,void 0,void 0,function(){return bi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return vi(this,void 0,void 0,function(){var n,i;return bi(this,function(s){switch(s.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return vi(this,void 0,void 0,function(){var n;return bi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return vi(this,void 0,void 0,function(){var n,i;return bi(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=s.sent(),[4,this.decodeOnce(n)];case 2:return i=s.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return vi(this,void 0,void 0,function(){return bi(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return vi(this,void 0,void 0,function(){var i,s;return bi(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return vi(this,void 0,void 0,function(){var i;return bi(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,s.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return vi(this,void 0,void 0,function(){var i;return bi(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,s.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return vi(this,void 0,void 0,function(){var n;return bi(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return vi(this,void 0,void 0,function(){return bi(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Jr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Jr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Jr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Jr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Jr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Jr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Jr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Jr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Jr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Jr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return vi(this,void 0,void 0,function(){return bi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return vi(this,void 0,void 0,function(){return bi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var s=function(o,l){if(i._stopAsyncDecode){l(new Ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);o(c)}catch(f){var u=r&&f instanceof Ie,d=f instanceof un||f instanceof qe,h=d&&n;if(u||h)return setTimeout(s,i._timeBetweenDecodingAttempts,o,l);l(f)}};return new Promise(function(o,l){return s(o,l)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var s=n.decode(e);r(s,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var o=c instanceof un||c instanceof qe,l=c instanceof Ie;(o||l)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Ume(n,r),s=new hk(i);return new dk(s)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),fi=function(){function t(e,r,n,i,s,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Sr.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,o==null?this.timestamp=Sr.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Sr.arraycopy(r,0,n,0,r.length),Sr.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Y2;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Y2||(Y2={}));const ot=Y2;var K2;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(K2||(K2={}));const Jn=K2;var vg=function(){function t(e,r,n,i,s,o){s===void 0&&(s=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),lf=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new lt;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),ml=function(){function t(e,r){if(r.length===0)throw new lt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Sr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,s=r.length;i!==s;i++){var o=r[i];n=lf.addOrSubtract(n,o)}return n}n=r[0];for(var l=r.length,c=this.field,i=1;i<l;i++)n=lf.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),o=n.length-r.length;Sr.arraycopy(n,0,s,0,o);for(var l=o;l<n.length;l++)s[l]=lf.addOrSubtract(r[l-o],n[l]);return new t(this.field,s)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,o=new Int32Array(n+s-1),l=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<s;d++)o[c+d]=lf.addOrSubtract(o[c+d],l.multiply(u,i[d]));return new t(l,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),s=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(s[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new lt;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,s=new Int32Array(i+e),o=this.field,l=0;l<i;l++)s[l]=o.multiply(n[l],r);return new t(o,s)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new lt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new lt("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,s=e.getCoefficient(e.getDegree()),o=r.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var l=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(l,c),d=r.buildMonomial(l,c);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),Wme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fk=function(t){Wme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Vi),Vme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$i=function(t){Vme(e,t);function e(r,n,i){var s=t.call(this)||this;s.primitive=r,s.size=n,s.generatorBase=i;for(var o=new Int32Array(n),l=1,c=0;c<n;c++)o[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);s.expTable=o;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[o[c]]=c;return s.logTable=u,s.zero=new ml(s,Int32Array.from([0])),s.one=new ml(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new lt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new ml(this,i)},e.prototype.inverse=function(r){if(r===0)throw new fk;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+kt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(lf),Gme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vm=function(t){Gme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Vi),Xme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q0=function(t){Xme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Vi),bg=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new ml(n,e),s=new Int32Array(r),o=!0,l=0;l<r;l++){var c=i.evaluateAt(n.exp(l+n.getGeneratorBase()));s[s.length-1-l]=c,c!==0&&(o=!1)}if(!o)for(var u=new ml(n,s),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),h=d[0],f=d[1],p=this.findErrorLocations(h),m=this.findErrorMagnitudes(f,p),l=0;l<p.length;l++){var x=e.length-1-n.log(p[l]);if(x<0)throw new vm("Bad error location");e[x]=$i.addOrSubtract(e[x],m[l])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=this.field,o=e,l=r,c=s.getZero(),u=s.getOne();l.getDegree()>=(n/2|0);){var d=o,h=c;if(o=l,c=u,o.isZero())throw new vm("r_{i-1} was zero");l=d;for(var f=s.getZero(),p=o.getCoefficient(o.getDegree()),m=s.inverse(p);l.getDegree()>=o.getDegree()&&!l.isZero();){var x=l.getDegree()-o.getDegree(),g=s.multiply(l.getCoefficient(l.getDegree()),m);f=f.addOrSubtract(s.buildMonomial(x,g)),l=l.addOrSubtract(o.multiplyByMonomial(x,g))}if(u=f.multiply(c).addOrSubtract(h),l.getDegree()>=o.getDegree())throw new q0("Division algorithm failed to reduce polynomial?")}var b=u.getCoefficient(0);if(b===0)throw new vm("sigmaTilde(0) was zero");var y=s.inverse(b),w=u.multiplyScalar(y),N=l.multiplyScalar(y);return[w,N]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,s=this.field,o=1;o<s.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=s.inverse(o),i++);if(i!==r)throw new vm("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),s=this.field,o=0;o<n;o++){for(var l=s.inverse(r[o]),c=1,u=0;u<n;u++)if(o!==u){var d=s.multiply(r[u],l),h=d&1?d&-2:d|1;c=s.multiply(c,h)}i[o]=s.multiply(e.evaluateAt(l),s.inverse(c)),s.getGeneratorBase()!==0&&(i[o]=s.multiply(i[o],l))}return i},t}(),Vn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Vn||(Vn={}));var hA=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),s=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),l=new vg(s,o,null,null);return l.setNumBits(i.length),l},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Vn.UPPER,i=Vn.UPPER,s="",o=0;o<r;)if(i===Vn.BINARY){if(r-o<5)break;var l=t.readCode(e,o,5);if(o+=5,l===0){if(r-o<11)break;l=t.readCode(e,o,11)+31,o+=11}for(var c=0;c<l;c++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);s+=zt.castAsNonUtf8Char(u),o+=8}i=n}else{var d=i===Vn.DIGIT?4:5;if(r-o<d)break;var u=t.readCode(e,o,d);o+=d;var h=t.getCharacter(i,u);h.startsWith("CTRL_")?(n=i,i=t.getTable(h.charAt(5)),h.charAt(6)==="L"&&(n=i)):(s+=h,i=n)}return s},t.getTable=function(e){switch(e){case"L":return Vn.LOWER;case"P":return Vn.PUNCT;case"M":return Vn.MIXED;case"D":return Vn.DIGIT;case"B":return Vn.BINARY;case"U":default:return Vn.UPPER}},t.getCharacter=function(e,r){switch(e){case Vn.UPPER:return t.UPPER_TABLE[r];case Vn.LOWER:return t.LOWER_TABLE[r];case Vn.MIXED:return t.MIXED_TABLE[r];case Vn.PUNCT:return t.PUNCT_TABLE[r];case Vn.DIGIT:return t.DIGIT_TABLE[r];default:throw new q0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=$i.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=$i.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=$i.AZTEC_DATA_10):(n=12,r=$i.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/n;if(s<i)throw new qe;for(var o=e.length%n,l=new Int32Array(s),c=0;c<s;c++,o+=n)l[c]=t.readCode(e,o,n);try{var u=new bg(r);u.decode(l,s-i)}catch(g){throw new qe(g)}for(var d=(1<<n)-1,h=0,c=0;c<i;c++){var f=l[c];if(f===0||f===d)throw new qe;(f===1||f===d-1)&&h++}for(var p=new Array(i*n-h),m=0,c=0;c<i;c++){var f=l[c];if(f===1||f===d-1)p.fill(f>1,m,m+n-1),m+=n-1;else for(var x=n-1;x>=0;--x)p[m++]=(f&1<<x)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,s=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<s.length;l++)s[l]=l;else for(var c=i+1+2*kt.truncDivision(kt.truncDivision(i,2)-1,15),u=i/2,d=kt.truncDivision(c,2),l=0;l<u;l++){var h=l+kt.truncDivision(l,15);s[u-l-1]=d-h-1,s[u+l]=d+h+1}for(var l=0,f=0;l<n;l++){for(var p=(n-l)*4+(r?9:12),m=l*2,x=i-1-m,g=0;g<p;g++)for(var b=g*2,y=0;y<2;y++)o[f+b+y]=e.get(s[m+y],s[m+g]),o[f+2*p+b+y]=e.get(s[m+g],s[x-y]),o[f+4*p+b+y]=e.get(s[x-y],s[x-g]),o[f+6*p+b+y]=e.get(s[x-g],s[m+y]);f+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,s=r;s<r+n;s++)i<<=1,e[s]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Wt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var s=e-n,o=r-i;return Math.sqrt(s*s+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var s=e[n];r+=s}return r},t}(),J2=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),nt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*J2.floatToIntBits(this.x)+J2.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,o,l;if(n>=r&&n>=i?(o=e[0],s=e[1],l=e[2]):i>=n&&i>=r?(o=e[1],s=e[0],l=e[2]):(o=e[2],s=e[0],l=e[1]),this.crossProductZ(s,o,l)<0){var c=s;s=l,l=c}e[0]=s,e[1]=o,e[2]=l},t.distance=function(e,r){return Wt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,s=r.y;return(n.x-i)*(e.y-s)-(n.y-s)*(e.x-i)},t}(),Y5=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Yme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kme=function(t){Yme(e,t);function e(r,n,i,s,o){var l=t.call(this,r,n)||this;return l.compact=i,l.nbDatablocks=s,l.nbLayers=o,l}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Y5),Z2=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=r/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ie}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,s=!1,o=!0,l=!1,c=!1,u=!1,d=!1,h=!1,f=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!c)&&r<f;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,o=!0,c=!0):c||r++;if(r>=f){s=!0;break}for(var x=!0;(x||!u)&&i<p;)x=this.containsBlackPoint(e,r,i,!0),x?(i++,o=!0,u=!0):u||i++;if(i>=p){s=!0;break}for(var g=!0;(g||!d)&&e>=0;)g=this.containsBlackPoint(n,i,e,!1),g?(e--,o=!0,d=!0):d||e--;if(e<0){s=!0;break}for(var b=!0;(b||!h)&&n>=0;)b=this.containsBlackPoint(e,r,n,!0),b?(n--,o=!0,h=!0):h||n--;if(n<0){s=!0;break}o&&(l=!0)}if(!s&&l){for(var y=r-e,w=null,N=1;w===null&&N<y;N++)w=this.getBlackPointOnSegment(e,i-N,e+N,i);if(w==null)throw new Ie;for(var _=null,N=1;_===null&&N<y;N++)_=this.getBlackPointOnSegment(e,n+N,e+N,n);if(_==null)throw new Ie;for(var S=null,N=1;S===null&&N<y;N++)S=this.getBlackPointOnSegment(r,n+N,r-N,n);if(S==null)throw new Ie;for(var A=null,N=1;A===null&&N<y;N++)A=this.getBlackPointOnSegment(r,i-N,r-N,i);if(A==null)throw new Ie;return this.centerEdges(A,w,S,_)}else throw new Ie},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var s=Wt.round(Wt.distance(e,r,n,i)),o=(n-e)/s,l=(i-r)/s,c=this.image,u=0;u<s;u++){var d=Wt.round(e+u*o),h=Wt.round(r+u*l);if(c.get(d,h))return new nt(d,h)}return null},t.prototype.centerEdges=function(e,r,n,i){var s=e.getX(),o=e.getY(),l=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),h=i.getX(),f=i.getY(),p=t.CORR;return s<this.width/2?[new nt(h-p,f+p),new nt(l+p,c+p),new nt(u-p,d-p),new nt(s+p,o-p)]:[new nt(h+p,f+p),new nt(l+p,c-p),new nt(u-p,d+p),new nt(s-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var s=this.image;if(i){for(var o=e;o<=r;o++)if(s.get(o,n))return!0}else for(var l=e;l<=r;l++)if(s.get(n,l))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),fA=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),s=!0,o=0;o<r.length&&s;o+=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new Ie;s=!1,l===-1?(r[o]=0,s=!0):l===n&&(r[o]=n-1,s=!0),c===-1?(r[o+1]=0,s=!0):c===i&&(r[o+1]=i-1,s=!0)}s=!0;for(var o=r.length-2;o>=0&&s;o-=2){var l=Math.floor(r[o]),c=Math.floor(r[o+1]);if(l<-1||l>n||c<-1||c>i)throw new Ie;s=!1,l===-1?(r[o]=0,s=!0):l===n&&(r[o]=n-1,s=!0),c===-1?(r[o+1]=0,s=!0):c===i&&(r[o+1]=i-1,s=!0)}},t}(),pk=function(){function t(e,r,n,i,s,o,l,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=s,this.a32=o,this.a13=l,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,s,o,l,c,u,d,h,f,p,m,x,g){var b=t.quadrilateralToSquare(e,r,n,i,s,o,l,c),y=t.squareToQuadrilateral(u,d,h,f,p,m,x,g);return y.times(b)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,s=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,h=this.a33,f=0;f<r;f+=2){var p=e[f],m=e[f+1],x=s*p+c*m+h;e[f]=(n*p+o*m+u)/x,e[f+1]=(i*p+l*m+d)/x}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,s=this.a13,o=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,h=this.a33,f=e.length,p=0;p<f;p++){var m=e[p],x=r[p],g=s*m+c*x+h;e[p]=(n*m+o*x+u)/g,r[p]=(i*m+l*x+d)/g}},t.squareToQuadrilateral=function(e,r,n,i,s,o,l,c){var u=e-n+s-l,d=r-i+o-c;if(u===0&&d===0)return new t(n-e,s-n,e,i-r,o-i,r,0,0,1);var h=n-s,f=l-s,p=i-o,m=c-o,x=h*m-f*p,g=(u*m-f*d)/x,b=(h*d-u*p)/x;return new t(n-e+g*n,l-e+b*l,e,i-r+g*i,c-r+b*c,r,g,b,1)},t.quadrilateralToSquare=function(e,r,n,i,s,o,l,c){return t.squareToQuadrilateral(e,r,n,i,s,o,l,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Jme=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zme=function(t){Jme(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,s,o,l,c,u,d,h,f,p,m,x,g,b,y,w,N){var _=pk.quadrilateralToQuadrilateral(s,o,l,c,u,d,h,f,p,m,x,g,b,y,w,N);return this.sampleGridWithTransform(r,n,i,_)},e.prototype.sampleGridWithTransform=function(r,n,i,s){if(n<=0||i<=0)throw new Ie;for(var o=new Bs(n,i),l=new Float32Array(2*n),c=0;c<i;c++){for(var u=l.length,d=c+.5,h=0;h<u;h+=2)l[h]=h/2+.5,l[h+1]=d;s.transformPoints(l),fA.checkAndNudgePoints(r,l);try{for(var h=0;h<u;h+=2)r.get(Math.floor(l[h]),Math.floor(l[h+1]))&&o.set(h/2,c)}catch{throw new Ie}}return o},e}(fA),K5=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Zme,t}(),Li=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new nt(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),Qme=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var s=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Kme(s,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Ie;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,s=0;s<4;s++){var o=n[(this.shift+s)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var l=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(s,o,l){var c=(s>>r-2<<1)+(s&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(kt.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Ie},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var s=n-i,o=new Int32Array(n),l=n-1;l>=0;--l)o[l]=e&15,e>>=4;try{var c=new bg($i.AZTEC_PARAM);c.decode(o,s)}catch{throw new Ie}for(var u=0,l=0;l<i;l++)u=(u<<4)+o[l];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,s=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,o,1,-1),c=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(s,o,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(l,c,u,d))break}r=l,n=c,i=u,s=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ie;this.compact=this.nbCenterLayers===5;var f=new nt(r.getX()+.5,r.getY()-.5),p=new nt(n.getX()+.5,n.getY()+.5),m=new nt(i.getX()-.5,i.getY()+.5),x=new nt(s.getX()-.5,s.getY()-.5);return this.expandSquare([f,p,m,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var s=new Z2(this.image).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{var o=this.image.getWidth()/2,l=this.image.getHeight()/2;e=this.getFirstDifferent(new Li(o+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Li(o+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Li(o-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Li(o-7,l-7),!1,-1,-1).toResultPoint()}var c=Wt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=Wt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var s=new Z2(this.image,15,c,u).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{e=this.getFirstDifferent(new Li(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Li(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Li(c-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Li(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Wt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=Wt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Li(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,s){var o=K5.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,u=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,s=this.distanceResultPoint(e,r),o=s/n,l=e.getX(),c=e.getY(),u=o*(r.getX()-e.getX())/s,d=o*(r.getY()-e.getY())/s,h=0;h<n;h++)this.image.get(Wt.round(l+h*u),Wt.round(c+h*d))&&(i|=1<<n-h-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var s=3;e=new Li(e.getX()-s,e.getY()+s),r=new Li(r.getX()-s,r.getY()-s),n=new Li(n.getX()+s,n.getY()-s),i=new Li(i.getX()+s,i.getY()+s);var o=this.getColor(i,e);if(o===0)return!1;var l=this.getColor(e,r);return l!==o||(l=this.getColor(r,n),l!==o)?!1:(l=this.getColor(n,i),l===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,s=(r.getY()-e.getY())/n,o=0,l=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),h=0;h<d;h++)l+=i,c+=s,this.image.get(Wt.round(l),Wt.round(c))!==u&&o++;var f=o/n;return f>.1&&f<.9?0:f<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var s=e.getX()+n,o=e.getY()+i;this.isValid(s,o)&&this.image.get(s,o)===r;)s+=n,o+=i;for(s-=n,o-=i;this.isValid(s,o)&&this.image.get(s,o)===r;)s+=n;for(s-=n;this.isValid(s,o)&&this.image.get(s,o)===r;)o+=i;return o-=i,new Li(s,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),s=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new nt(l+i*s,c+i*o),d=new nt(l-i*s,c-i*o);s=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var h=new nt(l+i*s,c+i*o),f=new nt(l-i*s,c-i*o),p=[u,h,d,f];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Wt.round(e.getX()),n=Wt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Wt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Wt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(kt.truncDivision(this.nbLayers-4,8)+1)+15},t}(),i1=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new Qme(e.getBlackMatrix()),s=null,o=null;try{var l=i.detectMirror(!1);s=l.getPoints(),this.reportFoundResultPoints(r,s),o=new hA().decode(l)}catch(h){n=h}if(o==null)try{var l=i.detectMirror(!0);s=l.getPoints(),this.reportFoundResultPoints(r,s),o=new hA().decode(l)}catch(h){throw n??h}var c=new fi(o.getText(),o.getRawBytes(),o.getNumBits(),s,ot.AZTEC,Sr.currentTimeMillis()),u=o.getByteSegments();u!=null&&c.putMetadata(Jn.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&c.putMetadata(Jn.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Ar.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,s,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),exe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){exe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new i1,r)||this}return e})(nh);var Cn=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Ar.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,r),o=s.getResultMetadata(),l=270;o!==null&&o.get(Jn.ORIENTATION)===!0&&(l=l+o.get(Jn.ORIENTATION)%360),s.putMetadata(Jn.ORIENTATION,l);var c=s.getResultPoints();if(c!==null)for(var u=i.getHeight(),d=0;d<c.length;d++)c[d]=new nt(u-c[d].getY()-1,c[d].getX());return s}else throw new Ie}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),s=new $n(n),o=r&&r.get(Ar.TRY_HARDER)===!0,l=Math.max(1,i>>(o?8:5)),c;o?c=i:c=15;for(var u=Math.trunc(i/2),d=0;d<c;d++){var h=Math.trunc((d+1)/2),f=(d&1)===0,p=u+l*(f?h:-h);if(p<0||p>=i)break;try{s=e.getBlackRow(p,s)}catch{continue}for(var m=function(y){if(y===1&&(s.reverse(),r&&r.get(Ar.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(S,A){return w.set(A,S)}),w.delete(Ar.NEED_RESULT_POINT_CALLBACK),r=w}try{var N=x.decodeRow(p,s,r);if(y===1){N.putMetadata(Jn.ORIENTATION,180);var _=N.getResultPoints();_!==null&&(_[0]=new nt(n-_[0].getX()-1,_[0].getY()),_[1]=new nt(n-_[1].getX()-1,_[1].getY()))}return{value:N}}catch{}},x=this,g=0;g<2;g++){var b=m(g);if(typeof b=="object")return b.value}}throw new Ie},t.recordPattern=function(e,r,n){for(var i=n.length,s=0;s<i;s++)n[s]=0;var o=e.getSize();if(r>=o)throw new Ie;for(var l=!e.get(r),c=0,u=r;u<o;){if(e.get(u)!==l)n[c]++;else{if(++c===i)break;n[c]=1,l=!l}u++}if(!(c===i||c===i-1&&u===o))throw new Ie},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,s=e.get(r);r>0&&i>=0;)e.get(--r)!==s&&(i--,s=!s);if(i>=0)throw new Ie;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,o=0,l=0;l<i;l++)s+=e[l],o+=r[l];if(s<o)return Number.POSITIVE_INFINITY;var c=s/o;n*=c;for(var u=0,d=0;d<i;d++){var h=e[d],f=r[d]*c,p=h>f?h-f:f-h;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/s},t}(),txe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pA=function(t){txe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),s=0,o=Int32Array.from([0,0,0,0,0,0]),l=i,c=!1,u=6,d=i;d<n;d++)if(r.get(d)!==c)o[s]++;else{if(s===u-1){for(var h=e.MAX_AVG_VARIANCE,f=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=Cn.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<h&&(h=m,f=p)}if(f>=0&&r.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,f]);l+=o[0]+o[1],o=o.slice(2,o.length),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,c=!c}throw new Ie},e.decodeCode=function(r,n,i){Cn.recordPattern(r,i,n);for(var s=e.MAX_AVG_VARIANCE,o=-1,l=0;l<e.CODE_PATTERNS.length;l++){var c=e.CODE_PATTERNS[l],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<s&&(s=u,o=l)}if(o>=0)return o;throw new Ie},e.prototype.decodeRow=function(r,n,i){var s=i&&i.get(Ar.ASSUME_GS1)===!0,o=e.findStartPattern(n),l=o[2],c=0,u=new Uint8Array(20);u[c++]=l;var d;switch(l){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new qe}for(var h=!1,f=!1,p="",m=o[0],x=o[1],g=Int32Array.from([0,0,0,0,0,0]),b=0,y=0,w=l,N=0,_=!0,S=!1,A=!1;!h;){var E=f;switch(f=!1,b=y,y=e.decodeCode(n,g,x),u[c++]=y,y!==e.CODE_STOP&&(_=!0),y!==e.CODE_STOP&&(N++,w+=N*y),m=x,x+=g.reduce(function(z,X){return z+X},0),y){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new qe}switch(d){case e.CODE_CODE_A:if(y<64)A===S?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else if(y<96)A===S?p+=String.fromCharCode(y-64):p+=String.fromCharCode(y+64),A=!1;else switch(y!==e.CODE_STOP&&(_=!1),y){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!S&&A?(S=!0,A=!1):S&&A?(S=!1,A=!1):A=!0;break;case e.CODE_SHIFT:f=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(y<96)A===S?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else switch(y!==e.CODE_STOP&&(_=!1),y){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!S&&A?(S=!0,A=!1):S&&A?(S=!1,A=!1):A=!0;break;case e.CODE_SHIFT:f=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==e.CODE_STOP&&(_=!1),y){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}E&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var D=x-m;if(x=n.getNextUnset(x),!n.isRange(x,Math.min(n.getSize(),x+(x-m)/2),!1))throw new Ie;if(w-=N*b,w%103!==b)throw new un;var F=p.length;if(F===0)throw new Ie;F>0&&_&&(d===e.CODE_CODE_C?p=p.substring(0,F-2):p=p.substring(0,F-1));for(var k=(o[1]+o[0])/2,O=m+D/2,B=u.length,L=new Uint8Array(B),W=0;W<B;W++)L[W]=u[W];var $=[new nt(k,r),new nt(O,r)];return new fi(p,L,0,$,ot.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Cn),rxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mA=function(t){rxe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var s,o,l,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),h=n.getNextSet(d[1]),f=n.getSize(),p,m;do{e.recordPattern(n,h,u);var x=e.toNarrowWidePattern(u);if(x<0)throw new Ie;p=e.patternToChar(x),this.decodeRowResult+=p,m=h;try{for(var g=(s=void 0,Sb(u)),b=g.next();!b.done;b=g.next()){var y=b.value;h+=y}}catch(B){s={error:B}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}h=n.getNextSet(h)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=Sb(u),_=N.next();!_.done;_=N.next()){var y=_.value;w+=y}}catch(B){l={error:B}}finally{try{_&&!_.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}var S=h-m-w;if(h!==f&&S*2<w)throw new Ie;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,E=0,D=0;D<A;D++)E+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(D));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(E%43))throw new un;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new Ie;var F;this.extendedMode?F=e.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;var k=(d[1]+d[0])/2,O=m+w/2;return new fi(F,null,0,[new nt(k,r),new nt(O,r)],ot.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),s=r.getNextSet(0),o=0,l=s,c=!1,u=n.length,d=s;d<i;d++)if(r.get(d)!==c)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new Ie},e.toNarrowWidePattern=function(r){var n,i,s=r.length,o=0,l;do{var c=2147483647;try{for(var u=(n=void 0,Sb(r)),d=u.next();!d.done;d=u.next()){var h=d.value;h<c&&h>o&&(c=h)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=c,l=0;for(var f=0,p=0,m=0;m<s;m++){var h=r[m];h>o&&(p|=1<<s-1-m,l++,f+=h)}if(l===3){for(var m=0;m<s&&l>0;m++){var h=r[m];if(h>o&&(l--,h*2>=f))return-1}return p}}while(l>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Ie},e.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var o=r.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){var l=r.charAt(s+1),c="\0";switch(o){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new qe;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new qe;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new qe;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new qe;break}i+=c,s++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Cn),nxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ab=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xA=function(t){nxe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var s,o,l,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),h=n.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,f);var x=this.toPattern(f);if(x<0)throw new Ie;p=this.patternToChar(x),this.decodeRowResult+=p,m=d;try{for(var g=(s=void 0,Ab(f)),b=g.next();!b.done;b=g.next()){var y=b.value;d+=y}}catch(D){s={error:D}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var N=Ab(f),_=N.next();!_.done;_=N.next()){var y=_.value;w+=y}}catch(D){l={error:D}}finally{try{_&&!_.done&&(c=N.return)&&c.call(N)}finally{if(l)throw l.error}}if(d===h||!n.get(d))throw new Ie;if(this.decodeRowResult.length<2)throw new Ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var S=this.decodeExtended(this.decodeRowResult),A=(u[1]+u[0])/2,E=m+w/2;return new fi(S,null,0,[new nt(A,r),new nt(E,r)],ot.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var s=this.counters,o=i,l=!1,c=s.length,u=0,d=i;d<n;d++)if(r.get(d)!==l)s[u]++;else{if(u===c-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,l=!l}throw new Ie},e.prototype.toPattern=function(r){var n,i,s=0;try{for(var o=Ab(r),l=o.next();!l.done;l=o.next()){var c=l.value;s+=c}}catch(m){n={error:m}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,h=0;h<d;h++){var f=Math.round(r[h]*9/s);if(f<1||f>4)return-1;if(h&1)u<<=f;else for(var p=0;p<f;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new Ie},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var o=r.charAt(s);if(o>="a"&&o<="d"){if(s>=n-1)throw new qe;var l=r.charAt(s+1),c="\0";switch(o){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new qe;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new qe;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new qe;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new qe;break}i+=c,s++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var s=1,o=0,l=n-1;l>=0;l--)o+=s*e.ALPHABET_STRING.indexOf(r.charAt(l)),++s>i&&(s=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new un},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Cn),ixe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),axe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gA=function(t){ixe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var s,o,l=this.decodeStart(n),c=this.decodeEnd(n),u=new Ot;e.decodeMiddle(n,l[1],c[0],u);var d=u.toString(),h=null;i!=null&&(h=i.get(Ar.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var f=d.length,p=!1,m=0;try{for(var x=axe(h),g=x.next();!g.done;g=x.next()){var b=g.value;if(f===b){p=!0;break}b>m&&(m=b)}}catch(N){s={error:N}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}if(!p&&f>m&&(p=!0),!p)throw new qe;var y=[new nt(l[1],r),new nt(c[0],r)],w=new fi(d,null,0,y,ot.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,i,s){var o=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),l.fill(0),c.fill(0);n<i;){Cn.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;l[u]=o[d],c[u]=o[d+1]}var h=e.decodeDigit(l);s.append(h.toString()),h=this.decodeDigit(c),s.append(h.toString()),o.forEach(function(f){n+=f})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var s=n-1;i>0&&s>=0&&!r.get(s);s--)i--;if(i!==0)throw new Ie},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new Ie;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof Ie&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var s=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-s,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var s=i.length,o=new Int32Array(s),l=r.getSize(),c=!1,u=0,d=n;o.fill(0);for(var h=n;h<l;h++)if(r.get(h)!==c)o[u]++;else{if(u===s-1){if(Cn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,h];d+=o[0]+o[1],Sr.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,c=!c}throw new Ie},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,o=0;o<s;o++){var l=e.PATTERNS[o],c=Cn.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=o):c===n&&(i=-1)}if(i>=0)return i%10;throw new Ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Cn),sxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kd=function(t){sxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,s=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,s,!1,this.START_END_PATTERN,o);var l=i[0];s=i[1];var c=l-(s-l);c>=0&&(n=r.isRange(c,l,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new qe;i+=o}i*=3;for(var s=n-2;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new qe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,s){return this.findGuardPattern(r,n,i,s,new Int32Array(s.length))},e.findGuardPattern=function(r,n,i,s,o){var l=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=s.length,h=i,f=n;f<l;f++)if(r.get(f)!==h)o[c]++;else{if(c===d-1){if(Cn.patternMatchVariance(o,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,f]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<c-1;m++)o[m]=p[m];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,h=!h}throw new Ie},e.decodeDigit=function(r,n,i,s){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,l=-1,c=s.length,u=0;u<c;u++){var d=s[u],h=Cn.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new Ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Cn),oxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lxe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new nt((n[0]+n[1])/2,e),new nt(s,e)],u=new fi(o,null,0,c,ot.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},t.prototype.decodeMiddle=function(e,r,n){var i,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],u=0,d=0;d<5&&c<l;d++){var h=kd.decodeDigit(e,o,c,kd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var f=(i=void 0,oxe(o)),p=f.next();!p.done;p=f.next()){var m=p.value;c+=m}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}h>=10&&(u|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new Ie;var x=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==x)throw new Ie;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Ie},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Jn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),s=n%100,o=s<10?"0"+s:s.toString();return r+i+"."+o},t}(),cxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uxe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),o=i.toString(),l=t.parseExtensionString(o),c=[new nt((n[0]+n[1])/2,e),new nt(s,e)],u=new fi(o,null,0,c,ot.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},t.prototype.decodeMiddle=function(e,r,n){var i,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=e.getSize(),c=r[1],u=0,d=0;d<2&&c<l;d++){var h=kd.decodeDigit(e,o,c,kd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+h%10);try{for(var f=(i=void 0,cxe(o)),p=f.next();!p.done;p=f.next()){var m=p.value;c+=m}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}h>=10&&(u|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new Ie;if(parseInt(n.toString())%4!==u)throw new Ie;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Jn.ISSUE_NUMBER,parseInt(e)]])},t}(),dxe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=kd.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new lxe;return s.decodeRow(e,r,i)}catch{var o=new uxe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),hxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wn=function(t){hxe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],s=new Int32Array(i.length),o=0;o<i.length;o++)s[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=s}return r}return e.prototype.decodeRow=function(r,n,i){var s=e.findStartGuardPattern(n),o=i==null?null:i.get(Ar.NEED_RESULT_POINT_CALLBACK);if(o!=null){var l=new nt((s[0]+s[1])/2,r);o.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(o!=null){var h=new nt(u,r);o.foundPossibleResultPoint(h)}var f=e.decodeEnd(n,u);if(o!=null){var p=new nt((f[0]+f[1])/2,r);o.foundPossibleResultPoint(p)}var m=f[1],x=m+(m-f[0]);if(x>=n.getSize()||!n.isRange(m,x,!1))throw new Ie;var g=d.toString();if(g.length<8)throw new qe;if(!e.checkChecksum(g))throw new un;var b=(s[1]+s[0])/2,y=(f[1]+f[0])/2,w=this.getBarcodeFormat(),N=[new nt(b,r),new nt(y,r)],_=new fi(g,null,0,N,w,new Date().getTime()),S=0;try{var A=dxe.decodeRow(r,n,f[1]);_.putMetadata(Jn.UPC_EAN_EXTENSION,A.getText()),_.putAllMetadata(A.getResultMetadata()),_.addResultPoints(A.getResultPoints()),S=A.getText().length}catch{}var E=i==null?null:i.get(Ar.ALLOWED_EAN_EXTENSIONS);if(E!=null){var D=!1;for(var F in E)if(S.toString()===F){D=!0;break}if(!D)throw new Ie}return w===ot.EAN_13||ot.UPC_A,_},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new qe;i+=o}i*=3;for(var s=n-2;s>=0;s-=2){var o=r.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new qe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(kd),fxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q2=function(t){fxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),h=n[1],f=0,p=0;p<6&&h<d;p++){var m=wn.decodeDigit(r,u,h,wn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var x=(s=void 0,vA(u)),g=x.next();!g.done;g=x.next()){var b=g.value;h+=b}}catch(_){s={error:_}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}m>=10&&(f|=1<<5-p)}i=e.determineFirstDigit(i,f);var y=wn.findGuardPattern(r,h,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));h=y[1];for(var p=0;p<6&&h<d;p++){var m=wn.decodeDigit(r,u,h,wn.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var w=(l=void 0,vA(u)),N=w.next();!N.done;N=w.next()){var b=N.value;h+=b}}catch(A){l={error:A}}finally{try{N&&!N.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return ot.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new Ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(wn),pxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yA=function(t){pxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),h=n[1],f=0;f<4&&h<d;f++){var p=wn.decodeDigit(r,u,h,wn.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(s=void 0,bA(u)),x=m.next();!x.done;x=m.next()){var g=x.value;h+=g}}catch(N){s={error:N}}finally{try{x&&!x.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}}var b=wn.findGuardPattern(r,h,!0,wn.MIDDLE_PATTERN,new Int32Array(wn.MIDDLE_PATTERN.length).fill(0));h=b[1];for(var f=0;f<4&&h<d;f++){var p=wn.decodeDigit(r,u,h,wn.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var y=(l=void 0,bA(u)),w=y.next();!w.done;w=y.next()){var g=w.value;h+=g}}catch(S){l={error:S}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return ot.EAN_8},e}(wn),mxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wA=function(t){mxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Q2,r}return e.prototype.getBarcodeFormat=function(){return ot.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new fi(n.substring(1),null,null,r.getResultPoints(),ot.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new Ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(wn),xxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jA=function(t){xxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var s,o,l=this.decodeMiddleCounters.map(function(g){return g});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],d=0,h=0;h<6&&u<c;h++){var f=e.decodeDigit(r,l,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+f%10);try{for(var p=(s=void 0,gxe(l)),m=p.next();!m.done;m=p.next()){var x=m.value;u+=x}}catch(g){s={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(s)throw s.error}}f>=10&&(d|=1<<5-h)}return e.determineNumSysAndCheckDigit(new Ot(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return wn.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){r.insert(0,"0"+i),r.append("0"+s);return}throw Ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ot.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Ot;i.append(r.charAt(0));var s=n[5];switch(s){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(s),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(s);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(wn),vxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cb=function(t){vxe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Ar.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(ot.EAN_13)>-1&&s.push(new Q2),i.indexOf(ot.UPC_A)>-1&&s.push(new wA),i.indexOf(ot.EAN_8)>-1&&s.push(new yA),i.indexOf(ot.UPC_E)>-1&&s.push(new jA)),s.length===0&&(s.push(new Q2),s.push(new wA),s.push(new yA),s.push(new jA)),n.readers=s,n}return e.prototype.decodeRow=function(r,n,i){var s,o;try{for(var l=NA(this.readers),c=l.next();!c.done;c=l.next()){var u=c.value;try{var d=u.decodeRow(r,n,i),h=d.getBarcodeFormat()===ot.EAN_13&&d.getText().charAt(0)==="0",f=i==null?null:i.get(Ar.POSSIBLE_FORMATS),p=f==null||f.includes(ot.UPC_A);if(h&&p){var m=d.getRawBytes(),x=new fi(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),ot.UPC_A);return x.putAllMetadata(d.getResultMetadata()),x}return d}catch{}}}catch(g){s={error:g}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(s)throw s.error}}throw new Ie},e.prototype.reset=function(){var r,n;try{for(var i=NA(this.readers),s=i.next();!s.done;s=i.next()){var o=s.value;o.reset()}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Cn),bxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yxe=function(t){bxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var s=this.getValidRowData(n);if(!s)throw new Ie;var o=this.codaBarDecodeRow(s.row);if(!o)throw new Ie;return new fi(o,null,0,[new nt(s.left,r),new nt(s.right,r)],ot.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var s=n.lastIndexOf(!0);if(s<=i)return null;n=n.slice(i,s+1);for(var o=[],l=n[0],c=1,u=1;u<n.length;u++)n[u]===l?c++:(l=n[u],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:s}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var s=r.splice(0,8).splice(0,7),o=s.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var l=n.join("");return this.validCodaBarString(l)?l:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Cn),wxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ec=function(t){wxe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Cn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Ie},e.count=function(r){return Wt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,s=n[0],o=1;o<r.length;o++)n[o]>s&&(s=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,s=n[0],o=1;o<r.length;o++)n[o]<s&&(s=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,s=r[0]+r[1],o=s+r[2]+r[3],l=s/o;if(l>=e.MIN_FINDER_PATTERN_RATIO&&l<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=jxe(r),h=d.next();!h.done;h=d.next()){var f=h.value;f>u&&(u=f),f<c&&(c=f)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Cn),a1=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),mk=function(){function t(e,r,n,i,s){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new nt(n,s)),this.resultPoints.push(new nt(i,s))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),Nxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hu=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,s,o=0;try{for(var l=Nxe(e),c=l.next();!c.done;c=l.next()){var u=c.value;o+=u}}catch(y){i={error:y}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}for(var d=0,h=0,f=e.length,p=0;p<f-1;p++){var m=void 0;for(m=1,h|=1<<p;m<e[p];m++,h&=~(1<<p)){var x=t.combins(o-m-1,f-p-2);if(n&&h===0&&o-m-(f-p-1)>=f-p-1&&(x-=t.combins(o-m-(f-p),f-p-2)),f-p-1>1){for(var g=0,b=o-m-(f-p-2);b>r;b--)g+=t.combins(o-m-b-1,f-p-3);x-=g*(f-1-p)}else o-m>r&&x--;d+=x}o-=m}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var s=1,o=1,l=e;l>n;l--)s*=l,o<=i&&(s/=o,o++);for(;o<=i;)s/=o,o++;return s},t}(),_xe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new $n(n),s=0,o=e[0],l=o.getRightChar().getValue(),c=11;c>=0;--c)l&1<<c&&i.set(s),s++;for(var c=1;c<e.length;++c){for(var u=e[c],d=u.getLeftChar().getValue(),h=11;h>=0;--h)d&1<<h&&i.set(s),s++;if(u.getRightChar()!==null)for(var f=u.getRightChar().getValue(),h=11;h>=0;--h)f&1<<h&&i.set(s),s++}return i},t}(),Wl=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),J5=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),Sxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ga=function(t){Sxe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(J5),Axe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vl=function(t){Axe(e,t);function e(r,n,i){var s=t.call(this,r)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=n,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(J5),Cxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cu=function(t){Cxe(e,t);function e(r,n,i){var s=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new qe;return s.firstDigit=n,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(J5),bm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Exe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,s,o,l,c,u;if(!e)return null;if(e.length<2)throw new Ie;var d=e.substring(0,2);try{for(var h=bm(t.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next()){var p=f.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(S){r={error:S}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(e.length<3)throw new Ie;var m=e.substring(0,3);try{for(var x=bm(t.THREE_DIGIT_DATA_LENGTH),g=x.next();!g.done;g=x.next()){var p=g.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(S){i={error:S}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}try{for(var b=bm(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=b.next();!y.done;y=b.next()){var p=y.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(S){o={error:S}}finally{try{y&&!y.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}if(e.length<4)throw new Ie;var w=e.substring(0,4);try{for(var N=bm(t.FOUR_DIGIT_DATA_LENGTH),_=N.next();!_.done;_=N.next()){var p=_.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(S){c={error:S}}finally{try{_&&!_.done&&(u=N.return)&&u.call(N)}finally{if(c)throw c.error}}throw new Ie},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Ie;var i=n.substring(0,e);if(n.length<e+r)throw new Ie;var s=n.substring(e,e+r),o=n.substring(e+r),l="("+i+")"+s,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),s;n.length<e+r?s=n.length:s=e+r;var o=n.substring(e,s),l=n.substring(s),c="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(l);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Bm=function(){function t(e){this.buffer=new Ot,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var s=this.decodeGeneralPurposeField(n,i),o=Exe.parseFieldsInGeneralPurpose(s.getNewString());if(o!=null&&e.append(o),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Cu(this.information.getSize(),Cu.FNC1,Cu.FNC1):new Cu(this.information.getSize(),r-1,Cu.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,s=(n-8)%11;return new Cu(e+7,i,s)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,s=0;s<n;++s)e.get(r+s)&&(i|=1<<n-s-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Vl(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Vl(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Vl(this.current.getPosition(),this.buffer.toString()):r=new Vl(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Wl(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Vl(this.current.getPosition(),this.buffer.toString());return new Wl(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Wl(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Vl(this.current.getPosition(),this.buffer.toString());return new Wl(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Wl(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Vl(this.current.getPosition(),this.buffer.toString());return new Wl(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Wl(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ga(e+5,Ga.FNC1);if(r>=5&&r<15)return new Ga(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ga(e+7,""+(n+1));if(n>=90&&n<116)return new Ga(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new qe}return new Ga(e+8,s)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ga(e+5,Ga.FNC1);if(r>=5&&r<15)return new Ga(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ga(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new q0("Decoding invalid alphanumeric value: "+n)}return new Ga(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),xk=function(){function t(e){this.information=e,this.generalDecoder=new Bm(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),Oxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qa=function(t){Oxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var s=0;s<4;++s){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,s=0;s<13;s++){var o=r.charAt(s+n).charCodeAt(0)-48;i+=s&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(xk),Pxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kxe=function(t){Pxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ot;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Qa),Txe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ixe=function(t){Txe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ot;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(xk),Dxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$m=function(t){Dxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,s);for(var o=this.checkWeight(s),l=1e5,c=0;c<5;++c)o/l===0&&r.append("0"),l/=10;r.append(o)},e}(Qa),Mxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gk=function(t){Mxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+$m.GTIN_SIZE+e.WEIGHT_SIZE)throw new Ie;var r=new Ot;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+$m.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}($m),Lxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rxe=function(t){Lxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(gk),Fxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bxe=function(t){Fxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(gk),$xe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zxe=function(t){$xe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Qa.GTIN_SIZE)throw new Ie;var r=new Ot;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Qa.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Qa),Uxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hxe=function(t){Uxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Qa.GTIN_SIZE)throw new Ie;var r=new Ot;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qa.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Qa.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Qa.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(s.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Qa),qxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ko=function(t){qxe(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dateCode=i,s.firstAIdigits=n,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Ie;var r=new Ot;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var s=i%32;i/=32;var o=i%12+1;i/=12;var l=i;l/10===0&&r.append("0"),r.append(l),o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}($m);function Wxe(t){try{if(t.get(1))return new kxe(t);if(!t.get(2))return new Ixe(t);var e=Bm.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Rxe(t);case 5:return new Bxe(t)}var r=Bm.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new zxe(t);case 13:return new Hxe(t)}var n=Bm.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Ko(t,"310","11");case 57:return new Ko(t,"320","11");case 58:return new Ko(t,"310","13");case 59:return new Ko(t,"320","13");case 60:return new Ko(t,"310","15");case 61:return new Ko(t,"320","15");case 62:return new Ko(t,"310","17");case 63:return new Ko(t,"320","17")}}catch(i){throw console.log(i),new q0("unknown decoder: "+t)}}var _A=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),Vxe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,s){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),Gxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jo=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xxe=function(t){Gxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof Ie){if(!this.pairs.length)throw new Ie;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(r,!1),s){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Ie},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,s,o=n;o<this.rows.length;o++){var l=this.rows[o];this.pairs.length=0;try{for(var c=(i=void 0,Jo(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(f){i={error:f}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(l.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(r);h.push(l);try{return this.checkRows(h,o+1)}catch(f){console.log(f)}}}throw new Ie},e.isValidSequence=function(r){var n,i;try{for(var s=Jo(e.FINDER_PATTERN_SEQUENCES),o=s.next();!o.done;o=s.next()){var l=o.value;if(!(r.length>l.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==l[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,s=!1,o=!1;i<this.rows.length;){var l=this.rows[i];if(l.getRowNumber()>r){o=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),i++}o||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Vxe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,s,o,l,c,u;try{for(var d=Jo(n),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,Jo(f.getPairs())),x=m.next();!x.done;x=m.next()){var g=x.value,b=!1;try{for(var y=(c=void 0,Jo(r)),w=y.next();!w.done;w=y.next()){var N=w.value;if(_A.equals(g,N)){b=!0;break}}}catch(_){c={error:_}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}b||(p=!1)}}catch(_){o={error:_}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}}}}catch(_){i={error:_}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,s,o,l,c,u;try{for(var d=Jo(n),h=d.next();!h.done;h=d.next()){var f=h.value,p=!0;try{for(var m=(o=void 0,Jo(r)),x=m.next();!x.done;x=m.next()){var g=x.value,b=!1;try{for(var y=(c=void 0,Jo(f.getPairs())),w=y.next();!w.done;w=y.next()){var N=w.value;if(g.equals(N)){b=!0;break}}}catch(_){c={error:_}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}if(!b){p=!1;break}}}catch(_){o={error:_}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(_){i={error:_}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=_xe.buildBitArray(r),i=Wxe(n),s=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],l[0],l[1]];return new fi(s,null,null,c,ot.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),o=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);s+=c.getLeftChar().getChecksumPortion(),o++;var u=c.getRightChar();u!=null&&(s+=u.getChecksumPortion(),o++)}s%=211;var d=211*(o-4)+s;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var s=n.length%2===0;this.startFromEven&&(s=!s);var o,l=!0,c=-1;do this.findNextPair(r,n,c),o=this.parseFoundFinderPattern(r,i,s),o===null?c=e.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var u=this.decodeDataCharacter(r,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Ie;var d;try{d=this.decodeDataCharacter(r,o,s,!1)}catch(h){d=null,console.log(h)}return new _A(u,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var o=r.getSize(),l;if(i>=0)l=i;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;l<o&&(d=!r.get(l),!!d);)l++;for(var h=0,f=l,p=l;p<o;p++)if(r.get(p)!==d)s[h]++;else{if(h===3){if(u&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=f,this.startEnd[1]=p;return}u&&e.reverseCounters(s),f+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,h--}else h++;s[h]=1,d=!d}throw new Ie},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var s=r[i];r[i]=r[n-i-1],r[n-i-1]=s}},e.prototype.parseFoundFinderPattern=function(r,n,i){var s,o,l;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,s=this.startEnd[0]-c,o=c,l=this.startEnd[1]}else o=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];var u=this.getDecodeFinderCounters();Sr.arraycopy(u,0,u,1,u.length-1),u[0]=s;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new mk(d,[o,l],o,l,n)},e.prototype.decodeDataCharacter=function(r,n,i,s){for(var o=this.getDataCharacterCounters(),l=0;l<o.length;l++)o[l]=0;if(s)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var c=0,u=o.length-1;c<u;c++,u--){var d=o[c];o[c]=o[u],o[u]=d}}var h=17,f=Wt.sum(new Int32Array(o))/h,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new Ie;for(var m=this.getOddCounts(),x=this.getEvenCounts(),g=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var y=1*o[c]/f,w=y+.5;if(w<1){if(y<.3)throw new Ie;w=1}else if(w>8){if(y>8.7)throw new Ie;w=8}var N=c/2;c&1?(x[N]=w,b[N]=y-w):(m[N]=w,g[N]=y-w)}this.adjustOddEvenCounts(h);for(var _=4*n.getValue()+(i?0:2)+(s?0:1)-1,S=0,A=0,c=m.length-1;c>=0;c--){if(e.isNotA1left(n,i,s)){var E=e.WEIGHTS[_][2*c];A+=m[c]*E}S+=m[c]}for(var D=0,c=x.length-1;c>=0;c--)if(e.isNotA1left(n,i,s)){var E=e.WEIGHTS[_][2*c+1];D+=x[c]*E}var F=A+D;if(S&1||S>13||S<4)throw new Ie;var k=(13-S)/2,O=e.SYMBOL_WIDEST[k],B=9-O,L=Hu.getRSSvalue(m,O,!0),W=Hu.getRSSvalue(x,B,!1),$=e.EVEN_TOTAL_SUBSET[k],z=e.GSUM[k],X=L*$+W+z;return new a1(X,F)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Wt.sum(new Int32Array(this.getOddCounts())),i=Wt.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);var l=!1,c=!1;i>13?c=!0:i<4&&(l=!0);var u=n+i-r,d=(n&1)===1,h=(i&1)===0;if(u===1)if(d){if(h)throw new Ie;o=!0}else{if(!h)throw new Ie;c=!0}else if(u===-1)if(d){if(h)throw new Ie;s=!0}else{if(!h)throw new Ie;l=!0}else if(u===0){if(d){if(!h)throw new Ie;n<i?(s=!0,c=!0):(o=!0,l=!0)}else if(h)throw new Ie}else throw new Ie;if(s){if(o)throw new Ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(ec),Yxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kxe=function(t){Yxe(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(a1),Jxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SA=function(t){Jxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var s,o,l,c,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var h=Eb(this.possibleLeftPairs),f=h.next();!f.done;f=h.next()){var p=f.value;if(p.getCount()>1)try{for(var m=(l=void 0,Eb(this.possibleRightPairs)),x=m.next();!x.done;x=m.next()){var g=x.value;if(g.getCount()>1&&e.checkChecksum(p,g))return e.constructResult(p,g)}}catch(b){l={error:b}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}}catch(b){s={error:b}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}throw new Ie},e.addOrTally=function(r,n){var i,s;if(n!=null){var o=!1;try{for(var l=Eb(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),s=new String(i).toString(),o=new Ot,l=13-s.length;l>0;l--)o.append("0");o.append(s);for(var c=0,l=0;l<13;l++){var u=o.charAt(l).charCodeAt(0)-48;c+=l&1?u:3*u}c=10-c%10,c===10&&(c=0),o.append(c.toString());var d=r.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new fi(o.toString(),null,0,[d[0],d[1],h[0],h[1]],ot.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(r,n,i,s){try{var o=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,i,n,o),c=s==null?null:s.get(Ar.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new nt(u,i))}var d=this.decodeDataCharacter(r,l,!0),h=this.decodeDataCharacter(r,l,!1);return new Kxe(1597*d.getValue()+h.getValue(),d.getChecksumPortion()+4*h.getChecksumPortion(),l)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)Cn.recordPatternInReverse(r,n.getStartEnd()[0],s);else{Cn.recordPattern(r,n.getStartEnd()[1]+1,s);for(var l=0,c=s.length-1;l<c;l++,c--){var u=s[l];s[l]=s[c],s[c]=u}}for(var d=i?16:15,h=Wt.sum(new Int32Array(s))/d,f=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var g=s[l]/h,b=Math.floor(g+.5);b<1?b=1:b>8&&(b=8);var y=Math.floor(l/2);l&1?(p[y]=b,x[y]=g-b):(f[y]=b,m[y]=g-b)}this.adjustOddEvenCounts(i,d);for(var w=0,N=0,l=f.length-1;l>=0;l--)N*=9,N+=f[l],w+=f[l];for(var _=0,S=0,l=p.length-1;l>=0;l--)_*=9,_+=p[l],S+=p[l];var A=N+3*_;if(i){if(w&1||w>12||w<4)throw new Ie;var E=(12-w)/2,D=e.OUTSIDE_ODD_WIDEST[E],F=9-D,k=Hu.getRSSvalue(f,D,!1),O=Hu.getRSSvalue(p,F,!0),B=e.OUTSIDE_EVEN_TOTAL_SUBSET[E],L=e.OUTSIDE_GSUM[E];return new a1(k*B+O+L,A)}else{if(S&1||S>10||S<4)throw new Ie;var E=(10-S)/2,D=e.INSIDE_ODD_WIDEST[E],F=9-D,k=Hu.getRSSvalue(f,D,!0),O=Hu.getRSSvalue(p,F,!1),W=e.INSIDE_ODD_TOTAL_SUBSET[E],L=e.INSIDE_GSUM[E];return new a1(O*W+k+L,A)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=r.getSize(),o=!1,l=0;l<s&&(o=!r.get(l),n!==o);)l++;for(var c=0,u=l,d=l;d<s;d++)if(r.get(d)!==o)i[c]++;else{if(c===3){if(ec.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new Ie},e.prototype.parseFoundFinderPattern=function(r,n,i,s){for(var o=r.get(s[0]),l=s[0]-1;l>=0&&o!==r.get(l);)l--;l++;var c=s[0]-l,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Sr.arraycopy(u,0,d,1,u.length-1),d[0]=c;var h=this.parseFinderValue(d,e.FINDER_PATTERNS),f=l,p=s[1];return i&&(f=r.getSize()-1-f,p=r.getSize()-1-p),new mk(h,[l,s[1]],f,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Wt.sum(new Int32Array(this.getOddCounts())),s=Wt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,c=!1,u=!1;r?(i>12?l=!0:i<4&&(o=!0),s>12?u=!0:s<4&&(c=!0)):(i>11?l=!0:i<5&&(o=!0),s>10?u=!0:s<4&&(c=!0));var d=i+s-n,h=(i&1)===(r?1:0),f=(s&1)===1;if(d===1)if(h){if(f)throw new Ie;l=!0}else{if(!f)throw new Ie;u=!0}else if(d===-1)if(h){if(f)throw new Ie;o=!0}else{if(!f)throw new Ie;c=!0}else if(d===0){if(h){if(!f)throw new Ie;i<s?(o=!0,u=!0):(l=!0,c=!0)}else if(f)throw new Ie}else throw new Ie;if(o){if(l)throw new Ie;ec.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&ec.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Ie;ec.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&ec.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ec),Zxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qu=function(t){Zxe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Ar.POSSIBLE_FORMATS):null,s=r&&r.get(Ar.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(Ar.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(ot.EAN_13)||i.includes(ot.UPC_A)||i.includes(ot.EAN_8)||i.includes(ot.UPC_E))&&n.readers.push(new Cb(r)),i.includes(ot.CODE_39)&&n.readers.push(new mA(s,o)),i.includes(ot.CODE_93)&&n.readers.push(new xA),i.includes(ot.CODE_128)&&n.readers.push(new pA),i.includes(ot.ITF)&&n.readers.push(new gA),i.includes(ot.CODABAR)&&n.readers.push(new yxe),i.includes(ot.RSS_14)&&n.readers.push(new SA),i.includes(ot.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Xxe))),n.readers.length===0&&(n.readers.push(new Cb(r)),n.readers.push(new mA),n.readers.push(new xA),n.readers.push(new Cb(r)),n.readers.push(new pA),n.readers.push(new gA),n.readers.push(new SA)),n}return e.prototype.decodeRow=function(r,n,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(r,n,i)}catch{}throw new Ie},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Cn),Qxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Qxe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new qu(n),r,n)||this}return e})(nh);var AA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tr=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Yt=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),e1e=function(){function t(e,r,n,i,s,o){var l,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=o;var u=0,d=o.getECCodewords(),h=o.getECBlocks();try{for(var f=AA(h),p=f.next();!p.done;p=f.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(x){l={error:x}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new qe;try{for(var s=AA(t.VERSIONS),o=s.next();!o.done;o=s.next()){var l=o.value;if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}throw new qe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new tr(5,new Yt(1,3))),new t(2,12,12,10,10,new tr(7,new Yt(1,5))),new t(3,14,14,12,12,new tr(10,new Yt(1,8))),new t(4,16,16,14,14,new tr(12,new Yt(1,12))),new t(5,18,18,16,16,new tr(14,new Yt(1,18))),new t(6,20,20,18,18,new tr(18,new Yt(1,22))),new t(7,22,22,20,20,new tr(20,new Yt(1,30))),new t(8,24,24,22,22,new tr(24,new Yt(1,36))),new t(9,26,26,24,24,new tr(28,new Yt(1,44))),new t(10,32,32,14,14,new tr(36,new Yt(1,62))),new t(11,36,36,16,16,new tr(42,new Yt(1,86))),new t(12,40,40,18,18,new tr(48,new Yt(1,114))),new t(13,44,44,20,20,new tr(56,new Yt(1,144))),new t(14,48,48,22,22,new tr(68,new Yt(1,174))),new t(15,52,52,24,24,new tr(42,new Yt(2,102))),new t(16,64,64,14,14,new tr(56,new Yt(2,140))),new t(17,72,72,16,16,new tr(36,new Yt(4,92))),new t(18,80,80,18,18,new tr(48,new Yt(4,114))),new t(19,88,88,20,20,new tr(56,new Yt(4,144))),new t(20,96,96,22,22,new tr(68,new Yt(4,174))),new t(21,104,104,24,24,new tr(56,new Yt(6,136))),new t(22,120,120,18,18,new tr(68,new Yt(6,175))),new t(23,132,132,20,20,new tr(62,new Yt(8,163))),new t(24,144,144,22,22,new tr(62,new Yt(8,156),new Yt(2,155))),new t(25,8,18,6,16,new tr(7,new Yt(1,5))),new t(26,8,32,6,14,new tr(11,new Yt(1,10))),new t(27,12,26,10,24,new tr(14,new Yt(1,16))),new t(28,12,36,10,16,new tr(18,new Yt(1,22))),new t(29,16,36,14,16,new tr(24,new Yt(1,32))),new t(30,16,48,14,22,new tr(28,new Yt(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),t1e=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new qe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Bs(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return e1e.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,s=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),l=!1,c=!1,u=!1,d=!1;do if(n===s&&i===0&&!l)e[r++]=this.readCorner1(s,o)&255,n-=2,i+=2,l=!0;else if(n===s-2&&i===0&&o&3&&!c)e[r++]=this.readCorner2(s,o)&255,n-=2,i+=2,c=!0;else if(n===s+4&&i===2&&!(o&7)&&!u)e[r++]=this.readCorner3(s,o)&255,n-=2,i+=2,u=!0;else if(n===s-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(s,o)&255,n-=2,i+=2,d=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,o)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<o);if(r!==this.version.getTotalCodewords())throw new qe;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var s=0;return this.readModule(e-2,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-2,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r,n,i)&&(s|=1),s<<=1,this.readModule(e,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e,r,n,i)&&(s|=1),s},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new lt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),o=r/i|0,l=n/s|0,c=o*i,u=l*s,d=new Bs(u,c),h=0;h<o;++h)for(var f=h*i,p=0;p<l;++p)for(var m=p*s,x=0;x<i;++x)for(var g=h*(i+2)+1+x,b=f+x,y=0;y<s;++y){var w=p*(s+2)+1+y;if(e.get(w,g)){var N=m+y;d.set(N,b)}}return d},t}(),CA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r1e=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,s,o,l=r.getECBlocks(),c=0,u=l.getECBlocks();try{for(var d=CA(u),h=d.next();!h.done;h=d.next()){var f=h.value;c+=f.getCount()}}catch(L){n={error:L}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var x=CA(u),g=x.next();!g.done;g=x.next())for(var f=g.value,b=0;b<f.getCount();b++){var y=f.getDataCodewords(),w=l.getECCodewords()+y;p[m++]=new t(y,new Uint8Array(w))}}catch(L){s={error:L}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}for(var N=p[0].codewords.length,_=N-l.getECCodewords(),S=_-1,A=0,b=0;b<S;b++)for(var E=0;E<m;E++)p[E].codewords[b]=e[A++];for(var D=r.getVersionNumber()===24,F=D?8:m,E=0;E<F;E++)p[E].codewords[_-1]=e[A++];for(var k=p[0].codewords.length,b=_;b<k;b++)for(var E=0;E<m;E++){var O=D?(E+8)%m:E,B=D&&O>7?b-1:b;p[O].codewords[B]=e[A++]}if(A!==e.length)throw new lt;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),vk=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new lt(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,s=this.bytes;if(n>0){var o=8-n,l=e<o?e:o,c=o-l,u=255>>8-l<<c;r=(s[i]&u)>>c,e-=l,n+=l,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|s[i]&255,i++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(s[i]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),xn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(xn||(xn={}));var n1e=function(){function t(){}return t.decode=function(e){var r=new vk(e),n=new Ot,i=new Ot,s=new Array,o=xn.ASCII_ENCODE;do if(o===xn.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case xn.C40_ENCODE:this.decodeC40Segment(r,n);break;case xn.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case xn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case xn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case xn.BASE256_ENCODE:this.decodeBase256Segment(r,n,s);break;default:throw new qe}o=xn.ASCII_ENCODE}while(o!==xn.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new vg(e,n.toString(),s.length===0?null:s,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var s=e.readBits(8);if(s===0)throw new qe;if(s<=128)return i&&(s+=128),r.append(String.fromCharCode(s-1)),xn.ASCII_ENCODE;if(s===129)return xn.PAD_ENCODE;if(s<=229){var o=s-130;o<10&&r.append("0"),r.append(""+o)}else switch(s){case 230:return xn.C40_ENCODE;case 231:return xn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return xn.ANSIX12_ENCODE;case 239:return xn.TEXT_ENCODE;case 240:return xn.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new qe;break}}while(e.available()>0);return xn.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(s){case 0:if(c<3)s=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new qe;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new qe}s=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),s=0;break;default:throw new qe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var l=0;l<3;l++){var c=i[l];switch(s){case 0:if(c<3)s=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new qe;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new qe}s=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),s=0}else throw new qe;break;default:throw new qe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var s=0;s<3;s++){var o=n[s];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new qe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),o;if(s===0?o=e.available()/8|0:s<250?o=s:o=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new qe;for(var l=new Uint8Array(o),c=0;c<o;c++){if(e.available()<8)throw new qe;l[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(l);try{r.append(Ea.decode(l,zt.ISO88591))}catch(u){throw new q0("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),i1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a1e=function(){function t(){this.rsDecoder=new bg($i.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new t1e(e),s=i.getVersion(),o=i.readCodewords(),l=r1e.getDataBlocks(o,s),c=0;try{for(var u=i1e(l),d=u.next();!d.done;d=u.next()){var h=d.value;c+=h.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var f=new Uint8Array(c),p=l.length,m=0;m<p;m++){var x=l[m],g=x.getCodewords(),b=x.getNumDataCodewords();this.correctErrors(g,b);for(var y=0;y<b;y++)f[y*p+m]=g[y]}return n1e.decode(f)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new un}for(var i=0;i<r;i++)e[i]=n[i]},t}(),s1e=function(){function t(e){this.image=e,this.rectangleDetector=new Z2(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Ie;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],s=r[2],o=r[3],l=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(s,o)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var u=t.sampleGrid(this.image,n,i,s,o,l,c);return new Y5(u,[n,i,s,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),s=(r.getY()-e.getY())/(n+1);return new nt(e.getX()+i,e.getY()+s)},t.moveAway=function(e,r,n){var i=e.getX(),s=e.getY();return i<r?i-=1:i+=1,s<n?s-=1:s+=1,new nt(i,s)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],s=e[2],o=this.transitionsBetween(r,n),l=this.transitionsBetween(n,i),c=this.transitionsBetween(i,s),u=this.transitionsBetween(s,r),d=o,h=[s,r,n,i];return d>l&&(d=l,h[0]=r,h[1]=n,h[2]=i,h[3]=s),d>c&&(d=c,h[0]=n,h[1]=i,h[2]=s,h[3]=r),d>u&&(h[0]=i,h[1]=s,h[2]=r,h[3]=n),h},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s),l=t.shiftPoint(n,i,(o+1)*4),c=t.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(l,r),d=this.transitionsBetween(c,s);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=s):(e[0]=n,e[1]=i,e[2]=s,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s),l=this.transitionsBetween(n,s),c=t.shiftPoint(r,n,(l+1)*4),u=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(c,s),l=this.transitionsBetween(u,s);var d=new nt(s.getX()+(i.getX()-n.getX())/(o+1),s.getY()+(i.getY()-n.getY())/(o+1)),h=new nt(s.getX()+(r.getX()-n.getX())/(l+1),s.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(d))return this.isValid(h)?h:null;if(!this.isValid(h))return d;var f=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,h)+this.transitionsBetween(u,h);return f>p?d:h},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],o=this.transitionsBetween(r,s)+1,l=this.transitionsBetween(i,s)+1,c=t.shiftPoint(r,n,l*4),u=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(c,s)+1,l=this.transitionsBetween(u,s)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);var d=(r.getX()+n.getX()+i.getX()+s.getX())/4,h=(r.getY()+n.getY()+i.getY()+s.getY())/4;r=t.moveAway(r,d,h),n=t.moveAway(n,d,h),i=t.moveAway(i,d,h),s=t.moveAway(s,d,h);var f,p;return c=t.shiftPoint(r,n,l*4),c=t.shiftPoint(c,s,o*4),f=t.shiftPoint(n,r,l*4),f=t.shiftPoint(f,i,o*4),u=t.shiftPoint(i,s,l*4),u=t.shiftPoint(u,n,o*4),p=t.shiftPoint(s,i,l*4),p=t.shiftPoint(p,r,o*4),[c,f,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,s,o,l){var c=K5.getInstance();return c.sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,r.getX(),r.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(r.getX()),o=Math.trunc(r.getY()),l=Math.abs(o-i)>Math.abs(s-n);if(l){var c=n;n=i,i=c,c=s,s=o,o=c}for(var u=Math.abs(s-n),d=Math.abs(o-i),h=-u/2,f=i<o?1:-1,p=n<s?1:-1,m=0,x=this.image.get(l?i:n,l?n:i),g=n,b=i;g!==s;g+=p){var y=this.image.get(l?b:g,l?g:b);if(y!==x&&(m++,x=y),h+=d,h>0){if(b===o)break;b+=f,h-=u}}return m},t}(),s1=function(){function t(){this.decoder=new a1e}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Ar.PURE_BARCODE)){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(s),i=t.NO_POINTS}else{var o=new s1e(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var l=n.getRawBytes(),c=new fi(n.getText(),l,8*l.length,i,ot.DATA_MATRIX,Sr.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Jn.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(Jn.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Ie;var i=this.moduleSize(r,e),s=r[1],o=n[1],l=r[0],c=n[0],u=(c-l+1)/i,d=(o-s+1)/i;if(u<=0||d<=0)throw new Ie;var h=i/2;s+=h,l+=h;for(var f=new Bs(u,d),p=0;p<d;p++)for(var m=s+p*i,x=0;x<u;x++)e.get(l+x*i,m)&&f.set(x,p);return f},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],s=e[1];i<n&&r.get(i,s);)i++;if(i===n)throw new Ie;var o=i-e[0];if(o===0)throw new Ie;return o},t.NO_POINTS=[],t}(),o1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){o1e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new s1,r)||this}return e})(nh);var Wu;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Wu||(Wu={}));var l1e=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Jr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new lt;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Wu.L,"L",1),t.M=new t(Wu.M,"M",0),t.Q=new t(Wu.Q,"Q",3),t.H=new t(Wu.H,"H",2),t}(),c1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bk=function(){function t(e){this.errorCorrectionLevel=l1e.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return kt.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,s=Number.MAX_SAFE_INTEGER,o=0;try{for(var l=c1e(t.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var u=c.value,d=u[0];if(d===e||d===r)return new t(u[1]);var h=t.numBitsDiffering(e,d);h<s&&(o=u[1],s=h),e!==r&&(h=t.numBitsDiffering(r,d),h<s&&(o=u[1],s=h))}}catch(f){n={error:f}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return s<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),u1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var s=u1e(i),o=s.next();!o.done;o=s.next()){var l=o.value;n+=l.getCount()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),ie=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),d1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bc=function(){function t(e,r){for(var n,i,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;var l=0,c=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();try{for(var d=d1e(u),h=d.next();!h.done;h=d.next()){var f=h.value;l+=f.getCount()*(f.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new qe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new qe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new lt;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var s=t.VERSION_DECODE_INFO[i];if(s===e)return t.getVersionForNumber(i+7);var o=bk.numBitsDiffering(e,s);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Bs(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var s=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,s,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Ce(7,new ie(1,19)),new Ce(10,new ie(1,16)),new Ce(13,new ie(1,13)),new Ce(17,new ie(1,9))),new t(2,Int32Array.from([6,18]),new Ce(10,new ie(1,34)),new Ce(16,new ie(1,28)),new Ce(22,new ie(1,22)),new Ce(28,new ie(1,16))),new t(3,Int32Array.from([6,22]),new Ce(15,new ie(1,55)),new Ce(26,new ie(1,44)),new Ce(18,new ie(2,17)),new Ce(22,new ie(2,13))),new t(4,Int32Array.from([6,26]),new Ce(20,new ie(1,80)),new Ce(18,new ie(2,32)),new Ce(26,new ie(2,24)),new Ce(16,new ie(4,9))),new t(5,Int32Array.from([6,30]),new Ce(26,new ie(1,108)),new Ce(24,new ie(2,43)),new Ce(18,new ie(2,15),new ie(2,16)),new Ce(22,new ie(2,11),new ie(2,12))),new t(6,Int32Array.from([6,34]),new Ce(18,new ie(2,68)),new Ce(16,new ie(4,27)),new Ce(24,new ie(4,19)),new Ce(28,new ie(4,15))),new t(7,Int32Array.from([6,22,38]),new Ce(20,new ie(2,78)),new Ce(18,new ie(4,31)),new Ce(18,new ie(2,14),new ie(4,15)),new Ce(26,new ie(4,13),new ie(1,14))),new t(8,Int32Array.from([6,24,42]),new Ce(24,new ie(2,97)),new Ce(22,new ie(2,38),new ie(2,39)),new Ce(22,new ie(4,18),new ie(2,19)),new Ce(26,new ie(4,14),new ie(2,15))),new t(9,Int32Array.from([6,26,46]),new Ce(30,new ie(2,116)),new Ce(22,new ie(3,36),new ie(2,37)),new Ce(20,new ie(4,16),new ie(4,17)),new Ce(24,new ie(4,12),new ie(4,13))),new t(10,Int32Array.from([6,28,50]),new Ce(18,new ie(2,68),new ie(2,69)),new Ce(26,new ie(4,43),new ie(1,44)),new Ce(24,new ie(6,19),new ie(2,20)),new Ce(28,new ie(6,15),new ie(2,16))),new t(11,Int32Array.from([6,30,54]),new Ce(20,new ie(4,81)),new Ce(30,new ie(1,50),new ie(4,51)),new Ce(28,new ie(4,22),new ie(4,23)),new Ce(24,new ie(3,12),new ie(8,13))),new t(12,Int32Array.from([6,32,58]),new Ce(24,new ie(2,92),new ie(2,93)),new Ce(22,new ie(6,36),new ie(2,37)),new Ce(26,new ie(4,20),new ie(6,21)),new Ce(28,new ie(7,14),new ie(4,15))),new t(13,Int32Array.from([6,34,62]),new Ce(26,new ie(4,107)),new Ce(22,new ie(8,37),new ie(1,38)),new Ce(24,new ie(8,20),new ie(4,21)),new Ce(22,new ie(12,11),new ie(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Ce(30,new ie(3,115),new ie(1,116)),new Ce(24,new ie(4,40),new ie(5,41)),new Ce(20,new ie(11,16),new ie(5,17)),new Ce(24,new ie(11,12),new ie(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Ce(22,new ie(5,87),new ie(1,88)),new Ce(24,new ie(5,41),new ie(5,42)),new Ce(30,new ie(5,24),new ie(7,25)),new Ce(24,new ie(11,12),new ie(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Ce(24,new ie(5,98),new ie(1,99)),new Ce(28,new ie(7,45),new ie(3,46)),new Ce(24,new ie(15,19),new ie(2,20)),new Ce(30,new ie(3,15),new ie(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Ce(28,new ie(1,107),new ie(5,108)),new Ce(28,new ie(10,46),new ie(1,47)),new Ce(28,new ie(1,22),new ie(15,23)),new Ce(28,new ie(2,14),new ie(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Ce(30,new ie(5,120),new ie(1,121)),new Ce(26,new ie(9,43),new ie(4,44)),new Ce(28,new ie(17,22),new ie(1,23)),new Ce(28,new ie(2,14),new ie(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Ce(28,new ie(3,113),new ie(4,114)),new Ce(26,new ie(3,44),new ie(11,45)),new Ce(26,new ie(17,21),new ie(4,22)),new Ce(26,new ie(9,13),new ie(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Ce(28,new ie(3,107),new ie(5,108)),new Ce(26,new ie(3,41),new ie(13,42)),new Ce(30,new ie(15,24),new ie(5,25)),new Ce(28,new ie(15,15),new ie(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Ce(28,new ie(4,116),new ie(4,117)),new Ce(26,new ie(17,42)),new Ce(28,new ie(17,22),new ie(6,23)),new Ce(30,new ie(19,16),new ie(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Ce(28,new ie(2,111),new ie(7,112)),new Ce(28,new ie(17,46)),new Ce(30,new ie(7,24),new ie(16,25)),new Ce(24,new ie(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Ce(30,new ie(4,121),new ie(5,122)),new Ce(28,new ie(4,47),new ie(14,48)),new Ce(30,new ie(11,24),new ie(14,25)),new Ce(30,new ie(16,15),new ie(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Ce(30,new ie(6,117),new ie(4,118)),new Ce(28,new ie(6,45),new ie(14,46)),new Ce(30,new ie(11,24),new ie(16,25)),new Ce(30,new ie(30,16),new ie(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Ce(26,new ie(8,106),new ie(4,107)),new Ce(28,new ie(8,47),new ie(13,48)),new Ce(30,new ie(7,24),new ie(22,25)),new Ce(30,new ie(22,15),new ie(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Ce(28,new ie(10,114),new ie(2,115)),new Ce(28,new ie(19,46),new ie(4,47)),new Ce(28,new ie(28,22),new ie(6,23)),new Ce(30,new ie(33,16),new ie(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Ce(30,new ie(8,122),new ie(4,123)),new Ce(28,new ie(22,45),new ie(3,46)),new Ce(30,new ie(8,23),new ie(26,24)),new Ce(30,new ie(12,15),new ie(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Ce(30,new ie(3,117),new ie(10,118)),new Ce(28,new ie(3,45),new ie(23,46)),new Ce(30,new ie(4,24),new ie(31,25)),new Ce(30,new ie(11,15),new ie(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Ce(30,new ie(7,116),new ie(7,117)),new Ce(28,new ie(21,45),new ie(7,46)),new Ce(30,new ie(1,23),new ie(37,24)),new Ce(30,new ie(19,15),new ie(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Ce(30,new ie(5,115),new ie(10,116)),new Ce(28,new ie(19,47),new ie(10,48)),new Ce(30,new ie(15,24),new ie(25,25)),new Ce(30,new ie(23,15),new ie(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Ce(30,new ie(13,115),new ie(3,116)),new Ce(28,new ie(2,46),new ie(29,47)),new Ce(30,new ie(42,24),new ie(1,25)),new Ce(30,new ie(23,15),new ie(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Ce(30,new ie(17,115)),new Ce(28,new ie(10,46),new ie(23,47)),new Ce(30,new ie(10,24),new ie(35,25)),new Ce(30,new ie(19,15),new ie(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Ce(30,new ie(17,115),new ie(1,116)),new Ce(28,new ie(14,46),new ie(21,47)),new Ce(30,new ie(29,24),new ie(19,25)),new Ce(30,new ie(11,15),new ie(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Ce(30,new ie(13,115),new ie(6,116)),new Ce(28,new ie(14,46),new ie(23,47)),new Ce(30,new ie(44,24),new ie(7,25)),new Ce(30,new ie(59,16),new ie(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Ce(30,new ie(12,121),new ie(7,122)),new Ce(28,new ie(12,47),new ie(26,48)),new Ce(30,new ie(39,24),new ie(14,25)),new Ce(30,new ie(22,15),new ie(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Ce(30,new ie(6,121),new ie(14,122)),new Ce(28,new ie(6,47),new ie(34,48)),new Ce(30,new ie(46,24),new ie(10,25)),new Ce(30,new ie(2,15),new ie(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Ce(30,new ie(17,122),new ie(4,123)),new Ce(28,new ie(29,46),new ie(14,47)),new Ce(30,new ie(49,24),new ie(10,25)),new Ce(30,new ie(24,15),new ie(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Ce(30,new ie(4,122),new ie(18,123)),new Ce(28,new ie(13,46),new ie(32,47)),new Ce(30,new ie(48,24),new ie(14,25)),new Ce(30,new ie(42,15),new ie(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Ce(30,new ie(20,117),new ie(4,118)),new Ce(28,new ie(40,47),new ie(7,48)),new Ce(30,new ie(43,24),new ie(22,25)),new Ce(30,new ie(10,15),new ie(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Ce(30,new ie(19,118),new ie(6,119)),new Ce(28,new ie(18,47),new ie(31,48)),new Ce(30,new ie(34,24),new ie(34,25)),new Ce(30,new ie(20,15),new ie(61,16)))],t}(),Dn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Dn||(Dn={}));var EA=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Dn.DATA_MASK_000,new t(Dn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Dn.DATA_MASK_001,new t(Dn.DATA_MASK_001,function(e,r){return(e&1)===0})],[Dn.DATA_MASK_010,new t(Dn.DATA_MASK_010,function(e,r){return r%3===0})],[Dn.DATA_MASK_011,new t(Dn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Dn.DATA_MASK_100,new t(Dn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Dn.DATA_MASK_101,new t(Dn.DATA_MASK_101,function(e,r){return e*r%6===0})],[Dn.DATA_MASK_110,new t(Dn.DATA_MASK_110,function(e,r){return e*r%6<3})],[Dn.DATA_MASK_111,new t(Dn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),h1e=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new qe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),s=0,o=i-7,n=i-1;n>=o;n--)s=this.copyBit(8,n,s);for(var r=i-8;r<i;r++)s=this.copyBit(r,8,s);if(this.parsedFormatInfo=bk.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new qe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return bc.getVersionForNumber(r);for(var n=0,i=e-11,s=5;s>=0;s--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,s,n);var l=bc.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;n=0;for(var o=5;o>=0;o--)for(var s=e-9;s>=i;s--)n=this.copyBit(o,s,n);if(l=bc.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new qe},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=EA.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var s=r.buildFunctionPattern(),o=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,h=i-1;h>0;h-=2){h===6&&h--;for(var f=0;f<i;f++)for(var p=o?i-1-f:f,m=0;m<2;m++)s.get(h-m,p)||(d++,u<<=1,this.bitMatrix.get(h-m,p)&&(u|=1),d===8&&(l[c++]=u,d=0,u=0));o=!o}if(c!==r.getTotalCodewords())throw new qe;return l},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=EA.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,s=e.getHeight();i<s;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),OA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f1e=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,s,o,l;if(e.length!==r.getTotalCodewords())throw new lt;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var h=OA(d),f=h.next();!f.done;f=h.next()){var p=f.value;u+=p.getCount()}}catch(B){i={error:B}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var m=new Array(u),x=0;try{for(var g=OA(d),b=g.next();!b.done;b=g.next())for(var p=b.value,y=0;y<p.getCount();y++){var w=p.getDataCodewords(),N=c.getECCodewordsPerBlock()+w;m[x++]=new t(w,new Uint8Array(N))}}catch(B){o={error:B}}finally{try{b&&!b.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}for(var _=m[0].codewords.length,S=m.length-1;S>=0;){var A=m[S].codewords.length;if(A===_)break;S--}S++;for(var E=_-c.getECCodewordsPerBlock(),D=0,y=0;y<E;y++)for(var F=0;F<x;F++)m[F].codewords[y]=e[D++];for(var F=S;F<x;F++)m[F].codewords[E]=e[D++];for(var k=m[0].codewords.length,y=E;y<k;y++)for(var F=0;F<x;F++){var O=F<S?y:y+1;m[F].codewords[O]=e[D++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),ja;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(ja||(ja={}));var Or=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new lt;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ja.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ja.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ja.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ja.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ja.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ja.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ja.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ja.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ja.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ja.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),p1e=function(){function t(){}return t.decode=function(e,r,n,i){var s=new vk(e),o=new Ot,l=new Array,c=-1,u=-1;try{var d=null,h=!1,f=void 0;do{if(s.available()<4)f=Or.TERMINATOR;else{var p=s.readBits(4);f=Or.forBits(p)}switch(f){case Or.TERMINATOR:break;case Or.FNC1_FIRST_POSITION:case Or.FNC1_SECOND_POSITION:h=!0;break;case Or.STRUCTURED_APPEND:if(s.available()<16)throw new qe;c=s.readBits(8),u=s.readBits(8);break;case Or.ECI:var m=t.parseECIValue(s);if(d=jn.getCharacterSetECIByValue(m),d===null)throw new qe;break;case Or.HANZI:var x=s.readBits(4),g=s.readBits(f.getCharacterCountBits(r));x===t.GB2312_SUBSET&&t.decodeHanziSegment(s,o,g);break;default:var b=s.readBits(f.getCharacterCountBits(r));switch(f){case Or.NUMERIC:t.decodeNumericSegment(s,o,b);break;case Or.ALPHANUMERIC:t.decodeAlphanumericSegment(s,o,b,h);break;case Or.BYTE:t.decodeByteSegment(s,o,b,d,l,i);break;case Or.KANJI:t.decodeKanjiSegment(s,o,b);break;default:throw new qe}break}}while(f!==Or.TERMINATOR)}catch{throw new qe}return new vg(e,o.toString(),l.length===0?null:l,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new qe;for(var i=new Uint8Array(2*n),s=0;n>0;){var o=e.readBits(13),l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,i[s]=l>>8&255,i[s+1]=l&255,s+=2,n--}try{r.append(Ea.decode(i,zt.GB2312))}catch(c){throw new qe(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new qe;for(var i=new Uint8Array(2*n),s=0;n>0;){var o=e.readBits(13),l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,i[s]=l>>8,i[s+1]=l,s+=2,n--}try{r.append(Ea.decode(i,zt.SHIFT_JIS))}catch(c){throw new qe(c)}},t.decodeByteSegment=function(e,r,n,i,s,o){if(8*n>e.available())throw new qe;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=e.readBits(8);var u;i===null?u=zt.guessEncoding(l,o):u=i.getName();try{r.append(Ea.decode(l,u))}catch(d){throw new qe(d)}s.push(l)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new qe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var s=r.length();n>1;){if(e.available()<11)throw new qe;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new qe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var l=s;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new qe;var i=e.readBits(10);if(i>=1e3)throw new qe;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new qe;var s=e.readBits(7);if(s>=100)throw new qe;r.append(t.toAlphaNumericChar(Math.floor(s/10))),r.append(t.toAlphaNumericChar(s%10))}else if(n===1){if(e.available()<4)throw new qe;var o=e.readBits(4);if(o>=10)throw new qe;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new qe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),yk=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),PA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m1e=function(){function t(){this.rsDecoder=new bg($i.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Bs.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new h1e(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var s=this.decodeBitMatrixParser(n,r);return s.setOther(new yk(!0)),s}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,s,o,l=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=f1e.getDataBlocks(u,l,c),h=0;try{for(var f=PA(d),p=f.next();!p.done;p=f.next()){var m=p.value;h+=m.getNumDataCodewords()}}catch(S){n={error:S}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var x=new Uint8Array(h),g=0;try{for(var b=PA(d),y=b.next();!y.done;y=b.next()){var m=y.value,w=m.getCodewords(),N=m.getNumDataCodewords();this.correctErrors(w,N);for(var _=0;_<N;_++)x[g++]=w[_]}}catch(S){s={error:S}}finally{try{y&&!y.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}return p1e.decode(x,l,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new un}for(var i=0;i<r;i++)e[i]=n[i]},t}(),x1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g1e=function(t){x1e(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=(this.getX()+n)/2,o=(this.getY()+r)/2,l=(this.estimatedModuleSize+i)/2;return new e(s,o,l)},e}(nt),v1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b1e=function(){function t(e,r,n,i,s,o,l){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=s,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,s=this.startY+r/2,o=new Int32Array(3),l=this.image,c=0;c<r;c++){var u=s+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!l.get(d,u);)d++;for(var h=0;d<i;){if(l.get(d,u))if(h===1)o[1]++;else if(h===2){if(this.foundPatternCross(o)){var f=this.handlePossibleCenter(o,u,d);if(f!==null)return f}o[0]=o[2],o[1]=1,o[2]=0,h=1}else o[++h]++;else h===1&&h++,o[h]++;d++}if(this.foundPatternCross(o)){var f=this.handlePossibleCenter(o,u,i);if(f!==null)return f}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ie},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var s=this.image,o=s.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=e;c>=0&&s.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!s.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&s.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===o||l[1]>n)return NaN;for(;c<o&&!s.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var u=l[0]+l[1]+l[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,s,o=e[0]+e[1]+e[2],l=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,l,2*e[1],o);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=v1e(this.possibleCenters),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.aboutEquals(u,c,l))return f.combineEstimate(c,l,u)}}catch(m){i={error:m}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}var p=new g1e(l,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),y1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w1e=function(t){y1e(e,t);function e(r,n,i,s){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=s,s===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=this.count+1,o=(this.count*this.getX()+n)/s,l=(this.count*this.getY()+r)/s,c=(this.count*this.estimatedModuleSize+i)/s;return new e(o,l,c,s)},e}(nt),j1e=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),ef=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N1e=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Ar.TRY_HARDER)!==void 0,n=e!=null&&e.get(Ar.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),o=i.getWidth(),l=Math.floor(3*s/(4*t.MAX_MODULES));(l<t.MIN_SKIP||r)&&(l=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=l-1;d<s&&!c;d+=l){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var h=0,f=0;f<o;f++)if(i.get(f,d))(h&1)===1&&h++,u[h]++;else if(h&1)u[h]++;else if(h===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,f,n);if(p===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-l,f=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,h=3;continue}h=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,h=3;else u[++h]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(l=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return nt.orderBestPatterns(x),new j1e(x)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var s=r/7,o=s/2;return Math.abs(s-e[0])<o&&Math.abs(s-e[1])<o&&Math.abs(3*s-e[2])<3*o&&Math.abs(s-e[3])<o&&Math.abs(s-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var s=this.getCrossCheckStateCount(),o=0,l=this.image;e>=o&&r>=o&&l.get(r-o,e-o);)s[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!l.get(r-o,e-o)&&s[1]<=n;)s[1]++,o++;if(e<o||r<o||s[1]>n)return!1;for(;e>=o&&r>=o&&l.get(r-o,e-o)&&s[0]<=n;)s[0]++,o++;if(s[0]>n)return!1;var c=l.getHeight(),u=l.getWidth();for(o=1;e+o<c&&r+o<u&&l.get(r+o,e+o);)s[2]++,o++;if(e+o>=c||r+o>=u)return!1;for(;e+o<c&&r+o<u&&!l.get(r+o,e+o)&&s[3]<n;)s[3]++,o++;if(e+o>=c||r+o>=u||s[3]>=n)return!1;for(;e+o<c&&r+o<u&&l.get(r+o,e+o)&&s[4]<n;)s[4]++,o++;if(s[4]>=n)return!1;var d=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(s)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var s=this.image,o=s.getHeight(),l=this.getCrossCheckStateCount(),c=e;c>=0&&s.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&s.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&s.get(r,c);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!s.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&s.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var s=this.image,o=s.getWidth(),l=this.getCrossCheckStateCount(),c=e;c>=0&&s.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&s.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=e+1;c<o&&s.get(c,r);)l[2]++,c++;if(c===o)return NaN;for(;c<o&&!s.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===o||l[3]>=n)return NaN;for(;c<o&&s.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(l)?t.centerFromEnd(l,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,Math.floor(o),e[2],s);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],s),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],s)))){for(var c=s/7,u=!1,d=this.possibleCenters,h=0,f=d.length;h<f;h++){var p=d[h];if(p.aboutEquals(c,l,o)){d[h]=p.combineEstimate(l,o,c),u=!0;break}}if(!u){var m=new w1e(o,l,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var s=ef(this.possibleCenters),o=s.next();!o.done;o=s.next()){var l=o.value;if(l.getCount()>=t.CENTER_QUORUM)if(i==null)i=l;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-l.getX())-Math.abs(i.getY()-l.getY()))/2)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,s=0,o=0,l=this.possibleCenters.length;try{for(var c=ef(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(s++,o+=d.getEstimatedModuleSize())}}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(s<3)return!1;var h=o/l,f=0;try{for(var p=ef(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;f+=Math.abs(d.getEstimatedModuleSize()-h)}}catch(x){n={error:x}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return f<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,s=this.possibleCenters.length;if(s<3)throw new Ie;var o=this.possibleCenters,l;if(s>3){var c=0,u=0;try{for(var d=ef(this.possibleCenters),h=d.next();!h.done;h=d.next()){var f=h.value,p=f.getEstimatedModuleSize();c+=p,u+=p*p}}catch(_){e={error:_}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}l=c/s;var m=Math.sqrt(u/s-l*l);o.sort(function(_,S){var A=Math.abs(S.getEstimatedModuleSize()-l),E=Math.abs(_.getEstimatedModuleSize()-l);return A<E?-1:A>E?1:0});for(var x=Math.max(.2*l,m),g=0;g<o.length&&o.length>3;g++){var b=o[g];Math.abs(b.getEstimatedModuleSize()-l)>x&&(o.splice(g,1),g--)}}if(o.length>3){var c=0;try{for(var y=ef(o),w=y.next();!w.done;w=y.next()){var N=w.value;c+=N.getEstimatedModuleSize()}}catch(S){n={error:S}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}l=c/o.length,o.sort(function(S,A){if(A.getCount()===S.getCount()){var E=Math.abs(A.getEstimatedModuleSize()-l),D=Math.abs(S.getEstimatedModuleSize()-l);return E<D?1:E>D?-1:0}else return A.getCount()-S.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),_1e=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ar.NEED_RESULT_POINT_CALLBACK);var r=new N1e(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(r,n,i);if(s<1)throw new Ie("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,s),l=bc.getProvisionalVersionForDimension(o),c=l.getDimensionForVersion()-7,u=null;if(l.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),h=n.getY()-r.getY()+i.getY(),f=1-3/c,p=Math.floor(r.getX()+f*(d-r.getX())),m=Math.floor(r.getY()+f*(h-r.getY())),x=4;x<=16;x<<=1)try{u=this.findAlignmentInRegion(s,p,m,x);break}catch(w){if(!(w instanceof Ie))throw w}var g=t.createTransform(r,n,i,u,o),b=t.sampleGrid(this.image,g,o),y;return u===null?y=[i,r,n]:y=[i,r,n,u],new Y5(b,y)},t.createTransform=function(e,r,n,i,s){var o=s-3.5,l,c,u,d;return i!==null?(l=i.getX(),c=i.getY(),u=o-3,d=u):(l=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=o,d=o),pk.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=K5.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var s=Wt.round(nt.distance(e,r)/i),o=Wt.round(nt.distance(e,n)/i),l=Math.floor((s+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Ie("Dimensions could be not found.")}return l},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var s=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,l=e-(n-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*o);return o=1,c<0?(o=r/(r-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),s+=this.sizeOfBlackWhiteBlackRun(e,r,l,c),s-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var s=Math.abs(i-r)>Math.abs(n-e);if(s){var o=e;e=r,r=o,o=n,n=i,i=o}for(var l=Math.abs(n-e),c=Math.abs(i-r),u=-l/2,d=e<n?1:-1,h=r<i?1:-1,f=0,p=n+d,m=e,x=r;m!==p;m+=d){var g=s?x:m,b=s?m:x;if(f===1===this.image.get(g,b)){if(f===2)return Wt.distance(m,x,e,r);f++}if(u+=c,u>0){if(x===i)break;x+=h,u-=l}}return f===2?Wt.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var s=Math.floor(i*e),o=Math.max(0,r-s),l=Math.min(this.image.getWidth()-1,r+s);if(l-o<e*3)throw new Ie("Alignment top exceeds estimated module size.");var c=Math.max(0,n-s),u=Math.min(this.image.getHeight()-1,n+s);if(u-c<e*3)throw new Ie("Alignment bottom exceeds estimated module size.");var d=new b1e(this.image,o,c,l-o,u-c,e,this.resultPointCallback);return d.find()},t}(),o1=function(){function t(){this.decoder=new m1e}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Ar.PURE_BARCODE)!==void 0){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(s,r),i=t.NO_POINTS}else{var o=new _1e(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof yk&&n.getOther().applyMirroredCorrection(i);var l=new fi(n.getText(),n.getRawBytes(),void 0,i,ot.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(Jn.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&l.putMetadata(Jn.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(l.putMetadata(Jn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(Jn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Ie;var i=this.moduleSize(r,e),s=r[1],o=n[1],l=r[0],c=n[0];if(l>=c||s>=o)throw new Ie;if(o-s!==c-l&&(c=l+(o-s),c>=e.getWidth()))throw new Ie;var u=Math.round((c-l+1)/i),d=Math.round((o-s+1)/i);if(u<=0||d<=0)throw new Ie;if(d!==u)throw new Ie;var h=Math.floor(i/2);s+=h,l+=h;var f=l+Math.floor((u-1)*i)-c;if(f>0){if(f>h)throw new Ie;l-=f}var p=s+Math.floor((d-1)*i)-o;if(p>0){if(p>h)throw new Ie;s-=p}for(var m=new Bs(u,d),x=0;x<d;x++)for(var g=s+Math.floor(x*i),b=0;b<u;b++)e.get(l+Math.floor(b*i),g)&&m.set(b,x);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),s=e[0],o=e[1],l=!0,c=0;s<i&&o<n;){if(l!==r.get(s,o)){if(++c===5)break;l=!l}s++,o++}if(s===i||o===n)throw new Ie;return(s-e[0])/7},t.NO_POINTS=new Array,t}(),S1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ht=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Wt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var o=S1e(e),l=o.next();!l.done;l=o.next()){var c=l.value;i[s++]=c}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=_n.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),A1e=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),C1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E1e=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),s=t.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=t.detect(n,i)),new A1e(i,s)},t.detect=function(e,r){for(var n,i,s=new Array,o=0,l=0,c=!1;o<r.getHeight();){var u=t.findVertices(r,o,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;try{for(var d=(n=void 0,C1e(s)),h=d.next();!h.done;h=d.next()){var f=h.value;f[1]!=null&&(o=Math.trunc(Math.max(o,f[1].getY()))),f[3]!=null&&(o=Math.max(o,Math.trunc(f[3].getY())))}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(c=!0,s.push(u),!e)break;u[2]!=null?(l=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return s},t.findVertices=function(e,r,n){var i=e.getHeight(),s=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,s,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,s,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,s,o){for(var l=new Array(4),c=!1,u=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,s,i,n,!1,o,u);if(d!=null){for(;i>0;){var h=t.findGuardPattern(e,s,--i,n,!1,o,u);if(h!=null)d=h;else{i++;break}}l[0]=new nt(d[0],i),l[1]=new nt(d[1],i),c=!0;break}}var f=i+1;if(c){for(var p=0,h=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);f<r;f++){var d=t.findGuardPattern(e,h[0],f,n,!1,o,u);if(d!=null&&Math.abs(h[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(h[1]-d[1])<t.MAX_PATTERN_DRIFT)h=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}f-=p+1,l[2]=new nt(h[0],f),l[3]=new nt(h[1],f)}return f-i<t.BARCODE_MIN_HEIGHT&&_n.fill(l,null),l},t.findGuardPattern=function(e,r,n,i,s,o,l){_n.fillWithin(l,0,l.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,h=0,f=o.length,p=s;d<i;d++){var m=e.get(d,n);if(m!==p)l[h]++;else{if(h===f-1){if(t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=l[0]+l[1],Sr.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,p=!p}}return h===f-1&&t.patternMatchVariance(l,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,o=0,l=0;l<i;l++)s+=e[l],o+=r[l];if(s<o)return 1/0;var c=s/o;n*=c;for(var u=0,d=0;d<i;d++){var h=e[d],f=r[d]*c,p=h>f?h-f:f-h;if(p>n)return 1/0;u+=p}return u/s},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),O1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dc=function(){function t(e,r){if(r.length===0)throw new lt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Sr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=O1e(this.coefficients),o=s.next();!o.done;o=s.next()){var l=o.value;i=this.field.add(i,l)}}catch(h){r={error:h}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),o=n.length-r.length;Sr.arraycopy(n,0,s,0,o);for(var l=o;l<n.length;l++)s[l]=this.field.add(r[l-o],n[l]);return new t(this.field,s)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new lt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,o=new Int32Array(n+s-1),l=0;l<n;l++)for(var c=r[l],u=0;u<s;u++)o[l+u]=this.field.add(o[l+u],this.field.multiply(c,i[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new lt;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Ot,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),P1e=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new lt;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new fk;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),k1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T1e=function(t){k1e(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var s=1,o=0;o<r;o++)i.expTable[o]=s,s=s*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new dc(i,new Int32Array([0])),i.one=new dc(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new lt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new dc(this,i)},e.PDF417_GF=new e(Ht.NUMBER_OF_CODEWORDS,3),e}(P1e),I1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D1e=function(){function t(){this.field=T1e.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,s,o=new dc(this.field,e),l=new Int32Array(r),c=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));l[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var h=this.field.getOne();if(n!=null)try{for(var f=I1e(n),p=f.next();!p.done;p=f.next()){var m=p.value,x=this.field.exp(e.length-1-m),g=new dc(this.field,new Int32Array([this.field.subtract(0,x),1]));h=h.multiply(g)}}catch(E){i={error:E}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}for(var b=new dc(this.field,l),y=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),b,r),w=y[0],N=y[1],_=this.findErrorLocations(w),S=this.findErrorMagnitudes(N,w,_),u=0;u<_.length;u++){var A=e.length-1-this.field.log(_[u]);if(A<0)throw un.getChecksumInstance();e[A]=this.field.subtract(e[A],S[u])}return _.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=e,o=r,l=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=s,d=l;if(s=o,l=c,s.isZero())throw un.getChecksumInstance();o=u;for(var h=this.field.getZero(),f=s.getCoefficient(s.getDegree()),p=this.field.inverse(f);o.getDegree()>=s.getDegree()&&!o.isZero();){var m=o.getDegree()-s.getDegree(),x=this.field.multiply(o.getCoefficient(o.getDegree()),p);h=h.add(this.field.buildMonomial(m,x)),o=o.subtract(s.multiplyByMonomial(m,x))}c=h.multiply(l).subtract(d).negative()}var g=c.getCoefficient(0);if(g===0)throw un.getChecksumInstance();var b=this.field.inverse(g),y=c.multiply(b),w=o.multiply(b);return[y,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,s=1;s<this.field.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==r)throw un.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),s=new Int32Array(i),o=1;o<=i;o++)s[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var l=new dc(this.field,s),c=n.length,u=new Int32Array(c),o=0;o<c;o++){var d=this.field.inverse(n[o]),h=this.field.subtract(0,e.evaluateAt(d)),f=this.field.inverse(l.evaluateAt(d));u[o]=this.field.multiply(h,f)}return u},t}(),ew=function(){function t(e,r,n,i,s){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,s)}return t.prototype.constructor_1=function(e,r,n,i,s){var o=r==null||n==null,l=i==null||s==null;if(o&&l)throw new Ie;o?(r=new nt(0,i.getY()),n=new nt(0,s.getY())):l&&(i=new nt(e.getWidth()-1,r.getY()),s=new nt(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,s=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var d=new nt(c.getX(),u);n?i=d:o=d}if(r>0){var h=n?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+r);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var p=new nt(h.getX(),f);n?s=p:l=p}return new t(this.image,i,s,o,l)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),M1e=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Z5=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,l,c,u,d,h){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var f=d?parseInt(d.substr(1)):void 0,p;switch(h){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(f||16);break;case"d":p=parseFloat(parseInt(r[n],f||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(f);for(var m=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=l!==void 0?p+x:x+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),L1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wk=function(){function t(e){this.boundingBox=new ew(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Z5,i=0;try{for(var s=L1e(this.codewords),o=s.next();!o.done;o=s.next()){var l=o.value;if(l==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,l.getRowNumber(),l.getValue())}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),R1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F1e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},cf=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,s=function(h,f){var p={getKey:function(){return h},getValue:function(){return f}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=R1e(this.values.entries()),l=o.next();!l.done;l=o.next()){var c=F1e(l.value,2),u=c[0],d=c[1];s(u,d)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return Ht.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),B1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ob=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kA=function(t){B1e(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Ob(this.getCodewords()),s=i.next();!s.done;s=i.next()){var o=s.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,h=0,f=l;f<c;f++)if(n[f]!=null){var p=n[f],m=p.getRowNumber()-u;if(m===0)h++;else if(m===1)d=Math.max(d,h),h=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>f)n[f]=null;else{var x=void 0;d>2?x=(d-2)*m:x=m;for(var g=x>=f,b=1;b<=x&&!g;b++)g=n[f-b]!=null;g?n[f]=null:(u=p.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var o=Ob(this.getCodewords()),l=o.next();!l.done;l=o.next()){var c=l.value;if(c!=null){var u=c.getRowNumber();if(u>=s.length)continue;s[u]++}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.getCodewords(),u=-1,d=o;d<l;d++)if(c[d]!=null){var h=c[d];h.setRowNumberAsRowIndicatorColumn();var f=h.getRowNumber()-u;f===0||(f===1?u=h.getRowNumber():h.getRowNumber()>=r.getRowCount()?c[d]=null:u=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),s=new cf,o=new cf,l=new cf,c=new cf;try{for(var u=Ob(i),d=u.next();!d.done;d=u.next()){var h=d.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var f=h.getValue()%30,p=h.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(f*3+1);break;case 1:c.setValue(f/3),l.setValue(f%3);break;case 2:s.setValue(f+1);break}}}}catch(x){r={error:x}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Ht.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Ht.MAX_ROWS_IN_BARCODE)return null;var m=new M1e(s.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var s=r[i];if(r[i]!=null){var o=s.getValue()%30,l=s.getRowNumber();if(l>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(wk),$1e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z1e=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ht.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,o=this.barcodeColumnCount+1;o>0&&s<this.ADJUST_ROW_NUMBER_SKIP;o--){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(s=t.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,o=1;o<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;o++){var l=this.detectionResultColumns[o].getCodewords()[n];l!=null&&(s=t.adjustRowNumberIfValid(i,s,l),l.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,s;if(this.detectionResultColumns[e-1]!=null){var o=n[r],l=this.detectionResultColumns[e-1].getCodewords(),c=l;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=l[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=l[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=l[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=l[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=l[r+2],u[13]=c[r+2]);try{for(var d=$1e(u),h=d.next();!h.done;h=d.next()){var f=h.value;if(t.adjustRowNumber(o,f))return}}catch(p){i={error:p}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Z5,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()},t}(),U1e=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),H1e=function(){function t(){}return t.initialize=function(){for(var e=0;e<Ht.SYMBOL_TABLE.length;e++)for(var r=Ht.SYMBOL_TABLE[e],n=r&1,i=0;i<Ht.BARS_IN_MODULE;i++){for(var s=0;(r&1)===n;)s+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ht.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ht.BARS_IN_MODULE-i-1]=Math.fround(s/Ht.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Wt.sum(e),n=new Int32Array(Ht.BARS_IN_MODULE),i=0,s=0,o=0;o<Ht.MODULES_IN_CODEWORD;o++){var l=r/(2*Ht.MODULES_IN_CODEWORD)+o*r/Ht.MODULES_IN_CODEWORD;s+e[i]<=l&&(s+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Ht.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Wt.sum(e),n=new Array(Ht.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var s=J2.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var l=0;l<t.RATIOS_TABLE.length;l++){for(var c=0,u=t.RATIOS_TABLE[l],d=0;d<Ht.BARS_IN_MODULE;d++){var h=Math.fround(u[d]-n[d]);if(c+=Math.fround(h*h),c>=s)break}c<s&&(s=c,o=Ht.SYMBOL_TABLE[l])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ht.SYMBOL_TABLE.length).map(function(e){return new Array(Ht.BARS_IN_MODULE)}),t}(),q1e=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),TA=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),W1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V1e=function(t){W1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Vi),G1e=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new V1e;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new X5;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),X1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y1e=function(t){X1e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Vi),K1e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J1e=function(t){K1e(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new lt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new Y1e;i=kt.MAX_VALUE}this.buf=_n.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new X5;this.ensureCapacity(this.count+i),Sr.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return _n.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(G1e),dr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(dr||(dr={}));function jk(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ym;function nl(t){if(typeof ym>"u"&&(ym=jk()),ym===null)throw new Error("BigInt is not supported!");return ym(t)}function Z1e(){var t=[];t[0]=nl(1);var e=nl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var Q1e=function(){function t(){}return t.decode=function(e,r){var n=new Ot(""),i=jn.ISO8859_1;n.enableDecoding(i);for(var s=1,o=e[s++],l=new q1e;s<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:s=t.textCompaction(e,s,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:s=t.byteCompaction(o,e,i,s,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:s=t.numericCompaction(e,s,n);break;case t.ECI_CHARSET:jn.getCharacterSetECIByValue(e[s++]);break;case t.ECI_GENERAL_PURPOSE:s+=2;break;case t.ECI_USER_DEFINED:s++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=t.decodeMacroBlock(e,s,l);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new qe;default:s--,s=t.textCompaction(e,s,n);break}if(s<e.length)o=e[s++];else throw qe.getFormatInstance()}if(n.length()===0)throw qe.getFormatInstance();var c=new vg(null,n.toString(),null,r);return c.setOther(l),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw qe.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<t.NUMBER_OF_SEQUENCE_CODEWORDS;s++,r++)i[s]=e[r];n.setSegmentIndex(kt.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Ot;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var l=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Ot;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Ot;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Ot;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new Ot;r=t.numericCompaction(e,r+1,h),n.setSegmentCount(kt.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new Ot;r=t.numericCompaction(e,r+1,f),n.setTimestamp(TA.parseLong(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Ot;r=t.numericCompaction(e,r+1,p),n.setChecksum(kt.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Ot;r=t.numericCompaction(e,r+1,m),n.setFileSize(TA.parseLong(m.toString()));break;default:throw qe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw qe.getFormatInstance()}if(l!==-1){var x=r-l;n.isLastSegment()&&x--,n.setOptionalData(_n.copyOfRange(e,l,l+x))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),s=new Int32Array((e[0]-r)*2),o=0,l=!1;r<e[0]&&!l;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[o]=c/30,i[o+1]=c%30,o+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],s[o]=c,o++;break}}return t.decodeTextCompaction(i,s,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var s=dr.ALPHA,o=dr.ALPHA,l=0;l<n;){var c=e[l],u="";switch(s){case dr.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:s=dr.LOWER;break;case t.ML:s=dr.MIXED;break;case t.PS:o=s,s=dr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:o=s,s=dr.ALPHA_SHIFT;break;case t.ML:s=dr.MIXED;break;case t.PS:o=s,s=dr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:s=dr.PUNCT;break;case 26:u=" ";break;case t.LL:s=dr.LOWER;break;case t.AL:s=dr.ALPHA;break;case t.PS:o=s,s=dr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:s=dr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.ALPHA_SHIFT:if(s=o,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break;case dr.PUNCT_SHIFT:if(s=o,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:s=dr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[l]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dr.ALPHA;break}break}u!==""&&i.append(u),l++}},t.byteCompaction=function(e,r,n,i,s){var o=new J1e,l=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),h=r[i++];i<r[0]&&!u;)switch(d[l++]=h,c=900*c+h,h=r[i++],h){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(l%5===0&&l>0){for(var f=0;f<6;++f)o.write(Number(nl(c)>>nl(8*(5-f))));c=0,l=0}break}i===r[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=h);for(var p=0;p<l;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(l%5===0&&l>0){for(var f=0;f<6;++f)o.write(Number(nl(c)>>nl(8*(5-f))));c=0,l=0}}break}return s.append(Ea.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,s=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!s;){var l=e[r++];if(r===e[0]&&(s=!0),l<t.TEXT_COMPACTION_MODE_LATCH)o[i]=l,i++;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||l===t.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=nl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*nl(e[i]);var s=n.toString();if(s.charAt(0)!=="1")throw new qe;return s.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=jk()?Z1e():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),tf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ege=function(){function t(){}return t.decode=function(e,r,n,i,s,o,l){for(var c=new ew(e,r,n,i,s),u=null,d=null,h,f=!0;;f=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,o,l)),i!=null&&(d=t.getRowIndicatorColumn(e,c,i,!1,o,l)),h=t.merge(u,d),h==null)throw Ie.getNotFoundInstance();var p=h.getBoundingBox();if(f&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}h.setBoundingBox(c);var m=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,u),h.setDetectionResultColumn(m,d);for(var x=u!=null,g=1;g<=m;g++){var b=x?g:m-g;if(h.getDetectionResultColumn(b)===void 0){var y=void 0;b===0||b===m?y=new kA(c,b===0):y=new wk(c),h.setDetectionResultColumn(b,y);for(var w=-1,N=w,_=c.getMinY();_<=c.getMaxY();_++){if(w=t.getStartColumn(h,b,_,x),w<0||w>c.getMaxX()){if(N===-1)continue;w=N}var S=t.detectCodeword(e,c.getMinX(),c.getMaxX(),x,w,_,o,l);S!=null&&(y.setCodeword(_,S),N=w,o=Math.min(o,S.getWidth()),l=Math.max(l,S.getWidth()))}}}return t.createDecoderResult(h)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=ew.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new z1e(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=t.getMax(i),o=0;try{for(var l=tf(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(o+=s-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),h=0;o>0&&d[h]==null;h++)o--;for(var f=0,h=i.length-1;h>=0&&(f+=s-i[h],!(i[h]>0));h--);for(var h=d.length-1;f>0&&d[h]==null;h--)f--;return e.getBoundingBox().addMissingRows(o,f,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var s=tf(e),o=s.next();!o.done;o=s.next()){var l=o.value;i=Math.max(i,l)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,s,o){for(var l=new kA(r,i),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),h=Math.trunc(Math.trunc(n.getY()));h<=r.getMaxY()&&h>=r.getMinY();h+=u){var f=t.detectCodeword(e,0,e.getWidth(),i,d,h,s,o);f!=null&&(l.setCodeword(h,f),i?d=f.getStartX():d=f.getEndX())}return l},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>Ht.MAX_CODEWORDS_IN_BARCODE)throw Ie.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],o=new Array,l=0;l<e.getBarcodeRowCount();l++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[l][c+1].getValue(),d=l*e.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(o.push(d),s.push(u))}for(var h=new Array(s.length),f=0;f<h.length;f++)h[f]=s[f];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ht.toIntArray(n),Ht.toIntArray(o),h)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,s){for(var o=new Int32Array(i.length),l=100;l-- >0;){for(var c=0;c<o.length;c++)r[i[c]]=s[c][o[c]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof un;if(!u)throw d}if(o.length===0)throw un.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<s[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw un.getChecksumInstance()}throw un.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,s,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),l=0;l<o.length;l++)for(var c=0;c<o[l].length;c++)o[l][c]=new cf;var u=0;try{for(var d=tf(e.getDetectionResultColumns()),h=d.next();!h.done;h=d.next()){var f=h.value;if(f!=null)try{for(var p=(i=void 0,tf(f.getCodewords())),m=p.next();!m.done;m=p.next()){var x=m.value;if(x!=null){var g=x.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][u].setValue(x.getValue())}}}}catch(b){i={error:b}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}u++}}catch(b){r={error:b}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var s,o,l=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-l)&&(c=e.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-l);){r-=l;try{for(var d=(s=void 0,tf(e.getDetectionResultColumn(r).getCodewords())),h=d.next();!h.done;h=d.next()){var f=h.value;if(f!=null)return(i?f.getEndX():f.getStartX())+l*u*(f.getEndX()-f.getStartX())}}catch(p){s={error:p}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,s,o,l,c){s=t.adjustCodewordStartColumn(e,r,n,i,s,o);var u=t.getModuleBitCount(e,r,n,i,s,o);if(u==null)return null;var d,h=Wt.sum(u);if(i)d=s+h;else{for(var f=0;f<u.length/2;f++){var p=u[f];u[f]=u[u.length-1-f],u[u.length-1-f]=p}d=s,s=d-h}if(!t.checkCodewordSkew(h,l,c))return null;var m=H1e.getDecodedValue(u),x=Ht.getCodeword(m);return x===-1?null:new U1e(s,d,t.getCodewordBucketNumber(m),x)},t.getModuleBitCount=function(e,r,n,i,s,o){for(var l=s,c=new Int32Array(8),u=0,d=i?1:-1,h=i;(i?l<n:l>=r)&&u<c.length;)e.get(l,o)===h?(c[u]++,l+=d):(u++,h=!h);return u===c.length||l===(i?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,s,o){for(var l=s,c=i?-1:1,u=0;u<2;u++){for(;(i?l>=r:l<n)&&i===e.get(l,o);){if(Math.abs(s-l)>t.CODEWORD_SKEW_SIZE)return s;l+=c}c=-c,i=!i}return l},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw qe.getFormatInstance();var i=1<<r+1,s=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=Q1e.decode(e,""+r);return o.setErrorsCorrected(s),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw un.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw qe.getFormatInstance();var n=e[0];if(n>e.length)throw qe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw qe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Z5,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var s=e[n][i];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new D1e,t}(),tge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l1=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Ie.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof qe||n instanceof un?Ie.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,s,o=new Array,l=E1e.detectMultiple(e,r,n);try{for(var c=tge(l.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,h=ege.decode(l.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),f=new fi(h.getText(),h.getRawBytes(),void 0,d,ot.PDF_417);f.putMetadata(Jn.ERROR_CORRECTION_LEVEL,h.getECLevel());var p=h.getOther();p!=null&&f.putMetadata(Jn.PDF417_EXTRA_METADATA,p),o.push(f)}}catch(m){i={error:m}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return o.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?kt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ht.MODULES_IN_CODEWORD/Ht.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),rge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IA=function(t){rge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Vi),DA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nk=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Ar.TRY_HARDER)!==void 0,n=e==null?null:e.get(Ar.POSSIBLE_FORMATS),i=new Array;if(n!=null){var s=n.some(function(o){return o===ot.UPC_A||o===ot.UPC_E||o===ot.EAN_13||o===ot.EAN_8||o===ot.CODABAR||o===ot.CODE_39||o===ot.CODE_93||o===ot.CODE_128||o===ot.ITF||o===ot.RSS_14||o===ot.RSS_EXPANDED});s&&!r&&i.push(new qu(e)),n.includes(ot.QR_CODE)&&i.push(new o1),n.includes(ot.DATA_MATRIX)&&i.push(new s1),n.includes(ot.AZTEC)&&i.push(new i1),n.includes(ot.PDF_417)&&i.push(new l1),s&&r&&i.push(new qu(e))}i.length===0&&(r||i.push(new qu(e)),i.push(new o1),i.push(new s1),i.push(new i1),i.push(new l1),r&&i.push(new qu(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=DA(this.readers),i=n.next();!i.done;i=n.next()){var s=i.value;s.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new IA("No readers where selected, nothing can be read.");try{for(var i=DA(this.readers),s=i.next();!s.done;s=i.next()){var o=s.value;try{return o.decode(e,this.hints)}catch(l){if(l instanceof IA)continue}}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Ie("No MultiFormat Readers were able to detect the code.")},t}(),nge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){nge(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,s=new Nk;return s.setHints(r),i=t.call(this,s,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(nh);var ige=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ige(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new l1,r)||this}return e})(nh);var age=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){age(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new o1,r)||this}return e})(nh);var tw;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(tw||(tw={}));const wm=tw;var _k=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ml(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,s=r.length;s<=e;s++){var o=n.multiply(new ml(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new lt("No error correction bytes");var n=e.length-r;if(n<=0)throw new lt("No data bytes provided");var i=this.buildGenerator(r),s=new Int32Array(n);Sr.arraycopy(e,0,s,0,n);var o=new ml(this.field,s);o=o.multiplyByMonomial(r,1);for(var l=o.divide(i)[1],c=l.getCoefficients(),u=r-c.length,d=0;d<u;d++)e[n+d]=0;Sr.arraycopy(c,0,e,n+u,c.length)},t}(),uf=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s-1;o++)for(var l=n[o],c=0;c<i-1;c++){var u=l[c];u===l[c+1]&&u===n[o+1][c]&&u===n[o+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s;o++)for(var l=0;l<i;l++){var c=n[o];l+6<i&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(t.isWhiteHorizontal(c,l-4,l)||t.isWhiteHorizontal(c,l+7,l+11))&&r++,o+6<s&&n[o][l]===1&&n[o+1][l]===0&&n[o+2][l]===1&&n[o+3][l]===1&&n[o+4][l]===1&&n[o+5][l]===0&&n[o+6][l]===1&&(t.isWhiteVertical(n,l,o-4,o)||t.isWhiteVertical(n,l,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var s=n;s<i;s++)if(e[s][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),o=0;o<s;o++)for(var l=n[o],c=0;c<i;c++)l[c]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,s;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:s=n*r,i=(s&1)+s%3;break;case 6:s=n*r,i=(s&1)+s%3&1;break;case 7:s=n*r,i=s%3+(n+r&1)&1;break;default:throw new lt("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),s=r?e.getWidth():e.getHeight(),o=e.getArray(),l=0;l<i;l++){for(var c=0,u=-1,d=0;d<s;d++){var h=r?o[l][d]:o[d][l];h===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=h)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),sge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oge=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=sge(this.bytes),s=i.next();!s.done;s=i.next()){var o=s.value;_n.fill(o,e)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var s=this.bytes[n],o=r.bytes[n],l=0,c=this.width;l<c;++l)if(s[l]!==o[l])return!1;return!0},t.prototype.toString=function(){for(var e=new Ot,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],s=0,o=this.width;s<o;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),rw=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Ot;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),lge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cr=function(t){lge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Vi),MA=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,s){t.clearMatrix(s),t.embedBasicPatterns(n,s),t.embedTypeInfo(r,i,s),t.maybeEmbedVersionInfo(n,s),t.embedDataBits(e,i,s)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new $n;t.makeTypeInfoBits(e,r,i);for(var s=0,o=i.getSize();s<o;++s){var l=i.get(i.getSize()-1-s),c=t.TYPE_INFO_COORDINATES[s],u=c[0],d=c[1];if(n.setBoolean(u,d,l),s<8){var h=n.getWidth()-s-1,f=8;n.setBoolean(h,f,l)}else{var h=8,f=n.getHeight()-7+(s-8);n.setBoolean(h,f,l)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new $n;t.makeVersionInfoBits(e,n);for(var i=6*3-1,s=0;s<6;++s)for(var o=0;o<3;++o){var l=n.get(i);i--,r.setBoolean(s,r.getHeight()-11+o,l),r.setBoolean(r.getHeight()-11+o,s,l)}}},t.embedDataBits=function(e,r,n){for(var i=0,s=-1,o=n.getWidth()-1,l=n.getHeight()-1;o>0;){for(o===6&&(o-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var u=o-c;if(t.isEmpty(n.get(u,l))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&uf.getDataMaskBit(r,u,l)&&(d=!d),n.setBoolean(u,l,d)}}l+=s}s=-s,l+=s,o-=2}if(i!==e.getSize())throw new Cr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-kt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new lt("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!rw.isValidMaskPattern(r))throw new Cr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var s=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(s,10);var o=new $n;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Cr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Cr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Cr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Cr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Cr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var s=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,s[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var s=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,s[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],s=0,o=i.length;s!==o;s++){var l=i[s];if(l>=0)for(var c=0;c!==o;c++){var u=i[c];u>=0&&t.isEmpty(r.get(u,l))&&t.embedPositionAdjustmentPattern(u-2,l-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),cge=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),LA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return uf.applyMaskPenaltyRule1(e)+uf.applyMaskPenaltyRule2(e)+uf.applyMaskPenaltyRule3(e)+uf.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,s=n!==null&&n.get(wm.CHARACTER_SET)!==void 0;s&&(i=n.get(wm.CHARACTER_SET).toString());var o=this.chooseMode(e,i),l=new $n;if(o===Or.BYTE&&(s||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=jn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(o,l);var u=new $n;this.appendBytes(e,o,u,i);var d;if(n!==null&&n.get(wm.QR_VERSION)!==void 0){var h=Number.parseInt(n.get(wm.QR_VERSION).toString(),10);d=bc.getVersionForNumber(h);var f=this.calculateBitsNeeded(o,l,u,d);if(!this.willFit(f,d,r))throw new Cr("Data too big for requested version")}else d=this.recommendVersion(r,o,l,u);var p=new $n;p.appendBitArray(l);var m=o===Or.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(u);var x=d.getECBlocksForLevel(r),g=d.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(g,p);var b=this.interleaveWithECBytes(p,d.getTotalCodewords(),g,x.getNumBlocks()),y=new rw;y.setECLevel(r),y.setMode(o),y.setVersion(d);var w=d.getDimensionForVersion(),N=new oge(w,w),_=this.chooseMaskPattern(b,r,d,N);return y.setMaskPattern(_),MA.buildMatrix(b,r,d,_,N),y.setMatrix(N),y},t.recommendVersion=function(e,r,n,i){var s=this.calculateBitsNeeded(r,n,i,bc.getVersionForNumber(1)),o=this.chooseVersion(s,e),l=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(l,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),jn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Or.KANJI;for(var n=!1,i=!1,s=0,o=e.length;s<o;++s){var l=e.charAt(s);if(t.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)i=!0;else return Or.BYTE}return i?Or.ALPHANUMERIC:n?Or.NUMERIC:Or.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Ea.encode(e,jn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var s=r[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var s=Number.MAX_SAFE_INTEGER,o=-1,l=0;l<rw.NUM_MASK_PATTERNS;l++){MA.buildMatrix(e,r,n,l,i);var c=this.calculateMaskPenalty(i);c<s&&(s=c,o=l)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=bc.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Cr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),s=r.getECBlocksForLevel(n),o=s.getTotalECCodewords(),l=i-o,c=(e+7)/8;return l>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Cr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var s=r.getSize()&7;if(s>0)for(var i=s;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Cr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,s,o){if(i>=n)throw new Cr("Block ID too large");var l=e%n,c=n-l,u=Math.floor(e/n),d=u+1,h=Math.floor(r/n),f=h+1,p=u-h,m=d-f;if(p!==m)throw new Cr("EC bytes mismatch");if(n!==c+l)throw new Cr("RS blocks mismatch");if(e!==(h+p)*c+(f+m)*l)throw new Cr("Total bytes mismatch");i<c?(s[0]=h,o[0]=p):(s[0]=f,o[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var s,o,l,c;if(e.getSizeInBytes()!==n)throw new Cr("Number of bits and data bytes does not match");for(var u=0,d=0,h=0,f=new Array,p=0;p<i;++p){var m=new Int32Array(1),x=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,x);var g=m[0],b=new Uint8Array(g);e.toBytes(8*u,b,0,g);var y=t.generateECBytes(b,x[0]);f.push(new cge(b,y)),d=Math.max(d,g),h=Math.max(h,y.length),u+=m[0]}if(n!==u)throw new Cr("Data bytes does not match offset");for(var w=new $n,p=0;p<d;++p)try{for(var N=(s=void 0,LA(f)),_=N.next();!_.done;_=N.next()){var S=_.value,b=S.getDataBytes();p<b.length&&w.appendBits(b[p],8)}}catch(F){s={error:F}}finally{try{_&&!_.done&&(o=N.return)&&o.call(N)}finally{if(s)throw s.error}}for(var p=0;p<h;++p)try{for(var A=(l=void 0,LA(f)),E=A.next();!E.done;E=A.next()){var S=E.value,y=S.getErrorCorrectionBytes();p<y.length&&w.appendBits(y[p],8)}}catch(F){l={error:F}}finally{try{E&&!E.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}if(r!==w.getSizeInBytes())throw new Cr("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),s=0;s<n;s++)i[s]=e[s]&255;new _k($i.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),s=0;s<r;s++)o[s]=i[n+s];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var s=n.getCharacterCountBits(r);if(e>=1<<s)throw new Cr(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},t.appendBytes=function(e,r,n,i){switch(r){case Or.NUMERIC:t.appendNumericBytes(e,n);break;case Or.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Or.BYTE:t.append8BitBytes(e,n,i);break;case Or.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Cr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),l=t.getDigit(e.charAt(i+2));r.appendBits(s*100+o*10+l,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(s*10+o,7),i+=2}else r.appendBits(s,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new Cr;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Cr;r.appendBits(s*45+o,11),i+=2}else r.appendBits(s,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Ea.encode(e,n)}catch(c){throw new Cr(c)}for(var s=0,o=i.length;s!==o;s++){var l=i[s];r.appendBits(l,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Ea.encode(e,jn.SJIS)}catch(h){throw new Cr(h)}for(var i=n.length,s=0;s<i;s+=2){var o=n[s]&255,l=n[s+1]&255,c=o<<8&4294967295|l,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Cr("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Or.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=jn.UTF8.getName(),t})();var uge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){uge(e,t);function e(r,n,i,s,o,l,c,u){var d=t.call(this,l,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=s,d.top=o,s+l>n||o+c>i)throw new lt("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(l,c),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return Sr.arraycopy(this.yuvData,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,s=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Sr.arraycopy(this.yuvData,o,s,0,i),s;for(var l=0;l<n;l++){var c=l*r;Sr.arraycopy(this.yuvData,o,s,c,r),o+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,s,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),s=this.yuvData,o=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,u=0;u<r;u++){var d=s[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+u]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth)for(var l=o+r/2,c=o,u=o+r-1;c<l;c++,u--){var d=i[c];i[c]=i[u],i[u]=d}},e.prototype.invert=function(){return new gg(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(H0);var dge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){dge(e,t);function e(r,n,i,s,o,l,c){var u=t.call(this,n,i)||this;if(u.dataWidth=s,u.dataHeight=o,u.left=l,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*i,h=new Uint8ClampedArray(d),f=0;f<d;f++){var p=r[f],m=p>>16&255,x=p>>7&510,g=p&255;h[f]=(m+x+g)/4&255}u.luminances=h}else u.luminances=r;if(s===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),l===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new lt("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return Sr.arraycopy(this.luminances,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,s=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Sr.arraycopy(this.luminances,o,s,0,i),s;for(var l=0;l<n;l++){var c=l*r;Sr.arraycopy(this.luminances,o,s,c,r),o+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new gg(this)},e})(H0);var hge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fge=function(t){hge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(jn),pge=function(){function t(){}return t.ISO_8859_1=jn.ISO8859_1,t}(),nw,mge=301,xge=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=mge);return{LOG:t,ALOG:e}};nw=xge([],[]),nw.LOG;nw.ALOG;var RA;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(RA||(RA={}));var FA=129,Sk=230,gge=231,vge=235,bge=236,yge=237,wge=238,jge=239,Nge=240,Pb=254,_ge=254,BA="[)>05",$A="[)>06",zA="",ar=0,Gn=1,yi=2,gn=3,Mn=4,ai=5,Sge=function(){function t(){}return t.prototype.getEncodingMode=function(){return ar},t.prototype.encode=function(e){var r=es.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=es.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case ai:e.writeCodeword(gge),e.signalEncoderChange(ai);return;case Gn:e.writeCodeword(Sk),e.signalEncoderChange(Gn);return;case gn:e.writeCodeword(wge),e.signalEncoderChange(gn);break;case yi:e.writeCodeword(jge),e.signalEncoderChange(yi);break;case Mn:e.writeCodeword(Nge),e.signalEncoderChange(Mn);break;default:throw new Error("Illegal mode: "+i)}else es.isExtendedASCII(n)?(e.writeCodeword(vge),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(es.isDigit(e)&&es.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),Age=function(){function t(){}return t.prototype.getEncodingMode=function(){return ai},t.prototype.encode=function(e){var r=new Ot;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=es.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}var s=r.length()-1,o=1,l=e.getCodewordCount()+s+o;e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l>0;if(e.hasMoreCharacters()||c)if(s<=249)r.setCharAt(0,zt.getCharAt(s));else if(s<=1555)r.setCharAt(0,zt.getCharAt(Math.floor(s/250)+249)),r.insert(1,zt.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),Q5=function(){function t(){}return t.prototype.getEncodingMode=function(){return Gn},t.prototype.encodeMaximal=function(e){for(var r=new Ot,n=0,i=e.pos,s=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,s=r.length())}if(s!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+l+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(Sk),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Ot;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),s=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+s;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var c=new Ot;for(r.length()%3===2&&l!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||l!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var u=r.length();if(u%3===0){var d=es.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var s=r.length(),o=r.toString().substring(0,s-i);r.setLengthToZero(),r.append(o),e.pos--;var l=e.getCurrentChar();return i=this.encodeChar(l,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,s=e.getCodewordCount()+n;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Pb)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Pb),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(Pb)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ar)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,s=new Ot;return s.append(n),s.append(i),s.toString()},t}(),Cge=function(){function t(){}return t.prototype.getEncodingMode=function(){return Mn},t.prototype.encode=function(e){for(var r=new Ot;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var s=r.toString().substring(4);r.setLengthToZero(),r.append(s);var o=es.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ar);break}}}r.append(zt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,l=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),u=c&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+l.length))}u?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(l)}finally{e.signalEncoderChange(ar)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(zt.getCharAt(e-64)):es.illegalCharacter(zt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,s=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,l=(n<<18)+(i<<12)+(s<<6)+o,c=l>>16&255,u=l>>8&255,d=l&255,h=new Ot;return h.append(c),r>=2&&h.append(u),r>=3&&h.append(d),h.toString()},t}(),Ege=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kt=function(){function t(e,r,n,i,s,o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=o,this.rsBlockData=l,this.rsBlockError=c}return t.lookup=function(e,r,n,i,s){var o,l;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var c=Oge(kge),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(h){o={error:h}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(o)throw o.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),Pge=function(t){Ege(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Kt),kge=[new Kt(!1,3,5,8,8,1),new Kt(!1,5,7,10,10,1),new Kt(!0,5,7,16,6,1),new Kt(!1,8,10,12,12,1),new Kt(!0,10,11,14,6,2),new Kt(!1,12,12,14,14,1),new Kt(!0,16,14,24,10,1),new Kt(!1,18,14,16,16,1),new Kt(!1,22,18,18,18,1),new Kt(!0,22,18,16,10,2),new Kt(!1,30,20,20,20,1),new Kt(!0,32,24,16,14,2),new Kt(!1,36,24,22,22,1),new Kt(!1,44,28,24,24,1),new Kt(!0,49,28,22,14,2),new Kt(!1,62,36,14,14,4),new Kt(!1,86,42,16,16,4),new Kt(!1,114,48,18,18,4),new Kt(!1,144,56,20,20,4),new Kt(!1,174,68,22,22,4),new Kt(!1,204,84,24,24,4,102,42),new Kt(!1,280,112,14,14,16,140,56),new Kt(!1,368,144,16,16,16,92,36),new Kt(!1,456,192,18,18,16,114,48),new Kt(!1,576,224,20,20,16,144,56),new Kt(!1,696,272,22,22,16,174,68),new Kt(!1,816,336,24,24,16,136,56),new Kt(!1,1050,408,18,18,36,175,68),new Kt(!1,1304,496,20,20,36,163,62),new Pge],Tge=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(l){return l.charCodeAt(0)}),n=new Ot,i=0,s=r.length;i<s;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Ot,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Kt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),Ige=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dge=function(t){Ige(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return gn},e.prototype.encode=function(r){for(var n=new Ot;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var s=n.length();if(s%3===0){this.writeNextTriplet(r,n);var o=es.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(ar);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):es.illegalCharacter(zt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),s=n.length();r.pos-=s,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(_ge),r.getNewEncoding()<0&&r.signalEncoderChange(ar)},e}(Q5),Mge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lge=function(t){Mge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return yi},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(Q5),es=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=FA+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,s){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!1);var o=new Q5,l=[new Sge,o,new Lge,new Dge,new Cge,new Age],c=new Tge(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(BA)&&e.endsWith(zA)?(c.writeCodeword(bge),c.setSkipAtEnd(2),c.pos+=BA.length):e.startsWith($A)&&e.endsWith(zA)&&(c.writeCodeword(yge),c.setSkipAtEnd(2),c.pos+=$A.length);var u=ar;for(s&&(o.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var h=c.getSymbolInfo().getDataCapacity();d<h&&u!==ar&&u!==ai&&u!==Mn&&c.writeCodeword("þ");var f=c.getCodewords();for(f.length()<h&&f.append(FA);f.length()<h;)f.append(this.randomize253State(f.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===gn&&i===gn){for(var s=Math.min(r+3,e.length),o=r;o<s;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ar}else if(n===Mn&&i===Mn){for(var s=Math.min(r+4,e.length),o=r;o<s;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ar}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===ar?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var s=0,o=new Uint8Array(6),l=[];;){if(r+s===e.length){_n.fill(o,0),_n.fill(l,0);var c=this.findMinimums(i,l,kt.MAX_VALUE,o),u=this.getMinimumCount(o);if(l[ar]===c)return ar;if(u===1){if(o[ai]>0)return ai;if(o[Mn]>0)return Mn;if(o[yi]>0)return yi;if(o[gn]>0)return gn}return Gn}var d=e.charCodeAt(r+s);if(s++,this.isDigit(d)?i[ar]+=.5:this.isExtendedASCII(d)?(i[ar]=Math.ceil(i[ar]),i[ar]+=2):(i[ar]=Math.ceil(i[ar]),i[ar]++),this.isNativeC40(d)?i[Gn]+=2/3:this.isExtendedASCII(d)?i[Gn]+=8/3:i[Gn]+=4/3,this.isNativeText(d)?i[yi]+=2/3:this.isExtendedASCII(d)?i[yi]+=8/3:i[yi]+=4/3,this.isNativeX12(d)?i[gn]+=2/3:this.isExtendedASCII(d)?i[gn]+=13/3:i[gn]+=10/3,this.isNativeEDIFACT(d)?i[Mn]+=3/4:this.isExtendedASCII(d)?i[Mn]+=17/4:i[Mn]+=13/4,this.isSpecialB256(d)?i[ai]+=4:i[ai]++,s>=4){if(_n.fill(o,0),_n.fill(l,0),this.findMinimums(i,l,kt.MAX_VALUE,o),l[ar]<this.min(l[ai],l[Gn],l[yi],l[gn],l[Mn]))return ar;if(l[ai]<l[ar]||l[ai]+1<this.min(l[Gn],l[yi],l[gn],l[Mn]))return ai;if(l[Mn]+1<this.min(l[ai],l[Gn],l[yi],l[gn],l[ar]))return Mn;if(l[yi]+1<this.min(l[ai],l[Gn],l[Mn],l[gn],l[ar]))return yi;if(l[gn]+1<this.min(l[ai],l[Gn],l[Mn],l[yi],l[ar]))return gn;if(l[Gn]+1<this.min(l[ar],l[ai],l[Mn],l[yi])){if(l[Gn]<l[gn])return Gn;if(l[Gn]===l[gn]){for(var h=r+s+1;h<e.length;){var f=e.charCodeAt(h);if(this.isX12TermSep(f))return gn;if(!this.isNativeX12(f))break;h++}return Gn}}}}},t.min=function(e,r,n,i,s){var o=Math.min(e,Math.min(r,Math.min(n,i)));return s===void 0?o:Math.min(o,s)},t.findMinimums=function(e,r,n,i){for(var s=0;s<6;s++){var o=r[s]=Math.ceil(e[s]);n>o&&(n=o,_n.fill(i,0)),n===o&&(i[s]=i[s]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=kt.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),kb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UA=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Ea.encode(e,this.charset)!=null}catch{return!1}},t}(),Rge=function(){function t(e,r,n){var i,s,o,l,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(D){return new UA(fge.forName(D))}),this.encoders=[];var d=[];d.push(new UA(pge.ISO_8859_1));for(var h=r!=null&&r.name.startsWith("UTF"),f=0;f<e.length;f++){var p=!1;try{for(var m=(i=void 0,kb(d)),x=m.next();!x.done;x=m.next()){var g=x.value,b=e.charAt(f),y=b.charCodeAt(0);if(y===n||g.canEncode(b)){p=!0;break}}}catch(D){i={error:D}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var w=(o=void 0,kb(this.ENCODERS)),N=w.next();!N.done;N=w.next()){var g=N.value;if(g.canEncode(e.charAt(f))){d.push(g),p=!0;break}}}catch(D){o={error:D}}finally{try{N&&!N.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}p||(h=!0)}if(d.length===1&&!h)this.encoders=[d[0]];else{this.encoders=[];var _=0;try{for(var S=kb(d),A=S.next();!A.done;A=S.next()){var g=A.value;this.encoders[_++]=g}}catch(D){c={error:D}}finally{try{A&&!A.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}var E=-1;if(r!=null){for(var f=0;f<this.encoders.length;f++)if(this.encoders[f]!=null&&r.name===this.encoders[f].name){E=f;break}}this.priorityEncoderIndex=E}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Ea.encode(zt.getCharAt(e),this.encoders[r].name)},t}(),Fge=3,Bge=function(){function t(e,r,n){this.fnc1=n;var i=new Rge(e,r,n);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var o=e.charAt(s).charCodeAt(0);this.bytes[s]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Ot,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,s,o){var l=e.charAt(i).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(l===o||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(l===o||r.canEncode(l,d))&&this.addEdge(n,i+1,new HA(l,r,d,s,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,s=new HA[i+1][r.length()];this.addEdges(e,r,s,0,null,n);for(var o=1;o<=i;o++){for(var l=0;l<r.length();l++)s[o][l]!=null&&o<i&&this.addEdges(e,r,s,o,s[o][l],n);for(var l=0;l<r.length();l++)s[o-1][l]=null}for(var c=-1,u=kt.MAX_VALUE,l=0;l<r.length();l++)if(s[i][l]!=null){var d=s[i][l];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],f=s[i][c];f!=null;){if(f.isFNC1())h.unshift(1e3);else for(var p=r.encode(f.c,f.encoderIndex),o=p.length-1;o>=0;o--)h.unshift(p[o]&255);var m=f.previous===null?0:f.previous.encoderIndex;m!==f.encoderIndex&&h.unshift(256+r.getECIValue(f.encoderIndex)),f=f.previous}for(var x=[],o=0;o<x.length;o++)x[o]=h[o];return x},t}(),HA=function(){function t(e,r,n,i,s){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,l=i===null?0:i.encoderIndex;l!==n&&(o+=Fge),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),$ge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var qA;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(qA||(qA={}));(function(t){$ge(e,t);function e(r,n,i,s,o){var l=t.call(this,r,n,i)||this;return l.shape=s,l.macroId=o,l}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Bge);var zge=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),WA=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),Uge=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),Hge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ej=function(t){Hge(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.value=n,s.bitCount=i,s}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+kt.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(Uge),qge=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wge=function(t){qge(e,t);function e(r,n,i){var s=t.call(this,r,0,0)||this;return s.binaryShiftStart=n,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(ej);function Vge(t,e,r){return new Wge(t,e,r)}function rf(t,e,r){return new ej(t,e,r)}var Gge=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xl=0,c1=1,Ca=2,Ak=3,Ps=4,Xge=new ej(null,0,0),Tb=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Yge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Kge(t){var e,r;try{for(var n=Yge(t),i=n.next();!i.done;i=n.next()){var s=i.value;_n.fill(s,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[xl][Ps]=0,t[c1][Ps]=0,t[c1][xl]=28,t[Ak][Ps]=0,t[Ca][Ps]=0,t[Ca][xl]=15,t}var Ck=Kge(_n.createInt32Array(6,6)),Jge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zge=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var s=Tb[this.mode][e];i=rf(i,s&65535,s>>16),n+=s>>16}var o=e===Ca?4:5;return i=rf(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Ca?4:5;return n=rf(n,Ck[this.mode][e],i),n=rf(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Ps||this.mode===Ca){var s=Tb[n][xl];r=rf(r,s&65535,s>>16),i+=s>>16,n=xl}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new t(r,n,this.binaryShiftByteCount+1,i+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=Vge(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Tb[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var o=new $n;try{for(var l=Jge(i),c=l.next();!c.done;c=l.next()){var u=c.value;u.appendTo(o,e)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return zt.format("%s bits=%d bytes=%d",Gge[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(Xge,xl,0,0),t}();function Qge(t){var e=zt.getCharCode(" "),r=zt.getCharCode("."),n=zt.getCharCode(",");t[xl][e]=1;for(var i=zt.getCharCode("Z"),s=zt.getCharCode("A"),o=s;o<=i;o++)t[xl][o]=o-s+2;t[c1][e]=1;for(var l=zt.getCharCode("z"),c=zt.getCharCode("a"),o=c;o<=l;o++)t[c1][o]=o-c+2;t[Ca][e]=1;for(var u=zt.getCharCode("9"),d=zt.getCharCode("0"),o=d;o<=u;o++)t[Ca][o]=o-d+2;t[Ca][n]=12,t[Ca][r]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],f=0;f<h.length;f++)t[Ak][zt.getCharCode(h[f])]=f;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],f=0;f<p.length;f++)zt.getCharCode(p[f])>0&&(t[Ps][zt.getCharCode(p[f])]=f);return t}var Ib=Qge(_n.createInt32Array(5,256)),jm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eve=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=zt.getCharCode(" "),r=zt.getCharCode(`
`),n=WA.singletonList(Zge.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case zt.getCharCode("\r"):s=o===r?2:0;break;case zt.getCharCode("."):s=o===e?3:0;break;case zt.getCharCode(","):s=o===e?4:0;break;case zt.getCharCode(":"):s=o===e?5:0;break;default:s=0}s>0?(n=t.updateStateListForPair(n,i,s),i++):n=this.updateStateListForChar(n,i)}var l=WA.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return l.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,s=[];try{for(var o=jm(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForChar(c,r,s)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(s)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,s=Ib[e.getMode()][i]>0,o=null,l=0;l<=Ps;l++){var c=Ib[l][i];if(c>0){if(o==null&&(o=e.endBinaryShift(r)),!s||l===e.getMode()||l===Ca){var u=o.latchAndAppend(l,c);n.push(u)}if(!s&&Ck[e.getMode()][l]>=0){var d=o.shiftAndAppend(l,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||Ib[e.getMode()][i]===0){var h=e.addBinaryShiftChar(r);n.push(h)}},t.updateStateListForPair=function(e,r,n){var i,s,o=[];try{for(var l=jm(e),c=l.next();!c.done;c=l.next()){var u=c.value;this.updateStateForPair(u,r,n,o)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var s=e.endBinaryShift(r);if(i.push(s.latchAndAppend(Ps,n)),e.getMode()!==Ps&&i.push(s.shiftAndAppend(Ps,n)),n===3||n===4){var o=s.latchAndAppend(Ca,16-n).latchAndAppend(Ca,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var l=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(l)}},t.simplifyStates=function(e){var r,n,i,s,o=[];try{for(var l=jm(e),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0,h=function(g){if(g.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(g)&&(o=o.filter(function(b){return b!==g}))};try{for(var f=(i=void 0,jm(o)),p=f.next();!p.done;p=f.next()){var m=p.value,x=h(m);if(x==="break")break}}catch(g){i={error:g}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}d&&o.push(u)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return o},t}(),tve=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new eve(e).encode(),s=kt.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+s,l,c,u,d,h;if(n!==t.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new lt(zt.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,l),d=t.WORD_SIZE[c];var f=u-u%d;if(h=t.stuffBits(i,d),h.getSize()+s>f)throw new lt("Data to large for user specified layer");if(l&&h.getSize()>d*64)throw new lt("Data to large for user specified layer")}else{d=0,h=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new lt("Data too large for an Aztec code");if(l=p<=3,c=l?p+1:p,u=t.totalBitsInLayer(c,l),!(o>u)){(h==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],h=t.stuffBits(i,d));var f=u-u%d;if(!(l&&h.getSize()>d*64)&&h.getSize()+s<=f)break}}}var m=t.generateCheckWords(h,u,d),x=h.getSize()/d,g=t.generateModeMessage(l,c,x),b=(l?11:14)+c*4,y=new Int32Array(b),w;if(l){w=b;for(var p=0;p<y.length;p++)y[p]=p}else{w=b+1+2*kt.truncDivision(kt.truncDivision(b,2)-1,15);for(var N=kt.truncDivision(b,2),_=kt.truncDivision(w,2),p=0;p<N;p++){var S=p+kt.truncDivision(p,15);y[N-p-1]=_-S-1,y[N+p]=_+S+1}}for(var A=new Bs(w),p=0,E=0;p<c;p++){for(var D=(c-p)*4+(l?9:12),F=0;F<D;F++)for(var k=F*2,O=0;O<2;O++)m.get(E+k+O)&&A.set(y[p*2+O],y[p*2+F]),m.get(E+D*2+k+O)&&A.set(y[p*2+F],y[b-1-p*2-O]),m.get(E+D*4+k+O)&&A.set(y[b-1-p*2-O],y[b-1-p*2-F]),m.get(E+D*6+k+O)&&A.set(y[b-1-p*2-F],y[p*2+O]);E+=D*8}if(t.drawModeMessage(A,l,w,g),l)t.drawBullsEye(A,kt.truncDivision(w,2),5);else{t.drawBullsEye(A,kt.truncDivision(w,2),7);for(var p=0,F=0;p<kt.truncDivision(b,2)-1;p+=15,F+=16)for(var O=kt.truncDivision(w,2)&1;O<w;O+=2)A.set(kt.truncDivision(w,2)-F,O),A.set(kt.truncDivision(w,2)+F,O),A.set(O,kt.truncDivision(w,2)-F),A.set(O,kt.truncDivision(w,2)+F)}var B=new zge;return B.setCompact(l),B.setSize(w),B.setLayers(c),B.setCodeWords(x),B.setMatrix(A),B},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var s=r-i;s<=r+i;s++)e.set(s,r-i),e.set(s,r+i),e.set(r-i,s),e.set(r+i,s);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new $n;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var s=kt.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var l=s-3+o;i.get(o)&&e.set(l,s-5),i.get(o+7)&&e.set(s+5,l),i.get(20-o)&&e.set(l,s+5),i.get(27-o)&&e.set(s-5,l)}else for(var o=0;o<10;o++){var l=s-5+o+kt.truncDivision(o,5);i.get(o)&&e.set(l,s-7),i.get(o+10)&&e.set(s+7,l),i.get(29-o)&&e.set(l,s+7),i.get(39-o)&&e.set(s-7,l)}},t.generateCheckWords=function(e,r,n){var i,s,o=e.getSize()/n,l=new _k(t.getGF(n)),c=kt.truncDivision(r,n),u=t.bitsToWords(e,n,c);l.encode(u,c-o);var d=r%n,h=new $n;h.appendBits(0,d);try{for(var f=tve(Array.from(u)),p=f.next();!p.done;p=f.next()){var m=p.value;h.appendBits(m,n)}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return h},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),s,o;for(s=0,o=e.getSize()/r;s<o;s++){for(var l=0,c=0;c<r;c++)l|=e.get(s*r+c)?1<<r-c-1:0;i[s]=l}return i},t.getGF=function(e){switch(e){case 4:return $i.AZTEC_PARAM;case 6:return $i.AZTEC_DATA_6;case 8:return $i.AZTEC_DATA_8;case 10:return $i.AZTEC_DATA_10;case 12:return $i.AZTEC_DATA_12;default:throw new lt("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new $n,i=e.getSize(),s=(1<<r)-2,o=0;o<i;o+=r){for(var l=0,c=0;c<r;c++)(o+c>=i||e.get(o+c))&&(l|=1<<r-1-c);(l&s)===s?(n.appendBits(l&s,r),o--):l&s?n.appendBits(l,r):(n.appendBits(l|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var rve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nve=function(t){rve(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var s=new Uint8ClampedArray(n*i),o=0,l=0,c=r.length;o<c;o+=4,l++){var u=void 0,d=r[o+3];if(d===0)u=255;else{var h=r[o],f=r[o+1],p=r[o+2];u=306*h+601*f+117*p+512>>10}s[l]=u}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new lt("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new gg(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),c=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);n.width=l,n.height=c;var u=n.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(l/2,c/2),u.rotate(i),u.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(H0);function Ek(){return typeof navigator<"u"}function ive(){return Ek()&&!!navigator.mediaDevices}function ave(){return!!(ive()&&navigator.mediaDevices.enumerateDevices)}var Vu=function(){return Vu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vu.apply(this,arguments)},Lr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})},Rr=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Db=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sve={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},ih=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=Vu(Vu({},sve),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Ar.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return Lr(this,void 0,void 0,function(){return Rr(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var s=Db(i),o=s.next();!o.done;o=s.next()){var l=o.value;if(t.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Jr("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Jr("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new nve(e),n=new hk(r);return new dk(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Jr("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,s=n.height;return r.style.width=i+"px",r.style.height=s+"px",r.width=i,r.height=s,r},t.tryPlayVideo=function(e){return Lr(this,void 0,void 0,function(){var r;return Rr(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return Lr(this,void 0,void 0,function(){var e,r,n,i,s,o,l,c,u,d,h,f;return Rr(this,function(p){switch(p.label){case 0:if(!Ek())throw new Error("Can't enumerate devices, navigator is not present.");if(!ave())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Db(e),i=n.next();!i.done;i=n.next())s=i.value,o=s.kind==="video"?"videoinput":s.kind,o==="videoinput"&&(l=s.deviceId||s.id,c=s.label||"Video device ".concat(r.length+1),u=s.groupId,d={deviceId:l,label:c,kind:o,groupId:u},r.push(d))}catch(m){h={error:m}}finally{try{i&&!i.done&&(f=n.return)&&f.call(n)}finally{if(h)throw h.error}}return[2,r]}})})},t.findDeviceById=function(e){return Lr(this,void 0,void 0,function(){var r;return Rr(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return Lr(this,void 0,void 0,function(){var n;return Rr(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(s,o){var l=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",c))},r),c=function(){t.tryPlayVideo(e).then(function(u){clearTimeout(l),e.removeEventListener("canplay",c),s(u)})};e.addEventListener("canplay",c)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),Lr(this,void 0,void 0,function(){var i;return Rr(this,function(s){switch(s.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return s.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,s=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},i),o=function(){clearTimeout(s),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Jr("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return Lr(this,void 0,void 0,function(){var r;return Rr(this,function(n){switch(n.label){case 0:if(!e)throw new Jr("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return Lr(this,void 0,void 0,function(){var r;return Rr(this,function(n){switch(n.label){case 0:if(!e)throw new Jr("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Lr(this,void 0,void 0,function(){var i,s;return Rr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,o.sent()];case 4:throw s=o.sent(),t.disposeMediaStream(i),s;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return Lr(this,void 0,void 0,function(){var i,s,o,l,c,u,d,h,f,p=this;return Rr(this,function(m){switch(m.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return s=m.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(s)},l=this.scan(s,n,o),c=e.getVideoTracks(),u=Vu(Vu({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(x,g){return Lr(this,void 0,void 0,function(){var b,y,w,N,_,S,A;return Rr(this,function(E){switch(E.label){case 0:b=g?c.filter(g):c,E.label=1;case 1:E.trys.push([1,6,7,8]),y=Db(b),w=y.next(),E.label=2;case 2:return w.done?[3,5]:(N=w.value,[4,N.applyConstraints(x)]);case 3:E.sent(),E.label=4;case 4:return w=y.next(),[3,2];case 5:return[3,8];case 6:return _=E.sent(),S={error:_},[3,8];case 7:try{w&&!w.done&&(A=y.return)&&A.call(y)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(x){return c.find(x).getConstraints()},streamVideoSettingsGet:function(x){return c.find(x).getSettings()},streamVideoCapabilitiesGet:function(x){return c.find(x).getCapabilities()}}),d=t.mediaStreamIsTorchCompatible(e),d&&(h=c==null?void 0:c.find(function(x){return t.mediaStreamIsTorchCompatibleTrack(x)}),f=function(x){return Lr(p,void 0,void 0,function(){return Rr(this,function(g){switch(g.label){case 0:return[4,t.mediaStreamSetTorch(h,x)];case 1:return g.sent(),[2]}})})},u.switchTorch=f,u.stop=function(){return Lr(p,void 0,void 0,function(){return Rr(this,function(x){switch(x.label){case 0:return l.stop(),[4,f(!1)];case 1:return x.sent(),[2]}})})}),[2,u]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Lr(this,void 0,void 0,function(){var i,s;return Rr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return Lr(this,void 0,void 0,function(){var n,i;return Rr(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Jr("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return s.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return Lr(this,void 0,void 0,function(){var n,i,s,o;return Rr(this,function(l){switch(l.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Jr("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},s=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,s)];case 1:return l.sent(),o=this.scan(n,r,i),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Lr(this,void 0,void 0,function(){var n;return Rr(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Lr(this,void 0,void 0,function(){var n,i,s;return Rr(this,function(o){switch(o.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=o.sent(),[2,s];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Lr(this,void 0,void 0,function(){var n,i;return Rr(this,function(s){switch(s.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return Lr(this,void 0,void 0,function(){var r,n;return Rr(this,function(i){switch(i.label){case 0:if(!e)throw new Jr("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return Lr(this,void 0,void 0,function(){var r,n;return Rr(this,function(i){switch(i.label){case 0:if(!e)throw new Jr("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var s=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(o,l){s.scan(e,function(c,u,d){if(c){o(c),d.stop();return}if(u){if(u instanceof Ie&&r||u instanceof un&&n||u instanceof qe&&i)return;d.stop(),l(u)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var s=t.createCaptureCanvas(e),o;try{o=s.getContext("2d",{willReadFrequently:!0})}catch{o=s.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){o=void 0,s=void 0},c=!1,u,d=function(){c=!0,clearTimeout(u),l(),n&&n()},h={stop:d},f=function(){if(!c)try{t.drawImageOnCanvas(o,e);var p=i.decodeFromCanvas(s);r(p,void 0,h),u=setTimeout(f,i.options.delayBetweenScanSuccess)}catch(b){r(void 0,b,h);var m=b instanceof un,x=b instanceof qe,g=b instanceof Ie;if(m||x||g){u=setTimeout(f,i.options.delayBetweenScanAttempts);return}l(),n&&n(b)}};return f(),h},t.prototype._decodeOnLoadImage=function(e){return Lr(this,void 0,void 0,function(){var r;return Rr(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return Lr(this,void 0,void 0,function(){var r;return Rr(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),ove=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ove(e,t);function e(r,n){return t.call(this,new i1,r,n)||this}return e})(ih);var lve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){lve(e,t);function e(r,n){return t.call(this,new qu(r),r,n)||this}return e})(ih);var cve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cve(e,t);function e(r,n){return t.call(this,new s1,r,n)||this}return e})(ih);var uve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){uve(e,t);function e(r,n){var i=this,s=new Nk;return s.setHints(r),i=t.call(this,s,r,n)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(Ar.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e})(ih);var dve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){dve(e,t);function e(r,n){return t.call(this,new l1,r,n)||this}return e})(ih);var hve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fve=function(t){hve(e,t);function e(r,n){return t.call(this,new o1,r,n)||this}return e}(ih);const Nm=[{id:"lot001",name:"Lot Huîtres A",date:"2023-05-12",type:"lot",location:"Bassin 3",status:"Optimal",stock:{quantity:"500",unit:"kg"}},{id:"lot002",name:"Lot Huîtres B",date:"2023-05-15",type:"lot",location:"Bassin 2",status:"Attention",stock:{quantity:"350",unit:"kg"}},{id:"lot003",name:"Lot Huîtres C",date:"2023-06-01",type:"lot",location:"Stockage 1",status:"Optimal",stock:{quantity:"200",unit:"kg"}}],_m=[{id:"bassin001",name:"Bassin 1",date:"2023-04-01",type:"bassin",location:"Zone production nord",status:"Optimal",occupation:"75%",nextMaintenance:"2023-07-15",stock:{quantity:"850",unit:"kg"},stats:[{label:"Température",value:"12.3°C"},{label:"Oxygène",value:"7.8 mg/L"},{label:"Produit",value:"Huîtres N°2"}]},{id:"bassin002",name:"Bassin 2",date:"2023-04-05",type:"bassin",location:"Zone production est",status:"Attention",occupation:"45%",nextMaintenance:"2023-07-10",stock:{quantity:"420",unit:"kg"},stats:[{label:"Température",value:"11.9°C"},{label:"Oxygène",value:"6.5 mg/L"},{label:"Produit",value:"Moules de mer"}]},{id:"bassin003",name:"Bassin 3",date:"2023-04-10",type:"bassin",location:"Zone production sud",status:"Optimal",occupation:"90%",nextMaintenance:"2023-07-20",stock:{quantity:"950",unit:"kg"},stats:[{label:"Température",value:"12.1°C"},{label:"Oxygène",value:"7.2 mg/L"},{label:"Produit",value:"Huîtres N°3"}]}],Eu=[{id:"storage-0001",name:"Frigo 1",type:"storage",date:"2023-04-20",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"500 kg"},{label:"Occupation",value:"65%"},{label:"Température",value:"4.5°C"},{label:"Humidité",value:"85%"}],products:[{name:"Huîtres Fines de Claire N°3",quantity:"180 kg",dlc:"05/04/2025"},{name:"Huîtres Spéciales N°2",quantity:"145 kg",dlc:"08/04/2025"}]},{id:"storage-0002",name:"Frigo 2",type:"storage",date:"2023-04-25",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"300 kg"},{label:"Occupation",value:"30%"},{label:"Température",value:"5.2°C"},{label:"Humidité",value:"80%"}],products:[{name:"Huîtres Plates",quantity:"60 kg",dlc:"10/04/2025"},{name:"Moules de Bouchot",quantity:"30 kg",dlc:"02/04/2025"}]},{id:"storage-0003",name:"Congélateur 1",type:"storage",date:"2023-04-30",location:"Zone de stockage secondaire",status:"Attention",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"200 kg"},{label:"Occupation",value:"85%"},{label:"Température",value:"-18.2°C"},{label:"Humidité",value:"40%"}],products:[{name:"Fruits de mer congelés",quantity:"95 kg",dlc:"20/10/2025"},{name:"Poissons congelés",quantity:"75 kg",dlc:"15/09/2025"}]},{id:"storage-0004",name:"Congélateur 2",type:"storage",date:"2023-05-05",location:"Zone de stockage secondaire",status:"Optimal",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"150 kg"},{label:"Occupation",value:"40%"},{label:"Température",value:"-20.5°C"},{label:"Humidité",value:"35%"}],products:[{name:"Crustacés congelés",quantity:"35 kg",dlc:"25/11/2025"},{name:"Préparations maison",quantity:"25 kg",dlc:"30/08/2025"}]},{id:"storage-0005",name:"Remise",type:"storage",date:"2023-05-10",location:"Arrière bâtiment",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"1000 kg"},{label:"Occupation",value:"55%"},{label:"Température",value:"15.0°C"},{label:"Humidité",value:"60%"}],products:[{name:"Matériel d'emballage",quantity:"300 kg",dlc:"N/A"},{name:"Équipement de manutention",quantity:"250 kg",dlc:"N/A"}]},{id:"storage-0006",name:"Cave",type:"storage",date:"2023-05-15",location:"Sous-sol",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"800 kg"},{label:"Occupation",value:"25%"},{label:"Température",value:"12.5°C"},{label:"Humidité",value:"75%"}],products:[{name:"Conserves",quantity:"120 kg",dlc:"31/12/2026"},{name:"Fournitures diverses",quantity:"80 kg",dlc:"N/A"}]}],Sm=[{id:"bl001",reference:"BL-2023-001",date:"2023-06-05",type:"bl",client:"Restaurant La Marée",status:"Livré",products:[{name:"Huîtres calibre 3",quantity:"20kg"},{name:"Huîtres calibre 2",quantity:"15kg"}],notes:"Livraison effectuée le matin, client satisfait."},{id:"bl002",reference:"BL-2023-002",date:"2023-06-10",type:"bl",client:"Poissonnerie du Port",status:"En cours",products:[{name:"Huîtres calibre 1",quantity:"25kg"},{name:"Huîtres calibre 4",quantity:"10kg"}],notes:"Livraison prévue pour demain matin."}],Am=[{id:"hist001",date:"2023-06-01 09:30",type:"history",action:"Contrôle qualité",user:"Jean Dupont",details:"Contrôle effectué sur Bassin 1, paramètres normaux."},{id:"hist002",date:"2023-06-02 11:15",type:"history",action:"Maintenance",user:"Marie Martin",details:"Maintenance du système de filtration Bassin 2."},{id:"hist003",date:"2023-06-03 14:45",type:"history",action:"Récolte",user:"Pierre Leblanc",details:"Récolte de 100kg depuis Bassin 3 vers Stockage 1."},{id:"hist004",date:"2023-06-04 16:30",type:"history",action:"Préparation commande",user:"Sophie Leroy",details:"Préparation BL-2023-001 pour Restaurant La Marée."}];function pve(){const[t,e]=T.useState("lots"),[r,n]=T.useState(null),[i,s]=T.useState({}),[o,l]=T.useState(!1),[c,u]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[m,x]=T.useState(null),[g,b]=T.useState({}),[y,w]=T.useState(""),[N,_]=T.useState([]),S=T.useRef(null),[A,E]=T.useState(null);T.useEffect(()=>{if(c&&!A){const I=new fve;E(I)}return()=>{E(null)}},[c]),T.useEffect(()=>{c&&A&&S.current&&A.decodeFromVideoDevice(void 0,S.current,(I,q)=>{I&&(w(I.getText()),console.log("QR Code scanné:",I.getText()))}).catch(I=>console.error("Erreur lors du scan:",I))},[c,A]);const D=I=>{n(I),s(JSON.parse(JSON.stringify(I)))},F=()=>{console.log("Saving:",i),n(null)},k=I=>{x(I),p(!0)},O=()=>{const I=new st("l","mm","a4"),q=I.internal.pageSize.getWidth(),Q=I.internal.pageSize.getHeight();let J=60;I.setFillColor(10,42,64),I.rect(0,0,q,25,"F"),I.setTextColor(255,255,255),I.setFontSize(16),I.text("Rapport de Traçabilité OYSTER CULT",q/2,15,{align:"center"}),I.setTextColor(10,42,64),I.setFontSize(10),I.text(`Date d'export: ${new Date().toLocaleDateString("fr-FR")}`,14,35),I.text("Exporté par: Utilisateur",14,42),I.text(`Période: ${new Date().toLocaleDateString("fr-FR")} - ${new Date().toLocaleDateString("fr-FR")}`,14,49);const de=(he,te)=>{I.setFillColor(10,42,64),I.rect(10,J,q-20,10,"F"),I.setTextColor(255,255,255),I.setFontSize(10);let Ue=10;he.forEach((ee,ne)=>{const ce=te[ne];I.text(ee,Ue+ce/2,J+7,{align:"center"}),Ue+=ce}),J+=10},ve=(he,te=10)=>{const Ue=he*te;return J+Ue>Q-20?(I.addPage(),J=30,I.setFillColor(10,42,64),I.rect(0,0,q,20,"F"),I.setTextColor(255,255,255),I.setFontSize(12),I.text("Rapport de Traçabilité OYSTER CULT (suite)",q/2,13,{align:"center"}),!0):!1},ue=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Lots en cours",q/2,J,{align:"center"}),J+=10;const he=[(q-20)*.25,(q-20)*.25,(q-20)*.2,(q-20)*.15,(q-20)*.15];de(["Nom","Emplacement","Stock","Status","Date"],he),ve(Nm.length),Nm.forEach((te,Ue)=>{const ee=J+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,q-20,10,"F")),I.setTextColor(60,60,60);let ne=10;I.text(te.name,ne+he[0]/2,ee+7,{align:"center"}),ne+=he[0],I.text(te.location,ne+he[1]/2,ee+7,{align:"center"}),ne+=he[1],I.text(`${te.stock.quantity} ${te.stock.unit}`,ne+he[2]/2,ee+7,{align:"center"}),ne+=he[2],I.text(te.status,ne+he[3]/2,ee+7,{align:"center"}),ne+=he[3],I.text(te.date,ne+he[4]/2,ee+7,{align:"center"})}),J+=Nm.length*10+15},Oe=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Bassins",q/2,J,{align:"center"}),J+=10;const he=[(q-20)*.2,(q-20)*.2,(q-20)*.15,(q-20)*.15,(q-20)*.15,(q-20)*.15];de(["Nom","Emplacement","Stock","Occupation","Statut","Proch. Maintenance"],he),ve(_m.length),_m.forEach((te,Ue)=>{const ee=J+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,q-20,10,"F")),I.setTextColor(60,60,60);let ne=10;I.text(te.name,ne+he[0]/2,ee+7,{align:"center"}),ne+=he[0],I.text(te.location,ne+he[1]/2,ee+7,{align:"center"}),ne+=he[1],I.text(`${te.stock.quantity} ${te.stock.unit}`,ne+he[2]/2,ee+7,{align:"center"}),ne+=he[2],I.text(te.occupation,ne+he[3]/2,ee+7,{align:"center"}),ne+=he[3],I.text(te.status,ne+he[4]/2,ee+7,{align:"center"}),ne+=he[4],I.text(te.nextMaintenance,ne+he[5]/2,ee+7,{align:"center"})}),J+=_m.length*10+15},Ee=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Emplacements de stockage",q/2,J,{align:"center"}),J+=10;const he=[(q-20)*.25,(q-20)*.25,(q-20)*.2,(q-20)*.15,(q-20)*.15];de(["Nom","Emplacement","Température","Humidité","Statut"],he),ve(Eu.length),Eu.forEach((ne,ce)=>{var He,Ke;const _e=J+ce*10;ce%2===0&&(I.setFillColor(240,240,240),I.rect(10,_e,q-20,10,"F")),I.setTextColor(60,60,60);let je=10;I.text(ne.name,je+he[0]/2,_e+7,{align:"center"}),je+=he[0],I.text(ne.location,je+he[1]/2,_e+7,{align:"center"}),je+=he[1];const me=((He=ne.stats.find(it=>it.label==="Température"))==null?void 0:He.value)||"N/A";I.text(me,je+he[2]/2,_e+7,{align:"center"}),je+=he[2];const Le=((Ke=ne.stats.find(it=>it.label==="Humidité"))==null?void 0:Ke.value)||"N/A";I.text(Le,je+he[3]/2,_e+7,{align:"center"}),je+=he[3],I.text(ne.status,je+he[4]/2,_e+7,{align:"center"})}),J+=Eu.length*10+15,I.addPage(),J=30,I.setFontSize(14),I.setTextColor(10,42,64),I.text("Produits stockés",q/2,J,{align:"center"}),J+=10;const te=[(q-20)*.25,(q-20)*.35,(q-20)*.2,(q-20)*.2];de(["Emplacement","Produit","Quantité","DLC"],te);let Ue=0;Eu.forEach(ne=>{Ue+=ne.products.length}),ve(Ue);let ee=0;Eu.forEach(ne=>{ne.products.forEach((ce,_e)=>{ee>0&&ee%25===0&&(I.addPage(),J=30,de(["Emplacement","Produit","Quantité","DLC"],te));const je=J+ee%25*10;ee%2===0&&(I.setFillColor(240,240,240),I.rect(10,je,q-20,10,"F")),I.setTextColor(60,60,60);let me=10;I.text(ne.name,me+te[0]/2,je+7,{align:"center"}),me+=te[0],I.text(ce.name,me+te[1]/2,je+7,{align:"center"}),me+=te[1],I.text(ce.quantity,me+te[2]/2,je+7,{align:"center"}),me+=te[2],I.text(ce.dlc,me+te[3]/2,je+7,{align:"center"}),ee++})}),J+=ee%25*10+15},ae=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Bons de livraison",q/2,J,{align:"center"}),J+=10;const he=[(q-20)*.2,(q-20)*.3,(q-20)*.25,(q-20)*.25];de(["Référence","Client","Date","Statut"],he),ve(Sm.length),Sm.forEach((te,Ue)=>{const ee=J+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,q-20,10,"F")),I.setTextColor(60,60,60);let ne=10;I.text(te.reference,ne+he[0]/2,ee+7,{align:"center"}),ne+=he[0],I.text(te.client,ne+he[1]/2,ee+7,{align:"center"}),ne+=he[1],I.text(te.date,ne+he[2]/2,ee+7,{align:"center"}),ne+=he[2],I.text(te.status,ne+he[3]/2,ee+7,{align:"center"})}),J+=Sm.length*10+15},Pe=()=>{I.setFontSize(14),I.setTextColor(10,42,64),I.text("Historique des activités",q/2,J,{align:"center"}),J+=10;const he=[(q-20)*.2,(q-20)*.2,(q-20)*.2,(q-20)*.4];de(["Date","Utilisateur","Action","Détails"],he),ve(Am.length),Am.forEach((te,Ue)=>{const ee=J+Ue*10;Ue%2===0&&(I.setFillColor(240,240,240),I.rect(10,ee,q-20,10,"F")),I.setTextColor(60,60,60);let ne=10;I.text(te.date,ne+he[0]/2,ee+7,{align:"center"}),ne+=he[0],I.text(te.user,ne+he[1]/2,ee+7,{align:"center"}),ne+=he[1],I.text(te.action,ne+he[2]/2,ee+7,{align:"center"}),ne+=he[2],I.text(te.details,ne+he[3]/2,ee+7,{align:"center"})}),J+=Am.length*10+15};ue(),I.addPage(),J=30,Oe(),I.addPage(),J=30,Ee(),I.addPage(),J=30,ae(),I.addPage(),J=30,Pe();const De=I.internal.getNumberOfPages();for(let he=1;he<=De;he++){I.setPage(he),I.setFontSize(10),I.setTextColor(100,100,100);const te=`Page ${he}/${De}`;I.text(`OYSTER CULT - Traçabilité - ${te}`,q/2,Q-10,{align:"center"})}I.save("traceabilite-oyster-cult.pdf"),h(!1)},B=()=>{if(!r)return null;const I=()=>{switch(r.type){case"lot":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-name",className:"block text-sm text-cyan-400 mb-1",children:"Nom"}),a.jsx("input",{id:"edit-name",type:"text",value:i.name,onChange:q=>s({...i,name:q.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-location",className:"block text-sm text-cyan-400 mb-1",children:"Emplacement"}),a.jsx("input",{id:"edit-location",type:"text",value:i.location,onChange:q=>s({...i,location:q.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-quantity",className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),a.jsx("input",{id:"edit-quantity",type:"text",value:i.stock.quantity,onChange:q=>s({...i,stock:{...i.stock,quantity:q.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"bassin":return a.jsxs("div",{className:"space-y-4",children:[r.stats.map((q,Q)=>a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-stat-${Q}`,className:"block text-sm text-cyan-400 mb-1",children:q.label}),a.jsx("input",{id:`edit-stat-${Q}`,type:"text",value:i.stats[Q].value,onChange:J=>{const de=[...i.stats];de[Q]={...de[Q],value:J.target.value},s({...i,stats:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},Q)),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-occupation",className:"block text-sm text-cyan-400 mb-1",children:"Occupation"}),a.jsx("input",{id:"edit-occupation",type:"text",value:i.occupation,onChange:q=>s({...i,occupation:q.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-maintenance",className:"block text-sm text-cyan-400 mb-1",children:"Prochaine maintenance"}),a.jsx("input",{id:"edit-maintenance",type:"text",value:i.nextMaintenance,onChange:q=>s({...i,nextMaintenance:q.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"edit-stock",className:"block text-sm text-cyan-400 mb-1",children:"Stock"}),a.jsx("input",{id:"edit-stock",type:"text",value:i.stock.quantity,onChange:q=>s({...i,stock:{...i.stock,quantity:q.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"storage":return a.jsxs("div",{className:"space-y-4",children:[r.stats.map((q,Q)=>a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-storage-stat-${Q}`,className:"block text-sm text-cyan-400 mb-1",children:q.label}),a.jsx("input",{id:`edit-storage-stat-${Q}`,type:"text",value:i.stats[Q].value,onChange:J=>{const de=[...i.stats];de[Q]={...de[Q],value:J.target.value},s({...i,stats:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},Q)),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Produits"}),i.products.map((q,Q)=>a.jsxs("div",{className:"space-y-2 mb-4 p-3 rounded-lg bg-cyan-500/5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-product-name-${Q}`,className:"block text-sm text-cyan-400 mb-1",children:"Nom du produit"}),a.jsx("input",{id:`edit-product-name-${Q}`,type:"text",value:q.name,onChange:J=>{const de=[...i.products];de[Q]={...de[Q],name:J.target.value},s({...i,products:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-product-quantity-${Q}`,className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),a.jsx("input",{id:`edit-product-quantity-${Q}`,type:"text",value:q.quantity,onChange:J=>{const de=[...i.products];de[Q]={...de[Q],quantity:J.target.value},s({...i,products:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`edit-product-dlc-${Q}`,className:"block text-sm text-cyan-400 mb-1",children:"DLC"}),a.jsx("input",{id:`edit-product-dlc-${Q}`,type:"text",value:q.dlc,onChange:J=>{const de=[...i.products];de[Q]={...de[Q],dlc:J.target.value},s({...i,products:de})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]},Q))]})]});default:return null}};return a.jsxs(Jh,{isOpen:!0,onClose:()=>n(null),title:`Modifier ${r.name}`,children:[I(),a.jsxs("div",{className:"flex justify-end mt-6 gap-3",children:[a.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler la modification",children:"Annuler"}),a.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Enregistrer les modifications",children:[a.jsx(Pc,{className:"w-4 h-4"}),"Enregistrer"]})]})]})},L=()=>!f||!m?null:a.jsx(Jh,{isOpen:!0,onClose:()=>p(!1),title:`Bon de livraison - ${m.reference}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Date"}),a.jsx("p",{className:"text-white",children:m.date})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400 mb-1",children:"Client"}),a.jsx("p",{className:"text-white",children:m.client})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400 mb-2",id:"products-heading",children:"Produits"}),a.jsx("div",{className:"space-y-2","aria-labelledby":"products-heading",children:m.products.map((I,q)=>a.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-white",children:I.name}),a.jsx("p",{className:"text-cyan-400",children:I.quantity})]})},q))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Notes"}),a.jsx("p",{className:"text-white",children:m.notes})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le bon de livraison",children:"Fermer"})})]})}),W=()=>o?a.jsx(Jh,{isOpen:!0,onClose:()=>l(!1),title:"Filtrer les éléments",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-search",className:"block text-sm text-cyan-400 mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"filter-search",type:"text",value:g.search||"",onChange:I=>b({...g,search:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg pl-10 pr-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher..."}),a.jsx(Vr,{className:"absolute left-3 top-2.5 w-4 h-4 text-cyan-400","aria-hidden":"true"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-date",className:"block text-sm text-cyan-400 mb-1",children:"Date"}),a.jsx("input",{id:"filter-date",type:"date",value:g.date||"",onChange:I=>b({...g,date:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-status",className:"block text-sm text-cyan-400 mb-1",children:"Statut"}),a.jsxs("select",{id:"filter-status",value:g.status||"",onChange:I=>b({...g,status:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"Optimal",children:"Optimal"}),a.jsx("option",{value:"Attention",children:"Attention"}),a.jsx("option",{value:"Livré",children:"Livré"}),a.jsx("option",{value:"En cours",children:"En cours"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filter-type",className:"block text-sm text-cyan-400 mb-1",children:"Type"}),a.jsxs("select",{id:"filter-type",value:g.type||"",onChange:I=>b({...g,type:I.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"lot",children:"Lots"}),a.jsx("option",{value:"bassin",children:"Bassins"}),a.jsx("option",{value:"storage",children:"Stockage"}),a.jsx("option",{value:"bl",children:"Bons de livraison"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[a.jsx("button",{onClick:()=>{b({}),l(!1)},className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Réinitialiser les filtres",children:"Réinitialiser"}),a.jsxs("button",{onClick:()=>l(!1),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Appliquer les filtres",children:[a.jsx(Bn,{className:"w-4 h-4","aria-hidden":"true"}),"Appliquer"]})]})]})}):null,$=()=>c?a.jsx(Jh,{isOpen:!0,onClose:()=>{u(!1),w("")},title:"Scanner un QR Code",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative overflow-hidden rounded-lg bg-black aspect-video",children:a.jsx("video",{ref:S,className:"w-full h-full object-cover rounded-lg","aria-label":"Flux vidéo pour le scan de QR code"})}),y&&a.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[a.jsx("p",{className:"text-sm text-cyan-400",id:"qr-result-label",children:"Résultat du scan"}),a.jsx("p",{className:"text-white break-all","aria-labelledby":"qr-result-label",children:y})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>{u(!1),w("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le scanner QR",children:"Fermer"})})]})}):null,z=()=>d?a.jsx(Jh,{isOpen:!0,onClose:()=>h(!1),title:"Exporter les données",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-white",id:"export-description",children:"Voulez-vous exporter toutes les données de traçabilité en PDF ? Le document contiendra toutes les informations de chaque onglet (Lots, Bassins, Stockage, Bons de livraison et Historique)."}),a.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 mb-4",children:[a.jsxs("h3",{className:"text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[a.jsx(Tf,{className:"w-4 h-4"}),"Informations importantes"]}),a.jsxs("ul",{className:"list-disc pl-5 text-sm text-white/80 space-y-2",children:[a.jsxs("li",{children:["Le PDF généré contiendra ",a.jsx("strong",{children:"toutes les données"})," de tous les onglets, quelle que soit la page actuellement affichée."]}),a.jsx("li",{children:"Les données seront organisées par sections avec une mise en page optimisée."}),a.jsx("li",{children:"Pour les sections contenant beaucoup de données, plusieurs pages seront créées automatiquement."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler l'export",children:"Annuler"}),a.jsxs("button",{onClick:O,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-labelledby":"export-description",children:[a.jsx(ns,{className:"w-4 h-4","aria-hidden":"true"}),"Exporter en PDF"]})]})]})}):null,X=({tabs:I,activeTab:q,onChange:Q,className:J})=>a.jsx("div",{className:`flex gap-4 ${J}`,role:"tablist",children:I.map(de=>a.jsxs("button",{onClick:()=>Q(de.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap min-w-[44px] min-h-[44px] ${q===de.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] focus:ring-2 focus:ring-cyan-500/40 transform hover:-translate-y-1 hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300":"text-white/60 hover:text-white hover:bg-white/5 shadow-[0_4px_8px_rgba(0,0,0,0.2)] hover:shadow-[0_5px_12px_rgba(0,0,0,0.3)] focus:ring-2 focus:ring-white/30 transform hover:-translate-y-1 transition-all duration-300"}`,role:"tab","aria-selected":q===de.id,"aria-controls":`tab-panel-${de.id}`,id:`tab-${de.id}`,children:[a.jsx("span",{className:"w-4 h-4","aria-hidden":"true",children:de.icon}),a.jsx("span",{children:de.label})]},de.id))}),Y=I=>{e(I)},le=[{id:"lots",label:"Lots en cours",icon:a.jsx(ui,{size:20}),count:28},{id:"bassins",label:"Bassins",icon:a.jsx(vn,{size:20}),count:15},{id:"autre_emplacement",label:"Autre emplacement",icon:a.jsx(Oi,{size:20}),count:8},{id:"bl",label:"Bons de livraison",icon:a.jsx(nd,{size:20}),count:36},{id:"historique",label:"Historique",icon:a.jsx(vl,{size:20})}],fe=I=>{console.log("Visualisation du document:",I)},R=I=>{_(q=>q.includes(I)?q.filter(Q=>Q!==I):[...q,I])};return a.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2 mb-4",children:[a.jsx(bn,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Traçabilité"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les lots",children:[a.jsx(Bn,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Filtrer"})]}),a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[a.jsx(Dt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter les données",children:[a.jsx(ns,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Exporter"})]})]})]}),a.jsx("div",{className:"relative mb-6 mt-4",children:a.jsx(X,{tabs:le,activeTab:t,onChange:Y,className:"overflow-x-auto pb-2 hide-scrollbar"})})]}),a.jsxs("div",{id:"traceability-content",className:"space-y-6",children:[t==="lots"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(ui,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Lots de production"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[a.jsx(Dt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:Nm.map(I=>a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.name}),a.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",I.location]})]}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{onClick:()=>D(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:a.jsx(Ui,{className:"w-4 h-4","aria-hidden":"true"})})})]}),a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${I.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),a.jsx("p",{className:"text-xs text-white/70",children:I.status})]})]}),a.jsxs("p",{className:"text-white",children:[I.stock.quantity," ",I.stock.unit]})]}),a.jsx("div",{className:"text-sm text-white/70",children:a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("p",{children:"Date de création"}),a.jsx("p",{children:I.date})]})})]})]})},I.id))})]})}),t==="bassins"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(vn,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Occupation des bassins"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bassin",children:[a.jsx(Dt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:_m.map(I=>{var q;return a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.name}),a.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",I.location]})]}),a.jsx("div",{className:"flex gap-1",children:a.jsx("button",{onClick:()=>D(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:a.jsx(Ui,{className:"w-4 h-4","aria-hidden":"true"})})})]}),a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${I.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),a.jsx("p",{className:"text-xs text-white/70",children:I.status})]})]}),a.jsxs("p",{className:"text-white",children:[I.stock.quantity," ",I.stock.unit]}),a.jsx("p",{className:"text-sm text-white/70 mt-1",children:((q=I.stats.find(Q=>Q.label==="Produit"))==null?void 0:q.value)||"Non spécifié"})]}),a.jsxs("div",{className:"text-sm text-white/70",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("p",{children:"Statut"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="Optimal"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:I.status})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{children:"Prochaine maintenance"}),a.jsx("p",{children:I.nextMaintenance})]})]})]})]})},I.id)})})]})}),t==="bl"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(nd,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Bons de livraison"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bon de livraison",children:[a.jsx(Dt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6",children:Sm.map(I=>a.jsxs("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors cursor-pointer",onClick:()=>k(I),children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-2 md:gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.reference}),a.jsxs("p",{className:"text-sm text-white/60",children:["Client: ",I.client]})]}),a.jsx("div",{children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="Livré"?"bg-green-500/10 text-green-400":"bg-blue-500/10 text-blue-400"}`,children:I.status})})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-sm text-cyan-400",children:"Produits"}),a.jsx("ul",{className:"mt-1 space-y-1",children:I.products.map((q,Q)=>a.jsxs("li",{className:"text-sm text-white flex justify-between",children:[a.jsx("span",{children:q.name}),a.jsx("span",{children:q.quantity})]},Q))})]}),a.jsxs("div",{className:"mt-3 flex justify-between text-sm",children:[a.jsxs("span",{className:"text-white/60",children:["Date: ",I.date]}),a.jsx("button",{onClick:q=>{q.stopPropagation(),k(I)},className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Voir les détails du bon de livraison ${I.reference}`,children:a.jsx(hl,{className:"w-4 h-4","aria-hidden":"true"})})]})]},I.id))})]})}),t==="historique"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(vl,{className:"text-cyan-400","aria-hidden":"true"}),"Historique des activités"]})}),a.jsx("div",{className:"space-y-4 mt-6",children:Am.map(I=>a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 mt-2"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[a.jsx("h3",{className:"font-medium text-white mb-1",children:I.action}),a.jsx("span",{className:"text-sm text-white/60",children:I.date})]}),a.jsxs("p",{className:"text-sm text-white/60 mb-2",children:["Par: ",I.user]}),a.jsx("p",{className:"text-sm text-white",children:I.details})]})]})},I.id))})]})}),t==="autre_emplacement"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[a.jsx(Oi,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Emplacements de stockage"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un emplacement de stockage",children:[a.jsx(Dt,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:Eu.map(I=>{var Ee,ae,Pe;const q=((Ee=I.stats.find(De=>De.label==="Type"))==null?void 0:Ee.value)||"Stockage",Q=((ae=I.stats.find(De=>De.label==="Occupation"))==null?void 0:ae.value)||"0%",J=((Pe=I.stats.find(De=>De.label==="Capacité"))==null?void 0:Pe.value)||"N/A",de=parseInt(Q)||0;let ve="bg-emerald-500",ue="text-emerald-400";de<20?(ve="bg-red-500",ue="text-red-400"):de<40&&(ve="bg-amber-500",ue="text-amber-400");let Oe="bg-emerald-500/10 text-emerald-400";return I.status==="Attention"?Oe="bg-amber-500/10 text-amber-400":I.status==="Critique"&&(Oe="bg-red-500/10 text-red-400"),a.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors","aria-label":`Emplacement de stockage ${I.name}, ${q}, occupation ${Q}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:I.name}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/60 mt-1",children:[a.jsx("span",{className:"inline-block px-2 py-0.5 bg-cyan-500/10 rounded text-cyan-400 text-xs",children:q}),a.jsx("span",{"aria-hidden":"true",children:"•"}),a.jsx("span",{children:I.location})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>D(I),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${I.name}`,children:a.jsx(Ui,{className:"w-4 h-4","aria-hidden":"true"})}),a.jsx("button",{onClick:()=>fe(I.id),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`QR Code pour ${I.name}`,children:a.jsx(A0,{className:"w-4 h-4","aria-hidden":"true"})})]})]}),a.jsxs("div",{className:"mt-2 space-y-4",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-cyan-400",children:"Capacité"}),a.jsx("span",{className:"text-white font-medium",children:J})]})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-cyan-400",children:"Occupation"}),a.jsx("span",{className:`text-sm font-medium ${ue}`,children:Q})]}),a.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:`h-full ${ve} rounded-full transition-all duration-500 ease-in-out`,style:{width:`${de}%`},role:"progressbar","aria-valuenow":de,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Occupation: ${Q}`})})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:I.stats.filter(De=>["Température","Humidité"].includes(De.label)).map((De,he)=>a.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-2",children:[a.jsx("p",{className:"text-xs text-cyan-400",children:De.label}),a.jsx("p",{className:"text-white font-medium",children:De.value})]},he))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Oe}`,children:I.status})]}),I.products&&I.products.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{onClick:De=>{De.stopPropagation(),R(I.id)},className:"w-full flex justify-between items-center py-2 px-3 rounded-lg bg-cyan-500/10 text-white hover:bg-cyan-500/20 transition-colors min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-expanded":N.includes(I.id),"aria-controls":`products-${I.id}`,children:[a.jsxs("span",{className:"flex items-center text-sm font-medium",children:[a.jsx(ui,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Produits (",I.products.length,")"]}),a.jsx(Md,{className:`w-4 h-4 transition-transform duration-300 ${N.includes(I.id)?"rotate-180":""}`,"aria-hidden":"true"})]}),N.includes(I.id)&&a.jsxs("div",{id:`products-${I.id}`,className:"mt-2 space-y-2 p-3 bg-cyan-500/5 rounded-lg border border-cyan-500/10 animate-fadeIn",children:[a.jsx("h4",{className:"text-sm font-medium text-cyan-400 mb-2",children:"Produits stockés"}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-white/60",children:[a.jsx("th",{className:"pb-2 font-medium",children:"Produit"}),a.jsx("th",{className:"pb-2 font-medium",children:"Quantité"}),a.jsx("th",{className:"pb-2 font-medium",children:"DLC"})]})}),a.jsx("tbody",{children:I.products.map((De,he)=>{const te=De.dlc!=="N/A";let Ue="";if(te){const ee=new Date,ce=new Date(De.dlc.split("/").reverse().join("-")).getTime()-ee.getTime(),_e=Math.ceil(ce/(1e3*60*60*24));_e<0?Ue="text-red-400 font-medium":_e<=7&&(Ue="text-amber-400 font-medium")}return a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-2 text-white",children:De.name}),a.jsx("td",{className:"py-2 text-white",children:De.quantity}),a.jsx("td",{className:"py-2",children:a.jsxs("span",{className:De.dlc==="N/A"?"text-white/60":`text-white ${Ue}`,children:[De.dlc,Ue==="text-red-400 font-medium"&&a.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-red-500/20",children:"Dépassée"}),Ue==="text-amber-400 font-medium"&&a.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-amber-500/20",children:"Bientôt"})]})})]},he)})})]})]})]}),a.jsx("div",{className:"mt-auto pt-4",children:a.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-xs text-white/60",children:[a.jsx("span",{className:"w-20",children:"Date:"}),a.jsx("span",{className:"text-white/80",children:I.date})]})})]})},I.id)})})]})})]}),B(),L(),W(),$(),z()]})}function mve({onSubmit:t,onCancel:e}){const r=n=>{n.preventDefault(),t({})};return a.jsxs("form",{onSubmit:r,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-white/70 mb-2",children:"Client"}),a.jsx("input",{type:"text",id:"client",name:"client",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nom du client"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"products",className:"block text-sm font-medium text-white/70 mb-2",children:"Produits"}),a.jsxs("select",{id:"products",name:"products",multiple:!0,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",children:[a.jsx("option",{value:"huitres-speciales",children:"Huîtres Spéciales N°2"}),a.jsx("option",{value:"huitres-fines",children:"Huîtres Fines N°3"}),a.jsx("option",{value:"huitres-plates",children:"Huîtres Plates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-white/70 mb-2",children:"Quantité"}),a.jsx("input",{type:"number",id:"quantity",name:"quantity",min:"1",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nombre de douzaines"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-white/70 mb-2",children:"Prix unitaire (€)"}),a.jsx("input",{type:"number",id:"price",name:"price",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"29.90"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-white/70 mb-2",children:"Notes"}),a.jsx("textarea",{id:"notes",name:"notes",rows:3,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Informations complémentaires..."})]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Créer la vente"})]})]})}const Ok=[{month:"Jan",sales:42e3,orders:156},{month:"Fév",sales:48e3,orders:172},{month:"Mar",sales:45e3,orders:168},{month:"Avr",sales:52e3,orders:189},{month:"Mai",sales:49e3,orders:175},{month:"Juin",sales:55e3,orders:198}],Pk=(t,e)=>({data:t.map(r=>({name:r.month,value:r[e]}))}),xve=[{name:"Ventes",color:"#22d3ee",...Pk(Ok,"sales")}],gve=[{name:"Commandes",color:"#22d3ee",...Pk(Ok,"orders")}];function vve(){const[t,e]=T.useState(!1),[r,n]=T.useState("");T.useState("month");const i=s=>{console.log("Creating sale:",s),e(!1)};return a.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:a.jsx(_0,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ventes"})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Dt,{size:20,"aria-hidden":"true"}),"Nouvelle Vente"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(bC,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Ventes totales"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"55,000 €"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(Ci,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Nouveaux clients"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"24"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(vw,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Commandes"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"198"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+15% ce mois"})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:a.jsx(ui,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/70",children:"Produits vendus"}),a.jsx("p",{className:"text-2xl font-semibold text-white",children:"856"}),a.jsx("p",{className:"text-sm text-emerald-400",children:"+5% ce mois"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Évolution des ventes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),a.jsx(b0,{series:xve,height:300})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nombre de commandes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),a.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),a.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),a.jsx(b0,{series:gve,height:300})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:"Dernières ventes"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40","aria-hidden":"true"}),a.jsx("input",{type:"text",placeholder:"Rechercher...",value:r,onChange:s=>n(s.target.value),className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Bn,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-white/60",children:[a.jsx("th",{className:"pb-4",children:"Date"}),a.jsx("th",{className:"pb-4",children:"Client"}),a.jsx("th",{className:"pb-4",children:"Produits"}),a.jsx("th",{className:"pb-4 text-right",children:"Montant"}),a.jsx("th",{className:"pb-4",children:"Statut"})]})}),a.jsxs("tbody",{className:"text-white",children:[a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"26/03/2025"}),a.jsx("td",{children:"Martin Dubois"}),a.jsx("td",{children:"Huîtres Spéciales N°2 (3 dz)"}),a.jsx("td",{className:"text-right text-cyan-400",children:"89.70 €"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Livrée"})})]}),a.jsxs("tr",{className:"border-t border-white/10",children:[a.jsx("td",{className:"py-4",children:"26/03/2025"}),a.jsx("td",{children:"Sophie Martin"}),a.jsx("td",{children:"Huîtres Fines N°3 (4 dz)"}),a.jsx("td",{className:"text-right text-cyan-400",children:"95.60 €"}),a.jsx("td",{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"En cours"})})]})]})]})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Vente"}),a.jsx("button",{onClick:()=>e(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:a.jsx(vt,{size:24})})]}),a.jsx(mve,{onSubmit:i,onCancel:()=>e(!1)})]})})]})}const VA=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,freshness:5,quality:4,packaging:4.5}}];function bve({purchase:t,onClose:e}){const[r,n]=T.useState("comments"),[i,s]=T.useState(""),[o,l]=T.useState({overall:0,freshness:0,quality:0,packaging:0}),c=f=>{f.preventDefault(),i.trim()&&s("")},u=(f,p)=>{l(m=>({...m,[f]:p}))},d=f=>{f.preventDefault()},h=(f,p)=>a.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(m=>a.jsx("button",{onClick:()=>p==null?void 0:p(m),className:`text-lg ${m<=f?"text-yellow-400":"text-white/20"}`,children:"★"},m))});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>n("comments"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${r==="comments"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(AC,{size:16,className:"mr-2"}),"Commentaires"]})}),a.jsx("button",{onClick:()=>n("ratings"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${r==="ratings"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pa,{size:16,className:"mr-2"}),"Évaluation"]})})]}),r==="comments"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4",children:VA.filter(f=>f.type==="comment").map(f=>a.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:f.author.avatar?a.jsx("img",{src:f.author.avatar,alt:f.author.name,className:"w-full h-full rounded-full"}):a.jsx("span",{className:"text-white text-sm font-medium",children:f.author.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-white",children:f.author.name}),a.jsx("span",{className:"text-white/60 text-sm ml-2",children:It(new Date(f.timestamp),"PPp",{locale:Nr})})]})}),a.jsx("p",{className:"text-white/80 mt-2",children:f.content}),f.attachments&&f.attachments.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:f.attachments.map((p,m)=>a.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 bg-white/5 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:[a.jsx(_C,{size:16,className:"mr-2"}),p.name]},m))})]})]})},f.id))}),a.jsx("form",{onSubmit:c,className:"space-y-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:i,onChange:f=>s(f.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),a.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[a.jsx("button",{type:"button",className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(SC,{size:20})}),a.jsx("button",{type:"submit",disabled:!i.trim(),className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(p1,{size:20})})]})]})})]}),r==="ratings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:VA.filter(f=>f.type==="rating").map(f=>{var p,m,x,g;return a.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:f.author.avatar?a.jsx("img",{src:f.author.avatar,alt:f.author.name,className:"w-full h-full rounded-full"}):a.jsx("span",{className:"text-white text-sm font-medium",children:f.author.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-white",children:f.author.name}),a.jsx("span",{className:"text-white/60 text-sm ml-2",children:It(new Date(f.timestamp),"PPp",{locale:Nr})})]})}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Note globale"}),h(((p=f.rating)==null?void 0:p.overall)||0)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),h(((m=f.rating)==null?void 0:m.freshness)||0)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Qualité"}),h(((x=f.rating)==null?void 0:x.quality)||0)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Emballage"}),h(((g=f.rating)==null?void 0:g.packaging)||0)]})]})]})]})},f.id)})}),a.jsxs("form",{onSubmit:d,className:"bg-white/5 rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"text-white font-medium",children:"Nouvelle évaluation"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Note globale"}),h(o.overall,f=>u("overall",f))]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),h(o.freshness,f=>u("freshness",f))]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Qualité"}),h(o.quality,f=>u("quality",f))]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/60",children:"Emballage"}),h(o.packaging,f=>u("packaging",f))]})]}),a.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'évaluation"})]})]})]})}function yve({order:t,onClose:e}){return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:a.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Commenter la commande ",t.id]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white/5 rounded-lg",children:a.jsx(vt,{className:"text-white/60",size:20})})]}),a.jsx(bve,{purchase:t,onClose:e})]})}):null}function wve(){const[t,e]=T.useState(""),[r,n]=T.useState(null),[i,s]=T.useState(null),[o,l]=T.useState(!1),[c,u]=T.useState(0),[d,h]=T.useState({supplier:"",product:"",expiryDate:"",invoice:null}),f=g=>{switch(g){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},p=g=>{var y;const b=(y=g.target.files)==null?void 0:y[0];b&&h(w=>({...w,invoice:b}))},m=g=>{g.preventDefault(),console.log("Nouveau achat:",{...d,rating:c}),l(!1),h({supplier:"",product:"",expiryDate:"",invoice:null}),u(0)},x=[{id:"2024-0131",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:"180kg",status:"pending",icon:bn,stockLocation:"En attente",lastUpdate:"01/03/2024 14:30"},{id:"2024-0130",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:"65kg",status:"confirmed",icon:bn,stockLocation:"En attente",lastUpdate:"01/03/2024 11:20"},{id:"2024-0129",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:"90kg",status:"dispatched",icon:bn,stockLocation:"En transit",lastUpdate:"01/03/2024 09:45"},{id:"2024-0128",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:"40kg",status:"in_transit",icon:bn,stockLocation:"En transit",lastUpdate:"01/03/2024 08:15"},{id:"2024-0127",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:"200kg",status:"pending",icon:bn,stockLocation:"En attente",lastUpdate:"01/03/2024 09:15"},{id:"2024-0126",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:"150kg",status:"confirmed",icon:bn,stockLocation:"En attente",lastUpdate:"28/02/2024 16:45"},{id:"2024-0125",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:"50kg",status:"dispatched",icon:bn,stockLocation:"En transit",lastUpdate:"28/02/2024 08:30"},{id:"2024-0124",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:"60kg",status:"in_transit",icon:bn,stockLocation:"En transit",lastUpdate:"27/02/2024 19:00"},{id:"2024-0123",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:"100kg",status:"pending",icon:bn,stockLocation:"Bassin A3",lastUpdate:"26/02/2024 14:30"},{id:"2024-0122",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:"150kg",status:"confirmed",icon:bn,stockLocation:"Bassin B1",lastUpdate:"26/02/2024 10:15"},{id:"2024-0121",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:"45kg",status:"delivered",icon:gC,stockLocation:"Trempage T2",lastUpdate:"25/02/2024 16:45"},{id:"2024-0120",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:"80kg",status:"completed",icon:bn,stockLocation:"Bassin C2",lastUpdate:"24/02/2024 11:20"},{id:"2024-0119",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:"40kg",status:"completed",icon:bn,stockLocation:"Zone D3",lastUpdate:"22/02/2024 15:40"}];return a.jsxs(be.div,{initial:"hidden",animate:"visible",className:"container mx-auto p-4 space-y-4",children:[a.jsx(Qd,{icon:a.jsx(vw,{size:28,className:"text-white"}),title:"Achats"}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(xt,{type:"text",placeholder:"Rechercher une commande...",value:t,onChange:g=>e(g.target.value),className:"w-full",leftIcon:a.jsx(Vr,{className:"w-4 h-4"})})}),a.jsxs(qt,{variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Bn,{className:"w-4 h-4"})," Filtres"]})]})}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:x.map(g=>a.jsx("div",{children:a.jsx(wf,{className:"overflow-hidden",children:a.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>n(r===g.id?null:g.id),children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${f(g.status).bgColor}`,children:g.icon&&a.jsx(g.icon,{className:`w-5 h-5 ${f(g.status).textColor}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-base font-medium text-white",children:g.product}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${f(g.status).bgColor} ${f(g.status).textColor}`,children:f(g.status).label})]}),a.jsxs("p",{className:"text-sm text-white/60",children:[g.supplier," • #",g.id," • Livraison le ",g.deliveryDate]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-base font-medium text-white",children:[g.price,"€"]}),a.jsx("p",{className:"text-sm text-white/60",children:g.quantity})]}),a.jsx(Dd,{className:`w-5 h-5 text-white/40 transition-transform ${r===g.id?"rotate-90":""}`})]}),r===g.id&&a.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-white/10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-white/40",children:"Statut"}),a.jsx("p",{className:`text-sm text-white mt-1 ${f(g.status).textColor}`,children:f(g.status).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-white/40",children:"Date de commande"}),a.jsx("p",{className:"text-sm text-white mt-1",children:"25/02/2024"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-white/40",children:"Fournisseur"}),a.jsx("p",{className:"text-sm text-white mt-1",children:g.supplier})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-white/40",children:"Emplacement stock"}),a.jsx("p",{className:"text-sm text-white mt-1",children:g.stockLocation})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-white/40",children:"Dernière mise à jour"}),a.jsx("p",{className:"text-sm text-white mt-1",children:g.lastUpdate})]})]}),a.jsx("div",{className:"flex justify-end mt-6 space-x-4",children:a.jsxs("button",{onClick:()=>s(g.id),className:"px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-white transition-colors flex items-center space-x-2",children:[a.jsx(jo,{size:16,className:"mr-2"}),"Commenter"]})})]})]})})},g.id))}),i&&a.jsx(yve,{order:x.find(g=>g.id===i),onClose:()=>s(null)}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:a.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:a.jsx(vt,{className:"text-white/60",size:20})})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),a.jsx(xt,{type:"text",value:d.supplier,onChange:g=>h(b=>({...b,supplier:g.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Produit"}),a.jsx(xt,{type:"text",value:d.product,onChange:g=>h(b=>({...b,product:g.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),a.jsx(xt,{type:"date",value:d.expiryDate,onChange:g=>h(b=>({...b,expiryDate:g.target.value})),className:"w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation"}),a.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(g=>a.jsx("button",{type:"button",onClick:()=>u(g),className:"focus:outline-none",children:a.jsx(Pa,{size:24,className:g<=c?"text-yellow-400 fill-yellow-400":"text-white/20"})},g))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:p,className:"hidden"}),a.jsx(rs,{className:"w-5 h-5 text-white/60 mr-2"}),a.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),a.jsxs(qt,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[a.jsx(Oc,{className:"w-4 h-4"}),"Photo"]}),a.jsxs(qt,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[a.jsx(xC,{className:"w-4 h-4"}),"Scanner"]})]}),d.invoice&&a.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",d.invoice.name]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(qt,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Annuler"}),a.jsx(qt,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function jve(){var i;const[t,e]=T.useState(!1),{session:r}=ua(),n=s=>{s.preventDefault(),e(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-6",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(i=r==null?void 0:r.user)!=null&&i.avatar_url?a.jsx("img",{src:r.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):a.jsx(kf,{size:64,className:"text-brand-burgundy"})}),a.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[a.jsx(rs,{size:24}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Jean Dupont"}),a.jsx("p",{className:"text-white/60",children:"Responsable Production"}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(ka,{size:16,className:"mr-2"}),"jean.dupont@example.com"]}),a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(Ei,{size:16,className:"mr-2"}),"06 12 34 56 78"]}),a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(m1,{size:16,className:"mr-2"}),"Zone Nord"]}),a.jsxs("div",{className:"flex items-center text-white/60",children:[a.jsx(Hi,{size:16,className:"mr-2"}),"Embauché le 15/01/2024"]})]})]}),a.jsx("button",{onClick:()=>e(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t?"Annuler":"Modifier"})]}),t?a.jsxs("form",{onSubmit:n,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),a.jsx("input",{type:"text",defaultValue:"Jean",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),a.jsx("input",{type:"text",defaultValue:"Dupont",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),a.jsx("input",{type:"email",defaultValue:"jean.dupont@example.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),a.jsx("input",{type:"tel",defaultValue:"06 12 34 56 78",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),a.jsx("textarea",{rows:3,defaultValue:"123 Rue de la Mer, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),a.jsx("div",{className:"text-white mt-1",children:"123 Rue de la Mer, 34140 Bouzigues"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Contact d'urgence"}),a.jsx("div",{className:"text-white mt-1",children:"Marie Dupont - 06 98 76 54 32"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),a.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function Nve(){const[t,e]=T.useState(!1),[r,n]=T.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),a.jsx("button",{onClick:()=>e(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),t&&a.jsxs("form",{className:"mt-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),a.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),a.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),a.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),a.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),r&&a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(CC,{size:20,className:"text-white/60 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(rD,{size:20,className:"text-white/60 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),a.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),a.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),a.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),a.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),a.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),a.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),a.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),a.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),a.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const _ve=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],Sve={login:nD,settings:f1,document:ks,notification:Rd};function Ave(){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"p-6 border-b border-white/10",children:a.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),a.jsx("div",{className:"divide-y divide-white/10",children:_ve.map(t=>{const e=Sve[t.type];return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:a.jsx(e,{size:20,className:"text-brand-burgundy"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("h4",{className:"text-lg font-medium text-white",children:t.action})}),t.details&&a.jsx("p",{className:"text-white/70 mt-1",children:t.details}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hi,{size:16,className:"mr-1"}),It(new Date(t.timestamp),"PPp",{locale:Nr})]}),t.location&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"•"}),a.jsx("div",{children:t.location})]}),t.device&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"•"}),a.jsx("div",{children:t.device})]})]})]})]})},t.id)})})]})})}function Cve(){const[t,e]=T.useState([]),[r,n]=T.useState("csv"),[i,s]=T.useState({start:"",end:""}),o=()=>{console.log("Exporting data:",{selectedData:t,format:r,dateRange:i})};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("tasks"),onChange:l=>{l.target.checked?e([...t,"tasks"]):e(t.filter(c=>c!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Tâches"}),a.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("inventory"),onChange:l=>{l.target.checked?e([...t,"inventory"]):e(t.filter(c=>c!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),a.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("time"),onChange:l=>{l.target.checked?e([...t,"time"]):e(t.filter(c=>c!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),a.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t.includes("activity"),onChange:l=>{l.target.checked?e([...t,"activity"]):e(t.filter(c=>c!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:"Activité"}),a.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"radio",name:"format",value:"csv",checked:r==="csv",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),a.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),a.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[a.jsx("input",{type:"radio",name:"format",value:"json",checked:r==="json",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),a.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),a.jsx("input",{type:"date",value:i.start,onChange:l=>s({...i,start:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),a.jsx("input",{type:"date",value:i.end,onChange:l=>s({...i,end:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),a.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(di,{size:20,className:"text-yellow-400 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),a.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:o,disabled:t.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(ns,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function Eve(){var n;const{session:t}=ua(),e=Ove((n=t==null?void 0:t.user)==null?void 0:n.id),r=()=>{navigator.clipboard.writeText(e)};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),a.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),a.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:a.jsx(Ci,{size:24,className:"text-brand-burgundy"})})]}),a.jsx("div",{className:"mt-8 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),a.jsx(be.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:a.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:e})})]})}),a.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[a.jsxs(be.button,{onClick:r,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(iD,{size:20,className:"mr-2"}),"Copier le code"]}),a.jsxs(be.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(A0,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),a.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[a.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),a.jsxs("ol",{className:"space-y-2 text-white/60",children:[a.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),a.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),a.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function Ove(t){var n;return t&&((n=(Array.from(t).reduce((i,s)=>(i<<5)-i+s.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:n.join("-"))||"XXXX-XXXX-XXXX"}function Pve(){const[t,e]=T.useState("info");return a.jsxs(be.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsx(Qd,{icon:a.jsx(kf,{size:28,className:"text-white"}),title:"Mon Espace"}),a.jsx("div",{className:"flex items-center justify-between"}),a.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[a.jsx("button",{onClick:()=>e("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kf,{size:16,className:"mr-2"}),"Informations"]})}),a.jsx("button",{onClick:()=>e("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ci,{size:16,className:"mr-2"}),"Code ami"]})}),a.jsx("button",{onClick:()=>e("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tm,{size:16,className:"mr-2"}),"Sécurité"]})}),a.jsx("button",{onClick:()=>e("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vl,{size:16,className:"mr-2"}),"Activité"]})}),a.jsx("button",{onClick:()=>e("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ns,{size:16,className:"mr-2"}),"Export"]})})]}),t==="info"&&a.jsx(jve,{}),t==="friend-code"&&a.jsx(Eve,{}),t==="security"&&a.jsx(Nve,{}),t==="activity"&&a.jsx(Ave,{}),t==="export"&&a.jsx(Cve,{})]})}const Ou="oystercult_cart";function kk(){const[t,e]=T.useState([]),[r,n]=T.useState(!1);T.useEffect(()=>{const l=localStorage.getItem(Ou);if(l)try{e(JSON.parse(l))}catch(c){console.error("Erreur lors du chargement du panier:",c),localStorage.removeItem(Ou)}},[]);const i=T.useCallback((l,c)=>{const u=[...t],d=u.find(h=>h.productId===l);d?d.quantity=c:u.push({productId:l,quantity:c}),e(u),localStorage.setItem(Ou,JSON.stringify(u))},[t]),s=T.useCallback(l=>{const c=t.filter(u=>u.productId!==l);e(c),c.length===0?localStorage.removeItem(Ou):localStorage.setItem(Ou,JSON.stringify(c))},[t]),o=T.useCallback(()=>{e([]),localStorage.removeItem(Ou)},[]);return T.useCallback(()=>{n(!r)},[r]),{cartItems:t,addToCart:i,removeFromCart:s,clearCart:o,isCartModalOpen:r,setIsCartModalOpen:n}}function Tk({isOpen:t,onClose:e,items:r,products:n,onRemoveItem:i,onClearCart:s}){if(!t)return null;console.log("CartModal - items:",r),console.log("CartModal - products:",n);const o=r.reduce((c,u)=>{const d=n.find(h=>h.id===u.productId);return console.log(`Item ${u.productId} - Found product:`,d),c+(d?d.price*u.quantity:0)},0),l=()=>{s(),e()};return a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:a.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[a.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:a.jsx(vt,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),a.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:r.length===0?a.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):a.jsx("div",{className:"space-y-4",children:r.map(c=>{const u=n.find(d=>d.id===c.productId);return u?a.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:u.name}),a.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[c.quantity," ",u.unit," × ",u.price.toFixed(2),"€"]}),a.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(c.quantity*u.price).toFixed(2),"€"]})]}),a.jsx("button",{onClick:()=>i(c.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:a.jsx(Zn,{className:"w-4 h-4 text-red-500"})})]},c.productId):null})})}),r.length>0&&a.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),a.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[o.toFixed(2),"€"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),a.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[a.jsx(vw,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const Mb=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function kve(){const[t,e]=T.useState(""),[r,n]=T.useState("all"),[i,s]=T.useState(!1),{cartItems:o,addToCart:l,removeFromCart:c,clearCart:u,isCartModalOpen:d,setIsCartModalOpen:h}=kk();T.useEffect(()=>{const m=x=>{i&&s(!1)};return document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}},[i]);const f=["all",...new Set(Mb.map(m=>m.category))],p=Mb.filter(m=>{const x=r==="all"||m.category===r,g=m.name.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase());return x&&g});return a.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:a.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pt-12 pb-24",children:[a.jsxs(be.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsx(Qd,{icon:a.jsx(dC,{size:28,className:"text-white"}),title:"Boutique"}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>h(!0),className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",children:[a.jsx(_0,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),o.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:o.length})]})})]}),a.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]"}),a.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:t,onChange:m=>e(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))]"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!i),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2",children:[a.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:r==="all"?"Toutes catégories":r}),a.jsx(Md,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),i&&a.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:a.jsx("div",{className:"p-1",children:f.map(m=>a.jsx("button",{onClick:()=>{n(m),s(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${r===m?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:a.jsx("span",{className:"capitalize",children:m==="all"?"Toutes catégories":m})},m))})})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(m=>a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-white break-words",children:m.name}),a.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:m.description})]}),a.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[m.price,"€"]})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:m.features.map((x,g)=>a.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:x},g))}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),a.jsx("div",{className:"space-y-2",children:Object.entries(m.specifications).map(([x,g])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:x}),a.jsx("span",{className:"text-white",children:g})]},x))})]}),a.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:x=>{parseInt(x.target.value,10)<0&&(x.target.value="0")}}),a.jsx("button",{onClick:x=>{const g=x.currentTarget.previousElementSibling,b=parseInt(g.value,10);b>0&&l(m.id,b)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},m.id))}),a.jsx(Tk,{isOpen:d,onClose:()=>h(!1),items:o,products:Mb,onRemoveItem:c,onClearCart:()=>{u(),h(!1)}})]})})}var Ik="AlertDialog",[Tve,q2e]=VO(Ik,[uP]),Eo=uP(),Dk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Eo(e);return a.jsx(AP,{...n,...r,modal:!0})};Dk.displayName=Ik;var Ive="AlertDialogTrigger",Dve=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Eo(r);return a.jsx(rfe,{...i,...n,ref:e})});Dve.displayName=Ive;var Mve="AlertDialogPortal",Mk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Eo(e);return a.jsx(CP,{...n,...r})};Mk.displayName=Mve;var Lve="AlertDialogOverlay",Lk=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Eo(r);return a.jsx(L5,{...i,...n,ref:e})});Lk.displayName=Lve;var td="AlertDialogContent",[Rve,Fve]=Tve(td),Rk=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Eo(r),o=T.useRef(null),l=Ao(e,o),c=T.useRef(null);return a.jsx(Zhe,{contentName:td,titleName:Fk,docsSlug:"alert-dialog",children:a.jsx(Rve,{scope:r,cancelRef:c,children:a.jsxs(R5,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:go(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(GO,{children:n}),a.jsx($ve,{contentRef:o})]})})})});Rk.displayName=td;var Fk="AlertDialogTitle",Bk=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Eo(r);return a.jsx(F5,{...i,...n,ref:e})});Bk.displayName=Fk;var $k="AlertDialogDescription",zk=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Eo(r);return a.jsx(B5,{...i,...n,ref:e})});zk.displayName=$k;var Bve="AlertDialogAction",Uk=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Eo(r);return a.jsx($5,{...i,...n,ref:e})});Uk.displayName=Bve;var Hk="AlertDialogCancel",qk=T.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Fve(Hk,r),s=Eo(r),o=Ao(e,i);return a.jsx($5,{...s,...n,ref:o})});qk.displayName=Hk;var $ve=({contentRef:t})=>{const e=`\`${td}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${td}\` by passing a \`${$k}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${td}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},zve=Dk,Uve=Mk,Wk=Lk,Vk=Rk,Gk=Uk,Xk=qk,Yk=Bk,Kk=zk;const Hve=zve,qve=Uve,Jk=T.forwardRef(({className:t,...e},r)=>a.jsx(Wk,{className:Hs("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Jk.displayName=Wk.displayName;const Zk=T.forwardRef(({className:t,...e},r)=>a.jsxs(qve,{children:[a.jsx(Jk,{}),a.jsx(Vk,{ref:r,className:Hs("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Zk.displayName=Vk.displayName;const Qk=({className:t,...e})=>a.jsx("div",{className:Hs("flex flex-col space-y-2 text-center sm:text-left",t),...e});Qk.displayName="AlertDialogHeader";const eT=({className:t,...e})=>a.jsx("div",{className:Hs("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});eT.displayName="AlertDialogFooter";const tT=T.forwardRef(({className:t,...e},r)=>a.jsx(Yk,{ref:r,className:Hs("text-lg font-semibold",t),...e}));tT.displayName=Yk.displayName;const rT=T.forwardRef(({className:t,...e},r)=>a.jsx(Kk,{ref:r,className:Hs("text-sm text-muted-foreground",t),...e}));rT.displayName=Kk.displayName;const nT=T.forwardRef(({className:t,...e},r)=>a.jsx(Gk,{ref:r,className:Hs("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));nT.displayName=Gk.displayName;const iT=T.forwardRef(({className:t,...e},r)=>a.jsx(Xk,{ref:r,className:Hs("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",t),...e}));iT.displayName=Xk.displayName;function Wve({supplier:t,onDelete:e,onViewCatalog:r}){const[n,i]=T.useState(!1),s=t.name.split(" ").map(o=>o[0]).join("");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 p-4 space-y-4 transition-all duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-24 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsx("div",{className:"relative w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold bg-gradient-to-br from-[rgba(15,23,42,0.4)] to-[rgba(20,100,100,0.4)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 z-10",children:a.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:s})})]})}),t.is_friend&&a.jsxs("div",{className:"absolute top-2 right-2 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(16,185,129,0.2)] backdrop-filter backdrop-blur-[10px] rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(16,185,129,0.2)]",children:[a.jsx(aD,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"Ami"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name}),a.jsxs("div",{className:"text-xs text-white/70 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m1,{className:"w-3 h-3 shrink-0 text-cyan-400"}),a.jsx("span",{children:t.address})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ei,{className:"w-3 h-3 shrink-0 text-cyan-400"}),a.jsx("span",{children:t.phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"w-3 h-3 shrink-0 text-cyan-400"}),a.jsx("span",{children:t.email})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-white/10",children:[a.jsxs("button",{onClick:()=>r(t.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":`Voir le catalogue de ${t.name}`,children:[a.jsx(sD,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),a.jsx("button",{onClick:()=>i(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-300 border border-white/5 hover:border-red-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_4px_15px_rgba(0,0,0,0.3),0_0_10px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40","aria-label":`Supprimer ${t.name}`,children:a.jsx(Zn,{className:"w-4 h-4"})})]})]})]}),a.jsx(Hve,{open:n,onOpenChange:i,children:a.jsxs(Zk,{className:"bg-gradient-to-br from-[rgba(15,23,42,0.8)] to-[rgba(20,100,100,0.8)] backdrop-filter backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.4)_0px_10px_25px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px]",children:[a.jsxs(Qk,{children:[a.jsx(tT,{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmer la suppression"}),a.jsx(rT,{className:"text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),a.jsxs(eT,{children:[a.jsx(iT,{className:"bg-white/5 border border-white/10 hover:border-white/20 hover:bg-white/10 text-white rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),a.jsx(nT,{onClick:()=>{e(t.id),i(!1)},className:"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30 rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(239,68,68,0.1)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40 transition-all duration-300",children:"Supprimer"})]})]})})]})}const As=T.forwardRef(({className:t,...e},r)=>a.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t||""}`,ref:r,...e}));As.displayName="Label";function Vve({open:t,onOpenChange:e,editingSupplier:r}){const{addSupplier:n,updateSupplier:i}=fg(),s=!!r,[o,l]=T.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||""}),[c,u]=T.useState(!1),[d,h]=T.useState({}),f=x=>{const{name:g,value:b}=x.target;l(y=>({...y,[g]:b})),d[g]&&h(y=>{const w={...y};return delete w[g],w})},p=()=>{const x={};return o.name.trim()||(x.name="Le nom est requis"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(x.email="Format d'email invalide"):x.email="L'email est requis",o.phone.trim()||(x.phone="Le téléphone est requis"),o.address.trim()||(x.address="L'adresse est requise"),h(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!p()){u(!0);try{s&&r?await i.mutateAsync({id:r.id,...o}):await n.mutateAsync(o),e(!1),l({name:"",email:"",phone:"",address:""})}catch(g){console.error("Error saving supplier:",g)}finally{u(!1)}}};return a.jsx(Kx,{open:t,onOpenChange:e,children:a.jsxs(x0,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",children:[a.jsxs(g0,{children:[a.jsx(v0,{className:"text-white",children:s?"Modifier le fournisseur":"Ajouter un fournisseur"}),a.jsx(Jx,{children:s?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),a.jsxs("form",{onSubmit:m,className:"space-y-5 my-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ld,{className:"h-3.5 w-3.5 text-indigo-400"}),"Nom du fournisseur"]}),a.jsx(xt,{id:"name",name:"name",value:o.name,onChange:f,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.name?"border-red-500":""}`}),d.name&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.name})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(ka,{className:"h-3.5 w-3.5 text-indigo-400"}),"Email"]}),a.jsx(xt,{id:"email",name:"email",type:"email",value:o.email,onChange:f,placeholder:"contact@atlantique-coquillages.fr",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.email?"border-red-500":""}`}),d.email&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.email})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ei,{className:"h-3.5 w-3.5 text-indigo-400"}),"Téléphone"]}),a.jsx(xt,{id:"phone",name:"phone",value:o.phone,onChange:f,placeholder:"01 23 45 67 89",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.phone?"border-red-500":""}`}),d.phone&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.phone})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(As,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Oi,{className:"h-3.5 w-3.5 text-indigo-400"}),"Adresse"]}),a.jsx(xt,{id:"address",name:"address",value:o.address,onChange:f,placeholder:"42 Avenue du Port, 85230 Bouin",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.address?"border-red-500":""}`}),d.address&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.address})]}),a.jsxs(OP,{className:"mt-6",children:[a.jsx(qt,{type:"button",variant:"outline",onClick:()=>e(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),a.jsx(qt,{type:"submit",disabled:c,className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white",children:c?"Enregistrement...":s?"Mettre à jour":"Ajouter"})]})]})]})})}function Gve(){const{suppliers:t,isLoading:e,updateSupplier:r}=fg(),[n,i]=T.useState(!1),[s,o]=T.useState(""),l=is(),c=async h=>{try{await r.mutateAsync({id:h,deleted:!0})}catch(f){console.error("Error deleting supplier:",f)}},u=h=>{console.log("Bouton Catalogue cliqué, ID du fournisseur:",h),console.log("Navigation vers:",`/suppliers/${h}/catalog`),l(`/suppliers/${h}/catalog`)},d=t.filter(h=>h.name.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase()));return e?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):a.jsx("div",{className:"p-6 max-w-[1600px] mx-auto",children:a.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center mb-8",children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),a.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:a.jsx(nd,{size:28,className:"text-cyan-400"})})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Fournisseurs"})]}),a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("div",{children:a.jsx("p",{className:"text-white/70",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[a.jsx(Dt,{size:20}),"Ajouter un fournisseur"]})]}),a.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"relative flex-grow max-w-md",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:a.jsx(Vr,{className:"w-4 h-4 text-white/40"})}),a.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher un fournisseur...",value:s,onChange:h=>o(h.target.value),"aria-label":"Rechercher un fournisseur"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-white/70 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] px-4 py-2 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 min-w-[44px] min-h-[44px]",children:[a.jsx(Ci,{className:"w-4 h-4 text-cyan-400"}),a.jsxs("span",{className:"text-sm",children:[d.length," fournisseurs"]})]})]}),d.length===0?a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 flex flex-col items-center justify-center py-12 text-center",children:[a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.5)] to-[rgba(20,100,100,0.5)] backdrop-filter backdrop-blur-[10px] rounded-full p-4 mb-4 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:a.jsx(Ci,{className:"w-8 h-8 text-cyan-400"})}),a.jsx("h3",{className:"text-xl font-medium mb-2 text-white",children:"Aucun fournisseur trouvé"}),a.jsx("p",{className:"max-w-md text-white/70",children:s?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):a.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:d.map(h=>a.jsx(Wve,{supplier:h,onDelete:c,onViewCatalog:u},h.id))})}),a.jsx(Vve,{open:n,onOpenChange:i})]})})}function Xve(){const{supplierId:t}=oD(),e=is(),{suppliers:r,getSupplierProducts:n}=fg(),{cartItems:i,addToCart:s,removeFromCart:o,clearCart:l,isCartModalOpen:c,setIsCartModalOpen:u}=kk(),[d,h]=T.useState({}),[f,p]=T.useState(!0),[m,x]=T.useState([]),[g,b]=T.useState("all"),[y,w]=T.useState(""),[N,_]=T.useState(!1),[S,A]=T.useState([]),[E,D]=T.useState(!1),F=r.find(L=>L.id===t);T.useEffect(()=>{E||(console.log("SupplierCatalogPage chargée, supplierId:",t),console.log("URL actuelle:",window.location.pathname),console.log("Fournisseur trouvé:",F),D(!0))},[t,F,E]),T.useEffect(()=>{if(!t||m.length>0)return;console.log("useEffect appelé pour charger les produits"),(async()=>{p(!0);try{console.log("⚡ Chargement des produits pour le fournisseur:",t);const W=await n(t);if(console.log("⚡ Produits reçus:",W),Array.isArray(W)&&W.length>0){x(W),console.log("⚡ Produits définis avec succès:",W.length);const $={};W.forEach(z=>{$[z.id]=z.min_order_quantity||z.minOrder||1}),h($)}else console.log("⚡ Aucun produit trouvé ou format incorrect:",W),x([]),h({})}catch(W){console.error("❌ Erreur lors du chargement des produits:",W),x([]),h({})}p(!1)})()},[t,n,m.length]),T.useEffect(()=>{if(m.length===0)return;console.log("useEffect appelé pour filtrer les produits");let L=[...m];g!=="all"&&(L=L.filter(W=>W.category===g)),y&&(L=L.filter(W=>W.name.toLowerCase().includes(y.toLowerCase()))),A(L)},[m,g,y]),T.useEffect(()=>{console.log("Cart items:",i),console.log("Products:",m)},[i,m]);const k=L=>{const W=d[L.id]||L.min_order_quantity||L.minOrder||1;console.log("----------------------------------------"),console.log("Adding to cart:"),console.log(`Product ID: ${L.id}`),console.log(`Product Name: ${L.name}`),console.log(`Quantity: ${W}`),console.log("Current cart items:",i),console.log("----------------------------------------"),s(L.id,W)},O=(L,W)=>{h($=>({...$,[L]:W}))},B=["all",...new Set(m.map(L=>L.category))];return F?a.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[a.jsx(If,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:F.name}),a.jsxs("button",{onClick:()=>u(!0),className:"relative p-2 rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(_0,{className:"h-6 w-6 text-white hover:text-cyan-400 transition-colors duration-300","aria-hidden":"true"}),i.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-cyan-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:i.length})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"relative w-1/2",children:[a.jsx(Vr,{className:"search-icon-fixed left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/50 pointer-events-none z-10","aria-label":"Search icon"}),a.jsx("input",{type:"search",placeholder:"Rechercher un produit...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:y,onChange:L=>w(L.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>_(!N),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",children:["Catégorie: ",g==="all"?"Toutes":g,a.jsx(Md,{className:"h-5 w-5","aria-hidden":"true"})]}),a.jsx(fr,{children:N&&a.jsx(be.ul,{className:"absolute top-full right-0 mt-2 rounded-lg bg-gray-800 border border-gray-700 shadow-lg overflow-hidden z-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:B.map(L=>a.jsxs(be.li,{className:"px-4 py-2 text-white hover:bg-gray-700 transition-colors duration-300 cursor-pointer",onClick:()=>{b(L),_(!1)},whileHover:{backgroundColor:"#4a5568"},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g===L&&a.jsx(bw,{className:"h-4 w-4 text-cyan-500","aria-hidden":"true"}),a.jsx("span",{children:L==="all"?"Toutes":L})]},L))})})]})]}),f?a.jsx("div",{className:"text-white",children:"Chargement des produits..."}):S.length===0?a.jsxs("div",{className:"text-white",children:["Aucun produit trouvé pour le fournisseur ",a.jsx("strong",{children:F.name})," dans la catégorie ",a.jsx("strong",{children:g}),y&&` avec le terme de recherche ${y}`,"."]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map(L=>{const W=d[L.id]||L.min_order_quantity||L.minOrder||1;return a.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800 p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:L.name}),a.jsx("p",{className:"text-white/70",children:L.description}),a.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[a.jsxs("span",{className:"text-cyan-400 font-bold",children:[L.price," ",L.unit]}),a.jsxs("div",{children:[a.jsx("input",{type:"number",min:L.min_order_quantity||L.minOrder||1,className:"w-20 px-2 py-1 rounded-lg bg-gray-700 border border-gray-600 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:W,onChange:$=>{const z=parseInt($.target.value,10);O(L.id,z)}}),a.jsx("button",{onClick:()=>k(L),className:"ml-2 px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors duration-300",children:"Ajouter"})]})]})]},L.id)})}),a.jsx(Tk,{isOpen:c,onClose:()=>u(!1),items:i,products:m,onRemoveItem:o,onClearCart:l})]}):a.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[a.jsx(If,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Fournisseur non trouvé"})]})}function W0({children:t,onClick:e,className:r="",style:n}){const[i,s]=re.useState(!1);return a.jsxs(be.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${r}`,style:n,onClick:e,onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),whileHover:{y:-4},children:[t,a.jsx(be.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:i?1:0},transition:{duration:.2}}),a.jsx(be.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:i?1:0,boxShadow:i?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const Yve=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fs(async()=>{const{default:n}=await Promise.resolve().then(()=>ah);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class tj extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Kve extends tj{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Jve extends tj{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zve extends tj{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var iw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(iw||(iw={}));var Qve=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class ebe{constructor(e,{headers:r={},customFetch:n,region:i=iw.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Yve(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Qve(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(m=>{throw new Kve(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Jve(d);if(!d.ok)throw new Zve(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Bi={},rj={},yg={},V0={},wg={},jg={},tbe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Td=tbe();const rbe=Td.fetch,aT=Td.fetch.bind(Td),sT=Td.Headers,nbe=Td.Request,ibe=Td.Response,ah=Object.freeze(Object.defineProperty({__proto__:null,Headers:sT,Request:nbe,Response:ibe,default:aT,fetch:rbe},Symbol.toStringTag,{value:"Module"})),abe=EC(ah);var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});let sbe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ng.default=sbe;var oT=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jg,"__esModule",{value:!0});const obe=oT(abe),lbe=oT(Ng);let cbe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=obe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c;let u=null,d=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,f=200,p="OK")}catch{s.status===404&&x===""?(f=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new lbe.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,c;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}};jg.default=cbe;var ube=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wg,"__esModule",{value:!0});const dbe=ube(jg);let hbe=class extends dbe.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wg.default=hbe;var fbe=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(V0,"__esModule",{value:!0});const pbe=fbe(wg);let mbe=class extends pbe.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};V0.default=mbe;var xbe=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yg,"__esModule",{value:!0});const nf=xbe(V0);let gbe=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new nf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new nf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new nf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new nf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new nf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yg.default=gbe;var _g={},Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.version=void 0;Sg.version="0.0.0-automated";Object.defineProperty(_g,"__esModule",{value:!0});_g.DEFAULT_HEADERS=void 0;const vbe=Sg;_g.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vbe.version}`};var lT=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rj,"__esModule",{value:!0});const bbe=lT(yg),ybe=lT(V0),wbe=_g;let jbe=class cT{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},wbe.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new bbe.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new cT(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new ybe.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};rj.default=jbe;var sh=Sn&&Sn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.PostgrestError=Bi.PostgrestBuilder=Bi.PostgrestTransformBuilder=Bi.PostgrestFilterBuilder=Bi.PostgrestQueryBuilder=Bi.PostgrestClient=void 0;const uT=sh(rj);Bi.PostgrestClient=uT.default;const dT=sh(yg);Bi.PostgrestQueryBuilder=dT.default;const hT=sh(V0);Bi.PostgrestFilterBuilder=hT.default;const fT=sh(wg);Bi.PostgrestTransformBuilder=fT.default;const pT=sh(jg);Bi.PostgrestBuilder=pT.default;const mT=sh(Ng);Bi.PostgrestError=mT.default;var Nbe=Bi.default={PostgrestClient:uT.default,PostgrestQueryBuilder:dT.default,PostgrestFilterBuilder:hT.default,PostgrestTransformBuilder:fT.default,PostgrestBuilder:pT.default,PostgrestError:mT.default};const{PostgrestClient:_be,PostgrestQueryBuilder:K2e,PostgrestFilterBuilder:J2e,PostgrestTransformBuilder:Z2e,PostgrestBuilder:Q2e,PostgrestError:ewe}=Nbe,Sbe="2.11.2",Abe={"X-Client-Info":`realtime-js/${Sbe}`},Cbe="1.0.0",xT=1e4,Ebe=1e3;var rd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(rd||(rd={}));var ea;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ea||(ea={}));var Ja;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ja||(Ja={}));var aw;(function(t){t.websocket="websocket"})(aw||(aw={}));var nc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nc||(nc={}));class Obe{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class gT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yr||(yr={}));const GA=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=Pbe(o,t,e,i),s),{})},Pbe=(t,e,r,n)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?vT(s,o):sw(o)},vT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Dbe(e,r)}switch(t){case yr.bool:return kbe(e);case yr.float4:case yr.float8:case yr.int2:case yr.int4:case yr.int8:case yr.numeric:case yr.oid:return Tbe(e);case yr.json:case yr.jsonb:return Ibe(e);case yr.timestamp:return Mbe(e);case yr.abstime:case yr.date:case yr.daterange:case yr.int4range:case yr.int8range:case yr.money:case yr.reltime:case yr.text:case yr.time:case yr.timestamptz:case yr.timetz:case yr.tsrange:case yr.tstzrange:return sw(e);default:return sw(e)}},sw=t=>t,kbe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Tbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ibe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Dbe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>vT(e,l))}return t},Mbe=t=>typeof t=="string"?t.replace(" ","T"):t,bT=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Lb{constructor(e,r,n={},i=xT){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var XA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(XA||(XA={}));class Ef{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ef.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Ef.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ef.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=s[u];if(h){const f=d.map(g=>g.presence_ref),p=h.map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0),x=h.filter(g=>f.indexOf(g.presence_ref)<0);m.length>0&&(l[u]=m),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var YA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(YA||(YA={}));var KA;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(KA||(KA={}));var lo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lo||(lo={}));class nj{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ea.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lb(this,Ja.join,this.params,this.timeout),this.rejoinTimer=new gT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ea.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ea.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ea.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ea.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ja.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ef(this),this.broadcastEndpointURL=bT(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(lo.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(lo.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(lo.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let x=0;x<p;x++){const g=f[x],{filter:{event:b,schema:y,table:w,filter:N}}=g,_=d&&d[x];if(_&&_.event===b&&_.schema===y&&_.table===w&&_.filter===N)m.push(Object.assign(Object.assign({},g),{id:_.id}));else{this.unsubscribe(),e==null||e(lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(lo.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ea.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ja.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Lb(this,Ja.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lb(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ja;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,x,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(x=p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,x,g,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return N&&((x=r.ids)===null||x===void 0?void 0:x.includes(N))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const N=(y=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:x,table:g,commit_timestamp:b,type:y,errors:w}=m;f=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===ea.closed}_isJoined(){return this.state===ea.joined}_isJoining(){return this.state===ea.joining}_isLeaving(){return this.state===ea.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&nj.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ja.close,{},e)}_onError(e){this._on(Ja.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ea.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=GA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=GA(e.columns,e.old_record)),r}}const Lbe=()=>{},Rbe=typeof WebSocket<"u",Fbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bbe{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Abe,this.params={},this.timeout=xT,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lbe,this.conn=null,this.sendBuffer=[],this.serializer=new Obe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Fs(async()=>{const{default:c}=await Promise.resolve().then(()=>ah);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${aw.websocket}`,this.httpEndpoint=bT(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gT(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Rbe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $be(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Fs(async()=>{const{default:e}=await import("./browser-BOd3kSkT.js").then(r=>r.b);return{default:e}},__vite__mapDeps([2,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cbe}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rd.connecting:return nc.Connecting;case rd.open:return nc.Open;case rd.closing:return nc.Closing;default:return nc.Closed}}isConnected(){return this.connectionState()===nc.Open}channel(e,r={config:{}}){const n=new nj(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Ja.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ebe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ja.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Fbe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $be{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=rd.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class ij extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ln(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zbe extends ij{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ow extends ij{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Ube=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const yT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fs(async()=>{const{default:n}=await Promise.resolve().then(()=>ah);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Hbe=()=>Ube(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fs(()=>Promise.resolve().then(()=>ah),void 0)).Response:Response}),lw=t=>{if(Array.isArray(t))return t.map(r=>lw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=lw(n)}),e};var Fc=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Rb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qbe=(t,e,r)=>Fc(void 0,void 0,void 0,function*(){const n=yield Hbe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new zbe(Rb(i),t.status||500))}).catch(i=>{e(new ow(Rb(i),i))}):e(new ow(Rb(t),t))}),Wbe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function G0(t,e,r,n,i,s){return Fc(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Wbe(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>qbe(c,l,n))})})}function u1(t,e,r,n){return Fc(this,void 0,void 0,function*(){return G0(t,"GET",e,r,n)})}function il(t,e,r,n,i){return Fc(this,void 0,void 0,function*(){return G0(t,"POST",e,n,i,r)})}function Vbe(t,e,r,n,i){return Fc(this,void 0,void 0,function*(){return G0(t,"PUT",e,n,i,r)})}function Gbe(t,e,r,n){return Fc(this,void 0,void 0,function*(){return G0(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wT(t,e,r,n,i){return Fc(this,void 0,void 0,function*(){return G0(t,"DELETE",e,n,i,r)})}var Ri=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Xbe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},JA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ybe{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=yT(i)}uploadOrUpdate(e,r,n,i){return Ri(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},JA),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Ln(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ri(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ri(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:JA.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ln(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ri(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield il(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new ij("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ri(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ln(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ri(this,void 0,void 0,function*(){try{return{data:{path:(yield il(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ln(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ri(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield il(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ln(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ri(this,void 0,void 0,function*(){try{const i=yield il(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ln(i))return{data:null,error:i};throw i}})}download(e,r){return Ri(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield u1(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ln(l))return{data:null,error:l};throw l}})}info(e){return Ri(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield u1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:lw(n),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}exists(e){return Ri(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Gbe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ln(n)&&n instanceof ow){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield wT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ri(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Xbe),r),{prefix:e||""});return{data:yield il(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Ln(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Kbe="2.7.1",Jbe={"X-Client-Info":`storage-js/${Kbe}`};var Pu=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Zbe{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Jbe),r),this.fetch=yT(n)}listBuckets(){return Pu(this,void 0,void 0,function*(){try{return{data:yield u1(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ln(e))return{data:null,error:e};throw e}})}getBucket(e){return Pu(this,void 0,void 0,function*(){try{return{data:yield u1(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Pu(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Pu(this,void 0,void 0,function*(){try{return{data:yield Vbe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Pu(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Pu(this,void 0,void 0,function*(){try{return{data:yield wT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}}class Qbe extends Zbe{constructor(e,r={},n){super(e,r,n)}from(e){return new Ybe(this.url,this.headers,e,this.fetch)}}const eye="2.48.1";let df="";typeof Deno<"u"?df="deno":typeof document<"u"?df="web":typeof navigator<"u"&&navigator.product==="ReactNative"?df="react-native":df="node";const tye={"X-Client-Info":`supabase-js-${df}/${eye}`},rye={headers:tye},nye={schema:"public"},iye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aye={};var sye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const oye=t=>{let e;return t?e=t:typeof fetch>"u"?e=aT:e=fetch,(...r)=>e(...r)},lye=()=>typeof Headers>"u"?sT:Headers,cye=(t,e,r)=>{const n=oye(r),i=lye();return(s,o)=>sye(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var uye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function dye(t){return t.replace(/\/$/,"")}function hye(t,e){const{db:r,auth:n,realtime:i,global:s}=t,{db:o,auth:l,realtime:c,global:u}=e,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>uye(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const jT="2.67.3",fye="http://localhost:9999",pye="supabase.auth.token",mye={"X-Client-Info":`gotrue-js/${jT}`},ZA=10,cw="X-Supabase-Api-Version",NT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function xye(t){return Math.round(Date.now()/1e3)+t}function gye(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ys=()=>typeof window<"u"&&typeof document<"u",Gl={tested:!1,writable:!1},Of=()=>{if(!ys())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gl.tested)return Gl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gl.tested=!0,Gl.writable=!0}catch{Gl.tested=!0,Gl.writable=!1}return Gl.writable};function vye(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const _T=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fs(async()=>{const{default:n}=await Promise.resolve().then(()=>ah);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},bye=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ST=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Cm=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Em=async(t,e)=>{await t.removeItem(e)};function yye(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,o,l,c,u,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)o=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),u=e.indexOf(t.charAt(d++)),n=o<<2|l>>4,i=(l&15)<<4|c>>2,s=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&i!=0&&(r=r+String.fromCharCode(i)),u!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class Ag{constructor(){this.promise=new Ag.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ag.promiseConstructor=Promise;function QA(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(yye(n))}async function wye(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jye(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Nye(t){return("0"+t.toString(16)).substr(-2)}function _ye(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Nye).join("")}async function Sye(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Aye(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cye(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Sye(t);return Aye(r)}async function ku(t,e,r=!1){const n=_ye();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ST(t,`${e}-code-verifier`,i);const s=await Cye(n);return[s,n===s?"plain":"s256"]}const Eye=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Oye(t){const e=t.headers.get(cw);if(!e||!e.match(Eye))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class aj extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Pye extends aj{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kye(t){return Et(t)&&t.name==="AuthApiError"}class AT extends aj{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bc extends aj{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class el extends Bc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tye(t){return Et(t)&&t.name==="AuthSessionMissingError"}class Fb extends Bc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Om extends Bc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pm extends Bc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Iye(t){return Et(t)&&t.name==="AuthImplicitGrantRedirectError"}class eC extends Bc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uw extends Bc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Bb(t){return Et(t)&&t.name==="AuthRetryableFetchError"}class tC extends Bc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Dye=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const tc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mye=[502,503,504];async function rC(t){var e;if(!bye(t))throw new uw(tc(t),0);if(Mye.includes(t.status))throw new uw(tc(t),t.status);let r;try{r=await t.json()}catch(s){throw new AT(tc(s),s)}let n;const i=Oye(t);if(i&&i.getTime()>=NT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tC(tc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new el}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new tC(tc(r),t.status,r.weak_password.reasons);throw new Pye(tc(r),t.status||500,n)}const Lye=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Bt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[cw]||(s[cw]=NT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Rye(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Rye(t,e,r,n,i,s){const o=Lye(e,n,i,s);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new uw(tc(c),0)}if(l.ok||await rC(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await rC(c)}}function tl(t){var e;let r=null;zye(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=xye(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function nC(t){const e=tl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Fye(t){return{data:t,error:null}}function Bye(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Dye(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function $ye(t){return t}function zye(t){return t.access_token&&t.refresh_token&&t.expires_in}var Uye=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class Hye{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=_T(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Uye(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Bye,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Et(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cl})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:$ye});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const x=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Et(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cl})}catch(r){if(Et(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cl})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}}const qye={getItem:t=>Of()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Of()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Of()&&globalThis.localStorage.removeItem(t)}};function iC(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Wye(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tu={debug:!!(globalThis&&Of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vye extends CT{}async function Gye(t,e,r){Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Tu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Vye(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Wye();const Xye={url:fye,storageKey:pye,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mye,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},af=30*1e3,aC=3;async function sC(t,e,r){return await r()}class j0{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=j0.nextInstanceID,j0.nextInstanceID+=1,this.instanceID>0&&ys()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Xye),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Hye({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=_T(i.fetch),this.lock=i.lock||sC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ys()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Gye:this.lock=sC,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Of()?this.storage=qye:(this.memoryStorage={},this.storage=iC(this.memoryStorage)):(this.memoryStorage={},this.storage=iC(this.memoryStorage)),ys()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=vye(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ys()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Iye(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Et(r)?{error:r}:{error:new AT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:tl}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ku(this.storage,this.storageKey)),s=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:tl})}else if("phone"in e){const{phone:d,password:h,options:f}=e;s=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tl})}else throw new Om("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Et(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nC})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nC})}else throw new Om("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fb}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Cm(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:tl});if(await Em(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Fb}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Et(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,l=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fb}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ku(this.storage,this.storageKey));const{error:h}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Om("You must provide either an email or phone number.")}catch(l){if(Et(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:tl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Et(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ku(this.storage,this.storageKey)),await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Fye})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new el;const{error:i}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Et(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:l}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Om("You must provide either an email or phone number and a type")}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Cm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cl}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new el}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cl})})}catch(r){if(Et(r))return Tye(r)&&(await this._removeSession(),await Em(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new el;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ku(this.storage,this.storageKey));const{data:u,error:d}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:cl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return QA(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new el;const r=Date.now()/1e3;let n=r,i=!0,s=null;const o=QA(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Et(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new el;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Et(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ys())throw new Pm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new eC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eC("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new Pm("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=af&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:x,error:g}=await this._getUser(s);if(g)throw g;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Et(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Cm(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(kye(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Em(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=gye(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ku(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Et(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,d;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ys()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Et(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jye(async i=>(i>0&&await wye(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tl})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Bb(s)&&Date.now()+o-n<af})}catch(n){if(this._debug(r,"error",n),Et(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ys()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Cm(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<i+ZA;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ZA}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Bb(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new el;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ag;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new el;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Et(s)){const o={session:null,error:s};return Bb(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ST(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Em(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ys()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),af);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/af);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${af}ms, refresh threshold is ${aC} ticks`),i<=aC&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof CT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ys()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await ku(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Et(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Et(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Et(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}j0.nextInstanceID=0;const Yye=j0;class Kye extends Yye{constructor(e){super(e)}}var Jye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Zye{constructor(e,r,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=dye(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:nye,realtime:aye,auth:Object.assign(Object.assign({},iye),{storageKey:c}),global:rye},d=hye(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=cye(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _be(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ebe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qbe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Jye(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kye({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Bbe(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qye=(t,e,r)=>new Zye(t,e,r),e2e="https://rmockgbhcxrgqpeejrry.supabase.co",t2e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",Xl=Qye(e2e,t2e);function r2e(){const t=NC(),{addNotification:e}=ua(),{data:r=[],isLoading:n}=gw({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(l){return console.error("Error fetching supplier orders:",l),[]}}}),i=hf({mutationFn:async l=>{const{data:c}=await Xl.from("supplier_products").select("id, price").in("id",l.products.map(f=>f.id)),u=l.products.reduce((f,p)=>{const m=c==null?void 0:c.find(x=>x.id===p.id);return f+((m==null?void 0:m.price)||0)*p.quantity},0),{data:d,error:h}=await Xl.from("supplier_orders").insert([{...l,status:"pending",total_amount:u}]).select().single();if(h)throw h;return e({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),d},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),s=hf({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await Xl.from("supplier_orders").update(c).eq("id",l).select().single();if(d)throw d;if(c.status==="completed"){const h=await Xl.from("supplier_orders").select("*").eq("id",l).single();if(h.data)for(const f of h.data.products)await Xl.rpc("update_stock",{product_id:f.id,quantity:f.quantity,storage_location:c.storage_location,expiry_date:c.expiry_date});e({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),o=hf({mutationFn:async({order_id:l,content:c})=>{var h;const{data:u,error:d}=await Xl.from("supplier_order_comments").insert([{order_id:l,content:c,user_id:(h=(await Xl.auth.getUser()).data.user)==null?void 0:h.id}]).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:r,isLoading:n,createOrder:i,updateOrder:s,addComment:o}}const oC=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function n2e(){const{orders:t,isLoading:e,updateOrder:r}=r2e(),[n,i]=re.useState(null);re.useState(!1),ua();const[s,o]=T.useState("");return T.useState(null),oC.filter(l=>l.name.toLowerCase().includes(s.toLowerCase())||l.description.toLowerCase().includes(s.toLowerCase())||l.products.some(c=>c.toLowerCase().includes(s.toLowerCase()))),e?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):a.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:a.jsx(vt,{size:24})})})]}),a.jsxs("div",{className:"relative mb-8",children:[a.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:s,onChange:l=>o(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),a.jsx(Vr,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>{const c=oC.find(h=>h.id===l.supplier_id),u=l.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":l.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":l.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":l.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",d=l.status==="pending"?"Envoyé":l.status==="accepted"?"Validé":l.status==="delivering"?"En cours de livraison":l.status==="completed"?"Reçu":"Refusé";return a.jsx(W0,{onClick:()=>i(l.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:(c==null?void 0:c.name)||"Fournisseur"}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u}`,children:d})]}),a.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[a.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(l.created_at).toLocaleDateString("fr-FR")]}),a.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",l.total_amount.toFixed(2),"€"]})]}),a.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[a.jsxs("p",{className:"text-sm font-medium text-white/70",children:[l.products.length," produit",l.products.length>1?"s":""]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.products.slice(0,2).map(h=>a.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[h.quantity,"× ",h.name]},h.id)),l.products.length>2&&a.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",l.products.length-2," autre",l.products.length-2>1?"s":""]})]})]}),l.comments&&l.comments.length>0&&a.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[a.jsx(jo,{size:14,className:"mr-1"}),l.comments.length," commentaire",l.comments.length>1?"s":""]})]})},l.id)})})]})]})})}const i2e=({onClose:t,onUpload:e})=>{const[r,n]=T.useState(""),[i,s]=T.useState(null),[o,l]=T.useState(!1),[c,u]=T.useState(""),d=T.useRef(null),h=x=>{if(x.target.files&&x.target.files[0]){const g=x.target.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}s(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}},f=x=>{if(x.preventDefault(),!r.trim()){u("Veuillez saisir un titre pour le document.");return}if(!i){u("Veuillez sélectionner un fichier.");return}e(r,i,o)},p=x=>{x.preventDefault()},m=x=>{if(x.preventDefault(),x.dataTransfer.files&&x.dataTransfer.files[0]){const g=x.dataTransfer.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}s(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}};return a.jsx(fr,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:a.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:a.jsx(vt,{size:20})})]}),a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),a.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:r,onChange:x=>n(x.target.value)})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var x;return(x=d.current)==null?void 0:x.click()},onDragOver:p,onDrop:m,children:[i?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ks,{size:40,className:"text-blue-500 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(i.size/1024/1024).toFixed(2)," MB"]}),a.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:x=>{x.stopPropagation(),s(null),d.current&&(d.current.value="")},children:"Changer de fichier"})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(rs,{size:40,className:"text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),a.jsx("input",{ref:d,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:h})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:o,onChange:x=>l(x.target.checked)}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),c&&a.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!i||!r.trim(),children:"Enregistrer"})]})]})]})})})},a2e=({documents:t,onDelete:e})=>{if(t.length===0)return a.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[a.jsx(Hj,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),a.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const r=n=>{const i=URL.createObjectURL(n.file),s=window.document.createElement("a");s.style.display="none",s.href=i,s.download=n.title+"."+n.file.name.split(".").pop(),window.document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(i),window.document.body.removeChild(s)};return a.jsx("div",{className:"space-y-4",children:t.map(n=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:a.jsx(Hj,{size:24,className:"text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[n.title,n.isRequired&&a.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[a.jsx(bw,{size:12,className:"mr-1"}),"Obligatoire"]})]}),a.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(Hi,{size:14,className:"mr-1"}),a.jsxs("span",{children:["Ajouté le ",It(new Date(n.date),"dd MMMM yyyy",{locale:Nr})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>r(n),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:a.jsx(ns,{size:18})}),a.jsx("button",{onClick:()=>e(n.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:a.jsx(Zn,{size:18})})]})]},n.id))})};var s2e=Object.defineProperty,d1=Object.getOwnPropertySymbols,ET=Object.prototype.hasOwnProperty,OT=Object.prototype.propertyIsEnumerable,lC=(t,e,r)=>e in t?s2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dw=(t,e)=>{for(var r in e||(e={}))ET.call(e,r)&&lC(t,r,e[r]);if(d1)for(var r of d1(e))OT.call(e,r)&&lC(t,r,e[r]);return t},hw=(t,e)=>{var r={};for(var n in t)ET.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&d1)for(var n of d1(t))e.indexOf(n)<0&&OT.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ec;(t=>{const e=class Tt{constructor(c,u,d,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Tt.MIN_VERSION||c>Tt.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),h==-1){let m=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const g=this.getPenaltyScore();g<m&&(h=x,m=g),this.applyMask(x)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return Tt.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return Tt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,h=40,f=-1,p=!0){if(!(Tt.MIN_VERSION<=d&&d<=h&&h<=Tt.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,x;for(m=d;;m++){const w=Tt.getNumDataCodewords(m,u)*8,N=o.getTotalBits(c,m);if(N<=w){x=N;break}if(m>=h)throw new RangeError("Data too long")}for(const w of[Tt.Ecc.MEDIUM,Tt.Ecc.QUARTILE,Tt.Ecc.HIGH])p&&x<=Tt.getNumDataCodewords(m,w)*8&&(u=w);let g=[];for(const w of c){r(w.mode.modeBits,4,g),r(w.numChars,w.mode.numCharCountBits(m),g);for(const N of w.getData())g.push(N)}i(g.length==x);const b=Tt.getNumDataCodewords(m,u)*8;i(g.length<=b),r(0,Math.min(4,b-g.length),g),r(0,(8-g.length%8)%8,g),i(g.length%8==0);for(let w=236;g.length<b;w^=253)r(w,8,g);let y=[];for(;y.length*8<g.length;)y.push(0);return g.forEach((w,N)=>y[N>>>3]|=w<<7-(N&7)),new Tt(m,u,y,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,n(h,f));this.setFunctionModule(8,7,n(h,6)),this.setFunctionModule(8,8,n(h,7)),this.setFunctionModule(7,8,n(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,n(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,n(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,n(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const h=n(u,d),f=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(f,p,h),this.setFunctionModule(p,f,h)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(d)),p=c+h,m=u+d;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Tt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=Tt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=Tt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(Tt.getNumRawDataModules(u)/8),m=h-p%h,x=Math.floor(p/h);let g=[];const b=Tt.reedSolomonComputeDivisor(f);for(let w=0,N=0;w<h;w++){let _=c.slice(N,N+x-f+(w<m?0:1));N+=_.length;const S=Tt.reedSolomonComputeRemainder(_,b);w<m&&_.push(0),g.push(_.concat(S))}let y=[];for(let w=0;w<g[0].length;w++)g.forEach((N,_)=>{(w!=x-f||_>=m)&&y.push(N[w])});return i(y.length==p),y}drawCodewords(c){if(c.length!=Math.floor(Tt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const p=d-f,x=(d+1&2)==0?this.size-1-h:h;!this.isFunction[x][p]&&u<c.length*8&&(this.modules[x][p]=n(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[f][g]==p?(m++,m==5?c+=Tt.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*Tt.PENALTY_N3),p=this.modules[f][g],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*Tt.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][f]==p?(m++,m==5?c+=Tt.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*Tt.PENALTY_N3),p=this.modules[g][f],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*Tt.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const m=this.modules[f][p];m==this.modules[f][p+1]&&m==this.modules[f+1][p]&&m==this.modules[f+1][p+1]&&(c+=Tt.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,m)=>p+(m?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=h&&h<=9),c+=h*Tt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<Tt.MIN_VERSION||c>Tt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Tt.getNumRawDataModules(c)/8)-Tt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Tt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<c;h++){for(let f=0;f<u.length;f++)u[f]=Tt.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=Tt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(h=>0);for(const h of c){const f=h^d.shift();d.push(0),u.forEach((p,m)=>d[m]^=Tt.reedSolomonMultiply(p,f))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const s=class Hr{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new Hr(Hr.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Hr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+h),10),h*3+1,u),d+=h}return new Hr(Hr.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Hr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let h=Hr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=Hr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(h,11,u)}return d<c.length&&r(Hr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Hr(Hr.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Hr.isNumeric(c)?[Hr.makeNumeric(c)]:Hr.isAlphanumeric(c)?[Hr.makeAlphanumeric(c)]:[Hr.makeBytes(Hr.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Hr(Hr.Mode.ECI,0,u)}static isNumeric(c){return Hr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Hr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const h of c){const f=h.mode.numCharCountBits(u);if(h.numChars>=1<<f)return 1/0;d+=4+f+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(Ec||(Ec={}));(t=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(Ec||(Ec={}));(t=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Ec||(Ec={}));var Gu=Ec;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var o2e={L:Gu.QrCode.Ecc.LOW,M:Gu.QrCode.Ecc.MEDIUM,Q:Gu.QrCode.Ecc.QUARTILE,H:Gu.QrCode.Ecc.HIGH},PT=128,kT="L",TT="#FFFFFF",IT="#000000",DT=!1,MT=1,l2e=4,c2e=0,u2e=.1;function LT(t,e=0){const r=[];return t.forEach(function(n,i){let s=null;n.forEach(function(o,l){if(!o&&s!==null){r.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===n.length-1){if(!o)return;s===null?r.push(`M${l+e},${i+e} h1v1H${l+e}z`):r.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}o&&s===null&&(s=l)})}),r.join("")}function RT(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function d2e(t,e,r,n){if(n==null)return null;const i=t.length+r*2,s=Math.floor(e*u2e),o=i/e,l=(n.width||s)*o,c=(n.height||s)*o,u=n.x==null?t.length/2-l/2:n.x*o,d=n.y==null?t.length/2-c/2:n.y*o,h=n.opacity==null?1:n.opacity;let f=null;if(n.excavate){let m=Math.floor(u),x=Math.floor(d),g=Math.ceil(l+u-m),b=Math.ceil(c+d-x);f={x:m,y:x,w:g,h:b}}const p=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:f,opacity:h,crossOrigin:p}}function h2e(t,e){return e!=null?Math.max(Math.floor(e),0):t?l2e:c2e}function FT({value:t,level:e,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:o,boostLevel:l}){let c=re.useMemo(()=>{const m=(Array.isArray(t)?t:[t]).reduce((x,g)=>(x.push(...Gu.QrSegment.makeSegments(g)),x),[]);return Gu.QrCode.encodeSegments(m,o2e[e],r,void 0,void 0,l)},[t,e,r,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:f}=re.useMemo(()=>{let p=c.getModules();const m=h2e(n,i),x=p.length+m*2,g=d2e(p,o,m,s);return{cells:p,margin:m,numCells:x,calculatedImageSettings:g}},[c,o,s,n,i]);return{qrcode:c,margin:d,cells:u,numCells:h,calculatedImageSettings:f}}var f2e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),p2e=re.forwardRef(function(e,r){const n=e,{value:i,size:s=PT,level:o=kT,bgColor:l=TT,fgColor:c=IT,includeMargin:u=DT,minVersion:d=MT,boostLevel:h,marginSize:f,imageSettings:p}=n,x=hw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=x,b=hw(x,["style"]),y=p==null?void 0:p.src,w=re.useRef(null),N=re.useRef(null),_=re.useCallback(L=>{w.current=L,typeof r=="function"?r(L):r&&(r.current=L)},[r]),[S,A]=re.useState(!1),{margin:E,cells:D,numCells:F,calculatedImageSettings:k}=FT({value:i,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:f,imageSettings:p,size:s});re.useEffect(()=>{if(w.current!=null){const L=w.current,W=L.getContext("2d");if(!W)return;let $=D;const z=N.current,X=k!=null&&z!==null&&z.complete&&z.naturalHeight!==0&&z.naturalWidth!==0;X&&k.excavation!=null&&($=RT(D,k.excavation));const Y=window.devicePixelRatio||1;L.height=L.width=s*Y;const le=s/F*Y;W.scale(le,le),W.fillStyle=l,W.fillRect(0,0,F,F),W.fillStyle=c,f2e?W.fill(new Path2D(LT($,E))):D.forEach(function(fe,R){fe.forEach(function(I,q){I&&W.fillRect(q+E,R+E,1,1)})}),k&&(W.globalAlpha=k.opacity),X&&W.drawImage(z,k.x+E,k.y+E,k.w,k.h)}}),re.useEffect(()=>{A(!1)},[y]);const O=dw({height:s,width:s},g);let B=null;return y!=null&&(B=re.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{A(!0)},ref:N,crossOrigin:k==null?void 0:k.crossOrigin})),re.createElement(re.Fragment,null,re.createElement("canvas",dw({style:O,height:s,width:s,ref:_,role:"img"},b)),B)});p2e.displayName="QRCodeCanvas";var BT=re.forwardRef(function(e,r){const n=e,{value:i,size:s=PT,level:o=kT,bgColor:l=TT,fgColor:c=IT,includeMargin:u=DT,minVersion:d=MT,boostLevel:h,title:f,marginSize:p,imageSettings:m}=n,x=hw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:b,numCells:y,calculatedImageSettings:w}=FT({value:i,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:m,size:s});let N=b,_=null;m!=null&&w!=null&&(w.excavation!=null&&(N=RT(b,w.excavation)),_=re.createElement("image",{href:m.src,height:w.h,width:w.w,x:w.x+g,y:w.y+g,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const S=LT(N,g);return re.createElement("svg",dw({height:s,width:s,viewBox:`0 0 ${y} ${y}`,ref:r,role:"img"},x),!!f&&re.createElement("title",null,f),re.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),re.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),_)});BT.displayName="QRCodeSVG";const m2e=({documents:t,onClose:e})=>{const[r,n]=T.useState("");T.useEffect(()=>{if(t.length>0){const s=t.map(o=>({id:o.id,title:o.title,type:o.file.type,size:o.file.size,required:o.isRequired}));n(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:s,expiry:Date.now()+36e5}))}},[t]);const i=()=>{const s=window.document.getElementById("qr-code-svg");if(s){const o=window.document.createElement("canvas"),l=o.getContext("2d"),c=new XMLSerializer().serializeToString(s),u=new Image;u.onload=()=>{o.width=200,o.height=200,l==null||l.drawImage(u,0,0,200,200);const d=o.toDataURL("image/png"),h=window.document.createElement("a");h.href=d,h.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(h),h.click(),window.document.body.removeChild(h)},u.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};return a.jsx(fr,{children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:a.jsx("div",{className:"flex justify-center",children:a.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:a.jsx(vt,{size:20})})]}),t.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(A0,{size:60,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white rounded-lg",children:a.jsx(BT,{id:"qr-code-svg",value:r,size:200,level:"H",includeMargin:!0})})}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Tf,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),a.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:t.map(s=>a.jsx("li",{children:s.title},s.id))})]})]})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx(ns,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})})})})},x2e=()=>{const[t,e]=T.useState([]);return T.useEffect(()=>{(async()=>{})()},[]),{documents:t,addDocument:s=>{e(o=>[...o,s])},deleteDocument:s=>{e(o=>o.filter(l=>l.id!==s))},updateDocument:(s,o)=>{e(l=>l.map(c=>c.id===s?{...c,...o}:c))}}},g2e=()=>{const{documents:t,addDocument:e,deleteDocument:r}=x2e(),[n,i]=T.useState(!1),[s,o]=T.useState(!1),[l,c]=T.useState(""),u=t.filter(d=>d.title.toLowerCase().includes(l.toLowerCase()));return a.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[a.jsx(zm,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Coffre fort numérique"]}),a.jsx("p",{className:"text-white/70 md:hidden",children:"Stockez et gérez vos documents importants en toute sécurité"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un document",children:[a.jsx(rs,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Ajouter un document"})]}),a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Générer QR Code",children:[a.jsx(A0,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Générer QR Code"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("p",{className:"text-white/70 hidden md:block mb-6",children:"Stockez et gérez vos documents importants en toute sécurité"}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{className:"absolute left-3 top-3 text-white/60",size:18}),a.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400/30 focus:ring-2 focus:ring-cyan-500/40 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",value:l,onChange:d=>c(d.target.value),"aria-label":"Rechercher un document"})]})}),u.length>0?a.jsx(a2e,{documents:u,onDelete:r}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:a.jsx(zm,{className:"w-8 h-8 text-cyan-400"})}),a.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Votre coffre-fort est vide"}),a.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez à ajouter des documents pour les protéger et y accéder à tout moment."}),a.jsxs("button",{onClick:()=>i(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter votre premier document",children:[a.jsx(rs,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Ajouter votre premier document"})]})]})]})]}),n&&a.jsx(i2e,{onClose:()=>i(!1),onUpload:(d,h)=>{e({id:Date.now().toString(),title:d,file:h,date:new Date().toISOString()}),i(!1)}}),s&&a.jsx(m2e,{documents:t.filter(d=>d.isRequired),onClose:()=>o(!1)})]})};function v2e(){const t=is(),e=()=>{t(-1)};return a.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-background text-white",children:[a.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:e,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:a.jsx(If,{size:18,className:"sm:w-5 sm:h-5"})}),a.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),a.jsx("div",{className:"flex-1 flex w-full",children:a.jsx(HP,{})})]})}function b2e(){const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),[o,l]=T.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"75kg",arrivalDate:"2025-03-02",expiryDate:"2025-03-15"},{id:"F2-02",name:"Coques",quantity:"30kg",arrivalDate:"2025-03-03",expiryDate:"2025-03-10"}],"Chambre froide":[{id:"CF-01",name:"Huîtres Plates",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-03-05"},{id:"CF-02",name:"Moules",quantity:"80kg",arrivalDate:"2025-02-22",expiryDate:"2025-03-08"}]}),c=d=>{s({...d}),n(!0)},u=()=>{if(i&&t){const d={...o},h=d[t],f=h.findIndex(p=>p.id===i.id);f!==-1&&(h[f]=i,l(d)),n(!1),s(null)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(o).map(([d,h])=>a.jsxs(W0,{onClick:()=>e(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:d}),a.jsxs("p",{className:"text-sm text-white/60",children:[h.length," produits"]})]}),a.jsx(gl,{className:"w-5 h-5 text-teal-400"})]}),a.jsx("div",{className:"space-y-2",children:h.map(f=>a.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:f.name}),a.jsx("button",{onClick:p=>{p.stopPropagation(),c(f)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(Ui,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-white/60",children:f.quantity}),a.jsxs("span",{className:"text-xs text-white/40",children:["Exp. ",new Date(f.expiryDate).toLocaleDateString("fr-FR")]})]})]},f.id))})]},d))}),r&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le produit"}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(vt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du produit"}),a.jsx(xt,{value:i.name,onChange:d=>s({...i,name:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),a.jsx(xt,{value:i.quantity,onChange:d=>s({...i,quantity:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),a.jsx(xt,{type:"date",value:i.expiryDate,onChange:d=>s({...i,expiryDate:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Pc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const y2e=[{id:"1",date:"2025-03-15",supplier:"Fournisseur A",products:[{name:"Huîtres Fines de Claire",quantity:"100kg",price:800},{name:"Huîtres Spéciales",quantity:"50kg",price:500}],totalAmount:1300,status:"completed"}];function w2e(){const[t,e]=T.useState(y2e),[r,n]=T.useState(null),[i,s]=T.useState(!1),[o,l]=T.useState(null),c=d=>{l({...d}),s(!0)},u=()=>{if(o){const d=t.map(h=>h.id===o.id?o:h);e(d),s(!1),l(null)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>a.jsxs("div",{onClick:()=>n(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:d.supplier}),a.jsx("p",{className:"text-sm text-white/60",children:new Date(d.date).toLocaleDateString("fr-FR")})]}),a.jsx("button",{onClick:h=>{h.stopPropagation(),c(d)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(Ui,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[d.products.map((h,f)=>a.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:h.name}),a.jsx("span",{className:"text-sm text-white/60",children:h.quantity})]}),a.jsx("div",{className:"flex justify-end mt-1",children:a.jsxs("span",{className:"text-sm text-teal-400",children:[h.price,"€"]})})]},f)),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Total"}),a.jsxs("span",{className:"text-sm font-medium text-white",children:[d.totalAmount,"€"]})]})})]})]},d.id))}),i&&o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier l'achat"}),a.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(vt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),a.jsx(xt,{value:o.supplier,onChange:d=>l({...o,supplier:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),a.jsx(xt,{type:"date",value:o.date,onChange:d=>l({...o,date:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.products.map((d,h)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-1",children:["Produit ",h+1]}),a.jsx(xt,{value:d.name,onChange:f=>{const p=[...o.products];p[h]={...d,name:f.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40 mb-2",placeholder:"Nom du produit"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(xt,{value:d.quantity,onChange:f=>{const p=[...o.products];p[h]={...d,quantity:f.target.value},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Quantité"}),a.jsx(xt,{type:"number",value:d.price,onChange:f=>{const p=[...o.products];p[h]={...d,price:Number(f.target.value)},l({...o,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Prix"})]})]},h)),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Pc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const cC=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function j2e(){const[t,e]=T.useState(""),[r,n]=T.useState("all"),[i,s]=T.useState({start:"",end:""}),[o,l]=T.useState(null),[c,u]=T.useState(!1),[d,h]=T.useState(null),f=w=>{l(w)},p=w=>{h({...w}),u(!0)},m=()=>{d&&(cC.map(w=>w.id===d.id?d:w),u(!1),h(null))},x=cC.filter(w=>{const N=w.number.toLowerCase().includes(t.toLowerCase())||w.supplier.toLowerCase().includes(t.toLowerCase())||w.products.toLowerCase().includes(t.toLowerCase()),_=r==="all"||w.type===r,S=(!i.start||w.date>=i.start)&&(!i.end||w.date<=i.end);return N&&_&&S}),g=w=>{switch(w){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},b=w=>{switch(w){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return w}},y=w=>new Date(w).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Vr,{className:"h-5 w-5 text-white/40"})}),a.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:t,onChange:w=>e(w.target.value)})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-48",children:a.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:r,onChange:w=>n(w.target.value),children:[a.jsx("option",{value:"all",children:"Tous les documents"}),a.jsx("option",{value:"invoice",children:"Factures"}),a.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(ns,{size:20,className:"mr-2"}),"Exporter"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),a.jsx("input",{type:"date",value:i.start,onChange:w=>s(N=>({...N,start:w.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),a.jsx("input",{type:"date",value:i.end,onChange:w=>s(N=>({...N,end:w.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),a.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[a.jsx(Bn,{size:20,className:"mr-2"}),"Filtrer"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(w=>a.jsxs(W0,{onClick:()=>l(w),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:w.number}),a.jsx("p",{className:"text-sm text-white/60",children:w.supplier})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:N=>{N.stopPropagation(),f(w)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(hl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:N=>{N.stopPropagation(),p(w)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(Ui,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Date"}),a.jsx("span",{className:"text-sm font-medium text-white",children:y(w.date)})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Produits"}),a.jsx("span",{className:"text-sm font-medium text-white",children:w.products})]})}),w.type==="invoice"&&a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Montant"}),a.jsx("span",{className:"text-sm font-medium text-white",children:w.amount})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),a.jsx("span",{className:`text-sm font-medium ${g(w.status)}`,children:b(w.status)})]})})]})]},w.id))}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le document"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(vt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro"}),a.jsx(xt,{value:d.number,onChange:w=>h({...d,number:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),a.jsx(xt,{value:d.supplier,onChange:w=>h({...d,supplier:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),a.jsx(xt,{type:"date",value:d.date,onChange:w=>h({...d,date:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),d.type==="invoice"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Montant"}),a.jsx(xt,{type:"number",value:d.amount,onChange:w=>h({...d,amount:w.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),a.jsxs("select",{value:d.status,onChange:w=>h({...d,status:w.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",children:[a.jsx("option",{value:"validated",children:"Validé"}),a.jsx("option",{value:"pending",children:"En attente"}),a.jsx("option",{value:"rejected",children:"Rejeté"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Pc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const N2e=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],_2e={movement:Oi,treatment:ks,quality_check:Lu,alert:di},$b={movement:"bg-emerald-400/20 text-emerald-300",treatment:"bg-emerald-500/20 text-emerald-300",quality_check:"bg-emerald-600/20 text-emerald-300",alert:"bg-emerald-700/20 text-emerald-300"};function S2e({searchQuery:t}){const e=N2e.filter(r=>r.batchNumber.toLowerCase().includes(t.toLowerCase())||r.description.toLowerCase().includes(t.toLowerCase()));return a.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-emerald-400/30",children:a.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),a.jsx("div",{className:"divide-y divide-white/10",children:e.map(r=>{const n=_2e[r.type];return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${$b[r.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:a.jsx(n,{size:20,className:$b[r.type].split(" ")[1]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h4",{className:"text-lg font-medium text-white truncate",children:r.batchNumber}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${$b[r.type]}`,children:r.type==="movement"?"Déplacement":r.type==="treatment"?"Traitement":r.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),a.jsx("p",{className:"text-white/70 mt-1",children:r.description}),r.details&&a.jsxs("div",{className:"mt-2 space-y-1",children:[r.details.from&&r.details.to&&a.jsxs("div",{className:"text-sm text-white/60",children:["De: ",r.details.from," → Vers: ",r.details.to]}),r.details.treatment&&a.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",r.details.treatment]}),r.details.score&&a.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",r.details.score,"%"]}),r.details.issue&&a.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",r.details.issue]})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vl,{size:16,className:"mr-1"}),It(new Date(r.date),"PPp",{locale:Nr})]}),a.jsx("div",{children:"•"}),a.jsxs("div",{children:["Par: ",r.user]})]})]})]})},r.id)})})]})}function A2e(){const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),[o,l]=T.useState([{id:"1",name:"Bassin A1",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.5,salinity:35.2,lastMaintenance:"2025-03-01",nextMaintenance:"2025-03-15",currentBatch:{id:"B1",name:"Huîtres Fines de Claire",quantity:"200kg",startDate:"2025-03-10",endDate:"2025-03-13"}},{id:"2",name:"Bassin A2",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.8,salinity:34.9,lastMaintenance:"2025-03-05",nextMaintenance:"2025-03-19",currentBatch:{id:"B2",name:"Huîtres Spéciales",quantity:"150kg",startDate:"2025-03-11",endDate:"2025-03-14"}},{id:"3",name:"Bassin B1",filterType:"UV + Mécanique",filterStatus:"maintenance",temperature:0,salinity:0,lastMaintenance:"2025-03-12",nextMaintenance:"2025-03-13"}]),c=f=>{s({...f}),n(!0)},u=()=>{if(i){const f=o.map(p=>p.id===i.id?i:p);l(f),n(!1),s(null)}},d=f=>{switch(f){case"active":return a.jsx(yc,{className:"w-5 h-5 text-green-500"});case"inactive":return a.jsx(yC,{className:"w-5 h-5 text-red-500"});case"maintenance":return a.jsx(Kn,{className:"w-5 h-5 text-yellow-500"})}},h=f=>{switch(f){case"active":return"Actif";case"inactive":return"Inactif";case"maintenance":return"En maintenance"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(f=>a.jsxs(W0,{onClick:()=>e(f),className:"p-4 cursor-pointer hover:shadow-lg transition-shadow bg-white/5 backdrop-blur-sm border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:f.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d(f.filterStatus),a.jsx("span",{className:"text-sm text-white/60",children:h(f.filterStatus)})]})]}),a.jsx("button",{onClick:p=>{p.stopPropagation(),c(f)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(Ui,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[a.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Température"}),a.jsxs("div",{className:"font-medium text-white",children:[f.temperature,"°C"]})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[a.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Salinité"}),a.jsxs("div",{className:"font-medium text-white",children:[f.salinity,"g/L"]})]})]}),f.currentBatch&&a.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[a.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Lot en cours"}),a.jsx("div",{className:"font-medium text-white",children:f.currentBatch.name}),a.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[f.currentBatch.quantity," • ",new Date(f.currentBatch.endDate).toLocaleDateString("fr-FR")]})]})]})]},f.id))}),r&&i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-lg p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le bassin"}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(vt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du bassin"}),a.jsx(xt,{value:i.name,onChange:f=>s({...i,name:f.target.value}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type de filtration"}),a.jsx(xt,{value:i.filterType,onChange:f=>s({...i,filterType:f.target.value}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),a.jsxs("select",{value:i.filterStatus,onChange:f=>s({...i,filterStatus:f.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[a.jsx("option",{value:"active",children:"Actif"}),a.jsx("option",{value:"inactive",children:"Inactif"}),a.jsx("option",{value:"maintenance",children:"En maintenance"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Température (°C)"}),a.jsx(xt,{type:"number",step:"0.1",value:i.temperature,onChange:f=>s({...i,temperature:parseFloat(f.target.value)}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Salinité (g/L)"}),a.jsx(xt,{type:"number",step:"0.1",value:i.salinity,onChange:f=>s({...i,salinity:parseFloat(f.target.value)}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Dernière maintenance"}),a.jsx(xt,{type:"date",value:i.lastMaintenance,onChange:f=>s({...i,lastMaintenance:f.target.value}),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Prochaine maintenance"}),a.jsx(xt,{type:"date",value:i.nextMaintenance,onChange:f=>s({...i,nextMaintenance:f.target.value}),className:"mt-1"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Annuler"}),a.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-md",children:[a.jsx(Pc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})})]})}const C2e=({searchQuery:t=""})=>{const[e,r]=T.useState([{id:"1",batchNumber:"Lot HF-2025-001",type:"Huîtres Fines de Claire",quantity:"200",status:"purification",startDate:"2025-03-10",location:"Bassin A1",expiryDate:"2025-03-24",notes:"Lot en cours de purification"}]),[n,i]=T.useState(null),[s,o]=T.useState(!1),[l,c]=T.useState(null),u=p=>{c({...p}),o(!0)},d=()=>{if(l){const p=e.map(m=>m.id===l.id?l:m);r(p),o(!1),c(null)}},h=e.filter(p=>p.status==="table1"||p.status==="table2"||p.status==="table3").slice(0,4),f=p=>Z7(new Date,new Date(p));return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(p=>a.jsxs(W0,{onClick:()=>i(p),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:p.batchNumber}),a.jsx("p",{className:"text-sm text-white/60",children:p.type})]}),a.jsx("button",{onClick:m=>{m.stopPropagation(),u(p)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(Ui,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Quantité"}),a.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Emplacement"}),a.jsx("span",{className:"text-sm font-medium text-white",children:p.location})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Date d'expiration"}),a.jsx("span",{className:"text-sm font-medium text-white",children:new Date(p.expiryDate).toLocaleDateString("fr-FR")})]})}),a.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-white/60",children:"Temps en trempe"}),a.jsxs("span",{className:"text-sm font-medium text-white",children:[f(p.startDate),"h"]})]})})]})]},p.id))}),s&&l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le lot"}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:a.jsx(vt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro du lot"}),a.jsx(xt,{value:l.batchNumber,onChange:p=>c({...l,batchNumber:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type"}),a.jsx(xt,{value:l.type,onChange:p=>c({...l,type:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),a.jsx(xt,{value:l.quantity,onChange:p=>c({...l,quantity:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Emplacement"}),a.jsx(xt,{value:l.location,onChange:p=>c({...l,location:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),a.jsx(xt,{type:"date",value:l.expiryDate,onChange:p=>c({...l,expiryDate:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),a.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[a.jsx(Pc,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})};class Pt{constructor(e,r,n,i,s){this._legacyCanvasSize=Pt.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||i||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof i=="function"?i:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof i=="number"?i:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),n=e.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(i=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!i&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let l=window.getComputedStyle(e);l.display==="none"&&(e.style.setProperty("display","block","important"),o=!0),l.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Pt.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Pt.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),n;try{e&&(await r()).every(i=>!i.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((i,s)=>({id:i.deviceId,label:i.label||(s===0?"Default Camera":`Camera ${s+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Pt._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Pt._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Pt._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:r}=await this._getCameraStream();!this._active||this._paused?Pt._stopVideoStream(e):(this._setVideoMirror(r),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(Pt._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,r,n,i,s=!1,o=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,i=r.canvas,s=r.disallowCanvasResizing||!1,o=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||i||s||o?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let u,d;[n,u]=await Promise.all([n||Pt.createQrEngine(),Pt._loadImage(e)]),[i,d]=Pt._drawToCanvas(u,l,i,s);let h;if(n instanceof Worker){let f=n;r||Pt._postWorkerMessageSync(f,"inversionMode","both"),h=await new Promise((p,m)=>{let x,g,b,y=-1;g=N=>{N.data.id===y&&(f.removeEventListener("message",g),f.removeEventListener("error",b),clearTimeout(x),N.data.data!==null?p({data:N.data.data,cornerPoints:Pt._convertPoints(N.data.cornerPoints,l)}):m(Pt.NO_QR_CODE_FOUND))},b=N=>{f.removeEventListener("message",g),f.removeEventListener("error",b),clearTimeout(x),m("Scanner error: "+(N?N.message||N:"Unknown Error"))},f.addEventListener("message",g),f.addEventListener("error",b),x=setTimeout(()=>b("timeout"),1e4);let w=d.getImageData(0,0,i.width,i.height);y=Pt._postWorkerMessageSync(f,"decode",w,[w.data.buffer])})}else h=await Promise.race([new Promise((f,p)=>window.setTimeout(()=>p("Scanner error: timeout"),1e4)),(async()=>{try{var[f]=await n.detect(i);if(!f)throw Pt.NO_QR_CODE_FOUND;return{data:f.rawValue,cornerPoints:Pt._convertPoints(f.cornerPoints,l)}}catch(p){if(f=p.message||p,/not implemented|service unavailable/.test(f))return Pt._disableBarcodeDetector=!0,Pt.scanImage(e,{scanRegion:l,canvas:i,disallowCanvasResizing:s,alsoTryWithoutScanRegion:o});throw`Scanner error: ${f}`}})()]);return c?h:h.data}catch(u){if(!l||!o)throw u;let d=await Pt.scanImage(e,{qrEngine:n,canvas:i,disallowCanvasResizing:s});return c?d:d.data}finally{r||Pt._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,r,n,i=!0){Pt._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:r,blue:n,useIntegerApproximation:i})}setInversionMode(e){Pt._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>Fs(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!Pt._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:i})=>/arm/i.test(n||"arm")&&13<=parseInt(i||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let r=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-r)/2),y:Math.round((e.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,r=e.videoWidth,n=e.videoHeight,i=e.offsetWidth,s=e.offsetHeight,o=e.offsetLeft,l=e.offsetTop,c=window.getComputedStyle(e),u=c.objectFit,d=r/n,h=i/s;switch(u){case"none":var f=r,p=n;break;case"fill":f=i,p=s;break;default:(u==="cover"?d>h:d<h)?(p=s,f=p*d):(f=i,p=f/d),u==="scale-down"&&(f=Math.min(f,r),p=Math.min(p,n))}var[m,x]=c.objectPosition.split(" ").map((b,y)=>{const w=parseFloat(b);return b.endsWith("%")?(y?s-p:i-f)*w/100:w});c=this._scanRegion.width||r,h=this._scanRegion.height||n,u=this._scanRegion.x||0;var g=this._scanRegion.y||0;d=this.$overlay.style,d.width=`${c/r*f}px`,d.height=`${h/n*p}px`,d.top=`${l+x+g/n*p}px`,n=/scaleX\(-1\)/.test(e.style.transform),d.left=`${o+(n?i-m-f:m)+(n?r-u-c:u)/r*f}px`,d.transform=e.style.transform}})}static _convertPoints(e,r){if(!r)return e;let n=r.x||0,i=r.y||0,s=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let o of e)o.x=o.x*s+n,o.y=o.y*r+i;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;e<r&&await new Promise(i=>setTimeout(i,r-e)),this._lastScanTimestamp=Date.now();try{var n=await Pt.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(i){if(!this._active)return;this._onDecodeError(i)}!Pt._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Pt.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:i,y:s})=>`${i},${s}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==Pt.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(i=>Object.assign({},i,{[e]:{exact:this._preferredCamera}}));for(let i of[...n,...r])try{let s=await navigator.mediaDevices.getUserMedia({video:i,audio:!1}),o=this._getFacingMode(s)||(i.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:o}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let r of e.getTracks())r.stop(),e.removeTrack(r)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,r,n,i=!1){n=n||document.createElement("canvas");let s=r&&r.x?r.x:0,o=r&&r.y?r.y:0,l=r&&r.width?r.width:e.videoWidth||e.width,c=r&&r.height?r.height:e.videoHeight||e.height;return i||(i=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==i&&(n.width=i),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(e,s,o,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(e){if(e instanceof Image)return await Pt._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let r=new Image;r.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await Pt._awaitImageLoad(r),r}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((r,n)=>{let i=s=>{e.removeEventListener("load",i),e.removeEventListener("error",i),s instanceof ErrorEvent?n("Image load error"):r()};e.addEventListener("load",i),e.addEventListener("error",i)})}static async _postWorkerMessage(e,r,n,i){return Pt._postWorkerMessageSync(await e,r,n,i)}static _postWorkerMessageSync(e,r,n,i){if(!(e instanceof Worker))return-1;let s=Pt._workerMessageId++;return e.postMessage({id:s,type:r,data:n},i),s}}Pt.DEFAULT_CANVAS_SIZE=400;Pt.NO_QR_CODE_FOUND="No QR code found";Pt._disableBarcodeDetector=!1;Pt._workerMessageId=0;function E2e({onClose:t,onScanSuccess:e}){const r=T.useRef(null),[n,i]=T.useState(null);T.useState(!1);const s=T.useRef(null);return T.useEffect(()=>{if(!r.current)return;const o=new Pt(r.current,l=>{e(l.data),t()},{highlightScanRegion:!0,highlightCodeOutline:!0});return s.current=o,o.start().catch(l=>{i("Impossible d'accéder à la caméra. Vérifiez les permissions."),console.error(l)}),()=>{o.destroy()}},[e,t]),a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"rounded-xl p-6 w-full max-w-md relative backdrop-blur-sm border border-white/10",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:a.jsx(vt,{size:20})}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Scanner un QR Code"}),a.jsx("div",{className:"relative",children:n?a.jsx("div",{className:"p-4 bg-red-500/20 text-red-400 rounded-lg",children:n}):a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:r,className:"w-full aspect-square rounded-lg bg-black"}),a.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/50 rounded-lg pointer-events-none",children:a.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/20 rounded-lg animate-pulse"})})]})}),a.jsx("p",{className:"mt-4 text-sm text-white/60 text-center",children:"Placez le QR code dans le cadre pour le scanner automatiquement"})]})})}var O2e={exports:{}};const P2e=EC(yme);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,i){t.exports=i(function(){try{return P2e}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Sn<"u"?Sn:typeof window<"u"?window:typeof self<"u"?self:Sn,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(x[b]=g[b])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function x(){this.constructor=p}p.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function f(p,m,x){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=x,this.doc=p.getDocument()}return f}();c.HookData=d;var h=function(f){u(p,f);function p(m,x,g,b,y,w){var N=f.call(this,m,x,w)||this;return N.cell=g,N.row=b,N.column=y,N.section=b.section,N}return p}(d);c.CellHookData=h},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),h=u(136),f=u(744),p=u(776),m=u(664),x=u(972);function g(b){b.API.autoTable=function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];var N;y.length===1?N=y[0]:(console.error("Use of deprecated autoTable initiation"),N=y[2]||{},N.columns=y[0],N.body=y[1]);var _=(0,p.parseInput)(this,N),S=(0,x.createTable)(this,_);return(0,m.drawTable)(this,S),this},b.API.lastAutoTable=!1,b.API.previousAutoTable=!1,b.API.autoTable.previous=!1,b.API.autoTableText=function(y,w,N,_){(0,h.default)(y,w,N,_,this)},b.API.autoTableSetDefaults=function(y){return f.DocHandler.setDefaults(y,this),this},b.autoTableSetDefaults=function(y,w){f.DocHandler.setDefaults(y,w)},b.API.autoTableHtmlToJson=function(y,w){var N;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var _=new f.DocHandler(this),S=(0,d.parseHtml)(_,y,window,w,!1),A=S.head,E=S.body,D=((N=A[0])===null||N===void 0?void 0:N.map(function(F){return F.content}))||[];return{columns:D,rows:E,data:E}},b.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},b.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),b.API.autoTable.globalDefaults||(b.API.autoTable.globalDefaults={}),b.API.autoTable.globalDefaults.addPageContent=y,this},b.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=g},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,h,f,p,m){p=p||{};var x=1.15,g=m.internal.scaleFactor,b=m.internal.getFontSize()/g,y=m.getLineHeightFactor?m.getLineHeightFactor():x,w=b*y,N=/\r\n|\r|\n/g,_="",S=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(_=typeof d=="string"?d.split(N):d,S=_.length||1),f+=b*(2-x),p.valign==="middle"?f-=S/2*w:p.valign==="bottom"&&(f-=S*w),p.halign==="center"||p.halign==="right"){var A=b;if(p.halign==="center"&&(A*=.5),_&&S>=1){for(var E=0;E<_.length;E++)m.text(_[E],h-m.getStringUnitWidth(_[E])*A,f),f+=w;return m}h-=m.getStringUnitWidth(d)*A}return p.halign==="justify"?m.text(d,h,f,{maxWidth:p.maxWidth||100,align:"justify"}):m.text(d,h,f),m}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(m,x,g){g.applyStyles(x,!0);var b=Array.isArray(m)?m:[m],y=b.map(function(w){return g.getTextWidth(w)}).reduce(function(w,N){return Math.max(w,N)},0);return y}c.getStringWidth=u;function d(m,x,g,b){var y=x.settings.tableLineWidth,w=x.settings.tableLineColor;m.applyStyles({lineWidth:y,lineColor:w});var N=h(y,!1);N&&m.rect(g.x,g.y,x.getWidth(m.pageSize().width),b.y-g.y,N)}c.addTableBorder=d;function h(m,x){var g=m>0,b=x||x===0;return g&&b?"DF":g?"S":b?"F":null}c.getFillStyle=h;function f(m,x){var g,b,y,w;if(m=m||x,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=x}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(g=m.left)!==null&&g!==void 0?g:x,top:(b=m.top)!==null&&b!==void 0?b:x,right:(y=m.right)!==null&&y!==void 0?y:x,bottom:(w=m.bottom)!==null&&w!==void 0?w:x}):(typeof m!="number"&&(m=x),{top:m,right:m,bottom:m,left:m})}c.parseSpacing=f;function p(m,x){var g=f(x.settings.margin,0);return m.pageSize().width-(g.left+g.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(g[y]=b[y])},p(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(m,x);function g(){this.constructor=m}m.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(m,p);function m(x){var g=p.call(this)||this;return g._element=x,g}return m}(Array);c.HtmlRowInput=d;function h(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=h;function f(p){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[p]}c.getTheme=f},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function h(g,b,y,w,N){var _={},S=1.3333333333333333,A=p(b,function(Y){return N.getComputedStyle(Y).backgroundColor});A!=null&&(_.fillColor=A);var E=p(b,function(Y){return N.getComputedStyle(Y).color});E!=null&&(_.textColor=E);var D=x(w,y);D&&(_.cellPadding=D);var F="borderTopColor",k=S*y,O=w.borderTopWidth;if(w.borderBottomWidth===O&&w.borderRightWidth===O&&w.borderLeftWidth===O){var B=(parseFloat(O)||0)/k;B&&(_.lineWidth=B)}else _.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/k,right:(parseFloat(w.borderRightWidth)||0)/k,bottom:(parseFloat(w.borderBottomWidth)||0)/k,left:(parseFloat(w.borderLeftWidth)||0)/k},_.lineWidth.top||(_.lineWidth.right?F="borderRightColor":_.lineWidth.bottom?F="borderBottomColor":_.lineWidth.left&&(F="borderLeftColor"));var L=p(b,function(Y){return N.getComputedStyle(Y)[F]});L!=null&&(_.lineColor=L);var W=["left","right","center","justify"];W.indexOf(w.textAlign)!==-1&&(_.halign=w.textAlign),W=["middle","bottom","top"],W.indexOf(w.verticalAlign)!==-1&&(_.valign=w.verticalAlign);var $=parseInt(w.fontSize||"");isNaN($)||(_.fontSize=$/S);var z=f(w);z&&(_.fontStyle=z);var X=(w.fontFamily||"").toLowerCase();return g.indexOf(X)!==-1&&(_.font=X),_}c.parseCss=h;function f(g){var b="";return(g.fontWeight==="bold"||g.fontWeight==="bolder"||parseInt(g.fontWeight)>=700)&&(b="bold"),(g.fontStyle==="italic"||g.fontStyle==="oblique")&&(b+="italic"),b}function p(g,b){var y=m(g,b);if(!y)return null;var w=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var N=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],_=parseInt(w[4]);return _===0||isNaN(N[0])||isNaN(N[1])||isNaN(N[2])?null:N}function m(g,b){var y=b(g);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?g.parentElement==null?null:m(g.parentElement,b):y}function x(g,b){var y=[g.paddingTop,g.paddingRight,g.paddingBottom,g.paddingLeft],w=96/(72/b),N=(parseInt(g.lineHeight)-parseInt(g.fontSize))/b/2,_=y.map(function(A){return parseInt(A||"0")/w}),S=(0,d.parseSpacing)(_,0);return N>S.top&&(S.top=N),N>S.bottom&&(S.bottom=N),S}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function h(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(f,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=f:u=f},h.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},h.prototype.applyStyles=function(f,p){var m,x,g;p===void 0&&(p=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var b=this.jsPDFDocument.internal.getFont(),y=b.fontStyle,w=b.fontName;if(f.font&&(w=f.font),f.fontStyle){y=f.fontStyle;var N=this.getFontList()[w];N&&N.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(N[0]),y=N[0])}if(this.jsPDFDocument.setFont(w,y),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!p){var _=h.unifyColor(f.fillColor);_&&(m=this.jsPDFDocument).setFillColor.apply(m,_),_=h.unifyColor(f.textColor),_&&(x=this.jsPDFDocument).setTextColor.apply(x,_),_=h.unifyColor(f.lineColor),_&&(g=this.jsPDFDocument).setDrawColor.apply(g,_),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},h.prototype.splitTextToSize=function(f,p,m){return this.jsPDFDocument.splitTextToSize(f,p,m)},h.prototype.rect=function(f,p,m,x,g){return this.jsPDFDocument.rect(f,p,m,x,g)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return u||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),h=u(796);function f(x,g,b,y,w){var N,_;y===void 0&&(y=!1),w===void 0&&(w=!1);var S;typeof g=="string"?S=b.document.querySelector(g):S=g;var A=Object.keys(x.getFontList()),E=x.scaleFactor(),D=[],F=[],k=[];if(!S)return console.error("Html table could not be found with input: ",g),{head:D,body:F,foot:k};for(var O=0;O<S.rows.length;O++){var B=S.rows[O],L=(_=(N=B==null?void 0:B.parentElement)===null||N===void 0?void 0:N.tagName)===null||_===void 0?void 0:_.toLowerCase(),W=p(A,E,b,B,y,w);W&&(L==="thead"?D.push(W):L==="tfoot"?k.push(W):F.push(W))}return{head:D,body:F,foot:k}}c.parseHtml=f;function p(x,g,b,y,w,N){for(var _=new h.HtmlRowInput(y),S=0;S<y.cells.length;S++){var A=y.cells[S],E=b.getComputedStyle(A);if(w||E.display!=="none"){var D=void 0;N&&(D=(0,d.parseCss)(x,A,g,E,b)),_.push({rowSpan:A.rowSpan,colSpan:A.colSpan,styles:D,_element:A,content:m(A)})}}var F=b.getComputedStyle(y);if(_.length>0&&(w||F.display!=="none"))return _}function m(x){var g=x.cloneNode(!0);return g.innerHTML=g.innerHTML.replace(/\n/g,"").replace(/ +/g," "),g.innerHTML=g.innerHTML.split(/<br.*?>/).map(function(b){return b.trim()}).join(`
`),g.innerText||g.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),h=u(356),f=u(420),p=u(744),m=u(792);function x(S,A){var E=new p.DocHandler(S),D=E.getDocumentOptions(),F=E.getGlobalOptions();(0,m.default)(E,F,D,A);var k=(0,h.assign)({},F,D,A),O;typeof window<"u"&&(O=window);var B=g(F,D,A),L=b(F,D,A),W=y(E,k),$=N(E,k,O);return{id:A.tableId,content:$,hooks:L,styles:B,settings:W}}c.parseInput=x;function g(S,A,E){for(var D={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},F=function(L){if(L==="columnStyles"){var W=S[L],$=A[L],z=E[L];D.columnStyles=(0,h.assign)({},W,$,z)}else{var X=[S,A,E],Y=X.map(function(le){return le[L]||{}});D[L]=(0,h.assign)({},Y[0],Y[1],Y[2])}},k=0,O=Object.keys(D);k<O.length;k++){var B=O[k];F(B)}return D}function b(S,A,E){for(var D=[S,A,E],F={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},k=0,O=D;k<O.length;k++){var B=O[k];B.didParseCell&&F.didParseCell.push(B.didParseCell),B.willDrawCell&&F.willDrawCell.push(B.willDrawCell),B.didDrawCell&&F.didDrawCell.push(B.didDrawCell),B.willDrawPage&&F.willDrawPage.push(B.willDrawPage),B.didDrawPage&&F.didDrawPage.push(B.didDrawPage)}return F}function y(S,A){var E,D,F,k,O,B,L,W,$,z,X,Y,le=(0,f.parseSpacing)(A.margin,40/S.scaleFactor()),fe=(E=w(S,A.startY))!==null&&E!==void 0?E:le.top,R;A.showFoot===!0?R="everyPage":A.showFoot===!1?R="never":R=(D=A.showFoot)!==null&&D!==void 0?D:"everyPage";var I;A.showHead===!0?I="everyPage":A.showHead===!1?I="never":I=(F=A.showHead)!==null&&F!==void 0?F:"everyPage";var q=(k=A.useCss)!==null&&k!==void 0?k:!1,Q=A.theme||(q?"plain":"striped"),J=!!A.horizontalPageBreak,de=(O=A.horizontalPageBreakRepeat)!==null&&O!==void 0?O:null;return{includeHiddenHtml:(B=A.includeHiddenHtml)!==null&&B!==void 0?B:!1,useCss:q,theme:Q,startY:fe,margin:le,pageBreak:(L=A.pageBreak)!==null&&L!==void 0?L:"auto",rowPageBreak:(W=A.rowPageBreak)!==null&&W!==void 0?W:"auto",tableWidth:($=A.tableWidth)!==null&&$!==void 0?$:"auto",showHead:I,showFoot:R,tableLineWidth:(z=A.tableLineWidth)!==null&&z!==void 0?z:0,tableLineColor:(X=A.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:J,horizontalPageBreakRepeat:de,horizontalPageBreakBehaviour:(Y=A.horizontalPageBreakBehaviour)!==null&&Y!==void 0?Y:"afterAllRows"}}function w(S,A){var E=S.getLastAutoTable(),D=S.scaleFactor(),F=S.pageNumber(),k=!1;if(E&&E.startPageNumber){var O=E.startPageNumber+E.pageNumber-1;k=O===F}return typeof A=="number"?A:(A==null||A===!1)&&k&&(E==null?void 0:E.finalY)!=null?E.finalY+20/D:null}function N(S,A,E){var D=A.head||[],F=A.body||[],k=A.foot||[];if(A.html){var O=A.includeHiddenHtml;if(E){var B=(0,d.parseHtml)(S,A.html,E,O,A.useCss)||{};D=B.head||D,F=B.body||D,k=B.foot||D}else console.error("Cannot parse html in non browser environment")}var L=A.columns||_(D,F,k);return{columns:L,head:D,body:F,foot:k}}function _(S,A,E){var D=S[0]||A[0]||E[0]||[],F=[];return Object.keys(D).filter(function(k){return k!=="_element"}).forEach(function(k){var O=1,B;Array.isArray(D)?B=D[parseInt(k)]:B=D[k],typeof B=="object"&&!Array.isArray(B)&&(O=(B==null?void 0:B.colSpan)||1);for(var L=0;L<O;L++){var W=void 0;Array.isArray(D)?W=F.length:W=k+(L>0?"_".concat(L):"");var $={dataKey:W};F.push($)}}),F}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(h,f,p,m){for(var x=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(k){h.applyStyles(h.userStyles),w.beforePageContent&&w.beforePageContent(k),h.applyStyles(h.userStyles),w.afterPageContent&&w.afterPageContent(k),h.applyStyles(h.userStyles),w.afterPageAdd&&k.pageNumber>1&&k.afterPageAdd(k),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(k){w[k]&&console.error('The "'.concat(k,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(k){var O=k[0],B=k[1];w[B]&&(console.error("Use of deprecated option ".concat(B,". Use ").concat(O," instead")),w[O]=w[B])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(k){var O=typeof k=="string"?k:k[0],B=typeof k=="string"?k:k[1];typeof w[O]<"u"&&(typeof w.styles[B]>"u"&&(w.styles[B]=w[O]),console.error("Use of deprecated option: "+O+", use the style "+B+" instead."))});for(var N=0,_=["styles","bodyStyles","headStyles","footStyles"];N<_.length;N++){var S=_[N];d(w[S]||{})}for(var A=w.columnStyles||{},E=0,D=Object.keys(A);E<D.length;E++){var F=D[E];d(A[F]||{})}},g=0,b=[f,p,m];g<b.length;g++){var y=b[g];x(y)}}c.default=u;function d(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),h=u(172),f=u(420),p=function(){function b(y,w){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return b.prototype.getHeadHeight=function(y){return this.head.reduce(function(w,N){return w+N.getMaxCellHeight(y)},0)},b.prototype.getFootHeight=function(y){return this.foot.reduce(function(w,N){return w+N.getMaxCellHeight(y)},0)},b.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},b.prototype.callCellHooks=function(y,w,N,_,S,A){for(var E=0,D=w;E<D.length;E++){var F=D[E],k=new h.CellHookData(y,this,N,_,S,A),O=F(k)===!1;if(N.text=Array.isArray(N.text)?N.text:[N.text],O)return!1}return!0},b.prototype.callEndPageHooks=function(y,w){y.applyStyles(y.userStyles);for(var N=0,_=this.hooks.didDrawPage;N<_.length;N++){var S=_[N];S(new h.HookData(y,this,w))}},b.prototype.callWillDrawPageHooks=function(y,w){for(var N=0,_=this.hooks.willDrawPage;N<_.length;N++){var S=_[N];S(new h.HookData(y,this,w))}},b.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(_,S){return _+S.wrappedWidth},0);return w}else{var N=this.settings.margin;return y-N.left-N.right}},b}();c.Table=p;var m=function(){function b(y,w,N,_,S){S===void 0&&(S=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=w,this.section=N,this.cells=_,this.spansMultiplePages=S}return b.prototype.getMaxCellHeight=function(y){var w=this;return y.reduce(function(N,_){var S;return Math.max(N,((S=w.cells[_.index])===null||S===void 0?void 0:S.height)||0)},0)},b.prototype.hasRowSpan=function(y){var w=this;return y.filter(function(N){var _=w.cells[N.index];return _?_.rowSpan>1:!1}).length>0},b.prototype.canEntireRowFit=function(y,w){return this.getMaxCellHeight(w)<=y},b.prototype.getMinimumRowHeight=function(y,w){var N=this;return y.reduce(function(_,S){var A=N.cells[S.index];if(!A)return 0;var E=w.getLineHeight(A.styles.fontSize),D=A.padding("vertical"),F=D+E;return F>_?F:_},0)},b}();c.Row=m;var x=function(){function b(y,w,N){var _,S;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=N,this.raw=y;var A=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,A=(S=(_=y.content)!==null&&_!==void 0?_:y.title)!==null&&S!==void 0?S:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var E=A!=null?""+A:"",D=/\r\n|\r|\n/g;this.text=E.split(D)}return b.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");y=this.y+w/2+this.padding("top")}var N;if(this.styles.halign==="right")N=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var _=this.width-this.padding("horizontal");N=this.x+_/2+this.padding("left")}else N=this.x+this.padding("left");return{x:N,y}},b.prototype.getContentHeight=function(y,w){w===void 0&&(w=1.15);var N=Array.isArray(this.text)?this.text.length:1,_=this.styles.fontSize/y*w,S=N*_+this.padding("vertical");return Math.max(S,this.styles.minCellHeight)},b.prototype.padding=function(y){var w=(0,f.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?w.top+w.bottom:y==="horizontal"?w.left+w.right:w[y]},b}();c.Cell=x;var g=function(){function b(y,w,N){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=w,this.index=N}return b.prototype.getMaxCustomCellWidth=function(y){for(var w=0,N=0,_=y.allRows();N<_.length;N++){var S=_[N],A=S.cells[this.index];A&&typeof A.styles.cellWidth=="number"&&(w=Math.max(w,A.styles.cellWidth))}return w},b}();c.Column=g},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,h,f,p,m){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(d),g=1;g<arguments.length;g++){var b=arguments[g];if(b!=null)for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(x[y]=b[y])}return x}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),h=u(260),f=u(324),p=u(796),m=u(356);function x(S,A){var E=new d.DocHandler(S),D=g(A,E.scaleFactor()),F=new h.Table(A,D);return(0,f.calculateWidths)(E,F),E.applyStyles(E.userStyles),F}c.createTable=x;function g(S,A){var E=S.content,D=N(E.columns);if(E.head.length===0){var F=y(D,"head");F&&E.head.push(F)}if(E.foot.length===0){var F=y(D,"foot");F&&E.foot.push(F)}var k=S.settings.theme,O=S.styles;return{columns:D,head:b("head",E.head,D,O,k,A),body:b("body",E.body,D,O,k,A),foot:b("foot",E.foot,D,O,k,A)}}function b(S,A,E,D,F,k){var O={},B=A.map(function(L,W){for(var $=0,z={},X=0,Y=0,le=0,fe=E;le<fe.length;le++){var R=fe[le];if(O[R.index]==null||O[R.index].left===0)if(Y===0){var I=void 0;Array.isArray(L)?I=L[R.index-X-$]:I=L[R.dataKey];var q={};typeof I=="object"&&!Array.isArray(I)&&(q=(I==null?void 0:I.styles)||{});var Q=_(S,R,W,F,D,k,q),J=new h.Cell(I,Q,S);z[R.dataKey]=J,z[R.index]=J,Y=J.colSpan-1,O[R.index]={left:J.rowSpan-1,times:Y}}else Y--,X++;else O[R.index].left--,Y=O[R.index].times,$++}return new h.Row(L,W,S,z)});return B}function y(S,A){var E={};return S.forEach(function(D){if(D.raw!=null){var F=w(A,D.raw);F!=null&&(E[D.dataKey]=F)}}),Object.keys(E).length>0?E:null}function w(S,A){if(S==="head"){if(typeof A=="object")return A.header||A.title||null;if(typeof A=="string"||typeof A=="number")return A}else if(S==="foot"&&typeof A=="object")return A.footer;return null}function N(S){return S.map(function(A,E){var D,F,k;return typeof A=="object"?k=(F=(D=A.dataKey)!==null&&D!==void 0?D:A.key)!==null&&F!==void 0?F:E:k=E,new h.Column(k,A,E)})}function _(S,A,E,D,F,k,O){var B=(0,p.getTheme)(D),L;S==="head"?L=F.headStyles:S==="body"?L=F.bodyStyles:S==="foot"&&(L=F.footStyles);var W=(0,m.assign)({},B.table,B[S],F.styles,L),$=F.columnStyles[A.dataKey]||F.columnStyles[A.index]||{},z=S==="body"?$:{},X=S==="body"&&E%2===0?(0,m.assign)({},B.alternateRow,F.alternateRowStyles):{},Y=(0,p.defaultStyles)(k),le=(0,m.assign)({},Y,W,X,z);return(0,m.assign)(le,O)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),h=u(260),f=u(744),p=u(356),m=u(136),x=u(224);function g($,z){var X=z.settings,Y=X.startY,le=X.margin,fe={x:le.left,y:Y},R=z.getHeadHeight(z.columns)+z.getFootHeight(z.columns),I=Y+le.bottom+R;if(X.pageBreak==="avoid"){var q=z.body,Q=q.reduce(function(ve,ue){return ve+ue.height},0);I+=Q}var J=new f.DocHandler($);(X.pageBreak==="always"||X.startY!=null&&I>J.pageSize().height)&&(W(J),fe.y=le.top),z.callWillDrawPageHooks(J,fe);var de=(0,p.assign)({},fe);z.startPageNumber=J.pageNumber(),X.horizontalPageBreak?b(J,z,de,fe):(J.applyStyles(J.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&z.head.forEach(function(ve){return F(J,z,ve,fe,z.columns)}),J.applyStyles(J.userStyles),z.body.forEach(function(ve,ue){var Oe=ue===z.body.length-1;D(J,z,ve,Oe,de,fe,z.columns)}),J.applyStyles(J.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&z.foot.forEach(function(ve){return F(J,z,ve,fe,z.columns)})),(0,d.addTableBorder)(J,z,de,fe),z.callEndPageHooks(J,fe),z.finalY=fe.y,$.lastAutoTable=z,$.previousAutoTable=z,$.autoTable&&($.autoTable.previous=z),J.applyStyles(J.userStyles)}c.drawTable=g;function b($,z,X,Y){var le=(0,x.calculateAllColumnsCanFitInPage)($,z),fe=z.settings;if(fe.horizontalPageBreakBehaviour==="afterAllRows")le.forEach(function(Q,J){$.applyStyles($.userStyles),J>0?L($,z,X,Y,Q.columns,!0):y($,z,Y,Q.columns),w($,z,X,Y,Q.columns),_($,z,Y,Q.columns)});else for(var R=-1,I=le[0],q=function(){var Q=R;if(I){$.applyStyles($.userStyles);var J=I.columns;R>=0?L($,z,X,Y,J,!0):y($,z,Y,J),Q=N($,z,R+1,Y,J),_($,z,Y,J)}var de=Q-R;le.slice(1).forEach(function(ve){$.applyStyles($.userStyles),L($,z,X,Y,ve.columns,!0),N($,z,R+1,Y,ve.columns,de),_($,z,Y,ve.columns)}),R=Q};R<z.body.length-1;)q()}function y($,z,X,Y){var le=z.settings;$.applyStyles($.userStyles),(le.showHead==="firstPage"||le.showHead==="everyPage")&&z.head.forEach(function(fe){return F($,z,fe,X,Y)})}function w($,z,X,Y,le){$.applyStyles($.userStyles),z.body.forEach(function(fe,R){var I=R===z.body.length-1;D($,z,fe,I,X,Y,le)})}function N($,z,X,Y,le,fe){$.applyStyles($.userStyles),fe=fe??z.body.length;var R=Math.min(X+fe,z.body.length),I=-1;return z.body.slice(X,R).forEach(function(q,Q){var J=X+Q===z.body.length-1,de=B($,z,J,Y);q.canEntireRowFit(de,le)&&(F($,z,q,Y,le),I=X+Q)}),I}function _($,z,X,Y){var le=z.settings;$.applyStyles($.userStyles),(le.showFoot==="lastPage"||le.showFoot==="everyPage")&&z.foot.forEach(function(fe){return F($,z,fe,X,Y)})}function S($,z,X){var Y=X.getLineHeight($.styles.fontSize),le=$.padding("vertical"),fe=Math.floor((z-le)/Y);return Math.max(0,fe)}function A($,z,X,Y){var le={};$.spansMultiplePages=!0,$.height=0;for(var fe=0,R=0,I=X.columns;R<I.length;R++){var q=I[R],Q=$.cells[q.index];if(Q){Array.isArray(Q.text)||(Q.text=[Q.text]);var J=new h.Cell(Q.raw,Q.styles,Q.section);J=(0,p.assign)(J,Q),J.text=[];var de=S(Q,z,Y);Q.text.length>de&&(J.text=Q.text.splice(de,Q.text.length));var ve=Y.scaleFactor(),ue=Y.getLineHeightFactor();Q.contentHeight=Q.getContentHeight(ve,ue),Q.contentHeight>=z&&(Q.contentHeight=z,J.styles.minCellHeight-=z),Q.contentHeight>$.height&&($.height=Q.contentHeight),J.contentHeight=J.getContentHeight(ve,ue),J.contentHeight>fe&&(fe=J.contentHeight),le[q.index]=J}}var Oe=new h.Row($.raw,-1,$.section,le,!0);Oe.height=fe;for(var Ee=0,ae=X.columns;Ee<ae.length;Ee++){var q=ae[Ee],J=Oe.cells[q.index];J&&(J.height=Oe.height);var Q=$.cells[q.index];Q&&(Q.height=$.height)}return Oe}function E($,z,X,Y){var le=$.pageSize().height,fe=Y.settings.margin,R=fe.top+fe.bottom,I=le-R;z.section==="body"&&(I-=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns));var q=z.getMinimumRowHeight(Y.columns,$),Q=q<X;if(q>I)return console.error("Will not be able to print row ".concat(z.index," correctly since it's minimum height is larger than page height")),!0;if(!Q)return!1;var J=z.hasRowSpan(Y.columns),de=z.getMaxCellHeight(Y.columns)>I;return de?(J&&console.error("The content of row ".concat(z.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(J||Y.settings.rowPageBreak==="avoid")}function D($,z,X,Y,le,fe,R){var I=B($,z,Y,fe);if(X.canEntireRowFit(I,R))F($,z,X,fe,R);else if(E($,X,I,z)){var q=A(X,I,z,$);F($,z,X,fe,R),L($,z,le,fe,R),D($,z,q,Y,le,fe,R)}else L($,z,le,fe,R),D($,z,X,Y,le,fe,R)}function F($,z,X,Y,le){Y.x=z.settings.margin.left;for(var fe=0,R=le;fe<R.length;fe++){var I=R[fe],q=X.cells[I.index];if(!q){Y.x+=I.width;continue}$.applyStyles(q.styles),q.x=Y.x,q.y=Y.y;var Q=z.callCellHooks($,z.hooks.willDrawCell,q,X,I,Y);if(Q===!1){Y.x+=I.width;continue}k($,q,Y);var J=q.getTextPos();(0,m.default)(q.text,J.x,J.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},$.getDocument()),z.callCellHooks($,z.hooks.didDrawCell,q,X,I,Y),Y.x+=I.width}Y.y+=X.height}function k($,z,X){var Y=z.styles;if($.getDocument().setFillColor($.getDocument().getFillColor()),typeof Y.lineWidth=="number"){var le=(0,d.getFillStyle)(Y.lineWidth,Y.fillColor);le&&$.rect(z.x,X.y,z.width,z.height,le)}else typeof Y.lineWidth=="object"&&(Y.fillColor&&$.rect(z.x,X.y,z.width,z.height,"F"),O($,z,X,Y.lineWidth))}function O($,z,X,Y){var le,fe,R,I;Y.top&&(le=X.x,fe=X.y,R=X.x+z.width,I=X.y,Y.right&&(R+=.5*Y.right),Y.left&&(le-=.5*Y.left),q(Y.top,le,fe,R,I)),Y.bottom&&(le=X.x,fe=X.y+z.height,R=X.x+z.width,I=X.y+z.height,Y.right&&(R+=.5*Y.right),Y.left&&(le-=.5*Y.left),q(Y.bottom,le,fe,R,I)),Y.left&&(le=X.x,fe=X.y,R=X.x,I=X.y+z.height,Y.top&&(fe-=.5*Y.top),Y.bottom&&(I+=.5*Y.bottom),q(Y.left,le,fe,R,I)),Y.right&&(le=X.x+z.width,fe=X.y,R=X.x+z.width,I=X.y+z.height,Y.top&&(fe-=.5*Y.top),Y.bottom&&(I+=.5*Y.bottom),q(Y.right,le,fe,R,I));function q(Q,J,de,ve,ue){$.getDocument().setLineWidth(Q),$.getDocument().line(J,de,ve,ue,"S")}}function B($,z,X,Y){var le=z.settings.margin.bottom,fe=z.settings.showFoot;return(fe==="everyPage"||fe==="lastPage"&&X)&&(le+=z.getFootHeight(z.columns)),$.pageSize().height-Y.y-le}function L($,z,X,Y,le,fe){le===void 0&&(le=[]),fe===void 0&&(fe=!1),$.applyStyles($.userStyles),z.settings.showFoot==="everyPage"&&!fe&&z.foot.forEach(function(I){return F($,z,I,Y,le)}),z.callEndPageHooks($,Y);var R=z.settings.margin;(0,d.addTableBorder)($,z,X,Y),W($),z.pageNumber++,z.pageCount++,Y.x=R.left,Y.y=R.top,X.y=R.top,z.callWillDrawPageHooks($,Y),z.settings.showHead==="everyPage"&&(z.head.forEach(function(I){return F($,z,I,Y,le)}),$.applyStyles($.userStyles))}c.addPage=L;function W($){var z=$.pageNumber();$.setPage(z+1);var X=$.pageNumber();return X===z?($.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function h(p,m,x){var g;x===void 0&&(x={});var b=(0,d.getPageAvailableWidth)(p,m),y=new Map,w=[],N=[],_=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?_=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(_=[m.settings.horizontalPageBreakRepeat]),_.forEach(function(D){var F=m.columns.find(function(k){return k.dataKey===D||k.index===D});F&&!y.has(F.index)&&(y.set(F.index,!0),w.push(F.index),N.push(m.columns[F.index]),b-=F.wrappedWidth)});for(var S=!0,A=(g=x==null?void 0:x.start)!==null&&g!==void 0?g:0;A<m.columns.length;){if(y.has(A)){A++;continue}var E=m.columns[A].wrappedWidth;if(S||b>=E)S=!1,w.push(A),N.push(m.columns[A]),b-=E;else break;A++}return{colIndexes:w,columns:N,lastIndex:A-1}}function f(p,m){for(var x=[],g=0;g<m.columns.length;g++){var b=h(p,m,{start:g});b.columns.length&&(x.push(b),g=b.lastIndex)}return x}c.calculateAllColumnsCanFitInPage=f},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function h(w,N){f(w,N);var _=[],S=0;N.columns.forEach(function(E){var D=E.getMaxCustomCellWidth(N);D?E.width=D:(E.width=E.wrappedWidth,_.push(E)),S+=E.width});var A=N.getWidth(w.pageSize().width)-S;A&&(A=p(_,A,function(E){return Math.max(E.minReadableWidth,E.minWidth)})),A&&(A=p(_,A,function(E){return E.minWidth})),A=Math.abs(A),!N.settings.horizontalPageBreak&&A>.1/w.scaleFactor()&&(A=A<1?A:Math.round(A),console.warn("Of the table content, ".concat(A," units width could not fit page"))),x(N),g(N,w),m(N)}c.calculateWidths=h;function f(w,N){var _=w.scaleFactor(),S=N.settings.horizontalPageBreak,A=(0,d.getPageAvailableWidth)(w,N);N.allRows().forEach(function(E){for(var D=0,F=N.columns;D<F.length;D++){var k=F[D],O=E.cells[k.index];if(O){var B=N.hooks.didParseCell;N.callCellHooks(w,B,O,E,k,null);var L=O.padding("horizontal");O.contentWidth=(0,d.getStringWidth)(O.text,O.styles,w)+L;var W=(0,d.getStringWidth)(O.text.join(" ").split(/[^\S\u00A0]+/),O.styles,w);if(O.minReadableWidth=W+O.padding("horizontal"),typeof O.styles.cellWidth=="number")O.minWidth=O.styles.cellWidth,O.wrappedWidth=O.styles.cellWidth;else if(O.styles.cellWidth==="wrap"||S===!0)O.contentWidth>A?(O.minWidth=A,O.wrappedWidth=A):(O.minWidth=O.contentWidth,O.wrappedWidth=O.contentWidth);else{var $=10/_;O.minWidth=O.styles.minCellWidth||$,O.wrappedWidth=O.contentWidth,O.minWidth>O.wrappedWidth&&(O.wrappedWidth=O.minWidth)}}}}),N.allRows().forEach(function(E){for(var D=0,F=N.columns;D<F.length;D++){var k=F[D],O=E.cells[k.index];if(O&&O.colSpan===1)k.wrappedWidth=Math.max(k.wrappedWidth,O.wrappedWidth),k.minWidth=Math.max(k.minWidth,O.minWidth),k.minReadableWidth=Math.max(k.minReadableWidth,O.minReadableWidth);else{var B=N.styles.columnStyles[k.dataKey]||N.styles.columnStyles[k.index]||{},L=B.cellWidth||B.minCellWidth;L&&typeof L=="number"&&(k.minWidth=L,k.wrappedWidth=L)}O&&(O.colSpan>1&&!k.minWidth&&(k.minWidth=O.minWidth),O.colSpan>1&&!k.wrappedWidth&&(k.wrappedWidth=O.minWidth))}})}function p(w,N,_){for(var S=N,A=w.reduce(function($,z){return $+z.wrappedWidth},0),E=0;E<w.length;E++){var D=w[E],F=D.wrappedWidth/A,k=S*F,O=D.width+k,B=_(D),L=O<B?B:O;N-=L-D.width,D.width=L}if(N=Math.round(N*1e10)/1e10,N){var W=w.filter(function($){return N<0?$.width>_($):!0});W.length&&(N=p(W,N,_))}return N}c.resizeColumns=p;function m(w){for(var N={},_=1,S=w.allRows(),A=0;A<S.length;A++)for(var E=S[A],D=0,F=w.columns;D<F.length;D++){var k=F[D],O=N[k.index];if(_>1)_--,delete E.cells[k.index];else if(O)O.cell.height+=E.height,_=O.cell.colSpan,delete E.cells[k.index],O.left--,O.left<=1&&delete N[k.index];else{var B=E.cells[k.index];if(!B)continue;if(B.height=E.height,B.rowSpan>1){var L=S.length-A,W=B.rowSpan>L?L:B.rowSpan;N[k.index]={cell:B,left:W,row:E}}}}}function x(w){for(var N=w.allRows(),_=0;_<N.length;_++)for(var S=N[_],A=null,E=0,D=0,F=0;F<w.columns.length;F++){var k=w.columns[F];if(D-=1,D>1&&w.columns[F+1])E+=k.width,delete S.cells[k.index];else if(A){var O=A;delete S.cells[k.index],A=null,O.width=k.width+E}else{var O=S.cells[k.index];if(!O)continue;if(D=O.colSpan,E=0,O.colSpan>1){A=O,E+=k.width;continue}O.width=k.width+E}}}function g(w,N){for(var _={count:0,height:0},S=0,A=w.allRows();S<A.length;S++){for(var E=A[S],D=0,F=w.columns;D<F.length;D++){var k=F[D],O=E.cells[k.index];if(O){N.applyStyles(O.styles,!0);var B=O.width-O.padding("horizontal");if(O.styles.overflow==="linebreak")O.text=N.splitTextToSize(O.text,B+1/N.scaleFactor(),{fontSize:O.styles.fontSize});else if(O.styles.overflow==="ellipsize")O.text=b(O.text,B,O.styles,N,"...");else if(O.styles.overflow==="hidden")O.text=b(O.text,B,O.styles,N,"");else if(typeof O.styles.overflow=="function"){var L=O.styles.overflow(O.text,B);typeof L=="string"?O.text=[L]:O.text=L}O.contentHeight=O.getContentHeight(N.scaleFactor(),N.getLineHeightFactor());var W=O.contentHeight/O.rowSpan;O.rowSpan>1&&_.count*_.height<W*O.rowSpan?_={height:W,count:O.rowSpan}:_&&_.count>0&&_.height>W&&(W=_.height),W>E.height&&(E.height=W)}}_.count--}}function b(w,N,_,S,A){return w.map(function(E){return y(E,N,_,S,A)})}c.ellipsize=b;function y(w,N,_,S,A){var E=1e4*S.scaleFactor();if(N=Math.ceil(N*E)/E,N>=(0,d.getStringWidth)(w,_,S))return w;for(;N<(0,d.getStringWidth)(w+A,_,S)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+A}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},i={};function s(l){var c=i[l];if(c!==void 0)return c.exports;var u=i[l]={exports:{}};return n[l].call(u.exports,u,u.exports,s),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=s(340),u=s(776),d=s(664),h=s(972),f=s(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return f.Table}});var p=s(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var m=s(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return m.Row}});function x(N){(0,c.default)(N)}l.applyPlugin=x;function g(N,_){var S=(0,u.parseInput)(N,_),A=(0,h.createTable)(N,S);(0,d.drawTable)(N,A)}function b(N,_){var S=(0,u.parseInput)(N,_);return(0,h.createTable)(N,S)}l.__createTable=b;function y(N,_){(0,d.drawTable)(N,_)}l.__drawTable=y;try{var w=s(964);w.jsPDF&&(w=w.jsPDF),x(w)}catch{}l.default=g}(),o}()})})(O2e);const k2e=({isOpen:t,onClose:e,onImportMail:r,onScanQR:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 w-full max-w-md relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300","aria-label":"Fermer",children:a.jsx(vt,{size:20,"aria-hidden":"true"})}),a.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Importer des Analyses"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:()=>{const i=document.createElement("input");i.type="file",i.accept=".eml,.msg",i.onchange=s=>{var l;const o=(l=s.target.files)==null?void 0:l[0];o&&r(o)},i.click()},children:[a.jsx(ka,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:"Email du Laboratoire"}),a.jsx("p",{className:"text-sm text-white/60",children:"Importer directement depuis l'email"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:n,children:[a.jsx(A0,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:"Scanner QR Code"}),a.jsx("p",{className:"text-sm text-white/60",children:"Scanner le code depuis le rapport"})]})]})]})]})}):null,T2e=[{id:"A123",date:"2025-03-15",bassinId:"B001",laboratoire:"Labya",status:"conforme",technicien:"Jean Dupont",nextAnalyseDate:"2025-03-22",parameters:[{name:"pH",value:7.8,unit:"",threshold:8.5,status:"normal"},{name:"Température",value:12.5,unit:"°C",threshold:15,status:"normal"},{name:"Oxygène dissous",value:8.2,unit:"mg/L",threshold:7,status:"normal"},{name:"Salinité",value:33.5,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:2.8,unit:"NTU",threshold:5,status:"normal"},{name:"E. coli",value:45,unit:"UFC/100mL",threshold:230,status:"normal"}]},{id:"A124",date:"2025-03-15",bassinId:"B002",laboratoire:"Labya",status:"en-attente",technicien:"Marie Martin",parameters:[{name:"pH",value:8.3,unit:"",threshold:8.5,status:"warning"},{name:"Température",value:14.8,unit:"°C",threshold:15,status:"warning"},{name:"Oxygène dissous",value:6.8,unit:"mg/L",threshold:7,status:"warning"},{name:"Salinité",value:34.2,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:4.2,unit:"NTU",threshold:5,status:"warning"},{name:"E. coli",value:180,unit:"UFC/100mL",threshold:230,status:"warning"}]}],I2e=()=>{const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(!1),{data:o,isLoading:l}=gw({queryKey:["analyses"],queryFn:async()=>(await new Promise(m=>setTimeout(m,1e3)),T2e)}),c=async m=>{console.log("Importing from email:",m),n(!1)},u=()=>{n(!1),s(!0)},d=m=>{try{const x=JSON.parse(atob(m.split("/").pop()||""));console.log("QR Code data:",x)}catch(x){console.error("Erreur lors du décodage du QR code:",x)}},h=async()=>{try{const m=new st;m.setFontSize(20),m.setTextColor(44,62,80),m.text("Rapport d'Analyses OYSTER CULT",15,20),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Généré le ${It(new Date,"d MMMM yyyy 'à' HH:mm",{locale:Nr})}`,15,30);const x=(o==null?void 0:o.map(g=>[It(new Date(g.date),"dd/MM/yyyy"),g.bassinId,g.status.charAt(0).toUpperCase()+g.status.slice(1),g.technicien||"-",It(new Date(g.nextAnalyseDate||""),"dd/MM/yyyy")]))||[];m.autoTable({startY:40,head:[["Date","Bassin","Statut","Technicien","Prochaine Analyse"]],body:x,theme:"striped",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10}}),o==null||o.forEach((g,b)=>{b>0&&m.addPage();const y=20;m.setFontSize(16),m.setTextColor(44,62,80),m.text(`Détails Analyse - Bassin ${g.bassinId}`,15,y),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Date: ${It(new Date(g.date),"d MMMM yyyy",{locale:Nr})}`,15,y+10),m.text(`Technicien: ${g.technicien||"-"}`,15,y+20),m.text(`Statut: ${g.status.charAt(0).toUpperCase()+g.status.slice(1)}`,15,y+30);const w=g.parameters.map(N=>[N.name,N.value.toString(),N.unit,N.threshold?N.threshold.toString():"-",N.status.charAt(0).toUpperCase()+N.status.slice(1)]);m.autoTable({startY:y+40,head:[["Paramètre","Valeur","Unité","Seuil","Statut"]],body:w,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10},columnStyles:{0:{cellWidth:40},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}}})}),m.save(`analyses_${It(new Date,"yyyy-MM-dd")}.pdf`)}catch(m){console.error("Erreur lors de l'export:",m)}},f=m=>{switch(m){case"conforme":return"bg-emerald-500/20 text-emerald-400";case"non-conforme":return"bg-red-500/20 text-red-400";default:return"bg-amber-500/20 text-amber-400"}},p=m=>{switch(m){case"normal":return"text-emerald-400";case"warning":return"text-amber-400";case"critical":return"text-red-400";default:return"text-white"}};return a.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[a.jsx(qj,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Analyses"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer des analyses",children:[a.jsx(rs,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Importer Analyses"})]}),a.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter en PDF",children:[a.jsx(ns,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Exporter PDF"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:a.jsx(ks,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-medium text-white",children:"Résultats d'analyses"}),a.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",It(new Date,"d MMMM yyyy 'à' HH:mm",{locale:Nr})]})]})]}),l?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"w-10 h-10 border-t-2 border-b-2 border-cyan-400 rounded-full animate-spin"})}):(o==null?void 0:o.length)===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:a.jsx(qj,{className:"w-8 h-8 text-cyan-400","aria-hidden":"true"})}),a.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Aucune analyse disponible"}),a.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez par importer des résultats d'analyses de laboratoire."}),a.jsxs("button",{onClick:()=>n(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer votre première analyse",children:[a.jsx(rs,{className:"w-4 h-4","aria-hidden":"true"}),a.jsx("span",{children:"Importer une analyse"})]})]}):a.jsx("div",{className:"space-y-4",children:o==null?void 0:o.map(m=>a.jsxs("div",{className:`p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 transition-all duration-300 ${t===m.id?"shadow-[0_4px_15px_rgba(0,210,200,0.2)]":"shadow-[0_2px_10px_rgba(0,0,0,0.2)]"}`,children:[a.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>e(t===m.id?null:m.id),children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${f(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-white",children:["Bassin ",m.bassinId]}),a.jsxs("p",{className:"text-sm text-white/60",children:[It(new Date(m.date),"d MMMM yyyy",{locale:Nr}),m.technicien?` • ${m.technicien}`:""]})]})]}),a.jsx("button",{"aria-label":t===m.id?"Masquer les détails":"Afficher les détails",className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",children:t===m.id?a.jsx(Md,{className:"w-5 h-5 text-white/60","aria-hidden":"true"}):a.jsx(Dd,{className:"w-5 h-5 text-white/60","aria-hidden":"true"})})]}),t===m.id&&a.jsxs(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-white/10",children:[a.jsx("h4",{className:"font-medium text-white mb-3",children:"Paramètres analysés"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.parameters.map((x,g)=>a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-white/80",children:x.name}),a.jsxs("p",{className:`text-lg font-medium ${p(x.status)}`,children:[x.value," ",x.unit]})]}),x.threshold&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-white/60",children:"Seuil"}),a.jsxs("p",{className:"text-sm text-white/80",children:[x.threshold," ",x.unit]})]})]},g))}),m.nextAnalyseDate&&a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/60",children:[a.jsx("span",{children:"Prochaine analyse prévue le:"}),a.jsx("span",{className:"text-white",children:It(new Date(m.nextAnalyseDate),"d MMMM yyyy",{locale:Nr})})]})]})]},m.id))})]})]}),a.jsx(fr,{children:r&&a.jsx(k2e,{isOpen:r,onClose:()=>n(!1),onImportMail:c,onScanQR:u})}),a.jsx(fr,{children:i&&a.jsx(E2e,{onClose:()=>s(!1),onScanSuccess:d})})]})},pn={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},D2e={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},zb={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}},M2e=()=>{const[t,e]=T.useState(!0),[r,n]=T.useState(!1),[i,s]=T.useState(!1),[o,l]=T.useState([{id:"1",name:"Caméra Entrée",ip:"192.168.1.100:554",status:"online",lastSeen:"24/03 17:47",alerts:0},{id:"2",name:"Caméra Bassin #1",ip:"192.168.1.101:554",status:"online",lastSeen:"24/03 17:50",alerts:2},{id:"3",name:"Caméra Bassin #2",ip:"192.168.1.102:554",status:"offline",lastSeen:"23/03 14:33",alerts:0},{id:"4",name:"Caméra Zone de Stockage",ip:"192.168.1.103:554",status:"online",lastSeen:"24/03 17:49",alerts:1}]);T.useEffect(()=>{const u=()=>{s(window.innerWidth<=768)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),T.useEffect(()=>{const u=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(u)},[]);const c=u=>{u.preventDefault();const d=new FormData(u.currentTarget),h={id:`${o.length+1}`,name:d.get("camera-name"),ip:d.get("camera-ip"),status:"online",lastSeen:new Date().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),alerts:0};l([...o,h]),n(!1)};return t?a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-t-cyan-500 border-b-cyan-500 border-l-transparent border-r-transparent rounded-full animate-spin"}),a.jsx("span",{className:"mt-4 text-white/70",children:"Chargement des caméras..."})]})}):a.jsxs(be.div,{initial:"hidden",animate:"visible",variants:D2e,className:"space-y-6",children:[a.jsx(Qd,{icon:a.jsx(lD,{size:28,className:"text-white"}),title:"Surveillance"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[a.jsxs(be.div,{variants:zb,className:`${pn.container} ${pn.hoverEffect} p-5 space-y-4`,children:[a.jsx("h2",{className:pn.heading,children:"Statistiques surveillance"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:pn.subheading,children:"Caméras actives"}),a.jsxs("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:[o.filter(u=>u.status==="online").length,"/",o.length]})]}),a.jsxs("div",{className:"text-2xl font-bold text-white mt-2",children:[Math.round(o.filter(u=>u.status==="online").length/o.length*100),"%"]}),a.jsx("div",{className:pn.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:`${o.filter(u=>u.status==="online").length/o.length*100}%`},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:pn.subheading,children:"Alertes aujourd'hui"}),a.jsx("div",{className:"bg-amber-500/20 text-amber-300 text-xs px-2 py-1 rounded-full",children:o.reduce((u,d)=>u+d.alerts,0)})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:o.reduce((u,d)=>u+d.alerts,0)}),a.jsx("div",{className:pn.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-amber-500 to-orange-400",initial:{width:0},animate:{width:o.reduce((u,d)=>u+d.alerts,0)>0?"50%":"0%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:pn.subheading,children:"Durée fonctionnement"}),a.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"6j 12h"}),a.jsx("div",{className:pn.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"85%"},transition:{duration:1,ease:"easeOut"}})})]}),a.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:pn.subheading,children:"Espace stockage"}),a.jsx("div",{className:"bg-cyan-500/20 text-cyan-300 text-xs px-2 py-1 rounded-full",children:"84%"})]}),a.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"758.4 Go"}),a.jsx("div",{className:pn.progressBar,children:a.jsx(be.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-400",initial:{width:0},animate:{width:"84%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),a.jsxs(be.div,{variants:zb,className:`${pn.container} ${pn.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:pn.heading,children:"Caméras de surveillance"}),a.jsxs("button",{onClick:()=>n(!0),className:"px-3 py-1.5 bg-[rgba(0,128,128,0.3)] hover:bg-[rgba(0,128,128,0.4)] rounded-lg text-sm text-white flex items-center transition-all shadow-[rgba(0,0,0,0.15)_0px_4px_8px,rgba(0,210,200,0.1)_0px_0px_3px_inset] min-w-[44px] min-h-[44px]","aria-label":"Ajouter une caméra",children:[a.jsx(Dt,{size:16,className:"mr-2"}),"Ajouter"]})]}),a.jsx("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:o.map(u=>a.jsxs("div",{className:"rounded-lg backdrop-blur-sm bg-[rgba(0,40,80,0.2)] border border-white/10 transition-all duration-200 hover:border-cyan-500/30 p-4 flex flex-col focus-visible:ring-2 focus-visible:ring-cyan-500/50 focus:outline-none",tabIndex:0,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:u.name}),a.jsx("p",{className:"text-white/60 text-sm",children:u.ip}),a.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",u.lastSeen]})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${u.status==="online"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:u.status==="online"?"Connecté":"Déconnecté"})]}),a.jsxs("div",{className:"bg-[rgba(0,20,40,0.3)] rounded-lg h-24 overflow-hidden relative",children:[u.status==="online"?a.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url('/OYSTERCULT/images/camera-feed-${u.id}.jpg')`}}):a.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white/60",children:[a.jsx(Oc,{className:"mr-2 opacity-50",size:18}),"Signal perdu"]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("span",{className:"text-xs text-white/80 bg-black/40 px-1.5 py-0.5 rounded text-right",children:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})})})]}),a.jsxs("div",{className:"flex justify-between gap-2 mt-3",children:[a.jsxs("button",{className:"flex-1 bg-[rgba(0,80,110,0.3)] hover:bg-[rgba(0,90,125,0.4)] text-white py-1.5 px-3 rounded-lg flex items-center justify-center text-sm transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-w-[44px] min-h-[44px]","aria-label":`Voir le flux de ${u.name}`,children:[a.jsx(hl,{size:16,className:"mr-2"}),"Voir le flux"]}),a.jsx("button",{className:"bg-[rgba(180,40,40,0.2)] hover:bg-[rgba(180,40,40,0.3)] text-red-300 p-1.5 rounded-lg flex items-center justify-center transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/50 min-w-[44px] min-h-[44px]","aria-label":`Supprimer ${u.name}`,children:a.jsx(Zn,{size:16})})]})]},u.id))})]}),a.jsxs(be.div,{variants:zb,className:`${pn.container} ${pn.hoverEffect} p-5`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:pn.heading,children:"Journal d'alertes"}),a.jsx("div",{className:"text-sm text-white/60",children:"Aujourd'hui, 24 mars"})]}),a.jsxs("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:[[{id:1,camera:"Caméra Bassin #1",time:"16:05",message:"Mouvement détecté",level:"warning"},{id:2,camera:"Caméra Zone de Stockage",time:"15:32",message:"Objet retiré",level:"warning"},{id:3,camera:"Caméra Bassin #1",time:"14:47",message:"Niveau d'eau bas",level:"error"},{id:4,camera:"Caméra Bassin #2",time:"09:15",message:"Connexion perdue",level:"error"},{id:5,camera:"Caméra Entrée",time:"08:01",message:"Mouvement détecté",level:"info"}].map(u=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,25,45,0.4)] transition-colors",children:[a.jsx("div",{className:`
                  w-10 h-10 rounded-full mr-3 flex items-center justify-center
                  ${u.level==="error"?"bg-red-500/20 text-red-300":u.level==="warning"?"bg-amber-500/20 text-amber-300":"bg-blue-500/20 text-blue-300"}
                `,children:a.jsx(di,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-white",children:u.camera}),a.jsx("span",{className:"text-sm text-white/40",children:u.time})]}),a.jsx("p",{className:"text-sm mt-0.5 text-white/70",children:u.message})]})]},u.id)),a.jsx("button",{className:"w-full mt-4 bg-[rgba(0,40,80,0.2)] hover:bg-[rgba(0,50,90,0.3)] text-white/80 py-2 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-h-[44px]","aria-label":"Voir toutes les alertes",children:"Voir toutes les alertes"})]})]})]}),a.jsx(fr,{children:r&&a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:[a.jsx(be.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>n(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),a.jsx(be.div,{className:`relative w-full max-w-md rounded-xl ${pn.container} overflow-hidden`,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:`text-xl ${pn.heading}`,children:"Ajouter une caméra"}),a.jsx("button",{onClick:()=>n(!1),className:"rounded-full p-1.5 bg-[rgba(0,40,80,0.3)] hover:bg-[rgba(0,50,90,0.4)] transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50","aria-label":"Fermer",children:a.jsx(vt,{size:18})})]}),a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-name",className:"block text-sm font-medium mb-1 text-white/80",children:"Nom"}),a.jsx("input",{id:"camera-name",name:"camera-name",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Caméra Entrée",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-location",className:"block text-sm font-medium mb-1 text-white/80",children:"Emplacement"}),a.jsx("input",{id:"camera-location",name:"camera-location",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Entrée principale"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-ip",className:"block text-sm font-medium mb-1 text-white/80",children:"Adresse IP"}),a.jsx("input",{id:"camera-ip",name:"camera-ip",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"192.168.1.100:554",pattern:"^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\:[0-9]{1,5})?$",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"camera-type",className:"block text-sm font-medium mb-1 text-white/80",children:"Type"}),a.jsxs("select",{id:"camera-type",name:"camera-type",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",required:!0,children:[a.jsx("option",{value:"ip",children:"Caméra IP"}),a.jsx("option",{value:"rtsp",children:"RTSP Stream"}),a.jsx("option",{value:"hls",children:"HLS Stream"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2.5 bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,30,50,0.4)] border border-white/10 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white/80 min-h-[44px]",children:"Annuler"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white font-medium min-h-[44px]",children:"Ajouter"})]})]})]})})]})})]})},fw=T.forwardRef(({children:t,className:e,variant:r="default",noPadding:n,fullWidth:i,...s},o)=>{const l="rounded-lg backdrop-blur-sm bg-black/40 border transition-all duration-200",c={default:"border-white/10",outlined:"border-white/20 shadow-sm",elevated:"border-white/10 shadow-lg"},u=n?"p-0":"p-6",d=i?"w-full":"";return a.jsx(be.div,{ref:o,className:Hs(l,c[r],u,d,"focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50",e),...s,whileHover:{scale:1.005},transition:{type:"spring",duration:.3,...s.transition},style:{WebkitBackdropFilter:"blur(8px)",...s.style},tabIndex:s.tabIndex||0,children:t})});fw.displayName="Card";const Zo={success:t=>{console.log(`Success: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-green-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)",setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>e.remove(),300)},3e3)},error:t=>{console.error(`Error: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-red-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)",setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>e.remove(),300)},4e3)},info:t=>{console.info(`Info: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-blue-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)",setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>e.remove(),300)},3e3)},warning:t=>{console.warn(`Warning: ${t}`);const e=document.createElement("div");e.className="fixed top-4 right-4 bg-yellow-500 text-white p-4 rounded shadow-lg z-50 flex items-center",e.setAttribute("role","alert"),e.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
    </svg>`,e.appendChild(r);const n=document.createElement("span");n.textContent=t,e.appendChild(n),document.body.appendChild(e),e.style.opacity="0",e.style.transform="translateY(-20px)",e.style.transition="all 0.3s ease-in-out",window.matchMedia("(prefers-reduced-motion: reduce)").matches?(e.style.opacity="1",e.style.transform="none"):(e.offsetWidth,e.style.opacity="1",e.style.transform="translateY(0)"),setTimeout(()=>{e.style.opacity="0",window.matchMedia("(prefers-reduced-motion: reduce)").matches||(e.style.transform="translateY(-20px)"),setTimeout(()=>e.remove(),300)},3e3)}},L2e=()=>{const[t,e]=T.useState(()=>{const g=localStorage.getItem("surveillanceDevices");return g?JSON.parse(g):[{id:"1",name:"Caméra entrée",ipAddress:"192.168.1.100",port:"554",username:"admin",password:"********",isConnected:!0,lastSeen:new Date().toISOString()}]}),[r,n]=T.useState({name:"",ipAddress:"",port:"554",username:"admin",password:""}),[i,s]=T.useState(!1),[o,l]=T.useState(!1),[c,u]=T.useState(!0);T.useEffect(()=>{localStorage.setItem("surveillanceDevices",JSON.stringify(t))},[t]),T.useEffect(()=>{const g=setTimeout(()=>{u(!1)},800);return()=>clearTimeout(g)},[]);const d=(g,b)=>{n({...r,[g]:b})},h=()=>{if(!r.ipAddress||!r.port){Zo.error("Veuillez saisir l'adresse IP et le port");return}l(!0),setTimeout(()=>{l(!1),Math.random()>.2?Zo.success(`Connexion réussie à ${r.ipAddress}:${r.port}`):Zo.error(`Échec de connexion à ${r.ipAddress}:${r.port}`)},1500)},f=()=>{if(!r.name||!r.ipAddress){Zo.error("Veuillez saisir au moins le nom et l'adresse IP");return}const g={...r,id:Date.now().toString(),isConnected:!0,lastSeen:new Date().toISOString()};e([...t,g]),n({name:"",ipAddress:"",port:"554",username:"admin",password:""}),s(!1),Zo.success(`${g.name} ajouté avec succès`)},p=g=>{const b=t.find(y=>y.id===g);b&&(e(t.filter(y=>y.id!==g)),Zo.info(`${b.name} supprimé`))},m=g=>{Zo.info(`Ouverture du flux de ${g.name}...`),setTimeout(()=>{const b=t.map(y=>y.id===g.id?{...y,lastSeen:new Date().toISOString()}:y);e(b),Zo.success(`Flux de ${g.name} prêt à être affiché`)},1200)},x=g=>{if(!g)return"Jamais";const b=new Date(g);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(b)};return c?a.jsx("div",{className:"container mx-auto p-4 max-w-4xl flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Xb,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-cyan-400"}),a.jsx("p",{className:"text-lg text-white/70",children:"Chargement des appareils de surveillance..."})]})}):a.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Surveillance Vidéo"}),a.jsxs(qt,{onClick:()=>s(!i),"aria-label":i?"Annuler l'ajout d'une caméra":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[i?a.jsx(vt,{className:"mr-2"}):a.jsx(Dt,{className:"mr-2"}),i?"Annuler":"Ajouter une caméra"]})]}),i&&a.jsxs(fw,{className:"p-4 mb-6 border border-blue-500/30",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Connecter un nouvel appareil"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(As,{htmlFor:"name",children:"Nom de l'appareil"}),a.jsx(xt,{id:"name",value:r.name,onChange:g=>d("name",g.target.value),placeholder:"Caméra entrée",className:"mt-1","aria-required":"true"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"ipAddress",children:"Adresse IP"}),a.jsx(xt,{id:"ipAddress",value:r.ipAddress,onChange:g=>d("ipAddress",g.target.value),placeholder:"192.168.1.100",className:"mt-1","aria-required":"true"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"port",children:"Port"}),a.jsx(xt,{id:"port",value:r.port,onChange:g=>d("port",g.target.value),placeholder:"554",className:"mt-1","aria-required":"true"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"username",children:"Nom d'utilisateur"}),a.jsx(xt,{id:"username",value:r.username,onChange:g=>d("username",g.target.value),placeholder:"admin",className:"mt-1",autoComplete:"username"})]}),a.jsxs("div",{children:[a.jsx(As,{htmlFor:"password",children:"Mot de passe"}),a.jsx(xt,{id:"password",type:"password",value:r.password,onChange:g=>d("password",g.target.value),placeholder:"••••••••",autoComplete:"new-password",className:"mt-1"})]}),a.jsxs("div",{className:"flex gap-2 col-span-2 mt-2",children:[a.jsxs(qt,{variant:"outline",onClick:h,disabled:o,"aria-label":"Tester la connexion",className:"min-w-[44px] min-h-[44px]",children:[o?a.jsx(Xb,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(bw,{className:"mr-2 h-4 w-4"}),"Tester la connexion"]}),a.jsxs(qt,{onClick:f,"aria-label":"Ajouter la caméra",className:"min-w-[44px] min-h-[44px]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Ajouter"]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h2",{className:"text-lg font-semibold",children:["Vos appareils (",t.length,")"]}),t.length===0?a.jsxs("div",{className:"text-center p-8 bg-black/20 rounded-lg border border-white/10",children:[a.jsx(Oc,{className:"mx-auto h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-white/70",children:"Aucun appareil de surveillance connecté"}),a.jsx("p",{className:"text-sm text-white/50 mb-4",children:'Cliquez sur "Ajouter une caméra" pour commencer'}),a.jsxs(qt,{onClick:()=>s(!0),"aria-label":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Ajouter une caméra"]})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:t.map(g=>a.jsxs(fw,{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-lg",children:g.name}),a.jsxs("p",{className:"text-white/60 text-sm",children:[g.ipAddress,":",g.port]}),a.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",x(g.lastSeen)]})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${g.isConnected?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:g.isConnected?"Connecté":"Déconnecté"})]}),a.jsxs("div",{className:"mt-auto flex gap-2 pt-4",children:[a.jsxs(qt,{variant:"outline",className:"flex-1 min-w-[44px] min-h-[44px]",onClick:()=>m(g),"aria-label":`Voir le flux de ${g.name}`,children:[a.jsx(hl,{className:"mr-2 h-4 w-4"}),"Voir"]}),a.jsx(qt,{variant:"outline",className:"bg-red-500/10 hover:bg-red-500/20 text-red-300 min-w-[44px] min-h-[44px]",onClick:()=>p(g.id),"aria-label":`Supprimer ${g.name}`,children:a.jsx(Zn,{className:"h-4 w-4"})})]})]},g.id))})]})]})},R2e=new OC("https://cool-otter-362.convex.cloud");function F2e(){const t=is(),e=N0(),[r,n]=T.useState(!1),[i,s]=T.useState(!1),[o,l]=T.useState(!1),c=T.useRef(null),[u,d]=T.useState(!1),[h,f]=T.useState(!1),{totalUnreadCount:p,markAsRead:m}=LL();T.useEffect(()=>{const g=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;d(g),g&&document.body.classList.add("ios-device")},[]),T.useEffect(()=>{const g=()=>{f(window.innerWidth<=768)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),T.useEffect(()=>{e.pathname.includes("/network/messages")||(c.current=e.pathname)},[e.pathname]);const x=()=>{e.pathname.includes("/network/messages")?t(c.current||"/dashboard"):t("/network/messages")};return a.jsxs(a.Fragment,{children:[a.jsx(F7,{onShowMobileMenu:()=>n(!0),onToggleNotifications:()=>s(!i),onShowEmergency:()=>l(!0),onEmergencyClick:()=>l(!0),onToggleMessages:x,unreadMessagesCount:p}),a.jsxs("div",{className:"flex min-h-screen h-full",children:[a.jsx("button",{className:"fixed top-6 left-6 z-50 md:hidden flex items-center justify-center w-14 h-14 rounded-lg shadow-lg transition-all duration-200",onClick:()=>n(!0),"aria-label":"Ouvrir le menu",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(0, 210, 200, 0.25) 0px 0px 15px inset",WebkitTapHighlightColor:"transparent",transform:"translateZ(0)",willChange:"transform"},children:a.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"24px",height:"24px",filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.4))"},children:[a.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),a.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})}),a.jsx($7,{showMobileMenu:r,onCloseMobileMenu:()=>n(!1),onEmergencyClick:()=>l(!0),onToggleMessages:x,onToggleNotifications:()=>s(!0)}),a.jsx("div",{className:`
            flex-1 pt-16 md:pt-16 
            pb-4 
            px-4 md:px-6 lg:px-8
            ml-0 lg:ml-[4.5rem] transition-all duration-300
            min-h-screen
          `,style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",willChange:"transform",transform:"translate3d(0,0,0)",position:"fixed",inset:"0",width:"100%",height:"100%",overflow:h&&e.pathname.endsWith("/dashboard")?"hidden":"auto"},children:a.jsx("main",{className:`flex-1 p-6 ${e.pathname.endsWith("/dashboard")?"h-full":"h-[calc(100%-80px)]"} ${h&&e.pathname.endsWith("/dashboard")?"overflow-hidden":""}`,children:a.jsxs("div",{className:`max-w-7xl mx-auto h-full outlet-container ${e.pathname.includes("/tasks")&&!h?"mt-[50px]":""}`,style:{minHeight:"calc(100% - 40px)"},children:[a.jsx(fD,{}),a.jsx("div",{style:{height:"40px"}})]})})})]}),a.jsxs(fr,{children:[i&&a.jsx(PL,{onClose:()=>s(!1)}),o&&a.jsx(IL,{isOpen:o,onClose:()=>l(!1)})]}),a.jsx(DL,{})]})}function B2e(){const t=N0();is();const e=localStorage.getItem("isAuthenticated")==="true";return t.pathname,a.jsx("div",{className:"min-h-screen w-screen h-screen fixed inset-0 overflow-hidden",children:a.jsxs(hD,{children:[a.jsx(Ft,{path:"/auth",element:a.jsx(RL,{})}),a.jsx(Ft,{path:"/surveillance/simple",element:a.jsx(M2e,{})}),e?a.jsxs(Ft,{element:a.jsx(F2e,{}),children:[a.jsx(Ft,{path:"/",element:a.jsx(mv,{to:"/dashboard",replace:!0})}),a.jsx(Ft,{path:"/dashboard",element:a.jsx(Eue,{})}),a.jsx(Ft,{path:"/stocks",element:a.jsx(zfe,{})}),a.jsx(Ft,{path:"/stock/:id",element:a.jsx(Yfe,{})}),a.jsx(Ft,{path:"/tables/:id",element:a.jsx(bpe,{})}),a.jsx(Ft,{path:"/accounting",element:a.jsx(e0e,{})}),a.jsx(Ft,{path:"/invoices",element:a.jsx(a0e,{})}),a.jsx(Ft,{path:"/hr",element:a.jsx(v0e,{})}),a.jsx(Ft,{path:"/network",element:a.jsx(F0e,{})}),a.jsx(Ft,{path:"/network/messages",element:a.jsx(v2e,{})}),a.jsx(Ft,{path:"/config",element:a.jsx(epe,{})}),a.jsx(Ft,{path:"/notifications",element:a.jsx(lpe,{})}),a.jsx(Ft,{path:"/tasks",element:a.jsx(vpe,{})}),a.jsx(Ft,{path:"/traceability",element:a.jsx(pve,{})}),a.jsx(Ft,{path:"/traceability/storage-locations",element:a.jsx(b2e,{})}),a.jsx(Ft,{path:"/traceability/market-purchases",element:a.jsx(w2e,{})}),a.jsx(Ft,{path:"/traceability/invoices-delivery-notes",element:a.jsx(j2e,{})}),a.jsx(Ft,{path:"/traceability/batches",element:a.jsx(C2e,{})}),a.jsx(Ft,{path:"/traceability/batch-history",element:a.jsx(S2e,{searchQuery:""})}),a.jsx(Ft,{path:"/traceability/purification-pools",element:a.jsx(A2e,{})}),a.jsx(Ft,{path:"/sales",element:a.jsx(vve,{})}),a.jsx(Ft,{path:"/purchases",element:a.jsx(wve,{})}),a.jsx(Ft,{path:"/profile",element:a.jsx(Pve,{})}),a.jsx(Ft,{path:"/shop",element:a.jsx(kve,{})}),a.jsx(Ft,{path:"/suppliers",element:a.jsx(Gve,{})}),a.jsx(Ft,{path:"/digital-vault",element:a.jsx(g2e,{})}),a.jsx(Ft,{path:"/suppliers/:supplierId/catalog",element:a.jsx(Xve,{})}),a.jsx(Ft,{path:"/suppliers/orders",element:a.jsx(n2e,{})}),a.jsx(Ft,{path:"/surveillance",element:a.jsx(L2e,{})}),a.jsx(Ft,{path:"/analyses",element:a.jsx(I2e,{})}),a.jsx(Ft,{path:"*",element:a.jsx(mv,{to:"/dashboard",replace:!0})})]}):a.jsx(Ft,{path:"*",element:a.jsx(mv,{to:"/auth",replace:!0})})]})})}function $2e(){const t=new cD;return a.jsx(PC,{client:R2e,children:a.jsxs(uD,{client:t,children:[a.jsx(dD,{basename:"",children:a.jsx(B2e,{})}),a.jsx(n7,{position:"bottom-right"})]})})}const z2e=new OC("https://cool-otter-362.convex.cloud"),$T=document.getElementById("root");if(!$T)throw new Error("Root element not found");kC($T).render(a.jsx(T.StrictMode,{children:a.jsx(PC,{client:z2e,children:a.jsx($2e,{})})}));export{or as _};
//# sourceMappingURL=index-DO4JctFn.js.map
