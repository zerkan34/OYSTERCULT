const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-BzZqRw0v.js","assets/js/vendor-Bl_faOz5.js","assets/js/browser-Mn4cS0po.js"])))=>i.map(i=>d[i]);
var iW=Object.defineProperty;var sW=(e,t,r)=>t in e?iW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _t=(e,t,r)=>sW(e,typeof t!="symbol"?t+"":t,r);import{r as nS,a as I,g as rn,R as K,u as uo,b as X1,j as o,m as ke,C as Ux,A as Ir,L as AE,P as Ds,c as CE,X as Gt,d as Xy,e as oW,S as Hn,f as xa,T as d0,G as Tp,h as Wh,i as K1,D as Hx,k as YI,l as lW,U as xs,n as eb,o as Op,I as Wx,p as Da,q as Ai,s as Pp,t as di,M as uN,v as Is,w as Ei,x as cW,y as fi,W as uW,z as XI,B as ro,E as ji,F as qu,N as Rc,H as Li,J as dN,K as I2,O as M2,Q as Oa,V as tb,Y as fN,Z as KI,_ as tf,$ as Es,a0 as Ga,a1 as QI,a2 as JI,a3 as Ua,a4 as dW,a5 as EE,a6 as fW,a7 as hW,a8 as pW,a9 as mW,aa as aS,ab as gr,ac as qi,ad as hN,ae as kE,af as Q1,ag as xW,ah as ZI,ai as eM,aj as rb,ak as Uo,al as gd,am as io,an as gW,ao as Ky,ap as iS,aq as pN,ar as Ho,as as Vx,at as vW,au as F2,av as bW,aw as yW,ax as tM,ay as wW,az as Th,aA as R2,aB as Wc,aC as TE,aD as OE,aE as rf,aF as PE,aG as rM,aH as nM,aI as _W,aJ as NW,aK as J1,aL as Qy,aM as sS,aN as mN,aO as aM,aP as iM,aQ as Go,aR as jW,aS as nf,aT as sM,aU as hc,aV as SW,aW as AW,aX as oM,aY as CW,aZ as lM,a_ as oS,a$ as gx,b0 as Jy,b1 as EW,b2 as kW,b3 as TW,b4 as Dp,b5 as L2,b6 as Os,b7 as Zy,b8 as cM,b9 as OW,ba as PW,bb as DW,bc as DE,bd as IW,be as Z1,bf as lS,bg as MW,bh as FW,bi as RW,bj as LW,bk as BW,bl as $W,bm as uM,bn as IE,bo as ME,bp as zW,bq as dM,br as UW,bs as fM,bt as HW,bu as WW,bv as VW,bw as vr,bx as f_,by as qW}from"./vendor-Bl_faOz5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var hM,FE=nS;hM=FE.createRoot,FE.hydrateRoot;let GW={data:""},YW=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||GW,XW=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,KW=/\/\*[^]*?\*\/|  +/g,RE=/\n+/g,Zu=(e,t)=>{let r="",n="",a="";for(let i in e){let s=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+s+";":n+=i[1]=="f"?Zu(s,i):i+"{"+Zu(s,i[1]=="k"?"":t)+"}":typeof s=="object"?n+=Zu(s,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Zu.p?Zu.p(i,s):i+":"+s+";")}return r+(t&&a?t+"{"+a+"}":a)+n},Pc={},pM=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+pM(e[r]);return t}return e},QW=(e,t,r,n,a)=>{let i=pM(e),s=Pc[i]||(Pc[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Pc[s]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=XW.exec(u.replace(KW,""));)d[4]?h.shift():d[3]?(f=d[3].replace(RE," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(RE," ").trim();return h[0]})(e);Pc[s]=Zu(a?{["@keyframes "+s]:c}:c,r?"":"."+s)}let l=r&&Pc.g?Pc.g:null;return r&&(Pc.g=Pc[s]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Pc[s],t,n,l),s},JW=(e,t,r)=>e.reduce((n,a,i)=>{let s=t[i];if(s&&s.call){let l=s(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":Zu(l,""):l===!1?"":l}return n+a+(s??"")},"");function ew(e){let t=this||{},r=e.call?e(t.p):e;return QW(r.unshift?r.raw?JW(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,YW(t.target),t.g,t.o,t.k)}let mM,xN,gN;ew.bind({g:1});let au=ew.bind({k:1});function ZW(e,t,r,n){Zu.p=t,mM=e,xN=r,gN=n}function Cd(e,t){let r=this||{};return function(){let n=arguments;function a(i,s){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:xN&&xN()},l),r.o=/ *go\d+/.test(c),l.className=ew.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),gN&&u[0]&&gN(l),mM(u,l)}return a}}var eV=e=>typeof e=="function",nb=(e,t)=>eV(e)?e(t):e,tV=(()=>{let e=0;return()=>(++e).toString()})(),xM=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rV=20,gM=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,rV)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return gM(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},B2=[],f0={toasts:[],pausedAt:void 0},af=e=>{f0=gM(f0,e),B2.forEach(t=>{t(f0)})},nV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aV=(e={})=>{let[t,r]=I.useState(f0),n=I.useRef(f0);I.useEffect(()=>(n.current!==f0&&r(f0),B2.push(r),()=>{let i=B2.indexOf(r);i>-1&&B2.splice(i,1)}),[]);let a=t.toasts.map(i=>{var s,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((s=e[i.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||nV[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:a}},iV=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||tV()}),eg=e=>(t,r)=>{let n=iV(t,e,r);return af({type:2,toast:n}),n.id},us=(e,t)=>eg("blank")(e,t);us.error=eg("error");us.success=eg("success");us.loading=eg("loading");us.custom=eg("custom");us.dismiss=e=>{af({type:3,toastId:e})};us.remove=e=>af({type:4,toastId:e});us.promise=(e,t,r)=>{let n=us.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?nb(t.success,a):void 0;return i?us.success(i,{id:n,...r,...r==null?void 0:r.success}):us.dismiss(n),a}).catch(a=>{let i=t.error?nb(t.error,a):void 0;i?us.error(i,{id:n,...r,...r==null?void 0:r.error}):us.dismiss(n)}),e};var sV=(e,t)=>{af({type:1,toast:{id:e,height:t}})},oV=()=>{af({type:5,time:Date.now()})},vx=new Map,lV=1e3,cV=(e,t=lV)=>{if(vx.has(e))return;let r=setTimeout(()=>{vx.delete(e),af({type:4,toastId:e})},t);vx.set(e,r)},uV=e=>{let{toasts:t,pausedAt:r}=aV(e);I.useEffect(()=>{if(r)return;let i=Date.now(),s=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&us.dismiss(l.id);return}return setTimeout(()=>us.dismiss(l.id),c)});return()=>{s.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=I.useCallback(()=>{r&&af({type:6,time:Date.now()})},[r]),a=I.useCallback((i,s)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=s||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,m)=>m<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+c,0)},[t]);return I.useEffect(()=>{t.forEach(i=>{if(i.dismissed)cV(i.id,i.removeDelay);else{let s=vx.get(i.id);s&&(clearTimeout(s),vx.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:sV,startPause:oV,endPause:n,calculateOffset:a}}},dV=au`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fV=au`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hV=au`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pV=Cd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mV=au`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xV=Cd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${mV} 1s linear infinite;
`,gV=au`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vV=au`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bV=Cd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yV=Cd("div")`
  position: absolute;
`,wV=Cd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_V=au`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NV=Cd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_V} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jV=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?I.createElement(NV,null,t):t:r==="blank"?null:I.createElement(wV,null,I.createElement(xV,{...n}),r!=="loading"&&I.createElement(yV,null,r==="error"?I.createElement(pV,{...n}):I.createElement(bV,{...n})))},SV=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AV=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,CV="0%{opacity:0;} 100%{opacity:1;}",EV="0%{opacity:1;} 100%{opacity:0;}",kV=Cd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,TV=Cd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,OV=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=xM()?[CV,EV]:[SV(r),AV(r)];return{animation:t?`${au(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${au(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PV=I.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?OV(e.position||t||"top-center",e.visible):{opacity:0},i=I.createElement(jV,{toast:e}),s=I.createElement(TV,{...e.ariaProps},nb(e.message,e));return I.createElement(kV,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:s}):I.createElement(I.Fragment,null,i,s))});ZW(I.createElement);var DV=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=I.useCallback(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return I.createElement("div",{ref:i,className:t,style:r},a)},IV=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xM()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},MV=ew`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sv=16,FV=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:s})=>{let{toasts:l,handlers:c}=uV(r);return I.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Sv,left:Sv,right:Sv,bottom:Sv,pointerEvents:"none",...i},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=IV(d,f);return I.createElement(DV,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?MV:"",style:h},u.type==="custom"?nb(u.message,u):a?a(u):I.createElement(PV,{toast:u,position:d}))}))},fh=us;const RV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},LE=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,p))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(RV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},LV=e=>e?LE(e):LE;var vM={exports:{}},bM={},yM={exports:{}},wM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=I;function BV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $V=typeof Object.is=="function"?Object.is:BV,zV=Vh.useState,UV=Vh.useEffect,HV=Vh.useLayoutEffect,WV=Vh.useDebugValue;function VV(e,t){var r=t(),n=zV({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return HV(function(){a.value=r,a.getSnapshot=t,h_(a)&&i({inst:a})},[e,r,t]),UV(function(){return h_(a)&&i({inst:a}),e(function(){h_(a)&&i({inst:a})})},[e]),WV(r),r}function h_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$V(e,r)}catch{return!0}}function qV(e,t){return t()}var GV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qV:VV;wM.useSyncExternalStore=Vh.useSyncExternalStore!==void 0?Vh.useSyncExternalStore:GV;yM.exports=wM;var YV=yM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=I,XV=YV;function KV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QV=typeof Object.is=="function"?Object.is:KV,JV=XV.useSyncExternalStore,ZV=tw.useRef,eq=tw.useEffect,tq=tw.useMemo,rq=tw.useDebugValue;bM.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=ZV(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=tq(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,QV(d,p))return m;var x=n(p);return a!==void 0&&a(m,x)?(d=p,m):(d=p,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=JV(e,i[0],i[1]);return eq(function(){s.hasValue=!0,s.value=l},[l]),rq(l),l};vM.exports=bM;var nq=vM.exports;const aq=rn(nq),_M={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"},{useDebugValue:iq}=K,{useSyncExternalStoreWithSelector:sq}=aq;let BE=!1;const oq=e=>e;function lq(e,t=oq,r){(_M?"production":void 0)!=="production"&&r&&!BE&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),BE=!0);const n=sq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return iq(n),n}const cq=e=>{(_M?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?LV(e):e,r=(n,a)=>lq(t,n,a);return Object.assign(r,t),r},uq=e=>cq,dq={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CONVEX_URL:"https://cool-otter-362.convex.cloud",VITE_DEPLOY_TARGET:"firebase",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",VITE_SUPABASE_URL:"https://rmockgbhcxrgqpeejrry.supabase.co"};function fq(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const s=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(s):s(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const qx=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return qx(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return qx(n)(r)}}}},hq=(e,t)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},s=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const d=qx(i.serialize),f=()=>{const g=i.partialize({...n()});let v;const b=d({state:g,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{v=y});if(v)throw v;return b},h=a.setState;a.setState=(g,v)=>{h(g,v),f()};const p=e((...g)=>{r(...g),f()},n,a);let m;const x=()=>{var g;if(!u)return;s=!1,l.forEach(b=>b(n()));const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,n()))||void 0;return qx(u.getItem.bind(u))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var y;return m=i.merge(b,(y=n())!=null?y:p),r(m,!0),f()}).then(()=>{v==null||v(m,void 0),s=!0,c.forEach(b=>b(m))}).catch(b=>{v==null||v(void 0,b)})};return a.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},x(),m||p},pq=(e,t)=>(r,n,a)=>{let i={storage:fq(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...t},s=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,a);const d=()=>{const x=i.partialize({...n()});return u.setItem(i.name,{state:x,version:i.version})},f=a.setState;a.setState=(x,g)=>{f(x,g),d()};const h=e((...x)=>{r(...x),d()},n,a);a.getInitialState=()=>h;let p;const m=()=>{var x,g;if(!u)return;s=!1,l.forEach(b=>{var y;return b((y=n())!=null?y:h)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(x=n())!=null?x:h))||void 0;return qx(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[_,N]=b;if(p=i.merge(N,(y=n())!=null?y:h),r(p,!0),_)return d()}).then(()=>{v==null||v(p,void 0),p=n(),s=!0,c.forEach(b=>b(p))}).catch(b=>{v==null||v(void 0,b)})};return a.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||m(),p||h},mq=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((dq?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),hq(e,t)):pq(e,t),xq=mq,Yo=uq()(xq(e=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[{id:"1",type:"success",title:"Tâche complétée",message:"La maintenance du système de filtration a été effectuée avec succès.",timestamp:new Date(new Date().getTime()-35*6e4).toISOString(),read:!1,important:!0,category:"task",metadata:{taskId:"task-123"}},{id:"2",type:"info",title:"Employé arrivé",message:"Michel Dupont est arrivé sur le site de production à 8:15.",timestamp:new Date(new Date().getTime()-120*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"3",type:"warning",title:"Tâche en cours",message:"Le nettoyage des bassins est en cours depuis plus de 3 heures.",timestamp:new Date(new Date().getTime()-180*6e4).toISOString(),read:!1,important:!0,category:"task"},{id:"4",type:"alert",title:"Attention requise",message:"Niveau d'oxygène bas dans le bassin 3. Vérification requise.",timestamp:new Date(new Date().getTime()-15*6e4).toISOString(),read:!1,important:!0,category:"quality"},{id:"5",type:"success",title:"Livraison reçue",message:"La livraison de nourriture spéciale a été reçue et enregistrée.",timestamp:new Date(new Date().getTime()-240*6e4).toISOString(),read:!0,important:!1,category:"inventory"},{id:"6",type:"info",title:"Équipe de contrôle arrivée",message:"L'équipe de contrôle qualité est arrivée pour l'inspection mensuelle.",timestamp:new Date(new Date().getTime()-90*6e4).toISOString(),read:!1,important:!1,category:"hr"},{id:"7",type:"success",title:"Mise à jour système",message:"La mise à jour du système de surveillance a été installée avec succès.",timestamp:new Date(new Date().getTime()-320*6e4).toISOString(),read:!0,important:!1,category:"system"},{id:"8",type:"warning",title:"Tâche en retard",message:"Le rapport hebdomadaire de production n'a pas encore été soumis.",timestamp:new Date(new Date().getTime()-420*6e4).toISOString(),read:!1,important:!0,category:"task"}],unreadCount:6,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:t=>e({session:t}),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),addNotification:t=>e(r=>{const n={...t,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...r.notifications,n],unreadCount:r.unreadCount+1}}),markAsRead:t=>e(r=>({notifications:r.notifications.map(n=>n.id===t?{...n,read:!0}:n),unreadCount:r.unreadCount-1})),markAllAsRead:()=>e(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0})),setTheme:t=>e({theme:t}),toggleTheme:()=>e(t=>({theme:t.theme==="dark"?"light":"dark"})),addBatch:t=>e(r=>({batches:[...r.batches,{...t,id:crypto.randomUUID()}]})),updateBatch:t=>e(r=>({batches:r.batches.map(n=>n.id===t.id?t:n)})),deleteBatch:t=>e(r=>({batches:r.batches.filter(n=>n.id!==t)})),setCompanyInfo:t=>e({companyInfo:t}),addUser:t=>e(r=>({users:[...r.users,{...t,id:crypto.randomUUID()}]})),updateUser:(t,r)=>e(n=>({users:n.users.map(a=>a.id===t?{...a,...r}:a)})),deleteUser:t=>e(r=>({users:r.users.filter(n=>n.id!==t)})),addRole:t=>e(r=>({roles:[...r.roles,{...t,id:crypto.randomUUID()}]})),updateRole:(t,r)=>e(n=>({roles:n.roles.map(a=>a.id===t?{...a,...r}:a)})),deleteRole:t=>e(r=>({roles:r.roles.filter(n=>n.id!==t)})),addSupplier:t=>e(r=>({suppliers:[...r.suppliers,{...t,id:crypto.randomUUID()}]})),updateSupplier:(t,r)=>e(n=>({suppliers:n.suppliers.map(a=>a.id===t?{...a,...r}:a)})),deleteSupplier:t=>e(r=>({suppliers:r.suppliers.filter(n=>n.id!==t)})),addPurchase:t=>e(r=>({purchases:[...r.purchases,{...t,id:crypto.randomUUID()}]})),updatePurchase:(t,r)=>e(n=>({purchases:n.purchases.map(a=>a.id===t?{...a,...r}:a)})),deletePurchase:t=>e(r=>({purchases:r.purchases.filter(n=>n.id!==t)})),resetSession:()=>e({session:null})}),{name:"oyster-cult-storage",partialize:e=>({companyInfo:e.companyInfo,users:e.users,batches:e.batches,theme:e.theme,roles:e.roles,suppliers:e.suppliers,purchases:e.purchases})})),gq=({onShowMobileMenu:e,onToggleNotifications:t,onShowEmergency:r,onEmergencyClick:n,onToggleMessages:a,unreadMessagesCount:i=0})=>{const{unreadCount:s}=Yo(),l=uo(),c=X1(),[u,d]=I.useState("/dashboard");I.useEffect(()=>{c.pathname!=="/profile"&&d(c.pathname)},[c.pathname]);const f=()=>{c.pathname!=="/dashboard"&&l("/dashboard")},h=()=>{c.pathname==="/profile"?l(u):l("/profile")};return o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 hidden md:block",children:o.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 md:px-6 lg:px-8 w-full transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.1) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",height:"97px"},children:[o.jsxs("div",{className:"flex items-center h-full",children:[o.jsxs("button",{className:`
              inline-flex items-center justify-center font-medium rounded-lg transition-colors
              text-white/60 hover:text-white hover:bg-white/10
              p-2.5 relative group
              will-change-transform
            `,onClick:e,style:{transform:"translate3d(0,0,0)"},"aria-label":"Ouvrir le menu",children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("div",{style:{width:"24px",height:"24px"},className:"relative flex flex-col justify-center gap-2",children:[o.jsx("div",{className:"h-0.5 w-6 bg-current rounded-full"}),o.jsx("div",{className:"h-0.5 w-6 bg-current rounded-full"}),o.jsx("div",{className:"h-0.5 w-6 bg-current rounded-full"})]})]}),o.jsx("div",{className:"h-full w-px bg-gradient-to-b from-transparent via-white/10 to-transparent ml-2 hidden md:block",style:{transform:"translate3d(0,0,0)",height:"calc(100% - 16px)",marginTop:"8px",willChange:"transform"}})]}),o.jsx(ke.div,{className:"cursor-pointer hidden sm:block",style:{textAlign:"center"},onClick:f,initial:!1,children:o.jsx(ke.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:o.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[o.jsx(ke.div,{className:"flex items-center justify-center relative mx-8",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:o.jsx("div",{className:"flex flex-col items-center relative",children:o.jsx("div",{style:{width:"4.5rem",height:"4rem",transform:"translateX(2px)"},className:"relative flex items-center justify-center"})})}),o.jsxs("div",{className:"flex flex-row items-center space-x-2 relative",children:[o.jsx(ke.span,{className:"text-[4rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.08em",display:"block",color:"white",willChange:"transform",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap"},children:"OYSTER"}),o.jsx(ke.span,{className:"text-[2rem] absolute header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:100,letterSpacing:"0.2em",color:"white",willChange:"transform",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",top:"35px",left:"165px"},children:"CULT"})]})]})})}),o.jsx(ke.div,{className:"absolute left-1/2 cursor-pointer sm:hidden",style:{transform:"translate3d(-50%, 2px, 0)"},onClick:f,initial:!1,children:o.jsx(ke.div,{className:"logo flex flex-col items-center",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px",WebkitFontSmoothing:"antialiased"},children:o.jsxs("div",{className:"relative px-0 py-0 flex items-center",children:[o.jsx(ke.div,{className:"flex items-center justify-center relative mx-2",whileHover:{scale:1.1},transition:{duration:.3},style:{transform:"translateY(0px)"},children:o.jsx("div",{className:"flex flex-col items-center relative",children:o.jsx("div",{style:{width:"2.5rem",height:"2.5rem",transform:"translateX(1px)"},className:"relative flex items-center justify-center",children:o.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,width:"100%",height:"100%"},children:[o.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),o.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),o.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),o.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})})})}),o.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[o.jsx(ke.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"rgba(0,0,0,0.5) 0px 2px 10px",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:1},children:"OYSTER"}),o.jsx(ke.span,{className:"text-[2rem] relative header-title",whileHover:{scale:1.02},transition:{duration:.3},style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"rgba(0,0,0,0.5) 0px 2px 10px",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translate3d(0, 45px, 0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",lineHeight:1},children:"CULT"})]})]})})}),o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:h,"aria-label":c.pathname==="/profile"?"Retour à la page précédente":"Mon espace",style:{transform:"translate3d(0,0,0)"},children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsx(Ux,{size:26,className:c.pathname==="/profile"?"text-cyan-400":"text-white"})]}),o.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:a,"aria-label":"Afficher les messages",style:{transform:"translate3d(0,0,0)"},children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-messages-square",children:[o.jsx("path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"}),o.jsx("path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"})]}),i>0&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-xs font-bold text-white shadow-[0_0_15px_rgba(0,210,255,0.5),0_0_5px_rgba(0,0,0,0.3)_inset] min-w-[20px] min-h-[20px]",children:i})]}),o.jsxs("button",{className:`
                inline-flex items-center justify-center font-medium rounded-lg transition-all
                text-white hover:text-white hover:bg-white/20
                p-3 relative group
                will-change-transform
                shadow-[0_0_15px_rgba(255,255,255,0.3)]
                border border-white/30 bg-white/10
              `,onClick:t,"aria-label":"Afficher les notifications",style:{transform:"translate3d(0,0,0)"},children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-bell",children:[o.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),o.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),s>0&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-cyan-500 text-xs font-bold text-white shadow-[0_0_10px_rgba(0,210,255,0.5)]",children:s})]})]})})]})})},vq={Principal:{color:"from-blue-500/30 to-blue-600/10",textColor:"text-blue-300"},"Gestion des stocks":{color:"from-green-500/30 to-green-600/10",textColor:"text-green-300"},Commercial:{color:"from-purple-500/30 to-purple-600/10",textColor:"text-purple-300"},Administration:{color:"from-amber-500/30 to-amber-600/10",textColor:"text-amber-300"},Surveillance:{color:"from-red-500/30 to-red-600/10",textColor:"text-red-300"}},$E=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:o.jsx(Xy,{size:22})},{path:"/tasks",label:"Tâches",icon:o.jsx(oW,{size:22})},{path:"/analyses",label:"Analyses",icon:o.jsx(Hn,{size:22}),highlight:!0,color:"#0d9488"}]},{category:"Gestion des stocks",items:[{path:"/stocks",label:"Stocks",icon:o.jsx(xa,{size:22}),notifications:1},{path:"/traceability",label:"Traçabilité",icon:o.jsx(d0,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:o.jsx(Tp,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:o.jsx(Wh,{size:22})},{path:"/purchases",label:"Commandes",icon:o.jsx(K1,{size:22}),color:"#3b82f6"},{path:"/sales",label:"Ventes",icon:o.jsx(Hx,{size:22})},{path:"/shop",label:"Boutique",icon:o.jsx(YI,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:o.jsx(lW,{size:22}),notifications:2,color:"rgb(160, 38, 72)"},{path:"/hr",label:"Gestion RH",icon:o.jsx(xs,{size:22}),notifications:2,color:"rgb(160, 38, 72)"},{path:"/digital-vault",label:"Coffre fort numérique",icon:o.jsx(eb,{size:22}),color:"rgb(56, 189, 248)"}]},{category:"Surveillance",items:[{path:"/surveillance",label:"Surveillance",icon:o.jsx(Op,{size:22}),ariaLabel:"Accéder à la surveillance vidéo"}]}];function bq({showMobileMenu:e,onCloseMobileMenu:t,onEmergencyClick:r,onToggleMessages:n,onToggleNotifications:a}){const i=X1(),s=uo(),{setSession:l}=Yo(),[c,u]=I.useState(!1),[d,f]=I.useState(null),[h,p]=I.useState(null),[m,x]=I.useState(!1),[g,v]=I.useState(window.innerWidth<1024),[b,y]=I.useState(!0);I.useEffect(()=>{const F=setTimeout(()=>{y(!1)},300);return()=>clearTimeout(F)},[]),I.useEffect(()=>{const F=window.innerWidth;F>=1024&&F<=1690&&u(!0)},[i.pathname]),I.useEffect(()=>{const F=()=>{const O=window.innerWidth<1024;v(O),g&&!O&&(u(!1),x(!1),e&&t());const E=window.innerWidth;E>=1024&&E<=1690&&u(!0)};return window.addEventListener("resize",F),F(),()=>window.removeEventListener("resize",F)},[g,e,t]);const _=()=>{l(null),s("/auth")},N=()=>{x(!0),u(!c),setTimeout(()=>x(!1),300)},S={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:F=>({opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{delay:F*.03+.1,duration:.3,type:"spring",stiffness:300,damping:25}})},j={hidden:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap"},visible:{opacity:1,x:0,overflow:"visible",whiteSpace:"nowrap",transition:{opacity:{duration:.3},x:{duration:.2,type:"spring",stiffness:300}}},exit:{opacity:0,x:-20,overflow:"hidden",whiteSpace:"nowrap",transition:{opacity:{duration:.2},x:{duration:.2}}}},A={expanded:{width:"260px",transition:{type:"spring",stiffness:300,damping:30}},collapsed:{width:"90px",transition:{type:"spring",stiffness:300,damping:30}},mobileHidden:{transform:"translateX(-100%)",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{transform:"translateX(0)",width:"85vw",maxWidth:"300px",transition:{type:"spring",stiffness:400,damping:30}}},T={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.2}}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`
          fixed inset-0 z-40 backdrop-blur-sm bg-black/50 lg:hidden
          ${e?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:t}),o.jsx(ke.div,{className:`
          fixed inset-y-0 left-0 z-50 overflow-x-hidden
          transition-all duration-300 ease-in-out rounded-tr-3xl rounded-br-3xl
          ${g?"hidden lg:block":""}
          sidebar-auto-collapse
        `,initial:!b,animate:c?"collapsed":"expanded",variants:A,transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(ke.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,transform:"translateY(-10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent opacity-50"}),o.jsx(Ir,{mode:"wait",children:c?o.jsx(ke.div,{className:"flex items-center justify-center w-full py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):o.jsx(ke.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"relative z-10"})})},"expanded-logo")}),o.jsx("div",{className:`flex justify-center ${c?"w-full":""}`,children:o.jsx(ke.button,{onClick:N,className:`
                  rounded-lg hidden lg:flex items-center justify-center transition-all duration-300 relative z-10
                  p-2.5 bg-white/15 hover:bg-white/25 border border-white/20
                `,whileHover:{scale:1.1},whileTap:{scale:.95},disabled:m||g,"aria-label":c?"Déplier la barre latérale":"Replier la barre latérale",style:{display:g?"none":""},children:o.jsx("div",{className:"flex items-center",children:c?o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:o.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:o.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})})]}),o.jsx("nav",{className:"flex-1 space-y-2 md:space-y-4 p-3 md:p-4 overflow-y-auto custom-scrollbar",children:$E.map((F,O)=>{const E=vq[F.category];return o.jsxs(ke.div,{className:"mb-8",initial:{opacity:0,transform:"translateY(20px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.3,delay:.1+O*.05},onMouseEnter:()=>f(F.category),onMouseLeave:()=>f(null),children:[o.jsx(Ir,{children:!c&&o.jsxs(ke.div,{className:"px-4 mb-3 relative rounded-lg overflow-hidden",initial:b?{opacity:1,x:0}:"hidden",animate:"visible",exit:"exit",variants:j,whileHover:{scale:1.02},children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${E.color} opacity-0 rounded-lg ${d===F.category?"opacity-30":""} transition-opacity duration-300`}),o.jsx("p",{className:`text-xs font-medium ${E.textColor} uppercase tracking-wider relative z-10 whitespace-nowrap`,children:F.category})]})}),o.jsx("div",{className:"space-y-2",children:F.items.map((L,B)=>{const G=i.pathname===L.path,z=L.color||(E.textColor.includes("blue")?"#3b82f6":E.textColor.includes("green")?"#10b981":E.textColor.includes("purple")?"#8b5cf6":E.textColor.includes("amber")?"#f59e0b":"#06b6d4");return o.jsx(ke.div,{custom:B,variants:S,initial:b?{opacity:1,x:0}:"hidden",animate:"visible",whileHover:{scale:1.03,transition:{duration:.2}},onMouseEnter:()=>p(L.path),onMouseLeave:()=>p(null),children:o.jsxs(AE,{to:L.path,className:`
                              relative flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                              transition-all duration-200 ease-in-out overflow-hidden
                              ${G?"bg-white/10 text-white shadow-[0_0_12px_rgba(255,255,255,0.1)]":"text-white/70 hover:bg-white/8 hover:text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.07)]"}
                            `,style:{background:G?"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:G?"rgba(0, 0, 0, 0.3) 0px 4px 8px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset, rgba(0, 0, 0, 0.5) 0px 2px 4px inset, rgba(255, 255, 255, 0.1) 0px 0px 8px":"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset",border:"none",transform:G?"translateY(-1px)":"none"},children:[o.jsx("div",{className:`
                                relative z-10 transition-all duration-200
                                flex items-center justify-center w-7 h-7 rounded-full
                                ${c?"mx-auto":"mr-3"}
                                ${G?"bg-white/15 text-white":"text-white/70 group-hover:text-white"}
                              `,style:{boxShadow:G?"rgba(0, 0, 0, 0.3) 0px 2px 4px 0px, rgba(255, 255, 255, 0.2) 0px 1px 2px 0px inset":"none"},children:L.icon&&K.cloneElement(L.icon,{className:`${c?"w-5 h-5":"w-4 h-4"}`,style:{color:G?z:"",filter:G?"drop-shadow(0 0 2px rgba(255,255,255,0.3))":""}})}),o.jsx(Ir,{children:!c&&o.jsxs(ke.div,{className:"flex-1 flex items-center justify-between",children:[o.jsx(ke.span,{className:`ml-2 md:ml-3 relative z-10 ${G?"font-medium":""} whitespace-nowrap`,variants:T,initial:"hidden",animate:"visible",exit:"hidden",children:L.label}),L.notifications>0&&o.jsx("div",{className:"ml-auto min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-[#00D1FF] to-[#0047FF] flex items-center justify-center text-xs font-medium text-white shadow-lg",children:L.notifications})]})}),c&&o.jsx(Ir,{children:h===L.path&&o.jsxs(ke.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`
                                      absolute left-14 px-4 py-2 rounded-lg z-50
                                      text-sm font-medium whitespace-nowrap
                                      bg-gradient-to-r 
                                      ${E.color.replace("/30","/70").replace("/10","/40")} 
                                      backdrop-blur-sm border border-white/10
                                    `,style:L.color?{boxShadow:`0 0 10px ${L.color}50`,background:`linear-gradient(to right, ${L.color}30, ${L.color}05)`}:{},children:[o.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 rotate-45",style:{background:L.color?`${L.color}30`:E.textColor.includes("blue")?"rgba(59,130,246,0.3)":E.textColor.includes("green")?"rgba(16,185,129,0.3)":E.textColor.includes("purple")?"rgba(139,92,246,0.3)":E.textColor.includes("amber")?"rgba(245,158,11,0.3)":"rgba(6,182,212,0.3)"}}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-white font-medium",children:L.label}),L.notifications>0&&o.jsx("div",{className:"ml-2 min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-[#00D1FF] to-[#0047FF] flex items-center justify-center text-xs font-medium text-white shadow-lg",children:L.notifications})]})]})}),G&&o.jsx(ke.div,{className:"absolute left-0 w-1.5 h-8 rounded-r-md",style:{background:`linear-gradient(to bottom, ${L.color||(E.textColor.includes("blue")?"#3b82f6":E.textColor.includes("green")?"#10b981":E.textColor.includes("purple")?"#8b5cf6":E.textColor.includes("amber")?"#f59e0b":"#06b6d4")}, transparent)`},initial:{height:0},animate:{height:24},transition:{duration:.2}})]})},L.path)})})]},O)})}),o.jsx(ke.div,{className:"p-4 border-t border-white/10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:o.jsxs("div",{className:"flex flex-col space-y-3",children:[o.jsxs(ke.button,{onClick:r,className:`
                  flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  relative group w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},style:{background:"linear-gradient(135deg, rgba(220, 38, 38, 0.95) 0%, rgba(185, 28, 28, 0.85) 100%)",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.35), inset 0 1px 3px rgba(255, 255, 255, 0.2)"},"aria-label":"Appel d'urgence",children:[o.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${c?"mx-auto":"mr-3"}
                  bg-white/15 text-white
                `,children:o.jsx(Ds,{className:"w-4 h-4"})}),!c&&o.jsx("span",{className:"font-medium",children:"Appel d'urgence"})]}),o.jsxs(ke.button,{onClick:_,className:`
                  flex items-center ${c?"justify-center":""} px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                  transition-all duration-200 ease-in-out overflow-hidden
                  bg-white/10 hover:bg-white/15 text-white/80 hover:text-white w-full
                `,whileHover:{scale:1.03},whileTap:{scale:.97},"aria-label":"Se déconnecter",children:[o.jsx("div",{className:`
                  relative z-10 transition-all duration-200
                  flex items-center justify-center w-7 h-7 rounded-full
                  ${c?"mx-auto":"mr-3"}
                  text-white/70 group-hover:text-white
                `,children:o.jsx(CE,{className:"w-4 h-4"})}),!c&&o.jsx("span",{className:"font-medium",children:"Déconnexion"})]})]})})]})}),e&&o.jsx(ke.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"fixed inset-0 z-50 bg-black/70 lg:hidden",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:o.jsx("div",{className:"absolute inset-y-0 left-0 w-full max-w-xs",children:o.jsx(ke.div,{className:"h-full overflow-y-auto rounded-tr-3xl rounded-br-3xl",initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",borderRight:"none",zIndex:60},children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-white/10",children:[o.jsxs("div",{className:"text-white flex items-center",children:[o.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:200,letterSpacing:"0.08em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"OYSTER"}),o.jsx("span",{style:{fontFamily:'"TT Modernoir", sans-serif',fontWeight:400,letterSpacing:"0.1em",display:"block",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2), 0 0 80px rgba(255,255,255,0.1)",filter:"drop-shadow(0 8px 8px rgba(0,0,0,0.4))",opacity:1,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)",WebkitFontSmoothing:"antialiased",marginLeft:"0.5rem",whiteSpace:"nowrap",fontSize:"1.5rem"},children:"CULT"})]}),o.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 text-white flex items-center justify-center",children:o.jsx(Gt,{className:"w-6 h-6"})})]}),o.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:$E.map((F,O)=>o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-xs font-medium text-white/70 uppercase tracking-wider px-4 mb-2",children:F.category}),o.jsx("div",{className:"space-y-1",children:F.items.map(E=>{const L=i.pathname===E.path;return o.jsxs(AE,{to:E.path,className:`
                                flex items-center px-4 py-3 rounded-lg text-sm
                                ${L?"bg-white/20 text-white":"text-white/70 hover:bg-white/10 hover:text-white"}
                              `,onClick:t,children:[E.icon&&K.cloneElement(E.icon,{className:"w-5 h-5 mr-3"}),o.jsx("span",{children:E.label})]},E.path)})})]},O))}),o.jsxs("div",{className:"p-4 pt-2 border-t border-white/10 space-y-3",children:[o.jsxs("button",{onClick:()=>{r(),t()},className:"flex items-center justify-center w-full px-4 py-3 bg-red-600 rounded-lg text-white",children:[o.jsx(Ds,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:"Appel d'urgence"})]}),o.jsxs("button",{onClick:_,className:"flex items-center justify-center w-full px-4 py-3 bg-white/10 rounded-lg text-white",children:[o.jsx(CE,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:"Déconnexion"})]})]})]})})})})]})}function un(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function vd(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yq(e,t){const r=un(e);return isNaN(t)?vd(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const NM=6048e5,wq=864e5,_q=36e5;let Nq={};function rw(){return Nq}function qh(e,t){var l,c,u,d;const r=rw(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=un(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function ab(e){return qh(e,{weekStartsOn:1})}function jM(e){const t=un(e),r=t.getFullYear(),n=vd(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ab(n),i=vd(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=ab(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function ib(e){const t=un(e);return t.setHours(0,0,0,0),t}function zE(e){const t=un(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jq(e,t){const r=ib(e),n=ib(t),a=+r-zE(r),i=+n-zE(n);return Math.round((a-i)/wq)}function Sq(e){const t=jM(e),r=vd(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ab(r)}function SM(e,t){const r=t*7;return yq(e,r)}function p_(e,t){const r=un(e),n=un(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Aq(e,t){const r=ib(e),n=ib(t);return+r==+n}function Cq(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Eq(e){if(!Cq(e)&&typeof e!="number")return!1;const t=un(e);return!isNaN(Number(t))}function kq(e,t){const r=un(e),n=un(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Tq(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Oq(e,t){return+un(e)-+un(t)}function Pq(e,t,r){const n=Oq(e,t)/_q;return Tq(r==null?void 0:r.roundingMethod)(n)}function Dq(e){const t=un(e);return t.setHours(23,59,59,999),t}function Iq(e){const t=un(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Mq(e){const t=un(e);return+Dq(t)==+Iq(t)}function Fq(e,t){const r=un(e),n=un(t),a=p_(r,n),i=Math.abs(kq(r,n));let s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=p_(r,n)===-a;Mq(un(e))&&i===1&&p_(e,n)===1&&(l=!1),s=a*(i-Number(l))}return s===0?0:s}function Rq(e,t){const r=un(e.start),n=un(e.end);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=i;)c.push(un(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return a?c.reverse():c}function Lq(e){const t=un(e),r=vd(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Bq(e,t){const r=t==null?void 0:t.weekStartsOn,n=un(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const $q={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zq=(e,t,r)=>{let n;const a=$q[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Uq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vq={date:Vc({formats:Uq,defaultWidth:"full"}),time:Vc({formats:Hq,defaultWidth:"full"}),dateTime:Vc({formats:Wq,defaultWidth:"full"})},qq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gq=(e,t,r,n)=>qq[e];function Wl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Yq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eG=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tG={ordinalNumber:eG,era:Wl({values:Yq,defaultWidth:"wide"}),quarter:Wl({values:Xq,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wl({values:Kq,defaultWidth:"wide"}),day:Wl({values:Qq,defaultWidth:"wide"}),dayPeriod:Wl({values:Jq,defaultWidth:"wide",formattingValues:Zq,defaultFormattingWidth:"wide"})};function Vl(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?nG(l,f=>f.test(s)):rG(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function rG(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nG(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function AM(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const aG=/^(\d+)(th|st|nd|rd)?/i,iG=/\d+/i,sG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oG={any:[/^b/i,/^(a|c)/i]},lG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cG={any:[/1/i,/2/i,/3/i,/4/i]},uG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xG={ordinalNumber:AM({matchPattern:aG,parsePattern:iG,valueCallback:e=>parseInt(e,10)}),era:Vl({matchPatterns:sG,defaultMatchWidth:"wide",parsePatterns:oG,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:lG,defaultMatchWidth:"wide",parsePatterns:cG,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vl({matchPatterns:uG,defaultMatchWidth:"wide",parsePatterns:dG,defaultParseWidth:"any"}),day:Vl({matchPatterns:fG,defaultMatchWidth:"wide",parsePatterns:hG,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:pG,defaultMatchWidth:"any",parsePatterns:mG,defaultParseWidth:"any"})},gG={code:"en-US",formatDistance:zq,formatLong:Vq,formatRelative:Gq,localize:tG,match:xG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vG(e){const t=un(e);return jq(t,Lq(t))+1}function bG(e){const t=un(e),r=+ab(t)-+Sq(t);return Math.round(r/NM)+1}function CM(e,t){var d,f,h,p;const r=un(e),n=r.getFullYear(),a=rw(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=vd(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=qh(s,t),c=vd(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=qh(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function yG(e,t){var l,c,u,d;const r=rw(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=CM(e,t),i=vd(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),qh(i,t)}function wG(e,t){const r=un(e),n=+qh(r,t)-+yG(r,t);return Math.round(n/NM)+1}function Kr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Iu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Kr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Kr(r+1,2)},d(e,t){return Kr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Kr(e.getHours()%12||12,t.length)},H(e,t){return Kr(e.getHours(),t.length)},m(e,t){return Kr(e.getMinutes(),t.length)},s(e,t){return Kr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Kr(a,t.length)}},Hf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Iu.y(e,t)},Y:function(e,t,r,n){const a=CM(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Kr(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Kr(i,t.length)},R:function(e,t){const r=jM(e);return Kr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Kr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Kr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Kr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Iu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Kr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=wG(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Kr(a,t.length)},I:function(e,t,r){const n=bG(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Kr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Iu.d(e,t)},D:function(e,t,r){const n=vG(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Kr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Kr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Kr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Kr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Hf.noon:n===0?a=Hf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Hf.evening:n>=12?a=Hf.afternoon:n>=4?a=Hf.morning:a=Hf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Iu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Iu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Kr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Kr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Iu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Iu.s(e,t)},S:function(e,t){return Iu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return WE(n);case"XXXX":case"XX":return e0(n);case"XXXXX":case"XXX":default:return e0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return WE(n);case"xxxx":case"xx":return e0(n);case"xxxxx":case"xxx":default:return e0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+HE(n,":");case"OOOO":default:return"GMT"+e0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+HE(n,":");case"zzzz":default:return"GMT"+e0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Kr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Kr(n,t.length)}};function HE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Kr(i,2)}function WE(e,t){return e%60===0?(e>0?"-":"+")+Kr(Math.abs(e)/60,2):e0(e,t)}function e0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Kr(Math.trunc(n/60),2),i=Kr(n%60,2);return r+a+t+i}const VE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},EM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_G=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return VE(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",VE(n,t)).replace("{{time}}",EM(a,t))},NG={p:EM,P:_G},jG=/^D+$/,SG=/^Y+$/,AG=["D","DD","YY","YYYY"];function CG(e){return jG.test(e)}function EG(e){return SG.test(e)}function kG(e,t,r){const n=TG(e,t,r);if(console.warn(n),AG.includes(e))throw new RangeError(n)}function TG(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DG=/^'([^]*?)'?$/,IG=/''/g,MG=/[a-zA-Z]/;function er(e,t,r){var d,f,h,p,m,x,g,v;const n=rw(),a=(r==null?void 0:r.locale)??n.locale??gG,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=un(e);if(!Eq(l))throw new RangeError("Invalid time value");let c=t.match(PG).map(b=>{const y=b[0];if(y==="p"||y==="P"){const _=NG[y];return _(b,a.formatLong)}return b}).join("").match(OG).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:FG(b)};if(UE[y])return{isToken:!0,value:b};if(y.match(MG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&EG(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&CG(y))&&kG(y,t,String(e));const _=UE[y[0]];return _(l,y,a.localize,u)}).join("")}function FG(e){const t=e.match(DG);return t?t[1].replace(IG,"'"):e}function RG(e,t){return SM(e,-t)}const LG={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},kM=(e,t,r)=>{let n;const a=LG[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},BG={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},$G={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},zG={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UG={date:Vc({formats:BG,defaultWidth:"full"}),time:Vc({formats:$G,defaultWidth:"full"}),dateTime:Vc({formats:zG,defaultWidth:"full"})},HG={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},TM=(e,t,r,n)=>HG[e],WG={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},VG={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},qG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},GG={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},YG={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},XG=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"ère":"er":i="ème",r+i},KG=["MMM","MMMM"],OM={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&KG.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:XG,era:Wl({values:WG,defaultWidth:"wide"}),quarter:Wl({values:VG,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wl({values:qG,defaultWidth:"wide"}),day:Wl({values:GG,defaultWidth:"wide"}),dayPeriod:Wl({values:YG,defaultWidth:"wide"})},QG=/^(\d+)(ième|ère|ème|er|e)?/i,JG=/\d+/i,ZG={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},eY={any:[/^av/i,/^ap/i]},tY={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},rY={any:[/1/i,/2/i,/3/i,/4/i]},nY={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},aY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},iY={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},sY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},oY={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},lY={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},PM={ordinalNumber:AM({matchPattern:QG,parsePattern:JG,valueCallback:e=>parseInt(e)}),era:Vl({matchPatterns:ZG,defaultMatchWidth:"wide",parsePatterns:eY,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:tY,defaultMatchWidth:"wide",parsePatterns:rY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vl({matchPatterns:nY,defaultMatchWidth:"wide",parsePatterns:aY,defaultParseWidth:"any"}),day:Vl({matchPatterns:iY,defaultMatchWidth:"wide",parsePatterns:sY,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:oY,defaultMatchWidth:"any",parsePatterns:lY,defaultParseWidth:"any"})},xn={code:"fr",formatDistance:kM,formatLong:UG,formatRelative:TM,localize:OM,match:PM,options:{weekStartsOn:1,firstWeekContainsDate:4}},cY={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"yy-MM-dd"},uY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dY={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fY={date:Vc({formats:cY,defaultWidth:"full"}),time:Vc({formats:uY,defaultWidth:"full"}),dateTime:Vc({formats:dY,defaultWidth:"full"})},hY={code:"fr-CA",formatDistance:kM,formatLong:fY,formatRelative:TM,localize:OM,match:PM,options:{weekStartsOn:0,firstWeekContainsDate:1}},pY=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function mY({onClose:e}){const{notifications:t,markAsRead:r,markAllAsRead:n,addNotification:a}=Yo(),[i,s]=I.useState("all"),[l,c]=I.useState(""),[u,d]=I.useState(!1);I.useState(null);const f=I.useMemo(()=>t.filter(x=>!x.read).length,[t]);I.useEffect(()=>{const x=g=>{g.key==="Escape"&&e()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e]),I.useEffect(()=>{const x=g=>{const v=document.querySelector(".notifications-panel"),b=document.querySelector('[data-notification-bell="true"]');b&&b.contains(g.target)||v&&!v.contains(g.target)&&e()};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[e]);const h=x=>{r(x)},p=(x,g)=>{g.stopPropagation();const v=t.find(b=>b.id===x);v&&(a({type:v.type,title:v.title,message:v.message,important:!v.important,category:v.category,metadata:v.metadata}),r(x))},m=(x,g)=>{g.stopPropagation(),r(x)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50",onClick:e,"aria-hidden":"true"}),o.jsx(ke.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md backdrop-blur-md shadow-2xl z-[51] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},style:{background:"linear-gradient(135deg, rgba(5, 20, 43, 0.92) 0%, rgba(10, 120, 115, 0.88) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) -10px 0px 30px -5px, rgba(0, 0, 0, 0.3) -5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs(ke.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Wx,{size:24,className:"text-brand-burgundy"}),f>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:f})]}),o.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!u),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:o.jsx(Da,{size:20})}),o.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:o.jsx(Gt,{size:20})})]})]}),o.jsx(Ir,{children:u&&o.jsx(ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsxs("div",{className:"relative mt-4",children:[o.jsx(Da,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"26%"},"aria-label":"Search icon"}),o.jsx("input",{type:"text",value:l,onChange:x=>c(x.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("div",{className:"flex space-x-2",children:pY.map(x=>o.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(x.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${i===x.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:x.label},x.value))}),o.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:o.jsx(Ir,{mode:"popLayout",children:t.filter(x=>i==="unread"?!x.read:i==="important"?x.important:!0).filter(x=>l?x.title.toLowerCase().includes(l.toLowerCase())||x.message.toLowerCase().includes(l.toLowerCase()):!0).map((x,g)=>o.jsx(ke.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:g*.05},className:`p-4 transition-colors relative cursor-pointer hover:bg-white/10 ${x.read?"bg-transparent":"bg-white/5 shadow-[0_0_15px_rgba(0,210,255,0.2),0_0_8px_rgba(0,0,0,0.2)_inset] border border-cyan-400/40 hover:border-cyan-400/60 rounded-xl"}`,onClick:()=>h(x.id),tabIndex:0,role:"button","aria-label":`Notification: ${x.title}. ${x.read?"Lu":"Non lu"}`,onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&h(x.id)},children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x.type==="alert"?"bg-red-500/20":x.type==="success"?"bg-green-500/20":x.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:x.type==="alert"?o.jsx(Ai,{className:"text-red-400",size:20}):x.type==="success"?o.jsx(Pp,{className:"text-green-400",size:20}):x.type==="warning"?o.jsx(Ai,{className:"text-yellow-400",size:20}):o.jsx(Wx,{className:"text-blue-400",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{children:[o.jsx("h3",{className:`font-medium ${x.type==="alert"?"text-red-400":x.type==="success"?"text-green-400":x.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:x.title}),o.jsx("p",{className:"text-sm text-white/70 mt-1",children:x.message})]})}),o.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(di,{size:14,className:"mr-1"}),er(new Date(x.timestamp),"PPp",{locale:xn})]}),x.important&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:"•"}),o.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),o.jsxs("div",{className:"flex space-x-1",children:[x.read?o.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-transparent text-white/40 hover:text-white/60 transition-colors rounded-full hover:bg-white/5","aria-label":"Déjà lu",title:"Déjà lu",children:o.jsx(uN,{size:16})}):o.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>{v.stopPropagation(),h(x.id)},className:"p-2 bg-brand-burgundy/20 text-white/80 hover:text-white transition-colors rounded-full hover:bg-brand-burgundy/40","aria-label":"Marquer comme lu",title:"Marquer comme lu",children:o.jsx(uN,{size:16})}),o.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-full ${x.important?"bg-brand-burgundy/20 text-brand-burgundy hover:bg-brand-burgundy/40":"bg-transparent text-white/40 hover:text-white/60 hover:bg-white/5"}`,onClick:v=>p(x.id,v),"aria-label":x.important?"Retirer des importants":"Marquer comme important",title:x.important?"Retirer des importants":"Marquer comme important",children:o.jsx(Is,{size:16})}),o.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:v=>m(x.id,v),className:"p-2 bg-transparent text-white/40 hover:text-red-400 transition-colors rounded-full hover:bg-white/5","aria-label":"Supprimer",title:"Supprimer",children:o.jsx(Ei,{size:16})})]})]})},x.id))})})]})})]})}const tg=e=>{const t=I.useRef(null);return I.useEffect(()=>{const r=n=>{t.current&&!t.current.contains(n.target)&&(n.target.closest(".modal-container")||e())};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),t},xY=(e,t)=>{const[r,n]=I.useState(0),[a,i]=I.useState(0),[s,l]=I.useState(0),[c,u]=I.useState(!1);return{handlers:{onTouchStart:p=>{n(p.touches[0].clientY),i(Date.now())},onTouchMove:async p=>{if(c)return;const x=p.touches[0].clientY-r,g=Date.now()-a;if(x>100&&g<300&&e){u(!0);try{await e()}finally{u(!1)}}},onTouchEnd:p=>{const m=Date.now();m-s<300&&t&&t(),l(m)}},isRefreshing:c}};let Av=0;const gY={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function Gi({isOpen:e,onClose:t,children:r,title:n,size:a="md",showCloseButton:i=!0,className:s=""}){const l=tg(t),c=I.useRef(0);return I.useEffect(()=>(e&&(Av+=1,c.current=9e3+Av),()=>{e&&(Av-=1)}),[e]),I.useEffect(()=>{const u=d=>{d.key==="Escape"&&c.current===9e3+Av&&t()};return e&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[e,t]),o.jsx(Ir,{children:e&&o.jsxs("div",{className:"fixed inset-0",style:{zIndex:c.current},children:[o.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),o.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs(ke.div,{ref:l,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`modal-container w-full ${gY[a]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${s}`,onClick:u=>u.stopPropagation(),children:[(n||i)&&o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[n&&o.jsx("h2",{className:"text-xl font-bold text-white",children:n}),i&&o.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsx("div",{className:"p-6",children:r})]})})})]})})}function vY({isOpen:e,onClose:t}){const r=new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsx(Gi,{isOpen:e,onClose:t,title:"Signal envoyé",size:"lg",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:o.jsxs("div",{className:"p-6 space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-cyan-400 mb-2",children:"Appel d'urgence activé"}),o.jsx("p",{className:"text-white/70",children:"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fi,{className:"w-5 h-5 text-cyan-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-white",children:"Localisation"}),o.jsx("div",{className:"text-white/70",children:"Position GPS transmise automatiquement"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(di,{className:"w-5 h-5 text-cyan-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-white",children:"Heure de l'appel"}),o.jsx("div",{className:"text-white/70",children:r})]})]})]})]}),o.jsxs("div",{className:"flex flex-col mt-8",children:[o.jsx("button",{onClick:()=>{t()},className:"w-full px-8 py-5 bg-white rounded-full text-red-500 text-xl hover:bg-white/90 focus:ring-2 focus:ring-red-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fausse alerte - Tout va bien"}),o.jsx("button",{onClick:t,className:"w-full px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fermer"})]})]})})}function bY({isOpen:e,onClose:t,onSignalSent:r}){return o.jsx(Gi,{isOpen:e,onClose:t,title:"Signalement de panne",size:"lg",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-full",children:o.jsx(uW,{className:"w-8 h-8 text-cyan-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-cyan-400 mb-2",children:"Besoin d'assistance technique ?"}),o.jsx("p",{className:"text-white/70",children:"Nous allons notifier les producteurs à proximité de votre position. Un professionnel viendra vous aider dès que possible."})]})]}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{onClick:t,className:"px-6 py-3 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>{r(),t()},className:"px-6 py-3 bg-cyan-500/20 text-cyan-400 rounded-full hover:bg-cyan-500/30 transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Envoyer le signal"})]})]})})}function yY({isOpen:e,onClose:t,onConfirm:r}){return o.jsx(Gi,{isOpen:e,onClose:t,title:"Confirmation",size:"sm",className:"!bg-gradient-to-br !from-cyan-900/95 !to-brand-dark/95",children:o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-red-500/20 rounded-full",children:o.jsx(XI,{className:"w-8 h-8 text-red-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Confirmer l'annulation"}),o.jsx("p",{className:"text-white/70",children:"Êtes-vous certain(e) que tout va bien et qu'il s'agit d'une fausse alerte ?"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:t,className:"px-6 py-3 bg-white/5 text-white/70 rounded-lg hover:bg-white/10 transition-all duration-300",children:"Retour"}),o.jsx("button",{onClick:()=>{r(),t()},className:"px-6 py-3 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-all duration-300 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(255,0,0,0.2)]",children:"Confirmer"})]})]})})}function wY({isOpen:e,onClose:t}){const[r,n]=I.useState("");I.useState("");const[a,i]=I.useState(""),[s,l]=I.useState(8),[c,u]=I.useState(!0),[d,f]=I.useState(!1),[h,p]=I.useState(!1),[m,x]=I.useState(!1),[g,v]=I.useState(!1),[b,y]=I.useState(!1);I.useEffect(()=>{let j;return e&&c&&s>0?j=setTimeout(()=>{l(A=>A-1)},1e3):s===0&&(y(!0),u(!1)),()=>{j&&clearTimeout(j)}},[e,s,c]),I.useEffect(()=>{e&&(l(8),u(!0),f(!1),y(!1))},[e]);const _=I.useCallback(()=>{u(!1),f(!0)},[]),N=I.useCallback(()=>{p(!0)},[]);I.useCallback(()=>{y(!0)},[]);const S=I.useCallback(()=>{y(!1),t()},[t]);return b?o.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:r==="boatIssue"?o.jsx(cW,{className:"text-red-600 h-12 w-12"}):o.jsx(Ai,{className:"text-red-600 h-12 w-12"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:r==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),o.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:r==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),o.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(fi,{className:"text-white mr-3",size:24}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),o.jsx("p",{className:"text-white/70",children:a||"Position GPS transmise automatiquement"})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(di,{className:"text-white mr-3",size:24}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),o.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("button",{onClick:()=>v(!0),className:"w-full px-8 py-5 bg-white rounded-full text-red-500 text-xl hover:bg-white/90 focus:ring-2 focus:ring-red-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fausse alerte - Tout va bien"}),o.jsx("button",{onClick:S,className:"w-full px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1",children:"Fermer"})]})]}):o.jsxs(o.Fragment,{children:[e&&o.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80",role:"dialog","aria-modal":"true","aria-label":"Appel d'urgence",children:[o.jsx("div",{className:"bg-red-600 !rounded-full !p-0 w-[800px] aspect-square flex items-center justify-center mb-8","aria-live":"polite","aria-atomic":"true",children:o.jsx("div",{className:"w-[600px] h-[600px] rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-[300px] font-bold text-white","aria-label":`Compte à rebours : ${s} secondes`,children:s})})}),o.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-lg",children:[c?o.jsx("button",{onClick:_,className:"w-full px-8 py-5 bg-cyan-500/20 text-cyan-400 rounded-full text-xl hover:bg-cyan-500/30 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Arrêter le compte à rebours"}):o.jsx("button",{onClick:()=>y(!0),className:"w-full px-8 py-5 bg-red-500 text-white rounded-full text-xl hover:bg-red-600 focus:ring-2 focus:ring-red-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(255,0,0,0.25),0_0_15px_rgba(255,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(255,0,0,0.3),0_0_20px_rgba(255,0,0,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Je suis en danger"}),d&&o.jsx("button",{onClick:N,className:"w-full px-8 py-5 bg-cyan-500/20 text-cyan-400 rounded-full text-xl hover:bg-cyan-500/30 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transform hover:-translate-y-1",children:"Je suis en panne"}),o.jsx("button",{onClick:t,className:"w-full mt-4 px-8 py-5 bg-white/5 rounded-full text-white/70 text-xl hover:bg-white/10 focus:ring-2 focus:ring-cyan-500/40 focus:outline-none transition-all duration-300 font-medium shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] transform hover:-translate-y-1","aria-label":"Fermer la modale d'urgence",children:"Annuler"})]})]}),o.jsx(bY,{isOpen:h,onClose:()=>p(!1),onSignalSent:()=>x(!0)}),o.jsx(vY,{isOpen:m,onClose:()=>x(!1)}),o.jsx(yY,{isOpen:g,onClose:()=>v(!1),onConfirm:()=>{S(),v(!1),t()}})]})}function mn({variant:e="primary",size:t="md",fullWidth:r=!1,className:n="",children:a,...i}){const s="inline-flex items-center justify-center font-medium rounded-lg transition-colors",l={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return o.jsx("button",{...i,className:`
        ${s}
        ${l[e]}
        ${c[t]}
        ${r?"w-full":""}
        ${n}
      `,children:a})}function _Y(){const[e,t]=I.useState([]);return o.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:o.jsx(Ir,{children:e.map(r=>o.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold",children:r.title}),o.jsx(mn,{variant:"ghost",size:"sm",onClick:()=>{t(n=>n.filter(a=>a.id!==r.id))},children:o.jsx(Gt,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.message})]},r.id))})})}const NY=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function jY(){const[e,t]=I.useState(NY),[r,n]=I.useState(0);return I.useEffect(()=>{const s=e.reduce((l,c)=>l+(c.unreadCount||0),0);n(s)},[e]),{contacts:e,totalUnreadCount:r,markAsRead:s=>{t(l=>l.map(c=>c.id===s?{...c,unreadCount:0}:c))},addMessage:(s,l,c=!1)=>{t(u=>u.map(d=>d.id===s?{...d,lastMessage:l,lastMessageTime:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),unreadCount:c?d.unreadCount||0:(d.unreadCount||0)+1}:d))}}}const qE={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},Cv={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function SY(){const e=uo(),[t,r]=I.useState(!1),n=()=>{r(!0)},a=i=>{i.preventDefault(),localStorage.setItem("isAuthenticated","true"),e("/dashboard")};return o.jsxs("div",{className:"auth-background",children:[o.jsx("div",{className:"wave-loading"}),o.jsx("div",{className:"wave-container",children:o.jsx("div",{className:"wave"})}),o.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-4",children:[o.jsxs(ke.div,{initial:"hidden",animate:"visible",variants:qE,className:"text-center max-w-5xl mx-auto px-4 mb-8",children:[o.jsx(ke.div,{variants:Cv,className:"text-center",children:o.jsx(ke.div,{className:"flex items-center justify-center",children:o.jsx("div",{className:"flex flex-col items-center justify-center",children:o.jsxs(ke.h1,{variants:Cv,className:"flex flex-col items-center text-white whitespace-nowrap",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{className:"text-[10rem] md:text-[12rem]",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.08em",display:"block",lineHeight:"0.8"},children:"OYSTER"})}),o.jsx("span",{className:"text-[3rem] md:text-[4rem] mt-4",style:{fontFamily:"'TT Modernoir', sans-serif",fontWeight:300,letterSpacing:"0.2em"},children:"CULT"})]})})})}),o.jsx(ke.p,{variants:Cv,className:"mt-8 text-xl text-white/80 max-w-2xl mx-auto",children:"Bienvenue dans votre espace de gestion"})]},"logo"),o.jsxs(ke.div,{variants:qE,initial:"hidden",animate:"visible",className:"w-full max-w-md",children:[o.jsx(ke.button,{variants:Cv,onClick:n,className:`w-full h-full px-8 py-4 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 rounded-xl text-white font-medium transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg backdrop-blur-sm ${t?"scale-0 h-0 opacity-0 mt-0 mb-0":""}`,children:"Connexion"}),o.jsx("div",{className:`auth-form-container ${t?"visible":""}`,children:o.jsx("div",{className:"auth-form bg-white/10 backdrop-blur-sm",children:o.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-light text-white mb-6 text-center tracking-wide",children:"Pour les pros, par les pros."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Email"}),o.jsx("input",{type:"email",className:"auth-input bg-white/5",defaultValue:"demo@oystercult.com",readOnly:!0,"aria-label":"Email de démonstration"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Mot de passe"}),o.jsx("input",{type:"password",className:"auth-input bg-white/5",defaultValue:"demo123",readOnly:!0,"aria-label":"Mot de passe de démonstration"})]})]}),o.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 rounded-xl text-white font-medium transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg backdrop-blur-sm",children:"Se connecter"})]})})})]})]})]})}const En={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9}],dailyForecast:[{day:"Lundi",condition:"sunny",tempMin:16,tempMax:22,windSpeed:12,windDirection:45,waveHeight:.5},{day:"Mardi",condition:"sunny",tempMin:17,tempMax:23,windSpeed:10,windDirection:90,waveHeight:.4},{day:"Mercredi",condition:"sunny",tempMin:15,tempMax:19,windSpeed:14,windDirection:90,waveHeight:.6},{day:"Jeudi",condition:"rainy",tempMin:14,tempMax:17,windSpeed:18,windDirection:135,waveHeight:.7}],waterTemp:18,feelsLike:18},m_=e=>{const t=["N","NE","E","SE","S","SO","O","NO"],r=Math.round(e/45)%8;return t[r]},GE=({condition:e})=>{switch(e){case"sunny":return o.jsx(tb,{className:"w-12 h-12 text-yellow-400"});case"cloudy":return o.jsx(fN,{className:"w-12 h-12 text-white/60"});case"rainy":return o.jsx(KI,{className:"w-12 h-12 text-blue-400"});case"partly-cloudy":return o.jsxs("div",{className:"relative",children:[o.jsx(tb,{className:"w-12 h-12 text-yellow-400"}),o.jsx(fN,{className:"w-8 h-8 text-white/60 absolute -bottom-2 -right-2"})]})}},Wf=({title:e,icon:t,children:r,className:n})=>{const[a,i]=K.useState(!1),[s,l]=K.useState(!1);return K.useEffect(()=>{const c=()=>{const u=window.innerWidth<=768;l(u)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[]),o.jsxs(ke.div,{className:`
        ${s?"":"bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]"}
        ${s?"":"-webkit-backdrop-filter backdrop-filter backdrop-blur-[20px]"}
        rounded-lg p-4 
        ${s?"":"shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]"}
        transition-all duration-200 relative overflow-hidden
        ${s?"":a?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
        ${n||""}
      `,onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),whileHover:{y:-4,transition:{duration:.2}},children:[o.jsx(ke.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.05)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:.2}}),o.jsxs("div",{className:"flex items-center space-x-3 mb-3 relative z-10",children:[o.jsx("div",{className:"text-cyan-400",children:t}),o.jsx("h3",{className:"bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent font-medium whitespace-nowrap",children:e})]}),o.jsx("div",{className:"relative z-10",children:r})]})};function YE({title:e,icon:t,children:r}){const[n,a]=K.useState(!1);return o.jsxs("div",{className:"mb-6",children:[o.jsxs("button",{onClick:()=>a(!n),className:"w-full flex items-center justify-between p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-colors","aria-expanded":n,children:[o.jsxs("div",{className:"flex items-center",children:[t,o.jsx("h3",{className:"ml-2 text-xl font-semibold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:e})]}),o.jsx(ke.div,{animate:{rotate:n?180:0},transition:{duration:.2},children:o.jsx(tf,{size:20,className:"text-cyan-400"})})]}),o.jsx(Ir,{children:n&&o.jsx(ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsx("div",{className:"pt-4",children:r})})})]})}function AY(){return o.jsx("div",{className:"weather-widget-container w-full",style:{width:"100%",margin:0,padding:0,position:"relative",boxSizing:"border-box"},children:o.jsxs("div",{className:"weather-widget w-full flex flex-col glass-effect rounded-xl p-6",style:{width:"100%",maxWidth:"100%",margin:0,boxSizing:"border-box"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(ro,{size:24,className:"text-cyan-400 mr-3"})}),o.jsx("h2",{className:"text-3xl font-semibold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent whitespace-nowrap",children:"Météo & Conditions Maritimes"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fi,{size:20,className:"text-cyan-400","aria-hidden":"true"}),o.jsx("span",{className:"text-2xl font-semibold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Bouzigues"}),o.jsx("span",{className:"text-white/60",children:", "}),o.jsx("span",{className:"text-white/60 text-base",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]})]}),o.jsxs("div",{className:"hidden md:grid md:grid-cols-4 md:gap-4 md:mb-4",style:{minHeight:"200px"},children:[o.jsx(Wf,{title:"Température",icon:o.jsx(ro,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:o.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsxs("div",{className:"flex items-baseline justify-center",children:[o.jsx("div",{className:"text-4xl font-bold text-white",children:En.temperature}),o.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"°C"})]})}),o.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(ro,{size:16,className:"text-cyan-400 mr-2"}),o.jsxs("span",{className:"text-white/80",children:["Ressenti ",En.feelsLike,"°C"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ji,{size:16,className:"text-cyan-400 mr-2"}),o.jsxs("span",{className:"text-white/80",children:["Humidité ",En.humidity,"%"]})]})]})]})}),o.jsx(Wf,{title:"Vent",icon:o.jsx(qu,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:o.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsxs("div",{className:"flex items-baseline justify-center",children:[o.jsx("div",{className:"text-4xl font-bold text-white",children:En.windSpeed}),o.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"km/h"})]})}),o.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Rc,{size:16,className:"text-cyan-400 mr-2",style:{transform:`rotate(${En.windDirection}deg)`}}),o.jsx("span",{className:"text-white/80",children:m_(En.windDirection)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(qu,{size:16,className:"text-cyan-400 mr-2"}),o.jsxs("span",{className:"text-white/80",children:["Rafales ",En.windGust," km/h"]})]})]})]})}),o.jsx(Wf,{title:"Mer",icon:o.jsx(Li,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:o.jsxs("div",{className:"flex flex-col h-full justify-between py-2 items-center text-center",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsxs("div",{className:"flex items-baseline justify-center",children:[o.jsx("div",{className:"text-4xl font-bold text-white",children:En.waveHeight}),o.jsx("div",{className:"text-2xl text-white/60 ml-1",children:"m"})]})}),o.jsxs("div",{className:"flex flex-col gap-2 mt-2 items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(dN,{size:16,className:"text-cyan-400 mr-2"}),o.jsx("span",{className:"text-white/80",children:m_(En.waveDirection)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ro,{size:16,className:"text-cyan-400 mr-2"}),o.jsxs("span",{className:"text-white/80",children:["Eau ",En.waterTemp,"°C"]})]})]})]})}),o.jsx(Wf,{title:"Marées",icon:o.jsx(dN,{size:20}),className:"h-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 flex-1",children:o.jsxs("div",{className:"flex flex-col h-full justify-between py-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(I2,{size:16,className:"text-cyan-400 mr-2"}),o.jsx("span",{className:"text-white/80",children:"Marée haute"})]}),o.jsx("div",{className:"text-white font-medium",children:En.nextHighTide})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(M2,{size:16,className:"text-cyan-400 mr-2"}),o.jsx("span",{className:"text-white/80",children:"Marée basse"})]}),o.jsx("div",{className:"text-white font-medium",children:En.nextLowTide})]})]})})]}),o.jsx(YE,{title:"Prévisions horaires",icon:o.jsx(Oa,{size:20,className:"text-cyan-400"}),children:o.jsx("div",{className:"grid grid-cols-4 gap-6",children:En.forecast.map((e,t)=>o.jsx(Wf,{title:e.time,icon:o.jsx(di,{size:20}),className:"text-center p-5 transform hover:scale-105 transition-transform duration-300",children:o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsxs("div",{className:"text-3xl font-bold text-white",children:[e.temp,"°C"]}),o.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[o.jsx(qu,{size:18,className:"text-cyan-400"}),o.jsxs("span",{children:[e.windSpeed," km/h"]})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[o.jsx(Li,{size:18,className:"text-cyan-400"}),o.jsxs("span",{children:[e.waveHeight,"m"]})]})]})},t))})}),o.jsx(YE,{title:"Prévisions des prochains jours",icon:o.jsx(Oa,{size:20,className:"text-cyan-400"}),children:o.jsx("div",{className:"grid grid-cols-4 gap-6",children:En.dailyForecast.map((e,t)=>o.jsx(Wf,{title:e.day,icon:o.jsx(GE,{condition:e.condition}),className:"text-center p-5 transform hover:scale-105 transition-transform duration-300",children:o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[o.jsxs("div",{className:"flex items-center text-red-400",children:[o.jsx(I2,{size:16}),o.jsxs("span",{className:"text-2xl font-semibold",children:[e.tempMax,"°"]})]}),o.jsx("div",{className:"text-white/20",children:"|"}),o.jsxs("div",{className:"flex items-center text-blue-400",children:[o.jsx(M2,{size:16}),o.jsxs("span",{className:"text-2xl font-semibold",children:[e.tempMin,"°"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[o.jsx(qu,{size:18,className:"text-cyan-400"}),o.jsxs("span",{children:[e.windSpeed," km/h"]})]}),o.jsxs("div",{className:"flex items-center space-x-3 text-white/80",children:[o.jsx(Li,{size:18,className:"text-cyan-400"}),o.jsxs("span",{children:[e.waveHeight,"m"]})]})]})},t))})}),o.jsxs("div",{className:"md:hidden flex flex-col space-y-4 w-full",style:{width:"100%",maxWidth:"100%",margin:0,padding:0,boxSizing:"border-box"},children:[o.jsxs("div",{className:"mobile-weather-main w-full glass-effect rounded-xl p-3",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[o.jsxs("div",{className:"mobile-weather-header w-full",children:[o.jsxs("div",{className:"mobile-current-temp",children:[En.temperature,"°C"]}),o.jsx(GE,{condition:En.conditions})]}),o.jsxs("div",{className:"mobile-weather-details w-full",children:[o.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Conditions de vent",title:"Conditions de vent",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(qu,{size:20,className:"mobile-weather-detail-icon"})}),o.jsx("div",{className:"mobile-weather-detail-label",children:"Vent"}),o.jsxs("div",{className:"mobile-weather-detail-value",children:[En.windSpeed," km/h"]})]}),o.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Niveau d'humidité",title:"Niveau d'humidité",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(ji,{size:20,className:"mobile-weather-detail-icon"})}),o.jsx("div",{className:"mobile-weather-detail-label",children:"Humidité"}),o.jsxs("div",{className:"mobile-weather-detail-value",children:[En.humidity,"%"]})]}),o.jsxs("div",{className:"mobile-weather-detail-item","aria-label":"Hauteur des vagues",title:"Hauteur des vagues",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(Li,{size:20,className:"mobile-weather-detail-icon"})}),o.jsx("div",{className:"mobile-weather-detail-label",children:"Vagues"}),o.jsxs("div",{className:"mobile-weather-detail-value",children:[En.waveHeight," m"]})]})]}),o.jsx("div",{className:"mobile-weather-status",children:"Partiellement nuageux"})]}),o.jsxs("div",{className:"w-full flex flex-wrap justify-center",style:{width:"100%",maxWidth:"100%",boxSizing:"border-box",margin:0},children:[o.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[o.jsxs("div",{className:"mobile-weather-card-header",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(Li,{size:20,className:"mobile-weather-card-icon"})}),o.jsx("div",{className:"mobile-weather-card-title",children:"Marées"})]}),o.jsxs("div",{className:"mobile-weather-card-content",children:[o.jsxs("div",{className:"mobile-weather-card-row",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(I2,{size:16,className:"text-brand-burgundy"})}),o.jsx("div",{className:"mobile-weather-card-label",children:"Haute"}),o.jsx("div",{className:"mobile-weather-card-value",children:En.nextHighTide})]}),o.jsxs("div",{className:"mobile-weather-card-row",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(M2,{size:16,className:"text-brand-burgundy"})}),o.jsx("div",{className:"mobile-weather-card-label",children:"Basse"}),o.jsx("div",{className:"mobile-weather-card-value",children:En.nextLowTide})]})]})]}),o.jsxs("div",{className:"mobile-weather-card shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300 m-2",children:[o.jsxs("div",{className:"mobile-weather-card-header",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(qu,{size:20,className:"mobile-weather-card-icon"})}),o.jsx("div",{className:"mobile-weather-card-title",children:"Vent"})]}),o.jsxs("div",{className:"mobile-weather-card-content",children:[o.jsxs("div",{className:"mobile-weather-card-row",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(Rc,{size:16,className:"text-brand-burgundy",style:{transform:`rotate(${En.windDirection}deg)`}})}),o.jsx("div",{className:"mobile-weather-card-label",children:"Direction"}),o.jsx("div",{className:"mobile-weather-card-value",children:m_(En.windDirection)})]}),o.jsxs("div",{className:"mobile-weather-card-row",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(qu,{size:16,className:"text-brand-burgundy"})}),o.jsx("div",{className:"mobile-weather-card-label",children:"Rafales"}),o.jsxs("div",{className:"mobile-weather-card-value",children:[En.windGust," km/h"]})]})]})]})]}),o.jsxs("div",{className:"mobile-forecast-section w-full shadow-[0_0_15px_rgba(0,210,200,0.15),0_0_5px_rgba(0,0,0,0.2)_inset] border border-white/10 hover:border-cyan-400/30 transition-all duration-300",children:[o.jsxs("div",{className:"mobile-forecast-header",children:[o.jsx("span",{"aria-hidden":"true",children:o.jsx(Oa,{size:20,className:"mobile-forecast-icon"})}),o.jsx("div",{className:"mobile-forecast-title",children:"Prévisions"})]}),o.jsx("div",{className:"mobile-forecast-content overflow-x-auto",children:o.jsxs("div",{className:"flex",style:{minWidth:"100%"},children:[En.forecast.map((e,t)=>o.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[o.jsx("div",{className:"mobile-forecast-time",children:e.time}),o.jsxs("div",{className:"mobile-forecast-temp",children:[e.temp,"°"]}),o.jsxs("div",{className:"mobile-forecast-wind",children:[o.jsx(Rc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:`rotate(${e.windDirection}deg)`}}),o.jsx("span",{children:e.windSpeed})]}),o.jsxs("div",{className:"mobile-forecast-waves",children:[o.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),o.jsxs("span",{children:[e.waveHeight,"m"]})]})]},t)),o.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[o.jsx("div",{className:"mobile-forecast-time",children:"00:00"}),o.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),o.jsxs("div",{className:"mobile-forecast-wind",children:[o.jsx(Rc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),o.jsx("span",{children:"14"})]}),o.jsxs("div",{className:"mobile-forecast-waves",children:[o.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),o.jsx("span",{children:"0.7m"})]})]}),o.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[o.jsx("div",{className:"mobile-forecast-time",children:"03:00"}),o.jsx("div",{className:"mobile-forecast-temp",children:"14°"}),o.jsxs("div",{className:"mobile-forecast-wind",children:[o.jsx(Rc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(290deg)"}}),o.jsx("span",{children:"12"})]}),o.jsxs("div",{className:"mobile-forecast-waves",children:[o.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),o.jsx("span",{children:"0.6m"})]})]}),o.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[o.jsx("div",{className:"mobile-forecast-time",children:"06:00"}),o.jsx("div",{className:"mobile-forecast-temp",children:"15°"}),o.jsxs("div",{className:"mobile-forecast-wind",children:[o.jsx(Rc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(295deg)"}}),o.jsx("span",{children:"13"})]}),o.jsxs("div",{className:"mobile-forecast-waves",children:[o.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),o.jsx("span",{children:"0.5m"})]})]}),o.jsxs("div",{className:"mobile-forecast-item",style:{minWidth:"80px"},children:[o.jsx("div",{className:"mobile-forecast-time",children:"09:00"}),o.jsx("div",{className:"mobile-forecast-temp",children:"16°"}),o.jsxs("div",{className:"mobile-forecast-wind",children:[o.jsx(Rc,{size:14,className:"mobile-forecast-wind-icon",style:{transform:"rotate(300deg)"}}),o.jsx("span",{children:"15"})]}),o.jsxs("div",{className:"mobile-forecast-waves",children:[o.jsx(Li,{size:14,className:"mobile-forecast-waves-icon"}),o.jsx("span",{children:"0.6m"})]})]})]})})]})]})]})})}const CY=({value:e,maxValue:t=100,color:r})=>{const n=Math.min(100,Math.round(e/t*100));return o.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},XE={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)",transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,transform:"translateY(30px)"}}};function DM({table:e,onClose:t}){const r=tg(t),n=e.alert||e.timeProgress>100;return o.jsx(ke.div,{...XE.overlay,className:"absolute inset-0 flex items-center justify-center p-4 bg-black/50",style:{zIndex:100},onClick:t,children:o.jsxs(ke.div,{ref:r,...XE.content,onClick:a=>a.stopPropagation(),className:"w-full max-w-3xl rounded-2xl shadow-2xl border border-white/10 backdrop-blur-sm",style:{background:"rgba(var(--color-brand-dark), 0.3)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"border-color 0.2s ease",willChange:"transform, border-color",zIndex:101},children:[o.jsx("div",{className:"p-6 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:e.name}),o.jsx("p",{className:"text-white/60",children:e.type})]}),o.jsx("button",{className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10",onClick:t,"aria-label":"Fermer",children:o.jsx(Gt,{size:20})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[e.currentSize&&e.targetSize&&o.jsxs(ke.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.4},className:"glass-effect rounded-xl p-6 space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[o.jsx(Xy,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]})}),o.jsxs("div",{className:"relative py-6",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-white/10"}),o.jsx("div",{className:"flex justify-between relative",children:["T15","N°5","N°4","N°3","N°2","N°1"].map((a,i)=>{const s=i*20,l=EY(e.currentSize)>=s,c=a===e.targetSize;return o.jsxs("div",{className:"flex flex-col items-center",children:[a==="N°3"?o.jsx("div",{className:"relative",children:o.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 mb-2 relative ring-4 ring-blue-500/50 shadow-lg shadow-blue-500/50 ring-white animate-pulse"})}):o.jsx("div",{className:`w-5 h-5 rounded-full ${c?"ring-2 ring-offset-2 ring-offset-blue-900/50 ring-blue-400":""} ${l?"bg-blue-500":"bg-white/20"} mb-2`}),o.jsx("span",{className:`text-xs ${l?"text-white":"text-white/40"} ${c?"font-bold":""} ${a==="N°3"?"font-medium":""}`,children:a})]},a)})}),o.jsxs("div",{className:"mt-6 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-white/60 mb-2",children:[o.jsx("span",{children:"Temps d'élevage"}),o.jsx("span",{className:"text-white",children:x_(e.startDate,e.harvest,e.name)})]}),o.jsxs("div",{className:"relative h-3 bg-white/10 rounded-full overflow-hidden",children:[o.jsx(ke.div,{initial:{width:0},animate:{width:`${Math.min(e.timeProgress,100)}%`},transition:{duration:1,ease:"easeOut"},className:`absolute top-0 left-0 h-full ${n?"bg-red-500":"bg-blue-500"}`}),e.timeProgress>100&&o.jsx(ke.div,{initial:{width:0},animate:{width:`${Math.min(e.timeProgress-100,100)}%`},transition:{duration:1,ease:"easeOut",delay:.5},className:"absolute top-0 left-0 h-full bg-red-500 opacity-60",style:{left:"100%"}})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[o.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[o.jsx("div",{className:"text-white/60",children:"Début"}),o.jsx("div",{className:"text-white font-medium",children:"T15"}),o.jsx("div",{className:"text-sm font-medium text-white/70",children:x_(e.startDate,e.harvest,e.name)})]}),o.jsx(Es,{size:16,className:"text-white/40"}),o.jsxs("div",{className:"glass-effect rounded-lg px-3 py-2",children:[o.jsx("div",{className:"text-white/60",children:"Récolte prévue pour"}),o.jsx("div",{className:"text-white font-medium",children:kY(e.name)})]})]})]})]}),o.jsxs(ke.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.6},className:"glass-effect rounded-xl p-6",children:[o.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[o.jsx(Li,{size:18,className:"mr-2 text-blue-400"}),"État global de la table"]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative w-40 h-40",children:[o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[o.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),o.jsx(ke.circle,{cx:"50",cy:"50",r:"45",fill:"none",stroke:e.color||"#3b82f6",strokeWidth:"8",strokeDasharray:"283",initial:{strokeDashoffset:283},animate:{strokeDashoffset:283-283*e.value/100},transition:{duration:1.5,ease:"easeOut"},strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[o.jsxs("span",{className:"text-3xl font-bold text-white",children:[e.value,"%"]}),o.jsx("span",{className:"text-xs text-white/60",children:"Occupation"})]})]}),o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("span",{className:"text-white/80 block",children:["Capacité de la table ",e.name==="Table A1"&&e.value>=90?"(presque pleine)":e.value<=20?"(presque vide)":""]})})]}),o.jsxs("div",{className:"space-y-4",children:[e.mortality>0&&o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("div",{className:"text-white/80",children:o.jsxs("span",{className:"flex items-center",children:[o.jsx(Ai,{size:16,className:"mr-1 text-red-400"}),"Taux de mortalité"]})}),o.jsxs("div",{className:`text-sm font-medium ${e.mortality<=15?"text-green-400":e.mortality<=20?"text-yellow-400":"text-red-400"}`,children:[e.mortality,"%"]})]}),o.jsx(CY,{value:e.mortality,maxValue:30,color:e.mortality<=15?"#22c55e":e.mortality<=20?"#eab308":"#ef4444"}),o.jsx("div",{className:"text-xs text-white/60 mt-1",children:e.mortality<=15?"Taux normal":e.mortality<=20?"Surveillance recommandée":"Situation critique - Action requise!"})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("div",{className:"text-white/80",children:"Durée d'élevage"}),o.jsx("div",{className:"text-sm font-medium text-white",children:x_(e.startDate,e.harvest,e.name)})]}),o.jsx("div",{className:"text-xs text-white/60",children:e.name!=="Table A1"?o.jsx(o.Fragment,{children:"Depuis le 01/01/2024"}):o.jsxs(o.Fragment,{children:["Depuis le ",e.startDate]})})]})]})]})]}),o.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.8},className:"flex justify-end space-x-3",children:o.jsx("button",{onClick:t,className:"px-6 py-2.5 rounded-lg bg-white/10 hover:bg-white/20 text-white/90 hover:text-white transition-colors",children:"Fermer"})})]})]})})}function EY(e){switch(e){case"T15":return 0;case"N°5":return 20;case"N°4":return 40;case"N°3":return 60;case"N°2":return 80;case"N°1":return 100;default:return 0}}function x_(e,t,r){switch(r){case"Table A1":return"11 mois et 18 jours";case"Table A2":return"2 mois et 2 jours";case"Table B1":return"2 mois et 12 jours";default:return"N/A"}}function kY(e){switch(e){case"Table A2":return"01/01/2025";case"Table B1":return"01/01/2025";case"Table A1":return"15/05/2025";default:return"Non définie"}}function IM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=IM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=IM(e))&&(n&&(n+=" "),n+=t);return n}var TY=Array.isArray,Fs=TY,OY=typeof Ga=="object"&&Ga&&Ga.Object===Object&&Ga,MM=OY,PY=MM,DY=typeof self=="object"&&self&&self.Object===Object&&self,IY=PY||DY||Function("return this")(),pc=IY,MY=pc,FY=MY.Symbol,rg=FY,KE=rg,FM=Object.prototype,RY=FM.hasOwnProperty,LY=FM.toString,Fm=KE?KE.toStringTag:void 0;function BY(e){var t=RY.call(e,Fm),r=e[Fm];try{e[Fm]=void 0;var n=!0}catch{}var a=LY.call(e);return n&&(t?e[Fm]=r:delete e[Fm]),a}var $Y=BY,zY=Object.prototype,UY=zY.toString;function HY(e){return UY.call(e)}var WY=HY,QE=rg,VY=$Y,qY=WY,GY="[object Null]",YY="[object Undefined]",JE=QE?QE.toStringTag:void 0;function XY(e){return e==null?e===void 0?YY:GY:JE&&JE in Object(e)?VY(e):qY(e)}var uu=XY;function KY(e){return e!=null&&typeof e=="object"}var du=KY,QY=uu,JY=du,ZY="[object Symbol]";function eX(e){return typeof e=="symbol"||JY(e)&&QY(e)==ZY}var Ip=eX,tX=Fs,rX=Ip,nX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aX=/^\w*$/;function iX(e,t){if(tX(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rX(e)?!0:aX.test(e)||!nX.test(e)||t!=null&&e in Object(t)}var cS=iX;function sX(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ed=sX;const Mp=rn(Ed);var oX=uu,lX=Ed,cX="[object AsyncFunction]",uX="[object Function]",dX="[object GeneratorFunction]",fX="[object Proxy]";function hX(e){if(!lX(e))return!1;var t=oX(e);return t==uX||t==dX||t==cX||t==fX}var uS=hX;const Xt=rn(uS);var pX=pc,mX=pX["__core-js_shared__"],xX=mX,g_=xX,ZE=function(){var e=/[^.]+$/.exec(g_&&g_.keys&&g_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gX(e){return!!ZE&&ZE in e}var vX=gX,bX=Function.prototype,yX=bX.toString;function wX(e){if(e!=null){try{return yX.call(e)}catch{}try{return e+""}catch{}}return""}var RM=wX,_X=uS,NX=vX,jX=Ed,SX=RM,AX=/[\\^$.*+?()[\]{}|]/g,CX=/^\[object .+?Constructor\]$/,EX=Function.prototype,kX=Object.prototype,TX=EX.toString,OX=kX.hasOwnProperty,PX=RegExp("^"+TX.call(OX).replace(AX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DX(e){if(!jX(e)||NX(e))return!1;var t=_X(e)?PX:CX;return t.test(SX(e))}var IX=DX;function MX(e,t){return e==null?void 0:e[t]}var FX=MX,RX=IX,LX=FX;function BX(e,t){var r=LX(e,t);return RX(r)?r:void 0}var sf=BX,$X=sf,zX=$X(Object,"create"),nw=zX,ek=nw;function UX(){this.__data__=ek?ek(null):{},this.size=0}var HX=UX;function WX(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var VX=WX,qX=nw,GX="__lodash_hash_undefined__",YX=Object.prototype,XX=YX.hasOwnProperty;function KX(e){var t=this.__data__;if(qX){var r=t[e];return r===GX?void 0:r}return XX.call(t,e)?t[e]:void 0}var QX=KX,JX=nw,ZX=Object.prototype,eK=ZX.hasOwnProperty;function tK(e){var t=this.__data__;return JX?t[e]!==void 0:eK.call(t,e)}var rK=tK,nK=nw,aK="__lodash_hash_undefined__";function iK(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nK&&t===void 0?aK:t,this}var sK=iK,oK=HX,lK=VX,cK=QX,uK=rK,dK=sK;function Fp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fp.prototype.clear=oK;Fp.prototype.delete=lK;Fp.prototype.get=cK;Fp.prototype.has=uK;Fp.prototype.set=dK;var fK=Fp;function hK(){this.__data__=[],this.size=0}var pK=hK;function mK(e,t){return e===t||e!==e&&t!==t}var dS=mK,xK=dS;function gK(e,t){for(var r=e.length;r--;)if(xK(e[r][0],t))return r;return-1}var aw=gK,vK=aw,bK=Array.prototype,yK=bK.splice;function wK(e){var t=this.__data__,r=vK(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():yK.call(t,r,1),--this.size,!0}var _K=wK,NK=aw;function jK(e){var t=this.__data__,r=NK(t,e);return r<0?void 0:t[r][1]}var SK=jK,AK=aw;function CK(e){return AK(this.__data__,e)>-1}var EK=CK,kK=aw;function TK(e,t){var r=this.__data__,n=kK(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var OK=TK,PK=pK,DK=_K,IK=SK,MK=EK,FK=OK;function Rp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Rp.prototype.clear=PK;Rp.prototype.delete=DK;Rp.prototype.get=IK;Rp.prototype.has=MK;Rp.prototype.set=FK;var iw=Rp,RK=sf,LK=pc,BK=RK(LK,"Map"),fS=BK,tk=fK,$K=iw,zK=fS;function UK(){this.size=0,this.__data__={hash:new tk,map:new(zK||$K),string:new tk}}var HK=UK;function WK(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var VK=WK,qK=VK;function GK(e,t){var r=e.__data__;return qK(t)?r[typeof t=="string"?"string":"hash"]:r.map}var sw=GK,YK=sw;function XK(e){var t=YK(this,e).delete(e);return this.size-=t?1:0,t}var KK=XK,QK=sw;function JK(e){return QK(this,e).get(e)}var ZK=JK,eQ=sw;function tQ(e){return eQ(this,e).has(e)}var rQ=tQ,nQ=sw;function aQ(e,t){var r=nQ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var iQ=aQ,sQ=HK,oQ=KK,lQ=ZK,cQ=rQ,uQ=iQ;function Lp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lp.prototype.clear=sQ;Lp.prototype.delete=oQ;Lp.prototype.get=lQ;Lp.prototype.has=cQ;Lp.prototype.set=uQ;var hS=Lp,LM=hS,dQ="Expected a function";function pS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dQ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(pS.Cache||LM),r}pS.Cache=LM;var BM=pS;const fQ=rn(BM);var hQ=BM,pQ=500;function mQ(e){var t=hQ(e,function(n){return r.size===pQ&&r.clear(),n}),r=t.cache;return t}var xQ=mQ,gQ=xQ,vQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bQ=/\\(\\)?/g,yQ=gQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vQ,function(r,n,a,i){t.push(a?i.replace(bQ,"$1"):n||r)}),t}),wQ=yQ;function _Q(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var mS=_Q,rk=rg,NQ=mS,jQ=Fs,SQ=Ip,AQ=1/0,nk=rk?rk.prototype:void 0,ak=nk?nk.toString:void 0;function $M(e){if(typeof e=="string")return e;if(jQ(e))return NQ(e,$M)+"";if(SQ(e))return ak?ak.call(e):"";var t=e+"";return t=="0"&&1/e==-AQ?"-0":t}var CQ=$M,EQ=CQ;function kQ(e){return e==null?"":EQ(e)}var zM=kQ,TQ=Fs,OQ=cS,PQ=wQ,DQ=zM;function IQ(e,t){return TQ(e)?e:OQ(e,t)?[e]:PQ(DQ(e))}var UM=IQ,MQ=Ip,FQ=1/0;function RQ(e){if(typeof e=="string"||MQ(e))return e;var t=e+"";return t=="0"&&1/e==-FQ?"-0":t}var ow=RQ,LQ=UM,BQ=ow;function $Q(e,t){t=LQ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[BQ(t[r++])];return r&&r==n?e:void 0}var xS=$Q,zQ=xS;function UQ(e,t,r){var n=e==null?void 0:zQ(e,t);return n===void 0?r:n}var HM=UQ;const so=rn(HM);function HQ(e){return e==null}var WQ=HQ;const nr=rn(WQ);var VQ=uu,qQ=Fs,GQ=du,YQ="[object String]";function XQ(e){return typeof e=="string"||!qQ(e)&&GQ(e)&&VQ(e)==YQ}var KQ=XQ;const ng=rn(KQ);var WM={exports:{}},nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=Symbol.for("react.element"),vS=Symbol.for("react.portal"),lw=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),uw=Symbol.for("react.profiler"),dw=Symbol.for("react.provider"),fw=Symbol.for("react.context"),QQ=Symbol.for("react.server_context"),hw=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),mw=Symbol.for("react.suspense_list"),xw=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),JQ=Symbol.for("react.offscreen"),VM;VM=Symbol.for("react.module.reference");function Xo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gS:switch(e=e.type,e){case lw:case uw:case cw:case pw:case mw:return e;default:switch(e=e&&e.$$typeof,e){case QQ:case fw:case hw:case gw:case xw:case dw:return e;default:return t}}case vS:return t}}}nn.ContextConsumer=fw;nn.ContextProvider=dw;nn.Element=gS;nn.ForwardRef=hw;nn.Fragment=lw;nn.Lazy=gw;nn.Memo=xw;nn.Portal=vS;nn.Profiler=uw;nn.StrictMode=cw;nn.Suspense=pw;nn.SuspenseList=mw;nn.isAsyncMode=function(){return!1};nn.isConcurrentMode=function(){return!1};nn.isContextConsumer=function(e){return Xo(e)===fw};nn.isContextProvider=function(e){return Xo(e)===dw};nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gS};nn.isForwardRef=function(e){return Xo(e)===hw};nn.isFragment=function(e){return Xo(e)===lw};nn.isLazy=function(e){return Xo(e)===gw};nn.isMemo=function(e){return Xo(e)===xw};nn.isPortal=function(e){return Xo(e)===vS};nn.isProfiler=function(e){return Xo(e)===uw};nn.isStrictMode=function(e){return Xo(e)===cw};nn.isSuspense=function(e){return Xo(e)===pw};nn.isSuspenseList=function(e){return Xo(e)===mw};nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lw||e===uw||e===cw||e===pw||e===mw||e===JQ||typeof e=="object"&&e!==null&&(e.$$typeof===gw||e.$$typeof===xw||e.$$typeof===dw||e.$$typeof===fw||e.$$typeof===hw||e.$$typeof===VM||e.getModuleId!==void 0)};nn.typeOf=Xo;WM.exports=nn;var ZQ=WM.exports,eJ=uu,tJ=du,rJ="[object Number]";function nJ(e){return typeof e=="number"||tJ(e)&&eJ(e)==rJ}var qM=nJ;const aJ=rn(qM);var iJ=qM;function sJ(e){return iJ(e)&&e!=+e}var oJ=sJ;const ag=rn(oJ);var ds=function(t){return t===0?0:t>0?1:-1},h0=function(t){return ng(t)&&t.indexOf("%")===t.length-1},dt=function(t){return aJ(t)&&!ag(t)},Ya=function(t){return dt(t)||ng(t)},lJ=0,Bp=function(t){var r=++lJ;return"".concat(t||"").concat(r)},fs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(t)&&!ng(t))return n;var i;if(h0(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ag(i)&&(i=n),a&&i>r&&(i=r),i},ed=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cJ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ks=function(t,r){return dt(t)&&dt(r)?function(n){return t+n*(r-t)}:function(){return r}};function sb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):so(n,t))===r})}function Oh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function vN(e){"@babel/helpers - typeof";return vN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vN(e)}var uJ=["viewBox","children"],dJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ik=["points","pathLength"],v_={svg:uJ,polygon:ik,polyline:ik},bS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ob=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),!Mp(n))return null;var a={};return Object.keys(n).forEach(function(i){bS.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},fJ=function(t,r,n){return function(a){return t(r,n,a),null}},L0=function(t,r,n){if(!Mp(t)||vN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];bS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=fJ(s,r,n))}),a},hJ=["children"],pJ=["children"];function sk(e,t){if(e==null)return{};var r=mJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bN(e){"@babel/helpers - typeof";return bN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bN(e)}var ok={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},lk=null,b_=null,yS=function e(t){if(t===lk&&Array.isArray(b_))return b_;var r=[];return I.Children.forEach(t,function(n){nr(n)||(ZQ.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),b_=r,lk=t,r};function oo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return qc(a)}):n=[qc(t)],yS(e).forEach(function(a){var i=so(a,"type.displayName")||so(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Xs(e,t){var r=oo(e,t);return r&&r[0]}var ck=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!dt(n)||n<=0||!dt(a)||a<=0)},xJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gJ=function(t){return t&&t.type&&ng(t.type)&&xJ.indexOf(t.type)>=0},vJ=function(t){return t&&bN(t)==="object"&&"clipDot"in t},bJ=function(t,r,n,a){var i,s=(i=v_==null?void 0:v_[a])!==null&&i!==void 0?i:[];return!Xt(t)&&(a&&s.includes(r)||dJ.includes(r))||n&&bS.includes(r)},zt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(I.isValidElement(t)&&(a=t.props),!Mp(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;bJ((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},yN=function e(t,r){if(t===r)return!0;var n=I.Children.count(t);if(n!==I.Children.count(r))return!1;if(n===0)return!0;if(n===1)return uk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!uk(i,s))return!1}return!0},uk=function(t,r){if(nr(t)&&nr(r))return!0;if(!nr(t)&&!nr(r)){var n=t.props||{},a=n.children,i=sk(n,hJ),s=r.props||{},l=s.children,c=sk(s,pJ);return a&&l?Oh(i,c)&&yN(a,l):!a&&!l?Oh(i,c):!1}return!1},dk=function(t,r){var n=[],a={};return yS(t).forEach(function(i,s){if(gJ(i))n.push(i);else if(i){var l=qc(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},yJ=function(t){var r=t&&t.type;return r&&ok[r]?ok[r]:null},wJ=function(t,r){return yS(r).indexOf(t)},_J=["children","width","height","viewBox","className","style","title","desc"];function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wN.apply(this,arguments)}function NJ(e,t){if(e==null)return{};var r=jJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _N(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=NJ(e,_J),d=a||{width:r,height:n,x:0,y:0},f=Pt("recharts-surface",i);return K.createElement("svg",wN({},zt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),t)}var SJ=["children","className"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function AJ(e,t){if(e==null)return{};var r=CJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dr=K.forwardRef(function(e,t){var r=e.children,n=e.className,a=AJ(e,SJ),i=Pt("recharts-layer",n);return K.createElement("g",NN({className:i},zt(a,!0),{ref:t}),r)}),yl=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function EJ(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var kJ=EJ,TJ=kJ;function OJ(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:TJ(e,t,r)}var PJ=OJ,DJ="\\ud800-\\udfff",IJ="\\u0300-\\u036f",MJ="\\ufe20-\\ufe2f",FJ="\\u20d0-\\u20ff",RJ=IJ+MJ+FJ,LJ="\\ufe0e\\ufe0f",BJ="\\u200d",$J=RegExp("["+BJ+DJ+RJ+LJ+"]");function zJ(e){return $J.test(e)}var GM=zJ;function UJ(e){return e.split("")}var HJ=UJ,YM="\\ud800-\\udfff",WJ="\\u0300-\\u036f",VJ="\\ufe20-\\ufe2f",qJ="\\u20d0-\\u20ff",GJ=WJ+VJ+qJ,YJ="\\ufe0e\\ufe0f",XJ="["+YM+"]",jN="["+GJ+"]",SN="\\ud83c[\\udffb-\\udfff]",KJ="(?:"+jN+"|"+SN+")",XM="[^"+YM+"]",KM="(?:\\ud83c[\\udde6-\\uddff]){2}",QM="[\\ud800-\\udbff][\\udc00-\\udfff]",QJ="\\u200d",JM=KJ+"?",ZM="["+YJ+"]?",JJ="(?:"+QJ+"(?:"+[XM,KM,QM].join("|")+")"+ZM+JM+")*",ZJ=ZM+JM+JJ,eZ="(?:"+[XM+jN+"?",jN,KM,QM,XJ].join("|")+")",tZ=RegExp(SN+"(?="+SN+")|"+eZ+ZJ,"g");function rZ(e){return e.match(tZ)||[]}var nZ=rZ,aZ=HJ,iZ=GM,sZ=nZ;function oZ(e){return iZ(e)?sZ(e):aZ(e)}var lZ=oZ,cZ=PJ,uZ=GM,dZ=lZ,fZ=zM;function hZ(e){return function(t){t=fZ(t);var r=uZ(t)?dZ(t):void 0,n=r?r[0]:t.charAt(0),a=r?cZ(r,1).join(""):t.slice(1);return n[e]()+a}}var pZ=hZ,mZ=pZ,xZ=mZ("toUpperCase"),gZ=xZ;const vw=rn(gZ);function Nn(e){return function(){return e}}const e7=Math.cos,lb=Math.sin,Sl=Math.sqrt,cb=Math.PI,bw=2*cb,AN=Math.PI,CN=2*AN,t0=1e-6,vZ=CN-t0;function t7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bZ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return t7;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class yZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?t7:bZ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>t0)if(!(Math.abs(f*c-u*d)>t0)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=a-l,x=c*c+u*u,g=p*p+m*m,v=Math.sqrt(x),b=Math.sqrt(h),y=i*Math.tan((AN-Math.acos((x+h-g)/(2*v*b)))/2),_=y/b,N=y/v;Math.abs(_-1)>t0&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>t0||Math.abs(this._y1-d)>t0)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%CN+CN),h>vZ?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>t0&&this._append`A${n},${n},0,${+(h>=AN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function wS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yZ(t)}function _S(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r7(e){this._context=e}r7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yw(e){return new r7(e)}function n7(e){return e[0]}function a7(e){return e[1]}function i7(e,t){var r=Nn(!0),n=null,a=yw,i=null,s=wS(l);e=typeof e=="function"?e:e===void 0?n7:Nn(e),t=typeof t=="function"?t:t===void 0?a7:Nn(t);function l(c){var u,d=(c=_S(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Ev(e,t,r){var n=null,a=Nn(!0),i=null,s=yw,l=null,c=wS(u);e=typeof e=="function"?e:e===void 0?n7:Nn(+e),t=typeof t=="function"?t:Nn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?a7:Nn(+r);function u(f){var h,p,m,x=(f=_S(f)).length,g,v=!1,b,y=new Array(x),_=new Array(x);for(i==null&&(l=s(b=c())),h=0;h<=x;++h){if(!(h<x&&a(g=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(y[m],_[m]);l.lineEnd(),l.areaEnd()}v&&(y[h]=+e(g,h,f),_[h]=+t(g,h,f),l.point(n?+n(g,h,f):y[h],r?+r(g,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return i7().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nn(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class s7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wZ(e){return new s7(e,!0)}function _Z(e){return new s7(e,!1)}const NS={draw(e,t){const r=Sl(t/cb);e.moveTo(r,0),e.arc(0,0,r,0,bw)}},NZ={draw(e,t){const r=Sl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},o7=Sl(1/3),jZ=o7*2,SZ={draw(e,t){const r=Sl(t/jZ),n=r*o7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},AZ={draw(e,t){const r=Sl(t),n=-r/2;e.rect(n,n,r,r)}},CZ=.8908130915292852,l7=lb(cb/10)/lb(7*cb/10),EZ=lb(bw/10)*l7,kZ=-e7(bw/10)*l7,TZ={draw(e,t){const r=Sl(t*CZ),n=EZ*r,a=kZ*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=bw*i/5,l=e7(s),c=lb(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},y_=Sl(3),OZ={draw(e,t){const r=-Sl(t/(y_*3));e.moveTo(0,r*2),e.lineTo(-y_*r,-r),e.lineTo(y_*r,-r),e.closePath()}},_o=-.5,No=Sl(3)/2,EN=1/Sl(12),PZ=(EN/2+1)*3,DZ={draw(e,t){const r=Sl(t/PZ),n=r/2,a=r*EN,i=n,s=r*EN+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(_o*n-No*a,No*n+_o*a),e.lineTo(_o*i-No*s,No*i+_o*s),e.lineTo(_o*l-No*c,No*l+_o*c),e.lineTo(_o*n+No*a,_o*a-No*n),e.lineTo(_o*i+No*s,_o*s-No*i),e.lineTo(_o*l+No*c,_o*c-No*l),e.closePath()}};function IZ(e,t){let r=null,n=wS(a);e=typeof e=="function"?e:Nn(e||NS),t=typeof t=="function"?t:Nn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Nn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function ub(){}function db(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function c7(e){this._context=e}c7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:db(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:db(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MZ(e){return new c7(e)}function u7(e){this._context=e}u7.prototype={areaStart:ub,areaEnd:ub,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:db(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FZ(e){return new u7(e)}function d7(e){this._context=e}d7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:db(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RZ(e){return new d7(e)}function f7(e){this._context=e}f7.prototype={areaStart:ub,areaEnd:ub,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function LZ(e){return new f7(e)}function fk(e){return e<0?-1:1}function hk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(fk(i)+fk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function pk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function w_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function fb(e){this._context=e}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w_(this,this._t0,pk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,w_(this,pk(this,r=hk(this,e,t)),r);break;default:w_(this,this._t0,r=hk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function h7(e){this._context=new p7(e)}(h7.prototype=Object.create(fb.prototype)).point=function(e,t){fb.prototype.point.call(this,t,e)};function p7(e){this._context=e}p7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function BZ(e){return new fb(e)}function $Z(e){return new h7(e)}function m7(e){this._context=e}m7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=mk(e),a=mk(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function zZ(e){return new m7(e)}function ww(e,t){this._context=e,this._t=t}ww.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function UZ(e){return new ww(e,.5)}function HZ(e){return new ww(e,0)}function WZ(e){return new ww(e,1)}function Gh(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function kN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function VZ(e,t){return e[t]}function qZ(e){const t=[];return t.key=e,t}function GZ(){var e=Nn([]),t=kN,r=Gh,n=VZ;function a(i){var s=Array.from(e.apply(this,arguments),qZ),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=_S(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Nn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?kN:typeof i=="function"?i:Nn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Gh,a):r},a}function YZ(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Gh(e,t)}}function XZ(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gh(e,t)}}function KZ(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var x=e[t[m]],g=x[n][1]||0,v=x[n-1][1]||0;p+=g-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Gh(e,t)}}function Gx(e){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(e)}var QZ=["type","size","sizeType"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(this,arguments)}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){JZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JZ(e,t,r){return t=ZZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZZ(e){var t=eee(e,"string");return Gx(t)=="symbol"?t:t+""}function eee(e,t){if(Gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tee(e,t){if(e==null)return{};var r=ree(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ree(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var x7={symbolCircle:NS,symbolCross:NZ,symbolDiamond:SZ,symbolSquare:AZ,symbolStar:TZ,symbolTriangle:OZ,symbolWye:DZ},nee=Math.PI/180,aee=function(t){var r="symbol".concat(vw(t));return x7[r]||NS},iee=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*nee;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},see=function(t,r){x7["symbol".concat(vw(t))]=r},jS=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=tee(t,QZ),u=gk(gk({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=aee(n),v=IZ().type(g).size(iee(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,m=zt(u,!0);return h===+h&&p===+p&&i===+i?K.createElement("path",TN({},m,{className:Pt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};jS.registerSymbol=see;function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(this,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){Yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v7(n.key),n)}}function uee(e,t,r){return t&&cee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dee(e,t,r){return t=hb(t),fee(e,g7()?Reflect.construct(t,r||[],hb(e).constructor):t.apply(e,r))}function fee(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hee(e)}function hee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g7=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hb(e)}function pee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PN(e,t)}function Yx(e,t,r){return t=v7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=mee(e,"string");return Yh(t)=="symbol"?t:t+""}function mee(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jo=32,SS=function(e){function t(){return lee(this,t),dee(this,t,arguments)}return pee(t,e),uee(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=jo/2,s=jo/6,l=jo/3,c=n.inactive?a:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:jo,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(jo,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(jo/8,"h").concat(jo,"v").concat(jo*3/4,"h").concat(-jo,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=oee({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(jS,{fill:c,cx:i,cy:i,size:jo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:jo,height:jo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var x=p.formatter||c,g=Pt(Yx(Yx({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Xt(p.value)?null:p.value;yl(!Xt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return K.createElement("li",ON({className:g,style:f,key:"legend-item-".concat(m)},L0(n.props,p,m)),K.createElement(_N,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,p,m):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(I.PureComponent);Yx(SS,"displayName","Legend");Yx(SS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xee=iw;function gee(){this.__data__=new xee,this.size=0}var vee=gee;function bee(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var yee=bee;function wee(e){return this.__data__.get(e)}var _ee=wee;function Nee(e){return this.__data__.has(e)}var jee=Nee,See=iw,Aee=fS,Cee=hS,Eee=200;function kee(e,t){var r=this.__data__;if(r instanceof See){var n=r.__data__;if(!Aee||n.length<Eee-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Cee(n)}return r.set(e,t),this.size=r.size,this}var Tee=kee,Oee=iw,Pee=vee,Dee=yee,Iee=_ee,Mee=jee,Fee=Tee;function $p(e){var t=this.__data__=new Oee(e);this.size=t.size}$p.prototype.clear=Pee;$p.prototype.delete=Dee;$p.prototype.get=Iee;$p.prototype.has=Mee;$p.prototype.set=Fee;var b7=$p,Ree="__lodash_hash_undefined__";function Lee(e){return this.__data__.set(e,Ree),this}var Bee=Lee;function $ee(e){return this.__data__.has(e)}var zee=$ee,Uee=hS,Hee=Bee,Wee=zee;function pb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Uee;++t<r;)this.add(e[t])}pb.prototype.add=pb.prototype.push=Hee;pb.prototype.has=Wee;var y7=pb;function Vee(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var w7=Vee;function qee(e,t){return e.has(t)}var _7=qee,Gee=y7,Yee=w7,Xee=_7,Kee=1,Qee=2;function Jee(e,t,r,n,a,i){var s=r&Kee,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Qee?new Gee:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],x=t[f];if(n)var g=s?n(x,m,f,t,e,i):n(m,x,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!Yee(t,function(v,b){if(!Xee(p,b)&&(m===v||a(m,v,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(m===x||a(m,x,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var N7=Jee,Zee=pc,ete=Zee.Uint8Array,tte=ete;function rte(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var nte=rte;function ate(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var AS=ate,bk=rg,yk=tte,ite=dS,ste=N7,ote=nte,lte=AS,cte=1,ute=2,dte="[object Boolean]",fte="[object Date]",hte="[object Error]",pte="[object Map]",mte="[object Number]",xte="[object RegExp]",gte="[object Set]",vte="[object String]",bte="[object Symbol]",yte="[object ArrayBuffer]",wte="[object DataView]",wk=bk?bk.prototype:void 0,__=wk?wk.valueOf:void 0;function _te(e,t,r,n,a,i,s){switch(r){case wte:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yte:return!(e.byteLength!=t.byteLength||!i(new yk(e),new yk(t)));case dte:case fte:case mte:return ite(+e,+t);case hte:return e.name==t.name&&e.message==t.message;case xte:case vte:return e==t+"";case pte:var l=ote;case gte:var c=n&cte;if(l||(l=lte),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=ute,s.set(e,t);var d=ste(l(e),l(t),n,a,i,s);return s.delete(e),d;case bte:if(__)return __.call(e)==__.call(t)}return!1}var Nte=_te;function jte(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var j7=jte,Ste=j7,Ate=Fs;function Cte(e,t,r){var n=t(e);return Ate(e)?n:Ste(n,r(e))}var Ete=Cte;function kte(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var Tte=kte;function Ote(){return[]}var Pte=Ote,Dte=Tte,Ite=Pte,Mte=Object.prototype,Fte=Mte.propertyIsEnumerable,_k=Object.getOwnPropertySymbols,Rte=_k?function(e){return e==null?[]:(e=Object(e),Dte(_k(e),function(t){return Fte.call(e,t)}))}:Ite,Lte=Rte;function Bte(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $te=Bte,zte=uu,Ute=du,Hte="[object Arguments]";function Wte(e){return Ute(e)&&zte(e)==Hte}var Vte=Wte,Nk=Vte,qte=du,S7=Object.prototype,Gte=S7.hasOwnProperty,Yte=S7.propertyIsEnumerable,Xte=Nk(function(){return arguments}())?Nk:function(e){return qte(e)&&Gte.call(e,"callee")&&!Yte.call(e,"callee")},CS=Xte,mb={exports:{}};function Kte(){return!1}var Qte=Kte;mb.exports;(function(e,t){var r=pc,n=Qte,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(mb,mb.exports);var A7=mb.exports,Jte=9007199254740991,Zte=/^(?:0|[1-9]\d*)$/;function ere(e,t){var r=typeof e;return t=t??Jte,!!t&&(r=="number"||r!="symbol"&&Zte.test(e))&&e>-1&&e%1==0&&e<t}var ES=ere,tre=9007199254740991;function rre(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tre}var kS=rre,nre=uu,are=kS,ire=du,sre="[object Arguments]",ore="[object Array]",lre="[object Boolean]",cre="[object Date]",ure="[object Error]",dre="[object Function]",fre="[object Map]",hre="[object Number]",pre="[object Object]",mre="[object RegExp]",xre="[object Set]",gre="[object String]",vre="[object WeakMap]",bre="[object ArrayBuffer]",yre="[object DataView]",wre="[object Float32Array]",_re="[object Float64Array]",Nre="[object Int8Array]",jre="[object Int16Array]",Sre="[object Int32Array]",Are="[object Uint8Array]",Cre="[object Uint8ClampedArray]",Ere="[object Uint16Array]",kre="[object Uint32Array]",Tn={};Tn[wre]=Tn[_re]=Tn[Nre]=Tn[jre]=Tn[Sre]=Tn[Are]=Tn[Cre]=Tn[Ere]=Tn[kre]=!0;Tn[sre]=Tn[ore]=Tn[bre]=Tn[lre]=Tn[yre]=Tn[cre]=Tn[ure]=Tn[dre]=Tn[fre]=Tn[hre]=Tn[pre]=Tn[mre]=Tn[xre]=Tn[gre]=Tn[vre]=!1;function Tre(e){return ire(e)&&are(e.length)&&!!Tn[nre(e)]}var Ore=Tre;function Pre(e){return function(t){return e(t)}}var C7=Pre,xb={exports:{}};xb.exports;(function(e,t){var r=MM,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(xb,xb.exports);var Dre=xb.exports,Ire=Ore,Mre=C7,jk=Dre,Sk=jk&&jk.isTypedArray,Fre=Sk?Mre(Sk):Ire,E7=Fre,Rre=$te,Lre=CS,Bre=Fs,$re=A7,zre=ES,Ure=E7,Hre=Object.prototype,Wre=Hre.hasOwnProperty;function Vre(e,t){var r=Bre(e),n=!r&&Lre(e),a=!r&&!n&&$re(e),i=!r&&!n&&!a&&Ure(e),s=r||n||a||i,l=s?Rre(e.length,String):[],c=l.length;for(var u in e)(t||Wre.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zre(u,c)))&&l.push(u);return l}var qre=Vre,Gre=Object.prototype;function Yre(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gre;return e===r}var Xre=Yre;function Kre(e,t){return function(r){return e(t(r))}}var k7=Kre,Qre=k7,Jre=Qre(Object.keys,Object),Zre=Jre,ene=Xre,tne=Zre,rne=Object.prototype,nne=rne.hasOwnProperty;function ane(e){if(!ene(e))return tne(e);var t=[];for(var r in Object(e))nne.call(e,r)&&r!="constructor"&&t.push(r);return t}var ine=ane,sne=uS,one=kS;function lne(e){return e!=null&&one(e.length)&&!sne(e)}var ig=lne,cne=qre,une=ine,dne=ig;function fne(e){return dne(e)?cne(e):une(e)}var _w=fne,hne=Ete,pne=Lte,mne=_w;function xne(e){return hne(e,mne,pne)}var gne=xne,Ak=gne,vne=1,bne=Object.prototype,yne=bne.hasOwnProperty;function wne(e,t,r,n,a,i){var s=r&vne,l=Ak(e),c=l.length,u=Ak(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:yne.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var x=!0;i.set(e,t),i.set(t,e);for(var g=s;++f<c;){h=l[f];var v=e[h],b=t[h];if(n)var y=s?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(y===void 0?v===b||a(v,b,r,n,i):y)){x=!1;break}g||(g=h=="constructor")}if(x&&!g){var _=e.constructor,N=t.constructor;_!=N&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof N=="function"&&N instanceof N)&&(x=!1)}return i.delete(e),i.delete(t),x}var _ne=wne,Nne=sf,jne=pc,Sne=Nne(jne,"DataView"),Ane=Sne,Cne=sf,Ene=pc,kne=Cne(Ene,"Promise"),Tne=kne,One=sf,Pne=pc,Dne=One(Pne,"Set"),T7=Dne,Ine=sf,Mne=pc,Fne=Ine(Mne,"WeakMap"),Rne=Fne,DN=Ane,IN=fS,MN=Tne,FN=T7,RN=Rne,O7=uu,zp=RM,Ck="[object Map]",Lne="[object Object]",Ek="[object Promise]",kk="[object Set]",Tk="[object WeakMap]",Ok="[object DataView]",Bne=zp(DN),$ne=zp(IN),zne=zp(MN),Une=zp(FN),Hne=zp(RN),r0=O7;(DN&&r0(new DN(new ArrayBuffer(1)))!=Ok||IN&&r0(new IN)!=Ck||MN&&r0(MN.resolve())!=Ek||FN&&r0(new FN)!=kk||RN&&r0(new RN)!=Tk)&&(r0=function(e){var t=O7(e),r=t==Lne?e.constructor:void 0,n=r?zp(r):"";if(n)switch(n){case Bne:return Ok;case $ne:return Ck;case zne:return Ek;case Une:return kk;case Hne:return Tk}return t});var Wne=r0,N_=b7,Vne=N7,qne=Nte,Gne=_ne,Pk=Wne,Dk=Fs,Ik=A7,Yne=E7,Xne=1,Mk="[object Arguments]",Fk="[object Array]",kv="[object Object]",Kne=Object.prototype,Rk=Kne.hasOwnProperty;function Qne(e,t,r,n,a,i){var s=Dk(e),l=Dk(t),c=s?Fk:Pk(e),u=l?Fk:Pk(t);c=c==Mk?kv:c,u=u==Mk?kv:u;var d=c==kv,f=u==kv,h=c==u;if(h&&Ik(e)){if(!Ik(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new N_),s||Yne(e)?Vne(e,t,r,n,a,i):qne(e,t,c,r,n,a,i);if(!(r&Xne)){var p=d&&Rk.call(e,"__wrapped__"),m=f&&Rk.call(t,"__wrapped__");if(p||m){var x=p?e.value():e,g=m?t.value():t;return i||(i=new N_),a(x,g,r,n,i)}}return h?(i||(i=new N_),Gne(e,t,r,n,a,i)):!1}var Jne=Qne,Zne=Jne,Lk=du;function P7(e,t,r,n,a){return e===t?!0:e==null||t==null||!Lk(e)&&!Lk(t)?e!==e&&t!==t:Zne(e,t,r,n,P7,a)}var TS=P7,eae=b7,tae=TS,rae=1,nae=2;function aae(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new eae;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?tae(d,u,rae|nae,n,f):h))return!1}}return!0}var iae=aae,sae=Ed;function oae(e){return e===e&&!sae(e)}var D7=oae,lae=D7,cae=_w;function uae(e){for(var t=cae(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,lae(a)]}return t}var dae=uae;function fae(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var I7=fae,hae=iae,pae=dae,mae=I7;function xae(e){var t=pae(e);return t.length==1&&t[0][2]?mae(t[0][0],t[0][1]):function(r){return r===e||hae(r,e,t)}}var gae=xae;function vae(e,t){return e!=null&&t in Object(e)}var bae=vae,yae=UM,wae=CS,_ae=Fs,Nae=ES,jae=kS,Sae=ow;function Aae(e,t,r){t=yae(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=Sae(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&jae(a)&&Nae(s,a)&&(_ae(e)||wae(e)))}var Cae=Aae,Eae=bae,kae=Cae;function Tae(e,t){return e!=null&&kae(e,t,Eae)}var Oae=Tae,Pae=TS,Dae=HM,Iae=Oae,Mae=cS,Fae=D7,Rae=I7,Lae=ow,Bae=1,$ae=2;function zae(e,t){return Mae(e)&&Fae(t)?Rae(Lae(e),t):function(r){var n=Dae(r,e);return n===void 0&&n===t?Iae(r,e):Pae(t,n,Bae|$ae)}}var Uae=zae;function Hae(e){return e}var Up=Hae;function Wae(e){return function(t){return t==null?void 0:t[e]}}var Vae=Wae,qae=xS;function Gae(e){return function(t){return qae(t,e)}}var Yae=Gae,Xae=Vae,Kae=Yae,Qae=cS,Jae=ow;function Zae(e){return Qae(e)?Xae(Jae(e)):Kae(e)}var eie=Zae,tie=gae,rie=Uae,nie=Up,aie=Fs,iie=eie;function sie(e){return typeof e=="function"?e:e==null?nie:typeof e=="object"?aie(e)?rie(e[0],e[1]):tie(e):iie(e)}var mc=sie;function oie(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var M7=oie;function lie(e){return e!==e}var cie=lie;function uie(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var die=uie,fie=M7,hie=cie,pie=die;function mie(e,t,r){return t===t?pie(e,t,r):fie(e,hie,r)}var xie=mie,gie=xie;function vie(e,t){var r=e==null?0:e.length;return!!r&&gie(e,t,0)>-1}var bie=vie;function yie(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var wie=yie;function _ie(){}var Nie=_ie,j_=T7,jie=Nie,Sie=AS,Aie=1/0,Cie=j_&&1/Sie(new j_([,-0]))[1]==Aie?function(e){return new j_(e)}:jie,Eie=Cie,kie=y7,Tie=bie,Oie=wie,Pie=_7,Die=Eie,Iie=AS,Mie=200;function Fie(e,t,r){var n=-1,a=Tie,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=Oie;else if(i>=Mie){var u=t?null:Die(e);if(u)return Iie(u);s=!1,a=Pie,c=new kie}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Rie=Fie,Lie=mc,Bie=Rie;function $ie(e,t){return e&&e.length?Bie(e,Lie(t)):[]}var zie=$ie;const Bk=rn(zie);function F7(e,t,r){return t===!0?Bk(e,r):Xt(t)?Bk(e,t):e}function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var Uie=["ref"];function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){Nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L7(n.key),n)}}function Wie(e,t,r){return t&&zk(e.prototype,t),r&&zk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vie(e,t,r){return t=gb(t),qie(e,R7()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function qie(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gie(e)}function Gie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R7=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function Yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LN(e,t)}function Nw(e,t,r){return t=L7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7(e){var t=Xie(e,"string");return Xh(t)=="symbol"?t:t+""}function Xie(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kie(e,t){if(e==null)return{};var r=Qie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jie(e){return e.value}function Zie(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return K.createElement(e,t);t.ref;var r=Kie(t,Uie);return K.createElement(SS,r)}var Uk=1,N0=function(e){function t(){var r;Hie(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Vie(this,t,[].concat(a)),Nw(r,"lastBoundingBox",{width:-1,height:-1}),r}return Yie(t,e),Wie(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Uk||Math.abs(a.height-this.lastBoundingBox.height)>Uk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Dc(Dc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Dc(Dc({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Zie(i,Dc(Dc({},this.props),{},{payload:F7(d,u,Jie)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Dc(Dc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&dt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(I.PureComponent);Nw(N0,"displayName","Legend");Nw(N0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Hk=rg,ese=CS,tse=Fs,Wk=Hk?Hk.isConcatSpreadable:void 0;function rse(e){return tse(e)||ese(e)||!!(Wk&&e&&e[Wk])}var nse=rse,ase=j7,ise=nse;function B7(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=ise),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?B7(l,t-1,r,n,a):ase(a,l):n||(a[a.length]=l)}return a}var $7=B7;function sse(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var ose=sse,lse=ose,cse=lse(),use=cse,dse=use,fse=_w;function hse(e,t){return e&&dse(e,t,fse)}var z7=hse,pse=ig;function mse(e,t){return function(r,n){if(r==null)return r;if(!pse(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var xse=mse,gse=z7,vse=xse,bse=vse(gse),OS=bse,yse=OS,wse=ig;function _se(e,t){var r=-1,n=wse(e)?Array(e.length):[];return yse(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var U7=_se;function Nse(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var jse=Nse,Vk=Ip;function Sse(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Vk(e),s=t!==void 0,l=t===null,c=t===t,u=Vk(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var Ase=Sse,Cse=Ase;function Ese(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=Cse(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var kse=Ese,S_=mS,Tse=xS,Ose=mc,Pse=U7,Dse=jse,Ise=C7,Mse=kse,Fse=Up,Rse=Fs;function Lse(e,t,r){t.length?t=S_(t,function(i){return Rse(i)?function(s){return Tse(s,i.length===1?i[0]:i)}:i}):t=[Fse];var n=-1;t=S_(t,Ise(Ose));var a=Pse(e,function(i,s,l){var c=S_(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Dse(a,function(i,s){return Mse(i,s,r)})}var Bse=Lse;function $se(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zse=$se,Use=zse,qk=Math.max;function Hse(e,t,r){return t=qk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=qk(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),Use(e,this,l)}}var Wse=Hse;function Vse(e){return function(){return e}}var qse=Vse,Gse=sf,Yse=function(){try{var e=Gse(Object,"defineProperty");return e({},"",{}),e}catch{}}(),H7=Yse,Xse=qse,Gk=H7,Kse=Up,Qse=Gk?function(e,t){return Gk(e,"toString",{configurable:!0,enumerable:!1,value:Xse(t),writable:!0})}:Kse,Jse=Qse,Zse=800,eoe=16,toe=Date.now;function roe(e){var t=0,r=0;return function(){var n=toe(),a=eoe-(n-r);if(r=n,a>0){if(++t>=Zse)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var noe=roe,aoe=Jse,ioe=noe,soe=ioe(aoe),ooe=soe,loe=Up,coe=Wse,uoe=ooe;function doe(e,t){return uoe(coe(e,t,loe),e+"")}var foe=doe,hoe=dS,poe=ig,moe=ES,xoe=Ed;function goe(e,t,r){if(!xoe(r))return!1;var n=typeof t;return(n=="number"?poe(r)&&moe(t,r.length):n=="string"&&t in r)?hoe(r[t],e):!1}var jw=goe,voe=$7,boe=Bse,yoe=foe,Yk=jw,woe=yoe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Yk(e,t[0],t[1])?t=[]:r>2&&Yk(t[0],t[1],t[2])&&(t=[t[0]]),boe(e,voe(t,1),[])}),_oe=woe;const PS=rn(_oe);function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BN.apply(this,arguments)}function Noe(e,t){return Coe(e)||Aoe(e,t)||Soe(e,t)||joe()}function joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(e,t){if(e){if(typeof e=="string")return Xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(e,t)}}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Coe(e){if(Array.isArray(e))return e}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){Eoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eoe(e,t,r){return t=koe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function koe(e){var t=Toe(e,"string");return Xx(t)=="symbol"?t:t+""}function Toe(e,t){if(Xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ooe(e){return Array.isArray(e)&&Ya(e[0])&&Ya(e[1])?e.join(" ~ "):e}var Poe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,x=t.label,g=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(d&&d.length){var E={padding:0,margin:0},L=(h?PS(d,h):d).map(function(B,G){if(B.type==="none")return null;var z=A_({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),V=B.formatter||f||Ooe,Y=B.value,U=B.name,ae=Y,he=U;if(V&&ae!=null&&he!=null){var k=V(Y,U,B,G,d);if(Array.isArray(k)){var P=Noe(k,2);ae=P[0],he=P[1]}else ae=k}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:z},Ya(he)?K.createElement("span",{className:"recharts-tooltip-item-name"},he):null,Ya(he)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ae),K.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:E},L)}return null},_=A_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=A_({margin:0},u),S=!nr(x),j=S?x:"",A=Pt("recharts-default-tooltip",p),T=Pt("recharts-tooltip-label",m);S&&g&&d!==void 0&&d!==null&&(j=g(x,d));var F=b?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",BN({className:A,style:_},F),K.createElement("p",{className:T,style:N},K.isValidElement(j)?j:"".concat(j)),y())};function Kx(e){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kx(e)}function Tv(e,t,r){return t=Doe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Doe(e){var t=Ioe(e,"string");return Kx(t)=="symbol"?t:t+""}function Ioe(e,t){if(Kx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rm="recharts-tooltip-wrapper",Moe={visibility:"hidden"};function Foe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Pt(Rm,Tv(Tv(Tv(Tv({},"".concat(Rm,"-right"),dt(r)&&t&&dt(t.x)&&r>=t.x),"".concat(Rm,"-left"),dt(r)&&t&&dt(t.x)&&r<t.x),"".concat(Rm,"-bottom"),dt(n)&&t&&dt(t.y)&&n>=t.y),"".concat(Rm,"-top"),dt(n)&&t&&dt(t.y)&&n<t.y))}function Qk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&dt(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var m=f+l,x=c[n]+u;return m>x?Math.max(d,c[n]):Math.max(f,c[n])}function Roe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Loe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=Qk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=Qk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Roe({translateX:d,translateY:f,useTranslate3d:l})):u=Moe,{cssProperties:u,cssClasses:Foe({translateX:d,translateY:f,coordinate:r})}}function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(n){zN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V7(n.key),n)}}function zoe(e,t,r){return t&&$oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uoe(e,t,r){return t=vb(t),Hoe(e,W7()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function Hoe(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Woe(e)}function Woe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function Voe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$N(e,t)}function zN(e,t,r){return t=V7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V7(e){var t=qoe(e,"string");return Kh(t)=="symbol"?t:t+""}function qoe(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e6=1,Goe=function(e){function t(){var r;Boe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Uoe(this,t,[].concat(a)),zN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zN(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Voe(t,e),zoe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>e6||Math.abs(n.height-this.state.lastBoundingBox.height)>e6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,x=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,y=Loe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),_=y.cssClasses,N=y.cssProperties,S=Zk(Zk({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return K.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(A){n.wrapperNode=A}},u)}}])}(I.PureComponent),Yoe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nc={isSsr:Yoe(),get:function(t){return nc[t]},set:function(t,r){if(typeof t=="string")nc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){nc[a]=t[a]})}}};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function t6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(r),!0).forEach(function(n){DS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Koe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G7(n.key),n)}}function Qoe(e,t,r){return t&&Koe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Joe(e,t,r){return t=bb(t),Zoe(e,q7()?Reflect.construct(t,r||[],bb(e).constructor):t.apply(e,r))}function Zoe(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ele(e)}function ele(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q7=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}function tle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UN(e,t)}function DS(e,t,r){return t=G7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G7(e){var t=rle(e,"string");return Qh(t)=="symbol"?t:t+""}function rle(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nle(e){return e.dataKey}function ale(e,t){return K.isValidElement(e)?K.cloneElement(e,t):typeof e=="function"?K.createElement(e,t):K.createElement(Poe,t)}var Do=function(e){function t(){return Xoe(this,t),Joe(this,t,arguments)}return tle(t,e),Qoe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,x=a.payloadUniqBy,g=a.position,v=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,_=a.wrapperStyle,N=m??[];f&&N.length&&(N=F7(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),x,nle));var S=N.length>0;return K.createElement(Goe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:_},ale(u,r6(r6({},this.props),{},{payload:N})))}}])}(I.PureComponent);DS(Do,"displayName","Tooltip");DS(Do,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ile=pc,sle=function(){return ile.Date.now()},ole=sle,lle=/\s/;function cle(e){for(var t=e.length;t--&&lle.test(e.charAt(t)););return t}var ule=cle,dle=ule,fle=/^\s+/;function hle(e){return e&&e.slice(0,dle(e)+1).replace(fle,"")}var ple=hle,mle=ple,n6=Ed,xle=Ip,a6=NaN,gle=/^[-+]0x[0-9a-f]+$/i,vle=/^0b[01]+$/i,ble=/^0o[0-7]+$/i,yle=parseInt;function wle(e){if(typeof e=="number")return e;if(xle(e))return a6;if(n6(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=n6(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mle(e);var r=vle.test(e);return r||ble.test(e)?yle(e.slice(2),r?2:8):gle.test(e)?a6:+e}var Y7=wle,_le=Ed,C_=ole,i6=Y7,Nle="Expected a function",jle=Math.max,Sle=Math.min;function Ale(e,t,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Nle);t=i6(t)||0,_le(r)&&(d=!!r.leading,f="maxWait"in r,i=f?jle(i6(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var j=n,A=a;return n=a=void 0,u=S,s=e.apply(A,j),s}function m(S){return u=S,l=setTimeout(v,t),d?p(S):s}function x(S){var j=S-c,A=S-u,T=t-j;return f?Sle(T,i-A):T}function g(S){var j=S-c,A=S-u;return c===void 0||j>=t||j<0||f&&A>=i}function v(){var S=C_();if(g(S))return b(S);l=setTimeout(v,x(S))}function b(S){return l=void 0,h&&n?p(S):(n=a=void 0,s)}function y(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?s:b(C_())}function N(){var S=C_(),j=g(S);if(n=arguments,a=this,c=S,j){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),s}return N.cancel=y,N.flush=_,N}var Cle=Ale,Ele=Cle,kle=Ed,Tle="Expected a function";function Ole(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Tle);return kle(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ele(e,t,{leading:n,maxWait:t,trailing:a})}var Ple=Ole;const X7=rn(Ple);function Qx(e){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(e)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(n){Dle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dle(e,t,r){return t=Ile(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ile(e){var t=Mle(e,"string");return Qx(t)=="symbol"?t:t+""}function Mle(e,t){if(Qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fle(e,t){return $le(e)||Ble(e,t)||Lle(e,t)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lle(e,t){if(e){if(typeof e=="string")return o6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o6(e,t)}}function o6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ble(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function $le(e){if(Array.isArray(e))return e}var yb=I.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,x=m===void 0?0:m,g=e.id,v=e.className,b=e.onResize,y=e.style,_=y===void 0?{}:y,N=I.useRef(null),S=I.useRef();S.current=b,I.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var j=I.useState({containerWidth:a.width,containerHeight:a.height}),A=Fle(j,2),T=A[0],F=A[1],O=I.useCallback(function(L,B){F(function(G){var z=Math.round(L),V=Math.round(B);return G.containerWidth===z&&G.containerHeight===V?G:{containerWidth:z,containerHeight:V}})},[]);I.useEffect(function(){var L=function(U){var ae,he=U[0].contentRect,k=he.width,P=he.height;O(k,P),(ae=S.current)===null||ae===void 0||ae.call(S,k,P)};x>0&&(L=X7(L,x,{trailing:!0,leading:!1}));var B=new ResizeObserver(L),G=N.current.getBoundingClientRect(),z=G.width,V=G.height;return O(z,V),B.observe(N.current),function(){B.disconnect()}},[O,x]);var E=I.useMemo(function(){var L=T.containerWidth,B=T.containerHeight;if(L<0||B<0)return null;yl(h0(s)||h0(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),yl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=h0(s)?L:s,z=h0(c)?B:c;r&&r>0&&(G?z=G/r:z&&(G=z*r),h&&z>h&&(z=h)),yl(G>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,z,s,c,d,f,r);var V=!Array.isArray(p)&&qc(p.type).endsWith("Chart");return K.Children.map(p,function(Y){return K.isValidElement(Y)?I.cloneElement(Y,Ov({width:G,height:z},V?{style:Ov({height:"100%",width:"100%",maxHeight:z,maxWidth:G},Y.props.style)}:{})):Y})},[r,p,c,h,f,d,T,s]);return K.createElement("div",{id:g?"".concat(g):void 0,className:Pt("recharts-responsive-container",v),style:Ov(Ov({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},E)}),sg=function(t){return null};sg.displayName="Cell";function Jx(e){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(e)}function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(n){zle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zle(e,t,r){return t=Ule(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ule(e){var t=Hle(e,"string");return Jx(t)=="symbol"?t:t+""}function Hle(e,t){if(Jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vf={widthCache:{},cacheCount:0},Wle=2e3,Vle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},c6="recharts_measurement_span";function qle(e){var t=HN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nc.isSsr)return{width:0,height:0};var n=qle(r),a=JSON.stringify({text:t,copyStyle:n});if(Vf.widthCache[a])return Vf.widthCache[a];try{var i=document.getElementById(c6);i||(i=document.createElement("span"),i.setAttribute("id",c6),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=HN(HN({},Vle),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Vf.widthCache[a]=c,++Vf.cacheCount>Wle&&(Vf.cacheCount=0,Vf.widthCache={}),c}catch{return{width:0,height:0}}},Gle=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}function wb(e,t){return Qle(e)||Kle(e,t)||Xle(e,t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(e,t){if(e){if(typeof e=="string")return u6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u6(e,t)}}function u6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Qle(e){if(Array.isArray(e))return e}function Jle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ece(n.key),n)}}function Zle(e,t,r){return t&&d6(e.prototype,t),r&&d6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ece(e){var t=tce(e,"string");return Zx(t)=="symbol"?t:t+""}function tce(e,t){if(Zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var f6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ace=Object.keys(K7),vh="NaN";function ice(e,t){return e*K7[t]}var Pv=function(){function e(t,r){Jle(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rce.test(r)&&(this.num=NaN,this.unit=""),ace.includes(r)&&(this.num=ice(t,r),this.unit="px")}return Zle(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=nce.exec(r))!==null&&n!==void 0?n:[],i=wb(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function Q7(e){if(e.includes(vh))return vh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=f6.exec(t))!==null&&r!==void 0?r:[],a=wb(n,4),i=a[1],s=a[2],l=a[3],c=Pv.parse(i??""),u=Pv.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return vh;t=t.replace(f6,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=h6.exec(t))!==null&&f!==void 0?f:[],p=wb(h,4),m=p[1],x=p[2],g=p[3],v=Pv.parse(m??""),b=Pv.parse(g??""),y=x==="+"?v.add(b):v.subtract(b);if(y.isNaN())return vh;t=t.replace(h6,y.toString())}return t}var p6=/\(([^()]*)\)/;function sce(e){for(var t=e;t.includes("(");){var r=p6.exec(t),n=wb(r,2),a=n[1];t=t.replace(p6,Q7(a))}return t}function oce(e){var t=e.replace(/\s+/g,"");return t=sce(t),t=Q7(t),t}function lce(e){try{return oce(e)}catch{return vh}}function E_(e){var t=lce(e.slice(5,-1));return t===vh?"":t}var cce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uce=["dx","dy","angle","className","breakAll"];function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WN.apply(this,arguments)}function m6(e,t){if(e==null)return{};var r=dce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x6(e,t){return mce(e)||pce(e,t)||hce(e,t)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(e,t){if(e){if(typeof e=="string")return g6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g6(e,t)}}function g6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function mce(e){if(Array.isArray(e))return e}var J7=/[ \f\n\r\t\v\u2028\u2029]+/,Z7=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];nr(r)||(n?i=r.toString().split(""):i=r.toString().split(J7));var s=i.map(function(c){return{word:c,width:bx(c,a).width}}),l=n?0:bx(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},xce=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=dt(s),f=l,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(z,V){var Y=V.word,U=V.width,ae=z[z.length-1];if(ae&&(a==null||i||ae.width+U+n<Number(a)))ae.words.push(Y),ae.width+=U+n;else{var he={words:[Y],width:U};z.push(he)}return z},[])},p=h(r),m=function(G){return G.reduce(function(z,V){return z.width>V.width?z:V})};if(!d)return p;for(var x="…",g=function(G){var z=f.slice(0,G),V=Z7({breakAll:u,style:c,children:z+x}).wordsWithComputedWidth,Y=h(V),U=Y.length>s||m(Y).width>Number(a);return[U,Y]},v=0,b=f.length-1,y=0,_;v<=b&&y<=f.length-1;){var N=Math.floor((v+b)/2),S=N-1,j=g(S),A=x6(j,2),T=A[0],F=A[1],O=g(N),E=x6(O,1),L=E[0];if(!T&&!L&&(v=N+1),T&&L&&(b=N-1),!T&&L){_=F;break}y++}return _||p},v6=function(t){var r=nr(t)?[]:t.toString().split(J7);return[{words:r}]},gce=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!nc.isSsr){var c,u,d=Z7({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return v6(a);return xce({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return v6(a)},b6="#808080",B0=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,x=m===void 0?"end":m,g=t.fill,v=g===void 0?b6:g,b=m6(t,cce),y=I.useMemo(function(){return gce({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,N=b.dy,S=b.angle,j=b.className,A=b.breakAll,T=m6(b,uce);if(!Ya(n)||!Ya(i))return null;var F=n+(dt(_)?_:0),O=i+(dt(N)?N:0),E;switch(x){case"start":E=E_("calc(".concat(u,")"));break;case"middle":E=E_("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=E_("calc(".concat(y.length-1," * -").concat(l,")"));break}var L=[];if(f){var B=y[0].width,G=b.width;L.push("scale(".concat((dt(G)?G/B:1)/B,")"))}return S&&L.push("rotate(".concat(S,", ").concat(F,", ").concat(O,")")),L.length&&(T.transform=L.join(" ")),K.createElement("text",WN({},zt(T,!0),{x:F,y:O,className:Pt("recharts-text",j),textAnchor:p,fill:v.includes("url")?b6:v}),y.map(function(z,V){var Y=z.words.join(A?"":" ");return K.createElement("tspan",{x:F,dy:V===0?E:l,key:"".concat(Y,"-").concat(V)},Y)}))};function dd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vce(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IS(e){let t,r,n;e.length!==2?(t=dd,r=(l,c)=>dd(e(l),c),n=(l,c)=>e(l)-c):(t=e===dd||e===vce?e:bce,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function bce(){return 0}function eF(e){return e===null?NaN:+e}function*yce(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wce=IS(dd),og=wce.right;IS(eF).center;class y6 extends Map{constructor(t,r=jce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(w6(this,t))}has(t){return super.has(w6(this,t))}set(t,r){return super.set(_ce(this,t),r)}delete(t){return super.delete(Nce(this,t))}}function w6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _ce({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nce({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function jce(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Sce(e=dd){if(e===dd)return tF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ace=Math.sqrt(50),Cce=Math.sqrt(10),Ece=Math.sqrt(2);function _b(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Ace?10:i>=Cce?5:i>=Ece?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?_b(e,t,r*2):[l,c,u]}function VN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?_b(t,e,r):_b(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function qN(e,t,r){return t=+t,e=+e,r=+r,_b(e,t,r)[2]}function GN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?qN(t,e,r):qN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function N6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?tF:Sce(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));rF(e,t,p,m,a)}const i=e[t];let s=r,l=n;for(Lm(e,r,t),a(e[n],i)>0&&Lm(e,r,n);s<l;){for(Lm(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Lm(e,r,l):(++l,Lm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Lm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function kce(e,t,r){if(e=Float64Array.from(yce(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return N6(e);if(t>=1)return _6(e);var n,a=(n-1)*t,i=Math.floor(a),s=_6(rF(e,i).subarray(0,i+1)),l=N6(e.subarray(i+1));return s+(l-s)*(a-i)}}function Tce(e,t,r=eF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function Oce(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ko(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const YN=Symbol("implicit");function MS(){var e=new y6,t=[],r=[],n=YN;function a(i){let s=e.get(i);if(s===void 0){if(n!==YN)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new y6;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return MS(t,r).unknown(n)},Ko.apply(a,arguments),a}function e1(){var e=MS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,x=p?n:a;i=(x-m)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),m+=(x-m-i*(h-c))*d,s=i*(1-c),l&&(m=Math.round(m),s=Math.round(s));var g=Oce(h).map(function(v){return m+i*v});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return e1(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ko.apply(f(),arguments)}function nF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nF(t())},e}function yx(){return nF(e1.apply(null,arguments).paddingInner(1))}function FS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lg(){}var t1=.7,Nb=1/t1,Ph="\\s*([+-]?\\d+)\\s*",r1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pce=/^#([0-9a-f]{3,8})$/,Dce=new RegExp(`^rgb\\(${Ph},${Ph},${Ph}\\)$`),Ice=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),Mce=new RegExp(`^rgba\\(${Ph},${Ph},${Ph},${r1}\\)$`),Fce=new RegExp(`^rgba\\(${ac},${ac},${ac},${r1}\\)$`),Rce=new RegExp(`^hsl\\(${r1},${ac},${ac}\\)$`),Lce=new RegExp(`^hsla\\(${r1},${ac},${ac},${r1}\\)$`),j6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FS(lg,n1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S6,formatHex:S6,formatHex8:Bce,formatHsl:$ce,formatRgb:A6,toString:A6});function S6(){return this.rgb().formatHex()}function Bce(){return this.rgb().formatHex8()}function $ce(){return iF(this).formatHsl()}function A6(){return this.rgb().formatRgb()}function n1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pce.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?C6(t):r===3?new Ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Dv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Dv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Dce.exec(e))?new Ts(t[1],t[2],t[3],1):(t=Ice.exec(e))?new Ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mce.exec(e))?Dv(t[1],t[2],t[3],t[4]):(t=Fce.exec(e))?Dv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rce.exec(e))?T6(t[1],t[2]/100,t[3]/100,1):(t=Lce.exec(e))?T6(t[1],t[2]/100,t[3]/100,t[4]):j6.hasOwnProperty(e)?C6(j6[e]):e==="transparent"?new Ts(NaN,NaN,NaN,0):null}function C6(e){return new Ts(e>>16&255,e>>8&255,e&255,1)}function Dv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ts(e,t,r,n)}function zce(e){return e instanceof lg||(e=n1(e)),e?(e=e.rgb(),new Ts(e.r,e.g,e.b,e.opacity)):new Ts}function XN(e,t,r,n){return arguments.length===1?zce(e):new Ts(e,t,r,n??1)}function Ts(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}FS(Ts,XN,aF(lg,{brighter(e){return e=e==null?Nb:Math.pow(Nb,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?t1:Math.pow(t1,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(j0(this.r),j0(this.g),j0(this.b),jb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E6,formatHex:E6,formatHex8:Uce,formatRgb:k6,toString:k6}));function E6(){return`#${p0(this.r)}${p0(this.g)}${p0(this.b)}`}function Uce(){return`#${p0(this.r)}${p0(this.g)}${p0(this.b)}${p0((isNaN(this.opacity)?1:this.opacity)*255)}`}function k6(){const e=jb(this.opacity);return`${e===1?"rgb(":"rgba("}${j0(this.r)}, ${j0(this.g)}, ${j0(this.b)}${e===1?")":`, ${e})`}`}function jb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function j0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function p0(e){return e=j0(e),(e<16?"0":"")+e.toString(16)}function T6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ml(e,t,r,n)}function iF(e){if(e instanceof ml)return new ml(e.h,e.s,e.l,e.opacity);if(e instanceof lg||(e=n1(e)),!e)return new ml;if(e instanceof ml)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new ml(s,l,c,e.opacity)}function Hce(e,t,r,n){return arguments.length===1?iF(e):new ml(e,t,r,n??1)}function ml(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}FS(ml,Hce,aF(lg,{brighter(e){return e=e==null?Nb:Math.pow(Nb,e),new ml(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?t1:Math.pow(t1,e),new ml(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ts(k_(e>=240?e-240:e+120,a,n),k_(e,a,n),k_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ml(O6(this.h),Iv(this.s),Iv(this.l),jb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jb(this.opacity);return`${e===1?"hsl(":"hsla("}${O6(this.h)}, ${Iv(this.s)*100}%, ${Iv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O6(e){return e=(e||0)%360,e<0?e+360:e}function Iv(e){return Math.max(0,Math.min(1,e||0))}function k_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const RS=e=>()=>e;function Wce(e,t){return function(r){return e+r*t}}function Vce(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qce(e){return(e=+e)==1?sF:function(t,r){return r-t?Vce(t,r,e):RS(isNaN(t)?r:t)}}function sF(e,t){var r=t-e;return r?Wce(e,r):RS(isNaN(e)?t:e)}const P6=function e(t){var r=qce(t);function n(a,i){var s=r((a=XN(a)).r,(i=XN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=sF(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Gce(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Yce(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xce(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Hp(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function Kce(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Sb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Qce(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var KN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T_=new RegExp(KN.source,"g");function Jce(e){return function(){return e}}function Zce(e){return function(t){return e(t)+""}}function eue(e,t){var r=KN.lastIndex=T_.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=KN.exec(e))&&(a=T_.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Sb(n,a)})),r=T_.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?Zce(c[0].x):Jce(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Hp(e,t){var r=typeof t,n;return t==null||r==="boolean"?RS(t):(r==="number"?Sb:r==="string"?(n=n1(t))?(t=n,P6):eue:t instanceof n1?P6:t instanceof Date?Kce:Yce(t)?Gce:Array.isArray(t)?Xce:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qce:Sb)(e,t)}function LS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tue(e,t){t===void 0&&(t=e,e=Hp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function rue(e){return function(){return e}}function Ab(e){return+e}var D6=[0,1];function hs(e){return e}function QN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rue(isNaN(t)?NaN:.5)}function nue(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aue(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=QN(a,n),i=r(s,i)):(n=QN(n,a),i=r(i,s)),function(l){return i(n(l))}}function iue(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=QN(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=og(e,l,1,n)-1;return i[c](a[c](l))}}function cg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sw(){var e=D6,t=D6,r=Hp,n,a,i,s=hs,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==hs&&(s=nue(e[0],e[h-1])),l=h>2?iue:aue,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),Sb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ab),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=LS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:hs,d()):s!==hs},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function BS(){return Sw()(hs,hs)}function sue(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Jh(e){return e=Cb(Math.abs(e)),e?e[1]:NaN}function oue(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function lue(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a1(e){if(!(t=cue.exec(e)))throw new Error("invalid format: "+e);var t;return new $S({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}a1.prototype=$S.prototype;function $S(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$S.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uue(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var oF;function due(e,t){var r=Cb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(oF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Cb(e,Math.max(0,t+i-1))[0]}function I6(e,t){var r=Cb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const M6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sue,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I6(e*100,t),r:I6,s:due,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F6(e){return e}var R6=Array.prototype.map,L6=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fue(e){var t=e.grouping===void 0||e.thousands===void 0?F6:oue(R6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?F6:lue(R6.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=a1(f);var h=f.fill,p=f.align,m=f.sign,x=f.symbol,g=f.zero,v=f.width,b=f.comma,y=f.precision,_=f.trim,N=f.type;N==="n"?(b=!0,N="g"):M6[N]||(y===void 0&&(y=12),_=!0,N="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=x==="$"?n:/[%p]/.test(N)?s:"",A=M6[N],T=/[defgprs%]/.test(N);y=y===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function F(O){var E=S,L=j,B,G,z;if(N==="c")L=A(O)+L,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),y),_&&(O=uue(O)),V&&+O==0&&m!=="+"&&(V=!1),E=(V?m==="("?m:l:m==="-"||m==="("?"":m)+E,L=(N==="s"?L6[8+oF/3]:"")+L+(V&&m==="("?")":""),T){for(B=-1,G=O.length;++B<G;)if(z=O.charCodeAt(B),48>z||z>57){L=(z===46?a+O.slice(B+1):O.slice(B))+L,O=O.slice(0,B);break}}}b&&!g&&(O=t(O,1/0));var Y=E.length+O.length+L.length,U=Y<v?new Array(v-Y+1).join(h):"";switch(b&&g&&(O=t(U+O,U.length?v-L.length:1/0),U=""),p){case"<":O=E+O+L+U;break;case"=":O=E+U+O+L;break;case"^":O=U.slice(0,Y=U.length>>1)+E+O+L+U.slice(Y);break;default:O=U+E+O+L;break}return i(O)}return F.toString=function(){return f+""},F}function d(f,h){var p=u((f=a1(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Jh(h)/3)))*3,x=Math.pow(10,-m),g=L6[8+m/3];return function(v){return p(x*v)+g}}return{format:u,formatPrefix:d}}var Mv,zS,lF;hue({thousands:",",grouping:[3],currency:["$",""]});function hue(e){return Mv=fue(e),zS=Mv.format,lF=Mv.formatPrefix,Mv}function pue(e){return Math.max(0,-Jh(Math.abs(e)))}function mue(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jh(t)/3)))*3-Jh(Math.abs(e)))}function xue(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jh(t)-Jh(e))+1}function cF(e,t,r,n){var a=GN(e,t,r),i;switch(n=a1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=mue(a,s))&&(n.precision=i),lF(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xue(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pue(a))&&(n.precision=i-(n.type==="%")*2);break}}return zS(n)}function kd(e){var t=e.domain;return e.ticks=function(r){var n=t();return VN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return cF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=qN(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Eb(){var e=BS();return e.copy=function(){return cg(e,Eb())},Ko.apply(e,arguments),kd(e)}function uF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ab),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uF(e).unknown(t)},e=arguments.length?Array.from(e,Ab):[0,1],kd(r)}function dF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function B6(e){return Math.log(e)}function $6(e){return Math.exp(e)}function gue(e){return-Math.log(-e)}function vue(e){return-Math.exp(-e)}function bue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yue(e){return e===10?bue:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wue(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z6(e){return(t,r)=>-e(-t,r)}function US(e){const t=e(B6,$6),r=t.domain;let n=10,a,i;function s(){return a=wue(n),i=yue(n),r()[0]<0?(a=z6(a),i=z6(i),e(gue,vue)):e(B6,$6),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),m,x;const g=l==null?10:+l;let v=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(x=h<0?m/i(-h):m*i(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(x=h>0?m/i(-h):m*i(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<g&&(v=VN(u,d,g))}else v=VN(h,p,Math.min(p-h,g)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=a1(c)).precision==null&&(c.trim=!0),c=zS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(dF(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function fF(){const e=US(Sw()).domain([1,10]);return e.copy=()=>cg(e,fF()).base(e.base()),Ko.apply(e,arguments),e}function U6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HS(e){var t=1,r=e(U6(t),H6(t));return r.constant=function(n){return arguments.length?e(U6(t=+n),H6(t)):t},kd(r)}function hF(){var e=HS(Sw());return e.copy=function(){return cg(e,hF()).constant(e.constant())},Ko.apply(e,arguments)}function W6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _ue(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nue(e){return e<0?-e*e:e*e}function WS(e){var t=e(hs,hs),r=1;function n(){return r===1?e(hs,hs):r===.5?e(_ue,Nue):e(W6(r),W6(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},kd(t)}function VS(){var e=WS(Sw());return e.copy=function(){return cg(e,VS()).exponent(e.exponent())},Ko.apply(e,arguments),e}function jue(){return VS.apply(null,arguments).exponent(.5)}function V6(e){return Math.sign(e)*e*e}function Sue(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pF(){var e=BS(),t=[0,1],r=!1,n;function a(i){var s=Sue(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(V6(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ab)).map(V6)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ko.apply(a,arguments),kd(a)}function mF(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=Tce(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[og(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(dd),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return mF().domain(e).range(t).unknown(n)},Ko.apply(i,arguments)}function xF(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[og(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return xF().domain([e,t]).range(a).unknown(i)},Ko.apply(kd(s),arguments)}function gF(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[og(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return gF().domain(e).range(t).unknown(r)},Ko.apply(a,arguments)}const O_=new Date,P_=new Date;function Qa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>Qa(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(O_.setTime(+i),P_.setTime(+s),e(O_),e(P_),Math.floor(r(O_,P_))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const kb=Qa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kb);kb.range;const $c=1e3,Lo=$c*60,zc=Lo*60,iu=zc*24,qS=iu*7,q6=iu*30,D_=iu*365,m0=Qa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$c)},(e,t)=>(t-e)/$c,e=>e.getUTCSeconds());m0.range;const GS=Qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$c)},(e,t)=>{e.setTime(+e+t*Lo)},(e,t)=>(t-e)/Lo,e=>e.getMinutes());GS.range;const YS=Qa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lo)},(e,t)=>(t-e)/Lo,e=>e.getUTCMinutes());YS.range;const XS=Qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$c-e.getMinutes()*Lo)},(e,t)=>{e.setTime(+e+t*zc)},(e,t)=>(t-e)/zc,e=>e.getHours());XS.range;const KS=Qa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zc)},(e,t)=>(t-e)/zc,e=>e.getUTCHours());KS.range;const ug=Qa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lo)/iu,e=>e.getDate()-1);ug.range;const Aw=Qa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iu,e=>e.getUTCDate()-1);Aw.range;const vF=Qa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iu,e=>Math.floor(e/iu));vF.range;function of(e){return Qa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Lo)/qS)}const Cw=of(0),Tb=of(1),Aue=of(2),Cue=of(3),Zh=of(4),Eue=of(5),kue=of(6);Cw.range;Tb.range;Aue.range;Cue.range;Zh.range;Eue.range;kue.range;function lf(e){return Qa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qS)}const Ew=lf(0),Ob=lf(1),Tue=lf(2),Oue=lf(3),ep=lf(4),Pue=lf(5),Due=lf(6);Ew.range;Ob.range;Tue.range;Oue.range;ep.range;Pue.range;Due.range;const QS=Qa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());QS.range;const JS=Qa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());JS.range;const su=Qa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());su.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});su.range;const ou=Qa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ou.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ou.range;function bF(e,t,r,n,a,i){const s=[[m0,1,$c],[m0,5,5*$c],[m0,15,15*$c],[m0,30,30*$c],[i,1,Lo],[i,5,5*Lo],[i,15,15*Lo],[i,30,30*Lo],[a,1,zc],[a,3,3*zc],[a,6,6*zc],[a,12,12*zc],[n,1,iu],[n,2,2*iu],[r,1,qS],[t,1,q6],[t,3,3*q6],[e,1,D_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=IS(([,,g])=>g).right(s,h);if(p===s.length)return e.every(GN(u/D_,d/D_,f));if(p===0)return kb.every(Math.max(GN(u,d,f),1));const[m,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(x)}return[l,c]}const[Iue,Mue]=bF(ou,JS,Ew,vF,KS,YS),[Fue,Rue]=bF(su,QS,Cw,ug,XS,GS);function I_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function M_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Lue(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=$m(a),d=zm(a),f=$m(i),h=zm(i),p=$m(s),m=zm(s),x=$m(l),g=zm(l),v=$m(c),b=zm(c),y={a:V,A:Y,b:U,B:ae,c:null,d:J6,e:J6,f:ode,g:gde,G:bde,H:ade,I:ide,j:sde,L:yF,m:lde,M:cde,p:he,q:k,Q:t8,s:r8,S:ude,u:dde,U:fde,V:hde,w:pde,W:mde,x:null,X:null,y:xde,Y:vde,Z:yde,"%":e8},_={a:P,A:R,b:H,B:X,c:null,d:Z6,e:Z6,f:jde,g:Ide,G:Fde,H:wde,I:_de,j:Nde,L:_F,m:Sde,M:Ade,p:oe,q:fe,Q:t8,s:r8,S:Cde,u:Ede,U:kde,V:Tde,w:Ode,W:Pde,x:null,X:null,y:Dde,Y:Mde,Z:Rde,"%":e8},N={a:F,A:O,b:E,B:L,c:B,d:K6,e:K6,f:ede,g:X6,G:Y6,H:Q6,I:Q6,j:Kue,L:Zue,m:Xue,M:Que,p:T,q:Yue,Q:rde,s:nde,S:Jue,u:Hue,U:Wue,V:Vue,w:Uue,W:que,x:G,X:z,y:X6,Y:Y6,Z:Gue,"%":tde};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(re,ve){return function(Ce){var q=[],Me=-1,Le=0,_e=re.length,ne,De,se;for(Ce instanceof Date||(Ce=new Date(+Ce));++Me<_e;)re.charCodeAt(Me)===37&&(q.push(re.slice(Le,Me)),(De=G6[ne=re.charAt(++Me)])!=null?ne=re.charAt(++Me):De=ne==="e"?" ":"0",(se=ve[ne])&&(ne=se(Ce,De)),q.push(ne),Le=Me+1);return q.push(re.slice(Le,Me)),q.join("")}}function j(re,ve){return function(Ce){var q=Bm(1900,void 0,1),Me=A(q,re,Ce+="",0),Le,_e;if(Me!=Ce.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ve&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Le=M_(Bm(q.y,0,1)),_e=Le.getUTCDay(),Le=_e>4||_e===0?Ob.ceil(Le):Ob(Le),Le=Aw.offset(Le,(q.V-1)*7),q.y=Le.getUTCFullYear(),q.m=Le.getUTCMonth(),q.d=Le.getUTCDate()+(q.w+6)%7):(Le=I_(Bm(q.y,0,1)),_e=Le.getDay(),Le=_e>4||_e===0?Tb.ceil(Le):Tb(Le),Le=ug.offset(Le,(q.V-1)*7),q.y=Le.getFullYear(),q.m=Le.getMonth(),q.d=Le.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),_e="Z"in q?M_(Bm(q.y,0,1)).getUTCDay():I_(Bm(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(_e+5)%7:q.w+q.U*7-(_e+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,M_(q)):I_(q)}}function A(re,ve,Ce,q){for(var Me=0,Le=ve.length,_e=Ce.length,ne,De;Me<Le;){if(q>=_e)return-1;if(ne=ve.charCodeAt(Me++),ne===37){if(ne=ve.charAt(Me++),De=N[ne in G6?ve.charAt(Me++):ne],!De||(q=De(re,Ce,q))<0)return-1}else if(ne!=Ce.charCodeAt(q++))return-1}return q}function T(re,ve,Ce){var q=u.exec(ve.slice(Ce));return q?(re.p=d.get(q[0].toLowerCase()),Ce+q[0].length):-1}function F(re,ve,Ce){var q=p.exec(ve.slice(Ce));return q?(re.w=m.get(q[0].toLowerCase()),Ce+q[0].length):-1}function O(re,ve,Ce){var q=f.exec(ve.slice(Ce));return q?(re.w=h.get(q[0].toLowerCase()),Ce+q[0].length):-1}function E(re,ve,Ce){var q=v.exec(ve.slice(Ce));return q?(re.m=b.get(q[0].toLowerCase()),Ce+q[0].length):-1}function L(re,ve,Ce){var q=x.exec(ve.slice(Ce));return q?(re.m=g.get(q[0].toLowerCase()),Ce+q[0].length):-1}function B(re,ve,Ce){return A(re,t,ve,Ce)}function G(re,ve,Ce){return A(re,r,ve,Ce)}function z(re,ve,Ce){return A(re,n,ve,Ce)}function V(re){return s[re.getDay()]}function Y(re){return i[re.getDay()]}function U(re){return c[re.getMonth()]}function ae(re){return l[re.getMonth()]}function he(re){return a[+(re.getHours()>=12)]}function k(re){return 1+~~(re.getMonth()/3)}function P(re){return s[re.getUTCDay()]}function R(re){return i[re.getUTCDay()]}function H(re){return c[re.getUTCMonth()]}function X(re){return l[re.getUTCMonth()]}function oe(re){return a[+(re.getUTCHours()>=12)]}function fe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ve=S(re+="",y);return ve.toString=function(){return re},ve},parse:function(re){var ve=j(re+="",!1);return ve.toString=function(){return re},ve},utcFormat:function(re){var ve=S(re+="",_);return ve.toString=function(){return re},ve},utcParse:function(re){var ve=j(re+="",!0);return ve.toString=function(){return re},ve}}}var G6={"-":"",_:" ",0:"0"},hi=/^\s*\d+/,Bue=/^%/,$ue=/[\\^$*+?|[\]().{}]/g;function Mr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function zue(e){return e.replace($ue,"\\$&")}function $m(e){return new RegExp("^(?:"+e.map(zue).join("|")+")","i")}function zm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Uue(e,t,r){var n=hi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Hue(e,t,r){var n=hi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Wue(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Vue(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function que(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Y6(e,t,r){var n=hi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function X6(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gue(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Yue(e,t,r){var n=hi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Xue(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function K6(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Kue(e,t,r){var n=hi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Q6(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Que(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Jue(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Zue(e,t,r){var n=hi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ede(e,t,r){var n=hi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tde(e,t,r){var n=Bue.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rde(e,t,r){var n=hi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nde(e,t,r){var n=hi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function J6(e,t){return Mr(e.getDate(),t,2)}function ade(e,t){return Mr(e.getHours(),t,2)}function ide(e,t){return Mr(e.getHours()%12||12,t,2)}function sde(e,t){return Mr(1+ug.count(su(e),e),t,3)}function yF(e,t){return Mr(e.getMilliseconds(),t,3)}function ode(e,t){return yF(e,t)+"000"}function lde(e,t){return Mr(e.getMonth()+1,t,2)}function cde(e,t){return Mr(e.getMinutes(),t,2)}function ude(e,t){return Mr(e.getSeconds(),t,2)}function dde(e){var t=e.getDay();return t===0?7:t}function fde(e,t){return Mr(Cw.count(su(e)-1,e),t,2)}function wF(e){var t=e.getDay();return t>=4||t===0?Zh(e):Zh.ceil(e)}function hde(e,t){return e=wF(e),Mr(Zh.count(su(e),e)+(su(e).getDay()===4),t,2)}function pde(e){return e.getDay()}function mde(e,t){return Mr(Tb.count(su(e)-1,e),t,2)}function xde(e,t){return Mr(e.getFullYear()%100,t,2)}function gde(e,t){return e=wF(e),Mr(e.getFullYear()%100,t,2)}function vde(e,t){return Mr(e.getFullYear()%1e4,t,4)}function bde(e,t){var r=e.getDay();return e=r>=4||r===0?Zh(e):Zh.ceil(e),Mr(e.getFullYear()%1e4,t,4)}function yde(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mr(t/60|0,"0",2)+Mr(t%60,"0",2)}function Z6(e,t){return Mr(e.getUTCDate(),t,2)}function wde(e,t){return Mr(e.getUTCHours(),t,2)}function _de(e,t){return Mr(e.getUTCHours()%12||12,t,2)}function Nde(e,t){return Mr(1+Aw.count(ou(e),e),t,3)}function _F(e,t){return Mr(e.getUTCMilliseconds(),t,3)}function jde(e,t){return _F(e,t)+"000"}function Sde(e,t){return Mr(e.getUTCMonth()+1,t,2)}function Ade(e,t){return Mr(e.getUTCMinutes(),t,2)}function Cde(e,t){return Mr(e.getUTCSeconds(),t,2)}function Ede(e){var t=e.getUTCDay();return t===0?7:t}function kde(e,t){return Mr(Ew.count(ou(e)-1,e),t,2)}function NF(e){var t=e.getUTCDay();return t>=4||t===0?ep(e):ep.ceil(e)}function Tde(e,t){return e=NF(e),Mr(ep.count(ou(e),e)+(ou(e).getUTCDay()===4),t,2)}function Ode(e){return e.getUTCDay()}function Pde(e,t){return Mr(Ob.count(ou(e)-1,e),t,2)}function Dde(e,t){return Mr(e.getUTCFullYear()%100,t,2)}function Ide(e,t){return e=NF(e),Mr(e.getUTCFullYear()%100,t,2)}function Mde(e,t){return Mr(e.getUTCFullYear()%1e4,t,4)}function Fde(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ep(e):ep.ceil(e),Mr(e.getUTCFullYear()%1e4,t,4)}function Rde(){return"+0000"}function e8(){return"%"}function t8(e){return+e}function r8(e){return Math.floor(+e/1e3)}var qf,jF,SF;Lde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lde(e){return qf=Lue(e),jF=qf.format,qf.parse,SF=qf.utcFormat,qf.utcParse,qf}function Bde(e){return new Date(e)}function $de(e){return e instanceof Date?+e:+new Date(+e)}function ZS(e,t,r,n,a,i,s,l,c,u){var d=BS(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),x=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),b=u("%b %d"),y=u("%B"),_=u("%Y");function N(S){return(c(S)<S?p:l(S)<S?m:s(S)<S?x:i(S)<S?g:n(S)<S?a(S)<S?v:b:r(S)<S?y:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,$de)):h().map(Bde)},d.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?N:u(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(dF(j,S)):d},d.copy=function(){return cg(d,ZS(e,t,r,n,a,i,s,l,c,u))},d}function zde(){return Ko.apply(ZS(Fue,Rue,su,QS,Cw,ug,XS,GS,m0,jF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ude(){return Ko.apply(ZS(Iue,Mue,ou,JS,Ew,Aw,KS,YS,m0,SF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kw(){var e=0,t=1,r,n,a,i,s=hs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(Hp),u.rangeRound=d(LS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Td(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AF(){var e=kd(kw()(hs));return e.copy=function(){return Td(e,AF())},fu.apply(e,arguments)}function CF(){var e=US(kw()).domain([1,10]);return e.copy=function(){return Td(e,CF()).base(e.base())},fu.apply(e,arguments)}function EF(){var e=HS(kw());return e.copy=function(){return Td(e,EF()).constant(e.constant())},fu.apply(e,arguments)}function eA(){var e=WS(kw());return e.copy=function(){return Td(e,eA()).exponent(e.exponent())},fu.apply(e,arguments)}function Hde(){return eA.apply(null,arguments).exponent(.5)}function kF(){var e=[],t=hs;function r(n){if(n!=null&&!isNaN(n=+n))return t((og(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(dd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>kce(e,i/n))},r.copy=function(){return kF(t).domain(e)},fu.apply(r,arguments)}function Tw(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=hs,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function m(x){return function(g){var v,b,y;return arguments.length?([v,b,y]=g,u=tue(x,[v,b,y]),p):[u(0),u(.5),u(1)]}}return p.range=m(Hp),p.rangeRound=m(LS),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,a=x(e),i=x(t),s=x(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function TF(){var e=kd(Tw()(hs));return e.copy=function(){return Td(e,TF())},fu.apply(e,arguments)}function OF(){var e=US(Tw()).domain([.1,1,10]);return e.copy=function(){return Td(e,OF()).base(e.base())},fu.apply(e,arguments)}function PF(){var e=HS(Tw());return e.copy=function(){return Td(e,PF()).constant(e.constant())},fu.apply(e,arguments)}function tA(){var e=WS(Tw());return e.copy=function(){return Td(e,tA()).exponent(e.exponent())},fu.apply(e,arguments)}function Wde(){return tA.apply(null,arguments).exponent(.5)}const n8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:e1,scaleDiverging:TF,scaleDivergingLog:OF,scaleDivergingPow:tA,scaleDivergingSqrt:Wde,scaleDivergingSymlog:PF,scaleIdentity:uF,scaleImplicit:YN,scaleLinear:Eb,scaleLog:fF,scaleOrdinal:MS,scalePoint:yx,scalePow:VS,scaleQuantile:mF,scaleQuantize:xF,scaleRadial:pF,scaleSequential:AF,scaleSequentialLog:CF,scaleSequentialPow:eA,scaleSequentialQuantile:kF,scaleSequentialSqrt:Hde,scaleSequentialSymlog:EF,scaleSqrt:jue,scaleSymlog:hF,scaleThreshold:gF,scaleTime:zde,scaleUtc:Ude,tickFormat:cF},Symbol.toStringTag,{value:"Module"}));var Vde=Ip;function qde(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!Vde(s):r(s,l)))var l=s,c=i}return c}var Ow=qde;function Gde(e,t){return e>t}var DF=Gde,Yde=Ow,Xde=DF,Kde=Up;function Qde(e){return e&&e.length?Yde(e,Kde,Xde):void 0}var Jde=Qde;const Pw=rn(Jde);function Zde(e,t){return e<t}var IF=Zde,e0e=Ow,t0e=IF,r0e=Up;function n0e(e){return e&&e.length?e0e(e,r0e,t0e):void 0}var a0e=n0e;const Dw=rn(a0e);var i0e=mS,s0e=mc,o0e=U7,l0e=Fs;function c0e(e,t){var r=l0e(e)?i0e:o0e;return r(e,s0e(t))}var u0e=c0e,d0e=$7,f0e=u0e;function h0e(e,t){return d0e(f0e(e,t),1)}var p0e=h0e;const m0e=rn(p0e);var x0e=TS;function g0e(e,t){return x0e(e,t)}var v0e=g0e;const dg=rn(v0e);var Wp=1e9,b0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nA,Ln=!0,Wo="[DecimalError] ",S0=Wo+"Invalid argument: ",rA=Wo+"Exponent out of range: ",Vp=Math.floor,n0=Math.pow,y0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zs,ii=1e7,Pn=7,MF=9007199254740991,Pb=Vp(MF/Pn),jt={};jt.absoluteValue=jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};jt.comparedTo=jt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};jt.dividedBy=jt.div=function(e){return Gc(this,new this.constructor(e))};jt.dividedToIntegerBy=jt.idiv=function(e){var t=this,r=t.constructor;return gn(Gc(t,new r(e),0,1),r.precision)};jt.equals=jt.eq=function(e){return!this.cmp(e)};jt.exponent=function(){return Pa(this)};jt.greaterThan=jt.gt=function(e){return this.cmp(e)>0};jt.greaterThanOrEqualTo=jt.gte=function(e){return this.cmp(e)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(e){return this.cmp(e)<0};jt.lessThanOrEqualTo=jt.lte=function(e){return this.cmp(e)<1};jt.logarithm=jt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zs))throw Error(Wo+"NaN");if(r.s<1)throw Error(Wo+(r.s?"NaN":"-Infinity"));return r.eq(Zs)?new n(0):(Ln=!1,t=Gc(i1(r,i),i1(e,i),i),Ln=!0,gn(t,a))};jt.minus=jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LF(t,e):FF(t,(e.s=-e.s,e))};jt.modulo=jt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wo+"NaN");return r.s?(Ln=!1,t=Gc(r,e,0,1).times(e),Ln=!0,r.minus(t)):gn(new n(r),a)};jt.naturalExponential=jt.exp=function(){return RF(this)};jt.naturalLogarithm=jt.ln=function(){return i1(this)};jt.negated=jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};jt.plus=jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FF(t,e):LF(t,(e.s=-e.s,e))};jt.precision=jt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(S0+e);if(t=Pa(a)+1,n=a.d.length-1,r=n*Pn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};jt.squareRoot=jt.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Wo+"NaN")}for(e=Pa(l),Ln=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ql(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Gc(l,i,s+2)).times(.5),Ql(i.d).slice(0,s)===(t=Ql(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(gn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return Ln=!0,gn(n,r)};jt.times=jt.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%ii|0,t=l/ii|0;i[a]=(i[a]+t)%ii|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ln?gn(e,f.precision):e};jt.toDecimalPlaces=jt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(lc(e,0,Wp),t===void 0?t=n.rounding:lc(t,0,8),gn(r,e+Pa(r)+1,t))};jt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=$0(n,!0):(lc(e,0,Wp),t===void 0?t=a.rounding:lc(t,0,8),n=gn(new a(n),e+1,t),r=$0(n,!0,e+1)),r};jt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?$0(a):(lc(e,0,Wp),t===void 0?t=i.rounding:lc(t,0,8),n=gn(new i(a),e+Pa(a)+1,t),r=$0(n.abs(),!1,e+Pa(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jt.toInteger=jt.toint=function(){var e=this,t=e.constructor;return gn(new t(e),Pa(e)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Zs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Wo+"Infinity");return l}if(l.eq(Zs))return l;if(n=c.precision,e.eq(Zs))return gn(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=MF){for(a=new c(Zs),t=Math.ceil(n/Pn+4),Ln=!1;r%2&&(a=a.times(l),i8(a.d,t)),r=Vp(r/2),r!==0;)l=l.times(l),i8(l.d,t);return Ln=!0,e.s<0?new c(Zs).div(a):gn(a,n)}}else if(i<0)throw Error(Wo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ln=!1,a=e.times(i1(l,n+u)),Ln=!0,a=RF(a),a.s=i,a};jt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Pa(a),n=$0(a,r<=i.toExpNeg||r>=i.toExpPos)):(lc(e,1,Wp),t===void 0?t=i.rounding:lc(t,0,8),a=gn(new i(a),e,t),r=Pa(a),n=$0(a,e<=r||r<=i.toExpNeg,e)),n};jt.toSignificantDigits=jt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(lc(e,1,Wp),t===void 0?t=n.rounding:lc(t,0,8)),gn(new n(r),e,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pa(e),r=e.constructor;return $0(e,t<=r.toExpNeg||t>=r.toExpPos)};function FF(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ln?gn(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Pn),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ii|0,c[i]%=ii;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ln?gn(t,f):t}function lc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(S0+e)}function Ql(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Pn-n.length,r&&(i+=Ku(r)),i+=n;s=e[t],n=s+"",r=Pn-n.length,r&&(i+=Ku(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Gc=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%ii|0,s=i/ii|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ii+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,p,m,x,g,v,b,y,_,N,S,j,A,T=n.constructor,F=n.s==a.s?1:-1,O=n.d,E=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Wo+"Division by zero");for(c=n.e-a.e,j=E.length,N=O.length,p=new T(F),m=p.d=[],u=0;E[u]==(O[u]||0);)++u;if(E[u]>(O[u]||0)&&--c,i==null?b=i=T.precision:s?b=i+(Pa(n)-Pa(a))+1:b=i,b<0)return new T(0);if(b=b/Pn+2|0,u=0,j==1)for(d=0,E=E[0],b++;(u<N||d)&&b--;u++)y=d*ii+(O[u]||0),m[u]=y/E|0,d=y%E|0;else{for(d=ii/(E[0]+1)|0,d>1&&(E=e(E,d),O=e(O,d),j=E.length,N=O.length),_=j,x=O.slice(0,j),g=x.length;g<j;)x[g++]=0;A=E.slice(),A.unshift(0),S=E[0],E[1]>=ii/2&&++S;do d=0,l=t(E,x,j,g),l<0?(v=x[0],j!=g&&(v=v*ii+(x[1]||0)),d=v/S|0,d>1?(d>=ii&&(d=ii-1),f=e(E,d),h=f.length,g=x.length,l=t(f,x,h,g),l==1&&(d--,r(f,j<h?A:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<g&&f.unshift(0),r(x,f,g),l==-1&&(g=x.length,l=t(E,x,j,g),l<1&&(d++,r(x,j<g?A:E,g))),g=x.length):l===0&&(d++,x=[0]),m[u++]=d,l&&x[0]?x[g++]=O[_]||0:(x=[O[_]],g=1);while((_++<N||x[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,gn(p,s?i+Pa(p)+1:i)}}();function RF(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Pa(e)>16)throw Error(rA+Pa(e));if(!e.s)return new d(Zs);for(t==null?(Ln=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(n0(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Zs),d.precision=l;;){if(a=gn(a.times(e),l),r=r.times(++c),s=i.plus(Gc(a,r,l)),Ql(s.d).slice(0,l)===Ql(i.d).slice(0,l)){for(;u--;)i=gn(i.times(i),l);return d.precision=f,t==null?(Ln=!0,gn(i,f)):i}i=s}}function Pa(e){for(var t=e.e*Pn,r=e.d[0];r>=10;r/=10)t++;return t}function F_(e,t,r){if(t>e.LN10.sd())throw Ln=!0,r&&(e.precision=r),Error(Wo+"LN10 precision limit exceeded");return gn(new e(e.LN10),t)}function Ku(e){for(var t="";e--;)t+="0";return t}function i1(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,p=e,m=p.d,x=p.constructor,g=x.precision;if(p.s<1)throw Error(Wo+(p.s?"NaN":"-Infinity"));if(p.eq(Zs))return new x(0);if(t==null?(Ln=!1,u=g):u=t,p.eq(10))return t==null&&(Ln=!0),F_(x,u);if(u+=h,x.precision=u,r=Ql(m),n=r.charAt(0),i=Pa(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ql(p.d),n=r.charAt(0),f++;i=Pa(p),n>1?(p=new x("0."+r),i++):p=new x(n+"."+r.slice(1))}else return c=F_(x,u+2,g).times(i+""),p=i1(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=g,t==null?(Ln=!0,gn(p,g)):p;for(l=s=p=Gc(p.minus(Zs),p.plus(Zs),u),d=gn(p.times(p),u),a=3;;){if(s=gn(s.times(d),u),c=l.plus(Gc(s,new x(a),u)),Ql(c.d).slice(0,u)===Ql(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(F_(x,u+2,g).times(i+""))),l=Gc(l,new x(f),u),x.precision=g,t==null?(Ln=!0,gn(l,g)):l;l=c,a+=2}}function a8(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vp(r/Pn),e.d=[],n=(r+1)%Pn,r<0&&(n+=Pn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pn;n<a;)e.d.push(+t.slice(n,n+=Pn));t=t.slice(n),n=Pn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ln&&(e.e>Pb||e.e<-Pb))throw Error(rA+r)}else e.s=0,e.e=0,e.d=[0];return e}function gn(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Pn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Pn),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Pn,a=n-Pn+s}if(r!==void 0&&(i=n0(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/n0(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Pa(e),f.length=1,t=t-i-1,f[0]=n0(10,(Pn-t%Pn)%Pn),e.e=Vp(-t/Pn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=n0(10,Pn-n),f[d]=a>0?(u/n0(10,s-a)%n0(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ii&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ii)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ln&&(e.e>Pb||e.e<-Pb))throw Error(rA+Pa(e));return e}function LF(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ln?gn(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Pn),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ii-1;--c[i],c[a]+=ii}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ln?gn(t,p):t):new h(0)}function $0(e,t,r){var n,a=Pa(e),i=Ql(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Ku(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ku(-a-1)+i,r&&(n=r-s)>0&&(i+=Ku(n))):a>=s?(i+=Ku(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Ku(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Ku(n))),e.s<0?"-"+i:i}function i8(e,t){if(e.length>t)return e.length=t,!0}function BF(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(S0+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return a8(s,i.toString())}else if(typeof i!="string")throw Error(S0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,y0e.test(i))a8(s,i);else throw Error(S0+i)}if(a.prototype=jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=BF,a.config=a.set=w0e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function w0e(e){if(!e||typeof e!="object")throw Error(Wo+"Object expected");var t,r,n,a=["precision",1,Wp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(S0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(S0+r+": "+n);return this}var nA=BF(b0e);Zs=new nA(1);const ln=nA;function _0e(e){return A0e(e)||S0e(e)||j0e(e)||N0e()}function N0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function S0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function A0e(e){if(Array.isArray(e))return JN(e)}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C0e=function(t){return t},$F={"@@functional/placeholder":!0},zF=function(t){return t===$F},s8=function(t){return function r(){return arguments.length===0||arguments.length===1&&zF(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},E0e=function e(t,r){return t===1?r:s8(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==$F}).length;return s>=t?r.apply(void 0,a):e(t-s,s8(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return zF(f)?c.shift():f});return r.apply(void 0,_0e(d).concat(c))}))})},Iw=function(t){return E0e(t.length,t)},ZN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},k0e=Iw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),T0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return C0e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},e3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},UF=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function O0e(e){var t;return e===0?t=1:t=Math.floor(new ln(e).abs().log(10).toNumber())+1,t}function P0e(e,t,r){for(var n=new ln(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var D0e=Iw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),I0e=Iw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),M0e=Iw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Mw={rangeStep:P0e,getDigitCount:O0e,interpolateNumber:D0e,uninterpolateNumber:I0e,uninterpolateTruncation:M0e};function t3(e){return L0e(e)||R0e(e)||HF(e)||F0e()}function F0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R0e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function L0e(e){if(Array.isArray(e))return r3(e)}function s1(e,t){return z0e(e)||$0e(e,t)||HF(e,t)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HF(e,t){if(e){if(typeof e=="string")return r3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r3(e,t)}}function r3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $0e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function z0e(e){if(Array.isArray(e))return e}function WF(e){var t=s1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function VF(e,t,r){if(e.lte(0))return new ln(0);var n=Mw.getDigitCount(e.toNumber()),a=new ln(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new ln(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new ln(Math.ceil(c))}function U0e(e,t,r){var n=1,a=new ln(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ln(10).pow(Mw.getDigitCount(e)-1),a=new ln(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ln(Math.floor(e)))}else e===0?a=new ln(Math.floor((t-1)/2)):r||(a=new ln(Math.floor(e)));var s=Math.floor((t-1)/2),l=T0e(k0e(function(c){return a.add(new ln(c-s).mul(n)).toNumber()}),ZN);return l(0,t)}function qF(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var i=VF(new ln(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new ln(0):(s=new ln(e).add(t).div(2),s=s.sub(new ln(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new ln(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?qF(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new ln(l).mul(i)),tickMax:s.add(new ln(c).mul(i))})}function H0e(e){var t=s1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=WF([r,n]),c=s1(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(t3(ZN(0,a-1).map(function(){return 1/0}))):[].concat(t3(ZN(0,a-1).map(function(){return-1/0})),[d]);return r>n?e3(f):f}if(u===d)return U0e(u,a,i);var h=qF(u,d,s,i),p=h.step,m=h.tickMin,x=h.tickMax,g=Mw.rangeStep(m,x.add(new ln(.1).mul(p)),p);return r>n?e3(g):g}function W0e(e,t){var r=s1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=WF([n,a]),l=s1(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=VF(new ln(u).sub(c).div(d-1),i,0),h=[].concat(t3(Mw.rangeStep(new ln(c),new ln(u).sub(new ln(.99).mul(f)),f)),[u]);return n>a?e3(h):h}var V0e=UF(H0e),q0e=UF(W0e),G0e="Invariant failed";function z0(e,t){throw new Error(G0e)}var Y0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(this,arguments)}function X0e(e,t){return Z0e(e)||J0e(e,t)||Q0e(e,t)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(e,t){if(e){if(typeof e=="string")return o8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o8(e,t)}}function o8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Z0e(e){if(Array.isArray(e))return e}function efe(e,t){if(e==null)return{};var r=tfe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XF(n.key),n)}}function afe(e,t,r){return t&&nfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ife(e,t,r){return t=Ib(t),sfe(e,GF()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function sfe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ofe(e)}function ofe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function lfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(e,t)}function YF(e,t,r){return t=XF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=cfe(e,"string");return tp(t)=="symbol"?t:t+""}function cfe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fg=function(e){function t(){return rfe(this,t),ife(this,t,arguments)}return lfe(t,e),afe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=efe(n,Y0e),p=zt(h,!1);this.props.direction==="x"&&d.type!=="number"&&z0();var m=c.map(function(x){var g=u(x,l),v=g.x,b=g.y,y=g.value,_=g.errorVal;if(!_)return null;var N=[],S,j;if(Array.isArray(_)){var A=X0e(_,2);S=A[0],j=A[1]}else S=j=_;if(i==="vertical"){var T=d.scale,F=b+a,O=F+s,E=F-s,L=T(y-S),B=T(y+j);N.push({x1:B,y1:O,x2:B,y2:E}),N.push({x1:L,y1:F,x2:B,y2:F}),N.push({x1:L,y1:O,x2:L,y2:E})}else if(i==="horizontal"){var G=f.scale,z=v+a,V=z-s,Y=z+s,U=G(y-S),ae=G(y+j);N.push({x1:V,y1:ae,x2:Y,y2:ae}),N.push({x1:z,y1:U,x2:z,y2:ae}),N.push({x1:V,y1:U,x2:Y,y2:U})}return K.createElement(Dr,Db({className:"recharts-errorBar",key:"bar-".concat(N.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},p),N.map(function(he){return K.createElement("line",Db({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return K.createElement(Dr,{className:"recharts-errorBars"},m)}}])}(K.Component);YF(fg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YF(fg,"displayName","ErrorBar");function o1(e){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o1(e)}function l8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(r),!0).forEach(function(n){ufe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ufe(e,t,r){return t=dfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dfe(e){var t=ffe(e,"string");return o1(t)=="symbol"?t:t+""}function ffe(e,t){if(o1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KF=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Xs(r,N0);if(!s)return null;var l=N0.defaultProps,c=l!==void 0?Vd(Vd({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(x){return{type:s.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Vd(Vd({},h),f.props):{},m=p.dataKey,x=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:c.iconType||g||"square",color:aA(f),value:x||m,payload:p}}),Vd(Vd(Vd({},c),N0.getWithHeight(s,a)),{},{payload:u,item:s})};function l1(e){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(e)}function c8(e){return xfe(e)||mfe(e)||pfe(e)||hfe()}function hfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(e,t){if(e){if(typeof e=="string")return a3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a3(e,t)}}function mfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xfe(e){if(Array.isArray(e))return a3(e)}function a3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(n){Dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dh(e,t,r){return t=gfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gfe(e){var t=vfe(e,"string");return l1(t)=="symbol"?t:t+""}function vfe(e,t){if(l1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(l1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(e,t,r){return nr(e)||nr(t)?r:Ya(t)?so(e,t,r):Xt(t)?t(e):r}function wx(e,t,r,n){var a=m0e(e,function(l){return Wa(l,t)});if(r==="number"){var i=a.filter(function(l){return dt(l)||parseFloat(l)});return i.length?[Dw(i),Pw(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!nr(l)}):a;return s.map(function(l){return Ya(l)||l instanceof Date?l:""})}var bfe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(ds(f-d)!==ds(h-f)){var m=[];if(ds(h-f)===ds(c[1]-c[0])){p=h;var x=f+c[1]-c[0];m[0]=Math.min(x,(x+d)/2),m[1]=Math.max(x,(x+d)/2)}else{p=d;var g=h+c[1]-c[0];m[0]=Math.min(f,(g+f)/2),m[1]=Math.max(f,(g+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){s=a[u].index;break}}else{var b=Math.min(d,h),y=Math.max(d,h);if(t>(b+f)/2&&t<=(y+f)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},aA=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},yfe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],x=m.items,g=m.cateAxisId,v=x.filter(function(j){return qc(j.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?Jn(Jn({},b),v[0].props):v[0].props,_=y.barSize,N=y[g];s[N]||(s[N]=[]);var S=nr(_)?r:_;s[N].push({item:v[0],stackList:v.slice(1),barSize:nr(S)?void 0:fs(S,n,0)})}}return s},wfe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=fs(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,m=s.reduce(function(_,N){return _+N.barSize||0},0);m+=(c-1)*u,m>=a&&(m-=(c-1)*u,u=0),m>=a&&p>0&&(h=!0,p*=.9,m=c*p);var x=(a-m)/2>>0,g={offset:x-u,size:0};d=s.reduce(function(_,N){var S={item:N.item,position:{offset:g.offset+g.size+u,size:h?p:N.barSize}},j=[].concat(c8(_),[S]);return g=j[j.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){j.push({item:A,position:g})}),j},f)}else{var v=fs(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var b=(a-2*v-(c-1)*u)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;d=s.reduce(function(_,N,S){var j=[].concat(c8(_),[{item:N.item,position:{offset:v+(b+u)*S+(b-y)/2,size:y}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){j.push({item:A,position:j[j.length-1].position})}),j},f)}return d},_fe=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=KF({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&p!=="center"&&dt(t[p]))return Jn(Jn({},t),{},Dh({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&m!=="middle"&&dt(t[m]))return Jn(Jn({},t),{},Dh({},m,t[m]+(h||0)))}return t},Nfe=function(t,r,n){return nr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},QF=function(t,r,n,a,i){var s=r.props.children,l=oo(s,fg).filter(function(u){return Nfe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Wa(d,n);if(nr(f))return u;var h=Array.isArray(f)?[Dw(f),Pw(f)]:[f,f],p=c.reduce(function(m,x){var g=Wa(d,x,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},jfe=function(t,r,n,a,i){var s=r.map(function(l){return QF(t,l,n,i,a)}).filter(function(l){return!nr(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},JF=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&QF(t,c,u,a)||wx(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},ZF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eR=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Uc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ds(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!ag(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},R_=new WeakMap,Fv=function(t,r){if(typeof r!="function")return t;R_.has(t)||R_.set(t,new WeakMap);var n=R_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},tR=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:e1(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Eb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yx(),realScaleType:"point"}:i==="category"?{scale:e1(),realScaleType:"band"}:{scale:Eb(),realScaleType:"linear"};if(ng(a)){var c="scale".concat(vw(a));return{scale:(n8[c]||yx)(),realScaleType:n8[c]?c:"point"}}return Xt(a)?{scale:a}:{scale:yx(),realScaleType:"point"}},d8=1e-4,rR=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-d8,s=Math.max(a[0],a[1])+d8,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},Sfe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Afe=function(t,r){if(!r||r.length!==2||!dt(r[0])||!dt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!dt(t[0])||t[0]<n)&&(i[0]=n),(!dt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Cfe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=ag(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},Efe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=ag(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},kfe={sign:Cfe,expand:YZ,none:Gh,silhouette:XZ,wiggle:KZ,positive:Efe},Tfe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=kfe[n],s=GZ().keys(a).value(function(l,c){return+Wa(l,c,0)}).order(kN).offset(i);return s(t)},Ofe=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Jn(Jn({},h.type.defaultProps),h.props):h.props,x=m.stackId,g=m.hide;if(g)return f;var v=m[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(Ya(x)){var y=b.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),b.hasStack=!0,b.stackGroups[x]=y}else b.stackGroups[Bp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Jn(Jn({},f),{},Dh({},v,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,g){var v=p.stackGroups[g];return Jn(Jn({},x),{},Dh({},g,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:Tfe(t,v.items,i)}))},m)}return Jn(Jn({},f),{},Dh({},h,p))},d)},nR=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=V0e(u,i,l);return t.domain([Dw(d),Pw(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=q0e(f,i,l);return{niceTicks:h}}return null};function f8(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!nr(a[t.dataKey])){var l=sb(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Wa(a,nr(s)?t.dataKey:s);return nr(c)?null:t.scale(c)}var h8=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Wa(s,r.dataKey,r.domain[l]);return nr(c)?null:r.scale(c)-i/2+a},Pfe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Dfe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ya(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Ife=function(t){return t.reduce(function(r,n){return[Dw(n.concat([r[0]]).filter(dt)),Pw(n.concat([r[1]]).filter(dt))]},[1/0,-1/0])},aR=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=Ife(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},p8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i3=function(t,r,n){if(Xt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(dt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(p8.test(t[0])){var i=+p8.exec(t[0])[1];a[0]=r[0]-i}else Xt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(dt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(m8.test(t[1])){var s=+m8.exec(t[1])[1];a[1]=r[1]+s}else Xt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Mb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=PS(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},x8=function(t,r,n){return!t||!t.length||dg(t,so(n,"type.defaultProps.domain"))?r:t},iR=function(t,r){var n=t.type.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Jn(Jn({},zt(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:aA(t),value:Wa(r,a),type:c,payload:r,chartType:u,hide:d})};function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){sR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sR(e,t,r){return t=Mfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mfe(e){var t=Ffe(e,"string");return c1(t)=="symbol"?t:t+""}function Ffe(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rfe(e,t){return zfe(e)||$fe(e,t)||Bfe(e,t)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(e,t){if(e){if(typeof e=="string")return v8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v8(e,t)}}function v8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $fe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function zfe(e){if(Array.isArray(e))return e}var Fb=Math.PI/180,Ufe=function(t){return t*180/Math.PI},jn=function(t,r,n,a){return{x:t+Math.cos(-Fb*a)*n,y:r+Math.sin(-Fb*a)*n}},oR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Hfe=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=fs(t.cx,s,s/2),f=fs(t.cy,l,l/2),h=oR(s,l,n),p=fs(t.innerRadius,h,0),m=fs(t.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(g,v){var b=r[v],y=b.domain,_=b.reversed,N;if(nr(b.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[p,m]),_&&(N=[N[1],N[0]]);else{N=b.range;var S=N,j=Rfe(S,2);c=j[0],u=j[1]}var A=tR(b,i),T=A.realScaleType,F=A.scale;F.domain(y).range(N),rR(F);var O=nR(F,Lc(Lc({},b),{},{realScaleType:T})),E=Lc(Lc(Lc({},b),O),{},{range:N,radius:m,realScaleType:T,scale:F,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return Lc(Lc({},g),{},sR({},v,E))},{})},Wfe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Vfe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=Wfe({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:Ufe(u),angleInRadian:u}},qfe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Gfe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},b8=function(t,r){var n=t.x,a=t.y,i=Vfe({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=qfe(r),f=d.startAngle,h=d.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Lc(Lc({},r),{},{radius:s,angle:Gfe(p,r)}):null},lR=function(t){return!I.isValidElement(t)&&!Xt(t)&&typeof t!="boolean"?t.className:""};function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}var Yfe=["offset"];function Xfe(e){return Zfe(e)||Jfe(e)||Qfe(e)||Kfe()}function Kfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qfe(e,t){if(e){if(typeof e=="string")return s3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s3(e,t)}}function Jfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zfe(e){if(Array.isArray(e))return s3(e)}function s3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ehe(e,t){if(e==null)return{};var r=the(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function the(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rhe(e,t,r){return t=nhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nhe(e){var t=ahe(e,"string");return u1(t)=="symbol"?t:t+""}function ahe(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(this,arguments)}var ihe=function(t){var r=t.value,n=t.formatter,a=nr(t.children)?r:t.children;return Xt(n)?n(a):a},she=function(t,r){var n=ds(r-t),a=Math.min(Math.abs(r-t),360);return n*a},ohe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,x=c.clockWise,g=(f+h)/2,v=she(p,m),b=v>=0?1:-1,y,_;a==="insideStart"?(y=p+b*s,_=x):a==="insideEnd"?(y=m-b*s,_=!x):a==="end"&&(y=m+b*s,_=x),_=v<=0?_:!_;var N=jn(u,d,g,y),S=jn(u,d,g,y+(_?1:-1)*359),j="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),A=nr(t.id)?Bp("recharts-radial-line-"):t.id;return K.createElement("text",d1({},n,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:A,d:j})),K.createElement("textPath",{xlinkHref:"#".concat(A)},r))},lhe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=jn(s,l,u+n,h),m=p.x,x=p.y;return{x:m,y:x,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,v=jn(s,l,g,h),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},che=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",m=f>0?"start":"end",x=u>=0?1:-1,g=x*a,v=x>0?"end":"start",b=x>0?"start":"end";if(i==="top"){var y={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Ra(Ra({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return Ra(Ra({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Ra(Ra({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ra(Ra({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return i==="insideLeft"?Ra({x:l+g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},j):i==="insideRight"?Ra({x:l+u-g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},j):i==="insideTop"?Ra({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},j):i==="insideBottom"?Ra({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},j):i==="insideTopLeft"?Ra({x:l+g,y:c+h,textAnchor:b,verticalAnchor:m},j):i==="insideTopRight"?Ra({x:l+u-g,y:c+h,textAnchor:v,verticalAnchor:m},j):i==="insideBottomLeft"?Ra({x:l+g,y:c+d-h,textAnchor:b,verticalAnchor:p},j):i==="insideBottomRight"?Ra({x:l+u-g,y:c+d-h,textAnchor:v,verticalAnchor:p},j):Mp(i)&&(dt(i.x)||h0(i.x))&&(dt(i.y)||h0(i.y))?Ra({x:l+fs(i.x,u),y:c+fs(i.y,d),textAnchor:"end",verticalAnchor:"end"},j):Ra({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},uhe=function(t){return"cx"in t&&dt(t.cx)};function oi(e){var t=e.offset,r=t===void 0?5:t,n=ehe(e,Yfe),a=Ra({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||nr(l)&&nr(c)&&!I.isValidElement(u)&&!Xt(u))return null;if(I.isValidElement(u))return I.cloneElement(u,a);var p;if(Xt(u)){if(p=I.createElement(u,a),I.isValidElement(p))return p}else p=ihe(a);var m=uhe(i),x=zt(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ohe(a,p,x);var g=m?lhe(a):che(a);return K.createElement(B0,d1({className:Pt("recharts-label",f)},x,g,{breakAll:h}),p)}oi.displayName="Label";var cR=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,x=t.width,g=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(dt(x)&&dt(g)){if(dt(f)&&dt(h))return{x:f,y:h,width:x,height:g};if(dt(p)&&dt(m))return{x:p,y:m,width:x,height:g}}return dt(f)&&dt(h)?{x:f,y:h,width:0,height:0}:dt(r)&&dt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},dhe=function(t,r){return t?t===!0?K.createElement(oi,{key:"label-implicit",viewBox:r}):Ya(t)?K.createElement(oi,{key:"label-implicit",viewBox:r,value:t}):I.isValidElement(t)?t.type===oi?I.cloneElement(t,{key:"label-implicit",viewBox:r}):K.createElement(oi,{key:"label-implicit",content:t,viewBox:r}):Xt(t)?K.createElement(oi,{key:"label-implicit",content:t,viewBox:r}):Mp(t)?K.createElement(oi,d1({viewBox:r},t,{key:"label-implicit"})):null:null},fhe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=cR(t),s=oo(a,oi).map(function(c,u){return I.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=dhe(t.label,r||i);return[l].concat(Xfe(s))};oi.parseViewBox=cR;oi.renderCallByParent=fhe;function hhe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var phe=hhe;const mhe=rn(phe);function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}var xhe=["valueAccessor"],ghe=["data","dataKey","clockWise","id","textBreakAll"];function vhe(e){return _he(e)||whe(e)||yhe(e)||bhe()}function bhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yhe(e,t){if(e){if(typeof e=="string")return o3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o3(e,t)}}function whe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _he(e){if(Array.isArray(e))return o3(e)}function o3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){Nhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nhe(e,t,r){return t=jhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jhe(e){var t=She(e,"string");return f1(t)=="symbol"?t:t+""}function She(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N8(e,t){if(e==null)return{};var r=Ahe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ahe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Che=function(t){return Array.isArray(t.value)?mhe(t.value):t.value};function Yc(e){var t=e.valueAccessor,r=t===void 0?Che:t,n=N8(e,xhe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=N8(n,ghe);return!a||!a.length?null:K.createElement(Dr,{className:"recharts-label-list"},a.map(function(d,f){var h=nr(i)?r(d,f):Wa(d&&d.payload,i),p=nr(l)?{}:{id:"".concat(l,"-").concat(f)};return K.createElement(oi,Rb({},zt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:oi.parseViewBox(nr(s)?d:_8(_8({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Yc.displayName="LabelList";function Ehe(e,t){return e?e===!0?K.createElement(Yc,{key:"labelList-implicit",data:t}):K.isValidElement(e)||Xt(e)?K.createElement(Yc,{key:"labelList-implicit",data:t,content:e}):Mp(e)?K.createElement(Yc,Rb({data:t},e,{key:"labelList-implicit"})):null:null}function khe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=oo(n,Yc).map(function(s,l){return I.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Ehe(e.label,t);return[i].concat(vhe(a))}Yc.renderCallByParent=khe;function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l3.apply(this,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){The(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function The(e,t,r){return t=Ohe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ohe(e){var t=Phe(e,"string");return h1(t)=="symbol"?t:t+""}function Phe(e,t){if(h1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dhe=function(t,r){var n=ds(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Rv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Fb,h=u?i:i+s*f,p=jn(r,n,d,h),m=jn(r,n,a,h),x=u?i-s*f:i,g=jn(r,n,d*Math.cos(f*Fb),x);return{center:p,circleTangency:m,lineTangency:g,theta:f}},uR=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=Dhe(s,l),u=s+c,d=jn(r,n,i,s),f=jn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=jn(r,n,a,s),m=jn(r,n,a,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ihe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ds(d-u),h=Rv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,x=h.theta,g=Rv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),v=g.circleTangency,b=g.lineTangency,y=g.theta,_=c?Math.abs(u-d):Math.abs(u-d)-x-y;if(_<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=Rv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),j=S.circleTangency,A=S.lineTangency,T=S.theta,F=Rv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),O=F.circleTangency,E=F.lineTangency,L=F.theta,B=c?Math.abs(u-d):Math.abs(u-d)-T-L;if(B<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Mhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dR=function(t){var r=S8(S8({},Mhe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=Pt("recharts-sector",h),m=s-i,x=fs(l,m,0,!0),g;return x>0&&Math.abs(d-f)<360?g=Ihe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=uR({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),K.createElement("path",l3({},zt(r,!0),{className:p,d:g,role:"img"}))};function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function c3(){return c3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c3.apply(this,arguments)}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){Fhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fhe(e,t,r){return t=Rhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rhe(e){var t=Lhe(e,"string");return p1(t)=="symbol"?t:t+""}function Lhe(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E8={curveBasisClosed:FZ,curveBasisOpen:RZ,curveBasis:MZ,curveBumpX:wZ,curveBumpY:_Z,curveLinearClosed:LZ,curveLinear:yw,curveMonotoneX:BZ,curveMonotoneY:$Z,curveNatural:zZ,curveStep:UZ,curveStepAfter:WZ,curveStepBefore:HZ},Lv=function(t){return t.x===+t.x&&t.y===+t.y},Um=function(t){return t.x},Hm=function(t){return t.y},Bhe=function(t,r){if(Xt(t))return t;var n="curve".concat(vw(t));return(n==="curveMonotone"||n==="curveBump")&&r?E8["".concat(n).concat(r==="vertical"?"Y":"X")]:E8[n]||yw},$he=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Bhe(n,l),f=u?i.filter(function(x){return Lv(x)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(x){return Lv(x)}):s,m=f.map(function(x,g){return C8(C8({},x),{},{base:p[g]})});return l==="vertical"?h=Ev().y(Hm).x1(Um).x0(function(x){return x.base.x}):h=Ev().x(Um).y1(Hm).y0(function(x){return x.base.y}),h.defined(Lv).curve(d),h(m)}return l==="vertical"&&dt(s)?h=Ev().y(Hm).x1(Um).x0(s):dt(s)?h=Ev().x(Um).y1(Hm).y0(s):h=i7().x(Um).y(Hm),h.defined(Lv).curve(d),h(f)},Lb=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?$he(t):a;return K.createElement("path",c3({},zt(t,!1),ob(t),{className:Pt("recharts-curve",r),d:s,ref:i}))},fR={exports:{}},zhe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uhe=zhe,Hhe=Uhe;function hR(){}function pR(){}pR.resetWarningCache=hR;var Whe=function(){function e(n,a,i,s,l,c){if(c!==Hhe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pR,resetWarningCache:hR};return r.PropTypes=r,r};fR.exports=Whe();var Vhe=fR.exports;const Ur=rn(Vhe);var qhe=Object.getOwnPropertyNames,Ghe=Object.getOwnPropertySymbols,Yhe=Object.prototype.hasOwnProperty;function k8(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Bv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function T8(e){return qhe(e).concat(Ghe(e))}var Xhe=Object.hasOwn||function(e,t){return Yhe.call(e,t)};function cf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Khe="__v",Qhe="__o",Jhe="_owner",O8=Object.getOwnPropertyDescriptor,P8=Object.keys;function Zhe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function epe(e,t){return cf(e.getTime(),t.getTime())}function tpe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rpe(e,t){return e===t}function D8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=s.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var npe=cf;function ape(e,t,r){var n=P8(e),a=n.length;if(P8(t).length!==a)return!1;for(;a-- >0;)if(!mR(e,t,r,n[a]))return!1;return!0}function Wm(e,t,r){var n=T8(e),a=n.length;if(T8(t).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!mR(e,t,r,i)||(s=O8(e,i),l=O8(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function ipe(e,t){return cf(e.valueOf(),t.valueOf())}function spe(e,t){return e.source===t.source&&e.flags===t.flags}function I8(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,l;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function ope(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function lpe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function mR(e,t,r,n){return(n===Jhe||n===Qhe||n===Khe)&&(e.$$typeof||t.$$typeof)?!0:Xhe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var cpe="[object Arguments]",upe="[object Boolean]",dpe="[object Date]",fpe="[object Error]",hpe="[object Map]",ppe="[object Number]",mpe="[object Object]",xpe="[object RegExp]",gpe="[object Set]",vpe="[object String]",bpe="[object URL]",ype=Array.isArray,M8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,F8=Object.assign,wpe=Object.prototype.toString.call.bind(Object.prototype.toString);function _pe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,x,g){if(m===x)return!0;if(m==null||x==null)return!1;var v=typeof m;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?s(m,x,g):v==="function"?a(m,x,g):!1;var b=m.constructor;if(b!==x.constructor)return!1;if(b===Object)return l(m,x,g);if(ype(m))return t(m,x,g);if(M8!=null&&M8(m))return f(m,x,g);if(b===Date)return r(m,x,g);if(b===RegExp)return u(m,x,g);if(b===Map)return i(m,x,g);if(b===Set)return d(m,x,g);var y=wpe(m);return y===dpe?r(m,x,g):y===xpe?u(m,x,g):y===hpe?i(m,x,g):y===gpe?d(m,x,g):y===mpe?typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,g):y===bpe?h(m,x,g):y===fpe?n(m,x,g):y===cpe?l(m,x,g):y===upe||y===ppe||y===vpe?c(m,x,g):!1}}function Npe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Wm:Zhe,areDatesEqual:epe,areErrorsEqual:tpe,areFunctionsEqual:rpe,areMapsEqual:n?k8(D8,Wm):D8,areNumbersEqual:npe,areObjectsEqual:n?Wm:ape,arePrimitiveWrappersEqual:ipe,areRegExpsEqual:spe,areSetsEqual:n?k8(I8,Wm):I8,areTypedArraysEqual:n?Wm:ope,areUrlsEqual:lpe};if(r&&(a=F8({},a,r(a))),t){var i=Bv(a.areArraysEqual),s=Bv(a.areMapsEqual),l=Bv(a.areObjectsEqual),c=Bv(a.areSetsEqual);a=F8({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function jpe(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function Spe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var Ape=Od();Od({strict:!0});Od({circular:!0});Od({circular:!0,strict:!0});Od({createInternalComparator:function(){return cf}});Od({strict:!0,createInternalComparator:function(){return cf}});Od({circular:!0,createInternalComparator:function(){return cf}});Od({circular:!0,createInternalComparator:function(){return cf},strict:!0});function Od(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,l=Npe(e),c=_pe(l),u=n?n(c):jpe(c);return Spe({circular:r,comparator:c,createState:a,equals:u,strict:s})}function Cpe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function R8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Cpe(a)};requestAnimationFrame(n)}function u3(e){"@babel/helpers - typeof";return u3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u3(e)}function Epe(e){return Ppe(e)||Ope(e)||Tpe(e)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(e,t){if(e){if(typeof e=="string")return L8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L8(e,t)}}function L8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ope(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ppe(e){if(Array.isArray(e))return e}function Dpe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=Epe(s),c=l[0],u=l.slice(1);if(typeof c=="number"){R8(a.bind(null,u),c);return}a(c),R8(a.bind(null,u));return}u3(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){xR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xR(e,t,r){return t=Ipe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ipe(e){var t=Mpe(e,"string");return m1(t)==="symbol"?t:String(t)}function Mpe(e,t){if(m1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fpe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Rpe=function(t){return t},Lpe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_x=function(t,r){return Object.keys(r).reduce(function(n,a){return $8($8({},n),{},xR({},a,t(a,r[a])))},{})},z8=function(t,r,n){return t.map(function(a){return"".concat(Lpe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Bpe(e,t){return Upe(e)||zpe(e,t)||gR(e,t)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Upe(e){if(Array.isArray(e))return e}function Hpe(e){return qpe(e)||Vpe(e)||gR(e)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gR(e,t){if(e){if(typeof e=="string")return d3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d3(e,t)}}function Vpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qpe(e){if(Array.isArray(e))return d3(e)}function d3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bb=1e-4,vR=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},bR=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},U8=function(t,r){return function(n){var a=vR(t,r);return bR(a,n)}},Gpe=function(t,r){return function(n){var a=vR(t,r),i=[].concat(Hpe(a.map(function(s,l){return s*l}).slice(1)),[0]);return bR(i,n)}},H8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=Bpe(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=U8(a,s),h=U8(i,l),p=Gpe(a,s),m=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,y=b,_=0;_<8;++_){var N=f(y)-b,S=p(y);if(Math.abs(N-b)<Bb||S<Bb)return h(y);y=m(y-N/S)}return h(y)};return x.isStepper=!1,x},Ype=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,m=h*i,x=h+(p-m)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<Bb&&Math.abs(x)<Bb?[f,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},Xpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H8(a);case"spring":return Ype();default:if(a.split("(")[0]==="cubic-bezier")return H8(a)}return typeof a=="function"?a:null};function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function W8(e){return Jpe(e)||Qpe(e)||yR(e)||Kpe()}function Kpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jpe(e){if(Array.isArray(e))return h3(e)}function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){f3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f3(e,t,r){return t=Zpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zpe(e){var t=eme(e,"string");return x1(t)==="symbol"?t:String(t)}function eme(e,t){if(x1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tme(e,t){return ame(e)||nme(e,t)||yR(e,t)||rme()}function rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yR(e,t){if(e){if(typeof e=="string")return h3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h3(e,t)}}function h3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function ame(e){if(Array.isArray(e))return e}var $b=function(t,r,n){return t+(r-t)*n},p3=function(t){var r=t.from,n=t.to;return r!==n},ime=function e(t,r,n){var a=_x(function(i,s){if(p3(s)){var l=t(s.from,s.to,s.velocity),c=tme(l,2),u=c[0],d=c[1];return yi(yi({},s),{},{from:u,velocity:d})}return s},r);return n<1?_x(function(i,s){return p3(s)?yi(yi({},s),{},{velocity:$b(s.velocity,a[i].velocity,n),from:$b(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const sme=function(e,t,r,n,a){var i=Fpe(e,t),s=i.reduce(function(g,v){return yi(yi({},g),{},f3({},v,[e[v],t[v]]))},{}),l=i.reduce(function(g,v){return yi(yi({},g),{},f3({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return _x(function(v,b){return b.from},l)},p=function(){return!Object.values(l).filter(p3).length},m=function(v){u||(u=v);var b=v-u,y=b/r.dt;l=ime(r,l,y),a(yi(yi(yi({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},x=function(v){d||(d=v);var b=(v-d)/n,y=_x(function(N,S){return $b.apply(void 0,W8(S).concat([r(b)]))},s);if(a(yi(yi(yi({},e),t),y)),b<1)c=requestAnimationFrame(f);else{var _=_x(function(N,S){return $b.apply(void 0,W8(S).concat([r(1)]))},s);a(yi(yi(yi({},e),t),_))}};return f=r.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}var ome=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lme(e,t){if(e==null)return{};var r=cme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cme(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function L_(e){return hme(e)||fme(e)||dme(e)||ume()}function ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dme(e,t){if(e){if(typeof e=="string")return m3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(e,t)}}function fme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hme(e){if(Array.isArray(e))return m3(e)}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(n){ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ox(e,t,r){return t=wR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wR(n.key),n)}}function xme(e,t,r){return t&&mme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wR(e){var t=gme(e,"string");return rp(t)==="symbol"?t:String(t)}function gme(e,t){if(rp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x3(e,t)}function x3(e,t){return x3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x3(e,t)}function bme(e){var t=yme();return function(){var n=zb(e),a;if(t){var i=zb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return g3(this,a)}}function g3(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v3(e)}function v3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}var cc=function(e){vme(r,e);var t=bme(r);function r(n,a){var i;pme(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(v3(i)),i.changeStyle=i.changeStyle.bind(v3(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),g3(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},g3(i);i.state={style:c?ox({},c,u):u}}else i.state={style:{}};return i}return xme(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!s){var p={style:c?ox({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Ape(a.to,d)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||u?f:a.to;if(this.state&&h){var g={style:c?ox({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(g)}this.runAnimation(sl(sl({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=sme(s,l,Xpe(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,g,v){if(v===0)return x;var b=g.duration,y=g.easing,_=y===void 0?"ease":y,N=g.style,S=g.properties,j=g.onAnimationEnd,A=v>0?s[v-1]:g,T=S||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(L_(x),[i.runJSAnimation.bind(i,{from:A.style,to:N,duration:b,easing:_}),b]);var F=z8(T,b,_),O=sl(sl(sl({},A.style),N),{},{transition:F});return[].concat(L_(x),[O,b,j]).filter(Rpe)};return this.manager.start([c].concat(L_(s.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Dpe());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?ox({},l,c):c,g=z8(Object.keys(x),s,u);m.start([d,i,sl(sl({},x),{},{transition:g}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=lme(a,ome),u=I.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(p){var m=p.props,x=m.style,g=x===void 0?{}:x,v=m.className,b=I.cloneElement(p,sl(sl({},c),{},{style:sl(sl({},g),d),className:v}));return b};return u===1?f(I.Children.only(i)):K.createElement("div",null,I.Children.map(i,function(h){return f(h)}))}}]),r}(I.PureComponent);cc.displayName="Animate";cc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};cc.propTypes={from:Ur.oneOfType([Ur.object,Ur.string]),to:Ur.oneOfType([Ur.object,Ur.string]),attributeName:Ur.string,duration:Ur.number,begin:Ur.number,easing:Ur.oneOfType([Ur.string,Ur.func]),steps:Ur.arrayOf(Ur.shape({duration:Ur.number.isRequired,style:Ur.object.isRequired,easing:Ur.oneOfType([Ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ur.func]),properties:Ur.arrayOf("string"),onAnimationEnd:Ur.func})),children:Ur.oneOfType([Ur.node,Ur.func]),isActive:Ur.bool,canBegin:Ur.bool,onAnimationEnd:Ur.func,shouldReAnimate:Ur.bool,onAnimationStart:Ur.func,onAnimationReStart:Ur.func};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(this,arguments)}function wme(e,t){return Sme(e)||jme(e,t)||Nme(e,t)||_me()}function _me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nme(e,t){if(e){if(typeof e=="string")return G8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G8(e,t)}}function G8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Sme(e){if(Array.isArray(e))return e}function Y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y8(Object(r),!0).forEach(function(n){Ame(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ame(e,t,r){return t=Cme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cme(e){var t=Eme(e,"string");return g1(t)=="symbol"?t:t+""}function Eme(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K8=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);d="M ".concat(t,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*m,`
            L `).concat(t+n,",").concat(r+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-c*m,",").concat(r+a,`
            L `).concat(t+c*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},kme=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Tme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iA=function(t){var r=X8(X8({},Tme),t),n=I.useRef(),a=I.useState(-1),i=wme(a,2),s=i[0],l=i[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=Pt("recharts-rectangle",p);return b?K.createElement(cc,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:m,isActive:b},function(_){var N=_.width,S=_.height,j=_.x,A=_.y;return K.createElement(cc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:v,easing:m},K.createElement("path",Ub({},zt(r,!0),{className:y,d:K8(j,A,N,S,h),ref:n})))}):K.createElement("path",Ub({},zt(r,!0),{className:y,d:K8(c,u,d,f,h)}))},Ome=["points","className","baseLinePoints","connectNulls"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}function Pme(e,t){if(e==null)return{};var r=Dme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q8(e){return Rme(e)||Fme(e)||Mme(e)||Ime()}function Ime(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mme(e,t){if(e){if(typeof e=="string")return b3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b3(e,t)}}function Fme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rme(e){if(Array.isArray(e))return b3(e)}function b3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J8=function(t){return t&&t.x===+t.x&&t.y===+t.y},Lme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){J8(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),J8(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Nx=function(t,r){var n=Lme(t);r&&(n=[n.reduce(function(i,s){return[].concat(Q8(i),Q8(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Bme=function(t,r,n){var a=Nx(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Nx(r.reverse(),n).slice(1))},$me=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=Pme(t,Ome);if(!r||!r.length)return null;var l=Pt("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=Bme(r,a,i);return K.createElement("g",{className:l},K.createElement("path",bh({},zt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?K.createElement("path",bh({},zt(s,!0),{fill:"none",d:Nx(r,i)})):null,c?K.createElement("path",bh({},zt(s,!0),{fill:"none",d:Nx(a,i)})):null)}var d=Nx(r,i);return K.createElement("path",bh({},zt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function y3(){return y3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y3.apply(this,arguments)}var Fw=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Pt("recharts-dot",i);return r===+r&&n===+n&&a===+a?K.createElement("circle",y3({},zt(t,!1),ob(t),{className:s,cx:r,cy:n,r:a})):null};function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var zme=["x","y","top","left","width","height","className"];function w3(){return w3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w3.apply(this,arguments)}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ume(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){Hme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hme(e,t,r){return t=Wme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wme(e){var t=Vme(e,"string");return v1(t)=="symbol"?t:t+""}function Vme(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qme(e,t){if(e==null)return{};var r=Gme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Yme=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Xme=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,x=qme(t,zme),g=Ume({x:n,y:i,top:l,left:u,width:f,height:p},x);return!dt(n)||!dt(i)||!dt(f)||!dt(p)||!dt(l)||!dt(u)?null:K.createElement("path",w3({},zt(g,!0),{className:Pt("recharts-cross",m),d:Yme(n,i,f,p,l,u)}))},Kme=Ow,Qme=DF,Jme=mc;function Zme(e,t){return e&&e.length?Kme(e,Jme(t),Qme):void 0}var exe=Zme;const txe=rn(exe);var rxe=Ow,nxe=mc,axe=IF;function ixe(e,t){return e&&e.length?rxe(e,nxe(t),axe):void 0}var sxe=ixe;const oxe=rn(sxe);var lxe=["cx","cy","angle","ticks","axisLine"],cxe=["ticks","tick","angle","tickFormatter","stroke"];function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(this,arguments)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){Rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tT(e,t){if(e==null)return{};var r=uxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NR(n.key),n)}}function fxe(e,t,r){return t&&rT(e.prototype,t),r&&rT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hxe(e,t,r){return t=Hb(t),pxe(e,_R()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function pxe(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mxe(e)}function mxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function xxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_3(e,t)}function _3(e,t){return _3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_3(e,t)}function Rw(e,t,r){return t=NR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=gxe(e,"string");return np(t)=="symbol"?t:t+""}function gxe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lw=function(e){function t(){return dxe(this,t),hxe(this,t,arguments)}return xxe(t,e),fxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return jn(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=txe(l,function(d){return d.coordinate||0}),u=oxe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=tT(n,lxe),d=l.reduce(function(m,x){return[Math.min(m[0],x.coordinate),Math.max(m[1],x.coordinate)]},[1/0,-1/0]),f=jn(a,i,d[0],s),h=jn(a,i,d[1],s),p=qd(qd(qd({},zt(u,!1)),{},{fill:"none"},zt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return K.createElement("line",jx({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=tT(a,cxe),f=this.getTickTextAnchor(),h=zt(d,!1),p=zt(s,!1),m=i.map(function(x,g){var v=n.getTickValueCoord(x),b=qd(qd(qd(qd({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},v),{},{payload:x});return K.createElement(Dr,jx({className:Pt("recharts-polar-radius-axis-tick",lR(s)),key:"tick-".concat(x.coordinate)},L0(n.props,x,g)),t.renderTickItem(s,b,c?c(x.value,g):x.value))});return K.createElement(Dr,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:K.createElement(Dr,{className:Pt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),oi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):Xt(n)?s=n(a):s=K.createElement(B0,jx({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(I.PureComponent);Rw(Lw,"displayName","PolarRadiusAxis");Rw(Lw,"axisType","radiusAxis");Rw(Lw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(this,arguments)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){Bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SR(n.key),n)}}function bxe(e,t,r){return t&&aT(e.prototype,t),r&&aT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yxe(e,t,r){return t=Wb(t),wxe(e,jR()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function wxe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(e)}function _xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jR=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function Nxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N3(e,t)}function N3(e,t){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N3(e,t)}function Bw(e,t,r){return t=SR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SR(e){var t=jxe(e,"string");return ap(t)=="symbol"?t:t+""}function jxe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sxe=Math.PI/180,iT=1e-5,$w=function(e){function t(){return vxe(this,t),yxe(this,t,arguments)}return Nxe(t,e),bxe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=jn(i,s,l,n.coordinate),h=jn(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Sxe),s;return i>iT?s=a==="outer"?"start":"end":i<-iT?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Gd(Gd({},zt(this.props,!1)),{},{fill:"none"},zt(l,!1));if(c==="circle")return K.createElement(Fw,l0({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return jn(a,i,s,h.coordinate)});return K.createElement($me,l0({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=zt(this.props,!1),f=zt(s,!1),h=Gd(Gd({},d),{},{fill:"none"},zt(l,!1)),p=i.map(function(m,x){var g=n.getTickLineCoord(m),v=n.getTickTextAnchor(m),b=Gd(Gd(Gd({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:x,payload:m,x:g.x2,y:g.y2});return K.createElement(Dr,l0({className:Pt("recharts-polar-angle-axis-tick",lR(s)),key:"tick-".concat(m.coordinate)},L0(n.props,m,x)),l&&K.createElement("line",l0({className:"recharts-polar-angle-axis-tick-line"},h,g)),s&&t.renderTickItem(s,b,c?c(m.value,x):m.value))});return K.createElement(Dr,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:K.createElement(Dr,{className:Pt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):Xt(n)?s=n(a):s=K.createElement(B0,l0({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(I.PureComponent);Bw($w,"displayName","PolarAngleAxis");Bw($w,"axisType","angleAxis");Bw($w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Axe=k7,Cxe=Axe(Object.getPrototypeOf,Object),Exe=Cxe,kxe=uu,Txe=Exe,Oxe=du,Pxe="[object Object]",Dxe=Function.prototype,Ixe=Object.prototype,AR=Dxe.toString,Mxe=Ixe.hasOwnProperty,Fxe=AR.call(Object);function Rxe(e){if(!Oxe(e)||kxe(e)!=Pxe)return!1;var t=Txe(e);if(t===null)return!0;var r=Mxe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&AR.call(r)==Fxe}var Lxe=Rxe;const Bxe=rn(Lxe);var $xe=uu,zxe=du,Uxe="[object Boolean]";function Hxe(e){return e===!0||e===!1||zxe(e)&&$xe(e)==Uxe}var Wxe=Hxe;const Vxe=rn(Wxe);function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(this,arguments)}function qxe(e,t){return Kxe(e)||Xxe(e,t)||Yxe(e,t)||Gxe()}function Gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yxe(e,t){if(e){if(typeof e=="string")return sT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sT(e,t)}}function sT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Kxe(e){if(Array.isArray(e))return e}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){Qxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qxe(e,t,r){return t=Jxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jxe(e){var t=Zxe(e,"string");return b1(t)=="symbol"?t:t+""}function Zxe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cT=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},e1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t1e=function(t){var r=lT(lT({},e1e),t),n=I.useRef(),a=I.useState(-1),i=qxe(a,2),s=i[0],l=i[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,x=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Pt("recharts-trapezoid",p);return v?K.createElement(cc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:m,isActive:v},function(y){var _=y.upperWidth,N=y.lowerWidth,S=y.height,j=y.x,A=y.y;return K.createElement(cc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:m},K.createElement("path",Vb({},zt(r,!0),{className:b,d:cT(j,A,_,N,S),ref:n})))}):K.createElement("g",null,K.createElement("path",Vb({},zt(r,!0),{className:b,d:cT(c,u,d,f,h)})))},r1e=["option","shapeType","propTransformer","activeClassName","isActive"];function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function n1e(e,t){if(e==null)return{};var r=a1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){i1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i1e(e,t,r){return t=s1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s1e(e){var t=o1e(e,"string");return y1(t)=="symbol"?t:t+""}function o1e(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l1e(e,t){return qb(qb({},t),e)}function c1e(e,t){return e==="symbols"}function dT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return K.createElement(iA,r);case"trapezoid":return K.createElement(t1e,r);case"sector":return K.createElement(dR,r);case"symbols":if(c1e(t))return K.createElement(jS,r);break;default:return null}}function u1e(e){return I.isValidElement(e)?e.props:e}function CR(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?l1e:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=n1e(e,r1e),u;if(I.isValidElement(t))u=I.cloneElement(t,qb(qb({},c),u1e(t)));else if(Xt(t))u=t(c);else if(Bxe(t)&&!Vxe(t)){var d=a(t,c);u=K.createElement(dT,{shapeType:r,elementProps:d})}else{var f=c;u=K.createElement(dT,{shapeType:r,elementProps:f})}return l?K.createElement(Dr,{className:s},u):u}function zw(e,t){return t!=null&&"trapezoids"in e.props}function Uw(e,t){return t!=null&&"sectors"in e.props}function w1(e,t){return t!=null&&"points"in e.props}function d1e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function f1e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function h1e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function p1e(e,t){var r;return zw(e,t)?r=d1e:Uw(e,t)?r=f1e:w1(e,t)&&(r=h1e),r}function m1e(e,t){var r;return zw(e,t)?r="trapezoids":Uw(e,t)?r="sectors":w1(e,t)&&(r="points"),r}function x1e(e,t){if(zw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Uw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return w1(e,t)?t.payload:{}}function g1e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=m1e(r,t),i=x1e(r,t),s=n.filter(function(c,u){var d=dg(i,c),f=r.props[a].filter(function(m){var x=p1e(r,t);return x(m,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var $2;function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){Fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kR(n.key),n)}}function b1e(e,t,r){return t&&hT(e.prototype,t),r&&hT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y1e(e,t,r){return t=Gb(t),w1e(e,ER()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function w1e(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1e(e)}function _1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ER(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j3(e,t)}function j3(e,t){return j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j3(e,t)}function Fo(e,t,r){return t=kR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kR(e){var t=j1e(e,"string");return ip(t)=="symbol"?t:t+""}function j1e(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xc=function(e){function t(r){var n;return v1e(this,t),n=y1e(this,t,[r]),Fo(n,"pieRef",null),Fo(n,"sectorRefs",[]),Fo(n,"id",Bp("recharts-pie-")),Fo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xt(a)&&a()}),Fo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return N1e(t,e),b1e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=zt(this.props,!1),f=zt(s,!1),h=zt(l,!1),p=s&&s.offsetRadius||20,m=n.map(function(x,g){var v=(x.startAngle+x.endAngle)/2,b=jn(x.cx,x.cy,x.outerRadius+p,v),y=_n(_n(_n(_n({},d),x),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,x.cx)},b),_=_n(_n(_n(_n({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:g,points:[jn(x.cx,x.cy,x.outerRadius,v),b]}),N=c;return nr(c)&&nr(u)?N="value":nr(c)&&(N=u),K.createElement(Dr,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,y,Wa(x,N)))});return K.createElement(Dr,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,m=_n(_n({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return K.createElement(Dr,yh({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},L0(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),K.createElement(CR,yh({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return K.createElement(cc,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var x=m.t,g=[],v=i&&i[0],b=v.startAngle;return i.forEach(function(y,_){var N=h&&h[_],S=_>0?so(y,"paddingAngle",0):0;if(N){var j=Ks(N.endAngle-N.startAngle,y.endAngle-y.startAngle),A=_n(_n({},y),{},{startAngle:b+S,endAngle:b+j(x)+S});g.push(A),b=A.endAngle}else{var T=y.endAngle,F=y.startAngle,O=Ks(0,T-F),E=O(x),L=_n(_n({},y),{},{startAngle:b+S,endAngle:b+E+S});g.push(L),b=L.endAngle}}),K.createElement(Dr,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!dg(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!s||!s.length||!dt(u)||!dt(d)||!dt(f)||!dt(h))return null;var x=Pt("recharts-pie",l);return K.createElement(Dr,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(s),oi.renderCallByParent(this.props,null,!1),(!p||m)&&Yc.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);if(Xt(n))return n(a);var s=Pt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(Lb,yh({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);var s=i;if(Xt(n)&&(s=n(a),K.isValidElement(s)))return s;var l=Pt("recharts-pie-label-text",typeof n!="boolean"&&!Xt(n)?n.className:"");return K.createElement(B0,yh({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(I.PureComponent);$2=xc;Fo(xc,"displayName","Pie");Fo(xc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fo(xc,"parseDeltaAngle",function(e,t){var r=ds(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Fo(xc,"getRealPieData",function(e){var t=e.data,r=e.children,n=zt(e,!1),a=oo(r,sg);return t&&t.length?t.map(function(i,s){return _n(_n(_n({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return _n(_n({},n),i.props)}):[]});Fo(xc,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=oR(a,i),l=n+fs(e.cx,a,a/2),c=r+fs(e.cy,i,i/2),u=fs(e.innerRadius,s,0),d=fs(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Fo(xc,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?_n(_n({},t.type.defaultProps),t.props):t.props,a=$2.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=$2.parseCoordinateOfPie(n,r),x=$2.parseDeltaAngle(s,l),g=Math.abs(x),v=u;nr(u)&&nr(f)?(yl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):nr(u)&&(yl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=a.filter(function(A){return Wa(A,v,0)!==0}).length,y=(g>=360?b:b-1)*c,_=g-b*p-y,N=a.reduce(function(A,T){var F=Wa(T,v,0);return A+(dt(F)?F:0)},0),S;if(N>0){var j;S=a.map(function(A,T){var F=Wa(A,v,0),O=Wa(A,d,T),E=(dt(F)?F:0)/N,L;T?L=j.endAngle+ds(x)*c*(F!==0?1:0):L=s;var B=L+ds(x)*((F!==0?p:0)+E*_),G=(L+B)/2,z=(m.innerRadius+m.outerRadius)/2,V=[{name:O,value:F,payload:A,dataKey:v,type:h}],Y=jn(m.cx,m.cy,z,G);return j=_n(_n(_n({percent:E,cornerRadius:i,name:O,tooltipPayload:V,midAngle:G,middleRadius:z,tooltipPosition:Y},A),m),{},{value:Wa(A,v),startAngle:L,endAngle:B,payload:A,paddingAngle:ds(x)*c}),j})}return _n(_n({},m),{},{sectors:S,data:a})});var S1e=Math.ceil,A1e=Math.max;function C1e(e,t,r,n){for(var a=-1,i=A1e(S1e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var E1e=C1e,k1e=Y7,pT=1/0,T1e=17976931348623157e292;function O1e(e){if(!e)return e===0?e:0;if(e=k1e(e),e===pT||e===-pT){var t=e<0?-1:1;return t*T1e}return e===e?e:0}var TR=O1e,P1e=E1e,D1e=jw,B_=TR;function I1e(e){return function(t,r,n){return n&&typeof n!="number"&&D1e(t,r,n)&&(r=n=void 0),t=B_(t),r===void 0?(r=t,t=0):r=B_(r),n=n===void 0?t<r?1:-1:B_(n),P1e(t,r,n,e)}}var M1e=I1e,F1e=M1e,R1e=F1e(),L1e=R1e;const Yb=rn(L1e);function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){OR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OR(e,t,r){return t=B1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B1e(e){var t=$1e(e,"string");return _1(t)=="symbol"?t:t+""}function $1e(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z1e=["Webkit","Moz","O","ms"],U1e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=z1e.reduce(function(i,s){return xT(xT({},i),{},OR({},s+n,r))},{});return a[t]=r,a};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){Ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DR(n.key),n)}}function W1e(e,t,r){return t&&vT(e.prototype,t),r&&vT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V1e(e,t,r){return t=Kb(t),q1e(e,PR()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function q1e(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(e)}function G1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function Y1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S3(e,t)}function S3(e,t){return S3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S3(e,t)}function Ys(e,t,r){return t=DR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DR(e){var t=X1e(e,"string");return sp(t)=="symbol"?t:t+""}function X1e(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K1e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=yx().domain(Yb(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},bT=function(t){return t.changedTouches&&!!t.changedTouches.length},op=function(e){function t(r){var n;return H1e(this,t),n=V1e(this,t,[r]),Ys(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ys(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ys(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Ys(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ys(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ys(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ys(n,"handleSlideDragStart",function(a){var i=bT(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Y1e(t,e),W1e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),m=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=Wa(i[n],l,n);return Xt(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,x=n.pageX-i;x>0?x=Math.min(x,u+d-f-l,u+d-f-s):x<0&&(x=Math.max(x,u-s,u-l));var g=this.getIndex({startX:s+x,endX:l+x});(g.startIndex!==h||g.endIndex!==p)&&m&&m(g),this.setState({startX:s+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=bT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,x=d.gap,g=d.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),v[s]=u+b;var y=this.getIndex(v),_=y.startIndex,N=y.endIndex,S=function(){var A=g.length-1;return s==="startX"&&(l>c?_%x===0:N%x===0)||l<c&&N===A||s==="endX"&&(l>c?N%x===0:_%x===0)||l>c&&N===A};this.setState(Ys(Ys({},s,u+b),"brushMoveStartX",n.pageX),function(){m&&S()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Ys({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=I.Children.only(u);return f?K.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,x=c.startIndex,g=c.endIndex,v=Math.max(n,this.props.x),b=$_($_({},zt(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=m[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=m[g])===null||s===void 0?void 0:s.name);return K.createElement(Dr,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return K.createElement(Dr,{className:"recharts-brush-texts"},K.createElement(B0,Xb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},m),this.getTextOfTick(a)),K.createElement(B0,Xb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,x=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!dt(l)||!dt(c)||!dt(u)||!dt(d)||u<=0||d<=0)return null;var y=Pt("recharts-brush",i),_=K.Children.count(s)===1,N=U1e("userSelect","none");return K.createElement(Dr,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(x||g||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return K.isValidElement(n)?i=K.cloneElement(n,a):Xt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return $_({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?K1e({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(I.PureComponent);Ys(op,"displayName","Brush");Ys(op,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Q1e=OS;function J1e(e,t){var r;return Q1e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Z1e=J1e,ege=w7,tge=mc,rge=Z1e,nge=Fs,age=jw;function ige(e,t,r){var n=nge(e)?ege:rge;return r&&age(e,t,r)&&(t=void 0),n(e,tge(t))}var sge=ige;const oge=rn(sge);var ic=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},yT=H7;function lge(e,t,r){t=="__proto__"&&yT?yT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var cge=lge,uge=cge,dge=z7,fge=mc;function hge(e,t){var r={};return t=fge(t),dge(e,function(n,a,i){uge(r,a,t(n,a,i))}),r}var pge=hge;const mge=rn(pge);function xge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var gge=xge,vge=OS;function bge(e,t){var r=!0;return vge(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var yge=bge,wge=gge,_ge=yge,Nge=mc,jge=Fs,Sge=jw;function Age(e,t,r){var n=jge(e)?wge:_ge;return r&&Sge(e,t,r)&&(t=void 0),n(e,Nge(t))}var Cge=Age;const IR=rn(Cge);var Ege=["x","y"];function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A3.apply(this,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){kge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kge(e,t,r){return t=Tge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tge(e){var t=Oge(e,"string");return N1(t)=="symbol"?t:t+""}function Oge(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pge(e,t){if(e==null)return{};var r=Dge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ige(e,t){var r=e.x,n=e.y,a=Pge(e,Ege),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Vm(Vm(Vm(Vm(Vm({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _T(e){return K.createElement(CR,A3({shapeType:"rectangle",propTransformer:Ige,activeClassName:"recharts-active-bar"},e))}var Mge=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||z0(),r)}},Fge=["value","background"],MR;function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function Rge(e,t){if(e==null)return{};var r=Lge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){sd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RR(n.key),n)}}function $ge(e,t,r){return t&&jT(e.prototype,t),r&&jT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zge(e,t,r){return t=Jb(t),Uge(e,FR()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function Uge(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hge(e)}function Hge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function Wge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C3(e,t)}function C3(e,t){return C3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C3(e,t)}function sd(e,t,r){return t=RR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RR(e){var t=Vge(e,"string");return lp(t)=="symbol"?t:t+""}function Vge(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uf=function(e){function t(){var r;Bge(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=zge(this,t,[].concat(a)),sd(r,"state",{isAnimationFinished:!1}),sd(r,"id",Bp("recharts-bar-")),sd(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),sd(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Wge(t,e),$ge(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=zt(this.props,!1);return n&&n.map(function(f,h){var p=h===c,m=p?u:s,x=Ca(Ca(Ca({},d),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(Dr,Qb({className:"recharts-bar-rectangle"},L0(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),K.createElement(_T,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return K.createElement(cc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=i.map(function(g,v){var b=h&&h[v];if(b){var y=Ks(b.x,g.x),_=Ks(b.y,g.y),N=Ks(b.width,g.width),S=Ks(b.height,g.height);return Ca(Ca({},g),{},{x:y(m),y:_(m),width:N(m),height:S(m)})}if(s==="horizontal"){var j=Ks(0,g.height),A=j(m);return Ca(Ca({},g),{},{y:g.y+g.height-A,height:A})}var T=Ks(0,g.width),F=T(m);return Ca(Ca({},g),{},{width:F})});return K.createElement(Dr,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!dg(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=zt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Rge(u,Fge);if(!f)return null;var p=Ca(Ca(Ca(Ca(Ca({},h),{},{fill:"#eee"},f),c),L0(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return K.createElement(_T,Qb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=oo(d,fg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(g,v){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:Wa(g,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Dr,m,f.map(function(x){return K.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,x=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,v=Pt("recharts-bar",s),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,_=b||y,N=nr(x)?this.id:x;return K.createElement(Dr,{className:v},b||y?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(N)},K.createElement("rect",{x:b?u:u-f/2,y:y?d:d-h/2,width:b?f:f*2,height:y?h:h*2}))):null,K.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!p||g)&&Yc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(I.PureComponent);MR=uf;sd(uf,"displayName","Bar");sd(uf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sd(uf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Sfe(n,r);if(!p)return null;var m=t.layout,x=r.type.defaultProps,g=x!==void 0?Ca(Ca({},x),r.props):r.props,v=g.dataKey,b=g.children,y=g.minPointSize,_=m==="horizontal"?s:i,N=u?_.scale.domain():null,S=Pfe({numericAxis:_}),j=oo(b,sg),A=f.map(function(T,F){var O,E,L,B,G,z;u?O=Afe(u[d+F],N):(O=Wa(T,v),Array.isArray(O)||(O=[S,O]));var V=Mge(y,MR.defaultProps.minPointSize)(O[1],F);if(m==="horizontal"){var Y,U=[s.scale(O[0]),s.scale(O[1])],ae=U[0],he=U[1];E=h8({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:T,index:F}),L=(Y=he??ae)!==null&&Y!==void 0?Y:void 0,B=p.size;var k=ae-he;if(G=Number.isNaN(k)?0:k,z={x:E,y:s.y,width:B,height:s.height},Math.abs(V)>0&&Math.abs(G)<Math.abs(V)){var P=ds(G||V)*(Math.abs(V)-Math.abs(G));L-=P,G+=P}}else{var R=[i.scale(O[0]),i.scale(O[1])],H=R[0],X=R[1];if(E=H,L=h8({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:T,index:F}),B=X-H,G=p.size,z={x:i.x,y:L,width:i.width,height:G},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var oe=ds(B||V)*(Math.abs(V)-Math.abs(B));B+=oe}}return Ca(Ca(Ca({},T),{},{x:E,y:L,width:B,height:G,value:u?O:O[1],payload:T,background:z},j&&j[F]&&j[F].props),{},{tooltipPayload:[iR(r,T)],tooltipPosition:{x:E+B/2,y:L+G/2}})});return Ca({data:A,layout:m},h)});function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function qge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LR(n.key),n)}}function Gge(e,t,r){return t&&ST(e.prototype,t),r&&ST(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Hw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hw(e,t,r){return t=LR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LR(e){var t=Yge(e,"string");return j1(t)=="symbol"?t:t+""}function Yge(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BR=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Xs(u,uf);return d.reduce(function(p,m){var x=r[m],g=x.orientation,v=x.domain,b=x.padding,y=b===void 0?{}:b,_=x.mirror,N=x.reversed,S="".concat(g).concat(_?"Mirror":""),j,A,T,F,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var E=v[1]-v[0],L=1/0,B=x.categoricalDomain.sort();if(B.forEach(function(R,H){H>0&&(L=Math.min((R||0)-(B[H-1]||0),L))}),Number.isFinite(L)){var G=L/E,z=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(j=G*z/2),x.padding==="no-gap"){var V=fs(t.barCategoryGap,G*z),Y=G*z/2;j=Y-V-(Y-V)/z*V}}}a==="xAxis"?A=[n.left+(y.left||0)+(j||0),n.left+n.width-(y.right||0)-(j||0)]:a==="yAxis"?A=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(j||0),n.top+n.height-(y.bottom||0)-(j||0)]:A=x.range,N&&(A=[A[1],A[0]]);var U=tR(x,i,h),ae=U.scale,he=U.realScaleType;ae.domain(v).range(A),rR(ae);var k=nR(ae,fl(fl({},x),{},{realScaleType:he}));a==="xAxis"?(O=g==="top"&&!_||g==="bottom"&&_,T=n.left,F=f[S]-O*x.height):a==="yAxis"&&(O=g==="left"&&!_||g==="right"&&_,T=f[S]-O*x.width,F=n.top);var P=fl(fl(fl({},x),k),{},{realScaleType:he,x:T,y:F,scale:ae,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return P.bandSize=Mb(P,k),!x.hide&&a==="xAxis"?f[S]+=(O?-1:1)*P.height:x.hide||(f[S]+=(O?-1:1)*P.width),fl(fl({},p),{},Hw({},m,P))},{})},$R=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Xge=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return $R({x:r,y:n},{x:a,y:i})},zR=function(){function e(t){qge(this,e),this.scale=t}return Gge(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Hw(zR,"EPS",1e-4);var sA=function(t){var r=Object.keys(t).reduce(function(n,a){return fl(fl({},n),{},Hw({},a,zR.create(t[a])))},{});return fl(fl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return mge(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return IR(a,function(i,s){return r[s].isInRange(i)})}})};function Kge(e){return(e%180+180)%180}var Qge=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Kge(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Jge=mc,Zge=ig,eve=_w;function tve(e){return function(t,r,n){var a=Object(t);if(!Zge(t)){var i=Jge(r);t=eve(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var rve=tve,nve=TR;function ave(e){var t=nve(e),r=t%1;return t===t?r?t-r:t:0}var ive=ave,sve=M7,ove=mc,lve=ive,cve=Math.max;function uve(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:lve(r);return a<0&&(a=cve(n+a,0)),sve(e,ove(t),a)}var dve=uve,fve=rve,hve=dve,pve=fve(hve),mve=pve;const xve=rn(mve);var gve=fQ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),oA=I.createContext(void 0),lA=I.createContext(void 0),UR=I.createContext(void 0),HR=I.createContext({}),WR=I.createContext(void 0),VR=I.createContext(0),qR=I.createContext(0),CT=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=gve(i);return K.createElement(oA.Provider,{value:n},K.createElement(lA.Provider,{value:a},K.createElement(HR.Provider,{value:i},K.createElement(UR.Provider,{value:d},K.createElement(WR.Provider,{value:s},K.createElement(VR.Provider,{value:u},K.createElement(qR.Provider,{value:c},l)))))))},vve=function(){return I.useContext(WR)},GR=function(t){var r=I.useContext(oA);r==null&&z0();var n=r[t];return n==null&&z0(),n},bve=function(){var t=I.useContext(oA);return ed(t)},yve=function(){var t=I.useContext(lA),r=xve(t,function(n){return IR(n.domain,Number.isFinite)});return r||ed(t)},YR=function(t){var r=I.useContext(lA);r==null&&z0();var n=r[t];return n==null&&z0(),n},wve=function(){var t=I.useContext(UR);return t},_ve=function(){return I.useContext(HR)},cA=function(){return I.useContext(qR)},uA=function(){return I.useContext(VR)};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KR(n.key),n)}}function Sve(e,t,r){return t&&jve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ave(e,t,r){return t=Zb(t),Cve(e,XR()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function Cve(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eve(e)}function Eve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XR=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function kve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E3(e,t)}function E3(e,t){return E3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E3(e,t)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){dA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dA(e,t,r){return t=KR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KR(e){var t=Tve(e,"string");return cp(t)=="symbol"?t:t+""}function Tve(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ove(e,t){return Mve(e)||Ive(e,t)||Dve(e,t)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ive(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Mve(e){if(Array.isArray(e))return e}function k3(){return k3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k3.apply(this,arguments)}var Fve=function(t,r){var n;return K.isValidElement(t)?n=K.cloneElement(t,r):Xt(t)?n=t(r):n=K.createElement("line",k3({},r,{className:"recharts-reference-line-line"})),n},Rve=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var m=u.y,x=t.y.apply(m,{position:s});if(ic(u,"discard")&&!t.y.isInRange(x))return null;var g=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?g.reverse():g}if(r){var v=u.x,b=t.x.apply(v,{position:s});if(ic(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?y.reverse():y}if(a){var _=u.segment,N=_.map(function(S){return t.apply(S,{position:s})});return ic(u,"discard")&&oge(N,function(S){return!t.isInRange(S)})?null:N}return null};function Lve(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=vve(),d=GR(a),f=YR(i),h=wve();if(!u||!h)return null;yl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sA({x:d.scale,y:f.scale}),m=Ya(t),x=Ya(r),g=n&&n.length===2,v=Rve(p,m,x,g,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=Ove(v,2),y=b[0],_=y.x,N=y.y,S=b[1],j=S.x,A=S.y,T=ic(e,"hidden")?"url(#".concat(u,")"):void 0,F=kT(kT({clipPath:T},zt(e,!0)),{},{x1:_,y1:N,x2:j,y2:A});return K.createElement(Dr,{className:Pt("recharts-reference-line",l)},Fve(s,F),oi.renderCallByParent(e,Xge({x1:_,y1:N,x2:j,y2:A})))}var fA=function(e){function t(){return Nve(this,t),Ave(this,t,arguments)}return kve(t,e),Sve(t,[{key:"render",value:function(){return K.createElement(Lve,this.props)}}])}(K.Component);dA(fA,"displayName","ReferenceLine");dA(fA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T3.apply(this,arguments)}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JR(n.key),n)}}function zve(e,t,r){return t&&$ve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uve(e,t,r){return t=ey(t),Hve(e,QR()?Reflect.construct(t,r||[],ey(e).constructor):t.apply(e,r))}function Hve(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wve(e)}function Wve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(e)}function Vve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O3(e,t)}function O3(e,t){return O3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O3(e,t)}function Ww(e,t,r){return t=JR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JR(e){var t=qve(e,"string");return up(t)=="symbol"?t:t+""}function qve(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gve=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=sA({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return ic(t,"discard")&&!s.isInRange(l)?null:l},Vw=function(e){function t(){return Bve(this,t),Uve(this,t,arguments)}return Vve(t,e),zve(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ya(a),d=Ya(i);if(yl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Gve(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,x=m.shape,g=m.className,v=ic(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=PT(PT({clipPath:v},zt(this.props,!0)),{},{cx:h,cy:p});return K.createElement(Dr,{className:Pt("recharts-reference-dot",g)},t.renderDot(x,b),oi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(K.Component);Ww(Vw,"displayName","ReferenceDot");Ww(Vw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ww(Vw,"renderDot",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Xt(e)?r=e(t):r=K.createElement(Fw,T3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function P3(){return P3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P3.apply(this,arguments)}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eL(n.key),n)}}function Kve(e,t,r){return t&&Xve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qve(e,t,r){return t=ty(t),Jve(e,ZR()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function Jve(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zve(e)}function Zve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function e2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D3(e,t)}function D3(e,t){return D3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D3(e,t)}function qw(e,t,r){return t=eL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eL(e){var t=t2e(e,"string");return dp(t)=="symbol"?t:t+""}function t2e(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r2e=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=sA({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ic(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:$R(p,m)},Gw=function(e){function t(){return Yve(this,t),Qve(this,t,arguments)}return e2e(t,e),Kve(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;yl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ya(a),h=Ya(i),p=Ya(s),m=Ya(l),x=this.props.shape;if(!f&&!h&&!p&&!m&&!x)return null;var g=r2e(f,h,p,m,this.props);if(!g&&!x)return null;var v=ic(this.props,"hidden")?"url(#".concat(d,")"):void 0;return K.createElement(Dr,{className:Pt("recharts-reference-area",c)},t.renderRect(x,IT(IT({clipPath:v},zt(this.props,!0)),g)),oi.renderCallByParent(this.props,g))}}])}(K.Component);qw(Gw,"displayName","ReferenceArea");qw(Gw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qw(Gw,"renderRect",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Xt(e)?r=e(t):r=K.createElement(iA,P3({},t,{className:"recharts-reference-area-rect"})),r});function tL(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function n2e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Qge(n,r)}function a2e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function ry(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function i2e(e,t){return tL(e,t+1)}function s2e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:tL(n,u)};var x=c,g,v=function(){return g===void 0&&(g=r(m,x)),g},b=m.coordinate,y=c===0||ry(e,b,v,d,l);y||(c=0,d=s,u+=1),y&&(d=b+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){o2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o2e(e,t,r){return t=l2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l2e(e){var t=c2e(e,"string");return S1(t)=="symbol"?t:t+""}function c2e(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u2e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],m,x=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var g=e*(p.coordinate+e*x()/2-c);i[h]=p=Bi(Bi({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=Bi(Bi({},p),{},{tickCoord:p.coordinate});var v=ry(e,p.tickCoord,x,l,c);v&&(c=p.tickCoord-e*(x()/2+a),i[h]=Bi(Bi({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function d2e(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Bi(Bi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=ry(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),s[l-1]=Bi(Bi({},d),{},{isShow:!0}))}for(var m=i?l-1:l,x=function(b){var y=s[b],_,N=function(){return _===void 0&&(_=r(y,b)),_};if(b===0){var S=e*(y.coordinate-e*N()/2-c);s[b]=y=Bi(Bi({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[b]=y=Bi(Bi({},y),{},{tickCoord:y.coordinate});var j=ry(e,y.tickCoord,N,c,u);j&&(c=y.tickCoord+e*(N()/2+a),s[b]=Bi(Bi({},y),{},{isShow:!0}))},g=0;g<m;g++)x(g);return s}function hA(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(dt(c)||nc.isSsr)return i2e(a,typeof c=="number"&&dt(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?bx(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(y,_){var N=Xt(u)?u(y.value,_):y.value;return p==="width"?n2e(bx(N,{fontSize:t,letterSpacing:r}),m,f):bx(N,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?ds(a[1].coordinate-a[0].coordinate):1,v=a2e(i,g,p);return c==="equidistantPreserveStart"?s2e(g,v,x,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=d2e(g,v,x,a,s,c==="preserveStartEnd"):h=u2e(g,v,x,a,s),h.filter(function(b){return b.isShow}))}var f2e=["viewBox"],h2e=["viewBox"],p2e=["ticks"];function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(this,arguments)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){pA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z_(e,t){if(e==null)return{};var r=m2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nL(n.key),n)}}function g2e(e,t,r){return t&&RT(e.prototype,t),r&&RT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v2e(e,t,r){return t=ny(t),b2e(e,rL()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function b2e(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y2e(e)}function y2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function w2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I3(e,t)}function I3(e,t){return I3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I3(e,t)}function pA(e,t,r){return t=nL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=_2e(e,"string");return fp(t)=="symbol"?t:t+""}function _2e(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qp=function(e){function t(r){var n;return x2e(this,t),n=v2e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return w2e(t,e),g2e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=z_(n,f2e),l=this.props,c=l.viewBox,u=z_(l,h2e);return!Oh(i,c)||!Oh(s,u)||!Oh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,m,x,g,v,b,y=f?-1:1,_=n.tickSize||d,N=dt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,g=s+ +!f*c,x=g-y*_,b=x-y*h,v=N;break;case"left":x=g=n.coordinate,m=i+ +!f*l,p=m-y*_,v=p-y*h,b=N;break;case"right":x=g=n.coordinate,m=i+ +f*l,p=m+y*_,v=p+y*h,b=N;break;default:p=m=n.coordinate,g=s+ +f*c,x=g+y*_,b=x+y*h,v=N;break}return{line:{x1:p,y1:x,x2:m,y2:g},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ts(ts(ts({},zt(this.props,!1)),zt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ts(ts({},f),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ts(ts({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+l})}return K.createElement("line",wh({},f,{className:Pt("recharts-cartesian-axis-line",so(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=hA(ts(ts({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=zt(this.props,!1),v=zt(d,!1),b=ts(ts({},g),{},{fill:"none"},zt(c,!1)),y=p.map(function(_,N){var S=s.getTickLineCoord(_),j=S.line,A=S.tick,T=ts(ts(ts(ts({textAnchor:m,verticalAnchor:x},g),{},{stroke:"none",fill:u},v),A),{},{index:N,payload:_,visibleTicksCount:p.length,tickFormatter:f});return K.createElement(Dr,wh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},L0(s.props,_,N)),c&&K.createElement("line",wh({},b,j,{className:Pt("recharts-cartesian-axis-tick-line",so(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(Xt(f)?f(_.value,N):_.value).concat(h||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=z_(f,p2e),m=h;return Xt(c)&&(m=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!m||!m.length?null:K.createElement(Dr,{className:Pt("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),oi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):Xt(n)?s=n(a):s=K.createElement(B0,wh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(I.Component);pA(qp,"displayName","CartesianAxis");pA(qp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var N2e=["x1","y1","x2","y2","key"],j2e=["offset"];function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){S2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S2e(e,t,r){return t=A2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2e(e){var t=C2e(e,"string");return U0(t)=="symbol"?t:t+""}function C2e(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(this,arguments)}function BT(e,t){if(e==null)return{};var r=E2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var k2e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return K.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aL(e,t){var r;if(K.isValidElement(e))r=K.cloneElement(e,t);else if(Xt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=BT(t,N2e),u=zt(c,!1);u.offset;var d=BT(u,j2e);r=K.createElement("line",x0({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function T2e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Ui(Ui({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return aL(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function O2e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Ui(Ui({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return aL(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function P2e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?a+s-h:d[p+1]-h;if(x<=0)return null;var g=p%t.length;return K.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function D2e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],x=m?i+l-h:d[p+1]-h;if(x<=0)return null;var g=p%n.length;return K.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:x,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var I2e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return eR(hA(Ui(Ui(Ui({},qp.defaultProps),n),{},{ticks:Uc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},M2e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return eR(hA(Ui(Ui(Ui({},qp.defaultProps),n),{},{ticks:Uc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Gf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mA(e){var t,r,n,a,i,s,l=cA(),c=uA(),u=_ve(),d=Ui(Ui({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gf.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Gf.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Gf.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Gf.verticalFill,x:dt(e.x)?e.x:u.left,y:dt(e.y)?e.y:u.top,width:dt(e.width)?e.width:u.width,height:dt(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,x=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,b=bve(),y=yve();if(!dt(p)||p<=0||!dt(m)||m<=0||!dt(f)||f!==+f||!dt(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||I2e,N=d.horizontalCoordinatesGenerator||M2e,S=d.horizontalPoints,j=d.verticalPoints;if((!S||!S.length)&&Xt(N)){var A=g&&g.length,T=N({yAxis:y?Ui(Ui({},y),{},{ticks:A?g:y.ticks}):void 0,width:l,height:c,offset:u},A?!0:x);yl(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(U0(T),"]")),Array.isArray(T)&&(S=T)}if((!j||!j.length)&&Xt(_)){var F=v&&v.length,O=_({xAxis:b?Ui(Ui({},b),{},{ticks:F?v:b.ticks}):void 0,width:l,height:c,offset:u},F?!0:x);yl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(U0(O),"]")),Array.isArray(O)&&(j=O)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(k2e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),K.createElement(T2e,x0({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:y})),K.createElement(O2e,x0({},d,{offset:u,verticalPoints:j,xAxis:b,yAxis:y})),K.createElement(P2e,x0({},d,{horizontalPoints:S})),K.createElement(D2e,x0({},d,{verticalPoints:j})))}mA.displayName="CartesianGrid";var F2e=["type","layout","connectNulls","ref"],R2e=["key"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function $T(e,t){if(e==null)return{};var r=L2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(this,arguments)}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){hl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yf(e){return U2e(e)||z2e(e)||$2e(e)||B2e()}function B2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $2e(e,t){if(e){if(typeof e=="string")return M3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M3(e,t)}}function z2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U2e(e){if(Array.isArray(e))return M3(e)}function M3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sL(n.key),n)}}function W2e(e,t,r){return t&&UT(e.prototype,t),r&&UT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V2e(e,t,r){return t=ay(t),q2e(e,iL()?Reflect.construct(t,r||[],ay(e).constructor):t.apply(e,r))}function q2e(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G2e(e)}function G2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(e)}function Y2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F3(e,t)}function F3(e,t){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F3(e,t)}function hl(e,t,r){return t=sL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){var t=X2e(e,"string");return hp(t)=="symbol"?t:t+""}function X2e(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hg=function(e){function t(){var r;H2e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=V2e(this,t,[].concat(a)),hl(r,"state",{isAnimationFinished:!0,totalLength:0}),hl(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),hl(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(v,b){return v+b});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,p=[],m=0,x=0;m<c.length;x+=c[m],++m)if(x+c[m]>f){p=[].concat(Yf(c.slice(0,m)),[f-x]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Yf(t.repeat(c,d)),Yf(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),hl(r,"id",Bp("recharts-line-")),hl(r,"pathRef",function(s){r.mainCurve=s}),hl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),hl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Y2e(t,e),W2e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=oo(d,fg);if(!f)return null;var h=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:Wa(x.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Dr,p,f.map(function(m){return K.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=zt(this.props,!1),h=zt(c,!0),p=u.map(function(x,g){var v=qs(qs(qs({key:"dot-".concat(g),r:3},f),h),{},{value:x.value,dataKey:d,cx:x.x,cy:x.y,index:g,payload:x.payload});return t.renderDotItem(c,v)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return K.createElement(Dr,Sx({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=$T(l,F2e),h=qs(qs(qs({},zt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return K.createElement(Lb,Sx({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,x=s.width,g=s.height,v=this.state,b=v.prevPoints,y=v.totalLength;return K.createElement(cc,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(b){var S=b.length/l.length,j=l.map(function(E,L){var B=Math.floor(L*S);if(b[B]){var G=b[B],z=Ks(G.x,E.x),V=Ks(G.y,E.y);return qs(qs({},E),{},{x:z(N),y:V(N)})}if(m){var Y=Ks(x*2,E.x),U=Ks(g/2,E.y);return qs(qs({},E),{},{x:Y(N),y:U(N)})}return qs(qs({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(j,n,a)}var A=Ks(0,y),T=A(N),F;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});F=i.getStrokeDasharray(T,y,O)}else F=i.generateSimpleStrokeDasharray(y,T);return i.renderCurveStatically(l,n,a,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!dg(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,m=a.height,x=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,y=Pt("recharts-line",c),_=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,S=_||N,j=nr(g)?this.id:g,A=(n=zt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=A.r,F=T===void 0?3:T,O=A.strokeWidth,E=O===void 0?2:O,L=vJ(s)?s:{},B=L.clipDot,G=B===void 0?!0:B,z=F*2+E;return K.createElement(Dr,{className:y},_||N?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(j)},K.createElement("rect",{x:_?h:h-p/2,y:N?f:f-m/2,width:_?p:p*2,height:N?m:m*2})),!G&&K.createElement("clipPath",{id:"clipPath-dots-".concat(j)},K.createElement("rect",{x:h-z/2,y:f-z/2,width:p+z,height:m+z}))):null,!b&&this.renderCurve(S,j),this.renderErrorBar(S,j),(b||s)&&this.renderDots(S,G,j),(!x||v)&&Yc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Yf(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(Yf(s),Yf(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(K.isValidElement(n))i=K.cloneElement(n,a);else if(Xt(n))i=n(a);else{var s=a.key,l=$T(a,R2e),c=Pt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=K.createElement(Fw,Sx({key:s},l,{className:c}))}return i}}])}(I.PureComponent);hl(hg,"displayName","Line");hl(hg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!nc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});hl(hg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var m=Wa(h,s);return d==="horizontal"?{x:f8({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:nr(m)?null:n.scale(m),value:m,payload:h}:{x:nr(m)?null:r.scale(m),y:f8({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:m,payload:h}});return qs({points:f,layout:d},u)});function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function K2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cL(n.key),n)}}function J2e(e,t,r){return t&&Q2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z2e(e,t,r){return t=iy(t),ebe(e,oL()?Reflect.construct(t,r||[],iy(e).constructor):t.apply(e,r))}function ebe(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tbe(e)}function tbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iy(e)}function rbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R3(e,t)}function R3(e,t){return R3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R3(e,t)}function lL(e,t,r){return t=cL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cL(e){var t=nbe(e,"string");return pp(t)=="symbol"?t:t+""}function nbe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L3.apply(this,arguments)}function abe(e){var t=e.xAxisId,r=cA(),n=uA(),a=GR(t);return a==null?null:K.createElement(qp,L3({},a,{className:Pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Uc(s,!0)}}))}var Gp=function(e){function t(){return K2e(this,t),Z2e(this,t,arguments)}return rbe(t,e),J2e(t,[{key:"render",value:function(){return K.createElement(abe,this.props)}}])}(K.Component);lL(Gp,"displayName","XAxis");lL(Gp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fL(n.key),n)}}function obe(e,t,r){return t&&sbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lbe(e,t,r){return t=sy(t),cbe(e,uL()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function cbe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ube(e)}function ube(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function dbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B3(e,t)}function B3(e,t){return B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B3(e,t)}function dL(e,t,r){return t=fL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fL(e){var t=fbe(e,"string");return mp(t)=="symbol"?t:t+""}function fbe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$3.apply(this,arguments)}var hbe=function(t){var r=t.yAxisId,n=cA(),a=uA(),i=YR(r);return i==null?null:K.createElement(qp,$3({},i,{className:Pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Uc(l,!0)}}))},Yp=function(e){function t(){return ibe(this,t),lbe(this,t,arguments)}return dbe(t,e),obe(t,[{key:"render",value:function(){return K.createElement(hbe,this.props)}}])}(K.Component);dL(Yp,"displayName","YAxis");dL(Yp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HT(e){return gbe(e)||xbe(e)||mbe(e)||pbe()}function pbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mbe(e,t){if(e){if(typeof e=="string")return z3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z3(e,t)}}function xbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gbe(e){if(Array.isArray(e))return z3(e)}function z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U3=function(t,r,n,a,i){var s=oo(t,fA),l=oo(t,Vw),c=[].concat(HT(s),HT(l)),u=oo(t,Gw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(x,g){if(g.props[d]===n&&ic(g.props,"extendDomain")&&dt(g.props[f])){var v=g.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(x,g){if(g.props[d]===n&&ic(g.props,"extendDomain")&&dt(g.props[p])&&dt(g.props[m])){var v=g.props[p],b=g.props[m];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,g){return dt(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},h)),h},hL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var x=r?r+u:u;if(!this._events[x])return!1;var g=this._events[x],v=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,m),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var _=g.length,N;for(y=0;y<_;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),v){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,d);break;case 3:g[y].fn.call(g[y].context,d,f);break;case 4:g[y].fn.call(g[y].context,d,f,h);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];g[y].fn.apply(g[y].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var x=0,g=[],v=m.length;x<v;x++)(m[x].fn!==d||h&&!m[x].once||f&&m[x].context!==f)&&g.push(m[x]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(hL);var vbe=hL.exports;const bbe=rn(vbe);var U_=new bbe,H_="recharts.syncMouseEvents";function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function ybe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pL(n.key),n)}}function _be(e,t,r){return t&&wbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W_(e,t,r){return t=pL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pL(e){var t=Nbe(e,"string");return A1(t)=="symbol"?t:t+""}function Nbe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jbe=function(){function e(){ybe(this,e),W_(this,"activeIndex",0),W_(this,"coordinateList",[]),W_(this,"layout","horizontal")}return _be(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Sbe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&dt(n)&&dt(a))return!0}return!1}function Abe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mL(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=jn(t,r,n,a),l=jn(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Cbe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=jn(l,c,u,f),p=jn(l,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return mL(t);return[{x:n,y:a},{x:i,y:s}]}function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){Ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ebe(e,t,r){return t=kbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kbe(e){var t=Tbe(e,"string");return C1(t)=="symbol"?t:t+""}function Tbe(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Obe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var m,x=Lb;if(h==="ScatterChart")m=s,x=Xme;else if(h==="BarChart")m=Abe(f,s,c,d),x=iA;else if(f==="radial"){var g=mL(s),v=g.cx,b=g.cy,y=g.radius,_=g.startAngle,N=g.endAngle;m={cx:v,cy:b,startAngle:_,endAngle:N,innerRadius:y,outerRadius:y},x=dR}else m={points:Cbe(f,s,c)},x=Lb;var S=$v($v($v($v({stroke:"#ccc",pointerEvents:"none"},c),m),zt(p,!1)),{},{payload:l,payloadIndex:u,className:Pt("recharts-tooltip-cursor",p.className)});return I.isValidElement(p)?I.cloneElement(p,S):I.createElement(x,S)}var Pbe=["item"],Dbe=["children","className","width","height","style","compact","title","desc"];function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_h.apply(this,arguments)}function VT(e,t){return Fbe(e)||Mbe(e,t)||gL(e,t)||Ibe()}function Ibe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Fbe(e){if(Array.isArray(e))return e}function qT(e,t){if(e==null)return{};var r=Rbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vL(n.key),n)}}function $be(e,t,r){return t&&Bbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zbe(e,t,r){return t=oy(t),Ube(e,xL()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function Ube(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hbe(e)}function Hbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function Wbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H3(e,t)}function H3(e,t){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H3(e,t)}function gp(e){return Gbe(e)||qbe(e)||gL(e)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gL(e,t){if(e){if(typeof e=="string")return W3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(e,t)}}function qbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gbe(e){if(Array.isArray(e))return W3(e)}function W3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){Ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ut(e,t,r){return t=vL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vL(e){var t=Ybe(e,"string");return xp(t)=="symbol"?t:t+""}function Ybe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xbe={xAxis:["bottom","top"],yAxis:["left","right"]},Kbe={width:"100%",height:"100%"},bL={x:0,y:0};function zv(e){return e}var Qbe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Jbe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return Ke(Ke(Ke({},a),jn(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return Ke(Ke(Ke({},a),jn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return bL},Yw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(gp(l),gp(u)):l},[]);return s.length>0?s:t&&t.length&&dt(a)&&dt(i)?t.slice(a,i+1):[]};function yL(e){return e==="number"?[0,"auto"]:void 0}var V3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=Yw(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=sb(p,s.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(gp(c),[iR(u,h)]):c},[])},YT=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=Qbe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=bfe(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=V3(t,r,d,f),p=Jbe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Zbe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=ZF(d,i);return n.reduce(function(m,x){var g,v=x.type.defaultProps!==void 0?Ke(Ke({},x.type.defaultProps),x.props):x.props,b=v.type,y=v.dataKey,_=v.allowDataOverflow,N=v.allowDuplicatedCategory,S=v.scale,j=v.ticks,A=v.includeHidden,T=v[s];if(m[T])return m;var F=Yw(t.data,{graphicalItems:a.filter(function(k){var P,R=s in k.props?k.props[s]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[s];return R===T}),dataStartIndex:c,dataEndIndex:u}),O=F.length,E,L,B;Sbe(v.domain,_,b)&&(E=i3(v.domain,null,_),p&&(b==="number"||S!=="auto")&&(B=wx(F,y,"category")));var G=yL(b);if(!E||E.length===0){var z,V=(z=v.domain)!==null&&z!==void 0?z:G;if(y){if(E=wx(F,y,b),b==="category"&&p){var Y=cJ(E);N&&Y?(L=E,E=Yb(0,O)):N||(E=x8(V,E,x).reduce(function(k,P){return k.indexOf(P)>=0?k:[].concat(gp(k),[P])},[]))}else if(b==="category")N?E=E.filter(function(k){return k!==""&&!nr(k)}):E=x8(V,E,x).reduce(function(k,P){return k.indexOf(P)>=0||P===""||nr(P)?k:[].concat(gp(k),[P])},[]);else if(b==="number"){var U=jfe(F,a.filter(function(k){var P,R,H=s in k.props?k.props[s]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[s],X="hide"in k.props?k.props.hide:(R=k.type.defaultProps)===null||R===void 0?void 0:R.hide;return H===T&&(A||!X)}),y,i,d);U&&(E=U)}p&&(b==="number"||S!=="auto")&&(B=wx(F,y,"category"))}else p?E=Yb(0,O):l&&l[T]&&l[T].hasStack&&b==="number"?E=h==="expand"?[0,1]:aR(l[T].stackGroups,c,u):E=JF(F,a.filter(function(k){var P=s in k.props?k.props[s]:k.type.defaultProps[s],R="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return P===T&&(A||!R)}),b,d,!0);if(b==="number")E=U3(f,E,T,i,j),V&&(E=i3(V,E,_));else if(b==="category"&&V){var ae=V,he=E.every(function(k){return ae.indexOf(k)>=0});he&&(E=ae)}}return Ke(Ke({},m),{},Ut({},T,Ke(Ke({},v),{},{axisType:i,domain:E,categoricalDomain:B,duplicateDomain:L,originalDomain:(g=v.domain)!==null&&g!==void 0?g:G,isCategorical:p,layout:d})))},{})},eye=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Yw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=ZF(d,i),x=-1;return n.reduce(function(g,v){var b=v.type.defaultProps!==void 0?Ke(Ke({},v.type.defaultProps),v.props):v.props,y=b[s],_=yL("number");if(!g[y]){x++;var N;return m?N=Yb(0,p):l&&l[y]&&l[y].hasStack?(N=aR(l[y].stackGroups,c,u),N=U3(f,N,y,i)):(N=i3(_,JF(h,n.filter(function(S){var j,A,T=s in S.props?S.props[s]:(j=S.type.defaultProps)===null||j===void 0?void 0:j[s],F="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===y&&!F}),"number",d),a.defaultProps.allowDataOverflow),N=U3(f,N,y,i)),Ke(Ke({},g),{},Ut({},y,Ke(Ke({axisType:i},a.defaultProps),{},{hide:!0,orientation:so(Xbe,"".concat(i,".").concat(x%2),null),domain:N,originalDomain:_,isCategorical:m,layout:d})))}return g},{})},tye=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=oo(d,i),p={};return h&&h.length?p=Zbe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=eye(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},rye=function(t){var r=ed(t),n=Uc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:PS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Mb(r,n)}},XT=function(t){var r=t.children,n=t.defaultShowTooltip,a=Xs(r,op),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},nye=function(t){return!t||!t.length?!1:t.some(function(r){var n=qc(r&&r.type);return n&&n.indexOf("Bar")>=0})},KT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aye=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Xs(f,op),m=Xs(f,N0),x=Object.keys(c).reduce(function(N,S){var j=c[S],A=j.orientation;return!j.mirror&&!j.hide?Ke(Ke({},N),{},Ut({},A,N[A]+j.width)):N},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(N,S){var j=s[S],A=j.orientation;return!j.mirror&&!j.hide?Ke(Ke({},N),{},Ut({},A,so(N,"".concat(A))+j.height)):N},{top:h.top||0,bottom:h.bottom||0}),v=Ke(Ke({},g),x),b=v.bottom;p&&(v.bottom+=p.props.height||op.defaultProps.height),m&&r&&(v=_fe(v,a,n,r));var y=u-v.left-v.right,_=d-v.top-v.bottom;return Ke(Ke({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(_,0)})},iye=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},xA=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var y=b.graphicalItems,_=b.stackGroups,N=b.offset,S=b.updateId,j=b.dataStartIndex,A=b.dataEndIndex,T=v.barSize,F=v.layout,O=v.barGap,E=v.barCategoryGap,L=v.maxBarSize,B=KT(F),G=B.numericAxisName,z=B.cateAxisName,V=nye(y),Y=[];return y.forEach(function(U,ae){var he=Yw(v.data,{graphicalItems:[U],dataStartIndex:j,dataEndIndex:A}),k=U.type.defaultProps!==void 0?Ke(Ke({},U.type.defaultProps),U.props):U.props,P=k.dataKey,R=k.maxBarSize,H=k["".concat(G,"Id")],X=k["".concat(z,"Id")],oe={},fe=c.reduce(function(Pe,Te){var Ne=b["".concat(Te.axisType,"Map")],We=k["".concat(Te.axisType,"Id")];Ne&&Ne[We]||Te.axisType==="zAxis"||z0();var tt=Ne[We];return Ke(Ke({},Pe),{},Ut(Ut({},Te.axisType,tt),"".concat(Te.axisType,"Ticks"),Uc(tt)))},oe),re=fe[z],ve=fe["".concat(z,"Ticks")],Ce=_&&_[H]&&_[H].hasStack&&Dfe(U,_[H].stackGroups),q=qc(U.type).indexOf("Bar")>=0,Me=Mb(re,ve),Le=[],_e=V&&yfe({barSize:T,stackGroups:_,totalSize:iye(fe,z)});if(q){var ne,De,se=nr(R)?L:R,ce=(ne=(De=Mb(re,ve,!0))!==null&&De!==void 0?De:se)!==null&&ne!==void 0?ne:0;Le=wfe({barGap:O,barCategoryGap:E,bandSize:ce!==Me?ce:Me,sizeList:_e[X],maxBarSize:se}),ce!==Me&&(Le=Le.map(function(Pe){return Ke(Ke({},Pe),{},{position:Ke(Ke({},Pe.position),{},{offset:Pe.position.offset-ce/2})})}))}var ye=U&&U.type&&U.type.getComposedData;ye&&Y.push({props:Ke(Ke({},ye(Ke(Ke({},fe),{},{displayedData:he,props:v,dataKey:P,item:U,bandSize:Me,barPosition:Le,offset:N,stackedData:Ce,layout:F,dataStartIndex:j,dataEndIndex:A}))),{},Ut(Ut(Ut({key:U.key||"item-".concat(ae)},G,fe[G]),z,fe[z]),"animationId",S)),childIndex:wJ(U,v.children),item:U})}),Y},p=function(v,b){var y=v.props,_=v.dataStartIndex,N=v.dataEndIndex,S=v.updateId;if(!ck({props:y}))return null;var j=y.children,A=y.layout,T=y.stackOffset,F=y.data,O=y.reverseStackOrder,E=KT(A),L=E.numericAxisName,B=E.cateAxisName,G=oo(j,n),z=Ofe(F,G,"".concat(L,"Id"),"".concat(B,"Id"),T,O),V=c.reduce(function(k,P){var R="".concat(P.axisType,"Map");return Ke(Ke({},k),{},Ut({},R,tye(y,Ke(Ke({},P),{},{graphicalItems:G,stackGroups:P.axisType===L&&z,dataStartIndex:_,dataEndIndex:N}))))},{}),Y=aye(Ke(Ke({},V),{},{props:y,graphicalItems:G}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(k){V[k]=d(y,V[k],Y,k.replace("Map",""),r)});var U=V["".concat(B,"Map")],ae=rye(U),he=h(y,Ke(Ke({},V),{},{dataStartIndex:_,dataEndIndex:N,updateId:S,graphicalItems:G,stackGroups:z,offset:Y}));return Ke(Ke({formattedGraphicalItems:he,graphicalItems:G,offset:Y,stackGroups:z},ae),V)},m=function(g){function v(b){var y,_,N;return Lbe(this,v),N=zbe(this,v,[b]),Ut(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ut(N,"accessibilityManager",new jbe),Ut(N,"handleLegendBBoxUpdate",function(S){if(S){var j=N.state,A=j.dataStartIndex,T=j.dataEndIndex,F=j.updateId;N.setState(Ke({legendBBox:S},p({props:N.props,dataStartIndex:A,dataEndIndex:T,updateId:F},Ke(Ke({},N.state),{},{legendBBox:S}))))}}),Ut(N,"handleReceiveSyncEvent",function(S,j,A){if(N.props.syncId===S){if(A===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(j)}}),Ut(N,"handleBrushChange",function(S){var j=S.startIndex,A=S.endIndex;if(j!==N.state.dataStartIndex||A!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return Ke({dataStartIndex:j,dataEndIndex:A},p({props:N.props,dataStartIndex:j,dataEndIndex:A,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:j,dataEndIndex:A})}}),Ut(N,"handleMouseEnter",function(S){var j=N.getMouseInfo(S);if(j){var A=Ke(Ke({},j),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var T=N.props.onMouseEnter;Xt(T)&&T(A,S)}}),Ut(N,"triggeredAfterMouseMove",function(S){var j=N.getMouseInfo(S),A=j?Ke(Ke({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var T=N.props.onMouseMove;Xt(T)&&T(A,S)}),Ut(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ut(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ut(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),Ut(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};N.setState(j),N.triggerSyncEvent(j);var A=N.props.onMouseLeave;Xt(A)&&A(j,S)}),Ut(N,"handleOuterEvent",function(S){var j=yJ(S),A=so(N.props,"".concat(j));if(j&&Xt(A)){var T,F;/.*touch.*/i.test(j)?F=N.getMouseInfo(S.changedTouches[0]):F=N.getMouseInfo(S),A((T=F)!==null&&T!==void 0?T:{},S)}}),Ut(N,"handleClick",function(S){var j=N.getMouseInfo(S);if(j){var A=Ke(Ke({},j),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var T=N.props.onClick;Xt(T)&&T(A,S)}}),Ut(N,"handleMouseDown",function(S){var j=N.props.onMouseDown;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ut(N,"handleMouseUp",function(S){var j=N.props.onMouseUp;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ut(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ut(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),Ut(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),Ut(N,"handleDoubleClick",function(S){var j=N.props.onDoubleClick;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ut(N,"handleContextMenu",function(S){var j=N.props.onContextMenu;if(Xt(j)){var A=N.getMouseInfo(S);j(A,S)}}),Ut(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&U_.emit(H_,N.props.syncId,S,N.eventEmitterSymbol)}),Ut(N,"applySyncEvent",function(S){var j=N.props,A=j.layout,T=j.syncMethod,F=N.state.updateId,O=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState(Ke({dataStartIndex:O,dataEndIndex:E},p({props:N.props,dataStartIndex:O,dataEndIndex:E,updateId:F},N.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,B=S.chartY,G=S.activeTooltipIndex,z=N.state,V=z.offset,Y=z.tooltipTicks;if(!V)return;if(typeof T=="function")G=T(Y,S);else if(T==="value"){G=-1;for(var U=0;U<Y.length;U++)if(Y[U].value===S.activeLabel){G=U;break}}var ae=Ke(Ke({},V),{},{x:V.left,y:V.top}),he=Math.min(L,ae.x+ae.width),k=Math.min(B,ae.y+ae.height),P=Y[G]&&Y[G].value,R=V3(N.state,N.props.data,G),H=Y[G]?{x:A==="horizontal"?Y[G].coordinate:he,y:A==="horizontal"?k:Y[G].coordinate}:bL;N.setState(Ke(Ke({},S),{},{activeLabel:P,activeCoordinate:H,activePayload:R,activeTooltipIndex:G}))}else N.setState(S)}),Ut(N,"renderCursor",function(S){var j,A=N.state,T=A.isTooltipActive,F=A.activeCoordinate,O=A.activePayload,E=A.offset,L=A.activeTooltipIndex,B=A.tooltipAxisBandSize,G=N.getTooltipEventType(),z=(j=S.props.active)!==null&&j!==void 0?j:T,V=N.props.layout,Y=S.key||"_recharts-cursor";return K.createElement(Obe,{key:Y,activeCoordinate:F,activePayload:O,activeTooltipIndex:L,chartName:r,element:S,isActive:z,layout:V,offset:E,tooltipAxisBandSize:B,tooltipEventType:G})}),Ut(N,"renderPolarAxis",function(S,j,A){var T=so(S,"type.axisType"),F=so(N.state,"".concat(T,"Map")),O=S.type.defaultProps,E=O!==void 0?Ke(Ke({},O),S.props):S.props,L=F&&F[E["".concat(T,"Id")]];return I.cloneElement(S,Ke(Ke({},L),{},{className:Pt(T,L.className),key:S.key||"".concat(j,"-").concat(A),ticks:Uc(L,!0)}))}),Ut(N,"renderPolarGrid",function(S){var j=S.props,A=j.radialLines,T=j.polarAngles,F=j.polarRadius,O=N.state,E=O.radiusAxisMap,L=O.angleAxisMap,B=ed(E),G=ed(L),z=G.cx,V=G.cy,Y=G.innerRadius,U=G.outerRadius;return I.cloneElement(S,{polarAngles:Array.isArray(T)?T:Uc(G,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(F)?F:Uc(B,!0).map(function(ae){return ae.coordinate}),cx:z,cy:V,innerRadius:Y,outerRadius:U,key:S.key||"polar-grid",radialLines:A})}),Ut(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,j=N.props,A=j.children,T=j.width,F=j.height,O=N.props.margin||{},E=T-(O.left||0)-(O.right||0),L=KF({children:A,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!L)return null;var B=L.item,G=qT(L,Pbe);return I.cloneElement(B,Ke(Ke({},G),{},{chartWidth:T,chartHeight:F,margin:O,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ut(N,"renderTooltip",function(){var S,j=N.props,A=j.children,T=j.accessibilityLayer,F=Xs(A,Do);if(!F)return null;var O=N.state,E=O.isTooltipActive,L=O.activeCoordinate,B=O.activePayload,G=O.activeLabel,z=O.offset,V=(S=F.props.active)!==null&&S!==void 0?S:E;return I.cloneElement(F,{viewBox:Ke(Ke({},z),{},{x:z.left,y:z.top}),active:V,label:G,payload:V?B:[],coordinate:L,accessibilityLayer:T})}),Ut(N,"renderBrush",function(S){var j=N.props,A=j.margin,T=j.data,F=N.state,O=F.offset,E=F.dataStartIndex,L=F.dataEndIndex,B=F.updateId;return I.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Fv(N.handleBrushChange,S.props.onChange),data:T,x:dt(S.props.x)?S.props.x:O.left,y:dt(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(A.bottom||0),width:dt(S.props.width)?S.props.width:O.width,startIndex:E,endIndex:L,updateId:"brush-".concat(B)})}),Ut(N,"renderReferenceElement",function(S,j,A){if(!S)return null;var T=N,F=T.clipPathId,O=N.state,E=O.xAxisMap,L=O.yAxisMap,B=O.offset,G=S.type.defaultProps||{},z=S.props,V=z.xAxisId,Y=V===void 0?G.xAxisId:V,U=z.yAxisId,ae=U===void 0?G.yAxisId:U;return I.cloneElement(S,{key:S.key||"".concat(j,"-").concat(A),xAxis:E[Y],yAxis:L[ae],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:F})}),Ut(N,"renderActivePoints",function(S){var j=S.item,A=S.activePoint,T=S.basePoint,F=S.childIndex,O=S.isRange,E=[],L=j.props.key,B=j.item.type.defaultProps!==void 0?Ke(Ke({},j.item.type.defaultProps),j.item.props):j.item.props,G=B.activeDot,z=B.dataKey,V=Ke(Ke({index:F,dataKey:z,cx:A.x,cy:A.y,r:4,fill:aA(j.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},zt(G,!1)),ob(G));return E.push(v.renderActiveDot(G,V,"".concat(L,"-activePoint-").concat(F))),T?E.push(v.renderActiveDot(G,Ke(Ke({},V),{},{cx:T.x,cy:T.y}),"".concat(L,"-basePoint-").concat(F))):O&&E.push(null),E}),Ut(N,"renderGraphicChild",function(S,j,A){var T=N.filterFormatItem(S,j,A);if(!T)return null;var F=N.getTooltipEventType(),O=N.state,E=O.isTooltipActive,L=O.tooltipAxis,B=O.activeTooltipIndex,G=O.activeLabel,z=N.props.children,V=Xs(z,Do),Y=T.props,U=Y.points,ae=Y.isRange,he=Y.baseLine,k=T.item.type.defaultProps!==void 0?Ke(Ke({},T.item.type.defaultProps),T.item.props):T.item.props,P=k.activeDot,R=k.hide,H=k.activeBar,X=k.activeShape,oe=!!(!R&&E&&V&&(P||H||X)),fe={};F!=="axis"&&V&&V.props.trigger==="click"?fe={onClick:Fv(N.handleItemMouseEnter,S.props.onClick)}:F!=="axis"&&(fe={onMouseLeave:Fv(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Fv(N.handleItemMouseEnter,S.props.onMouseEnter)});var re=I.cloneElement(S,Ke(Ke({},T.props),fe));function ve(Te){return typeof L.dataKey=="function"?L.dataKey(Te.payload):null}if(oe)if(B>=0){var Ce,q;if(L.dataKey&&!L.allowDuplicatedCategory){var Me=typeof L.dataKey=="function"?ve:"payload.".concat(L.dataKey.toString());Ce=sb(U,Me,G),q=ae&&he&&sb(he,Me,G)}else Ce=U==null?void 0:U[B],q=ae&&he&&he[B];if(X||H){var Le=S.props.activeIndex!==void 0?S.props.activeIndex:B;return[I.cloneElement(S,Ke(Ke(Ke({},T.props),fe),{},{activeIndex:Le})),null,null]}if(!nr(Ce))return[re].concat(gp(N.renderActivePoints({item:T,activePoint:Ce,basePoint:q,childIndex:B,isRange:ae})))}else{var _e,ne=(_e=N.getItemByXY(N.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:re},De=ne.graphicalItem,se=De.item,ce=se===void 0?S:se,ye=De.childIndex,Pe=Ke(Ke(Ke({},T.props),fe),{},{activeIndex:ye});return[I.cloneElement(ce,Pe),null,null]}return ae?[re,null,null]:[re,null]}),Ut(N,"renderCustomized",function(S,j,A){return I.cloneElement(S,Ke(Ke({key:"recharts-customized-".concat(A)},N.props),N.state))}),Ut(N,"renderMap",{CartesianGrid:{handler:zv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:zv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:zv},YAxis:{handler:zv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:Bp("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=X7(N.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return Wbe(v,g),$be(v,[{key:"componentDidMount",value:function(){var y,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,_=y.children,N=y.data,S=y.height,j=y.layout,A=Xs(_,Do);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=V3(this.state,N,T,F),E=this.state.tooltipTicks[T].coordinate,L=(this.state.offset.top+S)/2,B=j==="horizontal",G=B?{x:E,y:L}:{y:E,x:L},z=this.state.formattedGraphicalItems.find(function(Y){var U=Y.item;return U.type.name==="Scatter"});z&&(G=Ke(Ke({},G),z.props.points[T].tooltipPosition),O=z.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:F,activePayload:O,activeCoordinate:G};this.setState(V),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){yN([Xs(y.children,Do)],[Xs(this.props.children,Do)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Xs(this.props.children,Do);if(y&&typeof y.props.shared=="boolean"){var _=y.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),S=Gle(N),j={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},A=N.width/_.offsetWidth||1,T=this.inRange(j.chartX,j.chartY,A);if(!T)return null;var F=this.state,O=F.xAxisMap,E=F.yAxisMap,L=this.getTooltipEventType();if(L!=="axis"&&O&&E){var B=ed(O).scale,G=ed(E).scale,z=B&&B.invert?B.invert(j.chartX):null,V=G&&G.invert?G.invert(j.chartY):null;return Ke(Ke({},j),{},{xValue:z,yValue:V})}var Y=YT(this.state,this.props.data,this.props.layout,T);return Y?Ke(Ke({},j),Y):null}},{key:"inRange",value:function(y,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,j=y/N,A=_/N;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,F=j>=T.left&&j<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return F?{x:j,y:A}:null}var O=this.state,E=O.angleAxisMap,L=O.radiusAxisMap;if(E&&L){var B=ed(E);return b8({x:j,y:A},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,_=this.getTooltipEventType(),N=Xs(y,Do),S={};N&&_==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=ob(this.props,this.handleOuterEvent);return Ke(Ke({},j),S)}},{key:"addListener",value:function(){U_.on(H_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){U_.removeListener(H_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,_,N){for(var S=this.state.formattedGraphicalItems,j=0,A=S.length;j<A;j++){var T=S[j];if(T.item===y||T.props.key===y.key||_===qc(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,_=this.state.offset,N=_.left,S=_.top,j=_.height,A=_.width;return K.createElement("defs",null,K.createElement("clipPath",{id:y},K.createElement("rect",{x:N,y:S,height:j,width:A})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(_,N){var S=VT(N,2),j=S[0],A=S[1];return Ke(Ke({},_),{},Ut({},j,A.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(_,N){var S=VT(N,2),j=S[0],A=S[1];return Ke(Ke({},_),{},Ut({},j,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(y){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(y){var _=this.state,N=_.formattedGraphicalItems,S=_.activeItem;if(N&&N.length)for(var j=0,A=N.length;j<A;j++){var T=N[j],F=T.props,O=T.item,E=O.type.defaultProps!==void 0?Ke(Ke({},O.type.defaultProps),O.props):O.props,L=qc(O.type);if(L==="Bar"){var B=(F.data||[]).find(function(Y){return kme(y,Y)});if(B)return{graphicalItem:T,payload:B}}else if(L==="RadialBar"){var G=(F.data||[]).find(function(Y){return b8(y,Y)});if(G)return{graphicalItem:T,payload:G}}else if(zw(T,S)||Uw(T,S)||w1(T,S)){var z=g1e({graphicalItem:T,activeTooltipItem:S,itemData:E.data}),V=E.activeIndex===void 0?z:E.activeIndex;return{graphicalItem:Ke(Ke({},T),{},{childIndex:V}),payload:w1(T,S)?E.data[z]:T.props.data[z]}}}return null}},{key:"render",value:function(){var y=this;if(!ck(this))return null;var _=this.props,N=_.children,S=_.className,j=_.width,A=_.height,T=_.style,F=_.compact,O=_.title,E=_.desc,L=qT(_,Dbe),B=zt(L,!1);if(F)return K.createElement(CT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(_N,_h({},B,{width:j,height:A,title:O,desc:E}),this.renderClipPath(),dk(N,this.renderMap)));if(this.props.accessibilityLayer){var G,z;B.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,B.role=(z=this.props.role)!==null&&z!==void 0?z:"application",B.onKeyDown=function(Y){y.accessibilityManager.keyboardEvent(Y)},B.onFocus=function(){y.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return K.createElement(CT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",_h({className:Pt("recharts-wrapper",S),style:Ke({position:"relative",cursor:"default",width:j,height:A},T)},V,{ref:function(U){y.container=U}}),K.createElement(_N,_h({},B,{width:j,height:A,title:O,desc:E,style:Kbe}),this.renderClipPath(),dk(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(I.Component);Ut(m,"displayName",r),Ut(m,"defaultProps",Ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ut(m,"getDerivedStateFromProps",function(g,v){var b=g.dataKey,y=g.data,_=g.children,N=g.width,S=g.height,j=g.layout,A=g.stackOffset,T=g.margin,F=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var E=XT(g);return Ke(Ke(Ke({},E),{},{updateId:0},p(Ke(Ke({props:g},E),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:N,prevHeight:S,prevLayout:j,prevStackOffset:A,prevMargin:T,prevChildren:_})}if(b!==v.prevDataKey||y!==v.prevData||N!==v.prevWidth||S!==v.prevHeight||j!==v.prevLayout||A!==v.prevStackOffset||!Oh(T,v.prevMargin)){var L=XT(g),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},G=Ke(Ke({},YT(v,y,j)),{},{updateId:v.updateId+1}),z=Ke(Ke(Ke({},L),B),G);return Ke(Ke(Ke({},z),p(Ke({props:g},z),v)),{},{prevDataKey:b,prevData:y,prevWidth:N,prevHeight:S,prevLayout:j,prevStackOffset:A,prevMargin:T,prevChildren:_})}if(!yN(_,v.prevChildren)){var V,Y,U,ae,he=Xs(_,op),k=he&&(V=(Y=he.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&V!==void 0?V:F,P=he&&(U=(ae=he.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&U!==void 0?U:O,R=k!==F||P!==O,H=!nr(y),X=H&&!R?v.updateId:v.updateId+1;return Ke(Ke({updateId:X},p(Ke(Ke({props:g},v),{},{updateId:X,dataStartIndex:k,dataEndIndex:P}),v)),{},{prevChildren:_,dataStartIndex:k,dataEndIndex:P})}return null}),Ut(m,"renderActiveDot",function(g,v,b){var y;return I.isValidElement(g)?y=I.cloneElement(g,v):Xt(g)?y=g(v):y=K.createElement(Fw,v),K.createElement(Dr,{className:"recharts-active-dot",key:b},y)});var x=I.forwardRef(function(v,b){return K.createElement(m,_h({},v,{ref:b}))});return x.displayName=m.displayName,x},sye=xA({chartName:"LineChart",GraphicalChild:hg,axisComponents:[{axisType:"xAxis",AxisComp:Gp},{axisType:"yAxis",AxisComp:Yp}],formatAxisMap:BR}),oye=xA({chartName:"BarChart",GraphicalChild:uf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Gp},{axisType:"yAxis",AxisComp:Yp}],formatAxisMap:BR}),wL=xA({chartName:"PieChart",GraphicalChild:xc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$w},{axisType:"radiusAxis",AxisComp:Lw}],formatAxisMap:Hfe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Nh={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},item:{initial:{opacity:0,y:15},animate:e=>({opacity:1,y:0,transition:{delay:e*.1,duration:.5,ease:[.19,1,.22,1]}})}},Uv=({icon:e,label:t,value:r,unit:n="",subValue:a="",colorClass:i="text-white",index:s})=>o.jsxs(ke.div,{custom:s,variants:Nh.item,initial:"initial",animate:"animate",whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"relative bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 shadow-lg",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center border border-white/5 shadow-inner",children:e}),o.jsx("div",{className:"text-white/70",children:t})]}),o.jsx("div",{className:`text-xl font-bold mt-2 ${i}`,children:typeof r=="number"||typeof r=="string"?o.jsxs(o.Fragment,{children:[r,n&&o.jsx("span",{className:"text-sm font-normal text-white/50 ml-1",children:n})]}):r}),a&&o.jsx("div",{className:"text-sm text-white/50 mt-1",children:a})]}),lye=({name:e,weight:t,timeRemaining:r,index:n})=>o.jsxs(ke.div,{custom:n+5,variants:Nh.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center mr-3 border border-white/10",children:o.jsx(JI,{size:18,className:"text-blue-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:e}),o.jsx("div",{className:"text-sm text-white/60",children:t})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-medium",children:r}),o.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]});function _L({pool:e,onClose:t}){const r=tg(t);Math.round(e.oxygen/100*50+(1-Math.abs(e.temperature-15)/10)*25+(1-Math.abs(e.ph-8)/1)*25);const n=[{name:"LOT-2025-001",weight:"500 kg (Huîtres N°3)",timeRemaining:"12h"},{name:"LOT-2025-002",weight:"300 kg (Huîtres N°2)",timeRemaining:"24h"}];return o.jsx(ke.div,{...Nh.overlay,className:"absolute inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:o.jsxs(ke.div,{ref:r,...Nh.content,className:"w-full max-w-3xl rounded-xl bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-md p-0 shadow-2xl border border-white/10",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[o.jsx("div",{className:"p-6 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:e.name}),o.jsx("p",{className:"text-white/60",children:"Bassin de purification"})]}),o.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:o.jsx(Gt,{size:20})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"space-y-6 mt-6",children:[o.jsxs(ke.div,{variants:Nh.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Stock dans le bassin"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[o.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"relative w-40 h-40",children:[o.jsx(yb,{width:"100%",height:"100%",children:o.jsx(wL,{children:o.jsx(xc,{data:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",startAngle:90,endAngle:-270,stroke:"none",children:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}].map((a,i)=>o.jsx(sg,{fill:a.color},`cell-${i}`))})})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:o.jsx("div",{className:"text-2xl font-bold text-white",children:"26.7%"})})]})}),o.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[o.jsx(Uv,{icon:o.jsx(ro,{size:20,className:"text-brand-burgundy"}),label:"Température",value:12.5,unit:"°C",index:0}),o.jsx(Uv,{icon:o.jsx(QI,{size:20,className:"text-brand-burgundy"}),label:"Oxygène dissous",value:87,unit:"%",index:1}),o.jsx(Uv,{icon:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0d9488] flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),label:"Huîtres N°3",value:500,unit:"kg",index:2}),o.jsx(Uv,{icon:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3b82f6] flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),label:"Huîtres N°2",value:300,unit:"kg",index:3})]})]}),o.jsx("div",{className:"mt-5",children:o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:o.jsx(ji,{size:20,className:"text-cyan-400"})}),o.jsx("div",{className:"text-white/70",children:"Dernier nettoyage"}),o.jsxs("div",{className:"text-white font-medium ml-auto",children:["12 mars 2025 ",o.jsx("span",{className:"text-sm text-white/50",children:"(il y a 1 jour)"})]})]})}),o.jsxs("div",{className:"h-48 w-full bg-gradient-to-br from-[#071a40]/95 to-[#0a2858]/95 rounded-xl overflow-hidden shadow-2xl border border-blue-900/20 relative mt-6",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[o.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),o.jsxs("div",{className:"relative h-full w-full",children:[o.jsxs("div",{className:"absolute inset-0 flex",children:[o.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),o.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"0 0 20px rgba(37, 99, 235, 0.2)"}}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),o.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:o.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})]})]}),o.jsxs(ke.div,{variants:Nh.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[o.jsx(JI,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Lots en purification"]}),o.jsx("div",{className:"space-y-3",children:n.map((a,i)=>o.jsx(lye,{name:a.name,weight:a.weight,timeRemaining:a.timeRemaining,index:i},a.name))})]})]}),o.jsx("div",{className:"flex justify-end mt-6 space-x-3",children:o.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const cye={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function pg({icon:e,title:t,className:r}){return o.jsxs(ke.div,{variants:cye,className:`flex items-center mb-8 mt-6 ${r}`,children:[o.jsxs("div",{className:"relative mr-4",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),o.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:e})]}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:t})]})}const q3=({table:e,isHovered:t=!1,onHoverStart:r=()=>{},onHoverEnd:n=()=>{},onClick:a=()=>{},compact:i=!1})=>{const s=e.alert||e.timeProgress>100;return i?o.jsxs("div",{className:"relative rounded-lg p-3 overflow-hidden bg-[rgba(0,40,80,0.2)] shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset] cursor-pointer",onClick:a,"aria-label":`Table ${e.name}, taux d'occupation ${e.value}%`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.5)]",style:{backgroundColor:e.value===100?"#22c55e":"#eab308"}}),o.jsx("div",{className:"text-white font-medium text-sm",children:e.name})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"text-base font-semibold text-white",children:[e.value,"%"]})})]}),o.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10 h-5 mb-2",children:[...Array(10)].map((l,c)=>o.jsx("div",{className:"h-full rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c<Math.floor(e.value/100*10)?1:.1},"aria-hidden":"true"},c))}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"text-xs text-white/70",children:e.type}),s&&o.jsxs("div",{className:"text-amber-400 flex items-center",children:[o.jsx(Ua,{size:12,className:"mr-1"}),o.jsx("span",{className:"text-xs",children:"Attention"})]})]})]}):o.jsxs(ke.div,{className:`
        relative rounded-lg p-4 overflow-hidden
        bg-[rgba(0,40,80,0.2)]
        shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
        cursor-pointer transition-all duration-200
      `,onHoverStart:r,onHoverEnd:n,onClick:a,style:{transform:t?"scale(1.02)":"none"},children:[o.jsx(ke.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:t?1:0}}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:e.value===100?"#22c55e":"#eab308"}}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:e.name}),o.jsx("div",{className:"text-xs text-white/70",children:e.plates})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-semibold text-white",children:[e.value,"%"]}),o.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(e.value===100)return o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c);if(e.name==="Table A1"){const u=Math.floor(e.value/100*8),d=e.value/100*8%1,f=c-1;return c===0?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c):c===9?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):f>=8-u?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},c):f===7-u&&d>0?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:o.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},c):o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},c)}return o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(e.value/100*8)?1:0}},c)})}),o.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-[#22c55e]/10",children:[...Array(10)].map((l,c)=>{if(e.value===100)return o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`);if(e.name==="Table A1"){const u=Math.floor(e.value/100*8),d=e.value/100*8%1,f=c-1;return c===0?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`):c===9?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):f>=8-u?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]"},`second-${c}`):f===7-u&&d>0?o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 relative overflow-hidden",children:o.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-[#22c55e]",style:{width:`${d*100}%`}})},`second-${c}`):o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-transparent"},`second-${c}`)}return o.jsx("div",{className:"w-full h-7 rounded-sm border border-white/10 bg-[#22c55e]",style:{opacity:c===0||c===9?0:c-1<Math.floor(e.value/100*8)?1:0}},`second-${c}`)})})]}),o.jsx("div",{className:"flex items-center justify-between mt-3",children:o.jsx("div",{className:"text-xs text-white/70",children:e.value>0&&e.mortality>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"font-medium",children:"Mortalité :"})," ",e.mortality,"%"]})})}),o.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Hn,{size:14,className:"text-cyan-400 mr-1"}),o.jsx("span",{className:"text-xs text-white/70",children:e.type})]}),e.startDate&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Oa,{size:14,className:"text-cyan-400 mr-1"}),o.jsx("span",{className:"text-xs text-white/70",children:e.startDate})]})]}),s&&o.jsxs("div",{className:"text-amber-400 flex items-center",children:[o.jsx(Ua,{size:16,className:"mr-1"}),o.jsx("span",{className:"text-xs",children:"Attention"})]})]})]})]})},la={temperature:18,feelsLike:16,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:15,sunrise:"06:45",sunset:"20:35",forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8,conditions:"partly-cloudy"},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9,conditions:"sunny"},{time:"18:00",temp:17,windSpeed:20,windDirection:300,waveHeight:1,conditions:"partly-cloudy"},{time:"21:00",temp:16,windSpeed:15,windDirection:280,waveHeight:.7,conditions:"cloudy"},{time:"00:00",temp:15,windSpeed:12,windDirection:270,waveHeight:.5,conditions:"cloudy"},{time:"03:00",temp:14,windSpeed:10,windDirection:260,waveHeight:.4,conditions:"partly-cloudy"},{time:"06:00",temp:15,windSpeed:12,windDirection:280,waveHeight:.6,conditions:"partly-cloudy"},{time:"09:00",temp:17,windSpeed:14,windDirection:290,waveHeight:.7,conditions:"sunny"}],dailyForecast:[{day:"Aujourd'hui",highTemp:19,lowTemp:14,conditions:"partly-cloudy",windSpeed:20,waveHeight:1,precipitation:10},{day:"Demain",highTemp:20,lowTemp:15,conditions:"sunny",windSpeed:15,waveHeight:.8,precipitation:0},{day:"Lundi",highTemp:22,lowTemp:16,conditions:"sunny",windSpeed:12,waveHeight:.6,precipitation:0},{day:"Mardi",highTemp:21,lowTemp:17,conditions:"partly-cloudy",windSpeed:14,waveHeight:.7,precipitation:5},{day:"Mercredi",highTemp:19,lowTemp:15,conditions:"cloudy",windSpeed:18,waveHeight:.9,precipitation:30},{day:"Jeudi",highTemp:18,lowTemp:14,conditions:"rainy",windSpeed:20,waveHeight:1.2,precipitation:80},{day:"Vendredi",highTemp:17,lowTemp:13,conditions:"cloudy",windSpeed:15,waveHeight:1,precipitation:40}]},V_=e=>["N","NE","E","SE","S","SO","O","NO"][Math.round(e/45)%8],gA=({condition:e,size:t=32,className:r=""})=>{switch(e){case"sunny":return o.jsx(tb,{size:t,className:`text-yellow-400 ${r}`});case"cloudy":return o.jsx(fN,{size:t,className:`text-gray-300 ${r}`});case"rainy":return o.jsx(KI,{size:t,className:`text-blue-300 ${r}`});case"partly-cloudy":return o.jsx(EE,{size:t,className:`text-gray-200 ${r}`});default:return o.jsx(EE,{size:t,className:`text-gray-200 ${r}`})}},uye=({forecast:e})=>o.jsxs("div",{className:"forecast-card",children:[o.jsx("p",{className:"forecast-time",children:e.time}),o.jsx(gA,{condition:e.conditions,size:24,className:"my-2"}),o.jsxs("p",{className:"forecast-temp",children:[e.temp,"°"]}),o.jsxs("div",{className:"forecast-wind-indicator",children:[o.jsx(Rc,{size:12,style:{transform:`rotate(${e.windDirection}deg)`}}),o.jsx("span",{children:e.windSpeed})]}),o.jsxs("p",{className:"forecast-waves",children:[e.waveHeight," m"]})]}),dye=({forecast:e})=>o.jsxs("div",{className:"daily-forecast-row",children:[o.jsx("div",{className:"daily-forecast-day",children:e.day}),o.jsx("div",{className:"daily-forecast-icon",children:o.jsx(gA,{condition:e.conditions,size:20})}),o.jsxs("div",{className:"daily-forecast-precip",children:[o.jsx(ji,{size:14,className:"text-blue-300"}),o.jsxs("span",{children:[e.precipitation,"%"]})]}),o.jsxs("div",{className:"daily-forecast-temp",children:[o.jsxs("span",{className:"high-temp",children:[e.highTemp,"°"]}),o.jsxs("span",{className:"low-temp",children:[e.lowTemp,"°"]})]})]}),fye=()=>o.jsxs("div",{className:"mobile-weather-container",children:[o.jsxs("header",{className:"weather-header",children:[o.jsx("h1",{className:"weather-location-title",children:"Météo & Marée"}),o.jsxs("div",{className:"weather-update-time",children:[o.jsx(di,{size:14,className:"text-cyan-300"}),o.jsxs("span",{children:["Mise à jour ",new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),o.jsxs("section",{className:"current-weather",children:[o.jsxs("div",{className:"primary-info",children:[o.jsxs("div",{className:"temp-display",children:[o.jsxs("span",{className:"current-temp",children:[la.temperature,"°"]}),o.jsxs("span",{className:"feels-like",children:["Ressenti ",la.feelsLike,"°"]})]}),o.jsx("div",{className:"weather-icon-large",children:o.jsx(gA,{condition:la.conditions,size:80})})]}),o.jsx("div",{className:"weather-condition-text",children:"Partiellement nuageux"})]}),o.jsxs("section",{className:"current-indicators",children:[o.jsxs("div",{className:"indicator-item",children:[o.jsx(qu,{size:18,className:"indicator-icon"}),o.jsx("div",{className:"indicator-label",children:"Vent"}),o.jsxs("div",{className:"indicator-value",children:[la.windSpeed," km/h"]}),o.jsx("div",{className:"indicator-detail",children:V_(la.windDirection)})]}),o.jsxs("div",{className:"indicator-item",children:[o.jsx(Li,{size:18,className:"indicator-icon"}),o.jsx("div",{className:"indicator-label",children:"Vagues"}),o.jsxs("div",{className:"indicator-value",children:[la.waveHeight," m"]}),o.jsx("div",{className:"indicator-detail",children:V_(la.waveDirection)})]}),o.jsxs("div",{className:"indicator-item",children:[o.jsx(ji,{size:18,className:"indicator-icon"}),o.jsx("div",{className:"indicator-label",children:"Humidité"}),o.jsxs("div",{className:"indicator-value",children:[la.humidity,"%"]})]}),o.jsx("div",{className:"indicator-item",children:o.jsxs(ke.div,{className:"tide-indicator",animate:{height:`${la.tideLevel/10*100}%`},transition:{duration:1},children:[o.jsx("div",{className:"indicator-label",children:"Marée"}),o.jsxs("div",{className:"indicator-value",children:[la.tideLevel," m"]}),o.jsxs("div",{className:"tide-times",children:[o.jsxs("div",{children:[o.jsx(I2,{size:12})," ",la.nextHighTide]}),o.jsxs("div",{children:[o.jsx(M2,{size:12})," ",la.nextLowTide]})]})]})})]}),o.jsxs("section",{className:"hourly-forecast",children:[o.jsx("h2",{className:"section-title",children:"Prévisions horaires"}),o.jsx("div",{className:"forecast-scroll-container",children:la.forecast.map((e,t)=>o.jsx(uye,{forecast:e},t))})]}),o.jsxs("section",{className:"daily-forecast",children:[o.jsx("h2",{className:"section-title",children:"Prévisions 7 jours"}),o.jsx("div",{className:"daily-forecast-container",children:la.dailyForecast.map((e,t)=>o.jsx(dye,{forecast:e},t))})]}),o.jsxs("section",{className:"wind-detail-section",children:[o.jsx("h2",{className:"section-title",children:"Détails du vent"}),o.jsxs("div",{className:"wind-detail-container",children:[o.jsxs("div",{className:"wind-compass",children:[o.jsx(dN,{size:100,className:"wind-compass-base"}),o.jsx("div",{className:"wind-direction-indicator",style:{transform:`rotate(${la.windDirection}deg)`},children:o.jsx(Rc,{size:40,className:"text-cyan-400"})})]}),o.jsxs("div",{className:"wind-stats",children:[o.jsxs("div",{className:"wind-stat-row",children:[o.jsx("span",{children:"Direction"}),o.jsxs("span",{children:[V_(la.windDirection)," (",la.windDirection,"°)"]})]}),o.jsxs("div",{className:"wind-stat-row",children:[o.jsx("span",{children:"Vitesse"}),o.jsxs("span",{children:[la.windSpeed," km/h"]})]}),o.jsxs("div",{className:"wind-stat-row",children:[o.jsx("span",{children:"Rafales"}),o.jsxs("span",{children:[la.windGust," km/h"]})]})]})]})]}),o.jsx("section",{className:"sun-times",children:o.jsxs("div",{className:"sun-time-container",children:[o.jsxs("div",{className:"sunrise",children:[o.jsx(tb,{size:18,className:"text-yellow-400"}),o.jsx("span",{className:"sun-time-label",children:"Lever"}),o.jsx("span",{className:"sun-time-value",children:la.sunrise})]}),o.jsx("div",{className:"sun-path",children:o.jsx("div",{className:"sun-path-line"})}),o.jsxs("div",{className:"sunset",children:[o.jsx(dW,{size:18,className:"text-blue-300"}),o.jsx("span",{className:"sun-time-label",children:"Coucher"}),o.jsx("span",{className:"sun-time-value",children:la.sunset})]})]})})]}),hye=({activeSection:e,onSectionChange:t,isLandscape:r=!1})=>{const[n,a]=I.useState(0),i=I.useRef(null),s=()=>{if(!window.visualViewport)return;const u=window.visualViewport.height,d=window.innerHeight,f=Math.max(0,d-u),h=f>0?f+25:15;console.log(`Viewport: ${u}, Full: ${d}, Diff: ${f}, Padding: ${h}`),h!==n&&a(h)};I.useEffect(()=>{if(!window.visualViewport){console.warn("VisualViewport API not available");return}s(),window.visualViewport.addEventListener("resize",s),window.addEventListener("resize",s),window.addEventListener("scroll",s);const u=[100,500].map(f=>setTimeout(s,f)),d=()=>{setTimeout(s,100)};return window.addEventListener("orientationchange",d),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",s),window.removeEventListener("resize",s),window.removeEventListener("scroll",s),window.removeEventListener("orientationchange",d),u.forEach(clearTimeout)}},[]);const l=["mobile-bottom-nav",r?"landscape":"portrait"].join(" "),c={paddingBottom:n?`${n}px`:void 0};return o.jsxs("div",{className:l,ref:i,style:c,children:[o.jsxs("button",{className:`mobile-nav-item ${e==="overview"?"active":""}`,onClick:()=>t("overview"),children:[o.jsx(fW,{size:r?18:22}),o.jsx("span",{children:"Accueil"})]}),o.jsxs("button",{className:`mobile-nav-item ${e==="tables"?"active":""}`,onClick:()=>t("tables"),children:[o.jsx(xa,{size:r?18:22}),o.jsx("span",{children:"Tables"})]}),o.jsxs("button",{className:`mobile-nav-item ${e==="pools"?"active":""}`,onClick:()=>t("pools"),children:[o.jsx(hW,{size:r?18:22}),o.jsx("span",{children:"Bassins"})]}),o.jsxs("button",{className:`mobile-nav-item ${e==="notifications"?"active":""}`,onClick:()=>t("notifications"),children:[o.jsx(Ai,{size:r?18:22}),o.jsx("span",{children:"Alertes"})]}),o.jsxs("button",{className:`mobile-nav-item emergency ${e==="emergency"?"active":""}`,onClick:()=>t("emergency"),children:[o.jsx(XI,{size:r?18:22}),o.jsx("span",{children:"Urgence"})]})]})},qm={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}}},pye=()=>{const[e,t]=I.useState("overview"),[r,n]=I.useState(null),[a,i]=I.useState(null),[s,l]=I.useState(0);I.useState(0);const[c,u]=I.useState(!1),[d,f]=I.useState(!1),h=I.useRef(null);I.useEffect(()=>(f(!0),document.querySelectorAll(".animate-fade-in").forEach((v,b)=>{setTimeout(()=>{v.classList.add("visible")},b*100)}),()=>{f(!1)}),[]);const p=I.useCallback(g=>{t(g),h.current&&(h.current.scrollTop=0)},[h]);I.useEffect(()=>{const g=()=>{const v=window.innerWidth>window.innerHeight;u(v)};return g(),window.addEventListener("resize",g),window.addEventListener("orientationchange",()=>{setTimeout(g,100)}),()=>{window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}},[]);const m=[{id:"table1",name:"Table Nord-Est",value:78,color:"#38bdf8",type:"Spéciale de Claire",plates:"45/60",currentSize:"6.5 cm",targetSize:"9 cm",timeProgress:65,startDate:"10/01/2023",harvest:"30/06/2023",mortality:8.5,alert:null,status:"active",occupiedUnits:45,totalUnits:60,location:"Secteur Nord-Est",area:120,waterHeight:1.2,lastInspection:"15/05/2023",currentConditions:"Optimales",lastUpdate:"Il y a 2h",occupancyRate:78,lastUpdated:"Il y a 2h",oysterType:"Spéciale de Claire",lastHarvest:"12/05/2023",quality:4.2,avgSize:7.8},{id:"table2",name:"Table Centrale",value:45,color:"#22c55e",type:"Fine de Claire",plates:"30/60",currentSize:"5.8 cm",targetSize:"8 cm",timeProgress:50,startDate:"15/01/2023",harvest:"15/07/2023",mortality:6.2,status:"active",occupiedUnits:30,totalUnits:60,location:"Secteur Central",area:110,waterHeight:1.1,lastInspection:"12/05/2023",currentConditions:"Bonnes",lastUpdate:"Il y a 1h",occupancyRate:45,lastUpdated:"Il y a 1h",oysterType:"Fine de Claire",lastHarvest:"15/05/2023",quality:3.8,avgSize:6.5},{id:"table3",name:"Table Ouest",value:92,color:"#ef4444",type:"Spéciale de Claire",plates:"55/60",currentSize:"7.2 cm",targetSize:"9 cm",timeProgress:80,startDate:"05/01/2023",harvest:"20/06/2023",mortality:9.8,alert:"Forte densité",status:"active",occupiedUnits:55,totalUnits:60,location:"Secteur Ouest",area:130,waterHeight:1.3,lastInspection:"10/05/2023",currentConditions:"Densité élevée",lastUpdate:"Il y a 3h",occupancyRate:92,lastUpdated:"Il y a 3h",oysterType:"Spéciale de Claire",lastHarvest:"10/05/2023",quality:4.5,avgSize:8.2}],x=[{id:"pool1",name:"Bassin Principal",status:"Optimal",temperature:14.7,oxygen:95,salinity:33.5,ph:8.1,lastCheck:"Il y a 30 min",alert:!1,stock:{mussels:120,urchins:45},healthIndex:87,lastUpdated:"Il y a 30 min",waterLevel:1.45,waterChangeRate:12},{id:"pool2",name:"Bassin de Purification",status:"Optimal",temperature:15.2,oxygen:97,salinity:32.8,ph:8,lastCheck:"Il y a 1h",alert:!1,stock:{mussels:85,urchins:30},healthIndex:92,lastUpdated:"Il y a 1h",waterLevel:1.22,waterChangeRate:18},{id:"pool3",name:"Bassin d'Élevage",status:"Attention",temperature:14.3,oxygen:82,salinity:34.1,ph:7.8,lastCheck:"Il y a 2h",alert:!0,stock:{mussels:150,urchins:0},healthIndex:65,lastUpdated:"Il y a 2h",waterLevel:.87,waterChangeRate:8}];return o.jsx("div",{className:"mobile-dashboard",children:o.jsx("div",{className:"mobile-dashboard-wrapper",ref:h,children:o.jsxs("div",{className:"mobile-dashboard-content",children:[e==="overview"&&o.jsx(ke.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qm,children:o.jsxs("div",{className:"dashboard-sections space-y-5",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tableau de bord"}),o.jsx("div",{className:"animate-fade-in",children:o.jsx(fye,{})}),o.jsxs("section",{className:"animate-fade-in mt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-white",children:"Tables ostréicoles"}),o.jsxs("button",{className:"text-cyan-400 text-sm flex items-center gap-1",onClick:()=>p("tables"),"aria-label":"Voir toutes les tables",children:["Tout voir ",o.jsx(Es,{size:16})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"mobile-carousel",children:m.map((g,v)=>o.jsx("div",{className:`mobile-carousel-item ${v===s?"active":""}`,onClick:()=>n(g),children:o.jsx(q3,{table:g,compact:!0,onClick:()=>n(g)})},g.id))}),o.jsx("div",{className:"mobile-carousel-indicators mt-2",children:m.map((g,v)=>o.jsx("button",{className:`mobile-carousel-indicator ${v===s?"active":""}`,onClick:()=>l(v),"aria-label":`Voir table ${v+1}`},v))})]})]})]})}),e==="tables"&&o.jsxs(ke.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qm,children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Tables ostréicoles"}),m.map(g=>o.jsx(q3,{table:g},g.id))]}),e==="pools"&&o.jsxs(ke.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qm,children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Bassins"}),x.map(g=>o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:g.name}),o.jsxs("p",{children:["Status: ",g.status]}),o.jsxs("p",{children:["Température: ",g.temperature,"°C"]}),o.jsxs("p",{children:["Oxygène: ",g.oxygen,"%"]}),o.jsxs("p",{children:["Salinité: ",g.salinity,"‰"]}),o.jsxs("p",{children:["pH: ",g.ph]}),o.jsxs("p",{children:["Dernière vérification: ",g.lastCheck]}),o.jsxs("p",{children:["Alerte: ",g.alert?"Oui":"Non"]}),o.jsxs("p",{children:["Stock: ",g.stock.mussels," moules, ",g.stock.urchins," oursins"]})]},g.id))]}),e==="notifications"&&o.jsxs(ke.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qm,children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Alertes"}),o.jsxs("ul",{children:[m.map(g=>g.alert&&o.jsxs("li",{children:[g.name,": ",g.alert]},g.id)),x.map(g=>g.alert&&o.jsxs("li",{children:[g.name,": ",g.alert]},g.id))]})]}),e==="emergency"&&o.jsxs(ke.div,{className:"dashboard-page p-4",initial:"hidden",animate:"visible",variants:qm,children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-6 text-red-400",children:"Urgence"}),o.jsx("p",{children:"Contenu de la section urgence"})]}),o.jsx(hye,{activeSection:e,onSectionChange:p,isLandscape:c}),o.jsxs(Ir,{children:[r&&o.jsx(DM,{table:r,onClose:()=>n(null)}),a&&o.jsx(_L,{pool:a,onClose:()=>i(null)})]})]})})})},QT=[{name:"Table A1",value:72,color:"#22c55e",type:"Huîtres creuses",plates:"N°3",harvest:"En cours",mortality:15,currentSize:"3.2cm",targetSize:"4.5cm",timeProgress:65,startDate:"10/01/24",status:"En cours"},{name:"Table A2",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°4",harvest:"01/01/2026",mortality:8,currentSize:"T15",targetSize:"4.2cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B1",value:100,color:"#22c55e",type:"Huîtres plates",plates:"N°2",harvest:"01/01/2026",mortality:12,currentSize:"T15",targetSize:"4.8cm",timeProgress:0,startDate:"01/01/2024",status:"En cours"},{name:"Table B2",value:0,color:"#22c55e",type:"",plates:"",harvest:"",mortality:0,currentSize:"",targetSize:"",timeProgress:0,startDate:"",status:"Vide"}],JT=[{id:"pool-a1",name:"Bassin A1",status:"Optimal",temperature:12.5,oxygen:95,salinity:32.4,ph:8.1,lastCheck:"08:30",alert:!1},{id:"pool-a2",name:"Bassin A2",status:"Bon",temperature:13.2,oxygen:88,salinity:31.9,ph:8,lastCheck:"08:35",alert:!1,stock:{mussels:500,urchins:100}}],Ic=[{name:"Bassin A1",value:80,color:"#22c55e",type:"Purification",capacity:1e3,currentLoad:800,products:[{name:"Plates",quantity:500,unit:"kg",color:"#22c55e"},{name:"Creuses",quantity:300,unit:"kg",color:"#eab308"}],waterQuality:{quality:98,oxygen:95,temperature:12.5}},{name:"Bassin A2",value:65,color:"#eab308",type:"Purification",capacity:1e3,currentLoad:650,products:[{name:"Moules",quantity:500,unit:"kg",color:"#22c55e"},{name:"Oursins",quantity:100,unit:"dz",color:"#eab308"}],waterQuality:{quality:92,oxygen:88,temperature:13.2}}],ja={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},mye={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},Hv={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}};function xye(){const[e,t]=I.useState(null),[r,n]=I.useState(null),[a,i]=I.useState(null),[s,l]=I.useState(null),[c,u]=I.useState(!1);return I.useEffect(()=>{const d=()=>{u(window.innerWidth<=768)};d(),window.addEventListener("resize",d);const f=setTimeout(()=>{d()},500);return()=>{window.removeEventListener("resize",d),clearTimeout(f)}},[]),I.useEffect(()=>(c?document.body.classList.add("has-fixed-nav"):document.body.classList.remove("has-fixed-nav"),()=>{document.body.classList.remove("has-fixed-nav")}),[c]),c?o.jsx("div",{className:"dashboard-page",children:o.jsx(pye,{tableOccupancyData:QT,poolData:JT,poolDisplayData:Ic})}):o.jsxs(ke.div,{initial:"hidden",animate:"visible",variants:mye,className:"space-y-6",children:[o.jsx(pg,{icon:o.jsx(Xy,{size:28,className:"text-white"}),title:"Tableau de bord"}),o.jsx(ke.div,{variants:Hv,className:`mb-6 w-full ${ja.container} ${ja.hoverEffect}`,children:o.jsx(AY,{})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full relative",children:[o.jsx("div",{className:"col-span-full",children:o.jsxs(Ir,{children:[a&&o.jsx(DM,{table:a,onClose:()=>i(null)}),s&&o.jsx(_L,{pool:s,onClose:()=>l(null)})]})}),o.jsxs(ke.div,{variants:Hv,className:`${ja.container} ${ja.hoverEffect} p-5 space-y-4`,children:[o.jsx("h2",{className:ja.heading,children:"Statistiques globales"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:ja.subheading,children:"Taux production"}),o.jsx("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:"+4.2%"})]}),o.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"97.8%"}),o.jsx("div",{className:ja.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:"97.8%"},transition:{duration:1,ease:"easeOut"}})})]}),o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:ja.subheading,children:"Santé moyenne"}),o.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),o.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"92.3%"}),o.jsx("div",{className:ja.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"92.3%"},transition:{duration:1,ease:"easeOut"}})})]}),o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:ja.subheading,children:"Taux mortalité"}),o.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 text-xs px-2 py-1 rounded-full",children:"-0.5%"})]}),o.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"2.5%"}),o.jsx("div",{className:ja.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-400",initial:{width:0},animate:{width:"25%"},transition:{duration:1,ease:"easeOut"}})})]}),o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:ja.subheading,children:"Récolte prévue"}),o.jsx("div",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-1 rounded-full",children:"15 jours"})]}),o.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"4.8t"}),o.jsx("div",{className:ja.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-purple-500 to-pink-400",initial:{width:0},animate:{width:"80%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),o.jsxs(ke.div,{variants:Hv,className:`${ja.container} ${ja.hoverEffect} p-5`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsx("h2",{className:ja.heading,children:"Occupation des tables"}),o.jsx("div",{className:"text-sm text-white/60",children:"3 tables actives"})]}),o.jsx("div",{className:"space-y-4",children:QT.map((d,f)=>o.jsx(q3,{table:d,isHovered:e===d.name,onHoverStart:()=>t(d.name),onHoverEnd:()=>t(null),onClick:()=>i(d)},f))})]}),o.jsxs(ke.div,{variants:Hv,className:`${ja.container} ${ja.hoverEffect} p-5`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsx("h2",{className:ja.heading,children:"Santé des bassins"}),o.jsx("div",{className:"text-sm text-white/60",children:"2 bassins actifs"})]}),o.jsx("div",{className:"space-y-4",children:JT.map((d,f)=>{var h,p,m,x,g,v,b,y;return o.jsxs(ke.div,{className:`
                  relative rounded-lg p-4 overflow-hidden
                  bg-[rgba(0,40,80,0.2)]
                  shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]
                  cursor-pointer transition-all duration-200
                  ${r===d.name?"shadow-[rgba(0,0,0,0.25)_0px_8px_20px,rgba(0,210,200,0.15)_0px_0px_10px_inset]":""}
                `,onHoverStart:()=>n(d.name),onHoverEnd:()=>n(null),onClick:()=>l(d),whileHover:{y:-4,transition:{duration:.2}},children:[o.jsx(ke.div,{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.1)] to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===d.name?1:0},transition:{duration:.2}}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:{backgroundColor:(h=Ic.find(_=>_.name===d.name))==null?void 0:h.color}}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:d.name}),o.jsx("div",{className:"text-xs text-white/70",children:d.status})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-semibold text-white",children:[(p=Ic.find(_=>_.name===d.name))==null?void 0:p.value,"%"]}),o.jsx("div",{className:"text-xs text-white/70",children:"qualité"})]})]}),o.jsx("div",{className:ja.progressBar,children:o.jsx(ke.div,{className:"h-full rounded-full",style:{background:`linear-gradient(to right, ${(m=Ic.find(_=>_.name===d.name))==null?void 0:m.color}, ${(x=Ic.find(_=>_.name===d.name))==null?void 0:x.color}80)`,boxShadow:`0 0 10px ${(g=Ic.find(_=>_.name===d.name))==null?void 0:g.color}40`},initial:{width:0},animate:{width:`${(v=Ic.find(_=>_.name===d.name))==null?void 0:v.value}%`},transition:{duration:1,ease:"easeOut"}})}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[o.jsxs("div",{className:"text-xs text-white/70",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(ro,{className:"w-3 h-3 mr-1 text-cyan-400"}),o.jsx("span",{children:"Température"})]}),o.jsxs("span",{className:"text-white",children:[d.temperature,"°C"]})]}),o.jsxs("div",{className:"text-xs text-white/70",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(ji,{className:"w-3 h-3 mr-1 text-cyan-400"}),o.jsx("span",{children:"Oxygène"})]}),o.jsxs("span",{className:"text-white",children:[d.oxygen,"%"]})]}),o.jsxs("div",{className:"text-xs text-white/70",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Li,{className:"w-3 h-3 mr-1 text-cyan-400"}),o.jsx("span",{children:"Capacité"})]}),o.jsxs("span",{className:"text-white",children:[(((b=Ic.find(_=>_.name===d.name))==null?void 0:b.currentLoad)/((y=Ic.find(_=>_.name===d.name))==null?void 0:y.capacity)*100).toFixed(0),"%"]})]})]})]})]},f)})})]})]})]})}const gye=[{id:"1",name:"Table Nord #128",location:"Bouzigues",type:"Huîtres Triploïdes",status:"en_trempe",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:t<3?!1:t===3?.75:!0})),currentSize:"N°2",targetSize:"N°3",startDate:"15/11/2023",lastUpdate:"En cours",timeProgress:72,sizeProgress:85,layers:2,density:"Normale",alert:!1,value:85,history:[],oysterType:"Huîtres Triploïdes",tableNumber:"128"},{id:"2",name:"Table B-07",location:"Bouzigues",type:"Huîtres Triploïdes",status:"warning",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:!0})),currentSize:"N°3",targetSize:"N°3",startDate:"10/03/2024",lastUpdate:"30/03/2025",timeProgress:75,sizeProgress:60,layers:4,density:"Très élevée",alert:!0,value:100,history:[],oysterType:"Triploïdes",tableNumber:"B-07"},{id:"3",name:"Table C-04",location:"Marseillan",type:"Huîtres Diploïdes",status:"critical",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:!0})),currentSize:"T15",targetSize:"N°3",startDate:"11/01/2025",lastUpdate:"15/01/2026",timeProgress:30,sizeProgress:25,layers:2,density:"Moyenne",alert:!1,value:100,history:[],oysterType:"Triploïdes",tableNumber:"C-04"},{id:"4",name:"Table D-15",location:"Mèze",type:"Vide",status:"optimal",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:!1})),currentSize:"Vide",targetSize:"Vide",startDate:"Vide",lastUpdate:"Vide",timeProgress:15,sizeProgress:10,layers:2,density:"Faible",alert:!1,value:0,history:[],oysterType:"Triploïdes",tableNumber:"D-15"}],td=["T15","T30","N°5","N°4","N°3","N°2","N°1"],vye=e=>{const t=td.indexOf(e);return t===-1?"bg-gray-500":t<=td.indexOf("N°3")?"bg-gradient-to-r from-blue-500 to-[#22c55e]":t<=td.indexOf("N°2")?"bg-gradient-to-r from-[#22c55e] to-orange-300":e==="N°1"?"bg-red-500":"bg-gradient-to-r from-blue-500 to-cyan-400"},bye=e=>e==="N°2"?"bg-gradient-to-r from-blue-500 via-[#22c55e] to-orange-500":"bg-gradient-to-r from-blue-500 to-cyan-400",yye=e=>"bg-blue-500",wye=({currentSize:e,targetSize:t,tableName:r})=>{if(e==="Vide"||t==="Vide")return r==="Table D-15"?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 flex",children:[o.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),o.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",style:{opacity:0}})]}),o.jsx("div",{className:"flex justify-between px-1 text-sm font-medium",children:td.map(i=>o.jsx("span",{className:"text-white/30",children:i},i))})]}):null;const a=(td.indexOf(e)+1)/td.length*100;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative h-4 bg-white/5 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 flex",children:td.map(i=>o.jsx("div",{className:"flex-1 border-r border-white/10 last:border-r-0"},i))}),o.jsx("div",{className:`h-full ${r==="Table A-12"?bye(e):r==="Table C-04"?yye():vye(e)} transition-all duration-300`,style:{width:`${a}%`}})]}),o.jsx("div",{className:"flex justify-between px-1 text-sm font-medium",children:td.map(i=>o.jsx("span",{className:i==="N°3"?"text-cyan-400 border border-cyan-400/50 px-1 rounded":"text-white/60",children:i},i))})]})},_ye={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.19,1,.22,1]}},Nye=({table:e,onCellClick:t})=>o.jsx("div",{className:"space-y-1",children:[0,1].map(r=>o.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-cyan-950/50",children:Array.from({length:10},(n,a)=>{const i=r*10+a,s=e.cells[i];return o.jsxs("div",{onClick:()=>t==null?void 0:t(i),className:"w-full h-7 rounded-[4px] border border-white/10 relative overflow-hidden cursor-pointer hover:border-cyan-400/30 transition-colors",children:[o.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:typeof(s==null?void 0:s.filled)=="number"?`${s.filled*100}%`:s!=null&&s.filled?"100%":"0%"}}),o.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white/80 font-medium",children:i+1})]},a)})},r))}),jye=({table:e,onEdit:t})=>{const[r,n]=I.useState(!1),[a,i]=I.useState(e.name),s=l=>{l.preventDefault(),t(e,a),n(!1)};return o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:o.jsx(mW,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),r?o.jsx("form",{onSubmit:s,className:"flex items-center",children:o.jsx("input",{type:"text",value:a,onChange:l=>i(l.target.value),className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white"})}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),o.jsx("span",{className:"text-white/60",children:"-"}),o.jsx("span",{className:"text-lg font-medium text-cyan-400",children:e.location})]})]})})};function Sye({onTableSelect:e,onTableHover:t,hoveredTable:r,selectedTable:n,onTableUpdate:a}){const[i,s]=I.useState(gye);I.useState(null);const l=(c,u)=>{const d=i.find(x=>x.id===c);if(!d||!a)return;const f=d.cells.findIndex(x=>x.id===u.id);if(f===-1)return;const h={...u,filled:!u.filled},p=[...d.cells];p[f]=h;const m={...d,cells:p,value:p.filter(x=>x.filled).length/p.length*100};s(i.map(x=>x.id===c?m:x)),a(m)};return o.jsx("div",{className:"grid grid-cols-1 gap-4 p-4",children:i.map(c=>o.jsxs(ke.div,{className:`bg-gray-900/50 backdrop-blur-sm p-6 rounded-lg border border-white/10 hover:border-cyan-500/30 transition-colors ${(r==null?void 0:r.id)===c.id?"border-cyan-500/50":""}`,..._ye,onClick:()=>e(c),onMouseEnter:()=>t==null?void 0:t(c),onMouseLeave:()=>t==null?void 0:t(null),children:[o.jsx(jye,{table:c,onEdit:(u,d)=>{const f={...u,name:d};s(i.map(h=>h.id===u.id?f:h)),a(f)}}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-white/60 font-medium",children:"Mise à l'eau"}),o.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.startDate})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"text-white/60 font-medium",children:"Récolte"}),o.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md border border-cyan-500/20",children:c.name==="Table A-12"&&c.lastUpdate==="En cours"?o.jsx("span",{className:"animate-pulse text-cyan-400",children:"En cours"}):c.lastUpdate})]})]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ro,{size:18,className:"text-cyan-400"}),o.jsx("span",{className:"text-white/60",children:"Type:"}),o.jsx("span",{className:"text-gray-300",children:c.type})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pW,{size:18,className:"text-cyan-400"}),o.jsx("span",{className:"text-white/60",children:"État:"}),o.jsxs("span",{className:"text-gray-300",children:[c.value,"%"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"État"}),o.jsx(Nye,{table:c,onCellClick:u=>l(c.id,c.cells[u])})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Calibre"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hn,{size:18,className:"text-cyan-400"}),o.jsx("span",{className:"text-white/60",children:"Actuel:"}),o.jsx("span",{className:"text-white font-semibold bg-cyan-500/10 px-3 py-1 rounded-md",children:c.currentSize})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Is,{size:18,className:"text-cyan-400"}),o.jsx("span",{className:"text-white/60",children:"Cible:"}),o.jsx("span",{className:"text-white font-semibold px-3 py-1 rounded-md border border-cyan-500/20",children:c.targetSize})]})]})]}),o.jsx(wye,{currentSize:c.currentSize,targetSize:c.targetSize,tableName:c.name})]})]})]})]},c.id))})}function NL({isOpen:e,onClose:t,onConfirm:r,maintenanceType:n,lastMaintenance:a,uvLampHours:i}){const[s,l]=I.useState(""),[c,u]=I.useState(!1),d=()=>{r(n,s),u(!1),t()};return o.jsxs(Gi,{isOpen:e,onClose:t,title:n==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:t}),o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[500px] border border-white/10",onClick:f=>f.stopPropagation(),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[o.jsx(Ai,{size:24,className:"text-yellow-400 flex-shrink-0"}),o.jsx("p",{className:"text-yellow-400",children:n==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(di,{size:20,className:"text-white/60"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),o.jsx("div",{className:"text-white font-medium",children:er(new Date(a),"PPP",{locale:xn})})]})]}),n==="uv_lamp"&&i&&o.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[o.jsx(di,{size:20,className:"text-white/60"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),o.jsxs("div",{className:`font-medium ${i>=8e3?"text-red-400":i>=7e3?"text-yellow-400":"text-white"}`,children:[i," heures"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),o.jsx("textarea",{value:s,onChange:f=>l(f.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),o.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",n==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})]})}function jL({isOpen:e,onClose:t,onConfirm:r,batch:n}){const[a,i]=I.useState(n.quantity),[s,l]=I.useState(""),[c,u]=I.useState(""),[d,f]=I.useState(n.remainingTime>0),h=p=>{p.preventDefault(),r({quantity:a,destination:s,notes:c})};return o.jsxs(Gi,{isOpen:e,onClose:t,title:"Sortie de lot",size:"md",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:t}),o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[500px] border border-white/10",onClick:p=>p.stopPropagation(),children:o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),o.jsx("div",{className:"text-white font-medium",children:n.number})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Type"}),o.jsx("div",{className:"text-white font-medium",children:n.type})]})]})]}),d&&o.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ai,{size:20,className:"text-yellow-400 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),o.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",n.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),o.jsx("input",{type:"number",value:a,onChange:p=>i(Number(p.target.value)),max:n.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),o.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",n.quantity," unités"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),o.jsxs("select",{value:s,onChange:p=>l(p.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[o.jsx("option",{value:"",children:"Sélectionner une destination..."}),o.jsx("option",{value:"stock",children:"Stock"}),o.jsx("option",{value:"vente",children:"Vente directe"}),o.jsx("option",{value:"destruction",children:"Destruction"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),o.jsx("textarea",{value:c,onChange:p=>u(p.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(aS,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})]})}function SL({isOpen:e,onClose:t,onConfirm:r,lastBatchNumber:n,pool:a}){const[i,s]=I.useState(""),[l,c]=I.useState(""),[u,d]=I.useState("plates"),f=h=>{h.preventDefault(),!(!i||!l)&&(r({number:i,quantity:parseInt(l),type:u}),s(""),c(""),d("plates"))};return o.jsxs(Gi,{isOpen:e,onClose:t,title:"Ajouter un nouveau lot",size:"md",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:t}),o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[500px] border border-white/10",onClick:h=>h.stopPropagation(),children:o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),o.jsx("input",{type:"text",value:i,onChange:h=>s(h.target.value),placeholder:`${n} (Dernier lot sorti de la trempe 1)`,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),o.jsx("input",{type:"number",value:l,onChange:h=>c(h.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),o.jsxs("select",{value:u,onChange:h=>d(h.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[o.jsx("option",{value:"plates",children:"Plates"}),o.jsx("option",{value:"creuses",children:"Creuses"}),o.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 text-white/60 hover:bg-white/10",children:"Annuler"}),o.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:[o.jsx(gr,{size:16}),"Ajouter"]})]})]})})]})}const Aye=[{id:"1",name:"Bassin A1",capacity:3e3,currentOccupancy:0,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"creuses"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}],Cye=[{id:"1",number:"LOT-2025-001",quantity:250,entryTime:"2025-03-30T10:00:00",type:"Plates"},{id:"2",number:"LOT-2025-002",quantity:300,entryTime:"2025-03-30T14:30:00",type:"Creuses N°2"}];function Eye({pool:e,onClose:t}){const[r,n]=I.useState("info"),a=tg(t),[i,s]=I.useState(!1),[l,c]=I.useState("maintenance"),[u,d]=I.useState("cleaning"),[f,h]=I.useState(null),[p,m]=I.useState(""),[x,g]=I.useState(""),[v,b]=I.useState(""),[y,_]=I.useState(!1),[N,S]=I.useState(!1),[j,A]=I.useState(Cye),T=(E,L)=>{E==="cleaning"&&(!y||!N)||(console.log(`Maintenance ${E} confirmée`,{notes:L}),s(!1),b(""),_(!1),S(!1))},F=E=>{console.log("Sortie du lot:",{batch:f,...E}),s(!1),h(null)},O=E=>{console.log("Nouveau lot ajouté:",E);const L={id:`batch-${Date.now()}`,number:E.number,quantity:E.quantity,type:E.type,entryTime:new Date().toISOString(),remainingTime:72};A([...j,L]),s(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-start justify-center z-50 p-8 pt-[15vh]",children:o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[1200px] h-[calc(100vh-4rem)] border border-white/10 modal-style flex flex-col",onClick:E=>E.stopPropagation(),ref:a,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.name}),o.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"flex space-x-4 mb-6",children:[o.jsx("button",{onClick:()=>n("info"),className:`px-4 py-2 rounded-lg transition-colors ${r==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),o.jsx("button",{onClick:()=>n("history"),className:`px-4 py-2 rounded-lg transition-colors ${r==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),o.jsx("button",{onClick:()=>n("config"),className:`px-4 py-2 rounded-lg transition-colors ${r==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),o.jsxs(Ir,{mode:"wait",children:[r==="info"&&o.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[o.jsx(Hn,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"0%"}),o.jsx("div",{className:"text-sm text-white/60",children:"0 Kg/3000 Kg"})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[o.jsx(ji,{size:20,className:"mr-2 text-brand-primary"}),"Filtration"]}),o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:`text-2xl font-bold ${e.waterQuality>=95?"text-green-400":e.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[e.waterQuality,"%"]})})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[o.jsx(ro,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en cours"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{onClick:()=>{s(!0),c("newBatch"),m(""),g("")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",children:[o.jsx(gr,{size:16}),"Nouveau lot"]})})]}),o.jsx("div",{className:"space-y-3",children:j.map(E=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-white",children:E.number}),o.jsxs("div",{className:"text-sm text-white/60",children:[E.quantity,"kg - ",E.type]}),o.jsxs("div",{className:"text-sm text-white/60",children:["Entrée le ",er(new Date(E.entryTime),"dd/MM/yyyy HH:mm",{locale:xn})]})]}),o.jsxs("button",{onClick:()=>{h(E),s(!0),c("exit")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 text-white/60 hover:bg-white/10 hover:text-white transition-all duration-300",title:"Sortir le lot",children:[o.jsx(aS,{size:16,"aria-hidden":"true"}),o.jsx("span",{children:"Sortir"})]})]},E.id))}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"relative h-24 bg-white/5 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 flex",children:[o.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),o.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]}),o.jsx("div",{className:"h-full relative flex-1",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e3a8a]/75 to-[#1e3a8a]/90 transition-all duration-500"})})]}),o.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:o.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[o.jsx(hN,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:`text-lg font-medium ${e.uvLampHours>=8e3?"text-red-400":e.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:"7500 heures d'utilisation"}),o.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",er(new Date(e.lastUVChange),"PP",{locale:xn})]}),e.uvLampHours>=7e3&&o.jsxs("div",{className:"flex items-center mt-2",children:[o.jsx(Ai,{size:20,className:"mr-2 text-yellow-400"}),o.jsx("span",{className:"text-yellow-400",children:"Changement recommandé"})]})]}),o.jsxs("button",{onClick:()=>{s(!0),c("maintenance"),d("uv_lamp")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",children:[o.jsx(hN,{size:20}),"Changer la lampe"]})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[o.jsx(kE,{size:20,className:"mr-2 text-brand-primary"}),"Nettoyage du bassin"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-medium text-white",children:"Dernier nettoyage"}),o.jsx("div",{className:"text-sm text-white/60",children:er(new Date(e.lastMaintenance),"PP",{locale:xn})}),o.jsxs("div",{className:"text-sm text-white/60 mt-2",children:[o.jsx(Ua,{size:16,className:"inline-block mr-1 text-cyan-400"}),"Le bassin doit être vidé avant le nettoyage"]})]}),o.jsxs("button",{onClick:()=>{s(!0),c("maintenance"),d("cleaning"),b(""),_(!1),S(!1)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-all duration-300",disabled:e.currentOccupancy>0,"aria-disabled":e.currentOccupancy>0,title:e.currentOccupancy>0?"Le bassin doit être vide pour le nettoyage":"Nettoyer le bassin",children:[o.jsx(kE,{size:20,"aria-hidden":"true"}),"Nettoyer"]})]})]})]},"info"),r==="history"&&o.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center text-white",children:[o.jsx(di,{size:16,className:"mr-2"}),o.jsxs("span",{children:["Dernier nettoyage: ",er(new Date(e.lastMaintenance),"PP",{locale:xn})]})]})}),o.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center text-white",children:[o.jsx(qi,{size:16,className:"mr-2"}),o.jsxs("span",{children:["Changement filtre: ",er(new Date(e.lastMaintenance),"PP",{locale:xn})]})]})})]})]})},"history"),r==="config"&&o.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),o.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[o.jsx("option",{value:"uv",children:"UV"}),o.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),o.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),o.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),o.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),r==="config"&&o.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})},"modal")}),i&&l==="maintenance"&&o.jsx(NL,{isOpen:i&&l==="maintenance",onClose:()=>s(!1),onConfirm:T,maintenanceType:u,lastMaintenance:e.lastMaintenance,uvLampHours:e.uvLampHours}),i&&l==="exit"&&f&&o.jsx(jL,{isOpen:i&&l==="exit",onClose:()=>s(!1),onConfirm:F,batch:f}),i&&l==="newBatch"&&o.jsx(SL,{isOpen:i&&l==="newBatch",onClose:()=>s(!1),onConfirm:O,pool:e})]})}function kye(){const[e,t]=I.useState(null),[r,n]=I.useState(null),[a,i]=I.useState(Aye),[s,l]=I.useState(!1),[c,u]=I.useState("maintenance"),[d,f]=I.useState(null),[h,p]=I.useState(null),[m,x]=I.useState(!1),g=_=>{console.log("Nouveau lot ajouté:",_);const N={id:`batch-${Date.now()}`,number:_.number,quantity:_.quantity,type:_.type,entryTime:new Date().toISOString(),remainingTime:72};p(N),l(!0),u("newBatch")},v=()=>{x(!1),p(null)},b=(_,N)=>{console.log(`Maintenance ${_} confirmée pour le bassin ${e==null?void 0:e.name}`,{notes:N}),l(!1)},y=_=>{console.log("Sortie du lot:",{batch:d,..._}),l(!1),f(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:a.map(_=>o.jsxs("div",{onClick:()=>t(_),className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] p-6 rounded-lg cursor-pointer hover:from-[rgba(15,23,42,0.4)] hover:to-[rgba(20,100,100,0.4)] transition-all duration-300",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:_.name}),o.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[o.jsx(qi,{size:16,className:"mr-1"}),_.filterType]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${_.filterStatus==="active"?"bg-green-500/20 text-green-300":_.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:_.filterStatus==="active"?"Actif":_.filterStatus==="maintenance"?"Maintenance":"Erreur"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),o.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(_.currentOccupancy/_.capacity*100),"%"]}),o.jsxs("div",{className:"text-sm text-white/60",children:[_.currentOccupancy,"/",_.capacity]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),o.jsxs("div",{className:`text-xl font-bold ${_.waterQuality>=95?"text-green-400":_.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[_.waterQuality,"%"]}),o.jsxs("div",{className:"text-sm text-white/60",children:[_.temperature,"°C"]})]})]}),o.jsx("div",{className:"space-y-3",children:_.batches.map(N=>o.jsx("div",{className:"bg-white/5 rounded-lg p-4 mb-2",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-white",children:N.number}),o.jsxs("div",{className:"text-sm text-white/60",children:[N.quantity," huîtres"]})]}),o.jsxs("button",{onClick:S=>{S.stopPropagation(),f(N),l(!0),u("exit")},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 text-white/60 hover:bg-white/10 hover:text-white",children:[o.jsx(aS,{size:16}),"Sortir"]})]})},N.id))}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"relative h-24 bg-white/5 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 flex",children:[o.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),o.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"rgba(37, 99, 235, 0.2) 0px 0px 20px"}}),o.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:o.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),o.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]}),o.jsx("div",{className:"h-full relative flex-1",children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1e3a8a]/75 to-[#1e3a8a]/90 transition-all duration-500"})})]}),o.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:o.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})}),o.jsx(ke.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:r===_.id?1:0},transition:{duration:.2}})]},_.id))}),o.jsx(Ir,{children:e&&o.jsx(Eye,{pool:e,onClose:()=>t(null)})}),s&&c==="newBatch"&&o.jsx(SL,{isOpen:s&&c==="newBatch",onClose:()=>l(!1),onConfirm:g,pool:e}),s&&c==="maintenance"&&o.jsx(NL,{isOpen:s&&c==="maintenance",onClose:()=>l(!1),onConfirm:b,maintenanceType:"cleaning",lastMaintenance:e==null?void 0:e.lastMaintenance,uvLampHours:e==null?void 0:e.uvLampHours}),s&&c==="exit"&&d&&o.jsx(jL,{isOpen:s&&c==="exit",onClose:()=>l(!1),onConfirm:y,batch:d}),m&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",onClick:v,children:o.jsxs("div",{className:"bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-6 rounded-lg w-full max-w-md",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lot ajouté avec succès"}),o.jsx("button",{onClick:v,className:"text-white/60 hover:text-white",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Pp,{size:20,className:"text-cyan-400 shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white",children:"Les stocks ont été mis à jour avec succès."}),o.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Lot ",h.number," ajouté avec ",h.quantity," huîtres"]}),o.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Cette opération a été enregistrée dans l'historique de traçabilité"})]})]})}),o.jsx("button",{onClick:v,className:"w-full px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:"Fermer"})]})]})})]})}const AL=({isOpen:e,onClose:t,onConfirm:r,pochonCount:n,action:a})=>e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[300]",onClick:i=>i.target===i.currentTarget&&t(),children:o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:i=>i.stopPropagation(),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmation"}),o.jsx("p",{className:"text-white/70",children:a==="fill"?`Les ${n} pochons seront inscrits dans les stocks de la trempe et leur traçabilité sera mise à jour.`:`Les ${n} pochons seront retirés des stocks de la trempe, mais seront disponible en référence pour le stockage dans les bassins et leur traçabilité sera mise à jour.`})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Non"}),o.jsx("button",{onClick:()=>{r(),t()},className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Oui"})]})]})})}):null,Tye=({isOpen:e,onClose:t,onConfirm:r,cellIndex:n})=>{const[a,i]=I.useState("2503-042"),[s,l]=I.useState(!1);return e?o.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[200]",onClick:c=>c.target===c.currentTarget&&t(),children:[o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:c=>c.stopPropagation(),children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("h3",{className:"text-xl font-bold text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Remplir le carré ",n+1]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-white/70 block",children:"N° de lot :"}),o.jsxs("select",{value:a,onChange:c=>i(c.target.value),className:"w-full bg-black/20 border border-white/10 rounded px-3 py-2 text-white",children:[o.jsx("option",{value:"2503-042",children:"2503-042 (Dernier lot récolté - Table A-01)"}),o.jsx("option",{value:"2503-041",children:"2503-041"}),o.jsx("option",{value:"2503-040",children:"2503-040"})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Annuler"}),o.jsx("button",{onClick:()=>l(!0),className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Confirmer"})]})]})}),o.jsx(AL,{isOpen:s,onClose:()=>l(!1),onConfirm:()=>{r(a),t()},pochonCount:50,action:"fill"})]}):null},ZT=({isOpen:e,onClose:t,onConfirm:r,action:n,cellIndex:a,cell:i})=>{const[s,l]=I.useState(0),[c,u]=I.useState(!1),d=p=>p===5?17:p===6?19:50,f=n==="harvest"?d(a):0,h=n==="harvest"?f-s:s;return e?o.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[200]",onClick:p=>p.target===p.currentTarget&&t(),children:[o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:p=>p.stopPropagation(),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-xl font-bold text-center bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:n==="fill"?"Ajouter des pochons":"Récolter les pochons"}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsxs("div",{className:"text-white/60",children:["Carré N°",a+1]}),o.jsxs("div",{className:"text-white/70",children:["Pochons ",n==="fill"?"ajoutés":"restants"," : ",h]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-white/70",children:"Nombre de pochons :"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>l(Math.max(0,s-1)),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white flex items-center justify-center",children:"-"}),o.jsx("input",{type:"number",value:s,onChange:p=>{const m=parseInt(p.target.value)||0;l(Math.min(Math.max(0,m),d(a)))},className:"w-16 bg-black/20 border border-white/10 rounded px-3 py-1 text-white text-center"}),o.jsx("button",{onClick:()=>l(Math.min(s+1,d(a))),className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white flex items-center justify-center",children:"+"})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-cyan-400/30",children:"Annuler"}),o.jsx("button",{onClick:()=>u(!0),className:"flex-1 px-4 py-2 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:"Confirmer"})]})]})}),o.jsx(AL,{isOpen:c,onClose:()=>u(!1),onConfirm:()=>{r(s),t()},pochonCount:s,action:n})]}):null},Oye=({isOpen:e,onClose:t,message:r})=>e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[300]",onClick:n=>n.target===n.currentTarget&&t(),children:o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[400px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:n=>n.stopPropagation(),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-red-400 to-red-500 bg-clip-text text-transparent",children:"Erreur"}),o.jsx("p",{className:"text-white/70",children:r})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg bg-white/5 border border-white/10 text-white/70 hover:text-white hover:border-red-400/30",children:"Fermer"})})]})})}):null,Pye=({cell:e,onUpdate:t,index:r})=>{const[n,a]=I.useState(!1),[i,s]=I.useState(!1),[l,c]=I.useState(!1),u=!e.filled,d=r<=5&&r>=0,f=x=>x===9||x===10?"23/03/25":x===11||x===13?"24/03/25":x===14||x===18?"25/03/25":x===7||x===8?"26/03/25":"22/03/25",h=x=>x>=5&&x<=19?"2503-042 (Table A-01)":"-",p=x=>{t({filled:1,lotNumber:x})},m=x=>{t({pochonCount:x})};return u?o.jsxs("div",{className:"space-y-4 bg-black/20 p-4 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("button",{onClick:()=>d?a(!0):c(!0),className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300",children:[o.jsx(xa,{size:20}),"Remplir le carré ",r+1]}),o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 text-white/70 hover:text-white",children:[o.jsx(xa,{size:20}),"Ajouter des pochons"]})]}),o.jsx(Tye,{isOpen:n,onClose:()=>a(!1),onConfirm:p,cellIndex:r}),o.jsx(ZT,{isOpen:i,onClose:()=>s(!1),onConfirm:m,action:"fill",cellIndex:r,cell:e}),o.jsx(Oye,{isOpen:l,onClose:()=>c(!1),message:"Impossible, la table n'est pas vide."})]}):o.jsxs("div",{className:"space-y-4 bg-black/20 p-4 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"text-2xl font-bold text-center mb-4 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Carré N°",r+1]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-white/60 text-sm",children:"Date de mise à l'eau"}),o.jsx("div",{className:"text-white font-medium",children:f(r)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-white/60 text-sm",children:"Numéro de lot"}),o.jsx("div",{className:"text-white font-medium",children:h(r)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-white/60 text-sm",children:"Taille des huîtres"}),o.jsx("div",{className:"text-white font-medium",children:"N°3"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-white/60 text-sm",children:"Nombre d'exondations"}),o.jsx("div",{className:"text-white font-medium",children:"12"})]}),r===5?o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),o.jsx("div",{className:"text-white font-medium",children:"17 / 50 - 170 Kg"})]}):r===6?o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),o.jsx("div",{className:"text-white font-medium",children:"19 / 50"})]}):r>=7&&r<=19&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"text-white/60 text-sm",children:"Pochons disponibles"}),o.jsx("div",{className:"text-white font-medium",children:"50 / 50"})]})]}),o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:()=>s(!0),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300 relative z-50",children:[o.jsx(xa,{size:20}),"Récolter les pochons",o.jsxs("span",{className:"text-sm text-white/60 ml-2",children:["(",r===5?"17":r===6?"19":"50"," max)"]})]})}),o.jsx(ZT,{isOpen:i,onClose:()=>s(!1),onConfirm:m,action:"harvest",cellIndex:r,cell:e})]})},Dye=({table:e,onClose:t,onTableUpdate:r})=>{const[n,a]=I.useState(null),i=e.cells.map((d,f)=>({...d,filled:f===8?1:d.filled}));I.useEffect(()=>{r({...e,cells:i})},[]);const s=d=>{a(n===d?null:d)},l=(d,f)=>{const h={...e,cells:e.cells.map((p,m)=>m===d?{...p,...f}:p)};r(h)},c=()=>{const d={...e,cells:e.cells.map(f=>({...f,filled:1}))};r(d)},u=d=>{d.target===d.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[100]",onClick:u,children:o.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg w-[800px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",onClick:d=>d.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des cases"}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/5 text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-10 gap-0.5 bg-black/20 p-4 rounded-lg border border-white/10",children:e.cells.map((d,f)=>o.jsxs("button",{onClick:()=>s(f),className:`
                  w-16 h-10 rounded border relative overflow-hidden cursor-pointer transition-all duration-300
                  ${d.filled>0?"bg-cyan-500/40 border-cyan-400/50 hover:bg-cyan-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}
                  ${n===f?"ring-2 ring-cyan-400":""}
                `,children:[o.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:`${d.filled*100}%`}}),o.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-sm font-medium text-white/80",children:f+1})]},d.id))}),n!==null&&o.jsx(Pye,{cell:e.cells[n],onUpdate:d=>l(n,d),index:n}),n!==null&&n<=5&&o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-cyan-500/20 border border-white/10 hover:border-cyan-400/30 text-cyan-400 hover:text-cyan-300 transition-all duration-300",children:[o.jsx(ji,{size:20}),"Remplir Table"]})})]})]})})},Iye=[{id:"1",name:"Trempe 1",cells:Array(20).fill(null).map((e,t)=>({id:`${t}`,filled:t<6?0:t===6?.3:1,waterDate:"2024-03-01",batchNumber:"2503-042",oysterSize:"N°3",exondationCount:2,perchCount:5})),oysterType:"Huîtres N°3",startDate:new Date().toLocaleDateString(),lastUpdate:"Nouveau"},{id:"2",name:"Trempe 2",cells:Array(10).fill(null).map((e,t)=>({id:`${t}`,filled:t<2?0:1,waterDate:"2024-02-15",batchNumber:"2503-078",oysterSize:"N°2",exondationCount:1,perchCount:3})),oysterType:"Huîtres Spéciales",startDate:new Date().toLocaleDateString(),lastUpdate:"Nouveau"}],Mye=({table:e,onCellClick:t})=>{const r=e.cells.length===20?2:1,n=(e.cells.length===20,10);return o.jsx("div",{className:"space-y-1",children:Array.from({length:r},(a,i)=>o.jsx("div",{className:"grid grid-cols-10 gap-1 w-full bg-cyan-950/50",children:Array.from({length:n},(s,l)=>{const c=i*10+l;if(c>=e.cells.length)return null;const u=e.cells[c];return o.jsxs("div",{onClick:()=>t==null?void 0:t(c),className:"w-full h-7 rounded-[4px] border border-white/10 relative overflow-hidden cursor-pointer hover:border-cyan-400/30 transition-colors",children:[o.jsx("div",{className:"absolute top-0 right-0 bottom-0 bg-cyan-500/40",style:{width:`${u.filled*100}%`}}),o.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white/80 font-medium",children:c+1})]},l)})},i))})},Fye=({table:e,isHovered:t,isSelected:r,onClick:n,onHover:a})=>{const i=e.cells.filter(u=>u.filled>0).length,s=e.cells.length,l=Math.round(i/s*100);return o.jsxs(ke.div,{layout:!0,onClick:n,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:`
        relative rounded-xl overflow-hidden transition-all duration-300
        ${r?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/50":t?"bg-white/5 border-cyan-400/30":"bg-white/5 border-white/10"}
        border backdrop-blur-sm p-6 space-y-6
        hover:shadow-[0_8px_16px_rgba(0,0,0,0.4),0_0_20px_rgba(0,210,200,0.3)]
        cursor-pointer
      `,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hn,{size:18,className:"text-cyan-400"}),o.jsx("span",{className:"text-white/70",children:"Huîtres N°3"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[o.jsx(xa,{size:20}),o.jsx("span",{className:"font-semibold",children:"Pochons"})]}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"76 / 100"}),o.jsx("div",{className:"text-sm text-white/60",children:"10 Kg par pochon • 760 Kg"})]}),o.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[o.jsx(Q1,{size:20}),o.jsx("span",{className:"font-semibold",children:"Remplissage"})]}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[l,"%"]}),o.jsx("div",{className:"text-sm text-white/60",children:"13,3 carrés pleins"})]}),o.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[o.jsx(xW,{size:20}),o.jsx("span",{className:"font-semibold",children:"Mortalité"})]}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[12.5,"%"]}),o.jsx("div",{className:"text-sm text-white/60",children:"Taux moyen"})]}),o.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 mb-2",children:[o.jsx(d0,{size:20}),o.jsx("span",{className:"font-semibold",children:"Lots"})]}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[o.jsx("span",{children:"2503-042"}),o.jsx("span",{className:"text-xs text-white/60",children:"12 pochons"})]}),o.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[o.jsx("span",{children:"2503-078"}),o.jsx("span",{className:"text-xs text-white/60",children:"28 pochons"})]}),o.jsxs("div",{className:"flex items-center justify-between text-white/80",children:[o.jsx("span",{children:"2503-156"}),o.jsx("span",{className:"text-xs text-white/60",children:"36 pochons"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Is,{size:16}),o.jsxs("span",{children:["Lot: ",e.cells[0].batchNumber]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ro,{size:16}),o.jsxs("span",{children:["Taille: ",e.cells[0].oysterSize]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ro,{size:16}),o.jsxs("span",{children:["Exondations: ",e.cells[0].exondationCount]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ro,{size:16}),o.jsxs("span",{children:["Perches: ",e.cells[0].perchCount]})]})]})]}),o.jsx(Mye,{table:e})]})},Rye=({onTableSelect:e,onTableHover:t,hoveredTable:r,selectedTable:n,onTableUpdate:a})=>{const[i,s]=I.useState(Iye),[l,c]=I.useState(null),u=d=>{const f=i.map(h=>h.id===d.id?d:h);s(f),a(d)};return o.jsxs("div",{className:"space-y-6 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:[o.jsx(ji,{size:28,className:"text-cyan-400"}),o.jsx("h2",{children:"Tables de trempe"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.map(d=>o.jsx(Fye,{table:d,isHovered:(r==null?void 0:r.id)===d.id,isSelected:(n==null?void 0:n.id)===d.id,onClick:()=>{e(d),c(d)},onHover:f=>{f?t==null||t(d):t==null||t(null)}},d.id))}),l&&o.jsx(Dye,{table:l,onClose:()=>c(null),onTableUpdate:u})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ly={};ly.version="0.18.5";var CL=1252,Lye=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vA={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bA=function(e){Lye.indexOf(e)!=-1&&(CL=vA[0]=e)};function Bye(){bA(1252)}var vl=function(e){bA(e)};function yA(){vl(1200),Bye()}function eO(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function $ye(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function EL(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var lx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?$ye(e.slice(2)):t==254&&r==255?EL(e.slice(2)):t==65279?e.slice(1):e},Wv=function(t){return String.fromCharCode(t)},tO=function(t){return String.fromCharCode(t)},rd,od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E1(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=od.charAt(i)+od.charAt(s)+od.charAt(l)+od.charAt(c);return t}function co(e){var t="",r=0,n=0,a=0,i=0,s=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=od.indexOf(e.charAt(u++)),s=od.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),l=od.indexOf(e.charAt(u++)),n=(s&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=od.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var cr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),hu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function bd(e){return cr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function rO(e){return cr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var eo=function(t){return cr?hu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Xw(e){if(typeof ArrayBuffer>"u")return eo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Pd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zye(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function wA(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return wA(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var li=cr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:hu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Uye(e){for(var t=[],r=0,n=e.length+250,a=bd(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|l>>6&15|(s&3)<<4,a[r++]=128|l&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=bd(65535),n=65530)}return t.push(a.slice(0,r)),li(t)}var gs=/\u0000/g,cx=/[\u0001-\u0006]/g;function Ih(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function bl(e,t){var r=""+e;return r.length>=t?r:Zn("0",t-r.length)+r}function _A(e,t){var r=""+e;return r.length>=t?r:Zn(" ",t-r.length)+r}function cy(e,t){var r=""+e;return r.length>=t?r:r+Zn(" ",t-r.length)}function Hye(e,t){var r=""+Math.round(e);return r.length>=t?r:Zn("0",t-r.length)+r}function Wye(e,t){var r=""+e;return r.length>=t?r:Zn("0",t-r.length)+r}var nO=Math.pow(2,32);function Xf(e,t){if(e>nO||e<-nO)return Hye(e,t);var r=Math.round(e);return Wye(r,t)}function uy(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var aO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],q_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Vye(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Ht={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},iO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},qye={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dy(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=s)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function g0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=Jye(c,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var kL=new Date(1899,11,31,0,0,0),Gye=kL.getTime(),Yye=new Date(1900,2,1,0,0,0);function TL(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Yye&&(r+=24*60*60*1e3),(r-(Gye+(e.getTimezoneOffset()-kL.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function NA(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Xye(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Kye(e){var t=e<0?12:11,r=NA(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Qye(e){var t=NA(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function k1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Kye(e):t===10?r=e.toFixed(10).substr(0,12):r=Qye(e),NA(Xye(r.toUpperCase()))}function H0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):k1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vo(14,TL(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Jye(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Zye(e,t,r,n){var a="",i=0,s=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return q_[r.m-1][1];case 5:return q_[r.m-1][0];default:return q_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return aO[r.q][0];default:return aO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?bl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=bl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?bl(c,u):"";return d}function ld(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var OL=/%/g;function ewe(e,t,r){var n=t.replace(OL,""),a=t.length-n.length;return Xc(e,n,r*Math.pow(10,2*a))+Zn("%",a)}function twe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function PL(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+PL(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var DL=/# (\?+)( ?)\/( ?)(\d+)/;function rwe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(s===0?Zn(" ",e[1].length+1+e[4].length):_A(s,e[1].length)+e[2]+"/"+e[3]+bl(l,e[4].length))}function nwe(e,t,r){return r+(t===0?"":""+t)+Zn(" ",e[1].length+2+e[4].length)}var IL=/^#*0*\.([0#]+)/,ML=/\).*[0#]/,FL=/\(###\) ###\\?-####/;function ss(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function sO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function oO(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function awe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function iwe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ao(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ML)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ao("n",n,r):"("+Ao("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return twe(e,t,r);if(t.indexOf("%")!==-1)return ewe(e,t,r);if(t.indexOf("E")!==-1)return PL(t,r);if(t.charCodeAt(0)===36)return"$"+Ao(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Xf(c,t.length);if(t.match(/^[#?]+$/))return a=Xf(r,0),a==="0"&&(a=""),a.length>t.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(DL))return rwe(i,c,u);if(t.match(/^#+0+$/))return u+Xf(c,t.length-t.indexOf("0"));if(i=t.match(IL))return a=sO(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ss(i[1])).replace(/\.$/,"."+ss(i[1])).replace(/\.(\d*)$/,function(m,x){return"."+x+Zn("0",ss(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+sO(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ld(Xf(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ao(e,t,-r):ld(""+(Math.floor(r)+awe(r,i[1].length)))+"."+bl(oO(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ao(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ih(Ao(e,t.replace(/[\\-]/g,""),r)),s=0,Ih(Ih(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(FL))return a=Ao(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=dy(c,Math.pow(10,s)-1,!1),a=""+u,d=Xc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=cy(l[2],s),d.length<i[4].length&&(d=ss(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=dy(c,Math.pow(10,s)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?_A(l[1],s)+i[2]+"/"+i[3]+cy(l[2],s):Zn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Xf(r,0),t.length<=a.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ss(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=oO(r,i[1].length),r<0?"-"+Ao(e,t,-r):ld(iwe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?bl(0,3-m.length):"")+m})+"."+bl(s,i[1].length);switch(t){case"###,##0.00":return Ao(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=ld(Xf(c,0));return p!=="0"?u+p:"";case"###,###.00":return Ao(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ao(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function swe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function owe(e,t,r){var n=t.replace(OL,""),a=t.length-n.length;return Xc(e,n,r*Math.pow(10,2*a))+Zn("%",a)}function RL(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+RL(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Rl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ML)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Rl("n",n,r):"("+Rl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return swe(e,t,r);if(t.indexOf("%")!==-1)return owe(e,t,r);if(t.indexOf("E")!==-1)return RL(t,r);if(t.charCodeAt(0)===36)return"$"+Rl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+bl(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(DL))return nwe(i,c,u);if(t.match(/^#+0+$/))return u+bl(c,t.length-t.indexOf("0"));if(i=t.match(IL))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ss(i[1])).replace(/\.$/,"."+ss(i[1])),a=a.replace(/\.(\d*)$/,function(m,x){return"."+x+Zn("0",ss(i[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+ld(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Rl(e,t,-r):ld(""+r)+"."+Zn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Rl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ih(Rl(e,t.replace(/[\\-]/g,""),r)),s=0,Ih(Ih(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(FL))return a=Rl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=dy(c,Math.pow(10,s)-1,!1),a=""+u,d=Xc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=cy(l[2],s),d.length<i[4].length&&(d=ss(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=dy(c,Math.pow(10,s)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?_A(l[1],s)+i[2]+"/"+i[3]+cy(l[2],s):Zn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ss(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ss(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Rl(e,t,-r):ld(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?bl(0,3-m.length):"")+m})+"."+bl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=ld(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Rl(e,t.slice(0,t.lastIndexOf(".")),r)+ss(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Xc(e,t,r){return(r|0)===r?Rl(e,t,r):Ao(e,t,r)}function lwe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var LL=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Xp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":uy(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(LL))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function cwe(e,t,r,n){for(var a=[],i="",s=0,l="",c="t",u,d,f,h="H";s<e.length;)switch(l=e.charAt(s)){case"G":if(!uy(e,s))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=g0(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=g0(t,r),u==null))return"";for(i=l;++s<e.length&&e.charAt(s).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var x={t:l,v:l};if(u==null&&(u=g0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(u!=null&&(x.v=u.H>=12?"下午":"上午"),x.t="T",s+=5,h="h"):(x.t="t",++s),u==null&&x.t==="T")return"";a[a.length]=x,c=l;break;case"[":for(i=l;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(LL)){if(u==null&&(u=g0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Xp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++s<e.length&&(l=e.charAt(s))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++s<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(s))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++s)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++s;break}var g=0,v=0,b;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,c="h",g<1&&(g=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[s].v.match(/[Hh]/)&&(g=1),g<2&&a[s].v.match(/[Mm]/)&&(g=2),g<3&&a[s].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",_;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Zye(a[s].t.charCodeAt(0),a[s].v,u,v),a[s].t="t";break;case"n":case"?":for(_=s+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[s].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[s].v,s=_-1;break;case"G":a[s].t="t",a[s].v=H0(t,r);break}var N="",S,j;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,j=Xc("n",y,S)):(S=t<0&&n>1?-t:t,j=Xc("n",y,S),S<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),_=j.length-1;var A=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){A=s;break}var T=a.length;if(A===a.length&&j.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(_>=a[s].v.length-1?(_-=a[s].v.length,a[s].v=j.substr(_+1,a[s].v.length)):_<0?a[s].v="":(a[s].v=j.substr(0,_+1),_=-1),a[s].t="t",T=s);_>=0&&T<a.length&&(a[T].v=j.substr(0,_+1)+a[T].v)}else if(A!==a.length&&j.indexOf("E")===-1){for(_=j.indexOf(".")-1,s=A;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")-1:a[s].v.length-1,N=a[s].v.substr(d+1);d>=0;--d)_>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(N=j.charAt(_--)+N);a[s].v=N,a[s].t="t",T=s}for(_>=0&&T<a.length&&(a[T].v=j.substr(0,_+1)+a[T].v),_=j.indexOf(".")+1,s=A;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==A)){for(d=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")+1:0,N=a[s].v.substr(0,d);d<a[s].v.length;++d)_<j.length&&(N+=j.charAt(_++));a[s].v=N,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(S=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Xc(a[s].t,a[s].v,S),a[s].t="t");var F="";for(s=0;s!==a.length;++s)a[s]!=null&&(F+=a[s].v);return F}var lO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function cO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function uwe(e,t){var r=lwe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(lO),l=r[1].match(lO);return cO(t,s)?[n,r[0]]:cO(t,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,i]}function Vo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ht)[e],n==null&&(n=r.table&&r.table[iO[e]]||Ht[iO[e]]),n==null&&(n=qye[e]||"General");break}if(uy(n,0))return H0(t,r);t instanceof Date&&(t=TL(t,r.date1904));var a=uwe(n,t);if(uy(a[1]))return H0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return cwe(a[1],t,r,a[0])}function Kc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ht[r]==null){t<0&&(t=r);continue}if(Ht[r]==e){t=r;break}}t<0&&(t=391)}return Ht[t]=e,t}function Kw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Kc(e[t],t)}function Kp(){Ht=Vye()}var dwe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},BL=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function fwe(e){var t=typeof e=="number"?Ht[e]:e;return t=t.replace(BL,"(\\d+)"),new RegExp("^"+t+"$")}function hwe(e,t,r){var n=-1,a=-1,i=-1,s=-1,l=-1,c=-1;(t.match(BL)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var pwe=function(){var e={};e.version="1.2.0";function t(){for(var j=0,A=new Array(256),T=0;T!=256;++T)j=T,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,A[T]=j;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(j){var A=0,T=0,F=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)O[F]=j[F];for(F=0;F!=256;++F)for(T=j[F],A=256+F;A<4096;A+=256)T=O[A]=T>>>8^j[T&255];var E=[];for(F=1;F!=16;++F)E[F-1]=typeof Int32Array<"u"?O.subarray(F*256,F*256+256):O.slice(F*256,F*256+256);return E}var a=n(r),i=a[0],s=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],m=a[9],x=a[10],g=a[11],v=a[12],b=a[13],y=a[14];function _(j,A){for(var T=A^-1,F=0,O=j.length;F<O;)T=T>>>8^r[(T^j.charCodeAt(F++))&255];return~T}function N(j,A){for(var T=A^-1,F=j.length-15,O=0;O<F;)T=y[j[O++]^T&255]^b[j[O++]^T>>8&255]^v[j[O++]^T>>16&255]^g[j[O++]^T>>>24]^x[j[O++]]^m[j[O++]]^p[j[O++]]^h[j[O++]]^f[j[O++]]^d[j[O++]]^u[j[O++]]^c[j[O++]]^l[j[O++]]^s[j[O++]]^i[j[O++]]^r[j[O++]];for(F+=15;O<F;)T=T>>>8^r[(T^j[O++])&255];return~T}function S(j,A){for(var T=A^-1,F=0,O=j.length,E=0,L=0;F<O;)E=j.charCodeAt(F++),E<128?T=T>>>8^r[(T^E)&255]:E<2048?(T=T>>>8^r[(T^(192|E>>6&31))&255],T=T>>>8^r[(T^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,L=j.charCodeAt(F++)&1023,T=T>>>8^r[(T^(240|E>>8&7))&255],T=T>>>8^r[(T^(128|E>>2&63))&255],T=T>>>8^r[(T^(128|L>>6&15|(E&3)<<4))&255],T=T>>>8^r[(T^(128|L&63))&255]):(T=T>>>8^r[(T^(224|E>>12&15))&255],T=T>>>8^r[(T^(128|E>>6&63))&255],T=T>>>8^r[(T^(128|E&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=N,e.str=S,e}(),Mt=function(){var t={};t.version="1.2.1";function r(ee,ge){for(var ue=ee.split("/"),de=ge.split("/"),xe=0,be=0,Re=Math.min(ue.length,de.length);xe<Re;++xe){if(be=ue[xe].length-de[xe].length)return be;if(ue[xe]!=de[xe])return ue[xe]<de[xe]?-1:1}return ue.length-de.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var ge=ee.lastIndexOf("/");return ge===-1?ee:ee.slice(0,ge+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var ge=ee.lastIndexOf("/");return ge===-1?ee:ee.slice(ge+1)}function i(ee,ge){typeof ge=="string"&&(ge=new Date(ge));var ue=ge.getHours();ue=ue<<6|ge.getMinutes(),ue=ue<<5|ge.getSeconds()>>>1,ee.write_shift(2,ue);var de=ge.getFullYear()-1980;de=de<<4|ge.getMonth()+1,de=de<<5|ge.getDate(),ee.write_shift(2,de)}function s(ee){var ge=ee.read_shift(2)&65535,ue=ee.read_shift(2)&65535,de=new Date,xe=ue&31;ue>>>=5;var be=ue&15;ue>>>=4,de.setMilliseconds(0),de.setFullYear(ue+1980),de.setMonth(be-1),de.setDate(xe);var Re=ge&31;ge>>>=5;var Ve=ge&63;return ge>>>=6,de.setHours(ge),de.setMinutes(Ve),de.setSeconds(Re<<1),de}function l(ee){_i(ee,0);for(var ge={},ue=0;ee.l<=ee.length-4;){var de=ee.read_shift(2),xe=ee.read_shift(2),be=ee.l+xe,Re={};switch(de){case 21589:ue=ee.read_shift(1),ue&1&&(Re.mtime=ee.read_shift(4)),xe>5&&(ue&2&&(Re.atime=ee.read_shift(4)),ue&4&&(Re.ctime=ee.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}ee.l=be,ge[de]=Re}return ge}var c;function u(){return c||(c={})}function d(ee,ge){if(ee[0]==80&&ee[1]==75)return Cn(ee,ge);if((ee[0]|32)==109&&(ee[1]|32)==105)return po(ee,ge);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var ue=3,de=512,xe=0,be=0,Re=0,Ve=0,Fe=0,Ue=[],He=ee.slice(0,512);_i(He,0);var at=f(He);switch(ue=at[0],ue){case 3:de=512;break;case 4:de=4096;break;case 0:if(at[1]==0)return Cn(ee,ge);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}de!==512&&(He=ee.slice(0,de),_i(He,28));var ot=ee.slice(0,de);h(He,ue);var gt=He.read_shift(4,"i");if(ue===3&&gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+gt);He.l+=4,Re=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Ve=He.read_shift(4,"i"),xe=He.read_shift(4,"i"),Fe=He.read_shift(4,"i"),be=He.read_shift(4,"i");for(var st=-1,xt=0;xt<109&&(st=He.read_shift(4,"i"),!(st<0));++xt)Ue[xt]=st;var Yt=p(ee,de);g(Fe,be,Yt,de,Ue);var zr=b(Yt,Re,Ue,de);zr[Re].name="!Directory",xe>0&&Ve!==L&&(zr[Ve].name="!MiniFAT"),zr[Ue[0]].name="!FAT",zr.fat_addrs=Ue,zr.ssz=de;var an={},ya=[],Zo=[],_c=[];y(Re,zr,Yt,ya,xe,an,Zo,Ve),m(Zo,_c,ya),ya.shift();var Tl={FileIndex:Zo,FullPaths:_c};return ge&&ge.raw&&(Tl.raw={header:ot,sectors:Yt}),Tl}function f(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(B,"Header Signature: "),ee.l+=16;var ge=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ge]}function h(ee,ge){var ue=9;switch(ee.l+=2,ue=ee.read_shift(2)){case 9:if(ge!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(ge!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,ge){for(var ue=Math.ceil(ee.length/ge)-1,de=[],xe=1;xe<ue;++xe)de[xe-1]=ee.slice(xe*ge,(xe+1)*ge);return de[ue-1]=ee.slice(ue*ge),de}function m(ee,ge,ue){for(var de=0,xe=0,be=0,Re=0,Ve=0,Fe=ue.length,Ue=[],He=[];de<Fe;++de)Ue[de]=He[de]=de,ge[de]=ue[de];for(;Ve<He.length;++Ve)de=He[Ve],xe=ee[de].L,be=ee[de].R,Re=ee[de].C,Ue[de]===de&&(xe!==-1&&Ue[xe]!==xe&&(Ue[de]=Ue[xe]),be!==-1&&Ue[be]!==be&&(Ue[de]=Ue[be])),Re!==-1&&(Ue[Re]=de),xe!==-1&&de!=Ue[de]&&(Ue[xe]=Ue[de],He.lastIndexOf(xe)<Ve&&He.push(xe)),be!==-1&&de!=Ue[de]&&(Ue[be]=Ue[de],He.lastIndexOf(be)<Ve&&He.push(be));for(de=1;de<Fe;++de)Ue[de]===de&&(be!==-1&&Ue[be]!==be?Ue[de]=Ue[be]:xe!==-1&&Ue[xe]!==xe&&(Ue[de]=Ue[xe]));for(de=1;de<Fe;++de)if(ee[de].type!==0){if(Ve=de,Ve!=Ue[Ve])do Ve=Ue[Ve],ge[de]=ge[Ve]+"/"+ge[de];while(Ve!==0&&Ue[Ve]!==-1&&Ve!=Ue[Ve]);Ue[de]=-1}for(ge[0]+="/",de=1;de<Fe;++de)ee[de].type!==2&&(ge[de]+="/")}function x(ee,ge,ue){for(var de=ee.start,xe=ee.size,be=[],Re=de;ue&&xe>0&&Re>=0;)be.push(ge.slice(Re*E,Re*E+E)),xe-=E,Re=c0(ue,Re*4);return be.length===0?Xe(0):li(be).slice(0,ee.size)}function g(ee,ge,ue,de,xe){var be=L;if(ee===L){if(ge!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Re=ue[ee],Ve=(de>>>2)-1;if(!Re)return;for(var Fe=0;Fe<Ve&&(be=c0(Re,Fe*4))!==L;++Fe)xe.push(be);g(c0(Re,de-4),ge-1,ue,de,xe)}}function v(ee,ge,ue,de,xe){var be=[],Re=[];xe||(xe=[]);var Ve=de-1,Fe=0,Ue=0;for(Fe=ge;Fe>=0;){xe[Fe]=!0,be[be.length]=Fe,Re.push(ee[Fe]);var He=ue[Math.floor(Fe*4/de)];if(Ue=Fe*4&Ve,de<4+Ue)throw new Error("FAT boundary crossed: "+Fe+" 4 "+de);if(!ee[He])break;Fe=c0(ee[He],Ue)}return{nodes:be,data:wO([Re])}}function b(ee,ge,ue,de){var xe=ee.length,be=[],Re=[],Ve=[],Fe=[],Ue=de-1,He=0,at=0,ot=0,gt=0;for(He=0;He<xe;++He)if(Ve=[],ot=He+ge,ot>=xe&&(ot-=xe),!Re[ot]){Fe=[];var st=[];for(at=ot;at>=0;){st[at]=!0,Re[at]=!0,Ve[Ve.length]=at,Fe.push(ee[at]);var xt=ue[Math.floor(at*4/de)];if(gt=at*4&Ue,de<4+gt)throw new Error("FAT boundary crossed: "+at+" 4 "+de);if(!ee[xt]||(at=c0(ee[xt],gt),st[at]))break}be[ot]={nodes:Ve,data:wO([Fe])}}return be}function y(ee,ge,ue,de,xe,be,Re,Ve){for(var Fe=0,Ue=de.length?2:0,He=ge[ee].data,at=0,ot=0,gt;at<He.length;at+=128){var st=He.slice(at,at+128);_i(st,64),ot=st.read_shift(2),gt=TA(st,0,ot-Ue),de.push(gt);var xt={name:gt,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Yt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Yt!==0&&(xt.ct=_(st,st.l-8));var zr=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);zr!==0&&(xt.mt=_(st,st.l-8)),xt.start=st.read_shift(4,"i"),xt.size=st.read_shift(4,"i"),xt.size<0&&xt.start<0&&(xt.size=xt.type=0,xt.start=L,xt.name=""),xt.type===5?(Fe=xt.start,xe>0&&Fe!==L&&(ge[Fe].name="!StreamData")):xt.size>=4096?(xt.storage="fat",ge[xt.start]===void 0&&(ge[xt.start]=v(ue,xt.start,ge.fat_addrs,ge.ssz)),ge[xt.start].name=xt.name,xt.content=ge[xt.start].data.slice(0,xt.size)):(xt.storage="minifat",xt.size<0?xt.size=0:Fe!==L&&xt.start!==L&&ge[Fe]&&(xt.content=x(xt,ge[Fe].data,(ge[Ve]||{}).data))),xt.content&&_i(xt.content,0),be[gt]=xt,Re.push(xt)}}function _(ee,ge){return new Date((Js(ee,ge+4)/1e7*Math.pow(2,32)+Js(ee,ge)/1e7-11644473600)*1e3)}function N(ee,ge){return u(),d(c.readFileSync(ee),ge)}function S(ee,ge){var ue=ge&&ge.type;switch(ue||cr&&Buffer.isBuffer(ee)&&(ue="buffer"),ue||"base64"){case"file":return N(ee,ge);case"base64":return d(eo(co(ee)),ge);case"binary":return d(eo(ee),ge)}return d(ee,ge)}function j(ee,ge){var ue=ge||{},de=ue.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=de+"/",ee.FileIndex[0]={name:de,type:5}),ue.CLSID&&(ee.FileIndex[0].clsid=ue.CLSID),A(ee)}function A(ee){var ge="Sh33tJ5";if(!Mt.find(ee,"/"+ge)){var ue=Xe(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,ee.FileIndex.push({name:ge,type:2,content:ue,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ge),T(ee)}}function T(ee,ge){j(ee);for(var ue=!1,de=!1,xe=ee.FullPaths.length-1;xe>=0;--xe){var be=ee.FileIndex[xe];switch(be.type){case 0:de?ue=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(be.R*be.L*be.C)&&(ue=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!ge)){var Re=new Date(1987,1,19),Ve=0,Fe=Object.create?Object.create(null):{},Ue=[];for(xe=0;xe<ee.FullPaths.length;++xe)Fe[ee.FullPaths[xe]]=!0,ee.FileIndex[xe].type!==0&&Ue.push([ee.FullPaths[xe],ee.FileIndex[xe]]);for(xe=0;xe<Ue.length;++xe){var He=n(Ue[xe][0]);de=Fe[He],de||(Ue.push([He,{name:a(He).replace("/",""),type:1,clsid:z,ct:Re,mt:Re,content:null}]),Fe[He]=!0)}for(Ue.sort(function(gt,st){return r(gt[0],st[0])}),ee.FullPaths=[],ee.FileIndex=[],xe=0;xe<Ue.length;++xe)ee.FullPaths[xe]=Ue[xe][0],ee.FileIndex[xe]=Ue[xe][1];for(xe=0;xe<Ue.length;++xe){var at=ee.FileIndex[xe],ot=ee.FullPaths[xe];if(at.name=a(ot).replace("/",""),at.L=at.R=at.C=-(at.color=1),at.size=at.content?at.content.length:0,at.start=0,at.clsid=at.clsid||z,xe===0)at.C=Ue.length>1?1:-1,at.size=0,at.type=5;else if(ot.slice(-1)=="/"){for(Ve=xe+1;Ve<Ue.length&&n(ee.FullPaths[Ve])!=ot;++Ve);for(at.C=Ve>=Ue.length?-1:Ve,Ve=xe+1;Ve<Ue.length&&n(ee.FullPaths[Ve])!=n(ot);++Ve);at.R=Ve>=Ue.length?-1:Ve,at.type=1}else n(ee.FullPaths[xe+1]||"")==n(ot)&&(at.R=xe+1),at.type=2}}}function F(ee,ge){var ue=ge||{};if(ue.fileType=="mad")return Bt(ee,ue);switch(T(ee),ue.fileType){case"zip":return Jo(ee,ue)}var de=function(gt){for(var st=0,xt=0,Yt=0;Yt<gt.FileIndex.length;++Yt){var zr=gt.FileIndex[Yt];if(zr.content){var an=zr.content.length;an>0&&(an<4096?st+=an+63>>6:xt+=an+511>>9)}}for(var ya=gt.FullPaths.length+3>>2,Zo=st+7>>3,_c=st+127>>7,Tl=Zo+xt+ya+_c,el=Tl+127>>7,Ol=el<=109?0:Math.ceil((el-109)/127);Tl+el+Ol+127>>7>el;)Ol=++el<=109?0:Math.ceil((el-109)/127);var zs=[1,Ol,el,_c,ya,xt,st,0];return gt.FileIndex[0].size=st<<6,zs[7]=(gt.FileIndex[0].start=zs[0]+zs[1]+zs[2]+zs[3]+zs[4]+zs[5])+(zs[6]+7>>3),zs}(ee),xe=Xe(de[7]<<9),be=0,Re=0;{for(be=0;be<8;++be)xe.write_shift(1,G[be]);for(be=0;be<8;++be)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),be=0;be<3;++be)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,de[2]),xe.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:L),xe.write_shift(4,de[3]),xe.write_shift(-4,de[1]?de[0]-1:L),xe.write_shift(4,de[1]),be=0;be<109;++be)xe.write_shift(-4,be<de[2]?de[1]+be:-1)}if(de[1])for(Re=0;Re<de[1];++Re){for(;be<236+Re*127;++be)xe.write_shift(-4,be<de[2]?de[1]+be:-1);xe.write_shift(-4,Re===de[1]-1?L:Re+1)}var Ve=function(gt){for(Re+=gt;be<Re-1;++be)xe.write_shift(-4,be+1);gt&&(++be,xe.write_shift(-4,L))};for(Re=be=0,Re+=de[1];be<Re;++be)xe.write_shift(-4,V.DIFSECT);for(Re+=de[2];be<Re;++be)xe.write_shift(-4,V.FATSECT);Ve(de[3]),Ve(de[4]);for(var Fe=0,Ue=0,He=ee.FileIndex[0];Fe<ee.FileIndex.length;++Fe)He=ee.FileIndex[Fe],He.content&&(Ue=He.content.length,!(Ue<4096)&&(He.start=Re,Ve(Ue+511>>9)));for(Ve(de[6]+7>>3);xe.l&511;)xe.write_shift(-4,V.ENDOFCHAIN);for(Re=be=0,Fe=0;Fe<ee.FileIndex.length;++Fe)He=ee.FileIndex[Fe],He.content&&(Ue=He.content.length,!(!Ue||Ue>=4096)&&(He.start=Re,Ve(Ue+63>>6)));for(;xe.l&511;)xe.write_shift(-4,V.ENDOFCHAIN);for(be=0;be<de[4]<<2;++be){var at=ee.FullPaths[be];if(!at||at.length===0){for(Fe=0;Fe<17;++Fe)xe.write_shift(4,0);for(Fe=0;Fe<3;++Fe)xe.write_shift(4,-1);for(Fe=0;Fe<12;++Fe)xe.write_shift(4,0);continue}He=ee.FileIndex[be],be===0&&(He.start=He.size?He.start-1:L);var ot=be===0&&ue.root||He.name;if(Ue=2*(ot.length+1),xe.write_shift(64,ot,"utf16le"),xe.write_shift(2,Ue),xe.write_shift(1,He.type),xe.write_shift(1,He.color),xe.write_shift(-4,He.L),xe.write_shift(-4,He.R),xe.write_shift(-4,He.C),He.clsid)xe.write_shift(16,He.clsid,"hex");else for(Fe=0;Fe<4;++Fe)xe.write_shift(4,0);xe.write_shift(4,He.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,He.start),xe.write_shift(4,He.size),xe.write_shift(4,0)}for(be=1;be<ee.FileIndex.length;++be)if(He=ee.FileIndex[be],He.size>=4096)if(xe.l=He.start+1<<9,cr&&Buffer.isBuffer(He.content))He.content.copy(xe,xe.l,0,He.size),xe.l+=He.size+511&-512;else{for(Fe=0;Fe<He.size;++Fe)xe.write_shift(1,He.content[Fe]);for(;Fe&511;++Fe)xe.write_shift(1,0)}for(be=1;be<ee.FileIndex.length;++be)if(He=ee.FileIndex[be],He.size>0&&He.size<4096)if(cr&&Buffer.isBuffer(He.content))He.content.copy(xe,xe.l,0,He.size),xe.l+=He.size+63&-64;else{for(Fe=0;Fe<He.size;++Fe)xe.write_shift(1,He.content[Fe]);for(;Fe&63;++Fe)xe.write_shift(1,0)}if(cr)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function O(ee,ge){var ue=ee.FullPaths.map(function(Fe){return Fe.toUpperCase()}),de=ue.map(function(Fe){var Ue=Fe.split("/");return Ue[Ue.length-(Fe.slice(-1)=="/"?2:1)]}),xe=!1;ge.charCodeAt(0)===47?(xe=!0,ge=ue[0].slice(0,-1)+ge):xe=ge.indexOf("/")!==-1;var be=ge.toUpperCase(),Re=xe===!0?ue.indexOf(be):de.indexOf(be);if(Re!==-1)return ee.FileIndex[Re];var Ve=!be.match(cx);for(be=be.replace(gs,""),Ve&&(be=be.replace(cx,"!")),Re=0;Re<ue.length;++Re)if((Ve?ue[Re].replace(cx,"!"):ue[Re]).replace(gs,"")==be||(Ve?de[Re].replace(cx,"!"):de[Re]).replace(gs,"")==be)return ee.FileIndex[Re];return null}var E=64,L=-2,B="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(ee,ge,ue){u();var de=F(ee,ue);c.writeFileSync(ge,de)}function U(ee){for(var ge=new Array(ee.length),ue=0;ue<ee.length;++ue)ge[ue]=String.fromCharCode(ee[ue]);return ge.join("")}function ae(ee,ge){var ue=F(ee,ge);switch(ge&&ge.type||"buffer"){case"file":return u(),c.writeFileSync(ge.filename,ue),ue;case"binary":return typeof ue=="string"?ue:U(ue);case"base64":return E1(typeof ue=="string"?ue:U(ue));case"buffer":if(cr)return Buffer.isBuffer(ue)?ue:hu(ue);case"array":return typeof ue=="string"?eo(ue):ue}return ue}var he;function k(ee){try{var ge=ee.InflateRaw,ue=new ge;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)he=ee;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function P(ee,ge){if(!he)return Nr(ee,ge);var ue=he.InflateRaw,de=new ue,xe=de._processChunk(ee.slice(ee.l),de._finishFlushFlag);return ee.l+=de.bytesRead,xe}function R(ee){return he?he.deflateRawSync(ee):ft(ee)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(ee){var ge=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ge>>16|ge>>8|ge)&255}for(var re=typeof Uint8Array<"u",ve=re?new Uint8Array(256):[],Ce=0;Ce<256;++Ce)ve[Ce]=fe(Ce);function q(ee,ge){var ue=ve[ee&255];return ge<=8?ue>>>8-ge:(ue=ue<<8|ve[ee>>8&255],ge<=16?ue>>>16-ge:(ue=ue<<8|ve[ee>>16&255],ue>>>24-ge))}function Me(ee,ge){var ue=ge&7,de=ge>>>3;return(ee[de]|(ue<=6?0:ee[de+1]<<8))>>>ue&3}function Le(ee,ge){var ue=ge&7,de=ge>>>3;return(ee[de]|(ue<=5?0:ee[de+1]<<8))>>>ue&7}function _e(ee,ge){var ue=ge&7,de=ge>>>3;return(ee[de]|(ue<=4?0:ee[de+1]<<8))>>>ue&15}function ne(ee,ge){var ue=ge&7,de=ge>>>3;return(ee[de]|(ue<=3?0:ee[de+1]<<8))>>>ue&31}function De(ee,ge){var ue=ge&7,de=ge>>>3;return(ee[de]|(ue<=1?0:ee[de+1]<<8))>>>ue&127}function se(ee,ge,ue){var de=ge&7,xe=ge>>>3,be=(1<<ue)-1,Re=ee[xe]>>>de;return ue<8-de||(Re|=ee[xe+1]<<8-de,ue<16-de)||(Re|=ee[xe+2]<<16-de,ue<24-de)||(Re|=ee[xe+3]<<24-de),Re&be}function ce(ee,ge,ue){var de=ge&7,xe=ge>>>3;return de<=5?ee[xe]|=(ue&7)<<de:(ee[xe]|=ue<<de&255,ee[xe+1]=(ue&7)>>8-de),ge+3}function ye(ee,ge,ue){var de=ge&7,xe=ge>>>3;return ue=(ue&1)<<de,ee[xe]|=ue,ge+1}function Pe(ee,ge,ue){var de=ge&7,xe=ge>>>3;return ue<<=de,ee[xe]|=ue&255,ue>>>=8,ee[xe+1]=ue,ge+8}function Te(ee,ge,ue){var de=ge&7,xe=ge>>>3;return ue<<=de,ee[xe]|=ue&255,ue>>>=8,ee[xe+1]=ue&255,ee[xe+2]=ue>>>8,ge+16}function Ne(ee,ge){var ue=ee.length,de=2*ue>ge?2*ue:ge+5,xe=0;if(ue>=ge)return ee;if(cr){var be=rO(de);if(ee.copy)ee.copy(be);else for(;xe<ee.length;++xe)be[xe]=ee[xe];return be}else if(re){var Re=new Uint8Array(de);if(Re.set)Re.set(ee);else for(;xe<ue;++xe)Re[xe]=ee[xe];return Re}return ee.length=de,ee}function We(ee){for(var ge=new Array(ee),ue=0;ue<ee;++ue)ge[ue]=0;return ge}function tt(ee,ge,ue){var de=1,xe=0,be=0,Re=0,Ve=0,Fe=ee.length,Ue=re?new Uint16Array(32):We(32);for(be=0;be<32;++be)Ue[be]=0;for(be=Fe;be<ue;++be)ee[be]=0;Fe=ee.length;var He=re?new Uint16Array(Fe):We(Fe);for(be=0;be<Fe;++be)Ue[xe=ee[be]]++,de<xe&&(de=xe),He[be]=0;for(Ue[0]=0,be=1;be<=de;++be)Ue[be+16]=Ve=Ve+Ue[be-1]<<1;for(be=0;be<Fe;++be)Ve=ee[be],Ve!=0&&(He[be]=Ue[Ve+16]++);var at=0;for(be=0;be<Fe;++be)if(at=ee[be],at!=0)for(Ve=q(He[be],de)>>de-at,Re=(1<<de+4-at)-1;Re>=0;--Re)ge[Ve|Re<<at]=at&15|be<<4;return de}var ht=re?new Uint16Array(512):We(512),Nt=re?new Uint16Array(32):We(32);if(!re){for(var Ot=0;Ot<512;++Ot)ht[Ot]=0;for(Ot=0;Ot<32;++Ot)Nt[Ot]=0}(function(){for(var ee=[],ge=0;ge<32;ge++)ee.push(5);tt(ee,Nt,32);var ue=[];for(ge=0;ge<=143;ge++)ue.push(8);for(;ge<=255;ge++)ue.push(9);for(;ge<=279;ge++)ue.push(7);for(;ge<=287;ge++)ue.push(8);tt(ue,ht,288)})();var Et=function(){for(var ge=re?new Uint8Array(32768):[],ue=0,de=0;ue<oe.length-1;++ue)for(;de<oe[ue+1];++de)ge[de]=ue;for(;de<32768;++de)ge[de]=29;var xe=re?new Uint8Array(259):[];for(ue=0,de=0;ue<X.length-1;++ue)for(;de<X[ue+1];++de)xe[de]=ue;function be(Ve,Fe){for(var Ue=0;Ue<Ve.length;){var He=Math.min(65535,Ve.length-Ue),at=Ue+He==Ve.length;for(Fe.write_shift(1,+at),Fe.write_shift(2,He),Fe.write_shift(2,~He&65535);He-- >0;)Fe[Fe.l++]=Ve[Ue++]}return Fe.l}function Re(Ve,Fe){for(var Ue=0,He=0,at=re?new Uint16Array(32768):[];He<Ve.length;){var ot=Math.min(65535,Ve.length-He);if(ot<10){for(Ue=ce(Fe,Ue,+(He+ot==Ve.length)),Ue&7&&(Ue+=8-(Ue&7)),Fe.l=Ue/8|0,Fe.write_shift(2,ot),Fe.write_shift(2,~ot&65535);ot-- >0;)Fe[Fe.l++]=Ve[He++];Ue=Fe.l*8;continue}Ue=ce(Fe,Ue,+(He+ot==Ve.length)+2);for(var gt=0;ot-- >0;){var st=Ve[He];gt=(gt<<5^st)&32767;var xt=-1,Yt=0;if((xt=at[gt])&&(xt|=He&-32768,xt>He&&(xt-=32768),xt<He))for(;Ve[xt+Yt]==Ve[He+Yt]&&Yt<250;)++Yt;if(Yt>2){st=xe[Yt],st<=22?Ue=Pe(Fe,Ue,ve[st+1]>>1)-1:(Pe(Fe,Ue,3),Ue+=5,Pe(Fe,Ue,ve[st-23]>>5),Ue+=3);var zr=st<8?0:st-4>>2;zr>0&&(Te(Fe,Ue,Yt-X[st]),Ue+=zr),st=ge[He-xt],Ue=Pe(Fe,Ue,ve[st]>>3),Ue-=3;var an=st<4?0:st-2>>1;an>0&&(Te(Fe,Ue,He-xt-oe[st]),Ue+=an);for(var ya=0;ya<Yt;++ya)at[gt]=He&32767,gt=(gt<<5^Ve[He])&32767,++He;ot-=Yt-1}else st<=143?st=st+48:Ue=ye(Fe,Ue,1),Ue=Pe(Fe,Ue,ve[st]),at[gt]=He&32767,++He}Ue=Pe(Fe,Ue,0)-1}return Fe.l=(Ue+7)/8|0,Fe.l}return function(Fe,Ue){return Fe.length<8?be(Fe,Ue):Re(Fe,Ue)}}();function ft(ee){var ge=Xe(50+Math.floor(ee.length*1.1)),ue=Et(ee,ge);return ge.slice(0,ue)}var it=re?new Uint16Array(32768):We(32768),Fr=re?new Uint16Array(32768):We(32768),Dt=re?new Uint16Array(128):We(128),na=1,_r=1;function vn(ee,ge){var ue=ne(ee,ge)+257;ge+=5;var de=ne(ee,ge)+1;ge+=5;var xe=_e(ee,ge)+4;ge+=4;for(var be=0,Re=re?new Uint8Array(19):We(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Fe=1,Ue=re?new Uint8Array(8):We(8),He=re?new Uint8Array(8):We(8),at=Re.length,ot=0;ot<xe;++ot)Re[H[ot]]=be=Le(ee,ge),Fe<be&&(Fe=be),Ue[be]++,ge+=3;var gt=0;for(Ue[0]=0,ot=1;ot<=Fe;++ot)He[ot]=gt=gt+Ue[ot-1]<<1;for(ot=0;ot<at;++ot)(gt=Re[ot])!=0&&(Ve[ot]=He[gt]++);var st=0;for(ot=0;ot<at;++ot)if(st=Re[ot],st!=0){gt=ve[Ve[ot]]>>8-st;for(var xt=(1<<7-st)-1;xt>=0;--xt)Dt[gt|xt<<st]=st&7|ot<<3}var Yt=[];for(Fe=1;Yt.length<ue+de;)switch(gt=Dt[De(ee,ge)],ge+=gt&7,gt>>>=3){case 16:for(be=3+Me(ee,ge),ge+=2,gt=Yt[Yt.length-1];be-- >0;)Yt.push(gt);break;case 17:for(be=3+Le(ee,ge),ge+=3;be-- >0;)Yt.push(0);break;case 18:for(be=11+De(ee,ge),ge+=7;be-- >0;)Yt.push(0);break;default:Yt.push(gt),Fe<gt&&(Fe=gt);break}var zr=Yt.slice(0,ue),an=Yt.slice(ue);for(ot=ue;ot<286;++ot)zr[ot]=0;for(ot=de;ot<30;++ot)an[ot]=0;return na=tt(zr,it,286),_r=tt(an,Fr,30),ge}function fo(ee,ge){if(ee[0]==3&&!(ee[1]&3))return[bd(ge),2];for(var ue=0,de=0,xe=rO(ge||1<<18),be=0,Re=xe.length>>>0,Ve=0,Fe=0;!(de&1);){if(de=Le(ee,ue),ue+=3,de>>>1)de>>1==1?(Ve=9,Fe=5):(ue=vn(ee,ue),Ve=na,Fe=_r);else{ue&7&&(ue+=8-(ue&7));var Ue=ee[ue>>>3]|ee[(ue>>>3)+1]<<8;if(ue+=32,Ue>0)for(!ge&&Re<be+Ue&&(xe=Ne(xe,be+Ue),Re=xe.length);Ue-- >0;)xe[be++]=ee[ue>>>3],ue+=8;continue}for(;;){!ge&&Re<be+32767&&(xe=Ne(xe,be+32767),Re=xe.length);var He=se(ee,ue,Ve),at=de>>>1==1?ht[He]:it[He];if(ue+=at&15,at>>>=4,!(at>>>8&255))xe[be++]=at;else{if(at==256)break;at-=257;var ot=at<8?0:at-4>>2;ot>5&&(ot=0);var gt=be+X[at];ot>0&&(gt+=se(ee,ue,ot),ue+=ot),He=se(ee,ue,Fe),at=de>>>1==1?Nt[He]:Fr[He],ue+=at&15,at>>>=4;var st=at<4?0:at-2>>1,xt=oe[at];for(st>0&&(xt+=se(ee,ue,st),ue+=st),!ge&&Re<gt&&(xe=Ne(xe,gt+100),Re=xe.length);be<gt;)xe[be]=xe[be-xt],++be}}}return ge?[xe,ue+7>>>3]:[xe.slice(0,be),ue+7>>>3]}function Nr(ee,ge){var ue=ee.slice(ee.l||0),de=fo(ue,ge);return ee.l+=de[1],de[0]}function kl(ee,ge){if(ee)typeof console<"u"&&console.error(ge);else throw new Error(ge)}function Cn(ee,ge){var ue=ee;_i(ue,0);var de=[],xe=[],be={FileIndex:de,FullPaths:xe};j(be,{root:ge.root});for(var Re=ue.length-4;(ue[Re]!=80||ue[Re+1]!=75||ue[Re+2]!=5||ue[Re+3]!=6)&&Re>=0;)--Re;ue.l=Re+4,ue.l+=4;var Ve=ue.read_shift(2);ue.l+=6;var Fe=ue.read_shift(4);for(ue.l=Fe,Re=0;Re<Ve;++Re){ue.l+=20;var Ue=ue.read_shift(4),He=ue.read_shift(4),at=ue.read_shift(2),ot=ue.read_shift(2),gt=ue.read_shift(2);ue.l+=8;var st=ue.read_shift(4),xt=l(ue.slice(ue.l+at,ue.l+at+ot));ue.l+=at+ot+gt;var Yt=ue.l;ue.l=st+4,Bs(ue,Ue,He,be,xt),ue.l=Yt}return be}function Bs(ee,ge,ue,de,xe){ee.l+=2;var be=ee.read_shift(2),Re=ee.read_shift(2),Ve=s(ee);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var Fe=ee.read_shift(4),Ue=ee.read_shift(4),He=ee.read_shift(4),at=ee.read_shift(2),ot=ee.read_shift(2),gt="",st=0;st<at;++st)gt+=String.fromCharCode(ee[ee.l++]);if(ot){var xt=l(ee.slice(ee.l,ee.l+ot));(xt[21589]||{}).mt&&(Ve=xt[21589].mt),((xe||{})[21589]||{}).mt&&(Ve=xe[21589].mt)}ee.l+=ot;var Yt=ee.slice(ee.l,ee.l+Ue);switch(Re){case 8:Yt=P(ee,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var zr=!1;be&8&&(Fe=ee.read_shift(4),Fe==134695760&&(Fe=ee.read_shift(4),zr=!0),Ue=ee.read_shift(4),He=ee.read_shift(4)),Ue!=ge&&kl(zr,"Bad compressed size: "+ge+" != "+Ue),He!=ue&&kl(zr,"Bad uncompressed size: "+ue+" != "+He),vs(de,gt,Yt,{unsafe:!0,mt:Ve})}function Jo(ee,ge){var ue=ge||{},de=[],xe=[],be=Xe(1),Re=ue.compression?8:0,Ve=0,Fe=0,Ue=0,He=0,at=0,ot=ee.FullPaths[0],gt=ot,st=ee.FileIndex[0],xt=[],Yt=0;for(Fe=1;Fe<ee.FullPaths.length;++Fe)if(gt=ee.FullPaths[Fe].slice(ot.length),st=ee.FileIndex[Fe],!(!st.size||!st.content||gt=="Sh33tJ5")){var zr=He,an=Xe(gt.length);for(Ue=0;Ue<gt.length;++Ue)an.write_shift(1,gt.charCodeAt(Ue)&127);an=an.slice(0,an.l),xt[at]=pwe.buf(st.content,0);var ya=st.content;Re==8&&(ya=R(ya)),be=Xe(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,Ve),be.write_shift(2,Re),st.mt?i(be,st.mt):be.write_shift(4,0),be.write_shift(-4,xt[at]),be.write_shift(4,ya.length),be.write_shift(4,st.content.length),be.write_shift(2,an.length),be.write_shift(2,0),He+=be.length,de.push(be),He+=an.length,de.push(an),He+=ya.length,de.push(ya),be=Xe(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,Ve),be.write_shift(2,Re),be.write_shift(4,0),be.write_shift(-4,xt[at]),be.write_shift(4,ya.length),be.write_shift(4,st.content.length),be.write_shift(2,an.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,zr),Yt+=be.l,xe.push(be),Yt+=an.length,xe.push(an),++at}return be=Xe(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,at),be.write_shift(2,at),be.write_shift(4,Yt),be.write_shift(4,He),be.write_shift(2,0),li([li(de),li(xe),be])}var dn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(ee,ge){if(ee.ctype)return ee.ctype;var ue=ee.name||"",de=ue.match(/\.([^\.]+)$/);return de&&dn[de[1]]||ge&&(de=(ue=ge).match(/[\.\\]([^\.\\])+$/),de&&dn[de[1]])?dn[de[1]]:"application/octet-stream"}function Tr(ee){for(var ge=E1(ee),ue=[],de=0;de<ge.length;de+=76)ue.push(ge.slice(de,de+76));return ue.join(`\r
`)+`\r
`}function wc(ee){var ge=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var He=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});ge=ge.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ge.charAt(0)==`
`&&(ge="=0D"+ge.slice(1)),ge=ge.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],de=ge.split(`\r
`),xe=0;xe<de.length;++xe){var be=de[xe];if(be.length==0){ue.push("");continue}for(var Re=0;Re<be.length;){var Ve=76,Fe=be.slice(Re,Re+Ve);Fe.charAt(Ve-1)=="="?Ve--:Fe.charAt(Ve-2)=="="?Ve-=2:Fe.charAt(Ve-3)=="="&&(Ve-=3),Fe=be.slice(Re,Re+Ve),Re+=Ve,Re<be.length&&(Fe+="="),ue.push(Fe)}}return ue.join(`\r
`)}function Ia(ee){for(var ge=[],ue=0;ue<ee.length;++ue){for(var de=ee[ue];ue<=ee.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+ee[++ue];ge.push(de)}for(var xe=0;xe<ge.length;++xe)ge[xe]=ge[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return eo(ge.join(`\r
`))}function ho(ee,ge,ue){for(var de="",xe="",be="",Re,Ve=0;Ve<10;++Ve){var Fe=ge[Ve];if(!Fe||Fe.match(/^\s*$/))break;var Ue=Fe.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":de=Ue[2].trim();break;case"content-type":be=Ue[2].trim();break;case"content-transfer-encoding":xe=Ue[2].trim();break}}switch(++Ve,xe.toLowerCase()){case"base64":Re=eo(co(ge.slice(Ve).join("")));break;case"quoted-printable":Re=Ia(ge.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var He=vs(ee,de.slice(ue.length),Re,{unsafe:!0});be&&(He.ctype=be)}function po(ee,ge){if(U(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=ge&&ge.root||"",de=(cr&&Buffer.isBuffer(ee)?ee.toString("binary"):U(ee)).split(`\r
`),xe=0,be="";for(xe=0;xe<de.length;++xe)if(be=de[xe],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),ue||(ue=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),be.slice(0,ue.length)!=ue););var Re=(de[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var Ve="--"+(Re[1]||""),Fe=[],Ue=[],He={FileIndex:Fe,FullPaths:Ue};j(He);var at,ot=0;for(xe=0;xe<de.length;++xe){var gt=de[xe];gt!==Ve&&gt!==Ve+"--"||(ot++&&ho(He,de.slice(at,xe),ue),at=xe)}return He}function Bt(ee,ge){var ue=ge||{},de=ue.boundary||"SheetJS";de="------="+de;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],be=ee.FullPaths[0],Re=be,Ve=ee.FileIndex[0],Fe=1;Fe<ee.FullPaths.length;++Fe)if(Re=ee.FullPaths[Fe].slice(be.length),Ve=ee.FileIndex[Fe],!(!Ve.size||!Ve.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yt){return"_x"+Yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yt){return"_u"+Yt.charCodeAt(0).toString(16)+"_"});for(var Ue=Ve.content,He=cr&&Buffer.isBuffer(Ue)?Ue.toString("binary"):U(Ue),at=0,ot=Math.min(1024,He.length),gt=0,st=0;st<=ot;++st)(gt=He.charCodeAt(st))>=32&&gt<128&&++at;var xt=at>=ot*4/5;xe.push(de),xe.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+Re),xe.push("Content-Transfer-Encoding: "+(xt?"quoted-printable":"base64")),xe.push("Content-Type: "+Kt(Ve,Re)),xe.push(""),xe.push(xt?wc(He):Tr(He))}return xe.push(de+`--\r
`),xe.join(`\r
`)}function $s(ee){var ge={};return j(ge,ee),ge}function vs(ee,ge,ue,de){var xe=de&&de.unsafe;xe||j(ee);var be=!xe&&Mt.find(ee,ge);if(!be){var Re=ee.FullPaths[0];ge.slice(0,Re.length)==Re?Re=ge:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+ge).replace("//","/")),be={name:a(ge),type:2},ee.FileIndex.push(be),ee.FullPaths.push(Re),xe||Mt.utils.cfb_gc(ee)}return be.content=ue,be.size=ue?ue.length:0,de&&(de.CLSID&&(be.clsid=de.CLSID),de.mt&&(be.mt=de.mt),de.ct&&(be.ct=de.ct)),be}function ki(ee,ge){j(ee);var ue=Mt.find(ee,ge);if(ue){for(var de=0;de<ee.FileIndex.length;++de)if(ee.FileIndex[de]==ue)return ee.FileIndex.splice(de,1),ee.FullPaths.splice(de,1),!0}return!1}function aa(ee,ge,ue){j(ee);var de=Mt.find(ee,ge);if(de){for(var xe=0;xe<ee.FileIndex.length;++xe)if(ee.FileIndex[xe]==de)return ee.FileIndex[xe].name=a(ue),ee.FullPaths[xe]=ue,!0}return!1}function Gn(ee){T(ee,!0)}return t.find=O,t.read=S,t.parse=d,t.write=ae,t.writeFile=Y,t.utils={cfb_new:$s,cfb_add:vs,cfb_del:ki,cfb_mov:aa,cfb_gc:Gn,ReadShift:Ax,CheckField:o9,prep_blob:_i,bconcat:li,use_zlib:k,_deflateRaw:ft,_inflateRaw:Nr,consts:V},t}();function mwe(e){return typeof e=="string"?Xw(e):Array.isArray(e)?zye(e):e}function mg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Xw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Jl(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([mwe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Pd(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function xwe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ta(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function uO(e,t){for(var r=[],n=ta(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function Qw(e){for(var t=[],r=ta(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Jw(e){for(var t=[],r=ta(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function gwe(e){for(var t=[],r=ta(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var fy=new Date(1899,11,30,0,0,0);function Ka(e,t){var r=e.getTime(),n=fy.getTime()+(e.getTimezoneOffset()-fy.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var $L=new Date,vwe=fy.getTime()+($L.getTimezoneOffset()-fy.getTimezoneOffset())*6e4,dO=$L.getTimezoneOffset();function Zw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+vwe),t.getTimezoneOffset()!==dO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-dO)*6e4),t}function bwe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var fO=new Date("2017-02-19T19:06:09.000Z"),zL=isNaN(fO.getFullYear())?new Date("2/19/17"):fO,ywe=zL.getFullYear()==2017;function Mn(e,t){var r=new Date(e);if(ywe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(zL.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function W0(e,t){if(cr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Jl(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Jl(EL(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Jl(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Jl(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Fn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Fn(e[r]));return t}function Zn(e,t){for(var r="";r.length<t;)r+=e;return r}function wl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var wwe=["january","february","march","april","may","june","july","august","september","october","november","december"];function vp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&wwe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var _we=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],l=1;l<i.length;++l)s.push(a),s.push(i[l]);return s}}();function UL(e){return e?e.content&&e.type?W0(e.content,!0):e.data?lx(e.data):e.asNodeBuffer&&cr?lx(e.asNodeBuffer().toString("binary")):e.asBinary?lx(e.asBinary()):e._data&&e._data.getContent?lx(W0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function HL(e){if(!e)return null;if(e.data)return eO(e.data);if(e.asNodeBuffer&&cr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?eO(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Nwe(e){return e&&e.name.slice(-4)===".bin"?HL(e):UL(e)}function To(e,t){for(var r=e.FullPaths||ta(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function jA(e,t){var r=To(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Ea(e,t,r){if(!r)return Nwe(jA(e,t));if(!t)return null;try{return Ea(e,t)}catch{return null}}function to(e,t,r){if(!r)return UL(jA(e,t));if(!t)return null;try{return to(e,t)}catch{return null}}function jwe(e,t,r){return HL(jA(e,t))}function hO(e){for(var t=e.FullPaths||ta(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function sr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return cr?n=hu(r):n=Uye(r),Mt.utils.cfb_add(e,t,n)}Mt.utils.cfb_add(e,t,r)}else e.file(t,r)}function SA(){return Mt.utils.cfb_new()}function WL(e,t){switch(t.type){case"base64":return Mt.read(e,{type:"base64"});case"binary":return Mt.read(e,{type:"binary"});case"buffer":case"array":return Mt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ux(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var ba=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Swe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,pO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Awe=/<[^>]*>/g,Ki=ba.match(pO)?pO:Awe,Cwe=/<\w*:/,Ewe=/<(\/?)\w+:/;function qt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Swe),l=0,c="",u=0,d="",f="",h=1;if(s)for(u=0;u!=s.length;++u){for(f=s[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function gc(e){return e.replace(Ewe,"<$1")}var VL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},AA=Qw(VL),Er=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return VL[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),CA=/[&<>'"]/g,kwe=/[\u0000-\u0008\u000b-\u001f]/g;function Zr(e){var t=e+"";return t.replace(CA,function(r){return AA[r]}).replace(kwe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function mO(e){return Zr(e).replace(/ /g,"_x0020_")}var qL=/[\u0000-\u001f]/g;function EA(e){var t=e+"";return t.replace(CA,function(r){return AA[r]}).replace(/\n/g,"<br/>").replace(qL,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Twe(e){var t=e+"";return t.replace(CA,function(r){return AA[r]}).replace(qL,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var xO=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Owe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Dn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function G_(e){for(var t="",r=0,n=0,a=0,i=0,s=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function gO(e){var t=bd(2*e.length),r,n,a=1,i=0,s=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function vO(e){return hu(e,"binary").toString("utf8")}var Vv="foo bar bazâð£",cn=cr&&(vO(Vv)==G_(Vv)&&vO||gO(Vv)==G_(Vv)&&gO)||G_,Jl=cr?function(e){return hu(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},T1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),GL=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Pwe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Dwe=/<\/?(?:vt:)?variant>/g,Iwe=/<(?:vt:)([^>]*)>([\s\S]*)</;function bO(e,t){var r=qt(e),n=e.match(Pwe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Dwe,"").match(Iwe);s&&a.push({v:cn(s[2]),t:s[1]})}),a}var YL=/(^\s|\s$|\n)/;function Ni(e,t){return"<"+e+(t.match(YL)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function O1(e){return ta(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function lt(e,t,r){return"<"+e+(r!=null?O1(r):"")+(t!=null?(t.match(YL)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function G3(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Mwe(e,t){switch(typeof e){case"string":var r=lt("vt:lpwstr",Zr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return lt((e|0)==e?"vt:i4":"vt:r8",Zr(String(e)));case"boolean":return lt("vt:bool",e?"true":"false")}if(e instanceof Date)return lt("vt:filetime",G3(e));throw new Error("Unable to serialize "+e)}function kA(e){if(cr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return cn(Pd(wA(e)));throw new Error("Bad input format: expected Buffer or string")}var P1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Va={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},df=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Qs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Fwe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Rwe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var yO=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},wO=cr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:hu(t)})):yO(e)}:yO,_O=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Hc(e,a)));return n.join("").replace(gs,"")},TA=cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(gs,""):_O(e,t,r)}:_O,NO=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},XL=cr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):NO(e,t,r)}:NO,jO=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(hh(e,a)));return n.join("")},xg=cr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):jO(t,r,n)}:jO,KL=function(e,t){var r=Js(e,t);return r>0?xg(e,t+4,t+4+r-1):""},QL=KL,JL=function(e,t){var r=Js(e,t);return r>0?xg(e,t+4,t+4+r-1):""},ZL=JL,e9=function(e,t){var r=2*Js(e,t);return r>0?xg(e,t+4,t+4+r-1):""},t9=e9,r9=function(t,r){var n=Js(t,r);return n>0?TA(t,r+4,r+4+n):""},n9=r9,a9=function(e,t){var r=Js(e,t);return r>0?xg(e,t+4,t+4+r):""},i9=a9,s9=function(e,t){return Fwe(e,t)},hy=s9,OA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};cr&&(QL=function(t,r){if(!Buffer.isBuffer(t))return KL(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ZL=function(t,r){if(!Buffer.isBuffer(t))return JL(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},t9=function(t,r){if(!Buffer.isBuffer(t))return e9(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},n9=function(t,r){if(!Buffer.isBuffer(t))return r9(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},i9=function(t,r){if(!Buffer.isBuffer(t))return a9(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},hy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):s9(t,r)},OA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var hh=function(e,t){return e[t]},Hc=function(e,t){return e[t+1]*256+e[t]},Lwe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Js=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},c0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Bwe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ax(e,t){var r="",n,a,i=[],s,l,c,u;switch(t){case"dbcs":if(u=this.l,cr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Hc(this,u)),u+=2;e*=2;break;case"utf8":r=xg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=TA(this,this.l,this.l+e);break;case"wstr":return Ax.call(this,e,"dbcs");case"lpstr-ansi":r=QL(this,this.l),e=4+Js(this,this.l);break;case"lpstr-cp":r=ZL(this,this.l),e=4+Js(this,this.l);break;case"lpwstr":r=t9(this,this.l),e=4+2*Js(this,this.l);break;case"lpp4":e=4+Js(this,this.l),r=n9(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Js(this,this.l),r=i9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=hh(this,this.l+e++))!==0;)i.push(Wv(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Hc(this,this.l+e))!==0;)i.push(Wv(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=hh(this,u),this.l=u+1,l=Ax.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Wv(Hc(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=hh(this,u),this.l=u+1,l=Ax.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Wv(hh(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=hh(this,this.l),this.l++,n;case 2:return n=(t==="i"?Lwe:Hc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?c0:Bwe)(this,this.l),this.l+=4,n):(a=Js(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=hy(this,this.l):a=hy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=XL(this,this.l,e);break}}return this.l+=e,r}var $we=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},zwe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Uwe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Hwe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Uwe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,$we(this,t,this.l);break;case 8:if(n=8,r==="f"){Rwe(this,t,this.l);break}case 16:break;case-4:n=4,zwe(this,t,this.l);break}return this.l+=n,this}function o9(e,t){var r=XL(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function _i(e,t){e.l=t,e.read_shift=Ax,e.chk=o9,e.write_shift=Hwe}function Xi(e,t){e.l+=t}function Xe(e){var t=bd(e);return _i(t,0),t}function pu(e,t,r){if(e){var n,a,i;_i(e,e.l||0);for(var s=e.length,l=0,c=0;e.l<s;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=L1[l]||L1[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function Ps(){var e=[],t=cr?256:2048,r=function(u){var d=Xe(u);return _i(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),li(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:s,_bufs:e}}function et(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=L1[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&OA(r)&&e.push(r)}}function Cx(e,t,r){var n=Fn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function SO(e,t,r){var n=Fn(e);return n.s=Cx(n.s,t.s,r),n.e=Cx(n.e,t.s,r),n}function Ex(e,t){if(e.cRel&&e.c<0)for(e=Fn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Fn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Vt(e);return!e.cRel&&e.cRel!=null&&(r=qwe(r)),!e.rRel&&e.rRel!=null&&(r=Wwe(r)),r}function Y_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Vn(e.s.c)+":"+(e.e.cRel?"":"$")+Vn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ga(e.s.r)+":"+(e.e.rRel?"":"$")+ga(e.e.r):Ex(e.s,t.biff)+":"+Ex(e.e,t.biff)}function PA(e){return parseInt(Vwe(e),10)-1}function ga(e){return""+(e+1)}function Wwe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Vwe(e){return e.replace(/\$(\d+)$/,"$1")}function DA(e){for(var t=Gwe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Vn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function qwe(e){return e.replace(/^([A-Z])/,"$$$1")}function Gwe(e){return e.replace(/^\$([A-Z])/,"$1")}function Ywe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Vt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ms(e){var t=e.indexOf(":");return t==-1?{s:qn(e),e:qn(e)}:{s:qn(e.slice(0,t)),e:qn(e.slice(t+1))}}function ir(e,t){return typeof t>"u"||typeof t=="number"?ir(e.s,e.e):(typeof e!="string"&&(e=Vt(e)),typeof t!="string"&&(t=Vt(t)),e==t?e:e+":"+t)}function kr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function AO(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vo(e.z,r?Ka(t):t)}catch{}try{return e.w=Vo((e.XF||{}).numFmtId||(r?14:0),r?Ka(t):t)}catch{return""+t}}function lu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?mu[e.v]||e.v:t==null?AO(e,e.v):AO(e,t))}function Dd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function l9(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?qn(n.origin):n.origin;s=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=kr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=s+f,x=l+h;if(u.s.r>m&&(u.s.r=m),u.s.c>x&&(u.s.c=x),u.e.r<m&&(u.e.r=m),u.e.c<x&&(u.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Ht[14],n.cellDates?(p.t="d",p.w=Vo(p.z,Ka(p.v))):(p.t="n",p.v=Ka(p.v),p.w=Vo(p.z,p.v))):p.t="s";if(a)i[m]||(i[m]=[]),i[m][x]&&i[m][x].z&&(p.z=i[m][x].z),i[m][x]=p;else{var g=Vt({c:x,r:m});i[g]&&i[g].z&&(p.z=i[g].z),i[g]=p}}}return u.s.c<1e7&&(i["!ref"]=ir(u)),i}function Qp(e,t){return l9(null,e,t)}function Xwe(e){return e.read_shift(4,"i")}function _l(e,t){return t||(t=Xe(4)),t.write_shift(4,e),t}function Yi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ci(e,t){var r=!1;return t==null&&(r=!0,t=Xe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Kwe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Qwe(e,t){return t||(t=Xe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function IA(e,t){var r=e.l,n=e.read_shift(1),a=Yi(e),i=[],s={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(Kwe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function Jwe(e,t){var r=!1;return t==null&&(r=!0,t=Xe(15+4*e.t.length)),t.write_shift(1,0),ci(e.t,t),r?t.slice(0,t.l):t}var Zwe=IA;function e5e(e,t){var r=!1;return t==null&&(r=!0,t=Xe(23+4*e.t.length)),t.write_shift(1,1),ci(e.t,t),t.write_shift(4,1),Qwe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Qo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ff(e,t){return t==null&&(t=Xe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function hf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function pf(e,t){return t==null&&(t=Xe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var t5e=Yi,c9=ci;function MA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function py(e,t){var r=!1;return t==null&&(r=!0,t=Xe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var r5e=Yi,Y3=MA,FA=py;function RA(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?hy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):c0(t,0)>>2;return r?a/100:a}function u9(e,t){t==null&&(t=Xe(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function d9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function n5e(e,t){return t||(t=Xe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var mf=d9,Jp=n5e;function Wi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function V0(e,t){return(t||Xe(8)).write_shift(8,e,"f")}function a5e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=A0[a];u&&(t.rgb=I1(u));break;case 2:t.rgb=I1([s,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function my(e,t){if(t||(t=Xe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function i5e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function s5e(e,t){t||(t=Xe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function f9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function o5e(e){return f9(e,1)}function l5e(e){return f9(e,2)}var LA=2,As=3,qv=11,CO=12,xy=19,Gv=64,c5e=65,u5e=71,d5e=4108,f5e=4126,si=80,h9=81,h5e=[si,h9],X3={1:{n:"CodePage",t:LA},2:{n:"Category",t:si},3:{n:"PresentationFormat",t:si},4:{n:"ByteCount",t:As},5:{n:"LineCount",t:As},6:{n:"ParagraphCount",t:As},7:{n:"SlideCount",t:As},8:{n:"NoteCount",t:As},9:{n:"HiddenCount",t:As},10:{n:"MultimediaClipCount",t:As},11:{n:"ScaleCrop",t:qv},12:{n:"HeadingPairs",t:d5e},13:{n:"TitlesOfParts",t:f5e},14:{n:"Manager",t:si},15:{n:"Company",t:si},16:{n:"LinksUpToDate",t:qv},17:{n:"CharacterCount",t:As},19:{n:"SharedDoc",t:qv},22:{n:"HyperlinksChanged",t:qv},23:{n:"AppVersion",t:As,p:"version"},24:{n:"DigSig",t:c5e},26:{n:"ContentType",t:si},27:{n:"ContentStatus",t:si},28:{n:"Language",t:si},29:{n:"Version",t:si},255:{},2147483648:{n:"Locale",t:xy},2147483651:{n:"Behavior",t:xy},1919054434:{}},K3={1:{n:"CodePage",t:LA},2:{n:"Title",t:si},3:{n:"Subject",t:si},4:{n:"Author",t:si},5:{n:"Keywords",t:si},6:{n:"Comments",t:si},7:{n:"Template",t:si},8:{n:"LastAuthor",t:si},9:{n:"RevNumber",t:si},10:{n:"EditTime",t:Gv},11:{n:"LastPrinted",t:Gv},12:{n:"CreatedDate",t:Gv},13:{n:"ModifiedDate",t:Gv},14:{n:"PageCount",t:As},15:{n:"WordCount",t:As},16:{n:"CharCount",t:As},17:{n:"Thumbnail",t:u5e},18:{n:"Application",t:si},19:{n:"DocSecurity",t:As},255:{},2147483648:{n:"Locale",t:xy},2147483651:{n:"Behavior",t:xy},1919054434:{}},EO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},p5e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function m5e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var x5e=m5e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),A0=Fn(x5e),mu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},p9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Q3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Yv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function BA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function g5e(e){var t=BA();if(!e||!e.match)return t;var r={};if((e.match(Ki)||[]).forEach(function(n){var a=qt(n);switch(a[0].replace(Cwe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[Q3[a.ContentType]]!==void 0&&t[Q3[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Va.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function m9(e,t){var r=gwe(Q3),n=[],a;n[n.length]=ba,n[n.length]=lt("Types",null,{xmlns:Va.CT,"xmlns:xsd":Va.xsd,"xmlns:xsi":Va.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return lt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=lt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Yv[c][t.bookType]||Yv[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Yv[c][t.bookType]||Yv[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=lt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var fr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function D1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function kx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ki)||[]).forEach(function(a){var i=qt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:ux(i.Target,t);r[l]=s,n[i.Id]=s}}),r["!id"]=n,r}function Mh(e){var t=[ba,lt("Relationships",null,{xmlns:Va.RELS})];return ta(e["!id"]).forEach(function(r){t[t.length]=lt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Jr(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[fr.HLINK,fr.XPATH,fr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var v5e="application/vnd.oasis.opendocument.spreadsheet";function b5e(e,t){for(var r=kA(e),n,a;n=P1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=qt(n[0],!1),a.path=="/"&&a.type!==v5e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function y5e(e){var t=[ba];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function kO(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function w5e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function _5e(e){var t=[ba];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(kO(e[r][0],e[r][1])),t.push(w5e("",e[r][0]));return t.push(kO("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function x9(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ly.version+"</meta:generator></office:meta></office:document-meta>"}var $o=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],N5e=function(){for(var e=new Array($o.length),t=0;t<$o.length;++t){var r=$o[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function g9(e){var t={};e=cn(e);for(var r=0;r<$o.length;++r){var n=$o[r],a=e.match(N5e[r]);a!=null&&a.length>0&&(t[n[1]]=Er(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Mn(t[n[1]]))}return t}function X_(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Zr(t),n[n.length]=r?lt(e,t,r):Ni(e,t))}function v9(e,t){var r=t||{},n=[ba,lt("cp:coreProperties",null,{"xmlns:cp":Va.CORE_PROPS,"xmlns:dc":Va.dc,"xmlns:dcterms":Va.dcterms,"xmlns:dcmitype":Va.dcmitype,"xmlns:xsi":Va.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&X_("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:G3(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&X_("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:G3(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=$o.length;++i){var s=$o[i],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&X_(s[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var C0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],b9=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function y9(e,t,r,n){var a=[];if(typeof e=="string")a=bO(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var s=typeof t=="string"?bO(t,n).map(function(d){return d.v}):t,l=0,c=0;if(s.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=s.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(l,l+c);break}l+=c}}function j5e(e,t,r){var n={};return t||(t={}),e=cn(e),C0.forEach(function(a){var i=(e.match(T1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Er(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&y9(n.HeadingPairs,n.TitlesOfParts,t,r),t}function w9(e){var t=[],r=lt;return e||(e={}),e.Application="SheetJS",t[t.length]=ba,t[t.length]=lt("Properties",null,{xmlns:Va.EXT_PROPS,"xmlns:vt":Va.vt}),C0.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Zr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Zr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var S5e=/<[^>]+>[^<]*/g;function A5e(e,t){var r={},n="",a=e.match(S5e);if(a)for(var i=0;i!=a.length;++i){var s=a[i],l=qt(s);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Er(l.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Er(d);break;case"bool":r[n]=Dn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Mn(d);break;case"cy":case"error":r[n]=Er(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function _9(e){var t=[ba,lt("Properties",null,{xmlns:Va.CUST_PROPS,"xmlns:vt":Va.vt})];if(!e)return t.join("");var r=1;return ta(e).forEach(function(a){++r,t[t.length]=lt("property",Mwe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Zr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var J3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},K_;function C5e(e,t,r){K_||(K_=Qw(J3)),t=K_[t]||t,e[t]=r}function E5e(e,t){var r=[];return ta(J3).map(function(n){for(var a=0;a<$o.length;++a)if($o[a][1]==n)return $o[a];for(a=0;a<C0.length;++a)if(C0[a][1]==n)return C0[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ni(J3[n[1]]||n[1],a))}}),lt("DocumentProperties",r.join(""),{xmlns:Qs.o})}function k5e(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ta(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<$o.length;++s)if(i==$o[s][1])return;for(s=0;s<C0.length;++s)if(i==C0[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(lt(mO(i),l,{"dt:dt":c}))}}),t&&ta(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),a.push(lt(mO(i),s,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Qs.o+'">'+a.join("")+"</"+n+">"}function $A(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function T5e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=Xe(8);return s.write_shift(4,n),s.write_shift(4,a),s}function N9(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function j9(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function S9(e,t,r){return t===31?j9(e):N9(e,t,r)}function Z3(e,t,r){return S9(e,t,r===!1?0:4)}function O5e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return S9(e,t,0)}function P5e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(gs,""),e.l-a&2&&(e.l+=2)}return r}function D5e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(gs,"");return r}function I5e(e){var t=e.l,r=gy(e,h9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=gy(e,As);return[r,n]}function M5e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(I5e(e));return r}function TO(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(gs,"").replace(cx,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function A9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function F5e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function gy(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==CO&&n!==t&&h5e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===CO?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return N9(e,n,4).replace(gs,"");case 31:return j9(e);case 64:return $A(e);case 65:return A9(e);case 71:return F5e(e);case 80:return Z3(e,n,!i.raw).replace(gs,"");case 81:return O5e(e,n).replace(gs,"");case 4108:return M5e(e);case 4126:case 4127:return n==4127?P5e(e):D5e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function OO(e,t){var r=Xe(4),n=Xe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Xe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=T5e(t);break;case 31:case 80:for(n=Xe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return li([r,n])}function PO(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,l=0,c=-1,u={};for(s=0;s!=a;++s){var d=e.read_shift(4),f=e.read_shift(4);i[s]=[d,f+r]}i.sort(function(b,y){return b[1]-y[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[i[s][0]];if(h[m.n]=gy(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:vl(l=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[s][0]===1){if(l=h.CodePage=gy(e,LA),vl(l),c!==-1){var x=e.l;e.l=i[c][1],u=TO(e,l),e.l=x}}else if(i[s][0]===0){if(l===0){c=s,e.l=i[s+1][1];continue}u=TO(e,l)}else{var g=u[i[s][0]],v;switch(e[e.l]){case 65:e.l+=4,v=A9(e);break;case 30:e.l+=4,v=Z3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=Z3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=ca(e,4);break;case 64:e.l+=4,v=Mn($A(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=v}}return e.l=r+n,h}var C9=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function R5e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function DO(e,t,r){var n=Xe(8),a=[],i=[],s=8,l=0,c=Xe(8),u=Xe(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=Xe(8),u.write_shift(4,0),a.unshift(u);var d=[Xe(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Xe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=li(d),i.unshift(c),s+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(C9.indexOf(e[l][0])>-1||b9.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],p=0;if(t){p=+t[e[l][0]];var m=r[p];if(m.p=="version"&&typeof h=="string"){var x=h.split(".");h=(+x[0]<<16)+(+x[1]||0)}c=OO(m.t,h)}else{var g=R5e(h);g==-1&&(g=31,h=String(h)),c=OO(g,h)}i.push(c),u=Xe(8),u.write_shift(4,t?p:2+l),a.push(u),s+=8+c.length}var v=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,v),v+=i[l].length;return n.write_shift(4,s),n.write_shift(4,i.length),li([n].concat(a).concat(i))}function IO(e,t,r){var n=e.content;if(!n)return{};_i(n,0);var a,i,s,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Mt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(s=n.read_shift(16),c=n.read_shift(4));var f=PO(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var m;try{m=PO(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[i,s],h}function MO(e,t,r,n,a,i){var s=Xe(a?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Mt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=DO(e,r,n);if(l.push(c),a){var u=DO(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),l.push(u)}return li(l)}function Mu(e,t){return e.read_shift(t),null}function L5e(e,t){t||(t=Xe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function B5e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ca(e,t){return e.read_shift(t)===1}function os(e,t){return t||(t=Xe(2)),t.write_shift(2,+!!e),t}function ka(e){return e.read_shift(2,"u")}function Oo(e,t){return t||(t=Xe(2)),t.write_shift(2,e),t}function E9(e,t){return B5e(e,t,ka)}function $5e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function k9(e,t,r){return r||(r=Xe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function gg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function z5e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,l,c={};a&&(s=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*s),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function U5e(e){var t=e.t||"",r=Xe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Xe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return li(a)}function q0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function vg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):q0(e,n,r)}function xf(e,t,r){if(r.biff>5)return vg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function T9(e,t,r){return r||(r=Xe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function H5e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function W5e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(gs,"");return n&&(e.l+=24),a}function V5e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(gs,"");return r+s}function q5e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return W5e(e);case"0303000000000000c000000000000046":return V5e(e);default:throw new Error("Unsupported Moniker "+r)}}function Xv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(gs,""):"";return r}function FO(e,t){t||(t=Xe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function G5e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,l,c,u="",d,f;a&16&&(i=Xv(e,r-e.l)),a&128&&(s=Xv(e,r-e.l)),(a&257)===257&&(l=Xv(e,r-e.l)),(a&257)===1&&(c=q5e(e,r-e.l)),a&8&&(u=Xv(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=$A(e)),e.l=r;var h=s||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function Y5e(e){var t=Xe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),FO(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&FO(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function O9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function P9(e,t){var r=O9(e);return r[3]=0,r}function vc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function G0(e,t,r,n){return n||(n=Xe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function X5e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function K5e(e,t,r){return t===0?"":xf(e,t,r)}function Q5e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function D9(e){var t=e.read_shift(2),r=RA(e);return[t,r]}function J5e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=gg(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function e5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function I9(e,t){return t||(t=Xe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function M9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Z5e=M9;function F9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function e_e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function t_e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Pi(e){e.l+=2,e.l+=e.read_shift(2)}var r_e={0:Pi,4:Pi,5:Pi,6:Pi,7:t_e,8:Pi,9:Pi,10:Pi,11:Pi,12:Pi,13:e_e,14:Pi,15:Pi,16:Pi,17:Pi,18:Pi,19:Pi,20:Pi,21:F9};function n_e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(r_e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Kv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function zA(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Xe(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function a_e(e,t){return t===0||e.read_shift(2),1200}function i_e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xf(e,0,r);return e.read_shift(t+n-e.l),a}function s_e(e,t){var r=!t||t.biff==8,n=Xe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function o_e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function l_e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=gg(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function c_e(e,t){var r=!t||t.biff>=8?2:1,n=Xe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function u_e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(z5e(e));return i.Count=n,i.Unique=a,i}function d_e(e,t){var r=Xe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=U5e(e[a]);var i=li([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function f_e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function h_e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function p_e(e){var t=X5e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function m_e(e){return e.read_shift(2),e.read_shift(4)}function RO(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function x_e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:l,Selected:c,TabRatio:u}}function g_e(){var e=Xe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function v_e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function b_e(e){var t=Xe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function y_e(){}function w_e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=gg(e,0,r),n}function __e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Xe(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function N_e(e){var t=vc(e);return t.isst=e.read_shift(4),t}function j_e(e,t,r,n){var a=Xe(10);return G0(e,t,n,a),a.write_shift(4,r),a}function S_e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=vc(e);r.biff==2&&e.l++;var i=vg(e,n-e.l,r);return a.val=i,a}function A_e(e,t,r,n,a){var i=!a||a.biff==8,s=Xe(8+ +i+(1+i)*r.length);return G0(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function C_e(e,t,r){var n=e.read_shift(2),a=xf(e,0,r);return[n,a]}function E_e(e,t,r,n){var a=r&&r.biff==5;n||(n=Xe(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var k_e=xf;function LO(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:s,c}}}function T_e(e,t){var r=t.biff==8||!t.biff?4:2,n=Xe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function O_e(e){var t=e.read_shift(2),r=e.read_shift(2),n=D9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function P_e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(D9(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function D_e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function I_e(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=p5e[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function M_e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=I_e(e,t,n.fStyle,r),n}function BO(e,t,r,n){var a=r&&r.biff==5;n||(n=Xe(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function F_e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function R_e(e){var t=Xe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function $O(e,t,r){var n=vc(e);(r.biff==2||t==9)&&++e.l;var a=$5e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function L_e(e,t,r,n,a,i){var s=Xe(8);return G0(e,t,n,s),k9(r,i,s),s}function B_e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=vc(e),a=Wi(e);return n.val=a,n}function $_e(e,t,r,n){var a=Xe(14);return G0(e,t,n,a),V0(r,a),a}var zO=K5e;function z_e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=q0(e,i),l=[];n>e.l;)l.push(vg(e));return[i,a,s,l]}function UO(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=J5e(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var U_e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function HO(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=q0(e,s,r);a&32&&(u=U_e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:nSe(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function R9(e,t,r){if(r.biff<8)return H_e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Q5e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function H_e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=gg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function W_e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=q0(e,n,r),s=q0(e,a,r);return[i,s]}function V_e(e,t,r){var n=M9(e);e.l++;var a=e.read_shift(1);return t-=8,[aSe(e,t,r),a,n]}function WO(e,t,r){var n=Z5e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,tSe(e,t,r)]}function q_e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function G_e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),l=xf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,s,i]}}function Y_e(e,t,r){return G_e(e,t,r)}function X_e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(e5(e));return r}function K_e(e){var t=Xe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)I9(e[r],t);return t}function Q_e(e,t,r){if(r&&r.biff<8)return Z_e(e,t,r);var n=F9(e),a=n_e(e,t-22,n[1]);return{cmo:n,ft:a}}var J_e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Z_e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((J_e[n]||Xi)(e,t,r)),{cmo:[a,n,i],ft:s}}function e4e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=H5e(e,6,r);var l=e.read_shift(2);e.read_shift(2),ka(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=q0(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function t4e(e,t){var r=e5(e);e.l+=16;var n=G5e(e,t-24);return[r,n]}function r4e(e){var t=Xe(24),r=qn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return li([t,Y5e(e[1])])}function n4e(e,t){e.read_shift(2);var r=e5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(gs,""),[r,n]}function a4e(e){var t=e[1].Tooltip,r=Xe(10+2*(t.length+1));r.write_shift(2,2048);var n=qn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function i4e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=EO[r]||r,r=e.read_shift(2),t[1]=EO[r]||r,t}function s4e(e){return e||(e=Xe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function o4e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(P9(e));return r}function l4e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(P9(e));return r}function c4e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function L9(e,t,r){if(!r.cellStyles)return Xi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function u4e(e,t){var r=Xe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function d4e(e,t){var r={};return t<32||(e.l+=16,r.header=Wi(e),r.footer=Wi(e),e.l+=2),r}function f4e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function h4e(e){for(var t=Xe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var p4e=vc,m4e=E9,x4e=vg;function g4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function v4e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=vc(e);++e.l;var a=xf(e,t-7,r);return n.t="str",n.val=a,n}function b4e(e){var t=vc(e);++e.l;var r=Wi(e);return t.t="n",t.val=r,t}function y4e(e,t,r){var n=Xe(15);return _g(n,e,t),n.write_shift(8,r,"f"),n}function w4e(e){var t=vc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function _4e(e,t,r){var n=Xe(9);return _g(n,e,t),n.write_shift(2,r),n}function N4e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function j4e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function S4e(e,t,r){var n=e.l+t,a=vc(e),i=e.read_shift(2),s=q0(e,i,r);return e.l=n,a.t="str",a.val=s,a}var A4e=[2,3,48,49,131,139,140,245],ej=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Qw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=bd(1);switch(c.type){case"base64":d=eo(co(l));break;case"binary":d=eo(l);break;case"buffer":case"array":d=l;break}_i(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,g=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(g=d.read_shift(2));var v=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var y=[],_={},N=Math.min(d.length,f==2?521:g-10-(p?264:0)),S=m?32:11;d.l<N&&d[d.l]!=13;)switch(_={},_.name=rd.utils.decode(b,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&y.push(_),f!=2&&(d.l+=m?13:14),_.type){case"B":(!p||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var j=0,A=0;for(u[0]=[],A=0;A!=y.length;++A)u[0][A]=y[A].name;for(;x-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++j]=[],A=0,A=0;A!=y.length;++A){var T=d.slice(d.l,d.l+y[A].len);d.l+=y[A].len,_i(T,0);var F=rd.utils.decode(b,T);switch(y[A].type){case"C":F.trim().length&&(u[j][A]=F.replace(/\s+$/,""));break;case"D":F.length===8?u[j][A]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):u[j][A]=F;break;case"F":u[j][A]=parseFloat(F.trim());break;case"+":case"I":u[j][A]=m?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":u[j][A]=!0;break;case"N":case"F":u[j][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][A]="##MEMO##"+(m?parseInt(F.trim(),10):T.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(u[j][A]=+F||0);break;case"@":u[j][A]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[j][A]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[j][A]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][A]=-T.read_shift(-8,"f");break;case"B":if(p&&y[A].len==8){u[j][A]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[A].len;break;case"0":if(y[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Qp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Dd(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,c){var u=c||{};if(+u.codepage>=0&&vl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ps(),f=yy(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=l["!cols"]||[],x=0,g=0,v=0,b=1;for(x=0;x<h.length;++x){if(((m[x]||{}).DBF||{}).name){h[x]=m[x].DBF.name,++v;continue}if(h[x]!=null){if(++v,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(g=0;g<1024;++g)if(h.indexOf(h[x]+"_"+g)==-1){h[x]+="_"+g;break}}}}var y=kr(l["!ref"]),_=[],N=[],S=[];for(x=0;x<=y.e.c-y.s.c;++x){var j="",A="",T=0,F=[];for(g=0;g<p.length;++g)p[g][x]!=null&&F.push(p[g][x]);if(F.length==0||h[x]==null){_[x]="?";continue}for(g=0;g<F.length;++g){switch(typeof F[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=F[g]instanceof Date?"D":"C";break;default:A="C"}T=Math.max(T,String(F[g]).length),j=j&&j!=A?"C":A}T>250&&(T=250),A=((m[x]||{}).DBF||{}).type,A=="C"&&m[x].DBF.len>T&&(T=m[x].DBF.len),j=="B"&&A=="N"&&(j="N",S[x]=m[x].DBF.dec,T=m[x].DBF.len),N[x]=j=="C"||A=="N"?T:i[j]||0,b+=N[x],_[x]=j}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*v),O.write_shift(2,b),x=0;x<4;++x)O.write_shift(4,0);for(O.write_shift(4,0|(+t[CL]||3)<<8),x=0,g=0;x<h.length;++x)if(h[x]!=null){var E=d.next(32),L=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,L,"sbcs"),E.write_shift(1,_[x]=="?"?"C":_[x],"sbcs"),E.write_shift(4,g),E.write_shift(1,N[x]||i[_[x]]||0),E.write_shift(1,S[x]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),g+=N[x]||i[_[x]]||0}var B=d.next(264);for(B.write_shift(4,13),x=0;x<65;++x)B.write_shift(4,0);for(x=0;x<p.length;++x){var G=d.next(b);for(G.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(_[g]){case"L":G.write_shift(1,p[x][g]==null?63:p[x][g]?84:70);break;case"B":G.write_shift(8,p[x][g]||0,"f");break;case"N":var z="0";for(typeof p[x][g]=="number"&&(z=p[x][g].toFixed(S[g]||0)),v=0;v<N[g]-z.length;++v)G.write_shift(1,32);G.write_shift(1,z,"sbcs");break;case"D":p[x][g]?(G.write_shift(4,("0000"+p[x][g].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(p[x][g].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+p[x][g].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var V=String(p[x][g]!=null?p[x][g]:"").slice(0,N[g]);for(G.write_shift(1,V,"sbcs"),v=0;v<N[g]-V.length;++v)G.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),B9=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ta(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?tO(m):m},n=function(h,p,m){var x=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return x==59?h:tO(x)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(co(h),p);case"binary":return i(h,p);case"buffer":return i(cr&&Buffer.isBuffer(h)?h.toString("binary"):Pd(h),p);case"array":return i(W0(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var m=h.split(/[\n\r]+/),x=-1,g=-1,v=0,b=0,y=[],_=[],N=null,S={},j=[],A=[],T=[],F=0,O;for(+p.codepage>=0&&vl(+p.codepage);v!==m.length;++v){F=0;var E=m[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=E.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),B=L[0],G;if(E.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&_.push(E.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,V=!1,Y=!1,U=!1,ae=-1,he=-1;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"A":break;case"X":g=parseInt(L[b].slice(1))-1,V=!0;break;case"Y":for(x=parseInt(L[b].slice(1))-1,V||(g=0),O=y.length;O<=x;++O)y[O]=[];break;case"K":G=L[b].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(wl(G))?isNaN(vp(G).getDate())||(G=Mn(G)):(G=wl(G),N!==null&&Xp(N)&&(G=Zw(G))),z=!0;break;case"E":U=!0;var k=Fh(L[b].slice(1),{r:x,c:g});y[x][g]=[y[x][g],k];break;case"S":Y=!0,y[x][g]=[y[x][g],"S5S"];break;case"G":break;case"R":ae=parseInt(L[b].slice(1))-1;break;case"C":he=parseInt(L[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(z&&(y[x][g]&&y[x][g].length==2?y[x][g][0]=G:y[x][g]=G,N=null),Y){if(U)throw new Error("SYLK shared formula cannot have own formula");var P=ae>-1&&y[ae][he];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");y[x][g][1]=nB(P[1],{r:x-ae,c:g-he})}break;case"F":var R=0;for(b=1;b<L.length;++b)switch(L[b].charAt(0)){case"X":g=parseInt(L[b].slice(1))-1,++R;break;case"Y":for(x=parseInt(L[b].slice(1))-1,O=y.length;O<=x;++O)y[O]=[];break;case"M":F=parseInt(L[b].slice(1))/20;break;case"F":break;case"G":break;case"P":N=_[parseInt(L[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=L[b].slice(1).split(" "),O=parseInt(T[0],10);O<=parseInt(T[1],10);++O)F=parseInt(T[2],10),A[O-1]=F===0?{hidden:!0}:{wch:F},yd(A[O-1]);break;case"C":g=parseInt(L[b].slice(1))-1,A[g]||(A[g]={});break;case"R":x=parseInt(L[b].slice(1))-1,j[x]||(j[x]={}),F>0?(j[x].hpt=F,j[x].hpx=yp(F)):F===0&&(j[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}R<1&&(N=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return j.length>0&&(S["!rows"]=j),A.length>0&&(S["!cols"]=A),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,S]}function s(h,p){var m=a(h,p),x=m[0],g=m[1],v=Qp(x,p);return ta(g).forEach(function(b){v[b]=g[b]}),v}function l(h,p){return Dd(s(h,p),p)}function c(h,p,m,x){var g="C;Y"+(m+1)+";X"+(x+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+GA(h.f,{r:m,c:x}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,p){p.forEach(function(m,x){var g="F;W"+(x+1)+" "+(x+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=M1(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=F1(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,p){p.forEach(function(m,x){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*R1(m.hpx)+";"),g.length>2&&h.push(g+"R"+(x+1))})}function f(h,p){var m=["ID;PWXL;N;E"],x=[],g=kr(h["!ref"]),v,b=Array.isArray(h),y=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&u(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var N=g.s.c;N<=g.e.c;++N){var S=Vt({r:_,c:N});v=b?(h[_]||[])[N]:h[S],!(!v||v.v==null&&(!v.f||v.F))&&x.push(c(v,h,_,N))}return m.join(y)+y+x.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:s,from_sheet:f}}(),$9=function(){function e(i,s){switch(s.type){case"base64":return t(co(i),s);case"binary":return t(i,s);case"buffer":return t(cr&&Buffer.isBuffer(i)?i.toString("binary"):Pd(i),s);case"array":return t(W0(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],m=h[1];++d;for(var x=l[d]||"";(x.match(/["]/g)||[]).length&1&&d<l.length-1;)x+=`
`+l[++d];switch(x=x.trim(),+p){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN(wl(m))?isNaN(vp(m).getDate())?f[c][u]=m:f[c][u]=Mn(m):f[c][u]=wl(m),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Qp(e(i,s),s)}function n(i,s){return Dd(r(i,s),s)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=kr(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(u,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var x=Vt({r:p,c:m});if(f=h?(c[p]||[])[m]:c[x],!f){s(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,g,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Vo(f.z||Ht[14],Ka(Mn(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var v=`\r
`,b=u.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),z9=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,x=-1,g=0,v=[];g!==p.length;++g){var b=p[g].trim().split(":");if(b[0]==="cell"){var y=qn(b[1]);if(v.length<=y.r)for(m=v.length;m<=y.r;++m)v[m]||(v[m]=[]);switch(m=y.r,x=y.c,b[2]){case"t":v[m][x]=e(b[3]);break;case"v":v[m][x]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[m][x]=!!+b[4];break;default:v[m][x]=+b[4];break}b[2]=="vtf"&&(v[m][x]=[v[m][x],_])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return Qp(r(f,h),h)}function a(f,h){return Dd(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,x="",g=Ms(f["!ref"]),v=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var y=g.s.c;y<=g.e.c;++y)if(x=Vt({r:b,c:y}),m=v?(f[b]||[])[y]:f[x],!(!m||m.v==null||m.t==="z")){switch(p=["cell",x,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var _=Ka(Mn(m.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=m.w||Vo(m.z||Ht[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,l,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),bp=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(wl(d))?isNaN(vp(d).getDate())?f[h][p]=d:f[h][p]=Mn(d):f[h][p]=wl(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),x=m.length-1;x>=0&&m[x].length===0;)--x;for(var g=10,v=0,b=0;b<=x;++b)v=m[b].indexOf(" "),v==-1?v=m[b].length:v++,g=Math.max(g,v);for(b=0;b<=x;++b){p[b]=[];var y=0;for(e(m[b].slice(0,g).trim(),p,b,y,h),y=1;y<=(m[b].length-g)/10+1;++y)e(m[b].slice(g+(y-1)*10,g+y*10).trim(),p,b,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(x,g){return x[0]-g[0]||n[x[1]]-n[g[1]]}),r[m.pop()[1]]||44}function i(d,f){var h=f||{},p="",m=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var g=0,v=0,b=0,y=0,_=0,N=p.charCodeAt(0),S=!1,j=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?fwe(h.dateNF):null;function F(){var O=d.slice(y,_),E={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)E.t="z";else if(h.raw)E.t="s",E.v=O;else if(O.trim().length===0)E.t="s",E.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(E.t="s",E.v=O.slice(2,-1).replace(/""/g,'"')):z3e(O)?(E.t="n",E.f=O.slice(1)):(E.t="s",E.v=O);else if(O=="TRUE")E.t="b",E.v=!0;else if(O=="FALSE")E.t="b",E.v=!1;else if(!isNaN(b=wl(O)))E.t="n",h.cellText!==!1&&(E.w=O),E.v=b;else if(!isNaN(vp(O).getDate())||T&&O.match(T)){E.z=h.dateNF||Ht[14];var L=0;T&&O.match(T)&&(O=hwe(O,h.dateNF,O.match(T)||[]),L=1),h.cellDates?(E.t="d",E.v=Mn(O,L)):(E.t="n",E.v=Ka(Mn(O,L))),h.cellText!==!1&&(E.w=Vo(E.z,E.v instanceof Date?Ka(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=O;if(E.t=="z"||(h.dense?(m[g]||(m[g]=[]),m[g][v]=E):m[Vt({c:v,r:g})]=E),y=_+1,A=d.charCodeAt(y),x.e.c<v&&(x.e.c=v),x.e.r<g&&(x.e.r=g),j==N)++v;else if(v=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;_<d.length;++_)switch(j=d.charCodeAt(_)){case 34:A===34&&(S=!S);break;case N:case 10:case 13:if(!S&&F())break e;break}return _-y>0&&F(),m["!ref"]=ir(x),m}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Qp(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:tC(d,f);switch(f.type){case"base64":h=co(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof rd<"u"?h=rd.utils.decode(f.codepage,d):h=cr&&Buffer.isBuffer(d)?d.toString("binary"):Pd(d);break;case"array":h=W0(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=cn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=cn(h):f.type=="binary"&&typeof rd<"u"&&f.codepage&&(h=rd.utils.decode(f.codepage,rd.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?z9.to_sheet(f.type=="string"?h:cn(h),f):s(h,f)}function c(d,f){return Dd(l(d,f),f)}function u(d){for(var f=[],h=kr(d["!ref"]),p,m=Array.isArray(d),x=h.s.r;x<=h.e.r;++x){for(var g=[],v=h.s.c;v<=h.e.c;++v){var b=Vt({r:x,c:v});if(p=m?(d[x]||[])[v]:d[b],!p||p.v==null){g.push("          ");continue}for(var y=(p.w||(lu(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(v===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function C4e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=B9.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return bp.to_workbook(e,t)}}var E0=function(){function e(k,P,R){if(k){_i(k,k.l||0);for(var H=R.Enum||ae;k.l<k.length;){var X=k.read_shift(2),oe=H[X]||H[65535],fe=k.read_shift(2),re=k.l+fe,ve=oe.f&&oe.f(k,fe,R);if(k.l=re,P(ve,oe,X))return}}}function t(k,P){switch(P.type){case"base64":return r(eo(co(k)),P);case"binary":return r(eo(k),P);case"buffer":case"array":return r(k,P)}throw"Unsupported type "+P.type}function r(k,P){if(!k)return k;var R=P||{},H=R.dense?[]:{},X="Sheet1",oe="",fe=0,re={},ve=[],Ce=[],q={s:{r:0,c:0},e:{r:0,c:0}},Me=R.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)R.Enum=ae,e(k,function(De,se,ce){switch(ce){case 0:R.vers=De,De>=4096&&(R.qpro=!0);break;case 6:q=De;break;case 204:De&&(oe=De);break;case 222:oe=De;break;case 15:case 51:R.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:ce==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=R.dateNF||Ht[14],R.cellDates&&(De[1].t="d",De[1].v=Zw(De[1].v))),R.qpro&&De[3]>fe&&(H["!ref"]=ir(q),re[X]=H,ve.push(X),H=R.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},fe=De[3],X=oe||"Sheet"+(fe+1),oe="");var ye=R.dense?(H[De[0].r]||[])[De[0].c]:H[Vt(De[0])];if(ye){ye.t=De[1].t,ye.v=De[1].v,De[1].z!=null&&(ye.z=De[1].z),De[1].f!=null&&(ye.f=De[1].f);break}R.dense?(H[De[0].r]||(H[De[0].r]=[]),H[De[0].r][De[0].c]=De[1]):H[Vt(De[0])]=De[1];break}},R);else if(k[2]==26||k[2]==14)R.Enum=he,k[2]==14&&(R.qpro=!0,k.l=0),e(k,function(De,se,ce){switch(ce){case 204:X=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>fe&&(H["!ref"]=ir(q),re[X]=H,ve.push(X),H=R.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},fe=De[3],X="Sheet"+(fe+1)),Me>0&&De[0].r>=Me)break;R.dense?(H[De[0].r]||(H[De[0].r]=[]),H[De[0].r][De[0].c]=De[1]):H[Vt(De[0])]=De[1],q.e.c<De[0].c&&(q.e.c=De[0].c),q.e.r<De[0].r&&(q.e.r=De[0].r);break;case 27:De[14e3]&&(Ce[De[14e3][0]]=De[14e3][1]);break;case 1537:Ce[De[0]]=De[1],De[0]==fe&&(X=De[1]);break}},R);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(H["!ref"]=ir(q),re[oe||X]=H,ve.push(oe||X),!Ce.length)return{SheetNames:ve,Sheets:re};for(var Le={},_e=[],ne=0;ne<Ce.length;++ne)re[ve[ne]]?(_e.push(Ce[ne]||ve[ne]),Le[Ce[ne]]=re[Ce[ne]]||re[ve[ne]]):(_e.push(Ce[ne]),Le[Ce[ne]]={"!ref":"A1"});return{SheetNames:_e,Sheets:Le}}function n(k,P){var R=P||{};if(+R.codepage>=0&&vl(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var H=Ps(),X=kr(k["!ref"]),oe=Array.isArray(k),fe=[];ct(H,0,i(1030)),ct(H,6,c(X));for(var re=Math.min(X.e.r,8191),ve=X.s.r;ve<=re;++ve)for(var Ce=ga(ve),q=X.s.c;q<=X.e.c;++q){ve===X.s.r&&(fe[q]=Vn(q));var Me=fe[q]+Ce,Le=oe?(k[ve]||[])[q]:k[Me];if(!(!Le||Le.t=="z"))if(Le.t=="n")(Le.v|0)==Le.v&&Le.v>=-32768&&Le.v<=32767?ct(H,13,p(ve,q,Le.v)):ct(H,14,x(ve,q,Le.v));else{var _e=lu(Le);ct(H,15,f(ve,q,_e.slice(0,239)))}}return ct(H,1),H.end()}function a(k,P){var R=P||{};if(+R.codepage>=0&&vl(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var H=Ps();ct(H,0,s(k));for(var X=0,oe=0;X<k.SheetNames.length;++X)(k.Sheets[k.SheetNames[X]]||{})["!ref"]&&ct(H,27,U(k.SheetNames[X],oe++));var fe=0;for(X=0;X<k.SheetNames.length;++X){var re=k.Sheets[k.SheetNames[X]];if(!(!re||!re["!ref"])){for(var ve=kr(re["!ref"]),Ce=Array.isArray(re),q=[],Me=Math.min(ve.e.r,8191),Le=ve.s.r;Le<=Me;++Le)for(var _e=ga(Le),ne=ve.s.c;ne<=ve.e.c;++ne){Le===ve.s.r&&(q[ne]=Vn(ne));var De=q[ne]+_e,se=Ce?(re[Le]||[])[ne]:re[De];if(!(!se||se.t=="z"))if(se.t=="n")ct(H,23,F(Le,ne,fe,se.v));else{var ce=lu(se);ct(H,22,j(Le,ne,fe,ce.slice(0,239)))}}++fe}}return ct(H,1),H.end()}function i(k){var P=Xe(2);return P.write_shift(2,k),P}function s(k){var P=Xe(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var R=0,H=0,X=0,oe=0;oe<k.SheetNames.length;++oe){var fe=k.SheetNames[oe],re=k.Sheets[fe];if(!(!re||!re["!ref"])){++X;var ve=Ms(re["!ref"]);R<ve.e.r&&(R=ve.e.r),H<ve.e.c&&(H=ve.e.c)}}return R>8191&&(R=8191),P.write_shift(2,R),P.write_shift(1,X),P.write_shift(1,H),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function l(k,P,R){var H={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&R.qpro?(H.s.c=k.read_shift(1),k.l++,H.s.r=k.read_shift(2),H.e.c=k.read_shift(1),k.l++,H.e.r=k.read_shift(2),H):(H.s.c=k.read_shift(2),H.s.r=k.read_shift(2),P==12&&R.qpro&&(k.l+=2),H.e.c=k.read_shift(2),H.e.r=k.read_shift(2),P==12&&R.qpro&&(k.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function c(k){var P=Xe(8);return P.write_shift(2,k.s.c),P.write_shift(2,k.s.r),P.write_shift(2,k.e.c),P.write_shift(2,k.e.r),P}function u(k,P,R){var H=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(H[0].c=k.read_shift(1),H[3]=k.read_shift(1),H[0].r=k.read_shift(2),k.l+=2):(H[2]=k.read_shift(1),H[0].c=k.read_shift(2),H[0].r=k.read_shift(2)),H}function d(k,P,R){var H=k.l+P,X=u(k,P,R);if(X[1].t="s",R.vers==20768){k.l++;var oe=k.read_shift(1);return X[1].v=k.read_shift(oe,"utf8"),X}return R.qpro&&k.l++,X[1].v=k.read_shift(H-k.l,"cstr"),X}function f(k,P,R){var H=Xe(7+R.length);H.write_shift(1,255),H.write_shift(2,P),H.write_shift(2,k),H.write_shift(1,39);for(var X=0;X<H.length;++X){var oe=R.charCodeAt(X);H.write_shift(1,oe>=128?95:oe)}return H.write_shift(1,0),H}function h(k,P,R){var H=u(k,P,R);return H[1].v=k.read_shift(2,"i"),H}function p(k,P,R){var H=Xe(7);return H.write_shift(1,255),H.write_shift(2,P),H.write_shift(2,k),H.write_shift(2,R,"i"),H}function m(k,P,R){var H=u(k,P,R);return H[1].v=k.read_shift(8,"f"),H}function x(k,P,R){var H=Xe(13);return H.write_shift(1,255),H.write_shift(2,P),H.write_shift(2,k),H.write_shift(8,R,"f"),H}function g(k,P,R){var H=k.l+P,X=u(k,P,R);if(X[1].v=k.read_shift(8,"f"),R.qpro)k.l=H;else{var oe=k.read_shift(2);_(k.slice(k.l,k.l+oe),X),k.l+=oe}return X}function v(k,P,R){var H=P&32768;return P&=-32769,P=(H?k:0)+(P>=8192?P-16384:P),(H?"":"$")+(R?Vn(P):ga(P))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(k,P){_i(k,0);for(var R=[],H=0,X="",oe="",fe="",re="";k.l<k.length;){var ve=k[k.l++];switch(ve){case 0:R.push(k.read_shift(8,"f"));break;case 1:oe=v(P[0].c,k.read_shift(2),!0),X=v(P[0].r,k.read_shift(2),!1),R.push(oe+X);break;case 2:{var Ce=v(P[0].c,k.read_shift(2),!0),q=v(P[0].r,k.read_shift(2),!1);oe=v(P[0].c,k.read_shift(2),!0),X=v(P[0].r,k.read_shift(2),!1),R.push(Ce+q+":"+oe+X)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(k.read_shift(2));break;case 6:{for(var Me="";ve=k[k.l++];)Me+=String.fromCharCode(ve);R.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:re=R.pop(),fe=R.pop(),R.push(["AND","OR"][ve-20]+"("+fe+","+re+")");break;default:if(ve<32&&y[ve])re=R.pop(),fe=R.pop(),R.push(fe+y[ve]+re);else if(b[ve]){if(H=b[ve][1],H==69&&(H=k[k.l++]),H>R.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+R.join("|")+"|");return}var Le=R.slice(-H);R.length-=H,R.push(b[ve][0]+"("+Le.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}R.length==1?P[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function N(k){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=k.read_shift(2),P[3]=k[k.l++],P[0].c=k[k.l++],P}function S(k,P){var R=N(k);return R[1].t="s",R[1].v=k.read_shift(P-4,"cstr"),R}function j(k,P,R,H){var X=Xe(6+H.length);X.write_shift(2,k),X.write_shift(1,R),X.write_shift(1,P),X.write_shift(1,39);for(var oe=0;oe<H.length;++oe){var fe=H.charCodeAt(oe);X.write_shift(1,fe>=128?95:fe)}return X.write_shift(1,0),X}function A(k,P){var R=N(k);R[1].v=k.read_shift(2);var H=R[1].v>>1;if(R[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return R[1].v=H,R}function T(k,P){var R=N(k),H=k.read_shift(4),X=k.read_shift(4),oe=k.read_shift(2);if(oe==65535)return H===0&&X===3221225472?(R[1].t="e",R[1].v=15):H===0&&X===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var fe=oe&32768;return oe=(oe&32767)-16446,R[1].v=(1-fe*2)*(X*Math.pow(2,oe+32)+H*Math.pow(2,oe)),R}function F(k,P,R,H){var X=Xe(14);if(X.write_shift(2,k),X.write_shift(1,R),X.write_shift(1,P),H==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var oe=0,fe=0,re=0,ve=0;return H<0&&(oe=1,H=-H),fe=Math.log2(H)|0,H/=Math.pow(2,fe-31),ve=H>>>0,ve&2147483648||(H/=2,++fe,ve=H>>>0),H-=ve,ve|=2147483648,ve>>>=0,H*=Math.pow(2,32),re=H>>>0,X.write_shift(4,re),X.write_shift(4,ve),fe+=16383+(oe?32768:0),X.write_shift(2,fe),X}function O(k,P){var R=T(k);return k.l+=P-14,R}function E(k,P){var R=N(k),H=k.read_shift(4);return R[1].v=H>>6,R}function L(k,P){var R=N(k),H=k.read_shift(8,"f");return R[1].v=H,R}function B(k,P){var R=L(k);return k.l+=P-10,R}function G(k,P){return k[k.l+P-1]==0?k.read_shift(P,"cstr"):""}function z(k,P){var R=k[k.l++];R>P-1&&(R=P-1);for(var H="";H.length<R;)H+=String.fromCharCode(k[k.l++]);return H}function V(k,P,R){if(!(!R.qpro||P<21)){var H=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var X=k.read_shift(P-21,"cstr");return[H,X]}}function Y(k,P){for(var R={},H=k.l+P;k.l<H;){var X=k.read_shift(2);if(X==14e3){for(R[X]=[0,""],R[X][0]=k.read_shift(2);k[k.l];)R[X][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return R}function U(k,P){var R=Xe(5+k.length);R.write_shift(2,14e3),R.write_shift(2,P);for(var H=0;H<k.length;++H){var X=k.charCodeAt(H);R[R.l++]=X>127?95:X}return R[R.l++]=0,R}var ae={0:{n:"BOF",f:ka},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},he={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function E4e(e){var t={},r=e.match(Ki),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=qt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=vA[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var k4e=function(){var e=T1("t"),t=T1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var l={t:"s",v:Er(s[1])},c=i.match(t);return c&&(l.s=E4e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),T4e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),O4e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,P4e=/<(?:\w+:)?r>/,D4e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function UA(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Er(cn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=cn(e),r&&(n.h=EA(n.t))):e.match(P4e)&&(n.r=cn(e),n.t=Er(cn((e.replace(D4e,"").match(O4e)||[]).join("").replace(Ki,""))),r&&(n.h=T4e(k4e(n.r)))),n):{t:""}}var I4e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,M4e=/<(?:\w+:)?(?:si|sstItem)>/g,F4e=/<\/(?:\w+:)?(?:si|sstItem)>/;function R4e(e,t){var r=[],n="";if(!e)return r;var a=e.match(I4e);if(a){n=a[2].replace(M4e,"").split(F4e);for(var i=0;i!=n.length;++i){var s=UA(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=qt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var L4e=/^\s|\s$|[\t\n\r]/;function U9(e,t){if(!t.bookSST)return"";var r=[ba];r[r.length]=lt("sst",null,{xmlns:df[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(L4e)&&(i+=' xml:space="preserve"'),i+=">"+Zr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function B4e(e){return[e.read_shift(4),e.read_shift(4)]}function $4e(e,t){var r=[],n=!1;return pu(e,function(i,s,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function z4e(e,t){return t||(t=Xe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var U4e=Jwe;function H4e(e){var t=Ps();et(t,159,z4e(e));for(var r=0;r<e.length;++r)et(t,19,U4e(e[r]));return et(t,160),t.end()}function H9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Qc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function W4e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Qc(e,4),t.U=Qc(e,4),t.W=Qc(e,4),t}function V4e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function q4e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(V4e(e));return t}function G4e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Y4e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Qc(e,4),t.U=Qc(e,4),t.W=Qc(e,4),t}function X4e(e){var t=Y4e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function W9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function V9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function K4e(e){var t=Qc(e);switch(t.Minor){case 2:return[t.Minor,Q4e(e)];case 3:return[t.Minor,J4e()];case 4:return[t.Minor,Z4e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Q4e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=W9(e,r),a=V9(e,e.length-e.l);return{t:"Std",h:n,v:a}}function J4e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Z4e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ki,function(i){var s=qt(i);switch(gc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=s[l]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function eNe(e,t){var r={},n=r.EncryptionVersionInfo=Qc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=W9(e,a),t-=a,r.EncryptionVerifier=V9(e,t),r}function tNe(e){var t={},r=t.EncryptionVersionInfo=Qc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function HA(e){var t=0,r,n=H9(e),a=n.length+1,i,s,l,c,u;for(r=bd(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^s;return t^52811}var q9=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,l){return n(s^l)},i=function(s){for(var l=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(s){for(var l=H9(s),c=i(l),u=l.length,d=bd(16),f=0;f!=16;++f)d[f]=0;var h,p,m;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,m=15-l.length;m>0;)h=c>>8,d[u]=a(e[m],h),--u,--m,h=c&255,d[u]=a(l[u],h),--u,--m;return d}}(),rNe=function(e,t,r,n,a){a||(a=t),n||(n=q9(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},nNe=function(e){var t=0,r=q9(e);return function(n){var a=rNe("",n,t,r);return t=a[1],a[0]}};function aNe(e,t,r,n){var a={key:ka(e),verificationBytes:ka(e)};return r.password&&(a.verifier=HA(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=nNe(r.password)),a}function iNe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=tNe(e):n.Data=eNe(e,t),n}function sNe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?iNe(e,t-2,n):aNe(e,r.biff>=8?t:t-2,r,n),n}var G9=function(){function e(a,i){switch(i.type){case"base64":return t(co(a),i);case"binary":return t(a,i);case"buffer":return t(cr&&Buffer.isBuffer(a)?a.toString("binary"):Pd(a),i);case"array":return t(W0(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},l=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,m,x=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var g=d.slice(p,h.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var v={v:g,t:"s"};Array.isArray(l)?l[f][x]=v:l[Vt({r:f,c:x})]=v}break}p=h.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=ir(u),l}function r(a,i){return Dd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=kr(a["!ref"]),l,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Vt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(lu(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function oNe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function I1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function lNe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=s/(u>1?2-u:u),a){case t:l=((r-n)/s+6)%6;break;case r:l=(n-t)/s+2;break;case n:l=(t-r)/s+4;break}return[l/6,c,u/2]}function cNe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,s[0]+=a,s[1]+=c;break;case 1:c=a*(2-l),s[0]+=c,s[1]+=a;break;case 2:c=a*(l-2),s[1]+=a,s[2]+=c;break;case 3:c=a*(4-l),s[1]+=c,s[2]+=a;break;case 4:c=a*(l-4),s[2]+=a,s[0]+=c;break;case 5:c=a*(6-l),s[2]+=c,s[0]+=a;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function vy(e,t){if(t===0)return e;var r=lNe(oNe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),I1(cNe(r))}var Y9=6,uNe=15,dNe=1,Hi=Y9;function M1(e){return Math.floor((e+Math.round(128/Hi)/256)*Hi)}function F1(e){return Math.floor((e-5)/Hi*100+.5)/100}function by(e){return Math.round((e*Hi+5)/Hi*256)/256}function Q_(e){return by(F1(M1(e)))}function WA(e){var t=Math.abs(e-Q_(e)),r=Hi;if(t>.005)for(Hi=dNe;Hi<uNe;++Hi)Math.abs(e-Q_(e))<=t&&(t=Math.abs(e-Q_(e)),r=Hi);Hi=r}function yd(e){e.width?(e.wpx=M1(e.width),e.wch=F1(e.wpx),e.MDW=Hi):e.wpx?(e.wch=F1(e.wpx),e.width=by(e.wch),e.MDW=Hi):typeof e.wch=="number"&&(e.width=by(e.wch),e.wpx=M1(e.width),e.MDW=Hi),e.customWidth&&delete e.customWidth}var fNe=96,X9=fNe;function R1(e){return e*96/X9}function yp(e){return e*X9/96}var hNe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function pNe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(s){var l=qt(s);switch(gc(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Dn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Dn(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function mNe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(s){var l=qt(s);switch(gc(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function xNe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(s){var l=qt(s);switch(gc(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=cn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Dn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Dn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Dn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Dn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Dn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Dn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Dn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=vA[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Dn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=A0[a.color.index];a.color.index==81&&(c=A0[1]),c||(c=A0[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=vy(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function gNe(e,t,r){t.NumberFmt=[];for(var n=ta(Ht),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ht[n[a]];var i=e[0].match(Ki);if(i)for(a=0;a<i.length;++a){var s=qt(i[a]);switch(gc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Er(cn(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Kc(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function vNe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=lt("numFmt",null,{numFmtId:n,formatCode:Zr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=lt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Qv=["numFmtId","fillId","fontId","borderId","xfId"],Jv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function bNe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ki)||[]).forEach(function(i){var s=qt(i),l=0;switch(gc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],l=0;l<Qv.length;++l)n[Qv[l]]&&(n[Qv[l]]=parseInt(n[Qv[l]],10));for(l=0;l<Jv.length;++l)n[Jv[l]]&&(n[Jv[l]]=Dn(n[Jv[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=Dn(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function yNe(e){var t=[];return t[t.length]=lt("cellXfs",null),e.forEach(function(r){t[t.length]=lt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=lt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var wNe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&gNe(f,d,u),(f=l.match(a))&&xNe(f,d,c,u),(f=l.match(n))&&mNe(f,d,c,u),(f=l.match(i))&&pNe(f,d,c,u),(f=l.match(r))&&bNe(f,d,u),d}}();function K9(e,t){var r=[ba,lt("styleSheet",null,{xmlns:df[0],"xmlns:vt":Va.vt})],n;return e.SSF&&(n=vNe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=yNe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function _Ne(e,t){var r=e.read_shift(2),n=Yi(e);return[r,n]}function NNe(e,t,r){r||(r=Xe(6+4*t.length)),r.write_shift(2,e),ci(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function jNe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=i5e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=a5e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Yi(e),n}function SNe(e,t){t||(t=Xe(25+4*32)),t.write_shift(2,e.sz*20),s5e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),my(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),ci(e.name,t),t.length>t.l?t.slice(0,t.l):t}var ANe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],J_,CNe=Xi;function VO(e,t){t||(t=Xe(4*3+8*7+16*1)),J_||(J_=Qw(ANe));var r=J_[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(my({auto:1},t),my({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ENe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Q9(e,t,r){r||(r=Xe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Gm(e,t){return t||(t=Xe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var kNe=Xi;function TNe(e,t){return t||(t=Xe(51)),t.write_shift(1,0),Gm(null,t),Gm(null,t),Gm(null,t),Gm(null,t),Gm(null,t),t.length>t.l?t.slice(0,t.l):t}function ONe(e,t){return t||(t=Xe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),py(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function PNe(e,t,r){var n=Xe(2052);return n.write_shift(4,e),py(t,n),py(r,n),n.length>n.l?n.slice(0,n.l):n}function DNe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ht)n.NumberFmt[a]=Ht[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return pu(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Kc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=vy(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(d),s=!0;break;case 38:i.pop(),s=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function INe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(et(e,615,_l(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&et(e,44,NNe(a,t[a]))}),et(e,616))}}function MNe(e){var t=1;et(e,611,_l(t)),et(e,43,SNe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),et(e,612)}function FNe(e){var t=2;et(e,603,_l(t)),et(e,45,VO({patternType:"none"})),et(e,45,VO({patternType:"gray125"})),et(e,604)}function RNe(e){var t=1;et(e,613,_l(t)),et(e,46,TNe()),et(e,614)}function LNe(e){var t=1;et(e,626,_l(t)),et(e,47,Q9({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),et(e,627)}function BNe(e,t){et(e,617,_l(t.length)),t.forEach(function(r){et(e,47,Q9(r,0))}),et(e,618)}function $Ne(e){var t=1;et(e,619,_l(t)),et(e,48,ONe({xfId:0,builtinId:0,name:"Normal"})),et(e,620)}function zNe(e){var t=0;et(e,505,_l(t)),et(e,506)}function UNe(e){var t=0;et(e,508,PNe(t,"TableStyleMedium9","PivotStyleMedium4")),et(e,509)}function HNe(e,t){var r=Ps();return et(r,278),INe(r,e.SSF),MNe(r),FNe(r),RNe(r),LNe(r),BNe(r,t.cellXfs),$Ne(r),zNe(r),UNe(r),et(r,279),r.end()}var WNe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function VNe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ki)||[]).forEach(function(a){var i=qt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[WNe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function qNe(){}function GNe(){}var YNe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,XNe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,KNe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function QNe(e,t,r){t.themeElements={};var n;[["clrScheme",YNe,VNe],["fontScheme",XNe,qNe],["fmtScheme",KNe,GNe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var JNe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function J9(e,t){(!e||e.length===0)&&(e=VA());var r,n={};if(!(r=e.match(JNe)))throw new Error("themeElements not found in theme");return QNe(r[0],n,t),n.raw=e,n}function VA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ba];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ZNe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=WL(i,{type:"array"})}catch{return}var l=to(s,"theme/theme/theme1.xml",!0);if(l)return J9(l,r)}}function e3e(e){return e.read_shift(4)}function t3e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=r3e(e,4);break;case 2:t.xclrValue=O9(e);break;case 3:t.xclrValue=e3e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function r3e(e,t){return Xi(e,t)}function n3e(e,t){return Xi(e,t)}function a3e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=t3e(e);break;case 6:n[1]=n3e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function i3e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(a3e(e,r-e.l));return{ixfe:n,ext:i}}function s3e(e,t){t.forEach(function(r){switch(r[0]){}})}function o3e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Yi(e)}}function l3e(e){var t=Xe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ci(e.name,t),t.slice(0,t.l)}function c3e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function u3e(e){var t=Xe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function d3e(e,t){var r=Xe(8+2*t.length);return r.write_shift(4,e),ci(t,r),r.slice(0,r.l)}function f3e(e){return e.l+=4,e.read_shift(4)!=0}function h3e(e,t){var r=Xe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function p3e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,l=2;return pu(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!u.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function m3e(){var e=Ps();return et(e,332),et(e,334,_l(1)),et(e,335,l3e({name:"XLDAPR",version:12e4,flags:3496657072})),et(e,336),et(e,339,d3e(1,"XLDAPR")),et(e,52),et(e,35,_l(514)),et(e,4096,_l(0)),et(e,4097,Oo(1)),et(e,36),et(e,53),et(e,340),et(e,337,h3e(1)),et(e,51,u3e([[1,0]])),et(e,338),et(e,333),e.end()}function x3e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ki,function(l){var c=qt(l);switch(gc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function Z9(){var e=[ba];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function g3e(e){var t=[];if(!e)return t;var r=1;return(e.match(Ki)||[]).forEach(function(n){var a=qt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function v3e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Vt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function b3e(e,t,r){var n=[];return pu(e,function(i,s,l){switch(l){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function y3e(e,t,r,n){if(!e)return e;var a=n||{},i=!1;pu(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function w3e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var jh=1024;function eB(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[lt("xml",null,{"xmlns:v":Qs.v,"xmlns:o":Qs.o,"xmlns:x":Qs.x,"xmlns:mv":Qs.mv}).replace(/\/>/,">"),lt("o:shapelayout",lt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),lt("v:shapetype",[lt("v:stroke",null,{joinstyle:"miter"}),lt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];jh<e*1e3;)jh+=1e3;return t.forEach(function(i){var s=qn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?lt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=lt("v:fill",c,l),d={on:"t",obscured:"t"};++jh,a=a.concat(["<v:shape"+O1({id:"_x0000_s"+jh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,lt("v:shadow",null,d),lt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ni("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Ni("x:AutoFill","False"),Ni("x:Row",String(s.r)),Ni("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function qO(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var l=qn(s.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[s.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[s.ref]=i;var c=kr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=ir(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function _3e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var l=s.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=qt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=qn(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&UA(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function tB(e){var t=[ba,lt("comments",null,{xmlns:df[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Zr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Zr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ni("t",Zr(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)s+=`Reply:
    `+i[l]+`
`;t.push(Ni("t",Zr(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function N3e(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ki,function(l,c){var u=qt(l);switch(gc(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function j3e(e,t,r){var n=[ba,lt("ThreadedComments",null,{xmlns:Va.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(lt("threadedComment",Ni("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function S3e(e,t){var r=[],n=!1;return e.replace(Ki,function(i){var s=qt(i);switch(gc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function A3e(e){var t=[ba,lt("personList",null,{xmlns:Va.TCMNT,"xmlns:x":df[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(lt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function C3e(e){var t={};t.iauthor=e.read_shift(4);var r=mf(e);return t.rfx=r.s,t.ref=Vt(r.s),e.l+=16,t}function E3e(e,t){return t==null&&(t=Xe(36)),t.write_shift(4,e[1].iauthor),Jp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var k3e=Yi;function T3e(e){return ci(e.slice(0,54))}function O3e(e,t){var r=[],n=[],a={},i=!1;return pu(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function P3e(e){var t=Ps(),r=[];return et(t,628),et(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),et(t,632,T3e(a.a)))})}),et(t,631),et(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:qn(n[0]),e:qn(n[0])};et(t,635,E3e([i,a])),a.t&&a.t.length>0&&et(t,637,e5e(a)),et(t,636),delete a.iauthor})}),et(t,634),et(t,629),t.end()}var D3e="application/vnd.ms-office.vbaProject";function I3e(e){var t=Mt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Mt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Mt.write(t)}function M3e(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Mt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var rB=["xlsb","xlsm","xlam","biff8","xla"];function F3e(){return{"!type":"dialog"}}function R3e(){return{"!type":"dialog"}}function L3e(){return{"!type":"macro"}}function B3e(){return{"!type":"macro"}}var Fh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Vn(d)+(c?"":"$")+ga(u)}return function(a,i){return t=i,a.replace(e,r)}}(),qA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,GA=function(){return function(t,r){return t.replace(qA,function(n,a,i,s,l,c){var u=DA(s)-(i?0:r.c),d=PA(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function nB(e,t){return e.replace(qA,function(r,n,a,i,s,l){return n+(a=="$"?a+i:Vn(DA(i)+t.c))+(s=="$"?s+l:ga(PA(l)+t.r))})}function $3e(e,t,r){var n=Ms(t),a=n.s,i=qn(r),s={r:i.r-a.r,c:i.c-a.c};return nB(e,s)}function z3e(e){return e.length!=1}function GO(e){return e.replace(/_xlfn\./g,"")}function Sa(e){e.l+=1}function wd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function aB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return iB(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=wd(e),l=wd(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function iB(e){var t=wd(e),r=wd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function U3e(e,t,r){if(r.biff<8)return iB(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=wd(e),s=wd(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function sB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return H3e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=wd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function H3e(e){var t=wd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function W3e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function V3e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return q3e(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:l}}function q3e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function G3e(e,t,r){var n=(e[e.l++]&96)>>5,a=aB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Y3e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=aB(e,i,r);return[n,a,s]}function X3e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function K3e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Q3e(e,t,r){var n=(e[e.l++]&96)>>5,a=U3e(e,t-1,r);return[n,a]}function J3e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function YO(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Z3e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function eje(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function tje(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function rje(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function nje(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function oB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function aje(e){return e.read_shift(2),oB(e)}function ije(e){return e.read_shift(2),oB(e)}function sje(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=sB(e,0,r);return[n,a]}function oje(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=V3e(e,0,r);return[n,a]}function lje(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=sB(e,0,r);return[n,a,i]}function cje(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[fSe[a],uB[a],n]}function uje(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:dje(e);return[a,(i[0]===0?uB:dSe)[i[1]]]}function dje(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function fje(e,t,r){e.l+=r&&r.biff==2?3:4}function hje(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function pje(e){return e.l++,mu[e.read_shift(1)]}function mje(e){return e.l++,e.read_shift(2)}function xje(e){return e.l++,e.read_shift(1)!==0}function gje(e){return e.l++,Wi(e)}function vje(e,t,r){return e.l++,gg(e,t-1,r)}function bje(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ca(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=mu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Wi(e);break;case 2:r[1]=xf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function yje(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?mf:e5)(e));return a}function wje(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var l=0;l!=a;++l)s[i][l]=bje(e,r.biff);return s}function _je(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Nje(e,t,r){if(r.biff==5)return jje(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function jje(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Sje(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Aje(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Cje(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Eje(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var kje=Xi,Tje=Xi,Oje=Xi;function bg(e,t,r){return e.l+=2,[W3e(e)]}function YA(e){return e.l+=6,[]}var Pje=bg,Dje=YA,Ije=YA,Mje=bg;function lB(e){return e.l+=2,[ka(e),e.read_shift(2)&1]}var Fje=bg,Rje=lB,Lje=YA,Bje=bg,$je=bg,zje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Uje(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=zje[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Hje(e){return e.l+=2,[e.read_shift(4)]}function Wje(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Vje(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function qje(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Gje(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Yje(e){return e.l+=4,[0,0]}var XO={1:{n:"PtgExp",f:hje},2:{n:"PtgTbl",f:Oje},3:{n:"PtgAdd",f:Sa},4:{n:"PtgSub",f:Sa},5:{n:"PtgMul",f:Sa},6:{n:"PtgDiv",f:Sa},7:{n:"PtgPower",f:Sa},8:{n:"PtgConcat",f:Sa},9:{n:"PtgLt",f:Sa},10:{n:"PtgLe",f:Sa},11:{n:"PtgEq",f:Sa},12:{n:"PtgGe",f:Sa},13:{n:"PtgGt",f:Sa},14:{n:"PtgNe",f:Sa},15:{n:"PtgIsect",f:Sa},16:{n:"PtgUnion",f:Sa},17:{n:"PtgRange",f:Sa},18:{n:"PtgUplus",f:Sa},19:{n:"PtgUminus",f:Sa},20:{n:"PtgPercent",f:Sa},21:{n:"PtgParen",f:Sa},22:{n:"PtgMissArg",f:Sa},23:{n:"PtgStr",f:vje},26:{n:"PtgSheet",f:Wje},27:{n:"PtgEndSheet",f:Vje},28:{n:"PtgErr",f:pje},29:{n:"PtgBool",f:xje},30:{n:"PtgInt",f:mje},31:{n:"PtgNum",f:gje},32:{n:"PtgArray",f:J3e},33:{n:"PtgFunc",f:cje},34:{n:"PtgFuncVar",f:uje},35:{n:"PtgName",f:_je},36:{n:"PtgRef",f:sje},37:{n:"PtgArea",f:G3e},38:{n:"PtgMemArea",f:Sje},39:{n:"PtgMemErr",f:kje},40:{n:"PtgMemNoMem",f:Tje},41:{n:"PtgMemFunc",f:Aje},42:{n:"PtgRefErr",f:Cje},43:{n:"PtgAreaErr",f:X3e},44:{n:"PtgRefN",f:oje},45:{n:"PtgAreaN",f:Q3e},46:{n:"PtgMemAreaN",f:qje},47:{n:"PtgMemNoMemN",f:Gje},57:{n:"PtgNameX",f:Nje},58:{n:"PtgRef3d",f:lje},59:{n:"PtgArea3d",f:Y3e},60:{n:"PtgRefErr3d",f:Eje},61:{n:"PtgAreaErr3d",f:K3e},255:{}},Xje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Kje={1:{n:"PtgElfLel",f:lB},2:{n:"PtgElfRw",f:Bje},3:{n:"PtgElfCol",f:Pje},6:{n:"PtgElfRwV",f:$je},7:{n:"PtgElfColV",f:Mje},10:{n:"PtgElfRadical",f:Fje},11:{n:"PtgElfRadicalS",f:Lje},13:{n:"PtgElfColS",f:Dje},15:{n:"PtgElfColSV",f:Ije},16:{n:"PtgElfRadicalLel",f:Rje},25:{n:"PtgList",f:Uje},29:{n:"PtgSxName",f:Hje},255:{}},Qje={0:{n:"PtgAttrNoop",f:Yje},1:{n:"PtgAttrSemi",f:nje},2:{n:"PtgAttrIf",f:tje},4:{n:"PtgAttrChoose",f:Z3e},8:{n:"PtgAttrGoto",f:eje},16:{n:"PtgAttrSum",f:fje},32:{n:"PtgAttrBaxcel",f:YO},33:{n:"PtgAttrBaxcel",f:YO},64:{n:"PtgAttrSpace",f:aje},65:{n:"PtgAttrSpaceSemi",f:ije},128:{n:"PtgAttrIfError",f:rje},255:{}};function yg(e,t,r,n){if(n.biff<8)return Xi(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=wje(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=yje(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Xi(e,t)),i}function wg(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=XO[i]||XO[Xje[i]],(i===24||i===25)&&(a=(i===24?Kje:Qje)[e[e.l+1]]),!a||!a.f?Xi(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Jje(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Zje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eSe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function KO(e,t,r){var n=cB(e,t,r);return n=="#REF"?n:eSe(n,r)}function zi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var x=-1,g="",v=0,b=e[0].length;v<b;++v){var y=e[0][v];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:g=Zn(" ",e[0][x][1][1]);break;case 1:g=Zn("\r",e[0][x][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+g,x=-1}l.push(u+Zje[y[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Cx(y[1][1],s,a),l.push(Ex(d,i));break;case"PtgRefN":d=r?Cx(y[1][1],r,a):y[1][1],l.push(Ex(d,i));break;case"PtgRef3d":f=y[1][1],d=Cx(y[1][2],s,a),m=KO(n,f,a),l.push(m+"!"+Ex(d,i));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],N=y[1][1];_||(_=0),_&=127;var S=_==0?[]:l.slice(-_);l.length-=_,N==="User"&&(N=S.shift()),l.push(N+"("+S.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":p=SO(y[1][1],r?{s:r}:s,a),l.push(Y_(p,a));break;case"PtgArea":p=SO(y[1][1],s,a),l.push(Y_(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],m=KO(n,f,a),l.push(m+"!"+Y_(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],A=j?j.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var F;if(a.biff<=5)T<0&&(T=-T),n[T]&&(F=n[T][h]);else{var O="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(O=n.SheetNames[n[T][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])O+=n[T][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var E=(cB(n,T,a)||"").split(";;");E[h-1]?O=E[h-1]:O+="SH33TJSERRX"}l.push(O);break}F||(F={Name:"SH33TJSERRY"}),l.push(F.Name);break;case"PtgParen":var L="(",B=")";if(x>=0){switch(g="",e[0][x][1][0]){case 2:L=Zn(" ",e[0][x][1][1])+L;break;case 3:L=Zn("\r",e[0][x][1][1])+L;break;case 4:B=Zn(" ",e[0][x][1][1])+B;break;case 5:B=Zn("\r",e[0][x][1][1])+B;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(L+l.pop()+B);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var G={c:r.c,r:r.r};if(n.sharedf[Vt(d)]){var z=n.sharedf[Vt(d)];l.push(zi(z,s,G,n,a))}else{var V=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(zi(u[1],s,G,n,a)),V=!0;break}V||l.push(y[1])}break;case"PtgArray":l.push("{"+Jje(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&Y.indexOf(e[0][v][0])==-1){y=e[0][x];var U=!0;switch(y[1][0]){case 4:U=!1;case 0:g=Zn(" ",y[1][1]);break;case 5:U=!1;case 1:g=Zn("\r",y[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((U?g:"")+l.pop()+(U?"":g)),x=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function tSe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Xi(e,t-2)];var l=wg(e,s,r);return t!==s+a&&(i=yg(e,t-s-a,l,r)),e.l=n,[l,i]}function rSe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Xi(e,t-2)];var l=wg(e,s,r);return t!==s+a&&(i=yg(e,t-s-a,l,r)),e.l=n,[l,i]}function nSe(e,t,r,n){var a=e.l+t,i=wg(e,n,r),s;return a!==e.l&&(s=yg(e,a-e.l,i,r)),[i,s]}function aSe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=wg(e,i,r);return i==65535?[[],Xi(e,t-2)]:(t!==i+2&&(a=yg(e,n-i-2,s,r)),[s,a])}function iSe(e){var t;if(Hc(e,e.l+6)!==65535)return[Wi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function sSe(e){if(e==null){var t=Xe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return V0(e);return V0(0)}function Z_(e,t,r){var n=e.l+t,a=vc(e);r.biff==2&&++e.l;var i=iSe(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=rSe(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:s>>3&1,tt:i[1]}}function oSe(e,t,r,n,a){var i=G0(t,r,a),s=sSe(e.v),l=Xe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Xe(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=li([i,s,l,u]);return f}function t5(e,t,r){var n=e.read_shift(4),a=wg(e,n,r),i=e.read_shift(4),s=i>0?yg(e,i,a,r):null;return[a,s]}var lSe=t5,r5=t5,cSe=t5,uSe=t5,dSe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},uB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fSe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function QO(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function hSe(e){var t="of:="+e.replace(qA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function e4(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function pSe(e){return e.replace(/\./,"!")}var Tx={},Rh={},Ox=typeof Map<"u";function XA(e,t,r){var n=0,a=e.length;if(r){if(Ox?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Ox?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Ox?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function n5(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Hi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=F1(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=by(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function k0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Id(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Kc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function dB(e,t,r,n,a,i){try{n.cellNF&&(e.z=Ht[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Mn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ht[t]==null&&Kc(dwe[t]||"General",t),e.t==="e")e.w=e.w||mu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=k1(e.v);else if(e.t==="d"){var s=Ka(e.v);(s|0)===s?e.w=s.toString(10):e.w=k1(s)}else{if(e.v===void 0)return"";e.w=H0(e.v,Rh)}else e.t==="d"?e.w=Vo(t,Ka(e.v),Rh):e.w=Vo(t,e.v,Rh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=vy(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=vy(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function mSe(e,t,r){if(e&&e["!ref"]){var n=kr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function xSe(e,t){var r=kr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ir(r))}var gSe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,vSe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,bSe=/<(?:\w:)?hyperlink [^>]*>/mg,ySe=/"(\w*:\w*)"/,wSe=/<(?:\w:)?col\b[^>]*[\/]?>/g,_Se=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,NSe=/<(?:\w:)?pageMargins[^>]*\/>/g,fB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,jSe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,SSe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function ASe(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(vSe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(fB);h?KA(h[0],l,a,r):(h=u.match(jSe))&&ESe(h[0],h[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=u.slice(p,p+50).match(ySe);m&&xSe(l,m[1])}var x=u.match(SSe);x&&x[1]&&zSe(x[1],a);var g=[];if(t.cellStyles){var v=u.match(wSe);v&&FSe(g,v)}f&&WSe(f[1],l,t,c,i,s);var b=d.match(_Se);b&&(l["!autofilter"]=LSe(b[0]));var y=[],_=d.match(gSe);if(_)for(p=0;p!=_.length;++p)y[p]=kr(_[p].slice(_[p].indexOf('"')+1));var N=d.match(bSe);N&&DSe(l,N,n);var S=d.match(NSe);if(S&&(l["!margins"]=ISe(qt(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ir(c)),t.sheetRows>0&&l["!ref"]){var j=kr(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ir(j))}return g.length>0&&(l["!cols"]=g),y.length>0&&(l["!merges"]=y),l}function CSe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ir(e[r])+'"/>';return t+"</mergeCells>"}function KA(e,t,r,n){var a=qt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Er(cn(a.codeName)))}function ESe(e,t,r,n,a){KA(e.slice(0,e.indexOf(">")),r,n,a)}function kSe(e,t,r,n,a){var i=!1,s={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=Jl(Zr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+lt("outlinePr",null,u)}!i&&!l||(a[a.length]=lt("sheetPr",l,s))}var TSe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],OSe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function PSe(e){var t={sheet:1};return TSe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),OSe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=HA(e.password).toString(16).toUpperCase()),lt("sheetProtection",null,t)}function DSe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=qt(cn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Er(i.location))):(i.Target="#"+Er(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=kr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Vt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function ISe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function MSe(e){return k0(e),lt("pageMargins",null,e)}function FSe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=qt(t[n],!0);a.hidden&&(a.hidden=Dn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,WA(a.width)),yd(a);i<=s;)e[i++]=Fn(a)}}function RSe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=lt("col",null,n5(a,n)));return r[r.length]="</cols>",r.join("")}function LSe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function BSe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:ir(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Ms(a);s.s.r==s.e.r&&(s.e.r=Ms(t["!ref"]).e.r,a=ir(s));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),lt("autoFilter",null,{ref:a})}var $Se=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zSe(e,t){t.Views||(t.Views=[{}]),(e.match($Se)||[]).forEach(function(r,n){var a=qt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Dn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function USe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),lt("sheetViews",lt("sheetView",null,a),{})}function HSe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=mu[e.v];break;case"d":n&&n.cellDates?a=Mn(e.v,-1).toISOString():(e=Fn(e),e.t="n",a=""+(e.v=Ka(Mn(e.v)))),typeof e.z>"u"&&(e.z=Ht[14]);break;default:a=e.v;break}var l=Ni("v",Zr(a)),c={r:t},u=Id(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Ni("v",""+XA(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=lt("f",Zr(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),lt("c",l,c)}var WSe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=T1("v"),s=T1("f");return function(c,u,d,f,h,p){for(var m=0,x="",g=[],v=[],b=0,y=0,_=0,N="",S,j,A=0,T=0,F,O,E=0,L=0,B=Array.isArray(p.CellXf),G,z=[],V=[],Y=Array.isArray(u),U=[],ae={},he=!1,k=!!d.sheetStubs,P=c.split(t),R=0,H=P.length;R!=H;++R){x=P[R].trim();var X=x.length;if(X!==0){var oe=0;e:for(m=0;m<X;++m)switch(x[m]){case">":if(x[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(j=qt(x.slice(oe,m),!0),A=j.r!=null?parseInt(j.r,10):A+1,T=-1,d.sheetRows&&d.sheetRows<A)continue;ae={},he=!1,j.ht&&(he=!0,ae.hpt=parseFloat(j.ht),ae.hpx=yp(ae.hpt)),j.hidden=="1"&&(he=!0,ae.hidden=!0),j.outlineLevel!=null&&(he=!0,ae.level=+j.outlineLevel),he&&(U[A-1]=ae)}break;case"<":oe=m;break}if(oe>=m)break;if(j=qt(x.slice(oe,m),!0),A=j.r!=null?parseInt(j.r,10):A+1,T=-1,!(d.sheetRows&&d.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),d&&d.cellStyles&&(ae={},he=!1,j.ht&&(he=!0,ae.hpt=parseFloat(j.ht),ae.hpx=yp(ae.hpt)),j.hidden=="1"&&(he=!0,ae.hidden=!0),j.outlineLevel!=null&&(he=!0,ae.level=+j.outlineLevel),he&&(U[A-1]=ae)),g=x.slice(m).split(e);for(var fe=0;fe!=g.length&&g[fe].trim().charAt(0)=="<";++fe);for(g=g.slice(fe),m=0;m!=g.length;++m)if(x=g[m].trim(),x.length!==0){if(v=x.match(r),b=m,y=0,_=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,v!=null&&v.length===2){for(b=0,N=v[1],y=0;y!=N.length&&!((_=N.charCodeAt(y)-64)<1||_>26);++y)b=26*b+_;--b,T=b}else++T;for(y=0;y!=x.length&&x.charCodeAt(y)!==62;++y);if(++y,j=qt(x.slice(0,y),!0),j.r||(j.r=Vt({r:A-1,c:T})),N=x.slice(y),S={t:""},(v=N.match(i))!=null&&v[1]!==""&&(S.v=Er(v[1])),d.cellFormula){if((v=N.match(s))!=null&&v[1]!==""){if(S.f=Er(cn(v[1])).replace(/\r\n/g,`
`),d.xlfn||(S.f=GO(S.f)),v[0].indexOf('t="array"')>-1)S.F=(N.match(a)||[])[1],S.F.indexOf(":")>-1&&z.push([kr(S.F),S.F]);else if(v[0].indexOf('t="shared"')>-1){O=qt(v[0]);var re=Er(cn(v[1]));d.xlfn||(re=GO(re)),V[parseInt(O.si,10)]=[O,re,j.r]}}else(v=N.match(/<f[^>]*\/>/))&&(O=qt(v[0]),V[O.si]&&(S.f=$3e(V[O.si][1],V[O.si][2],j.r)));var ve=qn(j.r);for(y=0;y<z.length;++y)ve.r>=z[y][0].s.r&&ve.r<=z[y][0].e.r&&ve.c>=z[y][0].s.c&&ve.c<=z[y][0].e.c&&(S.F=z[y][1])}if(j.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(k)S.t="z";else continue;else S.t=j.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),S.t){case"n":if(S.v==""||S.v==null){if(!k)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!k)continue;S.t="z"}else F=Tx[parseInt(S.v,10)],S.v=F.t,S.r=F.r,d.cellHTML&&(S.h=F.h);break;case"str":S.t="s",S.v=S.v!=null?cn(S.v):"",d.cellHTML&&(S.h=EA(S.v));break;case"inlineStr":v=N.match(n),S.t="s",v!=null&&(F=UA(v[1]))?(S.v=F.t,d.cellHTML&&(S.h=F.h)):S.v="";break;case"b":S.v=Dn(S.v);break;case"d":d.cellDates?S.v=Mn(S.v,1):(S.v=Ka(Mn(S.v,1)),S.t="n");break;case"e":(!d||d.cellText!==!1)&&(S.w=S.v),S.v=p9[S.v];break}if(E=L=0,G=null,B&&j.s!==void 0&&(G=p.CellXf[j.s],G!=null&&(G.numFmtId!=null&&(E=G.numFmtId),d.cellStyles&&G.fillId!=null&&(L=G.fillId))),dB(S,E,L,d,h,p),d.cellDates&&B&&S.t=="n"&&Xp(Ht[E])&&(S.t="d",S.v=Zw(S.v)),j.cm&&d.xlmeta){var Ce=(d.xlmeta.Cell||[])[+j.cm-1];Ce&&Ce.type=="XLDAPR"&&(S.D=!0)}if(Y){var q=qn(j.r);u[q.r]||(u[q.r]=[]),u[q.r][q.c]=S}else u[j.r]=S}}}}U.length>0&&(u["!rows"]=U)}}();function VSe(e,t,r,n){var a=[],i=[],s=kr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,p=e["!rows"],m=Array.isArray(e),x={r:u},g,v=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=Vn(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=ga(f),h=s.s.c;h<=s.e.c;++h){c=d[h]+u;var b=m?(e[f]||[])[h]:e[c];b!==void 0&&(l=HSe(b,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(x={r:u},p&&p[f]&&(g=p[f],g.hidden&&(x.hidden=1),v=-1,g.hpx?v=R1(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(x.ht=v,x.customHeight=1),g.level&&(x.outlineLevel=g.level)),a[a.length]=lt("row",i.join(""),x))}if(p)for(;f<p.length;++f)p&&p[f]&&(x={r:f+1},g=p[f],g.hidden&&(x.hidden=1),v=-1,g.hpx?v=R1(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(x.ht=v,x.customHeight=1),g.level&&(x.outlineLevel=g.level),a[a.length]=lt("row","",x));return a.join("")}function hB(e,t,r,n){var a=[ba,lt("worksheet",null,{xmlns:df[0],"xmlns:r":Va.r})],i=r.SheetNames[e],s=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=kr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ir(d)}n||(n={}),c["!comments"]=[];var f=[];kSe(c,r,e,t,a),a[a.length]=lt("dimension",null,{ref:u}),a[a.length]=USe(c,t,e,r),t.sheetFormat&&(a[a.length]=lt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=RSe(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=VSe(c,t),l.length>0&&(a[a.length]=l)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=PSe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=BSe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=CSe(c["!merges"]));var h=-1,p,m=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(p={ref:x[0]},x[1].Target.charAt(0)!="#"&&(m=Jr(n,-1,Zr(x[1].Target).replace(/#.*$/,""),fr.HLINK),p["r:id"]="rId"+m),(h=x[1].Target.indexOf("#"))>-1&&(p.location=Zr(x[1].Target.slice(h+1))),x[1].Tooltip&&(p.tooltip=Zr(x[1].Tooltip)),a[a.length]=lt("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=MSe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ni("ignoredErrors",lt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(m=Jr(n,-1,"../drawings/drawing"+(e+1)+".xml",fr.DRAW),a[a.length]=lt("drawing",null,{"r:id":"rId"+m}),c["!drawing"]=f),c["!comments"].length>0&&(m=Jr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",fr.VML),a[a.length]=lt("legacyDrawing",null,{"r:id":"rId"+m}),c["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function qSe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function GSe(e,t,r){var n=Xe(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=R1(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var m=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Vt(u)];m&&(f<0&&(f=p),h=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var x=n.l;return n.l=c,n.write_shift(4,l),n.l=x,n.length>n.l?n.slice(0,n.l):n}function YSe(e,t,r,n){var a=GSe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&et(e,0,a)}var XSe=mf,KSe=Jp;function QSe(){}function JSe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=t5e(e),r}function ZSe(e,t,r){r==null&&(r=Xe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return my({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),c9(e,r),r.slice(0,r.l)}function eAe(e){var t=Qo(e);return[t]}function tAe(e,t,r){return r==null&&(r=Xe(8)),ff(t,r)}function rAe(e){var t=hf(e);return[t]}function nAe(e,t,r){return r==null&&(r=Xe(4)),pf(t,r)}function aAe(e){var t=Qo(e),r=e.read_shift(1);return[t,r,"b"]}function iAe(e,t,r){return r==null&&(r=Xe(9)),ff(t,r),r.write_shift(1,e.v?1:0),r}function sAe(e){var t=hf(e),r=e.read_shift(1);return[t,r,"b"]}function oAe(e,t,r){return r==null&&(r=Xe(5)),pf(t,r),r.write_shift(1,e.v?1:0),r}function lAe(e){var t=Qo(e),r=e.read_shift(1);return[t,r,"e"]}function cAe(e,t,r){return r==null&&(r=Xe(9)),ff(t,r),r.write_shift(1,e.v),r}function uAe(e){var t=hf(e),r=e.read_shift(1);return[t,r,"e"]}function dAe(e,t,r){return r==null&&(r=Xe(8)),pf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function fAe(e){var t=Qo(e),r=e.read_shift(4);return[t,r,"s"]}function hAe(e,t,r){return r==null&&(r=Xe(12)),ff(t,r),r.write_shift(4,t.v),r}function pAe(e){var t=hf(e),r=e.read_shift(4);return[t,r,"s"]}function mAe(e,t,r){return r==null&&(r=Xe(8)),pf(t,r),r.write_shift(4,t.v),r}function xAe(e){var t=Qo(e),r=Wi(e);return[t,r,"n"]}function gAe(e,t,r){return r==null&&(r=Xe(16)),ff(t,r),V0(e.v,r),r}function pB(e){var t=hf(e),r=Wi(e);return[t,r,"n"]}function vAe(e,t,r){return r==null&&(r=Xe(12)),pf(t,r),V0(e.v,r),r}function bAe(e){var t=Qo(e),r=RA(e);return[t,r,"n"]}function yAe(e,t,r){return r==null&&(r=Xe(12)),ff(t,r),u9(e.v,r),r}function wAe(e){var t=hf(e),r=RA(e);return[t,r,"n"]}function _Ae(e,t,r){return r==null&&(r=Xe(8)),pf(t,r),u9(e.v,r),r}function NAe(e){var t=Qo(e),r=IA(e);return[t,r,"is"]}function jAe(e){var t=Qo(e),r=Yi(e);return[t,r,"str"]}function SAe(e,t,r){return r==null&&(r=Xe(12+4*e.v.length)),ff(t,r),ci(e.v,r),r.length>r.l?r.slice(0,r.l):r}function AAe(e){var t=hf(e),r=Yi(e);return[t,r,"str"]}function CAe(e,t,r){return r==null&&(r=Xe(8+4*e.v.length)),pf(t,r),ci(e.v,r),r.length>r.l?r.slice(0,r.l):r}function EAe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=r5(e,n-e.l,r);s[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return s}function kAe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=r5(e,n-e.l,r);s[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return s}function TAe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=Wi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=r5(e,n-e.l,r);s[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return s}function OAe(e,t,r){var n=e.l+t,a=Qo(e);a.r=r["!row"];var i=Yi(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=r5(e,n-e.l,r);s[3]=zi(l,null,a,r.supbooks,r)}else e.l=n;return s}var PAe=mf,DAe=Jp;function IAe(e,t){return t==null&&(t=Xe(4)),t.write_shift(4,e),t}function MAe(e,t){var r=e.l+t,n=mf(e),a=MA(e),i=Yi(e),s=Yi(e),l=Yi(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return s&&(c.Tooltip=s),c}function FAe(e,t){var r=Xe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Jp({s:qn(e[0]),e:qn(e[0])},r),FA("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return ci(a||"",r),ci(e[1].Tooltip||"",r),ci("",r),r.slice(0,r.l)}function RAe(){}function LAe(e,t,r){var n=e.l+t,a=d9(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var l=lSe(e,n-e.l,r);s[1]=l}else e.l=n;return s}function BAe(e,t,r){var n=e.l+t,a=mf(e),i=[a];if(r.cellFormula){var s=uSe(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function $Ae(e,t,r){r==null&&(r=Xe(18));var n=n5(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var mB=["left","right","top","bottom","header","footer"];function zAe(e){var t={};return mB.forEach(function(r){t[r]=Wi(e)}),t}function UAe(e,t){return t==null&&(t=Xe(6*8)),k0(e),mB.forEach(function(r){V0(e[r],t)}),t}function HAe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function WAe(e,t,r){r==null&&(r=Xe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function VAe(e){var t=Xe(24);return t.write_shift(4,4),t.write_shift(4,1),Jp(e,t),t}function qAe(e,t){return t==null&&(t=Xe(16*4+2)),t.write_shift(2,e.password?HA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function GAe(){}function YAe(){}function XAe(e,t,r,n,a,i,s){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,x,g,v,b,y,_,N,S=[];l.biff=12,l["!row"]=0;var j=0,A=!1,T=[],F={},O=l.supbooks||a.supbooks||[[]];if(O.sharedf=F,O.arrayf=T,O.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!l.supbooks&&(l.supbooks=O,a.Names))for(var E=0;E<a.Names.length;++E)O[0][E+1]=a.Names[E];var L=[],B=[],G=!1;L1[16]={n:"BrtShortReal",f:pB};var z;if(pu(e,function(U,ae,he){if(!h)switch(he){case 148:u=U;break;case 0:p=U,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),_=ga(g=p.r),l["!row"]=p.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=yp(U.hpt)),B[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:U[2]},U[2]){case"n":m.v=U[1];break;case"s":y=Tx[U[1]],m.v=y.t,m.r=y.r;break;case"b":m.v=!!U[1];break;case"e":m.v=U[1],l.cellText!==!1&&(m.w=mu[m.v]);break;case"str":m.t="s",m.v=U[1];break;case"is":m.t="s",m.v=U[1].t;break}if((x=s.CellXf[U[0].iStyleRef])&&dB(m,x.numFmtId,null,l,i,s),v=U[0].c==-1?v+1:U[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=m):c[Vn(v)+_]=m,l.cellFormula){for(A=!1,j=0;j<T.length;++j){var k=T[j];p.r>=k[0].s.r&&p.r<=k[0].e.r&&v>=k[0].s.c&&v<=k[0].e.c&&(m.F=ir(k[0]),A=!0)}!A&&U.length>3&&(m.f=U[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),l.cellDates&&x&&m.t=="n"&&Xp(Ht[x.numFmtId])){var P=g0(m.v);P&&(m.t="d",m.v=new Date(P.y,P.m-1,P.d,P.H,P.M,P.S,P.u))}z&&(z.type=="XLDAPR"&&(m.D=!0),z=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;m={t:"z",v:void 0},v=U[0].c==-1?v+1:U[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=m):c[Vn(v)+_]=m,d.s.r>p.r&&(d.s.r=p.r),d.s.c>v&&(d.s.c=v),d.e.r<p.r&&(d.e.r=p.r),d.e.c<v&&(d.e.c=v),z&&(z.type=="XLDAPR"&&(m.D=!0),z=void 0);break;case 176:S.push(U);break;case 49:z=((l.xlmeta||{}).Cell||[])[U-1];break;case 494:var R=n["!id"][U.relId];for(R?(U.Target=R.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=R):U.relId==""&&(U.Target="#"+U.loc),g=U.rfx.s.r;g<=U.rfx.e.r;++g)for(v=U.rfx.s.c;v<=U.rfx.e.c;++v)l.dense?(c[g]||(c[g]=[]),c[g][v]||(c[g][v]={t:"z",v:void 0}),c[g][v].l=U):(b=Vt({c:v,r:g}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=U);break;case 426:if(!l.cellFormula)break;T.push(U),N=l.dense?c[g][v]:c[Vn(v)+_],N.f=zi(U[1],d,{r:p.r,c:v},O,l),N.F=ir(U[0]);break;case 427:if(!l.cellFormula)break;F[Vt(U[0].s)]=U[1],N=l.dense?c[g][v]:c[Vn(v)+_],N.f=zi(U[1],d,{r:p.r,c:v},O,l);break;case 60:if(!l.cellStyles)break;for(;U.e>=U.s;)L[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},G||(G=!0,WA(U.w/256)),yd(L[U.e+1]);break;case 161:c["!autofilter"]={ref:ir(U)};break;case 476:c["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(c["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ae.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+he.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=ir(u||d)),l.sheetRows&&c["!ref"]){var V=kr(c["!ref"]);l.sheetRows<=+V.e.r&&(V.e.r=l.sheetRows-1,V.e.r>d.e.r&&(V.e.r=d.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>d.e.c&&(V.e.c=d.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ir(V))}return S.length>0&&(c["!merges"]=S),L.length>0&&(c["!cols"]=L),B.length>0&&(c["!rows"]=B),c}function KAe(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Fn(t),t.z=t.z||Ht[14],t.v=Ka(Mn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Id(a.cellXfs,t,a),t.l&&i["!links"].push([Vt(c),t.l]),t.c&&i["!comments"].push([Vt(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=XA(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,s?et(e,18,mAe(t,c)):et(e,7,hAe(t,c))):(c.t="str",s?et(e,17,CAe(t,c)):et(e,6,SAe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?et(e,13,_Ae(t,c)):et(e,2,yAe(t,c)):s?et(e,16,vAe(t,c)):et(e,5,gAe(t,c)),!0;case"b":return c.t="b",s?et(e,15,oAe(t,c)):et(e,4,iAe(t,c)),!0;case"e":return c.t="e",s?et(e,14,dAe(t,c)):et(e,3,cAe(t,c)),!0}return s?et(e,12,nAe(t,c)):et(e,1,tAe(t,c)),!0}function QAe(e,t,r,n){var a=kr(t["!ref"]||"A1"),i,s="",l=[];et(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=ga(d),YSe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=Vn(h)),i=l[h]+s;var p=c?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=KAe(e,p,d,h,n,t,f)}}et(e,146)}function JAe(e,t){!t||!t["!merges"]||(et(e,177,IAe(t["!merges"].length)),t["!merges"].forEach(function(r){et(e,176,DAe(r))}),et(e,178))}function ZAe(e,t){!t||!t["!cols"]||(et(e,390),t["!cols"].forEach(function(r,n){r&&et(e,60,$Ae(n,r))}),et(e,391))}function eCe(e,t){!t||!t["!ref"]||(et(e,648),et(e,649,VAe(kr(t["!ref"]))),et(e,650))}function tCe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Jr(r,-1,n[1].Target.replace(/#.*$/,""),fr.HLINK);et(e,494,FAe(n,a))}}),delete t["!links"]}function rCe(e,t,r,n){if(t["!comments"].length>0){var a=Jr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",fr.VML);et(e,551,FA("rId"+a)),t["!legacy"]=a}}function nCe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ir(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=Ms(i);l.s.r==l.e.r&&(l.e.r=Ms(t["!ref"]).e.r,i=ir(l));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),et(e,161,Jp(kr(i))),et(e,162)}}function aCe(e,t,r){et(e,133),et(e,137,WAe(t,r)),et(e,138),et(e,134)}function iCe(e,t){t["!protect"]&&et(e,535,qAe(t["!protect"]))}function sCe(e,t,r,n){var a=Ps(),i=r.SheetNames[e],s=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=kr(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],et(a,129),(r.vbaraw||s["!outline"])&&et(a,147,ZSe(l,s["!outline"])),et(a,148,KSe(c)),aCe(a,s,r.Workbook),ZAe(a,s),QAe(a,s,e,t),iCe(a,s),nCe(a,s,r,e),JAe(a,s),tCe(a,s,n),s["!margins"]&&et(a,476,UAe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&eCe(a,s),rCe(a,s,e,n),et(a,130),a.end()}function oCe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Er((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function lCe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=oCe(f);d.s.r=d.s.c=0,d.e.c=l,u=Vn(l),h[0].forEach(function(p,m){s[u+ga(m)]={t:"n",v:p,z:h[1]},c=m}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(s["!ref"]=ir(d)),s}function cCe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,l=e.match(fB);return l&&KA(l[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function uCe(e,t){e.l+=10;var r=Yi(e);return{name:r}}function dCe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return pu(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var QA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],fCe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],hCe=[],pCe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function JO(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Dn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function ZO(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Dn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function xB(e){ZO(e.WBProps,QA),ZO(e.CalcPr,pCe),JO(e.WBView,fCe),JO(e.Sheets,hCe),Rh.date1904=Dn(e.WBProps.date1904)}function mCe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Dn(e.Workbook.WBProps.date1904)?"true":"false"}var xCe="][*?/\\".split("");function gB(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return xCe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function gCe(e,t,r){e.forEach(function(n,a){gB(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function vCe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];gCe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)mSe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var bCe=/<\w+:workbook/;function yCe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ki,function(c,u){var d=qt(c);switch(gc(d[0])){case"<?xml":break;case"<workbook":c.match(bCe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":QA.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Dn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=cn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Er(cn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=cn(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Dn(d.hidden||"0")&&(i.Hidden=!0),s=u+c.length;break;case"</definedName>":i.Ref=Er(cn(e.slice(s,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),df.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return xB(r),r}function vB(e){var t=[ba];t[t.length]=lt("workbook",null,{xmlns:df[0],"xmlns:r":Va.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(QA.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=lt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:Zr(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=lt("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=lt("definedName",Zr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function wCe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Y3(e),r.name=Yi(e),r}function _Ce(e,t){return t||(t=Xe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),FA(e.strRelID,t),ci(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function NCe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Yi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function jCe(e,t){t||(t=Xe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),c9(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function SCe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function ACe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=r5e(e),s=cSe(e,0,r),l=MA(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function CCe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],L1[16]={n:"BrtFRTArchID$",f:SCe},pu(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=zi(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),xB(r),r.Names=i,r.supbooks=s,r}function ECe(e,t){et(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};et(e,156,_Ce(a))}et(e,144)}function kCe(e,t){t||(t=Xe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ci("SheetJS",t),ci(ly.version,t),ci(ly.version,t),ci("7262",t),t.length>t.l?t.slice(0,t.l):t}function TCe(e,t){t||(t=Xe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function OCe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(et(e,135),et(e,158,TCe(a)),et(e,136))}}function PCe(e,t){var r=Ps();return et(r,131),et(r,128,kCe()),et(r,153,jCe(e.Workbook&&e.Workbook.WBProps||null)),OCe(r,e),ECe(r,e),et(r,132),r.end()}function DCe(e,t,r){return t.slice(-4)===".bin"?CCe(e,r):yCe(e,r)}function ICe(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?XAe(e,n,r,a,i,s,l):ASe(e,n,r,a,i,s,l)}function MCe(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?dCe(e,n,r,a,i):cCe(e,n,r,a,i)}function FCe(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?L3e():B3e()}function RCe(e,t,r,n,a,i,s,l){return t.slice(-4)===".bin"?F3e():R3e()}function LCe(e,t,r,n){return t.slice(-4)===".bin"?DNe(e,r,n):wNe(e,r,n)}function BCe(e,t,r){return J9(e,r)}function $Ce(e,t,r){return t.slice(-4)===".bin"?$4e(e,r):R4e(e,r)}function zCe(e,t,r){return t.slice(-4)===".bin"?O3e(e,r):_3e(e,r)}function UCe(e,t,r){return t.slice(-4)===".bin"?b3e(e):g3e(e)}function HCe(e,t,r,n){return r.slice(-4)===".bin"?y3e(e,t,r,n):void 0}function WCe(e,t,r){return t.slice(-4)===".bin"?p3e(e,t,r):x3e(e,t,r)}function VCe(e,t,r){return(t.slice(-4)===".bin"?PCe:vB)(e)}function qCe(e,t,r,n,a){return(t.slice(-4)===".bin"?sCe:hB)(e,r,n,a)}function GCe(e,t,r){return(t.slice(-4)===".bin"?HNe:K9)(e,r)}function YCe(e,t,r){return(t.slice(-4)===".bin"?H4e:U9)(e,r)}function XCe(e,t,r){return(t.slice(-4)===".bin"?P3e:tB)(e)}function KCe(e){return(e.slice(-4)===".bin"?m3e:Z9)()}var bB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ol(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(bB),i,s,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(yB),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),n[l]=i[2].slice(1,i[2].length-1));return n}function QCe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(bB),a,i,s,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(yB),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Px;function JCe(e,t){var r=Px[e]||Er(e);return r==="General"?H0(t):Vo(r,t)}function ZCe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Dn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Mn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Er(t)]=a}function eEe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||mu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=k1(e.v):e.w=H0(e.v):e.w=JCe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Px[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Xp(n)){var a=g0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function tEe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=hNe[n.Pattern]||n.Pattern)}e[t.ID]=t}function rEe(e,t,r,n,a,i,s,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],m=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Dn(e);break;case"String":n.t="s",n.r=xO(Er(e)),n.v=e.indexOf("<")>-1?Er(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Mn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Er(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=p9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=xO(t||e));break}if(eEe(n,d,u),u.cellFormula!==!1)if(n.Formula){var x=Er(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=Fh(x,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Fh("RC:RC",a):n.ArrayRange&&(n.F=Fh(n.ArrayRange,a),c.push([kr(n.F),n.F]))}else for(m=0;m<c.length;++m)a.r>=c[m][0].s.r&&a.r<=c[m][0].e.r&&a.c>=c[m][0].s.c&&a.c<=c[m][0].e.c&&(n.F=c[m][1]);u.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function nEe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function t4(e,t){var r=t||{};Kp();var n=lx(kA(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=cn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Fn(r);return s.type="string",bp.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(se){a.indexOf("<"+se)>=0&&(i=!0)}),i)return UEe(n,r);Px={"General Number":"General","General Date":Ht[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ht[15],"Short Date":Ht[14],"Long Time":Ht[19],"Medium Time":Ht[18],"Short Time":Ht[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ht[2],Standard:Ht[4],Percent:Ht[10],Scientific:Ht[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},p="",m={},x={},g=ol('<Data ss:Type="String">'),v=0,b=0,y=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},S={},j="",A=0,T=[],F={},O={},E=0,L=[],B=[],G={},z=[],V,Y=!1,U=[],ae=[],he={},k=0,P=0,R={Sheets:[],WBProps:{date1904:!1}},H={};P1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var X="";l=P1.exec(n);)switch(l[3]=(X=l[3]).toLowerCase()){case"data":if(X=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?rEe(n.slice(v,l.index),j,g,c[c.length-1][0]=="comment"?G:m,{c:b,r:y},N,z[b],x,U,r):(j="",g=ol(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(B.length>0&&(m.c=B),(!r.sheetRows||r.sheetRows>y)&&m.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=m):h[Vn(b)+ga(y)]=m),m.HRef&&(m.l={Target:Er(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(k=b+(parseInt(m.MergeAcross,10)|0),P=y+(parseInt(m.MergeDown,10)|0),T.push({s:{c:b,r:y},e:{c:k,r:P}})),!r.sheetStubs)m.MergeAcross?b=k+1:++b;else if(m.MergeAcross||m.MergeDown){for(var oe=b;oe<=k;++oe)for(var fe=y;fe<=P;++fe)(oe>b||fe>y)&&(r.dense?(h[fe]||(h[fe]=[]),h[fe][oe]={t:"z"}):h[Vn(oe)+ga(fe)]={t:"z"});b=k+1}else++b;else m=QCe(l[0]),m.Index&&(b=+m.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),l[0].slice(-2)==="/>"&&++b,B=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(y<_.s.r&&(_.s.r=y),y>_.e.r&&(_.e.r=y),l[0].slice(-2)==="/>"&&(x=ol(l[0]),x.Index&&(y=+x.Index-1)),b=0,++y):(x=ol(l[0]),x.Index&&(y=+x.Index-1),he={},(x.AutoFitHeight=="0"||x.Height)&&(he.hpx=parseInt(x.Height,10),he.hpt=R1(he.hpx),ae[y]=he),x.Hidden=="1"&&(he.hidden=!0,ae[y]=he));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=ir(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=ir(_))),T.length&&(h["!merges"]=T),z.length>0&&(h["!cols"]=z),ae.length>0&&(h["!rows"]=ae),d[p]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,c.push([l[3],!1]),u=ol(l[0]),p=Er(u.Name),h=r.dense?[]:{},T=[],U=[],ae=[],H={name:p,Hidden:0},R.Sheets.push(H);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),z=[],Y=!1}break;case"style":l[1]==="/"?tEe(N,S,r):S=ol(l[0]);break;case"numberformat":S.nf=Er(ol(l[0]).Format||"General"),Px[S.nf]&&(S.nf=Px[S.nf]);for(var re=0;re!=392&&Ht[re]!=S.nf;++re);if(re==392){for(re=57;re!=392;++re)if(Ht[re]==null){Kc(S.nf,re);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(V=ol(l[0]),V.Hidden&&(V.hidden=!0,delete V.Hidden),V.Width&&(V.wpx=parseInt(V.Width,10)),!Y&&V.wpx>10){Y=!0,Hi=Y9;for(var ve=0;ve<z.length;++ve)z[ve]&&yd(z[ve])}Y&&yd(V),z[V.Index-1||z.length]=V;for(var Ce=0;Ce<+V.Span;++Ce)z[z.length]=Fn(V);break;case"namedrange":if(l[1]==="/")break;R.Names||(R.Names=[]);var q=qt(l[0]),Me={Name:q.Name,Ref:Fh(q.RefersTo.slice(1),{r:0,c:0})};R.Sheets.length>0&&(Me.Sheet=R.Sheets.length-1),R.Names.push(Me);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(A,l.index):A=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=ol(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?C5e(F,X,n.slice(E,l.index)):E=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));nEe(G),B.push(G)}else c.push([l[3],!1]),u=ol(l[0]),G={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Le=ol(l[0]);h["!autofilter"]={ref:Fh(Le.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return aP(n,r);var _e=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(l[3]){case"date1904":R.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(E,l.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else E=l.index+l[0].length;break;case"header":h["!margins"]||k0(h["!margins"]={},"xlml"),isNaN(+qt(l[0]).Margin)||(h["!margins"].header=+qt(l[0]).Margin);break;case"footer":h["!margins"]||k0(h["!margins"]={},"xlml"),isNaN(+qt(l[0]).Margin)||(h["!margins"].footer=+qt(l[0]).Margin);break;case"pagemargins":var ne=qt(l[0]);h["!margins"]||k0(h["!margins"]={},"xlml"),isNaN(+ne.Top)||(h["!margins"].top=+ne.Top),isNaN(+ne.Left)||(h["!margins"].left=+ne.Left),isNaN(+ne.Right)||(h["!margins"].right=+ne.Right),isNaN(+ne.Bottom)||(h["!margins"].bottom=+ne.Bottom);break;case"displayrighttoleft":R.Views||(R.Views=[]),R.Views[0]||(R.Views[0]={}),R.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?ZCe(O,X,L,n.slice(E,l.index)):(L=l,E=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var De={};return!r.bookSheets&&!r.bookProps&&(De.Sheets=d),De.SheetNames=f,De.Workbook=R,De.SSF=Fn(Ht),De.Props=F,De.Custprops=O,De}function tj(e,t){switch(ZA(t=t||{}),t.type||"base64"){case"base64":return t4(co(e),t);case"binary":case"buffer":case"file":return t4(e,t);case"array":return t4(Pd(e),t)}}function aEe(e,t){var r=[];return e.Props&&r.push(E5e(e.Props,t)),e.Custprops&&r.push(k5e(e.Props,e.Custprops)),r.join("")}function iEe(){return""}function sEe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(lt("NumberFormat",null,{"ss:Format":Zr(Ht[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(lt("Style",i.join(""),s))}),lt("Styles",r.join(""))}function wB(e){return lt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+GA(e.Ref,{r:0,c:0})})}function oEe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(wB(a)))}return lt("Names",r.join(""))}function lEe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var l=a[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(wB(l)))}return i.join("")}function cEe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(lt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(lt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(lt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(lt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ni("ProtectContents","True")),e["!protect"].objects&&a.push(Ni("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ni("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ni("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ni("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":lt("WorksheetOptions",a.join(""),{xmlns:Qs.x})}function uEe(e){return e.map(function(t){var r=Owe(t.t||""),n=lt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return lt("Comment",n,{"ss:Author":t.a})}).join("")}function dEe(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Zr(GA(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=qn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Zr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Zr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=mu[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ht[14]);break;case"s":f="String",h=Twe(e.v||"");break}var p=Id(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=s.c+1;var m=e.v!=null?h:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(e.c||[]).length>0&&(x+=uEe(e.c)),lt("Cell",x,l)}function fEe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=yp(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function hEe(e,t,r,n){if(!e["!ref"])return"";var a=kr(e["!ref"]),i=e["!merges"]||[],s=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,v){yd(g);var b=!!g.width,y=n5(v,g),_={"ss:Index":v+1};b&&(_["ss:Width"]=M1(y.width)),g.hidden&&(_["ss:Hidden"]="1"),l.push(lt("Column",null,_))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[fEe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},m=Vt(p),x=c?(e[u]||[])[f]:e[m];d.push(dEe(x,m,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function pEe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?lEe(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?hEe(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(cEe(i,t,e,r)),n.join("")}function mEe(e,t){t||(t={}),e.SSF||(e.SSF=Fn(Ht)),e.SSF&&(Kp(),Kw(e.SSF),t.revssf=Jw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(aEe(e,t)),r.push(iEe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(lt("Worksheet",pEe(n,t,e),{"ss:Name":Zr(e.SheetNames[n])}));return r[2]=sEe(e,t),r[3]=oEe(e),ba+lt("Workbook",r.join(""),{xmlns:Qs.ss,"xmlns:o":Qs.o,"xmlns:x":Qs.x,"xmlns:ss":Qs.ss,"xmlns:dt":Qs.dt,"xmlns:html":Qs.html})}function xEe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=o5e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=l5e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var gEe=[60,1084,2066,2165,2175];function vEe(e,t,r,n,a){var i=n,s=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}s.push(l),r.l+=i;for(var c=Hc(r,r.l),u=rj[c],d=0;u!=null&&gEe.indexOf(c)>-1;)i=Hc(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),s.push(l),r.l+=4+i,u=rj[c=Hc(r,r.l)];var f=li(s);_i(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Fl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ht[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||mu[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=k1(e.v):e.w=H0(e.v):e.w=Vo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Xp(Ht[n]||String(n))){var a=g0(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Zv(e,t,r){return{v:e,ixfe:t,t:r}}function bEe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},l=null,c=[],u="",d={},f,h="",p,m,x,g,v={},b=[],y,_,N=[],S=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},T=function(ft){return ft<8?A0[ft]:ft<64&&S[ft-8]||A0[ft]},F=function(ft,it,Fr){var Dt=it.XF.data;if(!(!Dt||!Dt.patternType||!Fr||!Fr.cellStyles)){it.s={},it.s.patternType=Dt.patternType;var na;(na=I1(T(Dt.icvFore)))&&(it.s.fgColor={rgb:na}),(na=I1(T(Dt.icvBack)))&&(it.s.bgColor={rgb:na})}},O=function(ft,it,Fr){if(!(he>1)&&!(Fr.sheetRows&&ft.r>=Fr.sheetRows)){if(Fr.cellStyles&&it.XF&&it.XF.data&&F(ft,it,Fr),delete it.ixfe,delete it.XF,f=ft,h=Vt(ft),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<s.s.r&&(s.s.r=ft.r),ft.c<s.s.c&&(s.s.c=ft.c),ft.r+1>s.e.r&&(s.e.r=ft.r+1),ft.c+1>s.e.c&&(s.e.c=ft.c+1),Fr.cellFormula&&it.f){for(var Dt=0;Dt<b.length;++Dt)if(!(b[Dt][0].s.c>ft.c||b[Dt][0].s.r>ft.r)&&!(b[Dt][0].e.c<ft.c||b[Dt][0].e.r<ft.r)){it.F=ir(b[Dt][0]),(b[Dt][0].s.c!=ft.c||b[Dt][0].s.r!=ft.r)&&delete it.f,it.f&&(it.f=""+zi(b[Dt][1],s,ft,U,E));break}}Fr.dense?(a[ft.r]||(a[ft.r]=[]),a[ft.r][ft.c]=it):a[h]=it}},E={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(E.password=t.password);var L,B=[],G=[],z=[],V=[],Y=!1,U=[];U.SheetNames=E.snames,U.sharedf=E.sharedf,U.arrayf=E.arrayf,U.names=[],U.XTI=[];var ae=0,he=0,k=0,P=[],R=[],H;E.codepage=1200,vl(1200);for(var X=!1;e.l<e.length-1;){var oe=e.l,fe=e.read_shift(2);if(fe===0&&ae===10)break;var re=e.l===e.length?0:e.read_shift(2),ve=rj[fe];if(ve&&ve.f){if(t.bookSheets&&ae===133&&fe!==133)break;if(ae=fe,ve.r===2||ve.r==12){var Ce=e.read_shift(2);if(re-=2,!E.enc&&Ce!==fe&&((Ce&255)<<8|Ce>>8)!==fe)throw new Error("rt mismatch: "+Ce+"!="+fe);ve.r==12&&(e.l+=10,re-=10)}var q={};if(fe===10?q=ve.f(e,re,E):q=vEe(fe,ve,e,re,E),he==0&&[9,521,1033,2057].indexOf(ae)===-1)continue;switch(fe){case 34:r.opts.Date1904=j.WBProps.date1904=q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(E.enc||(e.l=0),E.enc=q,!t.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=q;break;case 66:var Me=Number(q);switch(Me){case 21010:Me=1200;break;case 32768:Me=1e4;break;case 32769:Me=1252;break}vl(E.codepage=Me),X=!0;break;case 317:E.rrtabid=q;break;case 25:E.winlocked=q;break;case 439:r.opts.RefreshAll=q;break;case 12:r.opts.CalcCount=q;break;case 16:r.opts.CalcDelta=q;break;case 17:r.opts.CalcIter=q;break;case 13:r.opts.CalcMode=q;break;case 14:r.opts.CalcPrecision=q;break;case 95:r.opts.CalcSaveRecalc=q;break;case 15:E.CalcRefMode=q;break;case 2211:r.opts.FullCalc=q;break;case 129:q.fDialog&&(a["!type"]="dialog"),q.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),q.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:N.push(q);break;case 430:U.push([q]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(q);break;case 24:case 536:H={Name:q.Name,Ref:zi(q.rgce,s,null,U,E)},q.itab>0&&(H.Sheet=q.itab-1),U.names.push(H),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(R[q.itab-1]={ref:ir(q.rgce[0][0][1][2])});break;case 22:E.ExternCount=q;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(q),U.XTI=U.XTI.concat(q);break;case 2196:if(E.biff<8)break;H!=null&&(H.Comment=q[1]);break;case 18:a["!protect"]=q;break;case 19:q!==0&&E.WTF&&console.error("Password verifier: "+q);break;case 133:i[q.pos]=q,E.snames.push(q.name);break;case 10:{if(--he)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=ir(s),t.sheetRows&&t.sheetRows<=s.e.r){var Le=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=ir(s),s.e.r=Le}s.e.r++,s.e.c++}B.length>0&&(a["!merges"]=B),G.length>0&&(a["!objects"]=G),z.length>0&&(a["!cols"]=z),V.length>0&&(a["!rows"]=V),j.Sheets.push(A)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),E.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(E.biff=5,X=!0,vl(E.codepage=28591)),E.biff==8&&q.BIFFVer==0&&q.dt==16&&(E.biff=2),he++)break;if(a=t.dense?[]:{},E.biff<8&&!X&&(X=!0,vl(E.codepage=t.codepage||1252)),E.biff<5||q.BIFFVer==0&&q.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-re,name:u};i[_e.pos]=_e,E.snames.push(u)}else u=(i[oe]||{name:""}).name;q.dt==32&&(a["!type"]="chart"),q.dt==64&&(a["!type"]="macro"),B=[],G=[],E.arrayf=b=[],z=[],V=[],Y=!1,A={Hidden:(i[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[q.r]||[])[q.c]:a[Vt({c:q.c,r:q.r})])&&++q.c,y={ixfe:q.ixfe,XF:N[q.ixfe]||{},v:q.val,t:"n"},k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:q.c,r:q.r},y,t);break;case 5:case 517:y={ixfe:q.ixfe,XF:N[q.ixfe],v:q.val,t:q.t},k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:q.c,r:q.r},y,t);break;case 638:y={ixfe:q.ixfe,XF:N[q.ixfe],v:q.rknum,t:"n"},k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:q.c,r:q.r},y,t);break;case 189:for(var ne=q.c;ne<=q.C;++ne){var De=q.rkrec[ne-q.c][0];y={ixfe:De,XF:N[De],v:q.rkrec[ne-q.c][1],t:"n"},k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:ne,r:q.r},y,t)}break;case 6:case 518:case 1030:{if(q.val=="String"){l=q;break}if(y=Zv(q.val,q.cell.ixfe,q.tt),y.XF=N[y.ixfe],t.cellFormula){var se=q.formula;if(se&&se[0]&&se[0][0]&&se[0][0][0]=="PtgExp"){var ce=se[0][0][1][0],ye=se[0][0][1][1],Pe=Vt({r:ce,c:ye});v[Pe]?y.f=""+zi(q.formula,s,q.cell,U,E):y.F=((t.dense?(a[ce]||[])[ye]:a[Pe])||{}).F}else y.f=""+zi(q.formula,s,q.cell,U,E)}k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O(q.cell,y,t),l=q}break;case 7:case 519:if(l)l.val=q,y=Zv(q,l.cell.ixfe,"s"),y.XF=N[y.ixfe],t.cellFormula&&(y.f=""+zi(l.formula,s,l.cell,U,E)),k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O(l.cell,y,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(q);var Te=Vt(q[0].s);if(p=t.dense?(a[q[0].s.r]||[])[q[0].s.c]:a[Te],t.cellFormula&&p){if(!l||!Te||!p)break;p.f=""+zi(q[1],s,q[0],U,E),p.F=ir(q[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[Vt(l.cell)]=q[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Vt(l.cell)],(p||{}).f=""+zi(q[0],s,f,U,E)}}break;case 253:y=Zv(c[q.isst].t,q.ixfe,"s"),c[q.isst].h&&(y.h=c[q.isst].h),y.XF=N[y.ixfe],k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:q.c,r:q.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:q.ixfe,XF:N[q.ixfe],t:"z"},k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:q.c,r:q.r},y,t));break;case 190:if(t.sheetStubs)for(var Ne=q.c;Ne<=q.C;++Ne){var We=q.ixfe[Ne-q.c];y={ixfe:We,XF:N[We],t:"z"},k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:Ne,r:q.r},y,t)}break;case 214:case 516:case 4:y=Zv(q.val,q.ixfe,"s"),y.XF=N[y.ixfe],k>0&&(y.z=P[y.ixfe>>8&63]),Fl(y,t,r.opts.Date1904),O({c:q.c,r:q.r},y,t);break;case 0:case 512:he===1&&(s=q);break;case 252:c=q;break;case 1054:if(E.biff==4){P[k++]=q[1];for(var tt=0;tt<k+163&&Ht[tt]!=q[1];++tt);tt>=163&&Kc(q[1],k+163)}else Kc(q[1],q[0]);break;case 30:{P[k++]=q;for(var ht=0;ht<k+163&&Ht[ht]!=q;++ht);ht>=163&&Kc(q,k+163)}break;case 229:B=B.concat(q);break;case 93:G[q.cmo[0]]=E.lastobj=q;break;case 438:E.lastobj.TxO=q;break;case 127:E.lastobj.ImData=q;break;case 440:for(g=q[0].s.r;g<=q[0].e.r;++g)for(x=q[0].s.c;x<=q[0].e.c;++x)p=t.dense?(a[g]||[])[x]:a[Vt({c:x,r:g})],p&&(p.l=q[1]);break;case 2048:for(g=q[0].s.r;g<=q[0].e.r;++g)for(x=q[0].s.c;x<=q[0].e.c;++x)p=t.dense?(a[g]||[])[x]:a[Vt({c:x,r:g})],p&&p.l&&(p.l.Tooltip=q[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;p=t.dense?(a[q[0].r]||[])[q[0].c]:a[Vt(q[0])];var Nt=G[q[2]];p||(t.dense?(a[q[0].r]||(a[q[0].r]=[]),p=a[q[0].r][q[0].c]={t:"z"}):p=a[Vt(q[0])]={t:"z"},s.e.r=Math.max(s.e.r,q[0].r),s.s.r=Math.min(s.s.r,q[0].r),s.e.c=Math.max(s.e.c,q[0].c),s.s.c=Math.min(s.s.c,q[0].c)),p.c||(p.c=[]),m={a:q[1],t:Nt.TxO.t},p.c.push(m)}break;case 2173:s3e(N[q.ixfe],q.ext);break;case 125:{if(!E.cellStyles)break;for(;q.e>=q.s;)z[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},Y||(Y=!0,WA(q.w/256)),yd(z[q.e+1])}break;case 520:{var Ot={};q.level!=null&&(V[q.r]=Ot,Ot.level=q.level),q.hidden&&(V[q.r]=Ot,Ot.hidden=!0),q.hpt&&(V[q.r]=Ot,Ot.hpt=q.hpt,Ot.hpx=yp(q.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||k0(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fe]]=q;break;case 161:a["!margins"]||k0(a["!margins"]={}),a["!margins"].header=q.header,a["!margins"].footer=q.footer;break;case 574:q.RTL&&(j.Views[0].RTL=!0);break;case 146:S=q;break;case 2198:L=q;break;case 140:_=q;break;case 442:u?A.CodeName=q||A.name:j.WBProps.CodeName=q||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+fe.toString(16)),e.l+=re}return r.SheetNames=ta(i).sort(function(Et,ft){return Number(Et)-Number(ft)}).map(function(Et){return i[Et].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&R.forEach(function(Et,ft){r.Sheets[r.SheetNames[ft]]["!autofilter"]=Et}),r.Strings=c,r.SSF=Fn(Ht),E.enc&&(r.Encryption=E.enc),L&&(r.Themes=L),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),U.names.length>0&&(j.Names=U.names),r.Workbook=j,r}var Dx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function yEe(e,t,r){var n=Mt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=IO(n,X3,Dx.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var s=Mt.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var l=IO(s,K3,Dx.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(y9(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function wEe(e,t){var r=[],n=[],a=[],i=0,s,l=uO(X3,"n"),c=uO(K3,"n");if(e.Props)for(s=ta(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=ta(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)C9.indexOf(a[i][0])>-1||b9.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Mt.utils.cfb_add(t,"/SummaryInformation",MO(n,Dx.SI,c,K3)),(r.length||u.length)&&Mt.utils.cfb_add(t,"/DocumentSummaryInformation",MO(r,Dx.DSI,l,X3,u.length?u:null,Dx.UDI))}function _B(e,t){t||(t={}),ZA(t),yA(),t.codepage&&bA(t.codepage);var r,n;if(e.FullPaths){if(Mt.find(e,"/encryption"))throw new Error("File is password-protected");r=Mt.find(e,"!CompObj"),n=Mt.find(e,"/Workbook")||Mt.find(e,"/Book")}else{switch(t.type){case"base64":e=eo(co(e));break;case"binary":e=eo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}_i(e,0),n={content:e}}var a,i;if(r&&xEe(r),t.bookProps&&!t.bookSheets)a={};else{var s=cr?"buffer":"array";if(n&&n.content)a=bEe(n.content,t);else if((i=Mt.find(e,"PerfectOffice_MAIN"))&&i.content)a=E0.to_workbook(i.content,(t.type=s,t));else if((i=Mt.find(e,"NativeContent_MAIN"))&&i.content)a=E0.to_workbook(i.content,(t.type=s,t));else throw(i=Mt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Mt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=I3e(e))}var l={};return e.FullPaths&&yEe(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function _Ee(e,t){var r=t||{},n=Mt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Mt.utils.cfb_add(n,a,NB(e,r)),r.biff==8&&(e.Props||e.Custprops)&&wEe(e,n),r.biff==8&&e.vbaraw&&M3e(n,Mt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var L1={0:{f:qSe},1:{f:eAe},2:{f:bAe},3:{f:lAe},4:{f:aAe},5:{f:xAe},6:{f:jAe},7:{f:fAe},8:{f:OAe},9:{f:TAe},10:{f:EAe},11:{f:kAe},12:{f:rAe},13:{f:wAe},14:{f:uAe},15:{f:sAe},16:{f:pB},17:{f:AAe},18:{f:pAe},19:{f:IA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ACe},40:{},42:{},43:{f:jNe},44:{f:_Ne},45:{f:CNe},46:{f:kNe},47:{f:ENe},48:{},49:{f:Xwe},50:{},51:{f:c3e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:L9},62:{f:NAe},63:{f:v3e},64:{f:GAe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:HAe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:JSe},148:{f:XSe,p:16},151:{f:RAe},152:{},153:{f:NCe},154:{},155:{},156:{f:wCe},157:{},158:{},159:{T:1,f:B4e},160:{T:-1},161:{T:1,f:mf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:PAe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:o3e},336:{T:-1},337:{f:f3e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Y3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:R9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:LAe},427:{f:BAe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zAe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:QSe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MAe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Y3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:k3e},633:{T:1},634:{T:-1},635:{T:1,f:C3e},636:{T:-1},637:{f:Zwe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uCe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:YAe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rj={6:{f:Z_},10:{f:Mu},12:{f:ka},13:{f:ka},14:{f:ca},15:{f:ca},16:{f:Wi},17:{f:ca},18:{f:ca},19:{f:ka},20:{f:zO},21:{f:zO},23:{f:R9},24:{f:HO},25:{f:ca},26:{},27:{},28:{f:Y_e},29:{},34:{f:ca},35:{f:UO},38:{f:Wi},39:{f:Wi},40:{f:Wi},41:{f:Wi},42:{f:ca},43:{f:ca},47:{f:sNe},49:{f:w_e},51:{f:ka},60:{},61:{f:x_e},64:{f:ca},65:{f:y_e},66:{f:ka},77:{},80:{},81:{},82:{},85:{f:ka},89:{},90:{},91:{},92:{f:i_e},93:{f:Q_e},94:{},95:{f:ca},96:{},97:{},99:{f:ca},125:{f:L9},128:{f:F_e},129:{f:o_e},130:{f:ka},131:{f:ca},132:{f:ca},133:{f:l_e},134:{},140:{f:i4e},141:{f:ka},144:{},146:{f:l4e},151:{},152:{},153:{},154:{},155:{},156:{f:ka},157:{},158:{},160:{f:m4e},161:{f:d4e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:P_e},190:{f:D_e},193:{f:Mu},197:{},198:{},199:{},200:{},201:{},202:{f:ca},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ka},220:{},221:{f:ca},222:{},224:{f:M_e},225:{f:a_e},226:{f:Mu},227:{},229:{f:X_e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:u_e},253:{f:N_e},255:{f:f_e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:E9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ca},353:{f:Mu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:z_e},431:{f:ca},432:{},433:{},434:{},437:{},438:{f:e4e},439:{f:ca},440:{f:t4e},441:{},442:{f:vg},443:{},444:{f:ka},445:{},446:{},448:{f:Mu},449:{f:m_e,r:2},450:{f:Mu},512:{f:LO},513:{f:p4e},515:{f:B_e},516:{f:S_e},517:{f:$O},519:{f:x4e},520:{f:h_e},523:{},545:{f:WO},549:{f:RO},566:{},574:{f:v_e},638:{f:O_e},659:{},1048:{},1054:{f:C_e},1084:{},1212:{f:V_e},2048:{f:n4e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Kv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Mu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:c4e,r:12},2173:{f:i3e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ca,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:W_e,r:12},2197:{},2198:{f:ZNe,r:12},2199:{},2200:{},2201:{},2202:{f:q_e,r:12},2203:{f:Mu},2204:{},2205:{},2206:{},2207:{},2211:{f:p_e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ka},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:f4e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:o4e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:LO},1:{},2:{f:w4e},3:{f:b4e},4:{f:v4e},5:{f:$O},7:{f:N4e},8:{},9:{f:Kv},11:{},22:{f:ka},30:{f:k_e},31:{},32:{},33:{f:WO},36:{},37:{f:RO},50:{f:j4e},62:{},52:{},67:{},68:{f:ka},69:{},86:{},126:{},127:{f:g4e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:S4e},223:{},234:{},354:{},421:{},518:{f:Z_},521:{f:Kv},536:{f:HO},547:{f:UO},561:{},579:{},1030:{f:Z_},1033:{f:Kv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ct(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&OA(r)&&e.push(r)}}function NEe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ct(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],l=0,c=0,u=0;u+(s[l]||8224)<=8224;)u+=s[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[l]||8224)<=8224;)u+=s[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function _g(e,t,r){return e||(e=Xe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function jEe(e,t,r,n){var a=Xe(9);return _g(a,e,t),k9(r,n||"b",a),a}function SEe(e,t,r){var n=Xe(8+2*r.length);return _g(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function AEe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ka(Mn(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ct(e,2,_4e(r,n,a)):ct(e,3,y4e(r,n,a));return;case"b":case"e":ct(e,5,jEe(r,n,t.v,t.t));return;case"s":case"str":ct(e,4,SEe(r,n,(t.v||"").slice(0,255)));return}ct(e,1,_g(null,r,n))}function CEe(e,t,r,n){var a=Array.isArray(t),i=kr(t["!ref"]||"A1"),s,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=ir(i)}for(var u=i.s.r;u<=i.e.r;++u){l=ga(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Vn(d)),s=c[d]+l;var f=a?(t[u]||[])[d]:t[s];f&&AEe(e,f,u,d)}}}function EEe(e,t){for(var r=t||{},n=Ps(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ct(n,r.biff==4?1033:r.biff==3?521:9,zA(e,16,r)),CEe(n,e.Sheets[e.SheetNames[a]],a,r),ct(n,10),n.end()}function kEe(e,t,r){ct(e,49,__e({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function TEe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ct(e,1054,E_e(a,t[a],r))})}function OEe(e,t){var r=Xe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ct(e,2151,r),r=Xe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),I9(kr(t["!ref"]||"A1"),r),r.write_shift(4,4),ct(e,2152,r)}function PEe(e,t){for(var r=0;r<16;++r)ct(e,224,BO({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ct(e,224,BO(n,0,t))})}function DEe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ct(e,440,r4e(n)),n[1].Tooltip&&ct(e,2048,a4e(n))}delete t["!links"]}function IEe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ct(e,125,u4e(n5(a,n),a))})}}function MEe(e,t,r,n,a){var i=16+Id(a.cellXfs,t,a);if(t.v==null&&!t.bf){ct(e,513,G0(r,n,i));return}if(t.bf)ct(e,6,oSe(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Ka(Mn(t.v)):t.v;ct(e,515,$_e(r,n,s,i));break;case"b":case"e":ct(e,517,L_e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=XA(a.Strings,t.v,a.revStrings);ct(e,253,j_e(r,n,l,i))}else ct(e,516,A_e(r,n,(t.v||"").slice(0,255),i,a));break;default:ct(e,513,G0(r,n,i))}}function FEe(e,t,r){var n=Ps(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],p=kr(i["!ref"]||"A1"),m=u?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}ct(n,2057,zA(r,16,t)),ct(n,13,Oo(1)),ct(n,12,Oo(100)),ct(n,15,os(!0)),ct(n,17,os(!1)),ct(n,16,V0(.001)),ct(n,95,os(!0)),ct(n,42,os(!1)),ct(n,43,os(!1)),ct(n,130,Oo(1)),ct(n,128,R_e()),ct(n,131,os(!1)),ct(n,132,os(!1)),u&&IEe(n,i["!cols"]),ct(n,512,T_e(p,t)),u&&(i["!links"]=[]);for(var x=p.s.r;x<=p.e.r;++x){f=ga(x);for(var g=p.s.c;g<=p.e.c;++g){x===p.s.r&&(h[g]=Vn(g)),d=h[g]+f;var v=c?(i[x]||[])[g]:i[d];v&&(MEe(n,v,x,g,t),u&&v.l&&i["!links"].push([d,v.l]))}}var b=l.CodeName||l.name||a;return u&&ct(n,574,b_e((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&ct(n,229,K_e(i["!merges"])),u&&DEe(n,i),ct(n,442,T9(b)),u&&OEe(n,i),ct(n,10),n.end()}function REe(e,t,r){var n=Ps(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(ct(n,2057,zA(e,5,r)),r.bookType=="xla"&&ct(n,135),ct(n,225,l?Oo(1200):null),ct(n,193,L5e(2)),c&&ct(n,191),c&&ct(n,192),ct(n,226),ct(n,92,s_e("SheetJS",r)),ct(n,66,Oo(l?1200:1252)),l&&ct(n,353,Oo(0)),l&&ct(n,448),ct(n,317,h4e(e.SheetNames.length)),l&&e.vbaraw&&ct(n,211),l&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";ct(n,442,T9(u))}ct(n,156,Oo(17)),ct(n,25,os(!1)),ct(n,18,os(!1)),ct(n,19,Oo(0)),l&&ct(n,431,os(!1)),l&&ct(n,444,Oo(0)),ct(n,61,g_e()),ct(n,64,os(!1)),ct(n,141,Oo(0)),ct(n,34,os(mCe(e)=="true")),ct(n,14,os(!0)),l&&ct(n,439,os(!1)),ct(n,218,Oo(0)),kEe(n,e,r),TEe(n,e.SSF,r),PEe(n,r),l&&ct(n,352,os(!1));var d=n.end(),f=Ps();l&&ct(f,140,s4e()),l&&r.Strings&&NEe(f,252,d_e(r.Strings)),ct(f,10);var h=f.end(),p=Ps(),m=0,x=0;for(x=0;x<e.SheetNames.length;++x)m+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var g=d.length+m+h.length;for(x=0;x<e.SheetNames.length;++x){var v=i[x]||{};ct(p,133,c_e({pos:g,hs:v.Hidden||0,dt:0,name:e.SheetNames[x]},r)),g+=t[x].length}var b=p.end();if(m!=b.length)throw new Error("BS8 "+m+" != "+b.length);var y=[];return d.length&&y.push(d),b.length&&y.push(b),h.length&&y.push(h),li(y)}function LEe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Fn(Ht)),e&&e.SSF&&(Kp(),Kw(e.SSF),r.revssf=Jw(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,eC(r),r.cellXfs=[],Id(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=FEe(a,r,e);return n.unshift(REe(e,n,r)),li(n)}function NB(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Ms(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return LEe(e,t);case 4:case 3:case 2:return EEe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function eP(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,l=i&&i.index||e.length,c=_we(e.slice(s,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<c.length;++s){var x=c[s].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var v=x.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var b=v[l].trim();if(b.match(/<t[dh]/i)){for(var y=b,_=0;y.charAt(0)=="<"&&(_=y.indexOf(">"))>-1;)y=y.slice(_+1);for(var N=0;N<m.length;++N){var S=m[N];S.s.c==d&&S.s.r<u&&u<=S.e.r&&(d=S.e.c+1,N=-1)}var j=qt(b.slice(0,b.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&m.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var A=j.t||j["data-t"]||"";if(!y.length){d+=h;continue}if(y=GL(y),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!y.length){d+=h;continue}var T={t:"s",v:y};r.raw||!y.trim().length||A=="s"||(y==="TRUE"?T={t:"b",v:!0}:y==="FALSE"?T={t:"b",v:!1}:isNaN(wl(y))?isNaN(vp(y).getDate())||(T={t:"d",v:Mn(y)},r.cellDates||(T={t:"n",v:Ka(T.v)}),T.z=r.dateNF||Ht[14]):T={t:"n",v:wl(y)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=T):n[Vt({r:u,c:d})]=T,d+=h}}}}return n["!ref"]=ir(p),m.length&&(n["!merges"]=m),n}function BEe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Vt({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||EA(f.w||(lu(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(lt("td",h,p))}}var m="<tr>";return m+i.join("")+"</tr>"}var $Ee='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zEe="</body></html>";function UEe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Dd(eP(r[0],t),t);var n=nC();return r.forEach(function(a,i){aC(n,eP(a,t),"Sheet"+(i+1))}),n}function HEe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function jB(e,t){var r=t||{},n=r.header!=null?r.header:$Ee,a=r.footer!=null?r.footer:zEe,i=[n],s=Ms(e["!ref"]);r.dense=Array.isArray(e),i.push(HEe(e,s,r));for(var l=s.s.r;l<=s.e.r;++l)i.push(BEe(e,s,l,r));return i.push("</table>"+a),i.join("")}function SB(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?qn(n.origin):n.origin;a=s.r,i=s.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Ms(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,x=0,g=0,v=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);m<l.length&&x<c;++m){var _=l[m];if(tP(_)){if(n.display)continue;p[x]={hidden:!0}}var N=_.children;for(g=v=0;g<N.length;++g){var S=N[g];if(!(n.display&&tP(S))){var j=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):GL(S.innerHTML),A=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==v+i&&T.s.r<x+a&&x+a<=T.e.r&&(v=T.e.c+1-i,h=-1)}y=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:x+a,c:v+i},e:{r:x+a+(b||1)-1,c:v+i+(y||1)-1}});var F={t:"s",v:j},O=S.getAttribute("data-t")||S.getAttribute("t")||"";j!=null&&(j.length==0?F.t=O||"z":n.raw||j.trim().length==0||O=="s"||(j==="TRUE"?F={t:"b",v:!0}:j==="FALSE"?F={t:"b",v:!1}:isNaN(wl(j))?isNaN(vp(j).getDate())||(F={t:"d",v:Mn(j)},n.cellDates||(F={t:"n",v:Ka(F.v)}),F.z=n.dateNF||Ht[14]):F={t:"n",v:wl(j)})),F.z===void 0&&A!=null&&(F.z=A);var E="",L=S.getElementsByTagName("A");if(L&&L.length)for(var B=0;B<L.length&&!(L[B].hasAttribute("href")&&(E=L[B].getAttribute("href"),E.charAt(0)!="#"));++B);E&&E.charAt(0)!="#"&&(F.l={Target:E}),n.dense?(e[x+a]||(e[x+a]=[]),e[x+a][v+i]=F):e[Vt({c:v+i,r:x+a})]=F,u.e.c<v+i&&(u.e.c=v+i),v+=y}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+a),e["!ref"]=ir(u),x>=c&&(e["!fullref"]=ir((u.e.r=l.length-m+x-1+a,u))),e}function AB(e,t){var r=t||{},n=r.dense?[]:{};return SB(n,e,t)}function WEe(e,t){return Dd(AB(e,t),t)}function tP(e){var t="",r=VEe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function VEe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function qEe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Er(t.replace(/<[^>]*>/g,""));return[r]}var rP={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function CB(e,t){var r=t||{},n=kA(e),a=[],i,s,l={name:""},c="",u=0,d,f,h={},p=[],m=r.dense?[]:{},x,g,v={value:""},b="",y=0,_=[],N=-1,S=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,T={},F=[],O={},E=0,L=0,B=[],G=1,z=1,V=[],Y={Names:[]},U={},ae=["",""],he=[],k={},P="",R=0,H=!1,X=!1,oe=0;for(P1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=P1.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"工作表":x[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?m["!ref"]=ir(j):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(m["!fullref"]=m["!ref"],j.e.r=r.sheetRows-1,m["!ref"]=ir(j)),F.length&&(m["!merges"]=F),B.length&&(m["!rows"]=B),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=m,X=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=qt(x[0],!1),N=S=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,m=r.dense?[]:{},F=[],B=[],X=!0);break;case"table-row-group":x[1]==="/"?--A:++A;break;case"table-row":case"行":if(x[1]==="/"){N+=G,G=1;break}if(f=qt(x[0],!1),f.行号?N=f.行号-1:N==-1&&(N=0),G=+f["number-rows-repeated"]||1,G<10)for(oe=0;oe<G;++oe)A>0&&(B[N+oe]={level:A});S=-1;break;case"covered-table-cell":x[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(m[N]||(m[N]=[]),m[N][S]={t:"z"}):m[Vt({r:N,c:S})]={t:"z"}),b="",_=[];break;case"table-cell":case"数据":if(x[0].charAt(x[0].length-2)==="/")++S,v=qt(x[0],!1),z=parseInt(v["number-columns-repeated"]||"1",10),g={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(g.f=QO(Er(v.formula))),(v.数据类型||v["value-type"])=="string"&&(g.t="s",g.v=Er(v["string-value"]||""),r.dense?(m[N]||(m[N]=[]),m[N][S]=g):m[Vt({r:N,c:S})]=g),S+=z-1;else if(x[1]!=="/"){++S,b="",y=0,_=[],z=1;var fe=G?N+G-1:N;if(S>j.e.c&&(j.e.c=S),S<j.s.c&&(j.s.c=S),N<j.s.r&&(j.s.r=N),fe>j.e.r&&(j.e.r=fe),v=qt(x[0],!1),he=[],k={},g={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=Er(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(E=parseInt(v["number-matrix-rows-spanned"],10)||0,L=parseInt(v["number-matrix-columns-spanned"],10)||0,O={s:{r:N,c:S},e:{r:N+E-1,c:S+L-1}},g.F=ir(O),V.push([O,g.F])),v.formula)g.f=QO(v.formula);else for(oe=0;oe<V.length;++oe)N>=V[oe][0].s.r&&N<=V[oe][0].e.r&&S>=V[oe][0].s.c&&S<=V[oe][0].e.c&&(g.F=V[oe][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(E=parseInt(v["number-rows-spanned"],10)||0,L=parseInt(v["number-columns-spanned"],10)||0,O={s:{r:N,c:S},e:{r:N+E-1,c:S+L-1}},F.push(O)),v["number-columns-repeated"]&&(z=parseInt(v["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Dn(v["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(v.value);break;case"percentage":g.t="n",g.v=parseFloat(v.value);break;case"currency":g.t="n",g.v=parseFloat(v.value);break;case"date":g.t="d",g.v=Mn(v["date-value"]),r.cellDates||(g.t="n",g.v=Ka(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=bwe(v["time-value"])/86400,r.cellDates&&(g.t="d",g.v=Zw(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(v.数据数值);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",v["string-value"]!=null&&(b=Er(v["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(H=!1,g.t==="s"&&(g.v=b||"",_.length&&(g.R=_),H=y==0),U.Target&&(g.l=U),he.length>0&&(g.c=he,he=[]),b&&r.cellText!==!1&&(g.w=b),H&&(g.t="z",delete g.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=N))for(var re=0;re<G;++re){if(z=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(m[N+re]||(m[N+re]=[]),m[N+re][S]=re==0?g:Fn(g);--z>0;)m[N+re][S+z]=Fn(g);else for(m[Vt({r:N+re,c:S})]=g;--z>0;)m[Vt({r:N+re,c:S+z})]=Fn(g);j.e.c<=S&&(j.e.c=S)}z=parseInt(v["number-columns-repeated"]||"1",10),S+=z-1,z=0,g={},b="",_=[]}U={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i;k.t=b,_.length&&(k.R=_),k.a=P,he.push(k)}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);P="",R=0,b="",y=0,_=[];break;case"creator":x[1]==="/"?P=n.slice(R,x.index):R=x.index+x[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&a.push([x[3],!1]);b="",y=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(T[l.name]=c,(i=a.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=qt(x[0],!1),a.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=qt(x[0],!1),c+=rP[x[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=qt(x[0],!1),c+=rP[x[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":s=qt(x[0],!1),ae=e4(s["cell-range-address"]);var ve={Name:s.name,Ref:ae[0]+"!"+ae[1]};X&&(ve.Sheet=p.length),Y.Names.push(ve);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(x[1]==="/"&&(!v||!v["string-value"])){var Ce=qEe(n.slice(y,x.index));b=(b.length>0?b+`
`:"")+Ce[0]}else qt(x[0],!1),y=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{ae=e4(qt(x[0])["target-range-address"]),h[ae[0]]["!autofilter"]={ref:ae[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(U=qt(x[0],!1),!U.href)break;U.Target=Er(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(ae=e4(U.Target.slice(1)),U.Target="#"+ae[0]+"!"+ae[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(x)}}var q={Sheets:h,SheetNames:p,Workbook:Y};return r.bookSheets&&delete q.Sheets,q}function nP(e,t){t=t||{},To(e,"META-INF/manifest.xml")&&b5e(Ea(e,"META-INF/manifest.xml"),t);var r=to(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=CB(cn(r),t);return To(e,"meta.xml")&&(n.Props=g9(Ea(e,"meta.xml"))),n}function aP(e,t){return CB(e,t)}var GEe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+O1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ba+t}}(),iP=function(){var e=function(i){return Zr(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,l){var c=[];c.push('      <table:table table:name="'+Zr(s.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Ms(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,m=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",g=i["!rows"]||[];for(u=0;u<f.s.r;++u)x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,b={},y="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(v=!0),b["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,b["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(v){c.push(r);continue}var _=Vt({r:u,c:d}),N=m?(i[u]||[])[d]:i[_];if(N&&N.f&&(b["table:formula"]=Zr(hSe(N.f)),N.F&&N.F.slice(0,_.length)==_)){var S=Ms(N.F);b["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,b["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":y=N.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=N.v?"true":"false";break;case"n":y=N.w||String(N.v||0),b["office:value-type"]="float",b["office:value"]=N.v||0;break;case"s":case"str":y=N.v==null?"":N.v,b["office:value-type"]="string";break;case"d":y=N.w||Mn(N.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Mn(N.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(y);if(N.l&&N.l.Target){var A=N.l.Target;A=A.charAt(0)=="#"?"#"+pSe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),j=lt("text:a",j,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+lt("table:table-cell",lt("text:p",j,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;yd(f),f.ods=l;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,l){var c=[ba],u=O1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=O1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(x9().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function EB(e,t){if(t.bookType=="fods")return iP(e,t);var r=SA(),n="",a=[],i=[];return n="mimetype",sr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",sr(r,n,iP(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",sr(r,n,GEe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",sr(r,n,ba+x9()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",sr(r,n,_5e(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",sr(r,n,y5e(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Y0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function nj(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):cn(Pd(e))}function YEe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):eo(Jl(e))}function XEe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function _d(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function sP(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function KEe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function QEe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function B1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Yr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function ea(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Or(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=B1(e,r),i=a&7;a=Math.floor(a/8);var s=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:s=4,l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=B1(e,r),l=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function gi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Yr(n*8+a.type)),a.type==2&&t.push(Yr(a.data.length)),t.push(a.data))})}),_d(t)}function JA(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Co(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=B1(e,n),i=Or(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:ea(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Or(l.data),u=ea(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=ea(i[3][0].data)>>>0>0),r.push(s)}return r}function Kf(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Yr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Yr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Yr(s.data.length)}],n[2].push({data:gi(s.meta),type:2})});var i=gi(n);t.push(Yr(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),_d(t)}function JEe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=B1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=t[r[0]],l>1&&(s|=t[r[0]+1]<<8),l>2&&(s|=t[r[0]+2]<<16),l>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[_d(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=_d(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Eo(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(JEe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return _d(t)}function Qf(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Yr(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return _d(t)}function ZEe(e,t,r,n){var a=Y0(e),i=a.getUint32(4,!0),s=(n>1?12:8)+sP(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(s,!0),s+=4),s+=sP(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(s,!0),s+=4),i&32&&(u=a.getFloat64(s,!0),s+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function eke(e,t,r){var n=Y0(e),a=n.getUint32(8,!0),i=12,s=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=KEe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function r4(e,t){var r=new Uint8Array(32),n=Y0(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,QEe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function n4(e,t){var r=new Uint8Array(32),n=Y0(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function tke(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return ZEe(e,t,r,e[0]);case 5:return eke(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function $i(e){var t=Or(e);return B1(t[1][0].data)}function oP(e,t){var r=Or(t.data),n=ea(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var l=Or(s.data),c=ea(l[1][0].data)>>>0;switch(n){case 1:i[c]=nj(l[3][0].data);break;case 8:{var u=e[$i(l[9][0].data)][0],d=Or(u.data),f=e[$i(d[1][0].data)][0],h=ea(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Or(f.data);i[c]=p[3].map(function(m){return nj(m.data)}).join("")}break}}),i}function rke(e,t){var r,n,a,i,s,l,c,u,d,f,h,p,m,x,g=Or(e),v=ea(g[1][0].data)>>>0,b=ea(g[2][0].data)>>>0,y=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&ea(g[8][0].data)>0||!1,_,N;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&t!=0)_=(l=(s=g[7])==null?void 0:s[0])==null?void 0:l.data,N=(u=(c=g[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,N=(x=(m=g[3])==null?void 0:m[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=y?4:1,j=Y0(_),A=[],T=0;T<_.length/2;++T){var F=j.getUint16(T*2,!0);F<65535&&A.push([T,F])}if(A.length!=b)throw"Expected ".concat(b," cells, found ").concat(A.length);var O=[];for(T=0;T<A.length-1;++T)O[A[T][0]]=N.subarray(A[T][1]*S,A[T+1][1]*S);return A.length>=1&&(O[A[A.length-1][0]]=N.subarray(A[A.length-1][1]*S)),{R:v,cells:O}}function nke(e,t){var r,n=Or(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ea(n[7][0].data)>>>0>0?1:0:-1,i=JA(n[5],function(s){return rke(s,a)});return{nrows:ea(n[4][0].data)>>>0,data:i.reduce(function(s,l){return s[l.R]||(s[l.R]=[]),l.cells.forEach(function(c,u){if(s[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));s[l.R][u]=c}),s},[])}}function ake(e,t,r){var n,a=Or(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ea(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ea(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=ir(i);var s=Or(a[4][0].data),l=oP(e,e[$i(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?oP(e,e[$i(s[17][0].data)][0]):[],u=Or(s[3][0].data),d=0;u[1].forEach(function(f){var h=Or(f.data),p=e[$i(h[2][0].data)][0],m=ea(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var x=nke(e,p);x.data.forEach(function(g,v){g.forEach(function(b,y){var _=Vt({r:d+v,c:y}),N=tke(b,l,c);N&&(r[_]=N)})}),d+=x.nrows})}function ike(e,t){var r=Or(t.data),n={"!ref":"A1"},a=e[$i(r[2][0].data)],i=ea(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return ake(e,a[0],n),n}function ske(e,t){var r,n=Or(t.data),a={name:(r=n[1])!=null&&r[0]?nj(n[1][0].data):"",sheets:[]},i=JA(n[2],$i);return i.forEach(function(s){e[s].forEach(function(l){var c=ea(l.meta[1][0].data);c==6e3&&a.sheets.push(ike(e,l))})}),a}function oke(e,t){var r=nC(),n=Or(t.data),a=JA(n[1],$i);if(a.forEach(function(i){e[i].forEach(function(s){var l=ea(s.meta[1][0].data);if(l==2){var c=ske(e,s);c.sheets.forEach(function(u,d){aC(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function a4(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Eo(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Co(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ea(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||s.forEach(function(c){i[c].forEach(function(u){var d=ea(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return oke(i,l)}function lke(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&ea(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Y0(e[7][0].data),d=0,f=[],h=Y0(e[4][0].data),p=0,m=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),h.setUint16(x*2,p,!0);var g,v;switch(typeof t[x]){case"string":g=r4({t:"s",v:t[x]},r),v=n4({t:"s",v:t[x]},r);break;case"number":g=r4({t:"n",v:t[x]},r),v=n4({t:"n",v:t[x]},r);break;case"boolean":g=r4({t:"b",v:t[x]},r),v=n4({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(g),d+=g.length,m.push(v),p+=v.length,++c}for(e[2][0].data=Yr(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),h.setUint16(x*2,65535,!0);return e[6][0].data=_d(f),e[3][0].data=_d(m),c}function cke(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ms(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ir(n)));var i=yy(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(P){return P.forEach(function(R){typeof R=="string"&&s.push(R)})});var l={},c=[],u=Mt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(P,R){return[P,u.FullPaths[R]]}).forEach(function(P){var R=P[0],H=P[1];if(R.type==2&&R.name.match(/\.iwa/)){var X=R.content,oe=Eo(X),fe=Co(oe);fe.forEach(function(re){c.push(re.id),l[re.id]={deps:[],location:H,type:ea(re.messages[0].meta[1][0].data)}})}}),c.sort(function(P,R){return P-R});var d=c.filter(function(P){return P>1}).map(function(P){return[P,Yr(P)]});u.FileIndex.map(function(P,R){return[P,u.FullPaths[R]]}).forEach(function(P){var R=P[0];if(P[1],!!R.name.match(/\.iwa/)){var H=Co(Eo(R.content));H.forEach(function(X){X.messages.forEach(function(oe){d.forEach(function(fe){X.messages.some(function(re){return ea(re.meta[1][0].data)!=11006&&XEe(re.data,fe[1])})&&l[fe[0]].deps.push(X.id)})})})}});for(var f=Mt.find(u,l[1].location),h=Co(Eo(f.content)),p,m=0;m<h.length;++m){var x=h[m];x.id==1&&(p=x)}var g=$i(Or(p.messages[0].data)[1][0].data);for(f=Mt.find(u,l[g].location),h=Co(Eo(f.content)),m=0;m<h.length;++m)x=h[m],x.id==g&&(p=x);for(g=$i(Or(p.messages[0].data)[2][0].data),f=Mt.find(u,l[g].location),h=Co(Eo(f.content)),m=0;m<h.length;++m)x=h[m],x.id==g&&(p=x);for(g=$i(Or(p.messages[0].data)[2][0].data),f=Mt.find(u,l[g].location),h=Co(Eo(f.content)),m=0;m<h.length;++m)x=h[m],x.id==g&&(p=x);var v=Or(p.messages[0].data);{v[6][0].data=Yr(n.e.r+1),v[7][0].data=Yr(n.e.c+1);var b=$i(v[46][0].data),y=Mt.find(u,l[b].location),_=Co(Eo(y.content));{for(var N=0;N<_.length&&_[N].id!=b;++N);if(_[N].id!=b)throw"Bad ColumnRowUIDMapArchive";var S=Or(_[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var j=0;j<=n.e.c;++j){var A=[];A[1]=A[2]=[{type:0,data:Yr(j+420690)}],S[1].push({type:2,data:gi(A)}),S[2].push({type:0,data:Yr(j)}),S[3].push({type:0,data:Yr(j)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=n.e.r;++T)A=[],A[1]=A[2]=[{type:0,data:Yr(T+726270)}],S[4].push({type:2,data:gi(A)}),S[5].push({type:0,data:Yr(T)}),S[6].push({type:0,data:Yr(T)});_[N].messages[0].data=gi(S)}y.content=Qf(Kf(_)),y.size=y.content.length,delete v[46];var F=Or(v[4][0].data);{F[7][0].data=Yr(n.e.r+1);var O=Or(F[1][0].data),E=$i(O[2][0].data);y=Mt.find(u,l[E].location),_=Co(Eo(y.content));{if(_[0].id!=E)throw"Bad HeaderStorageBucket";var L=Or(_[0].messages[0].data);for(T=0;T<i.length;++T){var B=Or(L[2][0].data);B[1][0].data=Yr(T),B[4][0].data=Yr(i[T].length),L[2][T]={type:L[2][0].type,data:gi(B)}}_[0].messages[0].data=gi(L)}y.content=Qf(Kf(_)),y.size=y.content.length;var G=$i(F[2][0].data);y=Mt.find(u,l[G].location),_=Co(Eo(y.content));{if(_[0].id!=G)throw"Bad HeaderStorageBucket";for(L=Or(_[0].messages[0].data),j=0;j<=n.e.c;++j)B=Or(L[2][0].data),B[1][0].data=Yr(j),B[4][0].data=Yr(n.e.r+1),L[2][j]={type:L[2][0].type,data:gi(B)};_[0].messages[0].data=gi(L)}y.content=Qf(Kf(_)),y.size=y.content.length;var z=$i(F[4][0].data);(function(){for(var P=Mt.find(u,l[z].location),R=Co(Eo(P.content)),H,X=0;X<R.length;++X){var oe=R[X];oe.id==z&&(H=oe)}var fe=Or(H.messages[0].data);{fe[3]=[];var re=[];s.forEach(function(q,Me){re[1]=[{type:0,data:Yr(Me)}],re[2]=[{type:0,data:Yr(1)}],re[3]=[{type:2,data:YEe(q)}],fe[3].push({type:2,data:gi(re)})})}H.messages[0].data=gi(fe);var ve=Kf(R),Ce=Qf(ve);P.content=Ce,P.size=P.content.length})();var V=Or(F[3][0].data);{var Y=V[1][0];delete V[2];var U=Or(Y.data);{var ae=$i(U[2][0].data);(function(){for(var P=Mt.find(u,l[ae].location),R=Co(Eo(P.content)),H,X=0;X<R.length;++X){var oe=R[X];oe.id==ae&&(H=oe)}var fe=Or(H.messages[0].data);{delete fe[6],delete V[7];var re=new Uint8Array(fe[5][0].data);fe[5]=[];for(var ve=0,Ce=0;Ce<=n.e.r;++Ce){var q=Or(re);ve+=lke(q,i[Ce],s),q[1][0].data=Yr(Ce),fe[5].push({data:gi(q),type:2})}fe[1]=[{type:0,data:Yr(n.e.c+1)}],fe[2]=[{type:0,data:Yr(n.e.r+1)}],fe[3]=[{type:0,data:Yr(ve)}],fe[4]=[{type:0,data:Yr(n.e.r+1)}]}H.messages[0].data=gi(fe);var Me=Kf(R),Le=Qf(Me);P.content=Le,P.size=P.content.length})()}Y.data=gi(U)}F[3][0].data=gi(V)}v[4][0].data=gi(F)}p.messages[0].data=gi(v);var he=Kf(h),k=Qf(he);return f.content=k,f.size=f.content.length,u}function kB(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function ZA(e){kB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function eC(e){kB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function uke(e){return fr.WS.indexOf(e)>-1?"sheet":e==fr.CS?"chart":e==fr.DS?"dialog":e==fr.MS?"macro":e&&e.length?e:"sheet"}function dke(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,uke(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function fke(e,t,r,n,a,i,s,l,c,u,d,f){try{i[n]=kx(to(e,r,!0),t);var h=Ea(e,t),p;switch(l){case"sheet":p=ICe(h,t,a,c,i[n],u,d,f);break;case"chart":if(p=MCe(h,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var m=ux(p["!drawel"].Target,t),x=D1(m),g=w3e(to(e,m,!0),kx(to(e,x,!0),m)),v=ux(g,m),b=D1(v);p=lCe(to(e,v,!0),v,c,kx(to(e,b,!0),v),u,p);break;case"macro":p=FCe(h,t,a,c,i[n],u,d,f);break;case"dialog":p=RCe(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}s[n]=p;var y=[];i&&i[n]&&ta(i[n]).forEach(function(_){var N="";if(i[n][_].Type==fr.CMNT){N=ux(i[n][_].Target,t);var S=zCe(Ea(e,N,!0),N,c);if(!S||!S.length)return;qO(p,S,!1)}i[n][_].Type==fr.TCMNT&&(N=ux(i[n][_].Target,t),y=y.concat(N3e(Ea(e,N,!0),c)))}),y&&y.length&&qO(p,y,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function So(e){return e.charAt(0)=="/"?e.slice(1):e}function hke(e,t){if(Kp(),t=t||{},ZA(t),To(e,"META-INF/manifest.xml")||To(e,"objectdata.xml"))return nP(e,t);if(To(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof a4<"u"){if(e.FileIndex)return a4(e);var r=Mt.utils.cfb_new();return hO(e).forEach(function(B){sr(r,B,jwe(e,B))}),a4(r)}throw new Error("Unsupported NUMBERS file")}if(!To(e,"[Content_Types].xml"))throw To(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):To(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=hO(e),a=g5e(to(e,"[Content_Types].xml")),i=!1,s,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Ea(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Ea(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Tx=[],a.sst)try{Tx=$Ce(Ea(e,So(a.sst)),a.sst,t)}catch(B){if(t.WTF)throw B}t.cellStyles&&a.themes.length&&(c=BCe(to(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=LCe(Ea(e,So(a.style)),a.style,c,t))}a.links.map(function(B){try{var G=kx(to(e,D1(So(B))),B);return HCe(Ea(e,So(B)),G,B,t)}catch{}});var d=DCe(Ea(e,So(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Ea(e,So(a.coreprops[0]),!0),h&&(f=g9(h)),a.extprops.length!==0&&(h=Ea(e,So(a.extprops[0]),!0),h&&j5e(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=to(e,So(a.custprops[0]),!0),h&&(p=A5e(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(G){return G.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var x={};t.bookDeps&&a.calcchain&&(x=UCe(Ea(e,So(a.calcchain)),a.calcchain));var g=0,v={},b,y;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var N=0;N!=_.length;++N)f.SheetNames[N]=_[N].name}var S=i?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");To(e,A)||(A="xl/_rels/workbook."+S+".rels");var T=kx(to(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=WCe(Ea(e,So(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=S3e(Ea(e,So(a.people[0])),t)),T&&(T=dke(T,d.Sheets));var F=Ea(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var O="sheet";if(T&&T[g]?(b="xl/"+T[g][1].replace(/[\/]?xl\//,""),To(e,b)||(b=T[g][1]),To(e,b)||(b=A.replace(/_rels\/.*$/,"")+T[g][1]),O=T[g][2]):(b="xl/worksheets/sheet"+(g+1-F)+"."+S,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var E=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==g&&(E=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==f.SheetNames[g].toLowerCase()&&(E=1);if(!E)continue e}}fke(e,b,y,f.SheetNames[g],g,v,s,O,t,d,c,u)}return m={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:x,Sheets:s,SheetNames:f.SheetNames,Strings:Tx,Styles:u,Themes:c,SSF:Fn(Ht)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(B,G){B=B.replace(/^Root Entry[\/]/,""),m.keys.push(B),m.files[B]=e.FileIndex[G]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=Ea(e,So(a.vba[0]),!0):a.defaults&&a.defaults.bin===D3e&&(m.vbaraw=Ea(e,"xl/vbaProject.bin",!0))),m}function pke(e,t){var r=t||{},n="Workbook",a=Mt.find(e,n);try{if(n="/!DataSpaces/Version",a=Mt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(W4e(a.content),n="/!DataSpaces/DataSpaceMap",a=Mt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=q4e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Mt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=G4e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Mt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);X4e(a.content)}catch{}if(n="/EncryptionInfo",a=Mt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=K4e(a.content);if(n="/EncryptedPackage",a=Mt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function mke(e,t){return t.bookType=="ods"?EB(e,t):t.bookType=="numbers"?cke(e,t):t.bookType=="xlsb"?xke(e,t):gke(e,t)}function xke(e,t){jh=1024,e&&!e.SSF&&(e.SSF=Fn(Ht)),e&&e.SSF&&(Kp(),Kw(e.SSF),t.revssf=Jw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ox?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=rB.indexOf(t.bookType)>-1,a=BA();eC(t=t||{});var i=SA(),s="",l=0;if(t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",sr(i,s,v9(e.Props,t)),a.coreprops.push(s),Jr(t.rels,2,s,fr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,sr(i,s,w9(e.Props)),a.extprops.push(s),Jr(t.rels,3,s,fr.EXT_PROPS),e.Custprops!==e.Props&&ta(e.Custprops||{}).length>0&&(s="docProps/custom.xml",sr(i,s,_9(e.Custprops)),a.custprops.push(s),Jr(t.rels,4,s,fr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,sr(i,s,qCe(l-1,s,t,e,d)),a.sheets.push(s),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,fr.WS[0])}if(f){var p=f["!comments"],m=!1,x="";p&&p.length>0&&(x="xl/comments"+l+"."+r,sr(i,x,XCe(p,x)),a.comments.push(x),Jr(d,-1,"../comments"+l+"."+r,fr.CMNT),m=!0),f["!legacy"]&&m&&sr(i,"xl/drawings/vmlDrawing"+l+".vml",eB(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&sr(i,D1(s),Mh(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,sr(i,s,YCe(t.Strings,s,t)),a.strs.push(s),Jr(t.wbrels,-1,"sharedStrings."+r,fr.SST)),s="xl/workbook."+r,sr(i,s,VCe(e,s)),a.workbooks.push(s),Jr(t.rels,1,s,fr.WB),s="xl/theme/theme1.xml",sr(i,s,VA(e.Themes,t)),a.themes.push(s),Jr(t.wbrels,-1,"theme/theme1.xml",fr.THEME),s="xl/styles."+r,sr(i,s,GCe(e,s,t)),a.styles.push(s),Jr(t.wbrels,-1,"styles."+r,fr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",sr(i,s,e.vbaraw),a.vba.push(s),Jr(t.wbrels,-1,"vbaProject.bin",fr.VBA)),s="xl/metadata."+r,sr(i,s,KCe(s)),a.metadata.push(s),Jr(t.wbrels,-1,"metadata."+r,fr.XLMETA),sr(i,"[Content_Types].xml",m9(a,t)),sr(i,"_rels/.rels",Mh(t.rels)),sr(i,"xl/_rels/workbook."+r+".rels",Mh(t.wbrels)),delete t.revssf,delete t.ssf,i}function gke(e,t){jh=1024,e&&!e.SSF&&(e.SSF=Fn(Ht)),e&&e.SSF&&(Kp(),Kw(e.SSF),t.revssf=Jw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ox?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=rB.indexOf(t.bookType)>-1,a=BA();eC(t=t||{});var i=SA(),s="",l=0;if(t.cellXfs=[],Id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",sr(i,s,v9(e.Props,t)),a.coreprops.push(s),Jr(t.rels,2,s,fr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,sr(i,s,w9(e.Props)),a.extprops.push(s),Jr(t.rels,3,s,fr.EXT_PROPS),e.Custprops!==e.Props&&ta(e.Custprops||{}).length>0&&(s="docProps/custom.xml",sr(i,s,_9(e.Custprops)),a.custprops.push(s),Jr(t.rels,4,s,fr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,sr(i,s,hB(l-1,t,e,f)),a.sheets.push(s),Jr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,fr.WS[0])}if(h){var m=h["!comments"],x=!1,g="";if(m&&m.length>0){var v=!1;m.forEach(function(b){b[1].forEach(function(y){y.T==!0&&(v=!0)})}),v&&(g="xl/threadedComments/threadedComment"+l+"."+r,sr(i,g,j3e(m,d,t)),a.threadedcomments.push(g),Jr(f,-1,"../threadedComments/threadedComment"+l+"."+r,fr.TCMNT)),g="xl/comments"+l+"."+r,sr(i,g,tB(m)),a.comments.push(g),Jr(f,-1,"../comments"+l+"."+r,fr.CMNT),x=!0}h["!legacy"]&&x&&sr(i,"xl/drawings/vmlDrawing"+l+".vml",eB(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&sr(i,D1(s),Mh(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,sr(i,s,U9(t.Strings,t)),a.strs.push(s),Jr(t.wbrels,-1,"sharedStrings."+r,fr.SST)),s="xl/workbook."+r,sr(i,s,vB(e)),a.workbooks.push(s),Jr(t.rels,1,s,fr.WB),s="xl/theme/theme1.xml",sr(i,s,VA(e.Themes,t)),a.themes.push(s),Jr(t.wbrels,-1,"theme/theme1.xml",fr.THEME),s="xl/styles."+r,sr(i,s,K9(e,t)),a.styles.push(s),Jr(t.wbrels,-1,"styles."+r,fr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",sr(i,s,e.vbaraw),a.vba.push(s),Jr(t.wbrels,-1,"vbaProject.bin",fr.VBA)),s="xl/metadata."+r,sr(i,s,Z9()),a.metadata.push(s),Jr(t.wbrels,-1,"metadata."+r,fr.XLMETA),d.length>1&&(s="xl/persons/person.xml",sr(i,s,A3e(d)),a.people.push(s),Jr(t.wbrels,-1,"persons/person.xml",fr.PEOPLE)),sr(i,"[Content_Types].xml",m9(a,t)),sr(i,"_rels/.rels",Mh(t.rels)),sr(i,"xl/_rels/workbook."+r+".rels",Mh(t.wbrels)),delete t.revssf,delete t.ssf,i}function tC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=co(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function vke(e,t){return Mt.find(e,"EncryptedPackage")?pke(e,t):_B(e,t)}function bke(e,t){var r,n=e,a=t||{};return a.type||(a.type=cr&&Buffer.isBuffer(e)?"buffer":"base64"),r=WL(n,a),hke(r,a)}function TB(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return tj(e.slice(r),t);default:break e}return bp.to_workbook(e,t)}function yke(e,t){var r="",n=tC(e,t);switch(t.type){case"base64":r=co(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=W0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=cn(r)),t.type="binary",TB(r,t)}function wke(e,t){var r=e;return t.type=="base64"&&(r=co(r)),r=rd.utils.decode(1200,r.slice(2),"str"),t.type="binary",TB(r,t)}function _ke(e){return e.match(/[^\x00-\x7F]/)?Jl(e):e}function i4(e,t,r,n){return n?(r.type="string",bp.to_workbook(e,r)):bp.to_workbook(t,r)}function aj(e,t){yA();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return aj(new Uint8Array(e),(r=Fn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Rh={},r.dateNF&&(Rh.dateNF=r.dateNF),r.type||(r.type=cr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=cr?"buffer":"binary",n=xwe(e),typeof Uint8Array<"u"&&!cr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=_ke(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),l=new Uint8Array(s);if(l.foo="bar",!l.foo)return r=Fn(r),r.type="array",aj(wA(n),r)}switch((a=tC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return vke(Mt.read(n,r),r);break;case 9:if(a[1]<=8)return _B(n,r);break;case 60:return tj(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return C4e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return $9.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?bke(n,r):i4(e,n,r,i);case 239:return a[3]===60?tj(n,r):i4(e,n,r,i);case 255:if(a[1]===254)return wke(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return E0.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return E0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return ej.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return G9.to_workbook(n,r);break;case 10:case 13:case 32:return yke(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return A4e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?ej.to_workbook(n,r):i4(e,n,r,i)}function OB(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mg(t.file,Mt.write(e,{type:cr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Mt.write(e,t)}function Nke(e,t){var r=Fn(t||{}),n=mke(e,r);return jke(n,r)}function jke(e,t){var r={},n=cr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Mt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Xw(a))}return t.password&&typeof encrypt_agile<"u"?OB(encrypt_agile(a,t.password),t):t.type==="file"?mg(t.file,a):t.type=="string"?cn(a):a}function Ske(e,t){var r=t||{},n=_Ee(e,r);return OB(n,r)}function Ll(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return E1(Jl(n));case"binary":return Jl(n);case"string":return e;case"file":return mg(t.file,n,"utf8");case"buffer":return cr?hu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ll(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ake(e,t){switch(t.type){case"base64":return E1(e);case"binary":return e;case"string":return e;case"file":return mg(t.file,e,"binary");case"buffer":return cr?hu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function e2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?E1(r):t.type=="string"?cn(r):r;case"file":return mg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function PB(e,t){yA(),vCe(e);var r=Fn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=PB(e,r);return r.type="array",Xw(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ll(mEe(e,r),r);case"slk":case"sylk":return Ll(B9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ll(jB(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Ake(DB(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ll(rC(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ll($9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return e2(ej.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ll(bp.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ll(G9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ll(z9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ll(EB(e,r),r);case"wk1":return e2(E0.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return e2(E0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),e2(NB(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Ske(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Nke(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Cke(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Eke(e,t,r){var n={};return n.type="file",n.file=t,Cke(n),PB(e,n)}function kke(e,t,r,n,a,i,s,l){var c=ga(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=s?e[r][p]:e[n[p]+c];if(m===void 0||m.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var x=m.v;switch(m.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[p]!=null){if(x==null)if(m.t=="e"&&x===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&x===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(m.t!=="n"||m.t==="n"&&l.rawNumbers!==!1)?x:lu(m,x,l);x!=null&&(f=!1)}}return{row:h,isempty:f}}function yy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=kr(d);break;case"number":c=kr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=ga(c.s.r),h=[],p=[],m=0,x=0,g=Array.isArray(e),v=c.s.r,b=0,y={};g&&!e[v]&&(e[v]=[]);var _=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Vn(b),r=g?e[v][b]:e[h[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=lu(r,null,u),x=y[s]||0,!x)y[s]=1;else{do l=s+"_"+x++;while(y[l]);y[s]=x,y[l]=1}i[b]=l}for(v=c.s.r+a;v<=c.e.r;++v)if(!(N[v]||{}).hidden){var S=kke(e,c,v,h,n,i,g,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[m++]=S.row)}return p.length=m,p}var lP=/"/g;function Tke(e,t,r,n,a,i,s,l){for(var c=!0,u=[],d="",f=ga(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:lu(p,null,l));for(var m=0,x=0;m!==d.length;++m)if((x=d.charCodeAt(m))===a||x===i||x===34||l.forceQuotes){d='"'+d.replace(lP,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(lP,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(s)}function rC(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=kr(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=Vn(m));for(var x=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(d=Tke(e,a,g,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((x++?l:"")+d)));return delete n.dense,r.join("")}function DB(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=rC(e,t);return r}function Oke(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=kr(e["!ref"]),i="",s=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)s[l]=Vn(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=ga(d),l=a.s.c;l<=a.e.c;++l)if(t=s[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function IB(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?qn(n.origin):n.origin;s=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:s+t.length-1+a}};if(i["!ref"]){var f=kr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(x,g){ta(x).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var b=x[v],y="z",_="",N=Vt({c:l+p,r:s+g+a});u=$1(i,N),b&&typeof b=="object"&&!(b instanceof Date)?i[N]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Ka(b)),_=n.dateNF||Ht[14]):b===null&&n.nullError&&(y="e",b=0),u?(u.t=y,u.v=b,delete u.w,delete u.R,_&&(u.z=_)):i[N]=u={t:y,v:b},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var m=ga(s);if(a)for(p=0;p<h.length;++p)i[Vn(p+l)+m]={t:"s",v:h[p]};return i["!ref"]=ir(d),i}function Pke(e,t){return IB(null,e,t)}function $1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=qn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?$1(e,Vt(t)):$1(e,Vt({r:t,c:r||0}))}function Dke(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function nC(){return{SheetNames:[],Sheets:{}}}function aC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(gB(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Ike(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Dke(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Mke(e,t){return e.z=t,e}function MB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Fke(e,t,r){return MB(e,"#"+t,r)}function Rke(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Lke(e,t,r,n){for(var a=typeof t!="string"?t:kr(t),i=typeof t=="string"?t:ir(t),s=a.s.r;s<=a.e.r;++s)for(var l=a.s.c;l<=a.e.c;++l){var c=$1(e,s,l);c.t="n",c.F=i,delete c.v,s==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var z2={encode_col:Vn,encode_row:ga,encode_cell:Vt,encode_range:ir,decode_col:DA,decode_row:PA,split_cell:Ywe,decode_cell:qn,decode_range:Ms,format_cell:lu,sheet_add_aoa:l9,sheet_add_json:IB,sheet_add_dom:SB,aoa_to_sheet:Qp,json_to_sheet:Pke,table_to_sheet:AB,table_to_book:WEe,sheet_to_csv:rC,sheet_to_txt:DB,sheet_to_json:yy,sheet_to_html:jB,sheet_to_formulae:Oke,sheet_to_row_object_array:yy,sheet_get_cell:$1,book_new:nC,book_append_sheet:aC,book_set_sheet_visibility:Ike,cell_set_number_format:Mke,cell_set_hyperlink:MB,cell_set_internal_link:Fke,cell_add_comment:Rke,sheet_set_array_formula:Lke,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const FB=6048e5,Bke=864e5,a5=6e4,i5=36e5,$ke=1e3,cP=Symbol.for("constructDateFrom");function tn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&cP in e?e[cP](t):e instanceof Date?new e.constructor(t):new Date(t)}function Tt(e,t){return tn(t||e,e)}function Nl(e,t,r){const n=Tt(e,r==null?void 0:r.in);return isNaN(t)?tn((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function jl(e,t,r){const n=Tt(e,r==null?void 0:r.in);if(isNaN(t))return tn(e,NaN);if(!t)return n;const a=n.getDate(),i=tn(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return a>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function RB(e,t,r){return tn(e,+Tt(e)+t)}function zke(e,t,r){return RB(e,t*i5)}let Uke={};function gf(){return Uke}function cu(e,t){var l,c,u,d;const r=gf(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function wp(e,t){return cu(e,{...t,weekStartsOn:1})}function LB(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear(),a=tn(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=wp(a),s=tn(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const l=wp(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function wy(e){const t=Tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function xu(e,...t){const r=tn.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function X0(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function _p(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t),i=X0(n),s=X0(a),l=+i-wy(i),c=+s-wy(s);return Math.round((l-c)/Bke)}function Hke(e,t){const r=LB(e,t),n=tn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),wp(n)}function ij(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*a5),n}function iC(e,t,r){return jl(e,t*3,r)}function Wke(e,t,r){return RB(e,t*1e3)}function _y(e,t,r){return Nl(e,t*7,r)}function Jc(e,t,r){return jl(e,t*12,r)}function uP(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=tn.bind(null,a));const i=Tt(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),tn(n,r||NaN)}function dP(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=tn.bind(null,a));const i=Tt(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),tn(n,r||NaN)}function Vke(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t);return+X0(n)==+X0(a)}function Zc(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ny(e){return!(!Zc(e)&&typeof e!="number"||isNaN(+Tt(e)))}function jy(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return i*12+s}function T0(e,t){const r=Tt(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function Sy(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),s=T0(n)-T0(a);return i*4+s}function Ay(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function qke(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t),i=fP(n,a),s=Math.abs(_p(n,a));n.setDate(n.getDate()-i*s);const l=+(fP(n,a)===-i),c=i*(s-l);return c===0?0:c}function fP(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function BB(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function $B(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function sj(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function zB(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function UB(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function s5(e,t){const r=Tt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Gke(e,t){var l,c;const r=gf(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=Tt(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const Yke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xke=(e,t,r)=>{let n;const a=Yke[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function s4(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Kke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zke={date:s4({formats:Kke,defaultWidth:"full"}),time:s4({formats:Qke,defaultWidth:"full"}),dateTime:s4({formats:Jke,defaultWidth:"full"})},e6e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},t6e=(e,t,r,n)=>e6e[e];function Ym(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const r6e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n6e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a6e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i6e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s6e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},o6e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},l6e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},c6e={ordinalNumber:l6e,era:Ym({values:r6e,defaultWidth:"wide"}),quarter:Ym({values:n6e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ym({values:a6e,defaultWidth:"wide"}),day:Ym({values:i6e,defaultWidth:"wide"}),dayPeriod:Ym({values:s6e,defaultWidth:"wide",formattingValues:o6e,defaultFormattingWidth:"wide"})};function Xm(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?d6e(l,f=>f.test(s)):u6e(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function u6e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function d6e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function f6e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const h6e=/^(\d+)(th|st|nd|rd)?/i,p6e=/\d+/i,m6e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x6e={any:[/^b/i,/^(a|c)/i]},g6e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},v6e={any:[/1/i,/2/i,/3/i,/4/i]},b6e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y6e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},w6e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_6e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N6e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j6e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S6e={ordinalNumber:f6e({matchPattern:h6e,parsePattern:p6e,valueCallback:e=>parseInt(e,10)}),era:Xm({matchPatterns:m6e,defaultMatchWidth:"wide",parsePatterns:x6e,defaultParseWidth:"any"}),quarter:Xm({matchPatterns:g6e,defaultMatchWidth:"wide",parsePatterns:v6e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xm({matchPatterns:b6e,defaultMatchWidth:"wide",parsePatterns:y6e,defaultParseWidth:"any"}),day:Xm({matchPatterns:w6e,defaultMatchWidth:"wide",parsePatterns:_6e,defaultParseWidth:"any"}),dayPeriod:Xm({matchPatterns:N6e,defaultMatchWidth:"any",parsePatterns:j6e,defaultParseWidth:"any"})},HB={code:"en-US",formatDistance:Xke,formatLong:Zke,formatRelative:t6e,localize:c6e,match:S6e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function A6e(e,t){const r=Tt(e,t==null?void 0:t.in);return _p(r,s5(r))+1}function sC(e,t){const r=Tt(e,t==null?void 0:t.in),n=+wp(r)-+Hke(r);return Math.round(n/FB)+1}function oC(e,t){var d,f,h,p;const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear(),a=gf(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=tn((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=cu(s,t),c=tn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=cu(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function C6e(e,t){var l,c,u,d;const r=gf(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=oC(e,t),i=tn((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),cu(i,t)}function WB(e,t){const r=Tt(e,t==null?void 0:t.in),n=+cu(r,t)-+C6e(r,t);return Math.round(n/FB)+1}function Qr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Fu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qr(r+1,2)},d(e,t){return Qr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qr(e.getHours()%12||12,t.length)},H(e,t){return Qr(e.getHours(),t.length)},m(e,t){return Qr(e.getMinutes(),t.length)},s(e,t){return Qr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Qr(a,t.length)}},Jf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Fu.y(e,t)},Y:function(e,t,r,n){const a=oC(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Qr(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Qr(i,t.length)},R:function(e,t){const r=LB(e);return Qr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Fu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=WB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Qr(a,t.length)},I:function(e,t,r){const n=sC(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Fu.d(e,t)},D:function(e,t,r){const n=A6e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Qr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Qr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Qr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Jf.noon:n===0?a=Jf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Jf.evening:n>=12?a=Jf.afternoon:n>=4?a=Jf.morning:a=Jf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Fu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Fu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Fu.s(e,t)},S:function(e,t){return Fu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mP(n);case"XXXX":case"XX":return a0(n);case"XXXXX":case"XXX":default:return a0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return mP(n);case"xxxx":case"xx":return a0(n);case"xxxxx":case"xxx":default:return a0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pP(n,":");case"OOOO":default:return"GMT"+a0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pP(n,":");case"zzzz":default:return"GMT"+a0(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Qr(n,t.length)},T:function(e,t,r){return Qr(+e,t.length)}};function pP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Qr(i,2)}function mP(e,t){return e%60===0?(e>0?"-":"+")+Qr(Math.abs(e)/60,2):a0(e,t)}function a0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Qr(Math.trunc(n/60),2),i=Qr(n%60,2);return r+a+t+i}const xP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},VB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},E6e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return xP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",xP(n,t)).replace("{{time}}",VB(a,t))},oj={p:VB,P:E6e},k6e=/^D+$/,T6e=/^Y+$/,O6e=["D","DD","YY","YYYY"];function P6e(e){return k6e.test(e)}function D6e(e){return T6e.test(e)}function I6e(e,t,r){const n=M6e(e,t,r);if(console.warn(n),O6e.includes(e))throw new RangeError(n)}function M6e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const F6e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R6e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L6e=/^'([^]*?)'?$/,B6e=/''/g,$6e=/[a-zA-Z]/;function gP(e,t,r){var d,f,h,p,m,x,g,v;const n=gf(),a=(r==null?void 0:r.locale)??n.locale??HB,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((x=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=Tt(e,r==null?void 0:r.in);if(!Ny(l))throw new RangeError("Invalid time value");let c=t.match(R6e).map(b=>{const y=b[0];if(y==="p"||y==="P"){const _=oj[y];return _(b,a.formatLong)}return b}).join("").match(F6e).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:z6e(b)};if(hP[y])return{isToken:!0,value:b};if(y.match($6e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&D6e(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&P6e(y))&&I6e(y,t,String(e));const _=hP[y[0]];return _(l,y,a.localize,u)}).join("")}function z6e(e){const t=e.match(L6e);return t?t[1].replace(B6e,"'"):e}function vP(e,t){return Tt(e,t==null?void 0:t.in).getDate()}function U6e(e,t){return Tt(e,t==null?void 0:t.in).getDay()}function H6e(e,t){const r=Tt(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),i=tn(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function W6e(){return Object.assign({},gf())}function eu(e,t){return Tt(e,t==null?void 0:t.in).getHours()}function V6e(e,t){const r=Tt(e,t==null?void 0:t.in).getDay();return r===0?7:r}function tu(e,t){return Tt(e,t==null?void 0:t.in).getMinutes()}function ps(e,t){return Tt(e,t==null?void 0:t.in).getMonth()}function fd(e){return Tt(e).getSeconds()}function lj(e){return+Tt(e)}function hr(e,t){return Tt(e,t==null?void 0:t.in).getFullYear()}function Nd(e,t){return+Tt(e)>+Tt(t)}function K0(e,t){return+Tt(e)<+Tt(t)}function q6e(e,t){return+Tt(e)==+Tt(t)}function G6e(e,t){const r=Y6e(t)?new t(0):tn(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Y6e(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const X6e=10;class qB{constructor(){_t(this,"subPriority",0)}validate(t,r){return!0}}class K6e extends qB{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Q6e extends qB{constructor(r,n){super();_t(this,"priority",X6e);_t(this,"subPriority",-1);this.context=r||(a=>tn(n,a))}set(r,n){return n.timestampIsSet?r:tn(r,G6e(r,this.context))}}class $r{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new K6e(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class J6e extends $r{constructor(){super(...arguments);_t(this,"priority",140);_t(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const pa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ql={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ma(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wn(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Gl(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*i5+i*a5+s*$ke),rest:t.slice(r[0].length)}}function GB(e){return Wn(pa.anyDigitsSigned,e)}function ra(e,t){switch(e){case 1:return Wn(pa.singleDigit,t);case 2:return Wn(pa.twoDigits,t);case 3:return Wn(pa.threeDigits,t);case 4:return Wn(pa.fourDigits,t);default:return Wn(new RegExp("^\\d{1,"+e+"}"),t)}}function Cy(e,t){switch(e){case 1:return Wn(pa.singleDigitSigned,t);case 2:return Wn(pa.twoDigitsSigned,t);case 3:return Wn(pa.threeDigitsSigned,t);case 4:return Wn(pa.fourDigitsSigned,t);default:return Wn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function lC(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function YB(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,s=Math.trunc(i/100)*100,l=e>=i%100;a=e+s-(l?100:0)}return r?a:1-a}function XB(e){return e%400===0||e%4===0&&e%100!==0}class Z6e extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return ma(ra(4,r),i);case"yo":return ma(a.ordinalNumber(r,{unit:"year"}),i);default:return ma(ra(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=YB(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class e8e extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return ma(ra(4,r),i);case"Yo":return ma(a.ordinalNumber(r,{unit:"year"}),i);default:return ma(ra(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const s=oC(r,i);if(a.isTwoDigitYear){const c=YB(a.year,s);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),cu(r,i)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),cu(r,i)}}class t8e extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Cy(n==="R"?4:n.length,r)}set(r,n,a){const i=tn(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),wp(i)}}class r8e extends $r{constructor(){super(...arguments);_t(this,"priority",130);_t(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Cy(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class n8e extends $r{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return ra(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class a8e extends $r{constructor(){super(...arguments);_t(this,"priority",120);_t(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return ra(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class i8e extends $r{constructor(){super(...arguments);_t(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);_t(this,"priority",110)}parse(r,n,a){const i=s=>s-1;switch(n){case"M":return ma(Wn(pa.month,r),i);case"MM":return ma(ra(2,r),i);case"Mo":return ma(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class s8e extends $r{constructor(){super(...arguments);_t(this,"priority",110);_t(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=s=>s-1;switch(n){case"L":return ma(Wn(pa.month,r),i);case"LL":return ma(ra(2,r),i);case"Lo":return ma(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function o8e(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=WB(n,r)-t;return n.setDate(n.getDate()-a*7),Tt(n,r==null?void 0:r.in)}class l8e extends $r{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return Wn(pa.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return ra(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return cu(o8e(r,a,i),i)}}function c8e(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=sC(n,r)-t;return n.setDate(n.getDate()-a*7),n}class u8e extends $r{constructor(){super(...arguments);_t(this,"priority",100);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return Wn(pa.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return ra(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return wp(c8e(r,a))}}const d8e=[31,28,31,30,31,30,31,31,30,31,30,31],f8e=[31,29,31,30,31,30,31,31,30,31,30,31];class h8e extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subPriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return Wn(pa.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return ra(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=XB(a),s=r.getMonth();return i?n>=1&&n<=f8e[s]:n>=1&&n<=d8e[s]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class p8e extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"subpriority",1);_t(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return Wn(pa.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return ra(n.length,r)}}validate(r,n){const a=r.getFullYear();return XB(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function cC(e,t,r){var f,h,p,m;const n=gf(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=Tt(e,r==null?void 0:r.in),s=i.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(s+u)%7:(c+u)%7-(s+u)%7;return Nl(i,d,r)}class m8e extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=cC(r,a,i),r.setHours(0,0,0,0),r}}class x8e extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return ma(ra(n.length,r),s);case"eo":return ma(a.ordinalNumber(r,{unit:"day"}),s);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=cC(r,a,i),r.setHours(0,0,0,0),r}}class g8e extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return ma(ra(n.length,r),s);case"co":return ma(a.ordinalNumber(r,{unit:"day"}),s);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=cC(r,a,i),r.setHours(0,0,0,0),r}}function v8e(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=V6e(n,r),i=t-a;return Nl(n,i,r)}class b8e extends $r{constructor(){super(...arguments);_t(this,"priority",90);_t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return ra(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return ma(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return ma(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ma(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ma(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=v8e(r,a),r.setHours(0,0,0,0),r}}class y8e extends $r{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(lC(a),0,0,0),r}}class w8e extends $r{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(lC(a),0,0,0),r}}class _8e extends $r{constructor(){super(...arguments);_t(this,"priority",80);_t(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(lC(a),0,0,0),r}}class N8e extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return Wn(pa.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return ra(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class j8e extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return Wn(pa.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return ra(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class S8e extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return Wn(pa.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return ra(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class A8e extends $r{constructor(){super(...arguments);_t(this,"priority",70);_t(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return Wn(pa.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return ra(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class C8e extends $r{constructor(){super(...arguments);_t(this,"priority",60);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return Wn(pa.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return ra(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class E8e extends $r{constructor(){super(...arguments);_t(this,"priority",50);_t(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return Wn(pa.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return ra(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class k8e extends $r{constructor(){super(...arguments);_t(this,"priority",30);_t(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return ma(ra(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class T8e extends $r{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Gl(ql.basicOptionalMinutes,r);case"XX":return Gl(ql.basic,r);case"XXXX":return Gl(ql.basicOptionalSeconds,r);case"XXXXX":return Gl(ql.extendedOptionalSeconds,r);case"XXX":default:return Gl(ql.extended,r)}}set(r,n,a){return n.timestampIsSet?r:tn(r,r.getTime()-wy(r)-a)}}class O8e extends $r{constructor(){super(...arguments);_t(this,"priority",10);_t(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Gl(ql.basicOptionalMinutes,r);case"xx":return Gl(ql.basic,r);case"xxxx":return Gl(ql.basicOptionalSeconds,r);case"xxxxx":return Gl(ql.extendedOptionalSeconds,r);case"xxx":default:return Gl(ql.extended,r)}}set(r,n,a){return n.timestampIsSet?r:tn(r,r.getTime()-wy(r)-a)}}class P8e extends $r{constructor(){super(...arguments);_t(this,"priority",40);_t(this,"incompatibleTokens","*")}parse(r){return GB(r)}set(r,n,a){return[tn(r,a*1e3),{timestampIsSet:!0}]}}class D8e extends $r{constructor(){super(...arguments);_t(this,"priority",20);_t(this,"incompatibleTokens","*")}parse(r){return GB(r)}set(r,n,a){return[tn(r,a),{timestampIsSet:!0}]}}const I8e={G:new J6e,y:new Z6e,Y:new e8e,R:new t8e,u:new r8e,Q:new n8e,q:new a8e,M:new i8e,L:new s8e,w:new l8e,I:new u8e,d:new h8e,D:new p8e,E:new m8e,e:new x8e,c:new g8e,i:new b8e,a:new y8e,b:new w8e,B:new _8e,h:new N8e,H:new j8e,K:new S8e,k:new A8e,m:new C8e,s:new E8e,S:new k8e,X:new T8e,x:new O8e,t:new P8e,T:new D8e},M8e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F8e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R8e=/^'([^]*?)'?$/,L8e=/''/g,B8e=/\S/,$8e=/[a-zA-Z]/;function z8e(e,t,r,n){var g,v,b,y,_,N,S,j;const a=()=>tn((n==null?void 0:n.in)||r,NaN),i=W6e(),s=(n==null?void 0:n.locale)??i.locale??HB,l=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(b=i.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((N=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??i.weekStartsOn??((j=(S=i.locale)==null?void 0:S.options)==null?void 0:j.weekStartsOn)??0;if(!t)return e?a():Tt(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:s},d=[new Q6e(n==null?void 0:n.in,r)],f=t.match(F8e).map(A=>{const T=A[0];if(T in oj){const F=oj[T];return F(A,s.formatLong)}return A}).join("").match(M8e),h=[];for(let A of f){const T=A[0],F=I8e[T];if(F){const{incompatibleTokens:O}=F;if(Array.isArray(O)){const L=h.find(B=>O.includes(B.token)||B.token===T);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${A}\` at the same time`)}else if(F.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);h.push({token:T,fullToken:A});const E=F.run(e,A,s.match,u);if(!E)return a();d.push(E.setter),e=E.rest}else{if(T.match($8e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(A==="''"?A="'":T==="'"&&(A=U8e(A)),e.indexOf(A)===0)e=e.slice(A.length);else return a()}}if(e.length>0&&B8e.test(e))return a();const p=d.map(A=>A.priority).sort((A,T)=>T-A).filter((A,T,F)=>F.indexOf(A)===T).map(A=>d.filter(T=>T.priority===A).sort((T,F)=>F.subPriority-T.subPriority)).map(A=>A[0]);let m=Tt(r,n==null?void 0:n.in);if(isNaN(+m))return a();const x={};for(const A of p){if(!A.validate(m,u))return a();const T=A.set(m,x,u);Array.isArray(T)?(m=T[0],Object.assign(x,T[1])):m=T}return m}function U8e(e){return e.match(R8e)[1].replace(L8e,"'")}function H8e(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function W8e(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t);return+sj(n)==+sj(a)}function V8e(e,t,r){const[n,a]=xu(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function z1(e,t,r){const n=+Tt(e,r==null?void 0:r.in),[a,i]=[+Tt(t.start,r==null?void 0:r.in),+Tt(t.end,r==null?void 0:r.in)].sort((s,l)=>s-l);return n>=a&&n<=i}function q8e(e,t,r){return Nl(e,-t,r)}function G8e(e,t){const r=()=>tn(t==null?void 0:t.in,NaN),a=Q8e(e);let i;if(a.date){const u=J8e(a.date,2);i=Z8e(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const s=+i;let l=0,c;if(a.time&&(l=eTe(a.time),isNaN(l)))return r();if(a.timezone){if(c=tTe(a.timezone),isNaN(c))return r()}else{const u=new Date(s+l),d=Tt(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Tt(s+l+c,t==null?void 0:t.in)}const t2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Y8e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X8e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,K8e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Q8e(e){const t={},r=e.split(t2.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],t2.timeZoneDelimiter.test(t.date)&&(t.date=e.split(t2.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=t2.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function J8e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Z8e(e,t){if(t===null)return new Date(NaN);const r=e.match(Y8e);if(!r)return new Date(NaN);const n=!!r[4],a=Km(r[1]),i=Km(r[2])-1,s=Km(r[3]),l=Km(r[4]),c=Km(r[5])-1;if(n)return sTe(t,l,c)?rTe(t,l,c):new Date(NaN);{const u=new Date(0);return!aTe(t,i,s)||!iTe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function Km(e){return e?parseInt(e):1}function eTe(e){const t=e.match(X8e);if(!t)return NaN;const r=o4(t[1]),n=o4(t[2]),a=o4(t[3]);return oTe(r,n,a)?r*i5+n*a5+a*1e3:NaN}function o4(e){return e&&parseFloat(e.replace(",","."))||0}function tTe(e){if(e==="Z")return 0;const t=e.match(K8e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return lTe(n,a)?r*(n*i5+a*a5):NaN}function rTe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const nTe=[31,null,31,30,31,30,31,31,30,31,30,31];function KB(e){return e%400===0||e%4===0&&e%100!==0}function aTe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(nTe[t]||(KB(e)?29:28))}function iTe(e,t){return t>=1&&t<=(KB(e)?366:365)}function sTe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function oTe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function lTe(e,t){return t>=0&&t<=59}function Io(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),s=tn(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const l=H6e(s);return n.setMonth(t,Math.min(i,l)),n}function U2(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setHours(t),n}function H2(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setMinutes(t),n}function ph(e,t,r){const n=Tt(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,i=t-a;return Io(n,n.getMonth()+i*3)}function W2(e,t,r){const n=Tt(e,r==null?void 0:r.in);return n.setSeconds(t),n}function zl(e,t,r){const n=Tt(e,r==null?void 0:r.in);return isNaN(+n)?tn(e,NaN):(n.setFullYear(t),n)}function O0(e,t,r){return jl(e,-t,r)}function QB(e,t,r){return iC(e,-t,r)}function bP(e,t,r){return _y(e,-t,r)}function Np(e,t,r){return Jc(e,-t,r)}function o5(){return typeof window<"u"}function Zp(e){return JB(e)?(e.nodeName||"").toLowerCase():"#document"}function lo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bc(e){var t;return(t=(JB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JB(e){return o5()?e instanceof Node||e instanceof lo(e).Node:!1}function ms(e){return o5()?e instanceof Element||e instanceof lo(e).Element:!1}function uc(e){return o5()?e instanceof HTMLElement||e instanceof lo(e).HTMLElement:!1}function yP(e){return!o5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof lo(e).ShadowRoot}function Ng(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=qo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function cTe(e){return["table","td","th"].includes(Zp(e))}function l5(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function uC(e){const t=dC(),r=ms(e)?qo(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function uTe(e){let t=jd(e);for(;uc(t)&&!jp(t);){if(uC(t))return t;if(l5(t))return null;t=jd(t)}return null}function dC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jp(e){return["html","body","#document"].includes(Zp(e))}function qo(e){return lo(e).getComputedStyle(e)}function c5(e){return ms(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function jd(e){if(Zp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yP(e)&&e.host||bc(e);return yP(t)?t.host:t}function ZB(e){const t=jd(e);return jp(t)?e.ownerDocument?e.ownerDocument.body:e.body:uc(t)&&Ng(t)?t:ZB(t)}function U1(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=ZB(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=lo(a);if(i){const l=cj(s);return t.concat(s,s.visualViewport||[],Ng(a)?a:[],l&&r?U1(l):[])}return t.concat(a,U1(a,[],r))}function cj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Sp=Math.min,P0=Math.max,Ey=Math.round,r2=Math.floor,sc=e=>({x:e,y:e}),dTe={left:"right",right:"left",bottom:"top",top:"bottom"},fTe={start:"end",end:"start"};function hTe(e,t,r){return P0(e,Sp(t,r))}function u5(e,t){return typeof e=="function"?e(t):e}function Ap(e){return e.split("-")[0]}function jg(e){return e.split("-")[1]}function pTe(e){return e==="x"?"y":"x"}function fC(e){return e==="y"?"height":"width"}function H1(e){return["top","bottom"].includes(Ap(e))?"y":"x"}function hC(e){return pTe(H1(e))}function mTe(e,t,r){r===void 0&&(r=!1);const n=jg(e),a=hC(e),i=fC(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ky(s)),[s,ky(s)]}function xTe(e){const t=ky(e);return[uj(e),t,uj(t)]}function uj(e){return e.replace(/start|end/g,t=>fTe[t])}function gTe(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:s;default:return[]}}function vTe(e,t,r,n){const a=jg(e);let i=gTe(Ap(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(uj)))),i}function ky(e){return e.replace(/left|right|bottom|top/g,t=>dTe[t])}function bTe(e){return{top:0,right:0,bottom:0,left:0,...e}}function e$(e){return typeof e!="number"?bTe(e):{top:e,right:e,bottom:e,left:e}}function Ty(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function wP(e,t,r){let{reference:n,floating:a}=e;const i=H1(t),s=hC(t),l=fC(s),c=Ap(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(jg(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const yTe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=wP(u,n,c),h=n,p={},m=0;for(let x=0;x<l.length;x++){const{name:g,fn:v}=l[x],{x:b,y,data:_,reset:N}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=b??d,f=y??f,p={...p,[g]:{...p[g],..._}},N&&m<=50&&(m++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=wP(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function wTe(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=u5(t,e),m=e$(p),g=l[h?f==="floating"?"reference":"floating":f],v=Ty(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},N=Ty(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(v.top-N.top+m.top)/_.y,bottom:(N.bottom-v.bottom+m.bottom)/_.y,left:(v.left-N.left+m.left)/_.x,right:(N.right-v.right+m.right)/_.x}}const _Te=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=u5(e,t)||{};if(u==null)return{};const f=e$(d),h={x:r,y:n},p=hC(a),m=fC(p),x=await s.getDimensions(u),g=p==="y",v=g?"top":"left",b=g?"bottom":"right",y=g?"clientHeight":"clientWidth",_=i.reference[m]+i.reference[p]-h[p]-i.floating[m],N=h[p]-i.reference[p],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let j=S?S[y]:0;(!j||!await(s.isElement==null?void 0:s.isElement(S)))&&(j=l.floating[y]||i.floating[m]);const A=_/2-N/2,T=j/2-x[m]/2-1,F=Sp(f[v],T),O=Sp(f[b],T),E=F,L=j-x[m]-O,B=j/2-x[m]/2+A,G=hTe(E,B,L),z=!c.arrow&&jg(a)!=null&&B!==G&&i.reference[m]/2-(B<E?F:O)-x[m]/2<0,V=z?B<E?B-E:B-L:0;return{[p]:h[p]+V,data:{[p]:G,centerOffset:B-G-V,...z&&{alignmentOffset:V}},reset:z}}}),NTe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:x=!0,...g}=u5(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Ap(a),b=H1(l),y=Ap(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(y||!x?[ky(l)]:xTe(l)),S=m!=="none";!h&&S&&N.push(...vTe(l,x,m,_));const j=[l,...N],A=await wTe(t,g),T=[];let F=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(A[v]),f){const B=mTe(a,s,_);T.push(A[B[0]],A[B[1]])}if(F=[...F,{placement:a,overflows:T}],!T.every(B=>B<=0)){var O,E;const B=(((O=i.flip)==null?void 0:O.index)||0)+1,G=j[B];if(G)return{data:{index:B,overflows:F},reset:{placement:G}};let z=(E=F.filter(V=>V.overflows[0]<=0).sort((V,Y)=>V.overflows[1]-Y.overflows[1])[0])==null?void 0:E.placement;if(!z)switch(p){case"bestFit":{var L;const V=(L=F.filter(Y=>{if(S){const U=H1(Y.placement);return U===b||U==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(U=>U>0).reduce((U,ae)=>U+ae,0)]).sort((Y,U)=>Y[1]-U[1])[0])==null?void 0:L[0];V&&(z=V);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};async function jTe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=Ap(r),l=jg(r),c=H1(r)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=u5(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof m=="number"&&(p=l==="end"?m*-1:m),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const STe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await jTe(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}};function t$(e){const t=qo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=uc(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,l=Ey(r)!==i||Ey(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function pC(e){return ms(e)?e:e.contextElement}function Lh(e){const t=pC(e);if(!uc(t))return sc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=t$(t);let s=(i?Ey(r.width):r.width)/n,l=(i?Ey(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const ATe=sc(0);function r$(e){const t=lo(e);return!dC()||!t.visualViewport?ATe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function CTe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==lo(e)?!1:t}function Q0(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=pC(e);let s=sc(1);t&&(n?ms(n)&&(s=Lh(n)):s=Lh(e));const l=CTe(i,r,n)?r$(i):sc(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=lo(i),p=n&&ms(n)?lo(n):n;let m=h,x=cj(m);for(;x&&n&&p!==m;){const g=Lh(x),v=x.getBoundingClientRect(),b=qo(x),y=v.left+(x.clientLeft+parseFloat(b.paddingLeft))*g.x,_=v.top+(x.clientTop+parseFloat(b.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=y,u+=_,m=lo(x),x=cj(m)}}return Ty({width:d,height:f,x:c,y:u})}function mC(e,t){const r=c5(e).scrollLeft;return t?t.left+r:Q0(bc(e)).left+r}function n$(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:mC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function ETe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=bc(n),l=t?l5(t.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=sc(1);const d=sc(0),f=uc(n);if((f||!f&&!i)&&((Zp(n)!=="body"||Ng(s))&&(c=c5(n)),uc(n))){const p=Q0(n);u=Lh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!i?n$(s,c,!0):sc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function kTe(e){return Array.from(e.getClientRects())}function TTe(e){const t=bc(e),r=c5(e),n=e.ownerDocument.body,a=P0(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=P0(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+mC(e);const l=-r.scrollTop;return qo(n).direction==="rtl"&&(s+=P0(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}function OTe(e,t){const r=lo(e),n=bc(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const u=dC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:l,y:c}}function PTe(e,t){const r=Q0(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=uc(e)?Lh(e):sc(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function _P(e,t,r){let n;if(t==="viewport")n=OTe(e,r);else if(t==="document")n=TTe(bc(e));else if(ms(t))n=PTe(t,r);else{const a=r$(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ty(n)}function a$(e,t){const r=jd(e);return r===t||!ms(r)||jp(r)?!1:qo(r).position==="fixed"||a$(r,t)}function DTe(e,t){const r=t.get(e);if(r)return r;let n=U1(e,[],!1).filter(l=>ms(l)&&Zp(l)!=="body"),a=null;const i=qo(e).position==="fixed";let s=i?jd(e):e;for(;ms(s)&&!jp(s);){const l=qo(s),c=uC(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ng(s)&&!c&&a$(e,s))?n=n.filter(d=>d!==s):a=l,s=jd(s)}return t.set(e,n),n}function ITe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?l5(t)?[]:DTe(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=_P(t,d,a);return u.top=P0(f.top,u.top),u.right=Sp(f.right,u.right),u.bottom=Sp(f.bottom,u.bottom),u.left=P0(f.left,u.left),u},_P(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MTe(e){const{width:t,height:r}=t$(e);return{width:t,height:r}}function FTe(e,t,r){const n=uc(t),a=bc(t),i=r==="fixed",s=Q0(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=sc(0);if(n||!n&&!i)if((Zp(t)!=="body"||Ng(a))&&(l=c5(t)),n){const h=Q0(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=mC(a));const u=a&&!n&&!i?n$(a,l):sc(0),d=s.left+l.scrollLeft-c.x-u.x,f=s.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function l4(e){return qo(e).position==="static"}function NP(e,t){if(!uc(e)||qo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return bc(e)===r&&(r=r.ownerDocument.body),r}function i$(e,t){const r=lo(e);if(l5(e))return r;if(!uc(e)){let a=jd(e);for(;a&&!jp(a);){if(ms(a)&&!l4(a))return a;a=jd(a)}return r}let n=NP(e,t);for(;n&&cTe(n)&&l4(n);)n=NP(n,t);return n&&jp(n)&&l4(n)&&!uC(n)?r:n||uTe(e)||r}const RTe=async function(e){const t=this.getOffsetParent||i$,r=this.getDimensions,n=await r(e.floating);return{reference:FTe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function LTe(e){return qo(e).direction==="rtl"}const BTe={convertOffsetParentRelativeRectToViewportRelativeRect:ETe,getDocumentElement:bc,getClippingRect:ITe,getOffsetParent:i$,getElementRects:RTe,getClientRects:kTe,getDimensions:MTe,getScale:Lh,isElement:ms,isRTL:LTe};function s$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $Te(e,t){let r=null,n;const a=bc(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const m=r2(f),x=r2(a.clientWidth-(d+h)),g=r2(a.clientHeight-(f+p)),v=r2(d),y={rootMargin:-m+"px "+-x+"px "+-g+"px "+-v+"px",threshold:P0(0,Sp(1,c))||1};let _=!0;function N(S){const j=S[0].intersectionRatio;if(j!==c){if(!_)return s();j?s(!1,j):n=setTimeout(()=>{s(!1,1e-7)},1e3)}j===1&&!s$(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return s(!0),i}function zTe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=pC(e),d=a||i?[...u?U1(u):[],...U1(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?$Te(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m,x=c?Q0(e):null;c&&g();function g(){const v=Q0(e);x&&!s$(x,v)&&r(),x=v,m=requestAnimationFrame(g)}return r(),()=>{var v;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const UTe=STe,HTe=NTe,jP=_Te,WTe=(e,t,r)=>{const n=new Map,a={platform:BTe,...r},i={...a.platform,_c:n};return yTe(e,t,{...a,platform:i})};var V2=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Oy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Oy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Oy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function o$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function SP(e,t){const r=o$(e);return Math.round(t*r)/r}function c4(e){const t=I.useRef(e);return V2(()=>{t.current=e}),t}function VTe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=I.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=I.useState(n);Oy(h,n)||p(n);const[m,x]=I.useState(null),[g,v]=I.useState(null),b=I.useCallback(Y=>{Y!==S.current&&(S.current=Y,x(Y))},[]),y=I.useCallback(Y=>{Y!==j.current&&(j.current=Y,v(Y))},[]),_=i||m,N=s||g,S=I.useRef(null),j=I.useRef(null),A=I.useRef(d),T=c!=null,F=c4(c),O=c4(a),E=c4(u),L=I.useCallback(()=>{if(!S.current||!j.current)return;const Y={placement:t,strategy:r,middleware:h};O.current&&(Y.platform=O.current),WTe(S.current,j.current,Y).then(U=>{const ae={...U,isPositioned:E.current!==!1};B.current&&!Oy(A.current,ae)&&(A.current=ae,nS.flushSync(()=>{f(ae)}))})},[h,t,r,O,E]);V2(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[u]);const B=I.useRef(!1);V2(()=>(B.current=!0,()=>{B.current=!1}),[]),V2(()=>{if(_&&(S.current=_),N&&(j.current=N),_&&N){if(F.current)return F.current(_,N,L);L()}},[_,N,L,F,T]);const G=I.useMemo(()=>({reference:S,floating:j,setReference:b,setFloating:y}),[b,y]),z=I.useMemo(()=>({reference:_,floating:N}),[_,N]),V=I.useMemo(()=>{const Y={position:r,left:0,top:0};if(!z.floating)return Y;const U=SP(z.floating,d.x),ae=SP(z.floating,d.y);return l?{...Y,transform:"translate("+U+"px, "+ae+"px)",...o$(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:ae}},[r,l,z.floating,d.x,d.y]);return I.useMemo(()=>({...d,update:L,refs:G,elements:z,floatingStyles:V}),[d,L,G,z,V])}const qTe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jP({element:n.current,padding:a}).fn(r):{}:n?jP({element:n,padding:a}).fn(r):{}}}},GTe=(e,t)=>({...UTe(e),options:[e,t]}),YTe=(e,t)=>({...HTe(e),options:[e,t]}),XTe=(e,t)=>({...qTe(e),options:[e,t]}),l$={...ZI},KTe=l$.useInsertionEffect,QTe=KTe||(e=>e());function JTe(e){const t=I.useRef(()=>{});return QTe(()=>{t.current=e}),I.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}var Py=typeof document<"u"?I.useLayoutEffect:I.useEffect;let AP=!1,ZTe=0;const CP=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZTe++;function eOe(){const[e,t]=I.useState(()=>AP?CP():void 0);return Py(()=>{e==null&&t(CP())},[]),I.useEffect(()=>{AP=!0},[]),e}const tOe=l$.useId,c$=tOe||eOe,rOe=I.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:i,shift:s}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:p,style:{transform:m,...x}={},...g}=t,v=c$(),[b,y]=I.useState(!1);if(Py(()=>{if(!a)return;qo(a).direction==="rtl"&&y(!0)},[a]),!a)return null;const[_,N]=n.split("-"),S=_==="top"||_==="bottom";let j=f;(S&&s!=null&&s.x||!S&&s!=null&&s.y)&&(j=null);const A=d*2,T=A/2,F=l/2*(u/-8+1),O=c/2*u/4,E=!!p,L=j&&N==="end"?"bottom":"top";let B=j&&N==="end"?"right":"left";j&&b&&(B=N==="end"?"left":"right");const G=(i==null?void 0:i.x)!=null?j||i.x:"",z=(i==null?void 0:i.y)!=null?j||i.y:"",V=p||"M0,0"+(" H"+l)+(" L"+(l-F)+","+(c-O))+(" Q"+l/2+","+c+" "+F+","+(c-O))+" Z",Y={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[_];return o.jsxs("svg",{...g,"aria-hidden":!0,ref:r,width:E?l:l+A,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[B]:G,[L]:z,[_]:S||E?"100%":"calc(100% - "+A/2+"px)",transform:[Y,m].filter(U=>!!U).join(" "),...x},children:[A>0&&o.jsx("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:A+(p?0:1),d:V}),o.jsx("path",{stroke:A&&!p?g.fill:"none",d:V}),o.jsx("clipPath",{id:v,children:o.jsx("rect",{x:-T,y:T*(E?-1:1),width:l+A,height:l})})]})});function nOe(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(a=>a!==r))||[])}}}const aOe=I.createContext(null),iOe=I.createContext(null),sOe=()=>{var e;return((e=I.useContext(aOe))==null?void 0:e.id)||null},oOe=()=>I.useContext(iOe);function lOe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=c$(),i=I.useRef({}),[s]=I.useState(()=>nOe()),l=sOe()!=null,[c,u]=I.useState(n.reference),d=JTe((p,m,x)=>{i.current.openEvent=p?m:void 0,s.emit("openchange",{open:p,event:m,reason:x,nested:l}),r==null||r(p,m,x)}),f=I.useMemo(()=>({setPositionReference:u}),[]),h=I.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return I.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:h,events:s,floatingId:a,refs:f}),[t,d,h,s,a,f])}function cOe(e){e===void 0&&(e={});const{nodeId:t}=e,r=lOe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[i,s]=I.useState(null),[l,c]=I.useState(null),d=(a==null?void 0:a.domReference)||i,f=I.useRef(null),h=oOe();Py(()=>{d&&(f.current=d)},[d]);const p=VTe({...e,elements:{...a,...l&&{reference:l}}}),m=I.useCallback(y=>{const _=ms(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;c(_),p.refs.setReference(_)},[p.refs]),x=I.useCallback(y=>{(ms(y)||y===null)&&(f.current=y,s(y)),(ms(p.refs.reference.current)||p.refs.reference.current===null||y!==null&&!ms(y))&&p.refs.setReference(y)},[p.refs]),g=I.useMemo(()=>({...p.refs,setReference:x,setPositionReference:m,domReference:f}),[p.refs,x,m]),v=I.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),b=I.useMemo(()=>({...p,...n,refs:g,elements:v,nodeId:t}),[p,g,v,t,n]);return Py(()=>{n.dataRef.current.floatingContext=b;const y=h==null?void 0:h.nodesRef.current.find(_=>_.id===t);y&&(y.context=b)}),I.useMemo(()=>({...p,context:b,refs:g,elements:v}),[p,g,v,b])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var dj=function(t,r){return dj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},dj(t,r)};function pi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Cr=function(){return Cr=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Cr.apply(this,arguments)};function Zl(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var uOe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,i=e.className,s=e.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return K.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},s)},dOe=function(e,t){var r=I.useRef(null),n=I.useRef(e);n.current=e;var a=I.useCallback(function(i){var s,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(s=n.current)===null||s===void 0||s.call(n,i))},[t]);return I.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},d5=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,i=e.style,s=e.ignoreClass,l=dOe(r,s);return K.createElement("div",{className:n,style:i,ref:function(c){l.current=c,a&&(a.current=c)}},t)},vt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(vt||(vt={}));function xC(){var e=typeof window<"u"?window:globalThis;return e}var Sg=12;function Wr(e){if(e==null)return new Date;var t=typeof e=="string"?G8e(e):Tt(e);return f5(t)?t:new Date}function u4(e,t,r,n,a){a===void 0&&(a=Wr());for(var i=Cp(r)||Cp(gC()),s=Array.isArray(t)?t:[t],l=0,c=s;l<c.length;l++){var u=c[l],d=z8e(e,u,a,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(f5(d)&&(!n||e===Bn(d,u,r)))return d}return null}function f5(e,t){return Ny(e)&&!K0(e,new Date("1/1/1800"))}function Bn(e,t,r){if(r==="en")return gP(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Cp(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Cp(gC()),gP(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Po(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&Bn(e,a,n)||""}function fOe(e,t,r){if(!e)return"";var n=Po(e,r),a=t?Po(t,r):"";return"".concat(n," - ").concat(a)}function hOe(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?Po(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=Po(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function d4(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,i=a===void 0?0:a,s=t.second,l=s===void 0?0:s;return U2(H2(W2(e,l),i),n)}function pOe(e){return sC(e)}function mOe(e,t){return Bn(e,"ddd",t)}function q2(e){return X0(e)}function hd(e,t,r){var n=Cp(t||gC());return cu(e,{locale:n,weekStartsOn:r})}function ru(e){return zB(e)}function dx(e){return s5(e)}function EP(e){return sj(e)}function kP(){return X0(Wr())}function TP(e){return BB(e)}function xOe(e){return Gke(e)}function gOe(e){return $B(e)}function Hl(e,t){return e&&t?V8e(e,t):!e&&!t}function ls(e,t){return e&&t?H8e(e,t):!e&&!t}function Dy(e,t){return e&&t?W8e(e,t):!e&&!t}function Ar(e,t){return e&&t?Vke(e,t):!e&&!t}function v0(e,t){return e&&t?q6e(e,t):!e&&!t}function fx(e,t,r){var n,a=X0(t),i=BB(r);try{n=z1(e,{start:a,end:i})}catch{n=!1}return n}function vOe(e,t){var r=xC();r.__localeData__||(r.__localeData__={}),r.__localeData__[e]=t}function gC(){var e=xC();return e.__localeId__}function Cp(e){if(typeof e=="string"){var t=xC();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function bOe(e,t,r){return t(Bn(e,"EEEE",r))}function yOe(e,t){return Bn(e,"EEEEEE",t)}function wOe(e,t){return Bn(e,"EEE",t)}function vC(e,t){return Bn(Io(Wr(),e),"LLLL",t)}function u$(e,t){return Bn(Io(Wr(),e),"LLL",t)}function _Oe(e,t){return Bn(ph(Wr(),e),"QQQ",t)}function Mo(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return Ag(e,{minDate:n,maxDate:a})||i&&i.some(function(d){return d instanceof Date?Ar(e,d):Ar(e,d.date)})||s&&s.some(function(d){var f=d.start,h=d.end;return z1(e,{start:f,end:h})})||l&&!l.some(function(d){return Ar(e,d)})||c&&!c.some(function(d){var f=d.start,h=d.end;return z1(e,{start:f,end:h})})||u&&!u(Wr(e))||!1}function bC(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(i){var s=i.start,l=i.end;return z1(e,{start:s,end:l})}):n&&n.some(function(i){var s;return i instanceof Date?Ar(e,i):Ar(e,(s=i.date)!==null&&s!==void 0?s:new Date)})||!1}function d$(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,l=r.filterDate;return Ag(e,{minDate:n?zB(n):void 0,maxDate:a?$B(a):void 0})||(i==null?void 0:i.some(function(c){return ls(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return ls(e,c)})||l&&!l(Wr(e))||!1}function n2(e,t,r,n){var a=hr(e),i=ps(e),s=hr(t),l=ps(t),c=hr(n);return a===s&&a===c?i<=r&&r<=l:a<s?c===a&&i<=r||c===s&&l>=r||c<s&&c>a:!1}function NOe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates;return Ag(e,{minDate:n,maxDate:a})||i&&i.some(function(l){return ls(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return ls(l,e)})||!1}function a2(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,l=r.filterDate;return Ag(e,{minDate:n,maxDate:a})||(i==null?void 0:i.some(function(c){return Dy(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Dy(e,c)})||l&&!l(Wr(e))||!1}function i2(e,t,r){if(!t||!r||!Ny(t)||!Ny(r))return!1;var n=hr(t),a=hr(r);return n<=e&&a>=e}function G2(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,i=r.excludeDates,s=r.includeDates,l=r.filterDate,c=new Date(e,0,1);return Ag(c,{minDate:n?s5(n):void 0,maxDate:a?UB(a):void 0})||(i==null?void 0:i.some(function(u){return Hl(c,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Hl(c,u)})||l&&!l(Wr(c))||!1}function s2(e,t,r,n){var a=hr(e),i=T0(e),s=hr(t),l=T0(t),c=hr(n);return a===s&&a===c?i<=r&&r<=l:a<s?c===a&&i<=r||c===s&&l>=r||c<s&&c>a:!1}function Ag(e,t){var r,n=t===void 0?{}:t,a=n.minDate,i=n.maxDate;return(r=a&&_p(e,a)<0||i&&_p(e,i)>0)!==null&&r!==void 0?r:!1}function OP(e,t){return t.some(function(r){return eu(r)===eu(e)&&tu(r)===tu(e)&&fd(r)===fd(e)})}function PP(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,i=r.filterTime;return n&&OP(e,n)||a&&!OP(e,a)||i&&!i(e)||!1}function DP(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=Wr();a=U2(a,eu(e)),a=H2(a,tu(e)),a=W2(a,fd(e));var i=Wr();i=U2(i,eu(r)),i=H2(i,tu(r)),i=W2(i,fd(r));var s=Wr();s=U2(s,eu(n)),s=H2(s,tu(n)),s=W2(s,fd(n));var l;try{l=!z1(a,{start:i,end:s})}catch{l=!1}return l}function IP(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=O0(e,1);return n&&jy(n,i)>0||a&&a.every(function(s){return jy(s,i)>0})||!1}function MP(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=jl(e,1);return n&&jy(i,n)>0||a&&a.every(function(s){return jy(i,s)>0})||!1}function jOe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=s5(e),s=QB(i,1);return n&&Sy(n,s)>0||a&&a.every(function(l){return Sy(l,s)>0})||!1}function SOe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=UB(e),s=iC(i,1);return n&&Sy(s,n)>0||a&&a.every(function(l){return Sy(s,l)>0})||!1}function FP(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,i=Np(e,1);return n&&Ay(n,i)>0||a&&a.every(function(s){return Ay(s,i)>0})||!1}function AOe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,i=a===void 0?Sg:a,s=dx(Np(e,i)),l=cd(s,i).endPeriod,c=n&&hr(n);return c&&c>l||!1}function RP(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,i=Jc(e,1);return n&&Ay(i,n)>0||a&&a.every(function(s){return Ay(i,s)>0})||!1}function COe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,i=a===void 0?Sg:a,s=Jc(e,i),l=cd(s,i).startPeriod,c=n&&hr(n);return c&&c<l||!1}function f$(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return _p(a,t)>=0});return dP(n)}else return r?dP(r):t}function h$(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return _p(a,t)<=0});return uP(n)}else return r?uP(r):t}function LP(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,i=e.length;a<i;a++){var s=e[a];if(Zc(s)){var l=Bn(s,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(t)||(c.push(t),n.set(l,c))}else if(typeof s=="object"){var u=Object.keys(s),d=(r=u[0])!==null&&r!==void 0?r:"",f=s[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,p=f.length;h<p;h++){var m=f[h];if(m){var l=Bn(m,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(d)||(c.push(d),n.set(l,c))}}}}return n}function EOe(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function kOe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,i=n.holidayName;if(Zc(a)){var s=Bn(a,"MM.dd.yyyy"),l=r.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&EOe(l.holidayNames,[i]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?Zl(Zl([],c,!0),[i],!1):[i],r.set(s,l)}}}),r}function TOe(e,t,r,n,a){for(var i=a.length,s=[],l=0;l<i;l++){var c=e,u=a[l];u&&(c=zke(c,eu(u)),c=ij(c,tu(u)),c=Wke(c,fd(u)));var d=ij(e,(r+1)*n);Nd(c,t)&&K0(c,d)&&u!=null&&s.push(u)}return s}function BP(e){return e<10?"0".concat(e):"".concat(e)}function cd(e,t){t===void 0&&(t=Sg);var r=Math.ceil(hr(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function OOe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function $P(e){var t=e.getSeconds(),r=e.getMilliseconds();return Tt(e.getTime()-t*1e3-r)}function POe(e,t){return $P(e).getTime()===$P(t).getTime()}function zP(e){if(!Zc(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function UP(e,t){if(!Zc(e)||!Zc(t))throw new Error("Invalid date received");var r=zP(e),n=zP(t);return K0(r,n)}function p$(e){return e.key===vt.Space}var DOe=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=K.createRef(),n.onTimeChange=function(a){var i,s;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],h=d[1];u.setHours(Number(f)),u.setMinutes(Number(h))}(s=(i=n.props).onChange)===null||s===void 0||s.call(i,u)},n.renderTimeInput=function(){var a=n.state.time,i=n.props,s=i.date,l=i.timeString,c=i.customTimeInput;return c?I.cloneElement(c,{date:s,value:a,onChange:n.onTimeChange}):K.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||l)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return K.createElement("div",{className:"react-datepicker__input-time-container"},K.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),K.createElement("div",{className:"react-datepicker-time__input-container"},K.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(I.Component),IOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=I.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,i,s=n.key;s===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isSameDay=function(n){return Ar(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Mo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return bC(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Ar(r.props.day,hd(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Ar(n,hd(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,i=n.highlightDates;if(!i)return!1;var s=Bn(a,"MM.dd.yyyy");return i.get(s)},r.getHolidaysClass=function(){var n,a=r.props,i=a.day,s=a.holidays;if(!s)return[void 0];var l=Bn(i,"MM.dd.yyyy");return s.has(l)?[(n=s.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:fx(a,i,s)},r.isInSelectingRange=function(){var n,a=r.props,i=a.day,s=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(s||l||c)||!h||!u&&r.isDisabled()?!1:s&&f&&(K0(h,f)||v0(h,f))?fx(i,h,f):l&&d&&(Nd(h,d)||v0(h,d))||c&&d&&!f&&(Nd(h,d)||v0(h,d))?fx(i,d,h):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,s=a.startDate,l=a.selectsStart,c=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Ar(i,c):Ar(i,s)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,i=a.day,s=a.endDate,l=a.selectsEnd,c=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l||c?Ar(i,u):Ar(i,s)},r.isRangeStart=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:Ar(i,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:Ar(s,a)},r.isWeekend=function(){var n=U6e(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===ps(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(ps(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Wr())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Pt("react-datepicker__day",a,"react-datepicker__day--"+mOe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,i=n.ariaLabelPrefixWhenEnabled,s=i===void 0?"Choose":i,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=r.isDisabled()||r.isExcluded()?c:s;return"".concat(u," ").concat(Bn(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,i=n.holidays,s=i===void 0?new Map:i,l=n.excludeDates,c=Bn(a,"MM.dd.yyyy"),u=[];return s.has(c)&&u.push.apply(u,s.get(c).holidayNames),r.isExcluded()&&u.push(l==null?void 0:l.filter(function(d){return d instanceof Date?Ar(d,a):Ar(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Ar(a,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(vP(r.props.day),r.props.day):vP(r.props.day)},r.render=function(){return K.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&K.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(I.Component),MOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=I.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,i,s=n.key;s===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(i=(a=r.props).handleOnKeyDown)===null||i===void 0||i.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ar(r.props.date,r.props.selected)&&Ar(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Ar(r.props.date,r.props.selected)&&Ar(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Ar(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,i=r.ariaLabelPrefix,s=i===void 0?t.defaultProps.ariaLabelPrefix:i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&Ar(this.props.date,this.props.selected)};return K.createElement("div",{ref:this.weekNumberEl,className:Pt(c),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(I.Component),FOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Mo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,i){for(var s,l,c,u=new Date(n),d=0;d<7;d++){var f=new Date(n);f.setDate(f.getDate()+d);var h=!r.isDisabled(f);if(h){u=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,i),r.props.showWeekPicker&&r.handleDayClick(u,i),((s=r.props.shouldCloseOnSelect)!==null&&s!==void 0?s:t.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):pOe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=Nl(n,6),i=new Date(n);i<=a;){if(!r.isDisabled(i))return!1;i=Nl(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var s=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;a.push(K.createElement(MOe,Cr({key:"W"},t.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:s})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=Nl(n,l);return K.createElement(IOe,Cr({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return hd(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Ar(r.startOfWeek(),r.props.selected)&&Ar(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ar(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return K.createElement("div",{className:Pt(r)},this.renderDays())},t}(I.Component),Qm,ROe=6,Bh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},f4=(Qm={},Qm[Bh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qm[Bh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qm[Bh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qm),o2=1;function HP(e,t){return e?Bh.FOUR_COLUMNS:t?Bh.TWO_COLUMNS:Bh.THREE_COLUMNS}var LOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Zl([],Array(12),!0).map(function(){return I.createRef()}),r.QUARTER_REFS=Zl([],Array(4),!0).map(function(){return I.createRef()}),r.isDisabled=function(n){return Mo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return bC(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var i,s;(s=(i=r.props).onDayClick)===null||s===void 0||s.call(i,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,i;(i=(a=r.props).onDayMouseEnter)===null||i===void 0||i.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,i=a.day,s=a.startDate,l=a.endDate;return!s||!l?!1:ls(Io(i,n),s)},r.isRangeStartQuarter=function(n){var a=r.props,i=a.day,s=a.startDate,l=a.endDate;return!s||!l?!1:Dy(ph(i,n),s)},r.isRangeEndMonth=function(n){var a=r.props,i=a.day,s=a.startDate,l=a.endDate;return!s||!l?!1:ls(Io(i,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,i=a.day,s=a.startDate,l=a.endDate;return!s||!l?!1:Dy(ph(i,n),l)},r.isInSelectingRangeMonth=function(n){var a,i=r.props,s=i.day,l=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!h?!1:l&&f?n2(h,f,n,s):c&&d||u&&d&&!f?n2(d,h,n,s):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,l=i.startDate,c=i.selectsStart,u=Io(s,n),d=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?ls(u,d):ls(u,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,l=i.endDate,c=i.selectsEnd,u=i.selectsRange,d=Io(s,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||u?ls(d,f):ls(d,l)},r.isInSelectingRangeQuarter=function(n){var a,i=r.props,s=i.day,l=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,d=i.startDate,f=i.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!h?!1:l&&f?s2(h,f,n,s):c&&d||u&&d&&!f?s2(d,h,n,s):!1},r.isWeekInMonth=function(n){var a=r.props.day,i=Nl(n,6);return ls(n,a)||ls(i,a)},r.isCurrentMonth=function(n,a){return hr(n)===hr(Wr())&&a===ps(Wr())},r.isCurrentQuarter=function(n,a){return hr(n)===hr(Wr())&&a===T0(Wr())},r.isSelectedMonth=function(n,a,i){return ps(i)===a&&hr(n)===hr(i)},r.isSelectMonthInList=function(n,a,i){return i.some(function(s){return r.isSelectedMonth(n,a,s)})},r.isSelectedQuarter=function(n,a,i){return T0(n)===a&&hr(n)===hr(i)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,i=0,s=!1,l=hd(ru(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(m){return r.props.showWeekPicker?hd(m,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(m){return r.props.showWeekPicker?hd(m,r.props.locale,r.props.calendarStartDay):r.props.selected},d=r.props.selected?u(r.props.selected):void 0,f=r.props.preSelection?c(r.props.preSelection):void 0;n.push(K.createElement(FOe,Cr({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:l,month:ps(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!s;){i++,l=_y(l,1);var h=a&&i>=ROe,p=!a&&!r.isWeekInMonth(l);if(h||p)if(r.props.peekNextMonth)s=!0;else break}return n},r.onMonthClick=function(n,a){var i=r.isMonthDisabledForLabelDate(a),s=i.isDisabled,l=i.labelDate;s||r.handleDayClick(ru(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),i=a.isDisabled,s=a.labelDate;i||r.handleDayMouseEnter(ru(s))},r.handleMonthNavigation=function(n,a){var i,s,l,c;(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,i){var s,l=r.props,c=l.selected,u=l.preSelection,d=l.setPreSelection,f=l.minDate,h=l.maxDate,p=l.showFourColumnMonthYearPicker,m=l.showTwoColumnMonthYearPicker;if(u){var x=HP(p,m),g=r.getVerticalOffset(x),v=(s=f4[x])===null||s===void 0?void 0:s.grid,b=function(j,A,T){var F,O,E=A,L=T;switch(j){case vt.ArrowRight:E=jl(A,o2),L=T===11?0:T+o2;break;case vt.ArrowLeft:E=O0(A,o2),L=T===0?11:T-o2;break;case vt.ArrowUp:E=O0(A,g),L=!((F=v==null?void 0:v[0])===null||F===void 0)&&F.includes(T)?T+12-g:T-g;break;case vt.ArrowDown:E=jl(A,g),L=!((O=v==null?void 0:v[v.length-1])===null||O===void 0)&&O.includes(T)?T-12+g:T+g;break}return{newCalculatedDate:E,newCalculatedMonth:L}},y=function(j,A,T){for(var F=40,O=j,E=!1,L=0,B=b(O,A,T),G=B.newCalculatedDate,z=B.newCalculatedMonth;!E;){if(L>=F){G=A,z=T;break}if(f&&G<f){O=vt.ArrowRight;var V=b(O,G,z);G=V.newCalculatedDate,z=V.newCalculatedMonth}if(h&&G>h){O=vt.ArrowLeft;var V=b(O,G,z);G=V.newCalculatedDate,z=V.newCalculatedMonth}if(NOe(G,r.props)){var V=b(O,G,z);G=V.newCalculatedDate,z=V.newCalculatedMonth}else E=!0;L++}return{newCalculatedDate:G,newCalculatedMonth:z}};if(a===vt.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),d==null||d(c));return}var _=y(a,u,i),N=_.newCalculatedDate,S=_.newCalculatedMonth;switch(a){case vt.ArrowRight:case vt.ArrowLeft:case vt.ArrowUp:case vt.ArrowDown:r.handleMonthNavigation(S,N);break}}},r.getVerticalOffset=function(n){var a,i;return(i=(a=f4[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,a){var i=r.props,s=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=n.key;c!==vt.Tab&&n.preventDefault(),s||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var i=ph(r.props.day,a);a2(i,r.props)||r.handleDayClick(EP(i),n)},r.onQuarterMouseEnter=function(n){var a=ph(r.props.day,n);a2(a,r.props)||r.handleDayMouseEnter(EP(a))},r.handleQuarterNavigation=function(n,a){var i,s,l,c;r.isDisabled(a)||r.isExcluded(a)||((s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var i,s,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case vt.Enter:r.onQuarterClick(n,a),(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,r.props.selected);break;case vt.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,iC(r.props.preSelection,1));break;case vt.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,QB(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(n){var a,i=r.props,s=i.day,l=i.minDate,c=i.maxDate,u=i.excludeDates,d=i.includeDates,f=Io(s,n);return{isDisabled:(a=(l||c||u||d)&&d$(f,r.props))!==null&&a!==void 0?a:!1,labelDate:f}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,i=a.day,s=a.startDate,l=a.endDate,c=a.preSelection,u=a.monthClassName,d=u?u(Io(i,n)):void 0,f=r.getSelection();return Pt("react-datepicker__month-text","react-datepicker__month-".concat(n),d,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(i,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":s&&l?n2(s,l,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=ps(r.props.preSelection),i=r.isMonthDisabledForLabelDate(a).isDisabled,s=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return s},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=T0(r.props.preSelection),i=a2(r.props.day,r.props),s=n===a&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return s},r.getAriaLabel=function(n){var a=r.props,i=a.chooseDayAriaLabelPrefix,s=i===void 0?"Choose":i,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=a.day,d=a.locale,f=Io(u,n),h=r.isDisabled(f)||r.isExcluded(f)?c:s;return"".concat(h," ").concat(Bn(f,"MMMM yyyy",d))},r.getQuarterClassNames=function(n){var a=r.props,i=a.day,s=a.startDate,l=a.endDate,c=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,h=a.includeDates,p=a.filterDate,m=a.preSelection,x=a.disabledKeyboardNavigation,g=(u||d||f||h||p)&&a2(ph(i,n),r.props);return Pt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!x&&m&&r.isSelectedQuarter(i,n,m)&&!g,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":s&&l?s2(s,l,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var a=r.props,i=a.showFullMonthYearPicker,s=a.renderMonthContent,l=a.locale,c=a.day,u=u$(n,l),d=vC(n,l);return s?s(n,u,d,c):i?d:u},r.getQuarterContent=function(n){var a,i=r.props,s=i.renderQuarterContent,l=i.locale,c=_Oe(n,l);return(a=s==null?void 0:s(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,i=a.showTwoColumnMonthYearPicker,s=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,u=(n=f4[HP(s,i)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(d,f){return K.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,p){return K.createElement("div",{ref:r.MONTH_REFS[h],key:p,onClick:function(m){r.onMonthClick(m,h)},onKeyDown:function(m){p$(m)&&(m.preventDefault(),m.key=vt.Enter),r.onMonthKeyDown(m,h)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(h)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(h)}:void 0,tabIndex:Number(r.getTabIndex(h)),className:r.getMonthClassNames(h),"aria-disabled":r.isMonthDisabled(h),role:"option","aria-label":r.getAriaLabel(h),"aria-current":r.isCurrentMonth(l,h)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,h,c):void 0},r.getMonthContent(h))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,i=n.selected,s=[1,2,3,4];return K.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,c){return K.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,l)},onKeyDown:function(u){r.onQuarterKeyDown(u,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":i?r.isSelectedQuarter(a,l,i):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,i=n.selectsStart,s=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return Pt("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(i||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,i=r.selectsMultiple;if(i)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,i=r.day,s=r.ariaLabelPrefix,l=s===void 0?"Month ":s,c=l?l.trim()+" ":"";return K.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Bn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(I.Component),BOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return K.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?K.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return K.createElement(d5,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(I.Component),$Oe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,i){return K.createElement("option",{key:a,value:i},a)})},r.renderSelectMode=function(n){return K.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return K.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},K.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return K.createElement(BOe,Cr({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,i=[r.renderReadView(!a,n)];return a&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return u$(i,r.props.locale)}:function(i){return vC(i,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return K.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(I.Component);function zOe(e,t){for(var r=[],n=ru(e),a=ru(t);!Nd(n,a);)r.push(Wr(n)),n=jl(n,1);return r}var UOe=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var i=lj(a),s=Hl(n.props.date,a)&&ls(n.props.date,a);return K.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":s?"true":void 0},s?K.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Bn(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:zOe(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=Pt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return K.createElement(d5,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(I.Component),HOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=ru(r.props.minDate),a=ru(r.props.maxDate),i=[];!Nd(n,a);){var s=lj(n);i.push(K.createElement("option",{key:s,value:s},Bn(n,r.props.dateFormat,r.props.locale))),n=jl(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return K.createElement("select",{value:lj(ru(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Bn(r.props.date,r.props.dateFormat,r.props.locale);return K.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},K.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return K.createElement(UOe,Cr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=Wr(n);Hl(r.props.date,a)&&ls(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return K.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(I.Component),WOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var a,i;(r.props.minTime||r.props.maxTime)&&DP(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&PP(n,r.props)||(i=(a=r.props).onChange)===null||i===void 0||i.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&POe(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&DP(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&PP(n,r.props)},r.liClasses=function(n){var a,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(eu(n)*3600+tu(n)*60+fd(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,a){var i,s;n.key===vt.Space&&(n.preventDefault(),n.key=vt.Enter),(n.key===vt.ArrowUp||n.key===vt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===vt.ArrowDown||n.key===vt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===vt.Enter&&r.handleClick(a),(s=(i=r.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},r.renderTimes=function(){for(var n,a=[],i=typeof r.props.format=="string"?r.props.format:"p",s=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,l=r.props.selected||r.props.openToDate||Wr(),c=q2(l),u=r.props.injectTimes&&r.props.injectTimes.sort(function(g,v){return g.getTime()-v.getTime()}),d=60*OOe(l),f=d/s,h=0;h<f;h++){var p=ij(c,h*s);if(a.push(p),u){var m=TOe(c,p,h,s,u);a=a.concat(m)}}var x=a.reduce(function(g,v){return v.getTime()<=l.getTime()?v:g},a[0]);return a.map(function(g){return K.createElement("li",{key:g.valueOf(),onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(v){g===x&&(r.centerLi=v)},onKeyDown:function(v){r.handleOnKeyDown(v,g)},tabIndex:g===x?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},Bn(g,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?K.createElement(K.Fragment,null):K.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},K.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return K.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),K.createElement("div",{className:"react-datepicker__time"},K.createElement("div",{className:"react-datepicker__time-box"},K.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(I.Component),WP=3,VOe=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Zl([],Array(n.props.yearItemNumber),!0).map(function(){return I.createRef()}),n.isDisabled=function(a){return Mo(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return bC(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var i=function(){var s,l;(l=(s=n.YEAR_REFS[a])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(a,i){n.props.onDayClick&&n.props.onDayClick(a,i)},n.handleYearNavigation=function(a,i){var s,l,c,u,d=n.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var p=cd(f,h).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((l=(s=n.props).setPreSelection)===null||l===void 0||l.call(s,i),a-p<0?n.updateFocusOnPaginate(h-(p-a)):a-p>=h?n.updateFocusOnPaginate(Math.abs(h-(a-p))):(u=(c=n.YEAR_REFS[a-p])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,i){return Ar(a,i)},n.isCurrentYear=function(a){return a===hr(Wr())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Hl(zl(Wr(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Hl(zl(Wr(),a),n.props.endDate)},n.isInRange=function(a){return i2(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var i=n.props,s=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate;return!(s||l||c)||!n.selectingDate()?!1:s&&d?i2(a,n.selectingDate(),d):l&&u||c&&u&&!d?i2(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var i;if(!n.isInSelectingRange(a))return!1;var s=n.props,l=s.startDate,c=s.selectsStart,u=zl(Wr(),a);return c?Hl(u,(i=n.selectingDate())!==null&&i!==void 0?i:null):Hl(u,l??null)},n.isSelectingRangeEnd=function(a){var i;if(!n.isInSelectingRange(a))return!1;var s=n.props,l=s.endDate,c=s.selectsEnd,u=s.selectsRange,d=zl(Wr(),a);return c||u?Hl(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):Hl(d,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var i=n.props,s=i.minDate,l=i.maxDate,c=i.excludeDates,u=i.includeDates,d=i.filterDate,f=dx(zl(n.props.date,a)),h=(s||l||c||u||d)&&G2(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ar(f,dx(n.props.selected))&&Ar(f,dx(n.props.preSelection))&&!h}},n.onYearClick=function(a,i){var s=n.props.date;s!==void 0&&n.handleYearClick(dx(zl(s,i)),a)},n.onYearKeyDown=function(a,i){var s,l,c=a.key,u=n.props,d=u.date,f=u.yearItemNumber,h=u.handleOnKeyDown;if(c!==vt.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case vt.Enter:if(n.props.selected==null)break;n.onYearClick(a,i),(l=(s=n.props).setPreSelection)===null||l===void 0||l.call(s,n.props.selected);break;case vt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,Jc(n.props.preSelection,1));break;case vt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,Np(n.props.preSelection,1));break;case vt.ArrowUp:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var p=cd(d,f).startPeriod,m=WP,x=i-m;if(x<p){var g=f%m;i>=p&&i<p+g?m=g:m+=g,x=i-m}n.handleYearNavigation(x,Np(n.props.preSelection,m));break}case vt.ArrowDown:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var v=cd(d,f).endPeriod,m=WP,x=i+m;if(x>v){var g=f%m;i<=v&&i>v-g?m=g:m+=g,x=i+m}n.handleYearNavigation(x,Jc(n.props.preSelection,m));break}}h&&h(a)},n.getYearClassNames=function(a){var i=n.props,s=i.date,l=i.minDate,c=i.maxDate,u=i.selected,d=i.excludeDates,f=i.includeDates,h=i.filterDate,p=i.yearClassName;return Pt("react-datepicker__year-text","react-datepicker__year-".concat(a),s?p==null?void 0:p(zl(s,a)):void 0,{"react-datepicker__year-text--selected":u?a===hr(u):void 0,"react-datepicker__year-text--disabled":(l||c||d||f||h)&&G2(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=hr(n.props.preSelection),s=G2(a,n.props);return a===i&&!s?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,i=a.date,s=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(i===void 0)return null;for(var u=cd(i,s),d=u.startPeriod,f=u.endPeriod,h=function(x){n.push(K.createElement("div",{ref:p.YEAR_REFS[x-d],onClick:function(g){r.onYearClick(g,x)},onKeyDown:function(g){p$(g)&&(g.preventDefault(),g.key=vt.Enter),r.onYearKeyDown(g,x)},tabIndex:Number(p.getYearTabIndex(x)),className:p.getYearClassNames(x),onMouseEnter:p.props.usePointerEvent?void 0:function(g){return l(g,x)},onPointerEnter:p.props.usePointerEvent?function(g){return l(g,x)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(g){return c(g,x)},onPointerLeave:p.props.usePointerEvent?function(g){return c(g,x)}:void 0,key:x,"aria-current":p.isCurrentYear(x)?"date":void 0},p.getYearContent(x)))},p=this,m=d;m<=f;m++)h(m);return K.createElement("div",{className:"react-datepicker__year"},K.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(I.Component);function qOe(e,t,r,n){for(var a=[],i=0;i<2*t+1;i++){var s=e+t-i,l=!0;r&&(l=hr(r)<=s),n&&l&&(l=hr(n)>=s),l&&a.push(s)}return a}var GOe=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var l=n.props.year,c=n.state.yearsList.map(function(f){return K.createElement("div",{className:l===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":l===f?"true":void 0},l===f?K.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=n.props.minDate?hr(n.props.minDate):null,d=n.props.maxDate?hr(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(f){return f===d}))&&c.unshift(K.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},K.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(f){return f===u}))&&c.push(K.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},K.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,s=a||(i?10:5);return n.state={yearsList:qOe(n.props.year,s,n.props.minDate,n.props.maxDate)},n.dropdownRef=I.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=Pt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return K.createElement(d5,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(I.Component),YOe=function(e){pi(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?hr(r.props.minDate):1900,a=r.props.maxDate?hr(r.props.maxDate):2100,i=[],s=n;s<=a;s++)i.push(K.createElement("option",{key:s,value:s},s));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return K.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return K.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},K.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return K.createElement(GOe,Cr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var i,s;(s=(i=r.props).onSelect)===null||s===void 0||s.call(i,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return K.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(I.Component),XOe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],KOe=function(e){var t=(e.className||"").split(/\s+/);return XOe.some(function(r){return t.indexOf(r)>=0})},QOe=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var i,s;KOe(a.target)&&((s=(i=n.props).onDropdownFocus)===null||s===void 0||s.call(i,a))},n.getDateInView=function(){var a=n.props,i=a.preSelection,s=a.selected,l=a.openToDate,c=f$(n.props),u=h$(n.props),d=Wr(),f=l||s||i;return f||(c&&K0(d,c)?c:u&&Nd(d,u)?u:d)},n.increaseMonth=function(){n.setState(function(a){var i=a.date;return{date:jl(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var i=a.date;return{date:O0(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,i,s){n.props.onSelect(a,i,s),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,i){n.setState({selectingDate:zl(Wr(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,i)},n.handleYearMouseLeave=function(a,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,i)},n.handleYearChange=function(a){var i,s,l,c;(s=(i=n.props).onYearChange)===null||s===void 0||s.call(i,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!Mo(a,n.props))return a;for(var i=ru(a),s=gOe(a),l=qke(s,i),c=null,u=0;u<=l;u++){var d=Nl(i,u);if(!Mo(d,n.props)){c=d;break}}return c},n.handleMonthChange=function(a){var i,s,l,c=(i=n.getEnabledPreSelectionDateForMonth(a))!==null&&i!==void 0?i:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(s=n.props).setOpen)===null||l===void 0||l.call(s,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var i,s;(s=(i=n.props).onMonthChange)===null||s===void 0||s.call(i,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(i){var s=i.date;return{date:zl(s,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(i){var s=i.date;return{date:Io(s,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(i){var s=i.date;return{date:zl(Io(s,ps(a)),hr(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var i=hd(a,n.props.locale,n.props.calendarStartDay),s=[];return n.props.showWeekNumbers&&s.push(K.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var c=Nl(i,l),u=n.formatWeekday(c,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return K.createElement("div",{key:l,"aria-label":Bn(c,"EEEE",n.props.locale),className:Pt("react-datepicker__day-name",d)},u)}))},n.formatWeekday=function(a,i){return n.props.formatWeekDay?bOe(a,n.props.formatWeekDay,i):n.props.useWeekdaysShort?wOe(a,i):yOe(a,i)},n.decreaseYear=function(){n.setState(function(a){var i,s=a.date;return{date:Np(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,i,s;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,d=O0(n.state.date,u),f;switch(!0){case n.props.showMonthYearPicker:f=FP(n.state.date,n.props);break;case n.props.showYearPicker:f=AOe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=jOe(n.state.date,n.props);break;default:f=IP(d,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(m=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),m=void 0);var x=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,g=n.props,v=g.previousMonthButtonLabel,b=v===void 0?t.defaultProps.previousMonthButtonLabel:v,y=g.previousYearButtonLabel,_=y===void 0?t.defaultProps.previousYearButtonLabel:y,N=n.props,S=N.previousMonthAriaLabel,j=S===void 0?typeof b=="string"?b:"Previous Month":S,A=N.previousYearAriaLabel,T=A===void 0?typeof _=="string"?_:"Previous Year":A;return K.createElement("button",{type:"button",className:p.join(" "),onClick:m,onKeyDown:n.props.handleOnKeyDown,"aria-label":x?T:j},K.createElement("span",{className:h.join(" ")},x?_:b))}}},n.increaseYear=function(){n.setState(function(a){var i,s=a.date;return{date:Jc(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=RP(n.state.date,n.props);break;case n.props.showYearPicker:i=COe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=SOe(n.state.date,n.props);break;default:i=MP(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,d=n.props,f=d.nextMonthButtonLabel,h=f===void 0?t.defaultProps.nextMonthButtonLabel:f,p=d.nextYearButtonLabel,m=p===void 0?t.defaultProps.nextYearButtonLabel:p,x=n.props,g=x.nextMonthAriaLabel,v=g===void 0?typeof h=="string"?h:"Next Month":g,b=x.nextYearAriaLabel,y=b===void 0?typeof m=="string"?m:"Next Year":b;return K.createElement("button",{type:"button",className:s.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?y:v},K.createElement("span",{className:l.join(" ")},u?m:h))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),K.createElement("h2",{className:i.join(" ")},Bn(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return K.createElement(YOe,Cr({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:hr(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return K.createElement($Oe,Cr({},t.defaultProps,n.props,{month:ps(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return K.createElement(HOe,Cr({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(kP(),a),n.props.setPreSelection&&n.props.setPreSelection(kP())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return K.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var i=a.monthDate,s=a.i;return K.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),K.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(s!==0),n.renderMonthYearDropdown(s!==0),n.renderYearDropdown(s!==0)),K.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))},n.renderCustomHeader=function(a){var i,s,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=IP(n.state.date,n.props),d=MP(n.state.date,n.props),f=FP(n.state.date,n.props),h=RP(n.state.date,n.props),p=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return K.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(s=(i=n.props).renderCustomHeader)===null||s===void 0?void 0:s.call(i,Cr(Cr({},n.state),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),p&&K.createElement("div",{className:"react-datepicker__day-names"},n.header(l)))},n.renderYearHeader=function(a){var i=a.monthDate,s=n.props,l=s.showYearPicker,c=s.yearItemNumber,u=c===void 0?t.defaultProps.yearItemNumber:c,d=cd(i,u),f=d.startPeriod,h=d.endPeriod;return K.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(f," - ").concat(h):hr(i))},n.renderHeader=function(a){var i=a.monthDate,s=a.i,l=s===void 0?0:s,c={monthDate:i,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var s=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Jc(n.state.date,c):O0(n.state.date,c),d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,f=0;f<l;++f){var h=f-d+c,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Jc(u,h):jl(u,h),m="month-".concat(f),x=f<l-1,g=f>0;s.push(K.createElement("div",{key:m,ref:function(v){n.monthContainer=v??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:f}),K.createElement(LOe,Cr({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:x,monthShowsDuplicateDaysStart:g}))))}return s}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return K.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),K.createElement(VOe,Cr({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return K.createElement(WOe,Cr({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,i=a&&f5(a)&&!!n.props.selected,s=i?"".concat(BP(a.getHours()),":").concat(BP(a.getMinutes())):"";if(n.props.showTimeInput)return K.createElement(DOe,Cr({},t.defaultProps,n.props,{date:a,timeString:s,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,i=cd(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),s=i.startPeriod,l=i.endPeriod,c;return n.props.showYearPicker?c="".concat(s," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=hr(n.state.date):c="".concat(vC(ps(n.state.date),n.props.locale)," ").concat(hr(n.state.date)),K.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return K.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=I.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Sg}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Ar(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!ls(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ar(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||uOe;return K.createElement(d5,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},K.createElement("div",{style:{display:"contents"},ref:this.containerRef},K.createElement(r,{className:Pt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(I.Component),JOe=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return K.createElement("i",{className:"".concat(i," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(K.isValidElement(t)){var s=t;return K.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(n),onClick:function(l){typeof s.props.onClick=="function"&&s.props.onClick(l),typeof a=="function"&&a(l)}})}return K.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},K.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},m$=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return eM.createPortal(this.props.children,this.el)},t}(I.Component),ZOe="[tabindex], a, button, input, select, textarea",ePe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},x$=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(ZOe),1,-1).filter(ePe)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=I.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?K.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},K.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,K.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(I.Component);function tPe(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=I.useRef(null),s=cOe(Cr({open:!a,whileElementsMounted:zTe,placement:r.popperPlacement,middleware:Zl([YTe({padding:15}),GTe(10),XTe({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Cr(Cr({},r),{hidePopper:a,popperProps:Cr(Cr({},s),{arrowRef:i})});return K.createElement(e,Cr({},l))};return t}var rPe=function(e){pi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,i=r.hidePopper,s=i===void 0?t.defaultProps.hidePopper:i,l=r.popperComponent,c=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,h=r.portalHost,p=r.popperProps,m=r.showArrow,x=void 0;if(!s){var g=Pt("react-datepicker-popper",n);x=K.createElement(x$,{enableTabLoop:u},K.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:g,"data-placement":p.placement,onKeyDown:d},l,m&&K.createElement(rOe,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(x=I.createElement(this.props.popperContainer,{},x)),f&&!s&&(x=K.createElement(m$,{portalId:f,portalHost:h},x));var v=Pt("react-datepicker-wrapper",a);return K.createElement(K.Fragment,null,K.createElement("div",{ref:p.refs.setReference,className:v},c),x)},t}(I.Component),nPe=tPe(rPe),VP="react-datepicker-ignore-onclickoutside";function aPe(e,t){return e&&t?ps(e)!==ps(t)||hr(e)!==hr(t):e!==t}var h4="Date input not valid.",iPe=function(e){pi(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Wr()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,s){var l=new Date(s.date);return f5(l)?Zl(Zl([],i,!0),[Cr(Cr({},s),{date:l})],!1):i},[])},n.calcInitialState=function(){var a,i=n.getPreSelection(),s=f$(n.props),l=h$(n.props),c=s&&K0(i,q2(s))?s:l&&Nd(i,TP(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:LP(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Cr(Cr({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Cr(Cr({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.focus)===null||i===void 0||i.call(a,{preventScroll:!0})},n.setBlur=function(){var a,i;(i=(a=n.input)===null||a===void 0?void 0:a.blur)===null||i===void 0||i.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,i){i===void 0&&(i=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:p4},function(){a||n.setState(function(s){return{focused:i?s.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Zc(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var i,s,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((s=(i=n.props).onFocus)===null||s===void 0||s.call(i,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var i,s;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((s=(i=n.props).onBlur)===null||s===void 0||s.call(i,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var i,s;n.props.inline||n.setOpen(!1),(s=(i=n.props).onClickOutside)===null||s===void 0||s.call(i,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,i,s,l,c,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){n.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:sPe});var h=n.props,p=h.selectsRange,m=h.startDate,x=h.endDate,g=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,v=(i=n.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,b=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(p){var y=b.split("-",2).map(function(O){return O.trim()}),_=y[0],N=y[1],S=u4(_??"",g,n.props.locale,v),j=u4(N??"",g,n.props.locale,v),A=(m==null?void 0:m.getTime())!==(S==null?void 0:S.getTime()),T=(x==null?void 0:x.getTime())!==(j==null?void 0:j.getTime());if(!A&&!T||S&&Mo(S,n.props)||j&&Mo(j,n.props))return;(l=(s=n.props).onChange)===null||l===void 0||l.call(s,[S,j],f)}else{var F=u4(b,g,n.props.locale,v,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(F||!b)&&n.setSelected(F,f,!0)}}},n.handleSelect=function(a,i,s){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(a,i,!1,s),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var l=n.props,c=l.startDate,u=l.endDate;c&&!u&&(n.props.swapRange||!UP(a,c))&&n.setOpen(!1)}},n.setSelected=function(a,i,s,l){var c,u,d=a;if(n.props.showYearPicker){if(d!==null&&G2(hr(d),n.props))return}else if(n.props.showMonthYearPicker){if(d!==null&&d$(d,n.props))return}else if(d!==null&&Mo(d,n.props))return;var f=n.props,h=f.onChange,p=f.selectsRange,m=f.startDate,x=f.endDate,g=f.selectsMultiple,v=f.selectedDates,b=f.minTime,y=f.swapRange;if(!v0(n.props.selected,d)||n.props.allowSameDay||p||g)if(d!==null&&(n.props.selected&&(!s||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(d=d4(d,{hour:eu(n.props.selected),minute:tu(n.props.selected),second:fd(n.props.selected)})),!s&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&b&&(d=d4(d,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),n.props.inline||n.setState({preSelection:d}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),p){var _=!m&&!x,N=m&&!x,S=m&&x;_?h==null||h([d,null],i):N&&(d===null?h==null||h([null,null],i):UP(d,m)?y?h==null||h([d,m],i):h==null||h([d,null],i):h==null||h([m,d],i)),S&&(h==null||h([d,null],i))}else if(g){if(d!==null)if(!(v!=null&&v.length))h==null||h([d],i);else{var j=v.some(function(T){return Ar(T,d)});if(j){var A=v.filter(function(T){return!Ar(T,d)});h==null||h(A,i)}else h==null||h(Zl(Zl([],v,!0),[d],!1),i)}}else h==null||h(d,i);s||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,d,i),n.setState({inputValue:null}))},n.setPreSelection=function(a){var i=Zc(n.props.minDate),s=Zc(n.props.maxDate),l=!0;if(a){var c=q2(a);if(i&&s)l=fx(a,n.props.minDate,n.props.maxDate);else if(i){var u=q2(n.props.minDate);l=Nd(a,u)||v0(c,u)}else if(s){var d=TP(n.props.maxDate);l=K0(a,d)||v0(c,d)}}l&&n.setState({preSelection:a})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var i,s;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:d4(l,{hour:eu(a),minute:tu(a)});n.setState({preSelection:c}),(s=(i=n.props).onChange)===null||s===void 0||s.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(a=n.props).onInputClick)===null||i===void 0||i.call(a)},n.onInputKeyDown=function(a){var i,s,l,c,u,d;(s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,a);var f=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===vt.ArrowDown||f===vt.ArrowUp||f===vt.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(f===vt.ArrowDown||f===vt.ArrowUp){a.preventDefault();var h=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(h);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var m=Wr(n.state.preSelection);f===vt.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===p4?(n.handleSelect(m,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(m)):n.setOpen(!1)):f===vt.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===vt.Tab&&n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:h4})}},n.onPortalKeyDown=function(a){var i=a.key;i===vt.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var i,s,l,c,u,d,f=n.props,h=f.minDate,p=f.maxDate,m=f.disabledKeyboardNavigation,x=f.showWeekPicker,g=f.shouldCloseOnSelect,v=f.locale,b=f.calendarStartDay,y=f.adjustDateOnChange,_=f.inline;if((s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,a),!m){var N=a.key,S=a.shiftKey,j=Wr(n.state.preSelection),A=function(G,z){var V=z;switch(G){case vt.ArrowRight:V=x?_y(z,1):Nl(z,1);break;case vt.ArrowLeft:V=x?bP(z,1):q8e(z,1);break;case vt.ArrowUp:V=bP(z,1);break;case vt.ArrowDown:V=_y(z,1);break;case vt.PageUp:V=S?Np(z,1):O0(z,1);break;case vt.PageDown:V=S?Jc(z,1):jl(z,1);break;case vt.Home:V=hd(z,v,b);break;case vt.End:V=xOe(z);break}return V},T=function(G,z){for(var V=40,Y=G,U=!1,ae=0,he=A(G,z);!U;){if(ae>=V){he=z;break}h&&he<h&&(Y=vt.ArrowRight,he=Mo(h,n.props)?A(Y,he):h),p&&he>p&&(Y=vt.ArrowLeft,he=Mo(p,n.props)?A(Y,he):p),Mo(he,n.props)?((Y===vt.PageUp||Y===vt.Home)&&(Y=vt.ArrowRight),(Y===vt.PageDown||Y===vt.End)&&(Y=vt.ArrowLeft),he=A(Y,he)):U=!0,ae++}return he};if(N===vt.Enter){a.preventDefault(),n.handleSelect(j,a),!g&&n.setPreSelection(j);return}else if(N===vt.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:h4});return}var F=null;switch(N){case vt.ArrowLeft:case vt.ArrowRight:case vt.ArrowUp:case vt.ArrowDown:case vt.PageUp:case vt.PageDown:case vt.Home:case vt.End:F=T(N,j);break}if(!F){(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:h4});return}if(a.preventDefault(),n.setState({lastPreSelectChange:p4}),y&&n.setSelected(F),n.setPreSelection(F),_){var O=ps(j),E=ps(F),L=hr(j),B=hr(F);O!==E||L!==B?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var i=a.key;i===vt.Escape&&(a.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var i=n.props,s=i.selectsRange,l=i.onChange;s?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,i;return!n.props.inline&&!n.isCalendarOpen()?null:K.createElement(QOe,Cr({showMonthYearDropdown:void 0,ref:function(s){n.calendar=s}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:kOe(n.modifyHolidays()),outsideClickIgnoreClass:VP,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,i=a.dateFormat,s=i===void 0?t.defaultProps.dateFormat:i,l=a.locale,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(Po(n.props.startDate,{dateFormat:u,locale:l}),". ").concat(n.props.endDate?"End date: "+Po(n.props.endDate,{dateFormat:u,locale:l}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(Po(n.props.selected,{dateFormat:s,locale:l})):n.props.showYearPicker?d="Selected year: ".concat(Po(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?d="Selected month: ".concat(Po(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(Po(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):d="Selected date: ".concat(Po(n.props.selected,{dateFormat:u,locale:l})),K.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,i,s,l=Pt(n.props.className,(a={},a[VP]=n.state.open,a)),c=n.props.customInput||K.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",d=n.props,f=d.dateFormat,h=f===void 0?t.defaultProps.dateFormat:f,p=d.locale,m=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?fOe(n.props.startDate,n.props.endDate,{dateFormat:h,locale:p}):n.props.selectsMultiple?hOe((s=n.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:h,locale:p}):Po(n.props.selected,{dateFormat:h,locale:p});return I.cloneElement(c,(i={},i[u]=function(x){n.input=x},i.value=m,i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=Pt(c.props.className,l),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var a=n.props,i=a.isClearable,s=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,p=a.ariaLabelClose,m=p===void 0?"Close":p,x=a.selectedDates;return i&&(l!=null||c!=null||u!=null||x!=null&&x.length)?K.createElement("button",{type:"button",className:Pt("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":m,onClick:n.onClearClick,title:d,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Sg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,i,s,l;r.inline&&aPe(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:LP(this.props.highlightDates)}),!n.focused&&!v0(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(a=this.props).onCalendarOpen)===null||i===void 0||i.call(a)),n.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,i=r.calendarIconClassname,s=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),K.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&K.createElement(JOe,Cr({icon:a,className:Pt(s,!s&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?K.createElement(x$,{enableTabLoop:this.props.enableTabLoop},K.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=K.createElement(m$,Cr({portalId:this.props.portalId},this.props),n)),K.createElement("div",null,this.renderInputContainer(),n)}return K.createElement(nPe,Cr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(I.Component),sPe="input",p4="navigate";const oPe="modulepreload",lPe=function(e){return"/"+e},qP={},dc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=lPe(c),c in qP)return;qP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":oPe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(e)}var Vi=Uint8Array,no=Uint16Array,yC=Int32Array,h5=new Vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),p5=new Vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fj=new Vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g$=function(e,t){for(var r=new no(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new yC(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},v$=g$(h5,2),b$=v$.b,hj=v$.r;b$[28]=258,hj[258]=28;var y$=g$(p5,0),cPe=y$.b,GP=y$.r,pj=new no(32768);for(var In=0;In<32768;++In){var Ru=(In&43690)>>1|(In&21845)<<1;Ru=(Ru&52428)>>2|(Ru&13107)<<2,Ru=(Ru&61680)>>4|(Ru&3855)<<4,pj[In]=((Ru&65280)>>8|(Ru&255)<<8)>>1}var oc=function(e,t,r){for(var n=e.length,a=0,i=new no(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new no(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(r){l=new no(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=s[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[pj[f]>>c]=u}else for(l=new no(n),a=0;a<n;++a)e[a]&&(l[a]=pj[s[e[a]-1]++]>>15-e[a]);return l},Sd=new Vi(288);for(var In=0;In<144;++In)Sd[In]=8;for(var In=144;In<256;++In)Sd[In]=9;for(var In=256;In<280;++In)Sd[In]=7;for(var In=280;In<288;++In)Sd[In]=8;var W1=new Vi(32);for(var In=0;In<32;++In)W1[In]=5;var uPe=oc(Sd,9,0),dPe=oc(Sd,9,1),fPe=oc(W1,5,0),hPe=oc(W1,5,1),m4=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ll=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},x4=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},wC=function(e){return(e+7)/8|0},w$=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Vi(e.subarray(t,r))},pPe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],dl=function(e,t,r){var n=new Error(t||pPe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,dl),!r)throw n;return n},mPe=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Vi(0);var s=!r,l=s||t.i!=2,c=t.i;s&&(r=new Vi(a*3));var u=function(Ce){var q=r.length;if(Ce>q){var Me=new Vi(Math.max(q*2,Ce));Me.set(r),r=Me}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,m=t.d,x=t.m,g=t.n,v=a*8;do{if(!p){d=ll(e,f,1);var b=ll(e,f+1,3);if(f+=3,b)if(b==1)p=dPe,m=hPe,x=9,g=5;else if(b==2){var S=ll(e,f,31)+257,j=ll(e,f+10,15)+4,A=S+ll(e,f+5,31)+1;f+=14;for(var T=new Vi(A),F=new Vi(19),O=0;O<j;++O)F[fj[O]]=ll(e,f+O*3,7);f+=j*3;for(var E=m4(F),L=(1<<E)-1,B=oc(F,E,1),O=0;O<A;){var G=B[ll(e,f,L)];f+=G&15;var y=G>>4;if(y<16)T[O++]=y;else{var z=0,V=0;for(y==16?(V=3+ll(e,f,3),f+=2,z=T[O-1]):y==17?(V=3+ll(e,f,7),f+=3):y==18&&(V=11+ll(e,f,127),f+=7);V--;)T[O++]=z}}var Y=T.subarray(0,S),U=T.subarray(S);x=m4(Y),g=m4(U),p=oc(Y,x,1),m=oc(U,g,1)}else dl(1);else{var y=wC(f)+4,_=e[y-4]|e[y-3]<<8,N=y+_;if(N>a){c&&dl(0);break}l&&u(h+_),r.set(e.subarray(y,N),h),t.b=h+=_,t.p=f=N*8,t.f=d;continue}if(f>v){c&&dl(0);break}}l&&u(h+131072);for(var ae=(1<<x)-1,he=(1<<g)-1,k=f;;k=f){var z=p[x4(e,f)&ae],P=z>>4;if(f+=z&15,f>v){c&&dl(0);break}if(z||dl(2),P<256)r[h++]=P;else if(P==256){k=f,p=null;break}else{var R=P-254;if(P>264){var O=P-257,H=h5[O];R=ll(e,f,(1<<H)-1)+b$[O],f+=H}var X=m[x4(e,f)&he],oe=X>>4;X||dl(3),f+=X&15;var U=cPe[oe];if(oe>3){var H=p5[oe];U+=x4(e,f)&(1<<H)-1,f+=H}if(f>v){c&&dl(0);break}l&&u(h+131072);var fe=h+R;if(h<U){var re=i-U,ve=Math.min(U,fe);for(re+h<0&&dl(3);h<ve;++h)r[h]=n[re+h]}for(;h<fe;++h)r[h]=r[h-U]}}t.l=p,t.p=k,t.b=h,t.f=d,p&&(d=1,t.m=x,t.d=m,t.n=g)}while(!d);return h!=r.length&&s?w$(r,0,h):r.subarray(0,h)},Mc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Jm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},g4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:N$,l:0};if(a==1){var s=new Vi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(N,S){return N.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new no(h+1),m=mj(r[d-1],p,0);if(m>t){var n=0,x=0,g=m-t,v=1<<g;for(i.sort(function(S,j){return p[j.s]-p[S.s]||S.f-j.f});n<a;++n){var b=i[n].s;if(p[b]>t)x+=v-(1<<m-p[b]),p[b]=t;else break}for(x>>=g;x>0;){var y=i[n].s;p[y]<t?x-=1<<t-p[y]++-1:++n}for(;n>=0&&x;--n){var _=i[n].s;p[_]==t&&(--p[_],++x)}m=t}return{t:new Vi(p),l:m}},mj=function(e,t,r){return e.s==-1?Math.max(mj(e.l,t,r+1),mj(e.r,t,r+1)):t[e.s]=r},YP=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new no(++t),n=0,a=e[0],i=1,s=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Zm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},_$=function(e,t,r){var n=r.length,a=wC(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},XP=function(e,t,r,n,a,i,s,l,c,u,d){Mc(t,d++,r),++a[256];for(var f=g4(a,15),h=f.t,p=f.l,m=g4(i,15),x=m.t,g=m.l,v=YP(h),b=v.c,y=v.n,_=YP(x),N=_.c,S=_.n,j=new no(19),A=0;A<b.length;++A)++j[b[A]&31];for(var A=0;A<N.length;++A)++j[N[A]&31];for(var T=g4(j,7),F=T.t,O=T.l,E=19;E>4&&!F[fj[E-1]];--E);var L=u+5<<3,B=Zm(a,Sd)+Zm(i,W1)+s,G=Zm(a,h)+Zm(i,x)+s+14+3*E+Zm(j,F)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&L<=B&&L<=G)return _$(t,d,e.subarray(c,c+u));var z,V,Y,U;if(Mc(t,d,1+(G<B)),d+=2,G<B){z=oc(h,p,0),V=h,Y=oc(x,g,0),U=x;var ae=oc(F,O,0);Mc(t,d,y-257),Mc(t,d+5,S-1),Mc(t,d+10,E-4),d+=14;for(var A=0;A<E;++A)Mc(t,d+3*A,F[fj[A]]);d+=3*E;for(var he=[b,N],k=0;k<2;++k)for(var P=he[k],A=0;A<P.length;++A){var R=P[A]&31;Mc(t,d,ae[R]),d+=F[R],R>15&&(Mc(t,d,P[A]>>5&127),d+=P[A]>>12)}}else z=uPe,V=Sd,Y=fPe,U=W1;for(var A=0;A<l;++A){var H=n[A];if(H>255){var R=H>>18&31;Jm(t,d,z[R+257]),d+=V[R+257],R>7&&(Mc(t,d,H>>23&31),d+=h5[R]);var X=H&31;Jm(t,d,Y[X]),d+=U[X],X>3&&(Jm(t,d,H>>5&8191),d+=p5[X])}else Jm(t,d,z[H]),d+=V[H]}return Jm(t,d,z[256]),d+V[256]},xPe=new yC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),N$=new Vi(0),gPe=function(e,t,r,n,a,i){var s=i.z||e.length,l=new Vi(n+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=xPe[t-1],h=f>>13,p=f&8191,m=(1<<r)-1,x=i.p||new no(32768),g=i.h||new no(m+1),v=Math.ceil(r/3),b=2*v,y=function(Le){return(e[Le]^e[Le+1]<<v^e[Le+2]<<b)&m},_=new yC(25e3),N=new no(288),S=new no(32),j=0,A=0,T=i.i||0,F=0,O=i.w||0,E=0;T+2<s;++T){var L=y(T),B=T&32767,G=g[L];if(x[B]=G,g[L]=B,O<=T){var z=s-T;if((j>7e3||F>24576)&&(z>423||!u)){d=XP(e,c,0,_,N,S,A,F,E,T-E,d),F=j=A=0,E=T;for(var V=0;V<286;++V)N[V]=0;for(var V=0;V<30;++V)S[V]=0}var Y=2,U=0,ae=p,he=B-G&32767;if(z>2&&L==y(T-he))for(var k=Math.min(h,z)-1,P=Math.min(32767,T),R=Math.min(258,z);he<=P&&--ae&&B!=G;){if(e[T+Y]==e[T+Y-he]){for(var H=0;H<R&&e[T+H]==e[T+H-he];++H);if(H>Y){if(Y=H,U=he,H>k)break;for(var X=Math.min(he,H-2),oe=0,V=0;V<X;++V){var fe=T-he+V&32767,re=x[fe],ve=fe-re&32767;ve>oe&&(oe=ve,G=fe)}}}B=G,G=x[B],he+=B-G&32767}if(U){_[F++]=268435456|hj[Y]<<18|GP[U];var Ce=hj[Y]&31,q=GP[U]&31;A+=h5[Ce]+p5[q],++N[257+Ce],++S[q],O=T+Y,++j}else _[F++]=e[T],++N[e[T]]}}for(T=Math.max(T,O);T<s;++T)_[F++]=e[T],++N[e[T]];d=XP(e,c,u,_,N,S,A,F,E,T-E,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=g,i.p=x,i.i=T,i.w=O)}else{for(var T=i.w||0;T<s+u;T+=65535){var Me=T+65535;Me>=s&&(c[d/8|0]=u,Me=s),d=_$(c,d+1,e.subarray(T,Me))}i.i=s}return w$(l,0,n+wC(d)+a)},j$=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},vPe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Vi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return gPe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},S$=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},bPe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=j$();a.p(t.dictionary),S$(e,2,a.d())}},yPe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&dl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&dl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function xj(e,t){t||(t={});var r=j$();r.p(e);var n=vPe(e,t,t.dictionary?6:2,4);return bPe(n,t),S$(n,n.length-4,r.d()),n}function wPe(e,t){return mPe(e.subarray(yPe(e,t),-4),{i:2},t,t)}var _Pe=typeof TextDecoder<"u"&&new TextDecoder,NPe=0;try{_Pe.decode(N$,{stream:!0}),NPe=1}catch{}var Wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function v4(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var pn={log:v4,warn:function(e){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):v4.call(null,arguments))},error:function(e){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):v4(e))}};function b4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i0(n.response,t,r)},n.onerror=function(){pn.error("could not download file")},n.send()}function KP(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function l2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ix,gj,i0=Wt.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Wt.URL||Wt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?KP(a.href)?b4(e,t,r):l2(a,a.target="_blank"):l2(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){l2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(KP(e))b4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){l2(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:en(i)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return b4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Wt.HTMLElement)||Wt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Wt.URL||Wt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function A$(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Di(r,n,a,i,t[0],7,-680876936),i=Di(i,r,n,a,t[1],12,-389564586),a=Di(a,i,r,n,t[2],17,606105819),n=Di(n,a,i,r,t[3],22,-1044525330),r=Di(r,n,a,i,t[4],7,-176418897),i=Di(i,r,n,a,t[5],12,1200080426),a=Di(a,i,r,n,t[6],17,-1473231341),n=Di(n,a,i,r,t[7],22,-45705983),r=Di(r,n,a,i,t[8],7,1770035416),i=Di(i,r,n,a,t[9],12,-1958414417),a=Di(a,i,r,n,t[10],17,-42063),n=Di(n,a,i,r,t[11],22,-1990404162),r=Di(r,n,a,i,t[12],7,1804603682),i=Di(i,r,n,a,t[13],12,-40341101),a=Di(a,i,r,n,t[14],17,-1502002290),r=Ii(r,n=Di(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ii(i,r,n,a,t[6],9,-1069501632),a=Ii(a,i,r,n,t[11],14,643717713),n=Ii(n,a,i,r,t[0],20,-373897302),r=Ii(r,n,a,i,t[5],5,-701558691),i=Ii(i,r,n,a,t[10],9,38016083),a=Ii(a,i,r,n,t[15],14,-660478335),n=Ii(n,a,i,r,t[4],20,-405537848),r=Ii(r,n,a,i,t[9],5,568446438),i=Ii(i,r,n,a,t[14],9,-1019803690),a=Ii(a,i,r,n,t[3],14,-187363961),n=Ii(n,a,i,r,t[8],20,1163531501),r=Ii(r,n,a,i,t[13],5,-1444681467),i=Ii(i,r,n,a,t[2],9,-51403784),a=Ii(a,i,r,n,t[7],14,1735328473),r=Mi(r,n=Ii(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Mi(i,r,n,a,t[8],11,-2022574463),a=Mi(a,i,r,n,t[11],16,1839030562),n=Mi(n,a,i,r,t[14],23,-35309556),r=Mi(r,n,a,i,t[1],4,-1530992060),i=Mi(i,r,n,a,t[4],11,1272893353),a=Mi(a,i,r,n,t[7],16,-155497632),n=Mi(n,a,i,r,t[10],23,-1094730640),r=Mi(r,n,a,i,t[13],4,681279174),i=Mi(i,r,n,a,t[0],11,-358537222),a=Mi(a,i,r,n,t[3],16,-722521979),n=Mi(n,a,i,r,t[6],23,76029189),r=Mi(r,n,a,i,t[9],4,-640364487),i=Mi(i,r,n,a,t[12],11,-421815835),a=Mi(a,i,r,n,t[15],16,530742520),r=Fi(r,n=Mi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Fi(i,r,n,a,t[7],10,1126891415),a=Fi(a,i,r,n,t[14],15,-1416354905),n=Fi(n,a,i,r,t[5],21,-57434055),r=Fi(r,n,a,i,t[12],6,1700485571),i=Fi(i,r,n,a,t[3],10,-1894986606),a=Fi(a,i,r,n,t[10],15,-1051523),n=Fi(n,a,i,r,t[1],21,-2054922799),r=Fi(r,n,a,i,t[8],6,1873313359),i=Fi(i,r,n,a,t[15],10,-30611744),a=Fi(a,i,r,n,t[6],15,-1560198380),n=Fi(n,a,i,r,t[13],21,1309151649),r=Fi(r,n,a,i,t[4],6,-145523070),i=Fi(i,r,n,a,t[11],10,-1120210379),a=Fi(a,i,r,n,t[2],15,718787259),n=Fi(n,a,i,r,t[9],21,-343485551),e[0]=ud(r,e[0]),e[1]=ud(n,e[1]),e[2]=ud(a,e[2]),e[3]=ud(i,e[3])}function m5(e,t,r,n,a,i){return t=ud(ud(t,e),ud(n,i)),ud(t<<a|t>>>32-a,r)}function Di(e,t,r,n,a,i,s){return m5(t&r|~t&n,e,t,a,i,s)}function Ii(e,t,r,n,a,i,s){return m5(t&n|r&~n,e,t,a,i,s)}function Mi(e,t,r,n,a,i,s){return m5(t^r^n,e,t,a,i,s)}function Fi(e,t,r,n,a,i,s){return m5(r^(t|~n),e,t,a,i,s)}function C$(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)y4(n,jPe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(y4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,y4(n,a),n}function jPe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ix=Wt.atob.bind(Wt),gj=Wt.btoa.bind(Wt);var QP="0123456789abcdef".split("");function SPe(e){for(var t="",r=0;r<4;r++)t+=QP[e>>8*r+4&15]+QP[e>>8*r&15];return t}function APe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function vj(e){return C$(e).map(APe).join("")}var CPe=function(e){for(var t=0;t<e.length;t++)e[t]=SPe(e[t]);return e.join("")}(C$("hello"))!="5d41402abc4b2a76b9719d911017c592";function ud(e,t){if(CPe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bj(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+s.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,m="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,s=l[(l[h]+l[p])%256],m+=String.fromCharCode(t.charCodeAt(c)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var JP={print:4,modify:8,copy:16,"annot-forms":32};function mh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(JP.perm!==void 0)throw new Error("Invalid permission: "+l);a+=JP[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=vj(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=bj(this.encryptionKey,this.padding)}function xh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function ZP(e){if(en(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(l){Wt.console&&pn.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function V1(e){if(!(this instanceof V1))return new V1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function E$(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function nd(e,t,r,n,a){if(!(this instanceof nd))return new nd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,E$.call(this,n,a)}function b0(e,t,r,n,a){if(!(this instanceof b0))return new b0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,E$.call(this,n,a)}function Ft(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,u="S",d=null;en(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=ZP;var m="1.3",x=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(D){m=D};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var v=p.__private__.getPageFormat=function(D){return g[D]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},y=b.COMPAT;function _(){this.saveGraphicsState(),ne(new Bt(it,0,0,-it,0,_u()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),u="n",y=b.ADVANCED}function N(){this.restoreGraphicsState(),u="S",y=b.COMPAT}var S=p.__private__.combineFontStyleAndFontWeight=function(D,J){if(D=="bold"&&J=="normal"||D=="bold"&&J==400||D=="normal"&&J=="italic"||D=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(D=J==400||J==="normal"?D==="italic"?"italic":"normal":J!=700&&J!=="bold"||D!=="normal"?(J==700?"bold":J)+""+D:"bold"),D};p.advancedAPI=function(D){var J=y===b.COMPAT;return J&&_.call(this),typeof D!="function"||(D(this),J&&N.call(this)),this},p.compatAPI=function(D){var J=y===b.ADVANCED;return J&&N.call(this),typeof D!="function"||(D(this),J&&_.call(this)),this},p.isAdvancedAPI=function(){return y===b.ADVANCED};var j,A=function(D){if(y!==b.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=p.roundToPrecision=p.__private__.roundToPrecision=function(D,J){var we=t||J;if(isNaN(D)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(we).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return T(D,16)};var F=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return T(D,2)},O=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return T(D,3)},E=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return y===b.COMPAT?D*it:y===b.ADVANCED?D:void 0},L=function(D){return y===b.COMPAT?_u()-D:y===b.ADVANCED?D:void 0},B=function(D){return E(L(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var G,z="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return z},Y=p.__private__.setFileId=function(D){return z=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ti=new mh(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};p.setFileId=function(D){return Y(D),this},p.getFileId=function(){return V()};var U=p.__private__.convertDateToPDFDate=function(D){var J=D.getTimezoneOffset(),we=J<0?"+":"-",je=Math.floor(Math.abs(J/60)),Ie=Math.abs(J%60),Ge=[we,R(je),"'",R(Ie),"'"].join("");return["D:",D.getFullYear(),R(D.getMonth()+1),R(D.getDate()),R(D.getHours()),R(D.getMinutes()),R(D.getSeconds()),Ge].join("")},ae=p.__private__.convertPDFDateToDate=function(D){var J=parseInt(D.substr(2,4),10),we=parseInt(D.substr(6,2),10)-1,je=parseInt(D.substr(8,2),10),Ie=parseInt(D.substr(10,2),10),Ge=parseInt(D.substr(12,2),10),nt=parseInt(D.substr(14,2),10);return new Date(J,we,je,Ie,Ge,nt,0)},he=p.__private__.setCreationDate=function(D){var J;if(D===void 0&&(D=new Date),D instanceof Date)J=U(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=D}return G=J},k=p.__private__.getCreationDate=function(D){var J=G;return D==="jsDate"&&(J=ae(G)),J};p.setCreationDate=function(D){return he(D),this},p.getCreationDate=function(D){return k(D)};var P,R=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},H=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},X=0,oe=[],fe=[],re=0,ve=[],Ce=[],q=!1,Me=fe,Le=function(){X=0,re=0,fe=[],oe=[],ve=[],ue=Gn(),de=Gn()};p.__private__.setCustomOutputDestination=function(D){q=!0,Me=D};var _e=function(D){q||(Me=D)};p.__private__.resetCustomOutputDestination=function(){q=!1,Me=fe};var ne=p.__private__.out=function(D){return D=D.toString(),re+=D.length+1,Me.push(D),Me},De=p.__private__.write=function(D){return ne(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},se=p.__private__.getArrayBuffer=function(D){for(var J=D.length,we=new ArrayBuffer(J),je=new Uint8Array(we);J--;)je[J]=D.charCodeAt(J);return we},ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ce};var ye=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return ye=y===b.ADVANCED?D/it:D,this};var Pe,Te=p.__private__.getFontSize=p.getFontSize=function(){return y===b.COMPAT?ye:ye*it},Ne=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return Ne=D,this},p.__private__.getR2L=p.getR2L=function(){return Ne};var We,tt=p.__private__.setZoomMode=function(D){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Pe=D;else if(isNaN(D)){if(J.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Pe=D}else Pe=parseInt(D,10)};p.__private__.getZoomMode=function(){return Pe};var ht,Nt=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');We=D};p.__private__.getPageMode=function(){return We};var Ot=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');ht=D};p.__private__.getLayoutMode=function(){return ht},p.__private__.setDisplayMode=p.setDisplayMode=function(D,J,we){return tt(D),Ot(J),Nt(we),this};var Et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(Et).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Et[D]},p.__private__.getDocumentProperties=function(){return Et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var J in Et)Et.hasOwnProperty(J)&&D[J]&&(Et[J]=D[J]);return this},p.__private__.setDocumentProperty=function(D,J){if(Object.keys(Et).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Et[D]=J};var ft,it,Fr,Dt,na,_r={},vn={},fo=[],Nr={},kl={},Cn={},Bs={},Jo=null,dn=0,Kt=[],Tr=new ZP(p),wc=e.hotfixes||[],Ia={},ho={},po=[],Bt=function D(J,we,je,Ie,Ge,nt){if(!(this instanceof D))return new D(J,we,je,Ie,Ge,nt);isNaN(J)&&(J=1),isNaN(we)&&(we=0),isNaN(je)&&(je=0),isNaN(Ie)&&(Ie=1),isNaN(Ge)&&(Ge=0),isNaN(nt)&&(nt=0),this._matrix=[J,we,je,Ie,Ge,nt]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(D)},Bt.prototype.multiply=function(D){var J=D.sx*this.sx+D.shy*this.shx,we=D.sx*this.shy+D.shy*this.sy,je=D.shx*this.sx+D.sy*this.shx,Ie=D.shx*this.shy+D.sy*this.sy,Ge=D.tx*this.sx+D.ty*this.shx+this.tx,nt=D.tx*this.shy+D.ty*this.sy+this.ty;return new Bt(J,we,je,Ie,Ge,nt)},Bt.prototype.decompose=function(){var D=this.sx,J=this.shy,we=this.shx,je=this.sy,Ie=this.tx,Ge=this.ty,nt=Math.sqrt(D*D+J*J),bt=(D/=nt)*we+(J/=nt)*je;we-=D*bt,je-=J*bt;var It=Math.sqrt(we*we+je*je);return bt/=It,D*(je/=It)<J*(we/=It)&&(D=-D,J=-J,bt=-bt,nt=-nt),{scale:new Bt(nt,0,0,It,0,0),translate:new Bt(1,0,0,1,Ie,Ge),rotate:new Bt(D,J,-J,D,0,0),skew:new Bt(1,0,bt,1,0,0)}},Bt.prototype.toString=function(D){return this.join(" ")},Bt.prototype.inversed=function(){var D=this.sx,J=this.shy,we=this.shx,je=this.sy,Ie=this.tx,Ge=this.ty,nt=1/(D*je-J*we),bt=je*nt,It=-J*nt,rr=-we*nt,Jt=D*nt;return new Bt(bt,It,rr,Jt,-bt*Ie-rr*Ge,-It*Ie-Jt*Ge)},Bt.prototype.applyToPoint=function(D){var J=D.x*this.sx+D.y*this.shx+this.tx,we=D.x*this.shy+D.y*this.sy+this.ty;return new Cf(J,we)},Bt.prototype.applyToRectangle=function(D){var J=this.applyToPoint(D),we=this.applyToPoint(new Cf(D.x+D.w,D.y+D.h));return new xm(J.x,J.y,we.x-J.x,we.y-J.y)},Bt.prototype.clone=function(){var D=this.sx,J=this.shy,we=this.shx,je=this.sy,Ie=this.tx,Ge=this.ty;return new Bt(D,J,we,je,Ie,Ge)},p.Matrix=Bt;var $s=p.matrixMult=function(D,J){return J.multiply(D)},vs=new Bt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=vs;var ki=function(D,J){if(!kl[D]){var we=(J instanceof nd?"Sh":"P")+(Object.keys(Nr).length+1).toString(10);J.id=we,kl[D]=we,Nr[we]=J,Tr.publish("addPattern",J)}};p.ShadingPattern=nd,p.TilingPattern=b0,p.addShadingPattern=function(D,J){return A("addShadingPattern()"),ki(D,J),this},p.beginTilingPattern=function(D){A("beginTilingPattern()"),Zg(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,J){A("endTilingPattern()"),J.stream=Ce[P].join(`
`),ki(D,J),Tr.publish("endTilingPattern",J),po.pop().restore()};var aa=p.__private__.newObject=function(){var D=Gn();return ee(D,!0),D},Gn=p.__private__.newObjectDeferred=function(){return X++,oe[X]=function(){return re},X},ee=function(D,J){return J=typeof J=="boolean"&&J,oe[D]=re,J&&ne(D+" 0 obj"),D},ge=p.__private__.newAdditionalObject=function(){var D={objId:Gn(),content:""};return ve.push(D),D},ue=Gn(),de=Gn(),xe=p.__private__.decodeColorString=function(D){var J=D.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var we=parseFloat(J[0]);J=[we,we,we,"r"]}for(var je="#",Ie=0;Ie<3;Ie++)je+=("0"+Math.floor(255*parseFloat(J[Ie])).toString(16)).slice(-2);return je},be=p.__private__.encodeColorString=function(D){var J;typeof D=="string"&&(D={ch1:D});var we=D.ch1,je=D.ch2,Ie=D.ch3,Ge=D.ch4,nt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var bt=new A$(we);if(bt.ok)we=bt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var It=parseInt(we.substr(1),16);we=It>>16&255,je=It>>8&255,Ie=255&It}if(je===void 0||Ge===void 0&&we===je&&je===Ie)if(typeof we=="string")J=we+" "+nt[0];else switch(D.precision){case 2:J=F(we/255)+" "+nt[0];break;case 3:default:J=O(we/255)+" "+nt[0]}else if(Ge===void 0||en(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return J=["1.","1.","1.",nt[1]].join(" ");if(typeof we=="string")J=[we,je,Ie,nt[1]].join(" ");else switch(D.precision){case 2:J=[F(we/255),F(je/255),F(Ie/255),nt[1]].join(" ");break;default:case 3:J=[O(we/255),O(je/255),O(Ie/255),nt[1]].join(" ")}}else if(typeof we=="string")J=[we,je,Ie,Ge,nt[2]].join(" ");else switch(D.precision){case 2:J=[F(we),F(je),F(Ie),F(Ge),nt[2]].join(" ");break;case 3:default:J=[O(we),O(je),O(Ie),O(Ge),nt[2]].join(" ")}return J},Re=p.__private__.getFilters=function(){return s},Ve=p.__private__.putStream=function(D){var J=(D=D||{}).data||"",we=D.filters||Re(),je=D.alreadyAppliedFilters||[],Ie=D.addLength1||!1,Ge=J.length,nt=D.objectId,bt=function(Oi){return Oi};if(d!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(bt=Ti.encryptor(nt,0));var It={};we===!0&&(we=["FlateEncode"]);var rr=D.additionalKeyValues||[],Jt=(It=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(J,we):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(It.data.length!==0&&(rr.push({key:"Length",value:It.data.length}),Ie===!0&&rr.push({key:"Length1",value:Ge})),Jt.length!=0)if(Jt.split("/").length-1==1)rr.push({key:"Filter",value:Jt});else{rr.push({key:"Filter",value:"["+Jt+"]"});for(var yr=0;yr<rr.length;yr+=1)if(rr[yr].key==="DecodeParms"){for(var $n=[],Yn=0;Yn<It.reverseChain.split("/").length-1;Yn+=1)$n.push("null");$n.push(rr[yr].value),rr[yr].value="["+$n.join(" ")+"]"}}ne("<<");for(var wa=0;wa<rr.length;wa++)ne("/"+rr[wa].key+" "+rr[wa].value);ne(">>"),It.data.length!==0&&(ne("stream"),ne(bt(It.data)),ne("endstream"))},Fe=p.__private__.putPage=function(D){var J=D.number,we=D.data,je=D.objId,Ie=D.contentsObjId;ee(je,!0),ne("<</Type /Page"),ne("/Parent "+D.rootDictionaryObjId+" 0 R"),ne("/Resources "+D.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(j(D.mediaBox.bottomLeftX))+" "+parseFloat(j(D.mediaBox.bottomLeftY))+" "+j(D.mediaBox.topRightX)+" "+j(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&ne("/CropBox ["+j(D.cropBox.bottomLeftX)+" "+j(D.cropBox.bottomLeftY)+" "+j(D.cropBox.topRightX)+" "+j(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&ne("/BleedBox ["+j(D.bleedBox.bottomLeftX)+" "+j(D.bleedBox.bottomLeftY)+" "+j(D.bleedBox.topRightX)+" "+j(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&ne("/TrimBox ["+j(D.trimBox.bottomLeftX)+" "+j(D.trimBox.bottomLeftY)+" "+j(D.trimBox.topRightX)+" "+j(D.trimBox.topRightY)+"]"),D.artBox!==null&&ne("/ArtBox ["+j(D.artBox.bottomLeftX)+" "+j(D.artBox.bottomLeftY)+" "+j(D.artBox.topRightX)+" "+j(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&ne("/UserUnit "+D.userUnit),Tr.publish("putPage",{objId:je,pageContext:Kt[J],pageNumber:J,page:we}),ne("/Contents "+Ie+" 0 R"),ne(">>"),ne("endobj");var Ge=we.join(`
`);return y===b.ADVANCED&&(Ge+=`
Q`),ee(Ie,!0),Ve({data:Ge,filters:Re(),objectId:Ie}),ne("endobj"),je},Ue=p.__private__.putPages=function(){var D,J,we=[];for(D=1;D<=dn;D++)Kt[D].objId=Gn(),Kt[D].contentsObjId=Gn();for(D=1;D<=dn;D++)we.push(Fe({number:D,data:Ce[D],objId:Kt[D].objId,contentsObjId:Kt[D].contentsObjId,mediaBox:Kt[D].mediaBox,cropBox:Kt[D].cropBox,bleedBox:Kt[D].bleedBox,trimBox:Kt[D].trimBox,artBox:Kt[D].artBox,userUnit:Kt[D].userUnit,rootDictionaryObjId:ue,resourceDictionaryObjId:de}));ee(ue,!0),ne("<</Type /Pages");var je="/Kids [";for(J=0;J<dn;J++)je+=we[J]+" 0 R ";ne(je+"]"),ne("/Count "+dn),ne(">>"),ne("endobj"),Tr.publish("postPutPages")},He=function(D){Tr.publish("putFont",{font:D,out:ne,newObject:aa,putStream:Ve}),D.isAlreadyPutted!==!0&&(D.objectNumber=aa(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+xh(D.postScriptName)),ne("/Subtype /Type1"),typeof D.encoding=="string"&&ne("/Encoding /"+D.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},at=function(){for(var D in _r)_r.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&He(_r[D])},ot=function(D){D.objectNumber=aa();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[j(D.x),j(D.y),j(D.x+D.width),j(D.y+D.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var we=D.pages[1].join(`
`);Ve({data:we,additionalKeyValues:J,objectId:D.objectNumber}),ne("endobj")},gt=function(){for(var D in Ia)Ia.hasOwnProperty(D)&&ot(Ia[D])},st=function(D,J){var we,je=[],Ie=1/(J-1);for(we=0;we<1;we+=Ie)je.push(we);if(je.push(1),D[0].offset!=0){var Ge={offset:0,color:D[0].color};D.unshift(Ge)}if(D[D.length-1].offset!=1){var nt={offset:1,color:D[D.length-1].color};D.push(nt)}for(var bt="",It=0,rr=0;rr<je.length;rr++){for(we=je[rr];we>D[It+1].offset;)It++;var Jt=D[It].offset,yr=(we-Jt)/(D[It+1].offset-Jt),$n=D[It].color,Yn=D[It+1].color;bt+=H(Math.round((1-yr)*$n[0]+yr*Yn[0]).toString(16))+H(Math.round((1-yr)*$n[1]+yr*Yn[1]).toString(16))+H(Math.round((1-yr)*$n[2]+yr*Yn[2]).toString(16))}return bt.trim()},xt=function(D,J){J||(J=21);var we=aa(),je=st(D.colors,J),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+J+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:je,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),ne("endobj"),D.objectNumber=aa(),ne("<< /ShadingType "+D.type),ne("/ColorSpace /DeviceRGB");var Ge="/Coords ["+j(parseFloat(D.coords[0]))+" "+j(parseFloat(D.coords[1]))+" ";D.type===2?Ge+=j(parseFloat(D.coords[2]))+" "+j(parseFloat(D.coords[3])):Ge+=j(parseFloat(D.coords[2]))+" "+j(parseFloat(D.coords[3]))+" "+j(parseFloat(D.coords[4]))+" "+j(parseFloat(D.coords[5])),ne(Ge+="]"),D.matrix&&ne("/Matrix ["+D.matrix.toString()+"]"),ne("/Function "+we+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Yt=function(D,J){var we=Gn(),je=aa();J.push({resourcesOid:we,objectOid:je}),D.objectNumber=je;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+D.boundingBox.map(j).join(" ")+"]"}),Ie.push({key:"XStep",value:j(D.xStep)}),Ie.push({key:"YStep",value:j(D.yStep)}),Ie.push({key:"Resources",value:we+" 0 R"}),D.matrix&&Ie.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ve({data:D.stream,additionalKeyValues:Ie,objectId:D.objectNumber}),ne("endobj")},zr=function(D){var J;for(J in Nr)Nr.hasOwnProperty(J)&&(Nr[J]instanceof nd?xt(Nr[J]):Nr[J]instanceof b0&&Yt(Nr[J],D))},an=function(D){for(var J in D.objectNumber=aa(),ne("<<"),D)switch(J){case"opacity":ne("/ca "+F(D[J]));break;case"stroke-opacity":ne("/CA "+F(D[J]))}ne(">>"),ne("endobj")},ya=function(){var D;for(D in Cn)Cn.hasOwnProperty(D)&&an(Cn[D])},Zo=function(){for(var D in ne("/XObject <<"),Ia)Ia.hasOwnProperty(D)&&Ia[D].objectNumber>=0&&ne("/"+D+" "+Ia[D].objectNumber+" 0 R");Tr.publish("putXobjectDict"),ne(">>")},_c=function(){Ti.oid=aa(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Ti.v),ne("/R "+Ti.r),ne("/U <"+Ti.toHexString(Ti.U)+">"),ne("/O <"+Ti.toHexString(Ti.O)+">"),ne("/P "+Ti.P),ne(">>"),ne("endobj")},Tl=function(){for(var D in ne("/Font <<"),_r)_r.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&ne("/"+D+" "+_r[D].objectNumber+" 0 R");ne(">>")},el=function(){if(Object.keys(Nr).length>0){for(var D in ne("/Shading <<"),Nr)Nr.hasOwnProperty(D)&&Nr[D]instanceof nd&&Nr[D].objectNumber>=0&&ne("/"+D+" "+Nr[D].objectNumber+" 0 R");Tr.publish("putShadingPatternDict"),ne(">>")}},Ol=function(D){if(Object.keys(Nr).length>0){for(var J in ne("/Pattern <<"),Nr)Nr.hasOwnProperty(J)&&Nr[J]instanceof p.TilingPattern&&Nr[J].objectNumber>=0&&Nr[J].objectNumber<D&&ne("/"+J+" "+Nr[J].objectNumber+" 0 R");Tr.publish("putTilingPatternDict"),ne(">>")}},zs=function(){if(Object.keys(Cn).length>0){var D;for(D in ne("/ExtGState <<"),Cn)Cn.hasOwnProperty(D)&&Cn[D].objectNumber>=0&&ne("/"+D+" "+Cn[D].objectNumber+" 0 R");Tr.publish("putGStateDict"),ne(">>")}},ia=function(D){ee(D.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Tl(),el(),Ol(D.objectOid),zs(),Zo(),ne(">>"),ne("endobj")},Lg=function(){var D=[];at(),ya(),gt(),zr(D),Tr.publish("putResources"),D.forEach(ia),ia({resourcesOid:de,objectOid:Number.MAX_SAFE_INTEGER}),Tr.publish("postPutResources")},Bg=function(){Tr.publish("putAdditionalObjects");for(var D=0;D<ve.length;D++){var J=ve[D];ee(J.objId,!0),ne(J.content),ne("endobj")}Tr.publish("postPutAdditionalObjects")},$g=function(D){vn[D.fontName]=vn[D.fontName]||{},vn[D.fontName][D.fontStyle]=D.id},om=function(D,J,we,je,Ie){var Ge={id:"F"+(Object.keys(_r).length+1).toString(10),postScriptName:D,fontName:J,fontStyle:we,encoding:je,isStandardFont:Ie||!1,metadata:{}};return Tr.publish("addFont",{font:Ge,instance:this}),_r[Ge.id]=Ge,$g(Ge),Ge.id},T5=function(D){for(var J=0,we=ce.length;J<we;J++){var je=om.call(this,D[J][0],D[J][1],D[J][2],ce[J][3],!0);f===!1&&(h[je]=!0);var Ie=D[J][0].split("-");$g({id:je,fontName:Ie[0],fontStyle:Ie[1]||""})}Tr.publish("addFonts",{fonts:_r,dictionary:vn})},tl=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(je){var J=je.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var we="Error in function "+J.split(`
`)[0].split("<")[0]+": "+je.message;if(!Wt.console)throw new Error(we);Wt.console.error(we,je),Wt.alert&&alert(we)}},D.foo.bar=D,D.foo},wf=function(D,J){var we,je,Ie,Ge,nt,bt,It,rr,Jt;if(Ie=(J=J||{}).sourceEncoding||"Unicode",nt=J.outputEncoding,(J.autoencode||nt)&&_r[ft].metadata&&_r[ft].metadata[Ie]&&_r[ft].metadata[Ie].encoding&&(Ge=_r[ft].metadata[Ie].encoding,!nt&&_r[ft].encoding&&(nt=_r[ft].encoding),!nt&&Ge.codePages&&(nt=Ge.codePages[0]),typeof nt=="string"&&(nt=Ge[nt]),nt)){for(It=!1,bt=[],we=0,je=D.length;we<je;we++)(rr=nt[D.charCodeAt(we)])?bt.push(String.fromCharCode(rr)):bt.push(D[we]),bt[we].charCodeAt(0)>>8&&(It=!0);D=bt.join("")}for(we=D.length;It===void 0&&we!==0;)D.charCodeAt(we-1)>>8&&(It=!0),we--;if(!It)return D;for(bt=J.noBOM?[]:[254,255],we=0,je=D.length;we<je;we++){if((Jt=(rr=D.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(Jt),bt.push(rr-(Jt<<8))}return String.fromCharCode.apply(void 0,bt)},bs=p.__private__.pdfEscape=p.pdfEscape=function(D,J){return wf(D,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lm=p.__private__.beginPage=function(D){Ce[++dn]=[],Kt[dn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Ug(dn),_e(Ce[P])},zg=function(D,J){var we,je,Ie;switch(r=J||r,typeof D=="string"&&(we=v(D.toLowerCase()),Array.isArray(we)&&(je=we[0],Ie=we[1])),Array.isArray(D)&&(je=D[0]*it,Ie=D[1]*it),isNaN(je)&&(je=a[0],Ie=a[1]),(je>14400||Ie>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Ie=Math.min(14400,Ie)),a=[je,Ie],r.substr(0,1)){case"l":Ie>je&&(a=[Ie,je]);break;case"p":je>Ie&&(a=[Ie,je])}lm(a),Yg(fm),ne(rl),pm!==0&&ne(pm+" J"),mm!==0&&ne(mm+" j"),Tr.publish("addPage",{pageNumber:dn})},O5=function(D){D>0&&D<=dn&&(Ce.splice(D,1),Kt.splice(D,1),dn--,P>dn&&(P=dn),this.setPage(P))},Ug=function(D){D>0&&D<=dn&&(P=D)},P5=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ce.length-1},Hg=function(D,J,we){var je,Ie=void 0;return we=we||{},D=D!==void 0?D:_r[ft].fontName,J=J!==void 0?J:_r[ft].fontStyle,je=D.toLowerCase(),vn[je]!==void 0&&vn[je][J]!==void 0?Ie=vn[je][J]:vn[D]!==void 0&&vn[D][J]!==void 0?Ie=vn[D][J]:we.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+D+"', '"+J+"'. Refer to getFontList() for available fonts."),Ie||we.noFallback||(Ie=vn.times[J])==null&&(Ie=vn.times.normal),Ie},D5=p.__private__.putInfo=function(){var D=aa(),J=function(je){return je};for(var we in d!==null&&(J=Ti.encryptor(D,0)),ne("<<"),ne("/Producer ("+bs(J("jsPDF "+Ft.version))+")"),Et)Et.hasOwnProperty(we)&&Et[we]&&ne("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+bs(J(Et[we]))+")");ne("/CreationDate ("+bs(J(G))+")"),ne(">>"),ne("endobj")},cm=p.__private__.putCatalog=function(D){var J=(D=D||{}).rootDictionaryObjId||ue;switch(aa(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+J+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+Pe;we.substr(we.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+F(Pe)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}We&&ne("/PageMode /"+We),Tr.publish("putCatalog"),ne(">>"),ne("endobj")},I5=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(X+1)),ne("/Root "+X+" 0 R"),ne("/Info "+(X-1)+" 0 R"),d!==null&&ne("/Encrypt "+Ti.oid+" 0 R"),ne("/ID [ <"+z+"> <"+z+"> ]"),ne(">>")},M5=p.__private__.putHeader=function(){ne("%PDF-"+m),ne("%ºß¬à")},F5=p.__private__.putXRef=function(){var D="0000000000";ne("xref"),ne("0 "+(X+1)),ne("0000000000 65535 f ");for(var J=1;J<=X;J++)typeof oe[J]=="function"?ne((D+oe[J]()).slice(-10)+" 00000 n "):oe[J]!==void 0?ne((D+oe[J]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Nc=p.__private__.buildDocument=function(){Le(),_e(fe),Tr.publish("buildDocument"),M5(),Ue(),Bg(),Lg(),d!==null&&_c(),D5(),cm();var D=re;return F5(),I5(),ne("startxref"),ne(""+D),ne("%%EOF"),_e(Ce[P]),fe.join(`
`)},_f=p.__private__.getBlob=function(D){return new Blob([se(D)],{type:"application/pdf"})},Nf=p.output=p.__private__.output=tl(function(D,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",D){case void 0:return Nc();case"save":p.save(J.filename);break;case"arraybuffer":return se(Nc());case"blob":return _f(Nc());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(_f(Nc()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",je=Nc();try{we=gj(je)}catch{we=gj(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+J.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ie=J.pdfObjectUrl,Ge="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",bt=Wt.open();return bt!==null&&bt.document.write(nt),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var It='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',rr=Wt.open();if(rr!==null){rr.document.write(It);var Jt=this;rr.document.documentElement.querySelector("#pdfViewer").onload=function(){rr.document.title=J.filename,rr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return rr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',$n=Wt.open();if($n!==null&&($n.document.write(yr),$n.document.title=J.filename),$n||typeof safari>"u")return $n;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",J);default:return null}}),Wg=function(D){return Array.isArray(wc)===!0&&wc.indexOf(D)>-1};switch(n){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Wg("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);it=n}var Ti=null;he(),Y();var R5=function(D){return d!==null?Ti.encryptor(D,0):function(J){return J}},Vg=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kt[D].objId,pageNumber:D,pageContext:Kt[D]}},Qt=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Kt)if(Kt[J].objId===D)break;return Vg(J)},L5=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Kt[P].objId,pageNumber:P,pageContext:Kt[P]}};p.addPage=function(){return zg.apply(this,arguments),this},p.setPage=function(){return Ug.apply(this,arguments),_e.call(this,Ce[P]),this},p.insertPage=function(D){return this.addPage(),this.movePage(P,D),this},p.movePage=function(D,J){var we,je;if(D>J){we=Ce[D],je=Kt[D];for(var Ie=D;Ie>J;Ie--)Ce[Ie]=Ce[Ie-1],Kt[Ie]=Kt[Ie-1];Ce[J]=we,Kt[J]=je,this.setPage(J)}else if(D<J){we=Ce[D],je=Kt[D];for(var Ge=D;Ge<J;Ge++)Ce[Ge]=Ce[Ge+1],Kt[Ge]=Kt[Ge+1];Ce[J]=we,Kt[J]=je,this.setPage(J)}return this},p.deletePage=function(){return O5.apply(this,arguments),this},p.__private__.text=p.text=function(D,J,we,je,Ie){var Ge,nt,bt,It,rr,Jt,yr,$n,Yn,wa=(je=je||{}).scope||this;if(typeof D=="number"&&typeof J=="number"&&(typeof we=="string"||Array.isArray(we))){var Oi=we;we=J,J=D,D=Oi}if(arguments[3]instanceof Bt?(A("The transform parameter of text() with a Matrix value"),Yn=Ie):(bt=arguments[4],It=arguments[5],en(yr=arguments[3])==="object"&&yr!==null||(typeof bt=="string"&&(It=bt,bt=null),typeof yr=="string"&&(It=yr,yr=null),typeof yr=="number"&&(bt=yr,yr=null),je={flags:yr,angle:bt,align:It})),isNaN(J)||isNaN(we)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return wa;var Ja="",nl=!1,Us=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Fd,Il=wa.internal.scaleFactor;function ev(bn){return bn=bn.split("	").join(Array(je.TabLen||9).join(" ")),bs(bn,yr)}function ym(bn){for(var yn,oa=bn.concat(),Ma=[],Ec=oa.length;Ec--;)typeof(yn=oa.shift())=="string"?Ma.push(yn):Array.isArray(bn)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?Ma.push(yn[0]):Ma.push([yn[0],yn[1],yn[2]]);return Ma}function wm(bn,yn){var oa;if(typeof bn=="string")oa=yn(bn)[0];else if(Array.isArray(bn)){for(var Ma,Ec,km=bn.concat(),Lf=[],iv=km.length;iv--;)typeof(Ma=km.shift())=="string"?Lf.push(yn(Ma)[0]):Array.isArray(Ma)&&typeof Ma[0]=="string"&&(Ec=yn(Ma[0],Ma[1],Ma[2]),Lf.push([Ec[0],Ec[1],Ec[2]]));oa=Lf}return oa}var kf=!1,_m=!0;if(typeof D=="string")kf=!0;else if(Array.isArray(D)){var Nm=D.concat();nt=[];for(var Tf,mi=Nm.length;mi--;)(typeof(Tf=Nm.shift())!="string"||Array.isArray(Tf)&&typeof Tf[0]!="string")&&(_m=!1);kf=_m}if(kf===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Of=ye/wa.internal.scaleFactor,Pf=Of*(Us-1);switch(je.baseline){case"bottom":we-=Pf;break;case"top":we+=Of-Pf;break;case"hanging":we+=Of-2*Pf;break;case"middle":we+=Of/2-Pf}if((Jt=je.maxWidth||0)>0&&(typeof D=="string"?D=wa.splitTextToSize(D,Jt):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(bn,yn){return bn.concat(wa.splitTextToSize(yn,Jt))},[]))),Ge={text:D,x:J,y:we,options:je,mutex:{pdfEscape:bs,activeFontKey:ft,fonts:_r,activeFontSize:ye}},Tr.publish("preProcessText",Ge),D=Ge.text,bt=(je=Ge.options).angle,!(Yn instanceof Bt)&&bt&&typeof bt=="number"){bt*=Math.PI/180,je.rotationDirection===0&&(bt=-bt),y===b.ADVANCED&&(bt=-bt);var Df=Math.cos(bt),jm=Math.sin(bt);Yn=new Bt(Df,jm,-jm,Df,0,0)}else bt&&bt instanceof Bt&&(Yn=bt);y!==b.ADVANCED||Yn||(Yn=vs),(rr=je.charSpace||Af)!==void 0&&(Ja+=j(E(rr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=je.horizontalScale)!==void 0&&(Ja+=j(100*$n)+` Tz
`),je.lang;var ys=-1,Y5=je.renderingMode!==void 0?je.renderingMode:je.stroke,Sm=wa.internal.getCurrentPageInfo().pageContext;switch(Y5){case 0:case!1:case"fill":ys=0;break;case 1:case!0:case"stroke":ys=1;break;case 2:case"fillThenStroke":ys=2;break;case 3:case"invisible":ys=3;break;case 4:case"fillAndAddForClipping":ys=4;break;case 5:case"strokeAndAddPathForClipping":ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ys=6;break;case 7:case"addToPathForClipping":ys=7}var tv=Sm.usedRenderingMode!==void 0?Sm.usedRenderingMode:-1;ys!==-1?Ja+=ys+` Tr
`:tv!==-1&&(Ja+=`0 Tr
`),ys!==-1&&(Sm.usedRenderingMode=ys),It=je.align||"left";var mo,If=ye*Us,rv=wa.internal.pageSize.getWidth(),nv=_r[ft];rr=je.charSpace||Af,Jt=je.maxWidth||0,yr=Object.assign({autoencode:!0,noBOM:!0},je.flags);var Nu=[],Bd=function(bn){return wa.getStringUnitWidth(bn,{font:nv,charSpace:rr,fontSize:ye,doKerning:!1})*ye/Il};if(Object.prototype.toString.call(D)==="[object Array]"){var ws;nt=ym(D),It!=="left"&&(mo=nt.map(Bd));var Ji,ju=0;if(It==="right"){J-=mo[0],D=[],mi=nt.length;for(var Sc=0;Sc<mi;Sc++)Sc===0?(Ji=Dl(J),ws=jc(we)):(Ji=E(ju-mo[Sc]),ws=-If),D.push([nt[Sc],Ji,ws]),ju=mo[Sc]}else if(It==="center"){J-=mo[0]/2,D=[],mi=nt.length;for(var Ac=0;Ac<mi;Ac++)Ac===0?(Ji=Dl(J),ws=jc(we)):(Ji=E((ju-mo[Ac])/2),ws=-If),D.push([nt[Ac],Ji,ws]),ju=mo[Ac]}else if(It==="left"){D=[],mi=nt.length;for(var Mf=0;Mf<mi;Mf++)D.push(nt[Mf])}else if(It==="justify"&&nv.encoding==="Identity-H"){D=[],mi=nt.length,Jt=Jt!==0?Jt:rv;for(var Cc=0,sa=0;sa<mi;sa++)if(ws=sa===0?jc(we):-If,Ji=sa===0?Dl(J):Cc,sa<mi-1){var Am=E((Jt-mo[sa])/(nt[sa].split(" ").length-1)),Zi=nt[sa].split(" ");D.push([Zi[0]+" ",Ji,ws]),Cc=0;for(var xo=1;xo<Zi.length;xo++){var Ff=(Bd(Zi[xo-1]+" "+Zi[xo])-Bd(Zi[xo]))*Il+Am;xo==Zi.length-1?D.push([Zi[xo],Ff,0]):D.push([Zi[xo]+" ",Ff,0]),Cc-=Ff}}else D.push([nt[sa],Ji,ws]);D.push(["",Cc,0])}else{if(It!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],mi=nt.length,Jt=Jt!==0?Jt:rv,sa=0;sa<mi;sa++)ws=sa===0?jc(we):-If,Ji=sa===0?Dl(J):0,sa<mi-1?Nu.push(j(E((Jt-mo[sa])/(nt[sa].split(" ").length-1)))):Nu.push(0),D.push([nt[sa],Ji,ws])}}var av=typeof je.R2L=="boolean"?je.R2L:Ne;av===!0&&(D=wm(D,function(bn,yn,oa){return[bn.split("").reverse().join(""),yn,oa]})),Ge={text:D,x:J,y:we,options:je,mutex:{pdfEscape:bs,activeFontKey:ft,fonts:_r,activeFontSize:ye}},Tr.publish("postProcessText",Ge),D=Ge.text,nl=Ge.mutex.isHex||!1;var Cm=_r[ft].encoding;Cm!=="WinAnsiEncoding"&&Cm!=="StandardEncoding"||(D=wm(D,function(bn,yn,oa){return[ev(bn),yn,oa]})),nt=ym(D),D=[];for(var $d,zd,Su,Ud=0,Rf=1,Hd=Array.isArray(nt[0])?Rf:Ud,Au="",Em=function(bn,yn,oa){var Ma="";return oa instanceof Bt?(oa=typeof je.angle=="number"?$s(oa,new Bt(1,0,0,1,bn,yn)):$s(new Bt(1,0,0,1,bn,yn),oa),y===b.ADVANCED&&(oa=$s(new Bt(1,0,0,-1,0,0),oa)),Ma=oa.join(" ")+` Tm
`):Ma=j(bn)+" "+j(yn)+` Td
`,Ma},go=0;go<nt.length;go++){switch(Au="",Hd){case Rf:Su=(nl?"<":"(")+nt[go][0]+(nl?">":")"),$d=parseFloat(nt[go][1]),zd=parseFloat(nt[go][2]);break;case Ud:Su=(nl?"<":"(")+nt[go]+(nl?">":")"),$d=Dl(J),zd=jc(we)}Nu!==void 0&&Nu[go]!==void 0&&(Au=Nu[go]+` Tw
`),go===0?D.push(Au+Em($d,zd,Yn)+Su):Hd===Ud?D.push(Au+Su):Hd===Rf&&D.push(Au+Em($d,zd,Yn)+Su)}D=Hd===Ud?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var vo=`BT
/`;return vo+=ft+" "+ye+` Tf
`,vo+=j(ye*Us)+` TL
`,vo+=Rd+`
`,vo+=Ja,vo+=D,ne(vo+="ET"),h[ft]=!0,wa};var B5=p.__private__.clip=p.clip=function(D){return ne(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return B5("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Pl=p.__private__.isValidStyle=function(D){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(J=!0),J};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return Pl(D)&&(u=D),this};var qg=p.__private__.getStyle=p.getStyle=function(D){var J=u;switch(D){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=D}return J},Gg=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(D){return jf("f",D),this},p.fillEvenOdd=function(D){return jf("f*",D),this},p.fillStroke=function(D){return jf("B",D),this},p.fillStrokeEvenOdd=function(D){return jf("B*",D),this};var jf=function(D,J){en(J)==="object"?z5(J,D):ne(D)},um=function(D){D===null||y===b.ADVANCED&&D===void 0||(D=qg(D),ne(D))};function $5(D,J,we,je,Ie){var Ge=new b0(J||this.boundingBox,we||this.xStep,je||this.yStep,this.gState,Ie||this.matrix);Ge.stream=this.stream;var nt=D+"$$"+this.cloneIndex+++"$$";return ki(nt,Ge),Ge}var z5=function(D,J){var we=kl[D.key],je=Nr[we];if(je instanceof nd)ne("q"),ne(U5(J)),je.gState&&p.setGState(je.gState),ne(D.matrix.toString()+" cm"),ne("/"+we+" sh"),ne("Q");else if(je instanceof b0){var Ie=new Bt(1,0,0,-1,0,_u());D.matrix&&(Ie=Ie.multiply(D.matrix||vs),we=$5.call(je,D.key,D.boundingBox,D.xStep,D.yStep,Ie).id),ne("q"),ne("/Pattern cs"),ne("/"+we+" scn"),je.gState&&p.setGState(je.gState),ne(J),ne("Q")}},U5=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},dm=p.moveTo=function(D,J){return ne(j(E(D))+" "+j(B(J))+" m"),this},Md=p.lineTo=function(D,J){return ne(j(E(D))+" "+j(B(J))+" l"),this},yu=p.curveTo=function(D,J,we,je,Ie,Ge){return ne([j(E(D)),j(B(J)),j(E(we)),j(B(je)),j(E(Ie)),j(B(Ge)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,J,we,je,Ie){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(je)||!Pl(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return y===b.COMPAT?this.lines([[we-D,je-J]],D,J,[1,1],Ie||"S"):this.lines([[we-D,je-J]],D,J,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,J,we,je,Ie,Ge){var nt,bt,It,rr,Jt,yr,$n,Yn,wa,Oi,Ja,nl;if(typeof D=="number"&&(nl=we,we=J,J=D,D=nl),je=je||[1,1],Ge=Ge||!1,isNaN(J)||isNaN(we)||!Array.isArray(D)||!Array.isArray(je)||!Pl(Ie)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(dm(J,we),nt=je[0],bt=je[1],rr=D.length,Oi=J,Ja=we,It=0;It<rr;It++)(Jt=D[It]).length===2?(Oi=Jt[0]*nt+Oi,Ja=Jt[1]*bt+Ja,Md(Oi,Ja)):(yr=Jt[0]*nt+Oi,$n=Jt[1]*bt+Ja,Yn=Jt[2]*nt+Oi,wa=Jt[3]*bt+Ja,Oi=Jt[4]*nt+Oi,Ja=Jt[5]*bt+Ja,yu(yr,$n,Yn,wa,Oi,Ja));return Ge&&Gg(),um(Ie),this},p.path=function(D){for(var J=0;J<D.length;J++){var we=D[J],je=we.c;switch(we.op){case"m":dm(je[0],je[1]);break;case"l":Md(je[0],je[1]);break;case"c":yu.apply(this,je);break;case"h":Gg()}}return this},p.__private__.rect=p.rect=function(D,J,we,je,Ie){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(je)||!Pl(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return y===b.COMPAT&&(je=-je),ne([j(E(D)),j(B(J)),j(E(we)),j(E(je)),"re"].join(" ")),um(Ie),this},p.__private__.triangle=p.triangle=function(D,J,we,je,Ie,Ge,nt){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(je)||isNaN(Ie)||isNaN(Ge)||!Pl(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-D,je-J],[Ie-we,Ge-je],[D-Ie,J-Ge]],D,J,[1,1],nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,J,we,je,Ie,Ge,nt){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(je)||isNaN(Ie)||isNaN(Ge)||!Pl(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*we),Ge=Math.min(Ge,.5*je),this.lines([[we-2*Ie,0],[Ie*bt,0,Ie,Ge-Ge*bt,Ie,Ge],[0,je-2*Ge],[0,Ge*bt,-Ie*bt,Ge,-Ie,Ge],[2*Ie-we,0],[-Ie*bt,0,-Ie,-Ge*bt,-Ie,-Ge],[0,2*Ge-je],[0,-Ge*bt,Ie*bt,-Ge,Ie,-Ge]],D+Ie,J,[1,1],nt,!0),this},p.__private__.ellipse=p.ellipse=function(D,J,we,je,Ie){if(isNaN(D)||isNaN(J)||isNaN(we)||isNaN(je)||!Pl(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*we,nt=4/3*(Math.SQRT2-1)*je;return dm(D+we,J),yu(D+we,J-nt,D+Ge,J-je,D,J-je),yu(D-Ge,J-je,D-we,J-nt,D-we,J),yu(D-we,J+nt,D-Ge,J+je,D,J+je),yu(D+Ge,J+je,D+we,J+nt,D+we,J),um(Ie),this},p.__private__.circle=p.circle=function(D,J,we,je){if(isNaN(D)||isNaN(J)||isNaN(we)||!Pl(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,J,we,we,je)},p.setFont=function(D,J,we){return we&&(J=S(J,we)),ft=Hg(D,J,{disableWarning:!1}),this};var H5=p.__private__.getFont=p.getFont=function(){return _r[Hg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,J,we={};for(D in vn)if(vn.hasOwnProperty(D))for(J in we[D]=[],vn[D])vn[D].hasOwnProperty(J)&&we[D].push(J);return we},p.addFont=function(D,J,we,je,Ie){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(we=S(we,je)),Ie=Ie||"Identity-H",om.call(this,D,J,we,Ie)};var Fd,fm=e.lineWidth||.200025,Sf=p.__private__.getLineWidth=p.getLineWidth=function(){return fm},Yg=p.__private__.setLineWidth=p.setLineWidth=function(D){return fm=D,ne(j(E(D))+" w"),this};p.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(D,J){if(D=D||[],J=J||0,isNaN(J)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(we){return j(E(we))}).join(" "),J=j(E(J)),ne("["+D+"] "+J+" d"),this};var Xg=p.__private__.getLineHeight=p.getLineHeight=function(){return ye*Fd};p.__private__.getLineHeight=p.getLineHeight=function(){return ye*Fd};var Kg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Fd=D),this},Qg=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Fd};Kg(e.lineHeight);var Dl=p.__private__.getHorizontalCoordinate=function(D){return E(D)},jc=p.__private__.getVerticalCoordinate=function(D){return y===b.ADVANCED?D:Kt[P].mediaBox.topRightY-Kt[P].mediaBox.bottomLeftY-E(D)},W5=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return j(Dl(D))},wu=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return j(jc(D))},rl=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(rl)},p.__private__.setStrokeColor=p.setDrawColor=function(D,J,we,je){return rl=be({ch1:D,ch2:J,ch3:we,ch4:je,pdfColorType:"draw",precision:2}),ne(rl),this};var hm=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(hm)},p.__private__.setFillColor=p.setFillColor=function(D,J,we,je){return hm=be({ch1:D,ch2:J,ch3:we,ch4:je,pdfColorType:"fill",precision:2}),ne(hm),this};var Rd=e.textColor||"0 g",V5=p.__private__.getTextColor=p.getTextColor=function(){return xe(Rd)};p.__private__.setTextColor=p.setTextColor=function(D,J,we,je){return Rd=be({ch1:D,ch2:J,ch3:we,ch4:je,pdfColorType:"text",precision:3}),this};var Af=e.charSpace,q5=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Af||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Af=D,this};var pm=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var J=p.CapJoinStyles[D];if(J===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pm=J,ne(J+" J"),this};var mm=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var J=p.CapJoinStyles[D];if(J===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mm=J,ne(J+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(j(E(D))+" M"),this},p.GState=V1,p.setGState=function(D){(D=typeof D=="string"?Cn[Bs[D]]:Jg(null,D)).equals(Jo)||(ne("/"+D.id+" gs"),Jo=D)};var Jg=function(D,J){if(!D||!Bs[D]){var we=!1;for(var je in Cn)if(Cn.hasOwnProperty(je)&&Cn[je].equals(J)){we=!0;break}if(we)J=Cn[je];else{var Ie="GS"+(Object.keys(Cn).length+1).toString(10);Cn[Ie]=J,J.id=Ie}return D&&(Bs[D]=J.id),Tr.publish("addGState",J),J}};p.addGState=function(D,J){return Jg(D,J),this},p.saveGraphicsState=function(){return ne("q"),fo.push({key:ft,size:ye,color:Rd}),this},p.restoreGraphicsState=function(){ne("Q");var D=fo.pop();return ft=D.key,ye=D.size,Rd=D.color,Jo=null,this},p.setCurrentTransformationMatrix=function(D){return ne(D.toString()+" cm"),this},p.comment=function(D){return ne("#"+D),this};var Cf=function(D,J){var we=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(Ge){isNaN(Ge)||(we=parseFloat(Ge))}});var je=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Ge){isNaN(Ge)||(je=parseFloat(Ge))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Ge){Ie=Ge.toString()}}),this},xm=function(D,J,we,je){Cf.call(this,D,J),this.type="rect";var Ie=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(nt){isNaN(nt)||(Ie=parseFloat(nt))}});var Ge=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(nt){isNaN(nt)||(Ge=parseFloat(nt))}}),this},gm=function(){this.page=dn,this.currentPage=P,this.pages=Ce.slice(0),this.pagesContext=Kt.slice(0),this.x=Fr,this.y=Dt,this.matrix=na,this.width=Ld(P),this.height=_u(P),this.outputDestination=Me,this.id="",this.objectNumber=-1};gm.prototype.restore=function(){dn=this.page,P=this.currentPage,Kt=this.pagesContext,Ce=this.pages,Fr=this.x,Dt=this.y,na=this.matrix,vm(P,this.width),bm(P,this.height),Me=this.outputDestination};var Zg=function(D,J,we,je,Ie){po.push(new gm),dn=P=0,Ce=[],Fr=D,Dt=J,na=Ie,lm([we,je])},G5=function(D){if(ho[D])po.pop().restore();else{var J=new gm,we="Xo"+(Object.keys(Ia).length+1).toString(10);J.id=we,ho[D]=we,Ia[we]=J,Tr.publish("addFormObject",J),po.pop().restore()}};for(var Ef in p.beginFormObject=function(D,J,we,je,Ie){return Zg(D,J,we,je,Ie),this},p.endFormObject=function(D){return G5(D),this},p.doFormObject=function(D,J){var we=Ia[ho[D]];return ne("q"),ne(J.toString()+" cm"),ne("/"+we.id+" Do"),ne("Q"),this},p.getFormObject=function(D){var J=Ia[ho[D]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},p.save=function(D,J){return D=D||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(i0(_f(Nc()),D),typeof i0.unload=="function"&&Wt.setTimeout&&setTimeout(i0.unload,911),this):new Promise(function(we,je){try{var Ie=i0(_f(Nc()),D);typeof i0.unload=="function"&&Wt.setTimeout&&setTimeout(i0.unload,911),we(Ie)}catch(Ge){je(Ge.message)}})},Ft.API)Ft.API.hasOwnProperty(Ef)&&(Ef==="events"&&Ft.API.events.length?function(D,J){var we,je,Ie;for(Ie=J.length-1;Ie!==-1;Ie--)we=J[Ie][0],je=J[Ie][1],D.subscribe.apply(D,[we].concat(typeof je=="function"?[je]:je))}(Tr,Ft.API.events):p[Ef]=Ft.API[Ef]);var Ld=p.getPageWidth=function(D){return(Kt[D=D||P].mediaBox.topRightX-Kt[D].mediaBox.bottomLeftX)/it},vm=p.setPageWidth=function(D,J){Kt[D].mediaBox.topRightX=J*it+Kt[D].mediaBox.bottomLeftX},_u=p.getPageHeight=function(D){return(Kt[D=D||P].mediaBox.topRightY-Kt[D].mediaBox.bottomLeftY)/it},bm=p.setPageHeight=function(D,J){Kt[D].mediaBox.topRightY=J*it+Kt[D].mediaBox.bottomLeftY};return p.internal={pdfEscape:bs,getStyle:qg,getFont:H5,getFontSize:Te,getCharSpace:q5,getTextColor:V5,getLineHeight:Xg,getLineHeightFactor:Qg,getLineWidth:Sf,write:De,getHorizontalCoordinate:Dl,getVerticalCoordinate:jc,getCoordinateString:W5,getVerticalCoordinateString:wu,collections:{},newObject:aa,newAdditionalObject:ge,newObjectDeferred:Gn,newObjectDeferredBegin:ee,getFilters:Re,putStream:Ve,events:Tr,scaleFactor:it,pageSize:{getWidth:function(){return Ld(P)},setWidth:function(D){vm(P,D)},getHeight:function(){return _u(P)},setHeight:function(D){bm(P,D)}},encryptionOptions:d,encryption:Ti,getEncryptor:R5,output:Nf,getNumberOfPages:P5,pages:Ce,out:ne,f2:F,f3:O,getPageInfo:Vg,getPageInfoByObjId:Qt,getCurrentPageInfo:L5,getPDFVersion:x,Point:Cf,Rectangle:xm,Matrix:Bt,hasHotfix:Wg},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ld(P)},set:function(D){vm(P,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return _u(P)},set:function(D){bm(P,D)},enumerable:!0,configurable:!0}),T5.call(p,ce),ft="F1",zg(a,r),Tr.publish("initialized"),p}mh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},mh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},mh.prototype.processOwnerPassword=function(e,t){return bj(vj(t).substr(0,5),e)},mh.prototype.encryptor=function(e,t){var r=vj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return bj(r,n)}},V1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||en(e)!==en(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ft.API={events:[]},Ft.version="2.5.2";var Qn=Ft.API,_C=1,vf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(e){return e.toFixed(2)},Lu=function(e){return e.toFixed(5)};Qn.__acroform__={};var Rs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},eD=function(e){return e*_C},Bl=function(e){var t=new T$,r=St.internal.getHeight(e)||0,n=St.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Zt(n)),Number(Zt(r))],t},EPe=Qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},kPe=Qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},TPe=Qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},da=Qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TPe(e,t-1)},fa=Qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return EPe(e,t-1)},ha=Qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kPe(e,t-1)},OPe=Qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Zt(c.lowerLeft_X)),Number(Zt(c.lowerLeft_Y)),Number(Zt(c.upperRight_X)),Number(Zt(c.upperRight_Y))]},PPe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=yj(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Zt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Bl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},yj=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var i=r,s=St.internal.getHeight(e)||0;s=s<0?-s:s;var l=St.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,E,L){if(O+1<a.length){var B=E+" "+a[O+1][0];return c2(B,e,L).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=c2("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,m=0,x=0,g=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+c2(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var v="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var _=!1;if(a[y].length!==1&&g!==a[y].length-1){if((f+2)*(b+2)+2>s)continue e;v+=a[y][g],_=!0,x=y,y--}else{v=(v+=a[y][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(y),S=c(N,v,i),j=y>=a.length-1;if(S&&!j){v+=" ",g=0;continue}if(S||j){if(j)x=N;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;x=N}}for(var A="",T=m;T<=x;T++){var F=a[T];if(e.multiline){if(T===x){A+=F[g]+" ",g=(g+1)%F.length;continue}if(T===m){A+=F[F.length-1]+" ";continue}}A+=F[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=c2(A,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=Zt(u)+" "+Zt(p)+` Td
`,t+="("+vf(A)+`) Tj
`,t+=-Zt(u)+` 0 Td
`,p=-(i+2),d=0,m=_?x:x+1,b++,v=""}break}return n.text=t,n.fontSize=i,n},c2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},DPe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},IPe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},MPe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),en(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},FPe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Al.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(DPe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_C=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new O$,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&IPe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=OPe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=St.createDefaultAppearanceStream(l),en(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=PPe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var m=p[s];typeof m=="function"&&(m=m.call(a,l)),f+="/"+s+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(a,l)),f+="/"+s+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&MPe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},k$=Qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),en(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+vf(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+vf(n(e))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:k$(a,this.objId,this.scope)}):a instanceof ec?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var T$=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Rs(T$,ec);var O$=function(){ec.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+vf(r(e))+")"}},set:function(r){e=r}})};Rs(O$,ec);var Al=function e(){ec.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!da(t,3)},set:function(v){v?this.F=fa(t,3):this.F=ha(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Iy)return;i="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+vf(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/_C:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Iy||this instanceof pd))return w4(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $a?h:w4(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof $a?v:v.substr(0,1)==="("?Zf(v.substr(1,v.length-2)):Zf(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a?Zf(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof $a?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $a?p:w4(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof $a?v:v.substr(0,1)==="("?Zf(v.substr(1,v.length-2)):Zf(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a?Zf(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof $a?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,1)},set:function(v){v?this.Ff=fa(this.Ff,1):this.Ff=ha(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,2)},set:function(v){v?this.Ff=fa(this.Ff,2):this.Ff=ha(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,3)},set:function(v){v?this.Ff=fa(this.Ff,3):this.Ff=ha(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Rs(Al,ec);var D0=function(){Al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return k$(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,l){l||(l=1);for(var c,u=[];c=s.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,18)},set:function(r){r?this.Ff=fa(this.Ff,18):this.Ff=ha(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=fa(this.Ff,19):this.Ff=ha(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,20)},set:function(r){r?(this.Ff=fa(this.Ff,20),t.sort()):this.Ff=ha(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,22)},set:function(r){r?this.Ff=fa(this.Ff,22):this.Ff=ha(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(r){r?this.Ff=fa(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,27)},set:function(r){r?this.Ff=fa(this.Ff,27):this.Ff=ha(this.Ff,27)}}),this.hasAppearanceStream=!1};Rs(D0,Al);var I0=function(){D0.call(this),this.fontName="helvetica",this.combo=!1};Rs(I0,D0);var M0=function(){I0.call(this),this.combo=!0};Rs(M0,I0);var Mx=function(){M0.call(this),this.edit=!0};Rs(Mx,M0);var $a=function(){Al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,15)},set:function(r){r?this.Ff=fa(this.Ff,15):this.Ff=ha(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,16)},set:function(r){r?this.Ff=fa(this.Ff,16):this.Ff=ha(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,17)},set:function(r){r?this.Ff=fa(this.Ff,17):this.Ff=ha(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(r){r?this.Ff=fa(this.Ff,26):this.Ff=ha(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+vf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){en(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Rs($a,Al);var Fx=function(){$a.call(this),this.pushButton=!0};Rs(Fx,$a);var F0=function(){$a.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Rs(F0,$a);var Iy=function(){var e,t;Al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+vf(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){en(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Rs(Iy,Al),F0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},F0.prototype.createOption=function(e){var t=new Iy;return t.Parent=this,t.optionName=e,this.Kids.push(t),RPe.call(this.scope,t),t};var Rx=function(){$a.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Rs(Rx,$a);var pd=function(){Al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,13)},set:function(t){t?this.Ff=fa(this.Ff,13):this.Ff=ha(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,21)},set:function(t){t?this.Ff=fa(this.Ff,21):this.Ff=ha(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(t){t?this.Ff=fa(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,24)},set:function(t){t?this.Ff=fa(this.Ff,24):this.Ff=ha(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,25)},set:function(t){t?this.Ff=fa(this.Ff,25):this.Ff=ha(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(t){t?this.Ff=fa(this.Ff,26):this.Ff=ha(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Rs(pd,Al);var Lx=function(){pd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,14)},set:function(e){e?this.Ff=fa(this.Ff,14):this.Ff=ha(this.Ff,14)}}),this.password=!0};Rs(Lx,pd);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=yj(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Zt(St.internal.getWidth(e))+" "+Zt(St.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Zt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=St.internal.getHeight(e),s=St.internal.getWidth(e),l=yj(e,e.caption);return a.push("1 g"),a.push("0 0 "+Zt(s)+" "+Zt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Zt(s-1)+" "+Zt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Zt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(St.internal.getWidth(e))+" "+Zt(St.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Circle.YesNormal,t.D[e]=St.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=St.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Lu(St.internal.getWidth(e)/2)+" "+Lu(St.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*St.internal.Bezier_C).toFixed(5)),s=Number((n*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lu(St.internal.getWidth(e)/2)+" "+Lu(St.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Lu(St.internal.getWidth(e)/2)+" "+Lu(St.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Lu(St.internal.getWidth(e)/2)+" "+Lu(St.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Cross.YesNormal,t.D[e]=St.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bl(e);t.scope=e.scope;var r=[],n=St.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Zt(St.internal.getWidth(e)-2)+" "+Zt(St.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(n.x1.x)+" "+Zt(n.x1.y)+" m"),r.push(Zt(n.x2.x)+" "+Zt(n.x2.y)+" l"),r.push(Zt(n.x4.x)+" "+Zt(n.x4.y)+" m"),r.push(Zt(n.x3.x)+" "+Zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=St.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Zt(St.internal.getWidth(e))+" "+Zt(St.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Zt(St.internal.getWidth(e)-2)+" "+Zt(St.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),n.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),n.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),n.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(St.internal.getWidth(e))+" "+Zt(St.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};St.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=St.internal.getWidth(e),r=St.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},St.internal.getWidth=function(e){var t=0;return en(e)==="object"&&(t=eD(e.Rect[2])),t},St.internal.getHeight=function(e){var t=0;return en(e)==="object"&&(t=eD(e.Rect[3])),t};var RPe=Qn.addField=function(e){if(FPe(this,e),!(e instanceof Al))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Qn.AcroFormChoiceField=D0,Qn.AcroFormListBox=I0,Qn.AcroFormComboBox=M0,Qn.AcroFormEditBox=Mx,Qn.AcroFormButton=$a,Qn.AcroFormPushButton=Fx,Qn.AcroFormRadioButton=F0,Qn.AcroFormCheckBox=Rx,Qn.AcroFormTextField=pd,Qn.AcroFormPasswordField=Lx,Qn.AcroFormAppearance=St,Qn.AcroForm={ChoiceField:D0,ListBox:I0,ComboBox:M0,EditBox:Mx,Button:$a,PushButton:Fx,RadioButton:F0,CheckBox:Rx,TextField:pd,PasswordField:Lx,Appearance:St},Ft.AcroForm={ChoiceField:D0,ListBox:I0,ComboBox:M0,EditBox:Mx,Button:$a,PushButton:Fx,RadioButton:F0,CheckBox:Rx,TextField:pd,PasswordField:Lx,Appearance:St};var LPe=Ft.AcroForm;function P$(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,E){var L,B,G,z,V,Y=t;if((E=E||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(S(O))for(V in r)for(G=r[V],L=0;L<G.length;L+=1){for(z=!0,B=0;B<G[L].length;B+=1)if(G[L][B]!==void 0&&G[L][B]!==O[B]){z=!1;break}if(z===!0){Y=V;break}}else for(V in r)for(G=r[V],L=0;L<G.length;L+=1){for(z=!0,B=0;B<G[L].length;B+=1)if(G[L][B]!==void 0&&G[L][B]!==O.charCodeAt(B)){z=!1;break}if(z===!0){Y=V;break}}return Y===t&&E!==t&&(Y=E),Y},a=function O(E){for(var L=this.internal.write,B=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:E.width}),z.push({key:"Height",value:E.height}),E.colorSpace===g.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===g.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var V="",Y=0,U=E.transparency.length;Y<U;Y++)V+=E.transparency[Y]+" "+E.transparency[Y]+" ";z.push({key:"Mask",value:"["+V+"]"})}E.sMask!==void 0&&z.push({key:"SMask",value:E.objectId+1+" 0 R"});var ae=E.filter!==void 0?["/"+E.filter]:void 0;if(B({data:E.data,additionalKeyValues:z,alreadyAppliedFilters:ae,objectId:E.objectId}),L("endobj"),"sMask"in E&&E.sMask!==void 0){var he="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,k={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:he,data:E.sMask};"filter"in E&&(k.filter=E.filter),O.call(this,k)}if(E.colorSpace===g.INDEXED){var P=this.internal.newObject();B({data:A(new Uint8Array(E.palette)),objectId:P}),L("endobj")}},i=function(){var O=this.internal.collections.addImage_images;for(var E in O)a.call(this,O[E])},s=function(){var O,E=this.internal.collections.addImage_images,L=this.internal.write;for(var B in E)L("/I"+(O=E[B]).index,O.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var O=this.internal.collections.addImage_images;return l.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(O){return typeof e["process"+O.toUpperCase()]=="function"},f=function(O){return en(O)==="object"&&O.nodeType===1},h=function(O,E){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var L=""+O.getAttribute("src");if(L.indexOf("data:image/")===0)return Ix(unescape(L).split("base64,").pop());var B=e.loadFile(L,!0);if(B!==void 0)return B}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(E){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Ix(O.toDataURL(G,1).split("base64,").pop())}},p=function(O){var E=this.internal.collections.addImage_images;if(E){for(var L in E)if(O===E[L].alias)return E[L]}},m=function(O,E,L){return O||E||(O=-96,E=-96),O<0&&(O=-1*L.width*72/O/this.internal.scaleFactor),E<0&&(E=-1*L.height*72/E/this.internal.scaleFactor),O===0&&(O=E*L.width/L.height),E===0&&(E=O*L.height/L.width),[O,E]},x=function(O,E,L,B,G,z){var V=m.call(this,L,B,G),Y=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,ae=c.call(this);if(L=V[0],B=V[1],ae[G.index]=G,z){z*=Math.PI/180;var he=Math.cos(z),k=Math.sin(z),P=function(H){return H.toFixed(4)},R=[P(he),P(k),P(-1*k),P(he),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,Y(O),U(E+B),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([Y(L),"0","0",Y(B),"0","0","cm"].join(" "))):this.internal.write([Y(L),"0","0",Y(B),Y(O),U(E+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(O){var E,L,B=0;if(typeof O=="string")for(L=O.length,E=0;E<L;E++)B=(B<<5)-B+O.charCodeAt(E),B|=0;else if(S(O))for(L=O.byteLength/2,E=0;E<L;E++)B=(B<<5)-B+O[E],B|=0;return B},y=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var E=!0;return O.length===0&&(E=!1),O.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(E=!1),E},_=e.__addimage__.extractImageFromDataUrl=function(O){var E=(O=O||"").split("base64,"),L=null;if(E.length===2){var B=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(B)&&(L={mimeType:B[1],charset:B[2],data:E[1]})}return L},N=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return N()&&O instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(O){return N()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(O){for(var E=O.length,L=new Uint8Array(E),B=0;B<E;B++)L[B]=O.charCodeAt(B);return L},A=e.__addimage__.arrayBufferToBinaryString=function(O){for(var E="",L=S(O)?O:new Uint8Array(O),B=0;B<L.length;B+=8192)E+=String.fromCharCode.apply(null,L.subarray(B,B+8192));return E};e.addImage=function(){var O,E,L,B,G,z,V,Y,U;if(typeof arguments[1]=="number"?(E=t,L=arguments[1],B=arguments[2],G=arguments[3],z=arguments[4],V=arguments[5],Y=arguments[6],U=arguments[7]):(E=arguments[1],L=arguments[2],B=arguments[3],G=arguments[4],z=arguments[5],V=arguments[6],Y=arguments[7],U=arguments[8]),en(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var ae=O;O=ae.imageData,E=ae.format||E||t,L=ae.x||L||0,B=ae.y||B||0,G=ae.w||ae.width||G,z=ae.h||ae.height||z,V=ae.alias||V,Y=ae.compression||Y,U=ae.rotation||ae.angle||U}var he=this.internal.getFilters();if(Y===void 0&&he.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(L)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=T.call(this,O,E,V,Y);return x.call(this,L,B,G,z,k,U),this};var T=function(O,E,L,B){var G,z,V;if(typeof O=="string"&&n(O)===t){O=unescape(O);var Y=F(O,!1);(Y!==""||(Y=e.loadFile(O,!0))!==void 0)&&(O=Y)}if(f(O)&&(O=h(O,E)),E=n(O,E),!d(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((V=L)==null||V.length===0)&&(L=function(U){return typeof U=="string"||S(U)?b(U):S(U.data)?b(U.data):null}(O)),(G=p.call(this,L))||(N()&&(O instanceof Uint8Array||E==="RGBA"||(z=O,O=j(O))),G=this["process"+E.toUpperCase()](O,u.call(this),L,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:v.NONE}(B),z)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},F=e.__addimage__.convertBase64ToBinaryString=function(O,E){var L;E=typeof E!="boolean"||E;var B,G="";if(typeof O=="string"){B=(L=_(O))!==null?L.data:O;try{G=Ix(B)}catch(z){if(E)throw y(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(O){var E,L,B="";if(f(O)&&(O=h(O)),typeof O=="string"&&n(O)===t&&((B=F(O,!1))===""&&(B=e.loadFile(O)||""),O=B),L=n(O),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!N()||O instanceof Uint8Array||(O=j(O)),!(E=this["process"+L.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=L,E}})(Ft.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ft.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(v(b))+") >>",x.content=i;var y=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(x.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;s=Math.ceil(u*d)}else l=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,s,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(x){var g=0,v=r,b="",y=0;for(g=0;g<x.length;g+=1)v[x.charCodeAt(g)]!==void 0?(y++,typeof(v=v[x.charCodeAt(g)])=="number"&&(b+=String.fromCharCode(v),v=r,y=0),g===x.length-1&&(v=r,b+=x.charAt(g-(y-1)),g-=y-1,y=0)):(v=r,b+=x.charAt(g-y),g-=y,y=0);return b};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(x,g,v){return s(x)?i(x)===!1?-1:!u(x)||!s(g)&&!s(v)||!s(v)&&l(g)||l(x)&&!s(g)||l(x)&&c(g)||l(x)&&l(g)?0:d(x)&&s(g)&&!l(g)&&s(v)&&u(v)?3:l(x)||!s(v)?1:2:-1},p=function(x){var g=0,v=0,b=0,y="",_="",N="",S=(x=x||"").split("\\s+"),j=[];for(g=0;g<S.length;g+=1){for(j.push(""),v=0;v<S[g].length;v+=1)y=S[g][v],_=S[g][v-1],N=S[g][v+1],s(y)?(b=h(y,_,N),j[g]+=b!==-1?String.fromCharCode(t[y.charCodeAt(0)][b]):y):j[g]+=y;j[g]=f(j[g])}return j.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var x,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var b=0;for(v=[],b=0;b<g.length;b+=1)Array.isArray(g[b])?v.push([p(g[b][0]),g[b][1],g[b][2]]):v.push([p(g[b])]);x=v}else x=p(g);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",m])}(Ft.API),Ft.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(x){m=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,m=0,x=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=u.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,_){return y.concat(g.splitTextToSize(_,v))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(x=this.getStringUnitWidth(c[b],{font:f})*d)&&(p=x);return p!==0&&(m=c.length),{w:p/=h,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,m,x,g,v=[],b=[],y=[],_={},N={},S=[],j=[],A=(h=h||{}).autoSize||!1,T=h.printHeaders!==!1,F=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},t),E=typeof h.padding=="number"?h.padding:3,L=h.headerBackgroundColor||"#c8c8c8",B=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=B,this.setFontSize(F),f==null)b=v=Object.keys(d[0]),y=v.map(function(){return"left"});else if(Array.isArray(f)&&en(f[0])==="object")for(v=f.map(function(ae){return ae.name}),b=f.map(function(ae){return ae.prompt||ae.name||""}),y=f.map(function(ae){return ae.align||"left"}),p=0;p<f.length;p+=1)N[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,y=v.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(_[g=v[p]]=d.map(function(ae){return ae[g]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=_[g],this.setFont(void 0,"normal"),x=0;x<m.length;x+=1)S.push(this.getTextDimensions(m[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[g]=Math.max.apply(null,S)+E+E,S=[]}if(T){var G={};for(p=0;p<v.length;p+=1)G[v[p]]={},G[v[p]].text=b[p],G[v[p]].align=y[p];var z=l.call(this,G,N);j=v.map(function(ae){return new i(c,u,N[ae],z,G[ae].text,void 0,G[ae].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var V=f.reduce(function(ae,he){return ae[he.name]=he.align,ae},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var Y=l.call(this,d[p],N);for(x=0;x<v.length;x+=1){var U=d[p][v[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:x,data:U},this),s.call(this,new i(c,u,N[v[x]],Y,U,p+2,V[v[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var m=c[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,m){return Math.max(p,m)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Ft.API);var D$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},I$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wj=P$(I$),M$=[100,200,300,400,500,600,700,800,900],BPe=P$(M$);function _j(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return D$[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof wj[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function tD(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var $Pe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function zPe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},$Pe,r.genericFontFamilies||{}),i=null,s=null,l=0;l<t.length;++l)if(a[(i=_j(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+nD(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var d=wj[c],f=d<=wj.normal?-1:1,h=tD(u,I$,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var d=D$[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=BPe[c],f=tD(u,M$,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+nD(i)+"'.");return s}function aD(e){return e.trimLeft()}function UPe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function HPe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var u2,iD,sD,_4=["times"];(function(e){var t,r,n,a,i,s,l,c,u,d=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new c,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=k;Object.defineProperty(this,"pdf",{get:function(){return P}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function(_e){R=!!_e}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(_e){H=!!_e}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(_e){isNaN(_e)||(X=_e)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(_e){isNaN(_e)||(oe=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var ne;typeof _e=="number"?ne=[_e,_e,_e,_e]:((ne=new Array(4))[0]=_e[0],ne[1]=_e.length>=2?_e[1]:ne[0],ne[2]=_e.length>=3?_e[2]:ne[0],ne[3]=_e.length>=4?_e[3]:ne[1]),u.margin=ne}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(_e){fe=_e}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(_e){re=_e}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(_e){ve=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof d&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(_e){Ce=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var ne;ne=h(_e),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var ne=h(_e);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var q=null;function Me(_e,ne){if(q===null){var De=function(se){var ce=[];return Object.keys(se).forEach(function(ye){se[ye].forEach(function(Pe){var Te=null;switch(Pe){case"bold":Te={family:ye,weight:"bold"};break;case"italic":Te={family:ye,style:"italic"};break;case"bolditalic":Te={family:ye,weight:"bold",style:"italic"};break;case"":case"normal":Te={family:ye}}Te!==null&&(Te.ref={name:ye,style:Pe},ce.push(Te))})}),ce}(_e.getFontList());q=function(se){for(var ce={},ye=0;ye<se.length;++ye){var Pe=_j(se[ye]),Te=Pe.family,Ne=Pe.stretch,We=Pe.style,tt=Pe.weight;ce[Te]=ce[Te]||{},ce[Te][Ne]=ce[Te][Ne]||{},ce[Te][Ne][We]=ce[Te][Ne][We]||{},ce[Te][Ne][We][tt]=Pe}return ce}(De.concat(ne))}return q}var Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(_e){q=null,Le=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var ne;if(this.ctx.font=_e,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var De=ne[1],se=(ne[2],ne[3]),ce=ne[4],ye=(ne[5],ne[6]),Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(Pe==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var Te=function(Et){var ft,it,Fr=[],Dt=Et.trim();if(Dt==="")return _4;if(Dt in rD)return[rD[Dt]];for(;Dt!=="";){switch(it=null,ft=(Dt=aD(Dt)).charAt(0)){case'"':case"'":it=UPe(Dt.substring(1),ft);break;default:it=HPe(Dt)}if(it===null||(Fr.push(it[0]),(Dt=aD(it[1]))!==""&&Dt.charAt(0)!==","))return _4;Dt=Dt.replace(/^,/,"")}return Fr}(ye);if(this.fontFaces){var Ne=zPe(Me(this.pdf,this.fontFaces),Te.map(function(Et){return{family:Et,stretch:"normal",weight:se,style:De}}));this.pdf.setFont(Ne.ref.name,Ne.ref.style)}else{var We="";(se==="bold"||parseInt(se,10)>=700||De==="bold")&&(We="bold"),De==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var tt="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<Te.length;Nt++){if(this.pdf.internal.getFont(Te[Nt],We,{noFallback:!0,disableWarning:!0})!==void 0){tt=Te[Nt];break}if(We==="bolditalic"&&this.pdf.internal.getFont(Te[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=Te[Nt],We="bold";else if(this.pdf.internal.getFont(Te[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=Te[Nt],We="normal";break}}if(tt===""){for(var Ot=0;Ot<Te.length;Ot++)if(ht[Te[Ot]]){tt=ht[Te[Ot]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,P){if(isNaN(k)||isNaN(P))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new s(k,P));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new s(k,P)},f.prototype.closePath=function(){var k=new s(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&en(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){k=new s(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},f.prototype.lineTo=function(k,P){if(isNaN(k)||isNaN(P))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new s(k,P));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new s(R.x,R.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,P,R,H){if(isNaN(R)||isNaN(H)||isNaN(k)||isNaN(P))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new s(R,H)),oe=this.ctx.transform.applyToPoint(new s(k,P));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},f.prototype.bezierCurveTo=function(k,P,R,H,X,oe){if(isNaN(X)||isNaN(oe)||isNaN(k)||isNaN(P)||isNaN(R)||isNaN(H))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(X,oe)),re=this.ctx.transform.applyToPoint(new s(k,P)),ve=this.ctx.transform.applyToPoint(new s(R,H));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:ve.x,y2:ve.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},f.prototype.arc=function(k,P,R,H,X,oe){if(isNaN(k)||isNaN(P)||isNaN(R)||isNaN(H)||isNaN(X))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(k,P));k=fe.x,P=fe.y;var re=this.ctx.transform.applyToPoint(new s(0,R)),ve=this.ctx.transform.applyToPoint(new s(0,0));R=Math.sqrt(Math.pow(re.x-ve.x,2)+Math.pow(re.y-ve.y,2))}Math.abs(X-H)>=2*Math.PI&&(H=0,X=2*Math.PI),this.path.push({type:"arc",x:k,y:P,radius:R,startAngle:H,endAngle:X,counterclockwise:oe})},f.prototype.arcTo=function(k,P,R,H,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,P,R,H){if(isNaN(k)||isNaN(P)||isNaN(R)||isNaN(H))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,P),this.lineTo(k+R,P),this.lineTo(k+R,P+H),this.lineTo(k,P+H),this.lineTo(k,P),this.lineTo(k+R,P),this.lineTo(k,P)},f.prototype.fillRect=function(k,P,R,H){if(isNaN(k)||isNaN(P)||isNaN(R)||isNaN(H))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,P,R,H),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(k,P,R,H){if(isNaN(k)||isNaN(P)||isNaN(R)||isNaN(H))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(k,P,R,H),this.stroke())},f.prototype.clearRect=function(k,P,R,H){if(isNaN(k)||isNaN(P)||isNaN(R)||isNaN(H))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,P,R,H))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(P),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(k){var P,R,H,X;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))P=0,R=0,H=0,X=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(oe!==null)P=parseInt(oe[1]),R=parseInt(oe[2]),H=parseInt(oe[3]),X=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)P=parseInt(oe[1]),R=parseInt(oe[2]),H=parseInt(oe[3]),X=parseFloat(oe[4]);else{if(X=1,typeof k=="string"&&k.charAt(0)!=="#"){var fe=new A$(k);k=fe.ok?fe.toHex():"#000000"}k.length===4?(P=k.substring(1,2),P+=P,R=k.substring(2,3),R+=R,H=k.substring(3,4),H+=H):(P=k.substring(1,3),R=k.substring(3,5),H=k.substring(5,7)),P=parseInt(P,16),R=parseInt(R,16),H=parseInt(H,16)}}return{r:P,g:R,b:H,a:X,style:k}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,P,R,H){if(isNaN(P)||isNaN(R)||typeof k!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!p.call(this)){var X=Y(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;E.call(this,{text:k,x:P,y:R,scale:oe,angle:X,align:this.textAlign,maxWidth:H})}},f.prototype.strokeText=function(k,P,R,H){if(isNaN(P)||isNaN(R)||typeof k!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){H=isNaN(H)?void 0:H;var X=Y(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;E.call(this,{text:k,x:P,y:R,scale:oe,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:H})}},f.prototype.measureText=function(k){if(typeof k!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,R=this.pdf.internal.scaleFactor,H=P.internal.getFontSize(),X=P.getStringUnitWidth(k)*H/P.internal.scaleFactor,oe=function(fe){var re=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this};return new oe({width:X*=Math.round(96*R/72*1e4)/1e4})},f.prototype.scale=function(k,P){if(isNaN(k)||isNaN(P))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new c(k,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.rotate=function(k){if(isNaN(k))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new c(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},f.prototype.translate=function(k,P){if(isNaN(k)||isNaN(P))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new c(1,0,0,1,k,P);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.transform=function(k,P,R,H,X,oe){if(isNaN(k)||isNaN(P)||isNaN(R)||isNaN(H)||isNaN(X)||isNaN(oe))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new c(k,P,R,H,X,oe);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function(k,P,R,H,X,oe){k=isNaN(k)?1:k,P=isNaN(P)?0:P,R=isNaN(R)?0:R,H=isNaN(H)?1:H,X=isNaN(X)?0:X,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(k,P,R,H,X,oe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,P,R,H,X,oe,fe,re,ve){var Ce=this.pdf.getImageProperties(k),q=1,Me=1,Le=1,_e=1;H!==void 0&&re!==void 0&&(Le=re/H,_e=ve/X,q=Ce.width/H*re/H,Me=Ce.height/X*ve/X),oe===void 0&&(oe=P,fe=R,P=0,R=0),H!==void 0&&re===void 0&&(re=H,ve=X),H===void 0&&re===void 0&&(re=Ce.width,ve=Ce.height);for(var ne,De=this.ctx.transform.decompose(),se=Y(De.rotate.shx),ce=new c,ye=(ce=(ce=(ce=ce.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new l(oe-P*Le,fe-R*_e,H*q,X*Me)),Pe=g.call(this,ye),Te=[],Ne=0;Ne<Pe.length;Ne+=1)Te.indexOf(Pe[Ne])===-1&&Te.push(Pe[Ne]);if(y(Te),this.autoPaging)for(var We=Te[0],tt=Te[Te.length-1],ht=We;ht<tt+1;ht++){this.pdf.setPage(ht);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=ht===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ht===1?0:Et+(ht-2)*ft;if(this.ctx.clip_path.length!==0){var Fr=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ne,this.posX+this.margin[3],-it+Ot+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Fr}var Dt=JSON.parse(JSON.stringify(ye));Dt=b([Dt],this.posX+this.margin[3],-it+Ot+this.ctx.prevPageLastElemOffset)[0];var na=(ht>We||ht<tt)&&x.call(this);na&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,ft,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,se),na&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,se)};var g=function(k,P,R){var H=[];P=P||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":H.push(Math.floor((k.y+X)/R)+1);break;case"arc":H.push(Math.floor((k.y+X-k.radius)/R)+1),H.push(Math.floor((k.y+X+k.radius)/R)+1);break;case"qct":var oe=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);H.push(Math.floor((oe.y+X)/R)+1),H.push(Math.floor((oe.y+oe.h+X)/R)+1);break;case"bct":var fe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);H.push(Math.floor((fe.y+X)/R)+1),H.push(Math.floor((fe.y+fe.h+X)/R)+1);break;case"rect":H.push(Math.floor((k.y+X)/R)+1),H.push(Math.floor((k.y+k.h+X)/R)+1)}for(var re=0;re<H.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<H[re];)v.call(this);return H},v=function(){var k=this.fillStyle,P=this.strokeStyle,R=this.font,H=this.lineCap,X=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=P,this.font=R,this.lineCap=H,this.lineWidth=X,this.lineJoin=oe},b=function(k,P,R){for(var H=0;H<k.length;H++)switch(k[H].type){case"bct":k[H].x2+=P,k[H].y2+=R;case"qct":k[H].x1+=P,k[H].y1+=R;case"mt":case"lt":case"arc":default:k[H].x+=P,k[H].y+=R}return k},y=function(k){return k.sort(function(P,R){return P-R})},_=function(k,P){for(var R,H,X=this.fillStyle,oe=this.strokeStyle,fe=this.lineCap,re=this.lineWidth,ve=Math.abs(re*this.ctx.transform.scaleX),Ce=this.lineJoin,q=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Le=[],_e=0;_e<Me.length;_e++)if(Me[_e].x!==void 0)for(var ne=g.call(this,Me[_e]),De=0;De<ne.length;De+=1)Le.indexOf(ne[De])===-1&&Le.push(ne[De]);for(var se=0;se<Le.length;se++)for(;this.pdf.internal.getNumberOfPages()<Le[se];)v.call(this);if(y(Le),this.autoPaging)for(var ce=Le[0],ye=Le[Le.length-1],Pe=ce;Pe<ye+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=X,this.strokeStyle=oe,this.lineCap=fe,this.lineWidth=ve,this.lineJoin=Ce;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=Pe===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Pe===1?0:We+(Pe-2)*tt;if(this.ctx.clip_path.length!==0){var Nt=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(R,this.posX+this.margin[3],-ht+Ne+this.ctx.prevPageLastElemOffset),N.call(this,k,!0),this.path=Nt}if(H=JSON.parse(JSON.stringify(q)),this.path=b(H,this.posX+this.margin[3],-ht+Ne+this.ctx.prevPageLastElemOffset),P===!1||Pe===0){var Ot=(Pe>ce||Pe<ye)&&x.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,tt,null).clip().discardPath()),N.call(this,k,P),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=ve,N.call(this,k,P),this.lineWidth=re;this.path=q},N=function(k,P){if((k!=="stroke"||P||!m.call(this))&&(k==="stroke"||P||!p.call(this))){for(var R,H,X=[],oe=this.path,fe=0;fe<oe.length;fe++){var re=oe[fe];switch(re.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:re,deltas:[],abs:[]});break;case"lt":var ve=X.length;if(oe[fe-1]&&!isNaN(oe[fe-1].x)&&(R=[re.x-oe[fe-1].x,re.y-oe[fe-1].y],ve>0)){for(;ve>=0;ve--)if(X[ve-1].close!==!0&&X[ve-1].begin!==!0){X[ve-1].deltas.push(R),X[ve-1].abs.push(re);break}}break;case"bct":R=[re.x1-oe[fe-1].x,re.y1-oe[fe-1].y,re.x2-oe[fe-1].x,re.y2-oe[fe-1].y,re.x-oe[fe-1].x,re.y-oe[fe-1].y],X[X.length-1].deltas.push(R);break;case"qct":var Ce=oe[fe-1].x+2/3*(re.x1-oe[fe-1].x),q=oe[fe-1].y+2/3*(re.y1-oe[fe-1].y),Me=re.x+2/3*(re.x1-re.x),Le=re.y+2/3*(re.y1-re.y),_e=re.x,ne=re.y;R=[Ce-oe[fe-1].x,q-oe[fe-1].y,Me-oe[fe-1].x,Le-oe[fe-1].y,_e-oe[fe-1].x,ne-oe[fe-1].y],X[X.length-1].deltas.push(R);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(re)}}H=P?null:k==="stroke"?"stroke":"fill";for(var De=!1,se=0;se<X.length;se++)if(X[se].arc)for(var ce=X[se].abs,ye=0;ye<ce.length;ye++){var Pe=ce[ye];Pe.type==="arc"?A.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,P,!De):L.call(this,Pe.x,Pe.y),De=!0}else if(X[se].close===!0)this.pdf.internal.out("h"),De=!1;else if(X[se].begin!==!0){var Te=X[se].start.x,Ne=X[se].start.y;B.call(this,X[se].deltas,Te,Ne),De=!0}H&&T.call(this,H),P&&F.call(this)}},S=function(k){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-R;case"top":return k+P-R;case"hanging":return k+P-2*R;case"middle":return k+P/2-R;case"ideographic":return k;case"alphabetic":default:return k}},j=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(P,R){this.colorStops.push([P,R])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(k,P,R,H,X,oe,fe,re,ve){for(var Ce=z.call(this,R,H,X,oe),q=0;q<Ce.length;q++){var Me=Ce[q];q===0&&(ve?O.call(this,Me.x1+k,Me.y1+P):L.call(this,Me.x1+k,Me.y1+P)),G.call(this,k,P,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}re?F.call(this):T.call(this,fe)},T=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(k,P){this.pdf.internal.out(r(k)+" "+n(P)+" m")},E=function(k){var P;switch(k.align){case"right":case"end":P="right";break;case"center":P="center";break;case"left":case"start":default:P="left"}var R=this.pdf.getTextDimensions(k.text),H=S.call(this,k.y),X=j.call(this,H)-R.h,oe=this.ctx.transform.applyToPoint(new s(k.x,H)),fe=this.ctx.transform.decompose(),re=new c;re=(re=(re=re.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var ve,Ce,q,Me=this.ctx.transform.applyToRectangle(new l(k.x,H,R.w,R.h)),Le=re.applyToRectangle(new l(k.x,X,R.w,R.h)),_e=g.call(this,Le),ne=[],De=0;De<_e.length;De+=1)ne.indexOf(_e[De])===-1&&ne.push(_e[De]);if(y(ne),this.autoPaging)for(var se=ne[0],ce=ne[ne.length-1],ye=se;ye<ce+1;ye++){this.pdf.setPage(ye);var Pe=ye===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],We=Ne-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],ht=tt-this.margin[3],Nt=ye===1?0:Te+(ye-2)*We;if(this.ctx.clip_path.length!==0){var Ot=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ve,this.posX+this.margin[3],-1*Nt+Pe),N.call(this,"fill",!0),this.path=Ot}var Et=b([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Nt+Pe+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*k.scale),q=this.lineWidth,this.lineWidth=q*k.scale);var ft=this.autoPaging!=="text";if(ft||Et.y+Et.h<=Ne){if(ft||Et.y>=Pe&&Et.x<=tt){var it=ft?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||tt-Et.x)[0],Fr=b([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Nt+Pe+this.ctx.prevPageLastElemOffset)[0],Dt=ft&&(ye>se||ye<ce)&&x.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,We,null).clip().discardPath()),this.pdf.text(it,Fr.x,Fr.y,{angle:k.angle,align:P,renderingMode:k.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else Et.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-Et.y);k.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=q)}else k.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*k.scale),q=this.lineWidth,this.lineWidth=q*k.scale),this.pdf.text(k.text,oe.x+this.posX,oe.y+this.posY,{angle:k.angle,align:P,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=q)},L=function(k,P,R,H){R=R||0,H=H||0,this.pdf.internal.out(r(k+R)+" "+n(P+H)+" l")},B=function(k,P,R){return this.pdf.lines(k,P,R,null,null)},G=function(k,P,R,H,X,oe,fe,re){this.pdf.internal.out([t(a(R+k)),t(i(H+P)),t(a(X+k)),t(i(oe+P)),t(a(fe+k)),t(i(re+P)),"c"].join(" "))},z=function(k,P,R,H){for(var X=2*Math.PI,oe=Math.PI/2;P>R;)P-=X;var fe=Math.abs(R-P);fe<X&&H&&(fe=X-fe);for(var re=[],ve=H?-1:1,Ce=P;fe>1e-5;){var q=Ce+ve*Math.min(fe,oe);re.push(V.call(this,k,Ce,q)),fe-=Math.abs(q-Ce),Ce=q}return re},V=function(k,P,R){var H=(R-P)/2,X=k*Math.cos(H),oe=k*Math.sin(H),fe=X,re=-oe,ve=fe*fe+re*re,Ce=ve+fe*X+re*oe,q=4/3*(Math.sqrt(2*ve*Ce)-Ce)/(fe*oe-re*X),Me=fe-q*re,Le=re+q*fe,_e=Me,ne=-Le,De=H+P,se=Math.cos(De),ce=Math.sin(De);return{x1:k*Math.cos(P),y1:k*Math.sin(P),x2:Me*se-Le*ce,y2:Me*ce+Le*se,x3:_e*se-ne*ce,y3:_e*ce+ne*se,x4:k*Math.cos(R),y4:k*Math.sin(R)}},Y=function(k){return 180*k/Math.PI},U=function(k,P,R,H,X,oe){var fe=k+.5*(R-k),re=P+.5*(H-P),ve=X+.5*(R-X),Ce=oe+.5*(H-oe),q=Math.min(k,X,fe,ve),Me=Math.max(k,X,fe,ve),Le=Math.min(P,oe,re,Ce),_e=Math.max(P,oe,re,Ce);return new l(q,Le,Me-q,_e-Le)},ae=function(k,P,R,H,X,oe,fe,re){var ve,Ce,q,Me,Le,_e,ne,De,se,ce,ye,Pe,Te,Ne,We=R-k,tt=H-P,ht=X-R,Nt=oe-H,Ot=fe-X,Et=re-oe;for(Ce=0;Ce<41;Ce++)se=(ne=(q=k+(ve=Ce/40)*We)+ve*((Le=R+ve*ht)-q))+ve*(Le+ve*(X+ve*Ot-Le)-ne),ce=(De=(Me=P+ve*tt)+ve*((_e=H+ve*Nt)-Me))+ve*(_e+ve*(oe+ve*Et-_e)-De),Ce==0?(ye=se,Pe=ce,Te=se,Ne=ce):(ye=Math.min(ye,se),Pe=Math.min(Pe,ce),Te=Math.max(Te,se),Ne=Math.max(Ne,ce));return new l(Math.round(ye),Math.round(Pe),Math.round(Te-ye),Math.round(Ne-Pe))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,P,R=(k=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:P}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(Ft.API),function(e){var t=function(i){var s,l,c,u,d,f,h,p,m,x;for(l=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(x=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,m+33,x+33)):l.push(122);return function(g,v){for(var b=v;b>0;b--)g.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var s,l,c,u,d,f=String,h="length",p=255,m="charCodeAt",x="slice",g="replace";for(i[x](-2),i=i[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],u=0,d=(i+=s="uuuuu"[x](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[m](u)-33)+614125*(i[m](u+1)-33)+7225*(i[m](u+2)-33)+85*(i[m](u+3)-33)+(i[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(v,b){for(var y=b;y>0;y--)v.pop()}(c,s[h]),f.fromCharCode.apply(f,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var s=new Uint8Array(i.length),l=i.length;l--;)s[l]=i.charCodeAt(l);return i=(s=xj(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,s){var l=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ft.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(m){var x=m.length,g=[],v=String.fromCharCode;for(h=0;h<x;h+=1)g.push(v(255&m.charCodeAt(h)));return g.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Ft.API),function(e){function t(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):dc(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):dc(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=en(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(s,l){var c=document.createElement(s);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,l){return s.__proto__=l||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],m=p.src.find(function(x){return x.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},i.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(s,l){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,l,c,u){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,l,c,u){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,s,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},i.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return i.convert(l,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ft.getPageSize=function(s,l,c){if(en(s)==="object"){var u=s;s=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,m=0,x=0;if(h.hasOwnProperty(f))m=h[f][1]/d,x=h[f][0]/d;else try{m=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",x>m&&(p=x,x=m,m=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>x&&(p=x,x=m,m=p)}return{width:x,height:m,unit:l,k:d,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(_j):null;var c=new i(l);return l.worker?c:c.from(s).doCallback()}}(Ft.API),Ft.API.addJS=function(e){return sD=e,this.internal.events.subscribe("postPutResources",function(){u2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(u2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){u2!==void 0&&iD!==void 0&&this.internal.out("/Names <</JavaScript "+u2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,x={width:0,height:0,numcomponents:1},g=4;g<m;g+=2){if(g+=p,t.indexOf(f.charCodeAt(g+1))!==-1){h=256*f.charCodeAt(g+5)+f.charCodeAt(g+6),x={width:256*f.charCodeAt(g+7)+f.charCodeAt(g+8),height:h,numcomponents:f.charCodeAt(g+9)};break}p=256*f.charCodeAt(g+2)+f.charCodeAt(g+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Ft.API);var eh,d2,oD,lD,cD,WPe=function(){var e,t,r;function n(i){var s,l,c,u,d,f,h,p,m,x,g,v,b,y;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),m=(function(){var _,N;for(N=[],_=0;_<4;++_)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(g=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,g.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,m){var x,g,v,b,y,_,N,S,j,A,T,F,O,E,L,B,G,z,V,Y,U,ae=Math.ceil((u.width-f)/p),he=Math.ceil((u.height-h)/m),k=u.width==ae&&u.height==he;for(E=s*ae,F=k?l:new Uint8Array(E*he),_=i.length,O=0,g=0;O<he&&c<_;){switch(i[c++]){case 0:for(b=G=0;G<E;b=G+=1)F[g++]=i[c++];break;case 1:for(b=z=0;z<E;b=z+=1)x=i[c++],y=b<s?0:F[g-s],F[g++]=(x+y)%256;break;case 2:for(b=V=0;V<E;b=V+=1)x=i[c++],v=(b-b%s)/s,L=O&&F[(O-1)*E+v*s+b%s],F[g++]=(L+x)%256;break;case 3:for(b=Y=0;Y<E;b=Y+=1)x=i[c++],v=(b-b%s)/s,y=b<s?0:F[g-s],L=O&&F[(O-1)*E+v*s+b%s],F[g++]=(x+Math.floor((y+L)/2))%256;break;case 4:for(b=U=0;U<E;b=U+=1)x=i[c++],v=(b-b%s)/s,y=b<s?0:F[g-s],O===0?L=B=0:(L=F[(O-1)*E+v*s+b%s],B=v&&F[(O-1)*E+(v-1)*s+b%s]),N=y+L-B,S=Math.abs(N-y),A=Math.abs(N-L),T=Math.abs(N-B),j=S<=A&&S<=T?y:A<=T?L:B,F[g++]=(x+j)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!k){var P=((h+O*m)*u.width+f)*s,R=O*E;for(b=0;b<ae;b+=1){for(var H=0;H<s;H+=1)l[P++]=F[R++];P+=(p-1)*s}}O++}}return i=wPe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,s,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,s=f=0,h=l.length;f<h;s=f+=3)u[c++]=l[s],u[c++]=l[s+1],u[c++]=l[s+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,s){var l,c,u,d,f,h,p,m,x,g,v;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),m=(u=i.data||i).length,f=x||s,d=h=0,c===1)for(;d<m;)p=x?4*s[d/4]:h,g=f[p++],u[d++]=g,u[d++]=g,u[d++]=g,u[d++]=l?f[p++]:255,h=p;else for(;d<m;)p=x?4*s[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Wt)==="[object Window]"){try{t=Wt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)s=h[l],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,p.push(s.image=e(c));return p}},n.prototype.renderFrame=function(i,s){var l,c,u;return l=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var s,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(s=function(){var p,m;if(p=l++%u,m=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VPe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=s,t+=3*s);var u=!0,d=[],f=0,h=null,p=0,m=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&x)&&(h=null),p=x>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,_=e[t++],N=_>>6&1,S=1<<(7&_)+1,j=l,A=c,T=!1;_>>7&&(T=!0,j=t,A=S,t+=3*S);var F=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}d.push({x:g,y:v,width:b,height:y,has_local_palette:T,palette_offset:j,palette_size:A,data_offset:F,data_length:t-F,transparent_index:h,interlaced:!!N,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,L){var B=this.frameInfo(E),G=B.width*B.height,z=new Uint8Array(G);uD(e,B.data_offset,z,G);var V=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var U=B.width,ae=r-U,he=U,k=4*(B.y*r+B.x),P=4*((B.y+B.height)*r+B.x),R=k,H=4*ae;B.interlaced===!0&&(H+=4*r*7);for(var X=8,oe=0,fe=z.length;oe<fe;++oe){var re=z[oe];if(he===0&&(he=U,(R+=H)>=P&&(H=4*ae+4*r*(X-1),R=k+(U+ae)*(X<<1),X>>=1)),re===Y)R+=4;else{var ve=e[V+3*re],Ce=e[V+3*re+1],q=e[V+3*re+2];L[R++]=q,L[R++]=Ce,L[R++]=ve,L[R++]=255}--he}},this.decodeAndBlitFrameRGBA=function(E,L){var B=this.frameInfo(E),G=B.width*B.height,z=new Uint8Array(G);uD(e,B.data_offset,z,G);var V=B.palette_offset,Y=B.transparent_index;Y===null&&(Y=256);var U=B.width,ae=r-U,he=U,k=4*(B.y*r+B.x),P=4*((B.y+B.height)*r+B.x),R=k,H=4*ae;B.interlaced===!0&&(H+=4*r*7);for(var X=8,oe=0,fe=z.length;oe<fe;++oe){var re=z[oe];if(he===0&&(he=U,(R+=H)>=P&&(H=4*ae+4*r*(X-1),R=k+(U+ae)*(X<<1),X>>=1)),re===Y)R+=4;else{var ve=e[V+3*re],Ce=e[V+3*re+1],q=e[V+3*re+2];L[R++]=ve,L[R++]=Ce,L[R++]=q,L[R++]=255}--he}}}function uD(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,l=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],m=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var g=f&u;if(f>>=c,d-=c,g!==i){if(g===s)break;for(var v=g<l?g:x,b=0,y=v;y>i;)y=m[y]>>8,++b;var _=y;if(h+b+(v!==g?1:0)>n)return void pn.log("Warning, gif stream longer than expected.");r[h++]=_;var N=h+=b;for(v!==g&&(r[h++]=_),y=v;b--;)y=m[y],r[--N]=255&y,y>>=8;x!==null&&l<4096&&(m[l++]=x<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=g}else l=s+1,u=(1<<(c=a+1))-1,x=null}return h!==n&&pn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N4(e){var t,r,n,a,i,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),x=[],g=0,v=7,b=new Array(64),y=new Array(64),_=new Array(64),N=new Array(256),S=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(k,P){for(var R=0,H=0,X=new Array,oe=1;oe<=16;oe++){for(var fe=1;fe<=k[oe];fe++)X[P[H]]=[],X[P[H]][0]=R,X[P[H]][1]=oe,H++,R++;R*=2}return X}function V(k){for(var P=k[0],R=k[1]-1;R>=0;)P&1<<R&&(g|=1<<v),R--,--v<0&&(g==255?(Y(255),Y(0)):Y(g),v=7,g=0)}function Y(k){x.push(k)}function U(k){Y(k>>8&255),Y(255&k)}function ae(k,P,R,H,X){for(var oe,fe=X[0],re=X[240],ve=function(ce,ye){var Pe,Te,Ne,We,tt,ht,Nt,Ot,Et,ft,it=0;for(Et=0;Et<8;++Et){Pe=ce[it],Te=ce[it+1],Ne=ce[it+2],We=ce[it+3],tt=ce[it+4],ht=ce[it+5],Nt=ce[it+6];var Fr=Pe+(Ot=ce[it+7]),Dt=Pe-Ot,na=Te+Nt,_r=Te-Nt,vn=Ne+ht,fo=Ne-ht,Nr=We+tt,kl=We-tt,Cn=Fr+Nr,Bs=Fr-Nr,Jo=na+vn,dn=na-vn;ce[it]=Cn+Jo,ce[it+4]=Cn-Jo;var Kt=.707106781*(dn+Bs);ce[it+2]=Bs+Kt,ce[it+6]=Bs-Kt;var Tr=.382683433*((Cn=kl+fo)-(dn=_r+Dt)),wc=.5411961*Cn+Tr,Ia=1.306562965*dn+Tr,ho=.707106781*(Jo=fo+_r),po=Dt+ho,Bt=Dt-ho;ce[it+5]=Bt+wc,ce[it+3]=Bt-wc,ce[it+1]=po+Ia,ce[it+7]=po-Ia,it+=8}for(it=0,Et=0;Et<8;++Et){Pe=ce[it],Te=ce[it+8],Ne=ce[it+16],We=ce[it+24],tt=ce[it+32],ht=ce[it+40],Nt=ce[it+48];var $s=Pe+(Ot=ce[it+56]),vs=Pe-Ot,ki=Te+Nt,aa=Te-Nt,Gn=Ne+ht,ee=Ne-ht,ge=We+tt,ue=We-tt,de=$s+ge,xe=$s-ge,be=ki+Gn,Re=ki-Gn;ce[it]=de+be,ce[it+32]=de-be;var Ve=.707106781*(Re+xe);ce[it+16]=xe+Ve,ce[it+48]=xe-Ve;var Fe=.382683433*((de=ue+ee)-(Re=aa+vs)),Ue=.5411961*de+Fe,He=1.306562965*Re+Fe,at=.707106781*(be=ee+aa),ot=vs+at,gt=vs-at;ce[it+40]=gt+Ue,ce[it+24]=gt-Ue,ce[it+8]=ot+He,ce[it+56]=ot-He,it++}for(Et=0;Et<64;++Et)ft=ce[Et]*ye[Et],p[Et]=ft>0?ft+.5|0:ft-.5|0;return p}(k,P),Ce=0;Ce<64;++Ce)m[j[Ce]]=ve[Ce];var q=m[0]-R;R=m[0],q==0?V(H[0]):(V(H[h[oe=32767+q]]),V(f[oe]));for(var Me=63;Me>0&&m[Me]==0;)Me--;if(Me==0)return V(fe),R;for(var Le,_e=1;_e<=Me;){for(var ne=_e;m[_e]==0&&_e<=Me;)++_e;var De=_e-ne;if(De>=16){Le=De>>4;for(var se=1;se<=Le;++se)V(re);De&=15}oe=32767+m[_e],V(X[(De<<4)+h[oe]]),V(f[oe]),_e++}return Me!=63&&V(fe),R}function he(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(P){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var X=s((R[H]*P+50)/100);X=Math.min(Math.max(X,1),255),l[j[H]]=X}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var re=s((oe[fe]*P+50)/100);re=Math.min(Math.max(re,1),255),c[j[fe]]=re}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,q=0;q<8;q++)for(var Me=0;Me<8;Me++)u[Ce]=1/(l[j[Ce]]*ve[q]*ve[Me]*8),d[Ce]=1/(c[j[Ce]]*ve[q]*ve[Me]*8),Ce++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,P){P&&he(P),x=new Array,g=0,v=7,U(65496),U(65504),U(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),U(1),U(1),Y(0),Y(0),function(){U(65499),U(132),Y(0);for(var Te=0;Te<64;Te++)Y(l[Te]);Y(1);for(var Ne=0;Ne<64;Ne++)Y(c[Ne])}(),function(Te,Ne){U(65472),U(17),Y(8),U(Ne),U(Te),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(k.width,k.height),function(){U(65476),U(418),Y(0);for(var Te=0;Te<16;Te++)Y(A[Te+1]);for(var Ne=0;Ne<=11;Ne++)Y(T[Ne]);Y(16);for(var We=0;We<16;We++)Y(F[We+1]);for(var tt=0;tt<=161;tt++)Y(O[tt]);Y(1);for(var ht=0;ht<16;ht++)Y(E[ht+1]);for(var Nt=0;Nt<=11;Nt++)Y(L[Nt]);Y(17);for(var Ot=0;Ot<16;Ot++)Y(B[Ot+1]);for(var Et=0;Et<=161;Et++)Y(G[Et])}(),U(65498),U(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var R=0,H=0,X=0;g=0,v=7,this.encode.displayName="_encode_";for(var oe,fe,re,ve,Ce,q,Me,Le,_e,ne=k.data,De=k.width,se=k.height,ce=4*De,ye=0;ye<se;){for(oe=0;oe<ce;){for(Ce=ce*ye+oe,Me=-1,Le=0,_e=0;_e<64;_e++)q=Ce+(Le=_e>>3)*ce+(Me=4*(7&_e)),ye+Le>=se&&(q-=ce*(ye+1+Le-se)),oe+Me>=ce&&(q-=oe+Me-ce+4),fe=ne[q++],re=ne[q++],ve=ne[q++],b[_e]=(S[fe]+S[re+256>>0]+S[ve+512>>0]>>16)-128,y[_e]=(S[fe+768>>0]+S[re+1024>>0]+S[ve+1280>>0]>>16)-128,_[_e]=(S[fe+1280>>0]+S[re+1536>>0]+S[ve+1792>>0]>>16)-128;R=ae(b,u,R,t,n),H=ae(y,d,H,r,a),X=ae(_,d,X,r,a),oe+=32}ye+=8}if(v>=0){var Pe=[];Pe[1]=v+1,Pe[0]=(1<<v+1)-1,V(Pe)}return U(65497),new Uint8Array(x)},e=e||50,function(){for(var k=String.fromCharCode,P=0;P<256;P++)N[P]=k(P)}(),t=z(A,T),r=z(E,L),n=z(F,O),a=z(B,G),function(){for(var k=1,P=2,R=1;R<=15;R++){for(var H=k;H<P;H++)h[32767+H]=R,f[32767+H]=[],f[32767+H][1]=R,f[32767+H][0]=H;for(var X=-(P-1);X<=-k;X++)h[32767+X]=R,f[32767+X]=[],f[32767+X][1]=R,f[32767+X][0]=P-1+X;k<<=1,P<<=1}}(),function(){for(var k=0;k<256;k++)S[k]=19595*k,S[k+256>>0]=38470*k,S[k+512>>0]=7471*k+32768,S[k+768>>0]=-11059*k,S[k+1024>>0]=-21709*k,S[k+1280>>0]=32768*k+8421375,S[k+1536>>0]=-27439*k,S[k+1792>>0]=-5329*k}(),he(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dD(e){function t(A){if(!A)throw Error("assert :P")}function r(A,T,F){for(var O=0;4>O;O++)if(A[T+O]!=F.charCodeAt(O))return!0;return!1}function n(A,T,F,O,E){for(var L=0;L<E;L++)A[T+L]=F[O+L]}function a(A,T,F,O){for(var E=0;E<O;E++)A[T+E]=F}function i(A){return new Int32Array(A)}function s(A,T){for(var F=[],O=0;O<A;O++)F.push(new T);return F}function l(A,T){var F=[];return function O(E,L,B){for(var G=B[L],z=0;z<G&&(E.push(B.length>L+1?[]:new T),!(B.length<L+1));z++)O(E[z],L+1,B)}(F,0,A),F}var c=function(){var A=this;function T(w,C){for(var M=1<<C-1>>>0;w&M;)M>>>=1;return M?(w&M-1)+M:w}function F(w,C,M,W,Q){t(!(W%M));do w[C+(W-=M)]=Q;while(0<W)}function O(w,C,M,W,Q){if(t(2328>=Q),512>=Q)var Z=i(512);else if((Z=i(Q))==null)return 0;return function(te,ie,le,me,Se,Be){var $e,Oe,Ze=ie,qe=1<<le,Ae=i(16),Ee=i(16);for(t(Se!=0),t(me!=null),t(te!=null),t(0<le),Oe=0;Oe<Se;++Oe){if(15<me[Oe])return 0;++Ae[me[Oe]]}if(Ae[0]==Se)return 0;for(Ee[1]=0,$e=1;15>$e;++$e){if(Ae[$e]>1<<$e)return 0;Ee[$e+1]=Ee[$e]+Ae[$e]}for(Oe=0;Oe<Se;++Oe)$e=me[Oe],0<me[Oe]&&(Be[Ee[$e]++]=Oe);if(Ee[15]==1)return(me=new E).g=0,me.value=Be[0],F(te,Ze,1,qe,me),qe;var Qe,rt=-1,Je=qe-1,yt=0,pt=1,$t=1,mt=1<<le;for(Oe=0,$e=1,Se=2;$e<=le;++$e,Se<<=1){if(pt+=$t<<=1,0>($t-=Ae[$e]))return 0;for(;0<Ae[$e];--Ae[$e])(me=new E).g=$e,me.value=Be[Oe++],F(te,Ze+yt,Se,mt,me),yt=T(yt,$e)}for($e=le+1,Se=2;15>=$e;++$e,Se<<=1){if(pt+=$t<<=1,0>($t-=Ae[$e]))return 0;for(;0<Ae[$e];--Ae[$e]){if(me=new E,(yt&Je)!=rt){for(Ze+=mt,Qe=1<<(rt=$e)-le;15>rt&&!(0>=(Qe-=Ae[rt]));)++rt,Qe<<=1;qe+=mt=1<<(Qe=rt-le),te[ie+(rt=yt&Je)].g=Qe+le,te[ie+rt].value=Ze-ie-rt}me.g=$e-le,me.value=Be[Oe++],F(te,Ze+(yt>>le),Se,mt,me),yt=T(yt,$e)}}return pt!=2*Ee[15]-1?0:qe}(w,C,M,W,Q,Z)}function E(){this.value=this.g=0}function L(){this.value=this.g=0}function B(){this.G=s(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(mi,L)}function G(w,C,M,W){t(w!=null),t(C!=null),t(2147483648>W),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=C,w.pa=M,w.Jd=C,w.Yc=M+W,w.Zc=4<=W?M+W-4+1:M,oe(w)}function z(w,C){for(var M=0;0<C--;)M|=re(w,128)<<C;return M}function V(w,C){var M=z(w,C);return fe(w)?-M:M}function Y(w,C,M,W){var Q,Z=0;for(t(w!=null),t(C!=null),t(4294967288>W),w.Sb=W,w.Ra=0,w.u=0,w.h=0,4<W&&(W=4),Q=0;Q<W;++Q)Z+=C[M+Q]<<8*Q;w.Ra=Z,w.bb=W,w.oa=C,w.pa=M}function U(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Df-8>>>0,++w.bb,w.u-=8;R(w)&&(w.h=1,w.u=0)}function ae(w,C){if(t(0<=C),!w.h&&C<=Pf){var M=P(w)&Of[C];return w.u+=C,U(w),M}return w.h=1,w.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function P(w){return w.Ra>>>(w.u&Df-1)>>>0}function R(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Df}function H(w,C){w.u=C,w.h=R(w)}function X(w){w.u>=jm&&(t(w.u>=jm),U(w))}function oe(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function fe(w){return z(w,1)}function re(w,C){var M=w.Ca;0>w.b&&oe(w);var W=w.b,Q=M*C>>>8,Z=(w.I>>>W>Q)+0;for(Z?(M-=Q,w.I-=Q+1<<W>>>0):M=Q+1,W=M,Q=0;256<=W;)Q+=8,W>>=8;return W=7^Q+ys[W],w.b-=W,w.Ca=(M<<W)-1,Z}function ve(w,C,M){w[C+0]=M>>24&255,w[C+1]=M>>16&255,w[C+2]=M>>8&255,w[C+3]=M>>0&255}function Ce(w,C){return w[C+0]<<0|w[C+1]<<8}function q(w,C){return Ce(w,C)|w[C+2]<<16}function Me(w,C){return Ce(w,C)|Ce(w,C+2)<<16}function Le(w,C){var M=1<<C;return t(w!=null),t(0<C),w.X=i(M),w.X==null?0:(w.Mb=32-C,w.Xa=C,1)}function _e(w,C){t(w!=null),t(C!=null),t(w.Xa==C.Xa),n(C.X,0,w.X,0,1<<C.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function De(w,C,M,W){t(M!=null),t(W!=null);var Q=M[0],Z=W[0];return Q==0&&(Q=(w*Z+C/2)/C),Z==0&&(Z=(C*Q+w/2)/w),0>=Q||0>=Z?0:(M[0]=Q,W[0]=Z,1)}function se(w,C){return w+(1<<C)-1>>>C}function ce(w,C){return((4278255360&w)+(4278255360&C)>>>0&4278255360)+((16711935&w)+(16711935&C)>>>0&16711935)>>>0}function ye(w,C){A[C]=function(M,W,Q,Z,te,ie,le){var me;for(me=0;me<te;++me){var Se=A[w](ie[le+me-1],Q,Z+me);ie[le+me]=ce(M[W+me],Se)}}}function Pe(){this.ud=this.hd=this.jd=0}function Te(w,C){return((4278124286&(w^C))>>>1)+(w&C)>>>0}function Ne(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function We(w,C){return Ne(w+(w-C+.5>>1))}function tt(w,C,M){return Math.abs(C-M)-Math.abs(w-M)}function ht(w,C,M,W,Q,Z,te){for(W=Z[te-1],M=0;M<Q;++M)Z[te+M]=W=ce(w[C+M],W)}function Nt(w,C,M,W,Q){var Z;for(Z=0;Z<M;++Z){var te=w[C+Z],ie=te>>8&255,le=16711935&(le=(le=16711935&te)+((ie<<16)+ie));W[Q+Z]=(4278255360&te)+le>>>0}}function Ot(w,C){C.jd=w>>0&255,C.hd=w>>8&255,C.ud=w>>16&255}function Et(w,C,M,W,Q,Z){var te;for(te=0;te<W;++te){var ie=C[M+te],le=ie>>>8,me=ie,Se=255&(Se=(Se=ie>>>16)+((w.jd<<24>>24)*(le<<24>>24)>>>5));me=255&(me=(me=me+((w.hd<<24>>24)*(le<<24>>24)>>>5))+((w.ud<<24>>24)*(Se<<24>>24)>>>5)),Q[Z+te]=(4278255360&ie)+(Se<<16)+me}}function ft(w,C,M,W,Q){A[C]=function(Z,te,ie,le,me,Se,Be,$e,Oe){for(le=Be;le<$e;++le)for(Be=0;Be<Oe;++Be)me[Se++]=Q(ie[W(Z[te++])])},A[w]=function(Z,te,ie,le,me,Se,Be){var $e=8>>Z.b,Oe=Z.Ea,Ze=Z.K[0],qe=Z.w;if(8>$e)for(Z=(1<<Z.b)-1,qe=(1<<$e)-1;te<ie;++te){var Ae,Ee=0;for(Ae=0;Ae<Oe;++Ae)Ae&Z||(Ee=W(le[me++])),Se[Be++]=Q(Ze[Ee&qe]),Ee>>=$e}else A["VP8LMapColor"+M](le,me,Ze,qe,Se,Be,te,ie,Oe)}}function it(w,C,M,W,Q){for(M=C+M;C<M;){var Z=w[C++];W[Q++]=Z>>16&255,W[Q++]=Z>>8&255,W[Q++]=Z>>0&255}}function Fr(w,C,M,W,Q){for(M=C+M;C<M;){var Z=w[C++];W[Q++]=Z>>16&255,W[Q++]=Z>>8&255,W[Q++]=Z>>0&255,W[Q++]=Z>>24&255}}function Dt(w,C,M,W,Q){for(M=C+M;C<M;){var Z=(te=w[C++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;W[Q++]=Z,W[Q++]=te}}function na(w,C,M,W,Q){for(M=C+M;C<M;){var Z=(te=w[C++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;W[Q++]=Z,W[Q++]=te}}function _r(w,C,M,W,Q){for(M=C+M;C<M;){var Z=w[C++];W[Q++]=Z>>0&255,W[Q++]=Z>>8&255,W[Q++]=Z>>16&255}}function vn(w,C,M,W,Q,Z){if(Z==0)for(M=C+M;C<M;)ve(W,((Z=w[C++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),Q+=32;else n(W,Q,w,C,M)}function fo(w,C){A[C][0]=A[w+"0"],A[C][1]=A[w+"1"],A[C][2]=A[w+"2"],A[C][3]=A[w+"3"],A[C][4]=A[w+"4"],A[C][5]=A[w+"5"],A[C][6]=A[w+"6"],A[C][7]=A[w+"7"],A[C][8]=A[w+"8"],A[C][9]=A[w+"9"],A[C][10]=A[w+"10"],A[C][11]=A[w+"11"],A[C][12]=A[w+"12"],A[C][13]=A[w+"13"],A[C][14]=A[w+"0"],A[C][15]=A[w+"0"]}function Nr(w){return w==Q5||w==J5||w==dv||w==Z5}function kl(){this.eb=[],this.size=this.A=this.fb=0}function Cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kl,this.f.kb=new Cn,this.sd=null}function Jo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Tr(w,C){var M=w.T,W=C.ba.f.RGBA,Q=W.eb,Z=W.fb+w.ka*W.A,te=yo[C.ba.S],ie=w.y,le=w.O,me=w.f,Se=w.N,Be=w.ea,$e=w.W,Oe=C.cc,Ze=C.dc,qe=C.Mc,Ae=C.Nc,Ee=w.ka,Qe=w.ka+w.T,rt=w.U,Je=rt+1>>1;for(Ee==0?te(ie,le,null,null,me,Se,Be,$e,me,Se,Be,$e,Q,Z,null,null,rt):(te(C.ec,C.fc,ie,le,Oe,Ze,qe,Ae,me,Se,Be,$e,Q,Z-W.A,Q,Z,rt),++M);Ee+2<Qe;Ee+=2)Oe=me,Ze=Se,qe=Be,Ae=$e,Se+=w.Rc,$e+=w.Rc,Z+=2*W.A,te(ie,(le+=2*w.fa)-w.fa,ie,le,Oe,Ze,qe,Ae,me,Se,Be,$e,Q,Z-W.A,Q,Z,rt);return le+=w.fa,w.j+Qe<w.o?(n(C.ec,C.fc,ie,le,rt),n(C.cc,C.dc,me,Se,Je),n(C.Mc,C.Nc,Be,$e,Je),M--):1&Qe||te(ie,le,null,null,me,Se,Be,$e,me,Se,Be,$e,Q,Z+W.A,null,null,rt),M}function wc(w,C,M){var W=w.F,Q=[w.J];if(W!=null){var Z=w.U,te=C.ba.S,ie=te==uv||te==dv;C=C.ba.f.RGBA;var le=[0],me=w.ka;le[0]=w.T,w.Kb&&(me==0?--le[0]:(--me,Q[0]-=w.width),w.j+w.ka+w.T==w.o&&(le[0]=w.o-w.j-me));var Se=C.eb;me=C.fb+me*C.A,w=yn(W,Q[0],w.width,Z,le,Se,me+(ie?0:3),C.A),t(M==le),w&&Nr(te)&&vo(Se,me,ie,Z,le,C.A)}return 0}function Ia(w){var C=w.ma,M=C.ba.S,W=11>M,Q=M==lv||M==cv||M==uv||M==K5||M==12||Nr(M);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!_m(C.Oa,w,Q?11:12))return 0;if(Q&&Nr(M)&&nt(),w.da)alert("todo:use_scaling");else{if(W){if(C.Ib=Kt,w.Kb){if(M=w.U+1>>1,C.memory=i(w.U+2*M),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+w.U,C.Mc=C.cc,C.Nc=C.dc+M,C.Ib=Tr,nt()}}else alert("todo:EmitYUV");Q&&(C.Jb=wc,W&&Ie())}if(W&&!lE){for(w=0;256>w;++w)$H[w]=89858*(w-128)+hv>>fv,HH[w]=-22014*(w-128)+hv,UH[w]=-45773*(w-128),zH[w]=113618*(w-128)+hv>>fv;for(w=Om;w<r_;++w)C=76283*(w-16)+hv>>fv,WH[w-Om]=Us(C,255),VH[w-Om]=Us(C+8>>4,15);lE=1}return 1}function ho(w){var C=w.ma,M=w.U,W=w.T;return t(!(1&w.ka)),0>=M||0>=W?0:(M=C.Ib(w,C),C.Jb!=null&&C.Jb(w,C,M),C.Dc+=M,1)}function po(w){w.ma.memory=null}function Bt(w,C,M,W){return ae(w,8)!=47?0:(C[0]=ae(w,14)+1,M[0]=ae(w,14)+1,W[0]=ae(w,1),ae(w,3)!=0?0:!w.h)}function $s(w,C){if(4>w)return w+1;var M=w-2>>1;return(2+(1&w)<<M)+ae(C,M)+1}function vs(w,C){return 120<C?C-120:1<=(M=((M=AH[C-1])>>4)*w+(8-(15&M)))?M:1;var M}function ki(w,C,M){var W=P(M),Q=w[C+=255&W].g-8;return 0<Q&&(H(M,M.u+8),W=P(M),C+=w[C].value,C+=W&(1<<Q)-1),H(M,M.u+w[C].g),w[C].value}function aa(w,C,M){return M.g+=w.g,M.value+=w.value<<C>>>0,t(8>=M.g),w.g}function Gn(w,C,M){var W=w.xc;return t((C=W==0?0:w.vc[w.md*(M>>W)+(C>>W)])<w.Wb),w.Ya[C]}function ee(w,C,M,W){var Q=w.ab,Z=w.c*C,te=w.C;C=te+C;var ie=M,le=W;for(W=w.Ta,M=w.Ua;0<Q--;){var me=w.gc[Q],Se=te,Be=C,$e=ie,Oe=le,Ze=(le=W,ie=M,me.Ea);switch(t(Se<Be),t(Be<=me.nc),me.hc){case 2:tv($e,Oe,(Be-Se)*Ze,le,ie);break;case 0:var qe=Se,Ae=Be,Ee=le,Qe=ie,rt=(mt=me).Ea;qe==0&&(Y5($e,Oe,null,null,1,Ee,Qe),ht($e,Oe+1,0,0,rt-1,Ee,Qe+1),Oe+=rt,Qe+=rt,++qe);for(var Je=1<<mt.b,yt=Je-1,pt=se(rt,mt.b),$t=mt.K,mt=mt.w+(qe>>mt.b)*pt;qe<Ae;){var Rr=$t,Vr=mt,jr=1;for(Sm($e,Oe,Ee,Qe-rt,1,Ee,Qe);jr<rt;){var mr=(jr&~yt)+Je;mr>rt&&(mr=rt),(0,Nu[Rr[Vr++]>>8&15])($e,Oe+ +jr,Ee,Qe+jr-rt,mr-jr,Ee,Qe+jr),jr=mr}Oe+=rt,Qe+=rt,++qe&yt||(mt+=pt)}Be!=me.nc&&n(le,ie-Ze,le,ie+(Be-Se-1)*Ze,Ze);break;case 1:for(Ze=$e,Ae=Oe,rt=($e=me.Ea)-(Qe=$e&~(Ee=(Oe=1<<me.b)-1)),qe=se($e,me.b),Je=me.K,me=me.w+(Se>>me.b)*qe;Se<Be;){for(yt=Je,pt=me,$t=new Pe,mt=Ae+Qe,Rr=Ae+$e;Ae<mt;)Ot(yt[pt++],$t),Bd($t,Ze,Ae,Oe,le,ie),Ae+=Oe,ie+=Oe;Ae<Rr&&(Ot(yt[pt++],$t),Bd($t,Ze,Ae,rt,le,ie),Ae+=rt,ie+=rt),++Se&Ee||(me+=qe)}break;case 3:if($e==le&&Oe==ie&&0<me.b){for(Ae=le,$e=Ze=ie+(Be-Se)*Ze-(Qe=(Be-Se)*se(me.Ea,me.b)),Oe=le,Ee=ie,qe=[],Qe=(rt=Qe)-1;0<=Qe;--Qe)qe[Qe]=Oe[Ee+Qe];for(Qe=rt-1;0<=Qe;--Qe)Ae[$e+Qe]=qe[Qe];mo(me,Se,Be,le,Ze,le,ie)}else mo(me,Se,Be,$e,Oe,le,ie)}ie=W,le=M}le!=M&&n(W,M,ie,le,Z)}function ge(w,C){var M=w.V,W=w.Ba+w.c*w.C,Q=C-w.C;if(t(C<=w.l.o),t(16>=Q),0<Q){var Z=w.l,te=w.Ta,ie=w.Ua,le=Z.width;if(ee(w,Q,M,W),Q=ie=[ie],t((M=w.C)<(W=C)),t(Z.v<Z.va),W>Z.o&&(W=Z.o),M<Z.j){var me=Z.j-M;M=Z.j,Q[0]+=me*le}if(M>=W?M=0:(Q[0]+=4*Z.v,Z.ka=M-Z.j,Z.U=Z.va-Z.v,Z.T=W-M,M=1),M){if(ie=ie[0],11>(M=w.ca).S){var Se=M.f.RGBA,Be=(W=M.S,Q=Z.U,Z=Z.T,me=Se.eb,Se.A),$e=Z;for(Se=Se.fb+w.Ma*Se.A;0<$e--;){var Oe=te,Ze=ie,qe=Q,Ae=me,Ee=Se;switch(W){case ov:ws(Oe,Ze,qe,Ae,Ee);break;case lv:Ji(Oe,Ze,qe,Ae,Ee);break;case Q5:Ji(Oe,Ze,qe,Ae,Ee),vo(Ae,Ee,0,qe,1,0);break;case JC:Ac(Oe,Ze,qe,Ae,Ee);break;case cv:vn(Oe,Ze,qe,Ae,Ee,1);break;case J5:vn(Oe,Ze,qe,Ae,Ee,1),vo(Ae,Ee,0,qe,1,0);break;case uv:vn(Oe,Ze,qe,Ae,Ee,0);break;case dv:vn(Oe,Ze,qe,Ae,Ee,0),vo(Ae,Ee,1,qe,1,0);break;case K5:ju(Oe,Ze,qe,Ae,Ee);break;case Z5:ju(Oe,Ze,qe,Ae,Ee),bn(Ae,Ee,qe,1,0);break;case ZC:Sc(Oe,Ze,qe,Ae,Ee);break;default:t(0)}ie+=le,Se+=Be}w.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=M.height)}}w.C=C,t(w.C<=w.i)}function ue(w){var C;if(0<w.ua)return 0;for(C=0;C<w.Wb;++C){var M=w.Ya[C].G,W=w.Ya[C].H;if(0<M[1][W[1]+0].g||0<M[2][W[2]+0].g||0<M[3][W[3]+0].g)return 0}return 1}function de(w,C,M,W,Q,Z){if(w.Z!=0){var te=w.qd,ie=w.rd;for(t(Eu[w.Z]!=null);C<M;++C)Eu[w.Z](te,ie,W,Q,W,Q,Z),te=W,ie=Q,Q+=Z;w.qd=te,w.rd=ie}}function xe(w,C){var M=w.l.ma,W=M.Z==0||M.Z==1?w.l.j:w.C;if(W=w.C<W?W:w.C,t(C<=w.l.o),C>W){var Q=w.l.width,Z=M.ca,te=M.tb+Q*W,ie=w.V,le=w.Ba+w.c*W,me=w.gc;t(w.ab==1),t(me[0].hc==3),rv(me[0],W,C,ie,le,Z,te),de(M,W,C,Z,te,Q)}w.C=w.Ma=C}function be(w,C,M,W,Q,Z,te){var ie=w.$/W,le=w.$%W,me=w.m,Se=w.s,Be=M+w.$,$e=Be;Q=M+W*Q;var Oe=M+W*Z,Ze=280+Se.ua,qe=w.Pb?ie:16777216,Ae=0<Se.ua?Se.Wa:null,Ee=Se.wc,Qe=Be<Oe?Gn(Se,le,ie):null;t(w.C<Z),t(Oe<=Q);var rt=!1;e:for(;;){for(;rt||Be<Oe;){var Je=0;if(ie>=qe){var yt=Be-M;t((qe=w).Pb),qe.wd=qe.m,qe.xd=yt,0<qe.s.ua&&_e(qe.s.Wa,qe.s.vb),qe=ie+EH}if(le&Ee||(Qe=Gn(Se,le,ie)),t(Qe!=null),Qe.Qb&&(C[Be]=Qe.qb,rt=!0),!rt)if(X(me),Qe.jc){Je=me,yt=C;var pt=Be,$t=Qe.pd[P(Je)&mi-1];t(Qe.jc),256>$t.g?(H(Je,Je.u+$t.g),yt[pt]=$t.value,Je=0):(H(Je,Je.u+$t.g-256),t(256<=$t.value),Je=$t.value),Je==0&&(rt=!0)}else Je=ki(Qe.G[0],Qe.H[0],me);if(me.h)break;if(rt||256>Je){if(!rt)if(Qe.nd)C[Be]=(Qe.qb|Je<<8)>>>0;else{if(X(me),rt=ki(Qe.G[1],Qe.H[1],me),X(me),yt=ki(Qe.G[2],Qe.H[2],me),pt=ki(Qe.G[3],Qe.H[3],me),me.h)break;C[Be]=(pt<<24|rt<<16|Je<<8|yt)>>>0}if(rt=!1,++Be,++le>=W&&(le=0,++ie,te!=null&&ie<=Z&&!(ie%16)&&te(w,ie),Ae!=null))for(;$e<Be;)Je=C[$e++],Ae.X[(506832829*Je&4294967295)>>>Ae.Mb]=Je}else if(280>Je){if(Je=$s(Je-256,me),yt=ki(Qe.G[4],Qe.H[4],me),X(me),yt=vs(W,yt=$s(yt,me)),me.h)break;if(Be-M<yt||Q-Be<Je)break e;for(pt=0;pt<Je;++pt)C[Be+pt]=C[Be+pt-yt];for(Be+=Je,le+=Je;le>=W;)le-=W,++ie,te!=null&&ie<=Z&&!(ie%16)&&te(w,ie);if(t(Be<=Q),le&Ee&&(Qe=Gn(Se,le,ie)),Ae!=null)for(;$e<Be;)Je=C[$e++],Ae.X[(506832829*Je&4294967295)>>>Ae.Mb]=Je}else{if(!(Je<Ze))break e;for(rt=Je-280,t(Ae!=null);$e<Be;)Je=C[$e++],Ae.X[(506832829*Je&4294967295)>>>Ae.Mb]=Je;Je=Be,t(!(rt>>>(yt=Ae).Xa)),C[Je]=yt.X[rt],rt=!0}rt||t(me.h==R(me))}if(w.Pb&&me.h&&Be<Q)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&_e(w.s.vb,w.s.Wa);else{if(me.h)break e;te!=null&&te(w,ie>Z?Z:ie),w.a=0,w.$=Be-M}return 1}return w.a=3,0}function Re(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var C=w.Wa;C!=null&&(C.X=null),w.vb=null,t(w!=null)}function Ve(){var w=new G5;return w==null?null:(w.a=0,w.xb=rE,fo("Predictor","VP8LPredictors"),fo("Predictor","VP8LPredictors_C"),fo("PredictorAdd","VP8LPredictorsAdd"),fo("PredictorAdd","VP8LPredictorsAdd_C"),tv=Nt,Bd=Et,ws=it,Ji=Fr,ju=Dt,Sc=na,Ac=_r,A.VP8LMapColor32b=If,A.VP8LMapColor8b=nv,w)}function Fe(w,C,M,W,Q){var Z=1,te=[w],ie=[C],le=W.m,me=W.s,Se=null,Be=0;e:for(;;){if(M)for(;Z&&ae(le,1);){var $e=te,Oe=ie,Ze=W,qe=1,Ae=Ze.m,Ee=Ze.gc[Ze.ab],Qe=ae(Ae,2);if(Ze.Oc&1<<Qe)Z=0;else{switch(Ze.Oc|=1<<Qe,Ee.hc=Qe,Ee.Ea=$e[0],Ee.nc=Oe[0],Ee.K=[null],++Ze.ab,t(4>=Ze.ab),Qe){case 0:case 1:Ee.b=ae(Ae,3)+2,qe=Fe(se(Ee.Ea,Ee.b),se(Ee.nc,Ee.b),0,Ze,Ee.K),Ee.K=Ee.K[0];break;case 3:var rt,Je=ae(Ae,8)+1,yt=16<Je?0:4<Je?1:2<Je?2:3;if($e[0]=se(Ee.Ea,yt),Ee.b=yt,rt=qe=Fe(Je,1,0,Ze,Ee.K)){var pt,$t=Je,mt=Ee,Rr=1<<(8>>mt.b),Vr=i(Rr);if(Vr==null)rt=0;else{var jr=mt.K[0],mr=mt.w;for(Vr[0]=mt.K[0][0],pt=1;pt<1*$t;++pt)Vr[pt]=ce(jr[mr+pt],Vr[pt-1]);for(;pt<4*Rr;++pt)Vr[pt]=0;mt.K[0]=null,mt.K[0]=Vr,rt=1}}qe=rt;break;case 2:break;default:t(0)}Z=qe}}if(te=te[0],ie=ie[0],Z&&ae(le,1)&&!(Z=1<=(Be=ae(le,4))&&11>=Be)){W.a=3;break e}var fn;if(fn=Z)t:{var sn,ar,_a,_s=W,Na=te,Ns=ie,qr=Be,Ws=M,Vs=_s.m,Za=_s.s,xi=[null],es=1,wo=0,Ml=CH[qr];r:for(;;){if(Ws&&ae(Vs,1)){var ei=ae(Vs,3)+2,Tc=se(Na,ei),Wd=se(Ns,ei),Bf=Tc*Wd;if(!Fe(Tc,Wd,0,_s,xi))break r;for(xi=xi[0],Za.xc=ei,sn=0;sn<Bf;++sn){var ku=xi[sn]>>8&65535;xi[sn]=ku,ku>=es&&(es=ku+1)}}if(Vs.h)break r;for(ar=0;5>ar;++ar){var Xn=eE[ar];!ar&&0<qr&&(Xn+=1<<qr),wo<Xn&&(wo=Xn)}var n_=s(es*Ml,E),dE=es,fE=s(dE,B);if(fE==null)var mv=null;else t(65536>=dE),mv=fE;var Pm=i(wo);if(mv==null||Pm==null||n_==null){_s.a=1;break r}var xv=n_;for(sn=_a=0;sn<es;++sn){var il=mv[sn],$f=il.G,zf=il.H,hE=0,gv=1,pE=0;for(ar=0;5>ar;++ar){Xn=eE[ar],$f[ar]=xv,zf[ar]=_a,!ar&&0<qr&&(Xn+=1<<qr);a:{var vv,a_=Xn,bv=_s,Dm=Pm,YH=xv,XH=_a,i_=0,Tu=bv.m,KH=ae(Tu,1);if(a(Dm,0,0,a_),KH){var QH=ae(Tu,1)+1,JH=ae(Tu,1),mE=ae(Tu,JH==0?1:8);Dm[mE]=1,QH==2&&(Dm[mE=ae(Tu,8)]=1);var yv=1}else{var xE=i(19),gE=ae(Tu,4)+4;if(19<gE){bv.a=3;var wv=0;break a}for(vv=0;vv<gE;++vv)xE[SH[vv]]=ae(Tu,3);var s_=void 0,Im=void 0,vE=bv,ZH=xE,_v=a_,bE=Dm,o_=0,Ou=vE.m,yE=8,wE=s(128,E);n:for(;O(wE,0,7,ZH,19);){if(ae(Ou,1)){var eW=2+2*ae(Ou,3);if((s_=2+ae(Ou,eW))>_v)break n}else s_=_v;for(Im=0;Im<_v&&s_--;){X(Ou);var _E=wE[0+(127&P(Ou))];H(Ou,Ou.u+_E.g);var Uf=_E.value;if(16>Uf)bE[Im++]=Uf,Uf!=0&&(yE=Uf);else{var tW=Uf==16,NE=Uf-16,rW=NH[NE],jE=ae(Ou,_H[NE])+rW;if(Im+jE>_v)break n;for(var nW=tW?yE:0;0<jE--;)bE[Im++]=nW}}o_=1;break n}o_||(vE.a=3),yv=o_}(yv=yv&&!Tu.h)&&(i_=O(YH,XH,8,Dm,a_)),yv&&i_!=0?wv=i_:(bv.a=3,wv=0)}if(wv==0)break r;if(gv&&jH[ar]==1&&(gv=xv[_a].g==0),hE+=xv[_a].g,_a+=wv,3>=ar){var Mm,l_=Pm[0];for(Mm=1;Mm<Xn;++Mm)Pm[Mm]>l_&&(l_=Pm[Mm]);pE+=l_}}if(il.nd=gv,il.Qb=0,gv&&(il.qb=($f[3][zf[3]+0].value<<24|$f[1][zf[1]+0].value<<16|$f[2][zf[2]+0].value)>>>0,hE==0&&256>$f[0][zf[0]+0].value&&(il.Qb=1,il.qb+=$f[0][zf[0]+0].value<<8)),il.jc=!il.Qb&&6>pE,il.jc){var Nv,Oc=il;for(Nv=0;Nv<mi;++Nv){var Pu=Nv,Du=Oc.pd[Pu],jv=Oc.G[0][Oc.H[0]+Pu];256<=jv.value?(Du.g=jv.g+256,Du.value=jv.value):(Du.g=0,Du.value=0,Pu>>=aa(jv,8,Du),Pu>>=aa(Oc.G[1][Oc.H[1]+Pu],16,Du),Pu>>=aa(Oc.G[2][Oc.H[2]+Pu],0,Du),aa(Oc.G[3][Oc.H[3]+Pu],24,Du))}}}Za.vc=xi,Za.Wb=es,Za.Ya=mv,Za.yc=n_,fn=1;break t}fn=0}if(!(Z=fn)){W.a=3;break e}if(0<Be){if(me.ua=1<<Be,!Le(me.Wa,Be)){W.a=1,Z=0;break e}}else me.ua=0;var c_=W,SE=te,aW=ie,u_=c_.s,d_=u_.xc;if(c_.c=SE,c_.i=aW,u_.md=se(SE,d_),u_.wc=d_==0?-1:(1<<d_)-1,M){W.xb=MH;break e}if((Se=i(te*ie))==null){W.a=1,Z=0;break e}Z=(Z=be(W,Se,0,te,ie,ie,null))&&!le.h;break e}return Z?(Q!=null?Q[0]=Se:(t(Se==null),t(M)),W.$=0,M||Re(me)):Re(me),Z}function Ue(w,C){var M=w.c*w.i,W=M+C+16*C;return t(w.c<=C),w.V=i(W),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+M+C,1)}function He(w,C){var M=w.C,W=C-M,Q=w.V,Z=w.Ba+w.c*M;for(t(C<=w.l.o);0<W;){var te=16<W?16:W,ie=w.l.ma,le=w.l.width,me=le*te,Se=ie.ca,Be=ie.tb+le*M,$e=w.Ta,Oe=w.Ua;ee(w,te,Q,Z),oa($e,Oe,Se,Be,me),de(ie,M,M+te,Se,Be,le),W-=te,Q+=te*w.c,M+=te}t(M==C),w.C=w.Ma=C}function at(){this.ub=this.yd=this.td=this.Rb=0}function ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function st(){this.Yb=function(){var w=[];return function C(M,W,Q){for(var Z=Q[W],te=0;te<Z&&(M.push(Q.length>W+1?[]:0),!(Q.length<W+1));te++)C(M[te],W+1,Q)}(w,0,[3,11]),w}()}function xt(){this.jb=i(3),this.Wc=l([4,8],st),this.Xc=l([4,17],st)}function Yt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zr(){this.ld=this.La=this.dd=this.tc=0}function an(){this.Na=this.la=0}function ya(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _c(){this.uc=this.M=this.Nb=0,this.wa=Array(new zr),this.Y=0,this.ya=Array(new Zo),this.aa=0,this.l=new Ol}function Tl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function el(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new at,this.Kc=new ot,this.ed=new Yt,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new _c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,he),this.ia=0,this.pb=s(4,ya),this.Pa=new xt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Tl),this.Hd=0,this.rb=Array(new an),this.sb=0,this.wa=Array(new zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zo),this.L=this.aa=0,this.gd=l([4,2],zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ol(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zs(){var w=new el;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Tm||(Tm=$g)),w}function ia(w,C,M){return w.a==0&&(w.a=C,w.sc=M,w.cb=0),0}function Lg(w,C,M){return 3<=M&&w[C+0]==157&&w[C+1]==1&&w[C+2]==42}function Bg(w,C){if(w==null)return 0;if(w.a=0,w.sc="OK",C==null)return ia(w,2,"null VP8Io passed to VP8GetHeaders()");var M=C.data,W=C.w,Q=C.ha;if(4>Q)return ia(w,7,"Truncated header.");var Z=M[W+0]|M[W+1]<<8|M[W+2]<<16,te=w.Od;if(te.Rb=!(1&Z),te.td=Z>>1&7,te.yd=Z>>4&1,te.ub=Z>>5,3<te.td)return ia(w,3,"Incorrect keyframe parameters.");if(!te.yd)return ia(w,4,"Frame not displayable.");W+=3,Q-=3;var ie=w.Kc;if(te.Rb){if(7>Q)return ia(w,7,"cannot parse picture header");if(!Lg(M,W,Q))return ia(w,3,"Bad code word");ie.c=16383&(M[W+4]<<8|M[W+3]),ie.Td=M[W+4]>>6,ie.i=16383&(M[W+6]<<8|M[W+5]),ie.Ud=M[W+6]>>6,W+=7,Q-=7,w.za=ie.c+15>>4,w.Ub=ie.i+15>>4,C.width=ie.c,C.height=ie.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((Z=w.Pa).jb,0,255,Z.jb.length),t((Z=w.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,a(Z.Zb,0,0,Z.Zb.length),a(Z.Lb,0,0,Z.Lb)}if(te.ub>Q)return ia(w,7,"bad partition length");G(Z=w.m,M,W,te.ub),W+=te.ub,Q-=te.ub,te.Rb&&(ie.Ld=fe(Z),ie.Kd=fe(Z)),ie=w.Qa;var le,me=w.Pa;if(t(Z!=null),t(ie!=null),ie.Cb=fe(Z),ie.Cb){if(ie.Bb=fe(Z),fe(Z)){for(ie.Fb=fe(Z),le=0;4>le;++le)ie.Zb[le]=fe(Z)?V(Z,7):0;for(le=0;4>le;++le)ie.Lb[le]=fe(Z)?V(Z,6):0}if(ie.Bb)for(le=0;3>le;++le)me.jb[le]=fe(Z)?z(Z,8):255}else ie.Bb=0;if(Z.Ka)return ia(w,3,"cannot parse segment header");if((ie=w.ed).zd=fe(Z),ie.Tb=z(Z,6),ie.wb=z(Z,3),ie.Pc=fe(Z),ie.Pc&&fe(Z)){for(me=0;4>me;++me)fe(Z)&&(ie.vd[me]=V(Z,6));for(me=0;4>me;++me)fe(Z)&&(ie.od[me]=V(Z,6))}if(w.L=ie.Tb==0?0:ie.zd?1:2,Z.Ka)return ia(w,3,"cannot parse filter header");var Se=Q;if(Q=le=W,W=le+Se,ie=Se,w.Xb=(1<<z(w.m,2))-1,Se<3*(me=w.Xb))M=7;else{for(le+=3*me,ie-=3*me,Se=0;Se<me;++Se){var Be=M[Q+0]|M[Q+1]<<8|M[Q+2]<<16;Be>ie&&(Be=ie),G(w.Jc[+Se],M,le,Be),le+=Be,ie-=Be,Q+=3}G(w.Jc[+me],M,le,ie),M=le<W?0:5}if(M!=0)return ia(w,M,"cannot parse partitions");for(M=z(le=w.m,7),Q=fe(le)?V(le,4):0,W=fe(le)?V(le,4):0,ie=fe(le)?V(le,4):0,me=fe(le)?V(le,4):0,le=fe(le)?V(le,4):0,Se=w.Qa,Be=0;4>Be;++Be){if(Se.Cb){var $e=Se.Zb[Be];Se.Fb||($e+=M)}else{if(0<Be){w.pb[Be]=w.pb[0];continue}$e=M}var Oe=w.pb[Be];Oe.Sc[0]=e_[Us($e+Q,127)],Oe.Sc[1]=t_[Us($e+0,127)],Oe.Eb[0]=2*e_[Us($e+W,127)],Oe.Eb[1]=101581*t_[Us($e+ie,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=e_[Us($e+me,117)],Oe.Qc[1]=t_[Us($e+le,127)],Oe.lc=$e+le}if(!te.Rb)return ia(w,4,"Not a key frame.");for(fe(Z),te=w.Pa,M=0;4>M;++M){for(Q=0;8>Q;++Q)for(W=0;3>W;++W)for(ie=0;11>ie;++ie)me=re(Z,DH[M][Q][W][ie])?z(Z,8):OH[M][Q][W][ie],te.Wc[M][Q].Yb[W][ie]=me;for(Q=0;17>Q;++Q)te.Xc[M][Q]=te.Wc[M][IH[Q]]}return w.kc=fe(Z),w.kc&&(w.Bd=z(Z,8)),w.cb=1}function $g(w,C,M,W,Q,Z,te){var ie=C[Q].Yb[M];for(M=0;16>Q;++Q){if(!re(w,ie[M+0]))return Q;for(;!re(w,ie[M+1]);)if(ie=C[++Q].Yb[0],M=0,Q==16)return 16;var le=C[Q+1].Yb;if(re(w,ie[M+2])){var me=w,Se=0;if(re(me,($e=ie)[(Be=M)+3]))if(re(me,$e[Be+6])){for(ie=0,Be=2*(Se=re(me,$e[Be+8]))+($e=re(me,$e[Be+9+Se])),Se=0,$e=kH[Be];$e[ie];++ie)Se+=Se+re(me,$e[ie]);Se+=3+(8<<Be)}else re(me,$e[Be+7])?(Se=7+2*re(me,165),Se+=re(me,145)):Se=5+re(me,159);else Se=re(me,$e[Be+4])?3+re(me,$e[Be+5]):2;ie=le[2]}else Se=1,ie=le[1];le=te+TH[Q],0>(me=w).b&&oe(me);var Be,$e=me.b,Oe=(Be=me.Ca>>1)-(me.I>>$e)>>31;--me.b,me.Ca+=Oe,me.Ca|=1,me.I-=(Be+1&Oe)<<$e,Z[le]=((Se^Oe)-Oe)*W[(0<Q)+0]}return 16}function om(w){var C=w.rb[w.sb-1];C.la=0,C.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function T5(w,C){if(w==null)return 0;if(C==null)return ia(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!Bg(w,C))return 0;if(t(w.cb),C.ac==null||C.ac(C)){C.ob&&(w.L=0);var M=pv[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=C.v-M>>4,w.zb=C.j-M>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=C.o+15+M>>4,w.Hb=C.va+15+M>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var W=w.ed;for(M=0;4>M;++M){var Q;if(w.Qa.Cb){var Z=w.Qa.Lb[M];w.Qa.Fb||(Z+=W.Tb)}else Z=W.Tb;for(Q=0;1>=Q;++Q){var te=w.gd[M][Q],ie=Z;if(W.Pc&&(ie+=W.vd[0],Q&&(ie+=W.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var le=ie;0<W.wb&&(le=4<W.wb?le>>2:le>>1)>9-W.wb&&(le=9-W.wb),1>le&&(le=1),te.dd=le,te.tc=2*ie+le,te.ld=40<=ie?2:15<=ie?1:0}else te.tc=0;te.La=Q}}}M=0}else ia(w,6,"Frame setup failed"),M=w.a;if(M=M==0){if(M){w.$c=0,0<w.Aa||(w.Ic=GH);e:{M=w.Ic,W=4*(le=w.za);var me=32*le,Se=le+1,Be=0<w.L?le*(0<w.Aa?2:1):0,$e=(w.Aa==2?2:1)*le;if((te=W+832+(Q=3*(16*M+pv[w.L])/2*me)+(Z=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=te)M=0;else{if(te>w.Vb){if(w.Vb=0,w.Ec=i(te),w.Fc=0,w.Ec==null){M=ia(w,1,"no memory during frame initialization.");break e}w.Vb=te}te=w.Ec,ie=w.Fc,w.Ac=te,w.Bc=ie,ie+=W,w.Gd=s(me,Tl),w.Hd=0,w.rb=s(Se+1,an),w.sb=1,w.wa=Be?s(Be,zr):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=le),t(!0),w.oc=te,w.pc=ie,ie+=832,w.ya=s($e,Zo),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=le),w.R=16*le,w.B=8*le,le=(me=pv[w.L])*w.R,me=me/2*w.B,w.sa=te,w.ta=ie+le,w.qa=w.sa,w.ra=w.ta+16*M*w.R+me,w.Ha=w.qa,w.Ia=w.ra+8*M*w.B+me,w.$c=0,ie+=Q,w.mb=Z?te:null,w.nb=Z?ie:null,t(ie+Z<=w.Fc+w.Vb),om(w),a(w.Ac,w.Bc,0,W),M=1}}if(M){if(C.ka=0,C.y=w.sa,C.O=w.ta,C.f=w.qa,C.N=w.ra,C.ea=w.Ha,C.Vd=w.Ia,C.fa=w.R,C.Rc=w.B,C.F=null,C.J=0,!iv){for(M=-255;255>=M;++M)Ma[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)Ec[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)km[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Lf[255+M]=0>M?0:255<M?255:M;iv=1}Mf=D5,Cc=O5,Am=Ug,Zi=P5,xo=Hg,sa=zg,Ff=hm,av=Rd,Cm=q5,$d=pm,zd=V5,Su=Af,Ud=mm,Rf=Jg,Hd=Qg,Au=Dl,Em=jc,go=W5,al[0]=Pl,al[1]=I5,al[2]=L5,al[3]=B5,al[4]=qg,al[5]=jf,al[6]=Gg,al[7]=um,al[8]=z5,al[9]=$5,Cu[0]=Wg,Cu[1]=F5,Cu[2]=Nc,Cu[3]=_f,Cu[4]=Ti,Cu[5]=R5,Cu[6]=Vg,kc[0]=yu,kc[1]=M5,kc[2]=U5,kc[3]=dm,kc[4]=Fd,kc[5]=H5,kc[6]=fm,M=1}else M=0}M&&(M=function(Oe,Ze){for(Oe.M=0;Oe.M<Oe.Va;++Oe.M){var qe,Ae=Oe.Jc[Oe.M&Oe.Xb],Ee=Oe.m,Qe=Oe;for(qe=0;qe<Qe.za;++qe){var rt=Ee,Je=Qe,yt=Je.Ac,pt=Je.Bc+4*qe,$t=Je.zc,mt=Je.ya[Je.aa+qe];if(Je.Qa.Bb?mt.$b=re(rt,Je.Pa.jb[0])?2+re(rt,Je.Pa.jb[2]):re(rt,Je.Pa.jb[1]):mt.$b=0,Je.kc&&(mt.Ad=re(rt,Je.Bd)),mt.Za=!re(rt,145)+0,mt.Za){var Rr=mt.Ob,Vr=0;for(Je=0;4>Je;++Je){var jr,mr=$t[0+Je];for(jr=0;4>jr;++jr){mr=PH[yt[pt+jr]][mr];for(var fn=tE[re(rt,mr[0])];0<fn;)fn=tE[2*fn+re(rt,mr[fn])];mr=-fn,yt[pt+jr]=mr}n(Rr,Vr,yt,pt,4),Vr+=4,$t[0+Je]=mr}}else mr=re(rt,156)?re(rt,128)?1:3:re(rt,163)?2:0,mt.Ob[0]=mr,a(yt,pt,mr,4),a($t,0,mr,4);mt.Dd=re(rt,142)?re(rt,114)?re(rt,183)?1:3:2:0}if(Qe.m.Ka)return ia(Oe,7,"Premature end-of-partition0 encountered.");for(;Oe.ja<Oe.za;++Oe.ja){if(Qe=Ae,rt=(Ee=Oe).rb[Ee.sb-1],yt=Ee.rb[Ee.sb+Ee.ja],qe=Ee.ya[Ee.aa+Ee.ja],pt=Ee.kc?qe.Ad:0)rt.la=yt.la=0,qe.Za||(rt.Na=yt.Na=0),qe.Hc=0,qe.Gc=0,qe.ia=0;else{var sn,ar;if(rt=yt,yt=Qe,pt=Ee.Pa.Xc,$t=Ee.ya[Ee.aa+Ee.ja],mt=Ee.pb[$t.$b],Je=$t.ad,Rr=0,Vr=Ee.rb[Ee.sb-1],mr=jr=0,a(Je,Rr,0,384),$t.Za)var _a=0,_s=pt[3];else{fn=i(16);var Na=rt.Na+Vr.Na;if(Na=Tm(yt,pt[1],Na,mt.Eb,0,fn,0),rt.Na=Vr.Na=(0<Na)+0,1<Na)Mf(fn,0,Je,Rr);else{var Ns=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)Je[Rr+fn]=Ns}_a=1,_s=pt[0]}var qr=15&rt.la,Ws=15&Vr.la;for(fn=0;4>fn;++fn){var Vs=1&Ws;for(Ns=ar=0;4>Ns;++Ns)qr=qr>>1|(Vs=(Na=Tm(yt,_s,Na=Vs+(1&qr),mt.Sc,_a,Je,Rr))>_a)<<7,ar=ar<<2|(3<Na?3:1<Na?2:Je[Rr+0]!=0),Rr+=16;qr>>=4,Ws=Ws>>1|Vs<<7,jr=(jr<<8|ar)>>>0}for(_s=qr,_a=Ws>>4,sn=0;4>sn;sn+=2){for(ar=0,qr=rt.la>>4+sn,Ws=Vr.la>>4+sn,fn=0;2>fn;++fn){for(Vs=1&Ws,Ns=0;2>Ns;++Ns)Na=Vs+(1&qr),qr=qr>>1|(Vs=0<(Na=Tm(yt,pt[2],Na,mt.Qc,0,Je,Rr)))<<3,ar=ar<<2|(3<Na?3:1<Na?2:Je[Rr+0]!=0),Rr+=16;qr>>=2,Ws=Ws>>1|Vs<<5}mr|=ar<<4*sn,_s|=qr<<4<<sn,_a|=(240&Ws)<<sn}rt.la=_s,Vr.la=_a,$t.Hc=jr,$t.Gc=mr,$t.ia=43690&mr?0:mt.ia,pt=!(jr|mr)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[qe.$b][qe.Za],Ee.wa[Ee.Y+Ee.ja].La|=!pt),Qe.Ka)return ia(Oe,7,"Premature end-of-file encountered.")}if(om(Oe),Ee=Ze,Qe=1,qe=(Ae=Oe).D,rt=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,Ae.Aa==0)e:{if(qe.M=Ae.M,qe.uc=rt,wm(Ae,qe),Qe=1,qe=(ar=Ae.D).Nb,rt=(mr=pv[Ae.L])*Ae.R,yt=mr/2*Ae.B,fn=16*qe*Ae.R,Ns=8*qe*Ae.B,pt=Ae.sa,$t=Ae.ta-rt+fn,mt=Ae.qa,Je=Ae.ra-yt+Ns,Rr=Ae.Ha,Vr=Ae.Ia-yt+Ns,Ws=(qr=ar.M)==0,jr=qr>=Ae.Va-1,Ae.Aa==2&&wm(Ae,ar),ar.uc)for(Vs=(Na=Ae).D.M,t(Na.D.uc),ar=Na.yb;ar<Na.Hb;++ar){_a=ar,_s=Vs;var Za=(xi=(Xn=Na).D).Nb;sn=Xn.R;var xi=xi.wa[xi.Y+_a],es=Xn.sa,wo=Xn.ta+16*Za*sn+16*_a,Ml=xi.dd,ei=xi.tc;if(ei!=0)if(t(3<=ei),Xn.L==1)0<_a&&Au(es,wo,sn,ei+4),xi.La&&go(es,wo,sn,ei),0<_s&&Hd(es,wo,sn,ei+4),xi.La&&Em(es,wo,sn,ei);else{var Tc=Xn.B,Wd=Xn.qa,Bf=Xn.ra+8*Za*Tc+8*_a,ku=Xn.Ha,Xn=Xn.Ia+8*Za*Tc+8*_a;Za=xi.ld,0<_a&&(av(es,wo,sn,ei+4,Ml,Za),$d(Wd,Bf,ku,Xn,Tc,ei+4,Ml,Za)),xi.La&&(Su(es,wo,sn,ei,Ml,Za),Rf(Wd,Bf,ku,Xn,Tc,ei,Ml,Za)),0<_s&&(Ff(es,wo,sn,ei+4,Ml,Za),Cm(Wd,Bf,ku,Xn,Tc,ei+4,Ml,Za)),xi.La&&(zd(es,wo,sn,ei,Ml,Za),Ud(Wd,Bf,ku,Xn,Tc,ei,Ml,Za))}}if(Ae.ia&&alert("todo:DitherRow"),Ee.put!=null){if(ar=16*qr,qr=16*(qr+1),Ws?(Ee.y=Ae.sa,Ee.O=Ae.ta+fn,Ee.f=Ae.qa,Ee.N=Ae.ra+Ns,Ee.ea=Ae.Ha,Ee.W=Ae.Ia+Ns):(ar-=mr,Ee.y=pt,Ee.O=$t,Ee.f=mt,Ee.N=Je,Ee.ea=Rr,Ee.W=Vr),jr||(qr-=mr),qr>Ee.o&&(qr=Ee.o),Ee.F=null,Ee.J=null,Ae.Fa!=null&&0<Ae.Fa.length&&ar<qr&&(Ee.J=bm(Ae,Ee,ar,qr-ar),Ee.F=Ae.mb,Ee.F==null&&Ee.F.length==0)){Qe=ia(Ae,3,"Could not decode alpha data.");break e}ar<Ee.j&&(mr=Ee.j-ar,ar=Ee.j,t(!(1&mr)),Ee.O+=Ae.R*mr,Ee.N+=Ae.B*(mr>>1),Ee.W+=Ae.B*(mr>>1),Ee.F!=null&&(Ee.J+=Ee.width*mr)),ar<qr&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=ar-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=qr-ar,Qe=Ee.put(Ee))}qe+1!=Ae.Ic||jr||(n(Ae.sa,Ae.ta-rt,pt,$t+16*Ae.R,rt),n(Ae.qa,Ae.ra-yt,mt,Je+8*Ae.B,yt),n(Ae.Ha,Ae.Ia-yt,Rr,Vr+8*Ae.B,yt))}if(!Qe)return ia(Oe,6,"Output aborted.")}return 1}(w,C)),C.bc!=null&&C.bc(C),M&=1}return M?(w.cb=0,M):0}function tl(w,C,M,W,Q){Q=w[C+M+32*W]+(Q>>3),w[C+M+32*W]=-256&Q?0>Q?0:255:Q}function wf(w,C,M,W,Q,Z){tl(w,C,0,M,W+Q),tl(w,C,1,M,W+Z),tl(w,C,2,M,W-Z),tl(w,C,3,M,W-Q)}function bs(w){return(20091*w>>16)+w}function lm(w,C,M,W){var Q,Z=0,te=i(16);for(Q=0;4>Q;++Q){var ie=w[C+0]+w[C+8],le=w[C+0]-w[C+8],me=(35468*w[C+4]>>16)-bs(w[C+12]),Se=bs(w[C+4])+(35468*w[C+12]>>16);te[Z+0]=ie+Se,te[Z+1]=le+me,te[Z+2]=le-me,te[Z+3]=ie-Se,Z+=4,C++}for(Q=Z=0;4>Q;++Q)ie=(w=te[Z+0]+4)+te[Z+8],le=w-te[Z+8],me=(35468*te[Z+4]>>16)-bs(te[Z+12]),tl(M,W,0,0,ie+(Se=bs(te[Z+4])+(35468*te[Z+12]>>16))),tl(M,W,1,0,le+me),tl(M,W,2,0,le-me),tl(M,W,3,0,ie-Se),Z++,W+=32}function zg(w,C,M,W){var Q=w[C+0]+4,Z=35468*w[C+4]>>16,te=bs(w[C+4]),ie=35468*w[C+1]>>16;wf(M,W,0,Q+te,w=bs(w[C+1]),ie),wf(M,W,1,Q+Z,w,ie),wf(M,W,2,Q-Z,w,ie),wf(M,W,3,Q-te,w,ie)}function O5(w,C,M,W,Q){lm(w,C,M,W),Q&&lm(w,C+16,M,W+4)}function Ug(w,C,M,W){Cc(w,C+0,M,W,1),Cc(w,C+32,M,W+128,1)}function P5(w,C,M,W){var Q;for(w=w[C+0]+4,Q=0;4>Q;++Q)for(C=0;4>C;++C)tl(M,W,C,Q,w)}function Hg(w,C,M,W){w[C+0]&&Zi(w,C+0,M,W),w[C+16]&&Zi(w,C+16,M,W+4),w[C+32]&&Zi(w,C+32,M,W+128),w[C+48]&&Zi(w,C+48,M,W+128+4)}function D5(w,C,M,W){var Q,Z=i(16);for(Q=0;4>Q;++Q){var te=w[C+0+Q]+w[C+12+Q],ie=w[C+4+Q]+w[C+8+Q],le=w[C+4+Q]-w[C+8+Q],me=w[C+0+Q]-w[C+12+Q];Z[0+Q]=te+ie,Z[8+Q]=te-ie,Z[4+Q]=me+le,Z[12+Q]=me-le}for(Q=0;4>Q;++Q)te=(w=Z[0+4*Q]+3)+Z[3+4*Q],ie=Z[1+4*Q]+Z[2+4*Q],le=Z[1+4*Q]-Z[2+4*Q],me=w-Z[3+4*Q],M[W+0]=te+ie>>3,M[W+16]=me+le>>3,M[W+32]=te-ie>>3,M[W+48]=me-le>>3,W+=64}function cm(w,C,M){var W,Q=C-32,Z=Hs,te=255-w[Q-1];for(W=0;W<M;++W){var ie,le=Z,me=te+w[C-1];for(ie=0;ie<M;++ie)w[C+ie]=le[me+w[Q+ie]];C+=32}}function I5(w,C){cm(w,C,4)}function M5(w,C){cm(w,C,8)}function F5(w,C){cm(w,C,16)}function Nc(w,C){var M;for(M=0;16>M;++M)n(w,C+32*M,w,C-32,16)}function _f(w,C){var M;for(M=16;0<M;--M)a(w,C,w[C-1],16),C+=32}function Nf(w,C,M){var W;for(W=0;16>W;++W)a(C,M+32*W,w,16)}function Wg(w,C){var M,W=16;for(M=0;16>M;++M)W+=w[C-1+32*M]+w[C+M-32];Nf(W>>5,w,C)}function Ti(w,C){var M,W=8;for(M=0;16>M;++M)W+=w[C-1+32*M];Nf(W>>4,w,C)}function R5(w,C){var M,W=8;for(M=0;16>M;++M)W+=w[C+M-32];Nf(W>>4,w,C)}function Vg(w,C){Nf(128,w,C)}function Qt(w,C,M){return w+2*C+M+2>>2}function L5(w,C){var M,W=C-32;for(W=new Uint8Array([Qt(w[W-1],w[W+0],w[W+1]),Qt(w[W+0],w[W+1],w[W+2]),Qt(w[W+1],w[W+2],w[W+3]),Qt(w[W+2],w[W+3],w[W+4])]),M=0;4>M;++M)n(w,C+32*M,W,0,W.length)}function B5(w,C){var M=w[C-1],W=w[C-1+32],Q=w[C-1+64],Z=w[C-1+96];ve(w,C+0,16843009*Qt(w[C-1-32],M,W)),ve(w,C+32,16843009*Qt(M,W,Q)),ve(w,C+64,16843009*Qt(W,Q,Z)),ve(w,C+96,16843009*Qt(Q,Z,Z))}function Pl(w,C){var M,W=4;for(M=0;4>M;++M)W+=w[C+M-32]+w[C-1+32*M];for(W>>=3,M=0;4>M;++M)a(w,C+32*M,W,4)}function qg(w,C){var M=w[C-1+0],W=w[C-1+32],Q=w[C-1+64],Z=w[C-1-32],te=w[C+0-32],ie=w[C+1-32],le=w[C+2-32],me=w[C+3-32];w[C+0+96]=Qt(W,Q,w[C-1+96]),w[C+1+96]=w[C+0+64]=Qt(M,W,Q),w[C+2+96]=w[C+1+64]=w[C+0+32]=Qt(Z,M,W),w[C+3+96]=w[C+2+64]=w[C+1+32]=w[C+0+0]=Qt(te,Z,M),w[C+3+64]=w[C+2+32]=w[C+1+0]=Qt(ie,te,Z),w[C+3+32]=w[C+2+0]=Qt(le,ie,te),w[C+3+0]=Qt(me,le,ie)}function Gg(w,C){var M=w[C+1-32],W=w[C+2-32],Q=w[C+3-32],Z=w[C+4-32],te=w[C+5-32],ie=w[C+6-32],le=w[C+7-32];w[C+0+0]=Qt(w[C+0-32],M,W),w[C+1+0]=w[C+0+32]=Qt(M,W,Q),w[C+2+0]=w[C+1+32]=w[C+0+64]=Qt(W,Q,Z),w[C+3+0]=w[C+2+32]=w[C+1+64]=w[C+0+96]=Qt(Q,Z,te),w[C+3+32]=w[C+2+64]=w[C+1+96]=Qt(Z,te,ie),w[C+3+64]=w[C+2+96]=Qt(te,ie,le),w[C+3+96]=Qt(ie,le,le)}function jf(w,C){var M=w[C-1+0],W=w[C-1+32],Q=w[C-1+64],Z=w[C-1-32],te=w[C+0-32],ie=w[C+1-32],le=w[C+2-32],me=w[C+3-32];w[C+0+0]=w[C+1+64]=Z+te+1>>1,w[C+1+0]=w[C+2+64]=te+ie+1>>1,w[C+2+0]=w[C+3+64]=ie+le+1>>1,w[C+3+0]=le+me+1>>1,w[C+0+96]=Qt(Q,W,M),w[C+0+64]=Qt(W,M,Z),w[C+0+32]=w[C+1+96]=Qt(M,Z,te),w[C+1+32]=w[C+2+96]=Qt(Z,te,ie),w[C+2+32]=w[C+3+96]=Qt(te,ie,le),w[C+3+32]=Qt(ie,le,me)}function um(w,C){var M=w[C+0-32],W=w[C+1-32],Q=w[C+2-32],Z=w[C+3-32],te=w[C+4-32],ie=w[C+5-32],le=w[C+6-32],me=w[C+7-32];w[C+0+0]=M+W+1>>1,w[C+1+0]=w[C+0+64]=W+Q+1>>1,w[C+2+0]=w[C+1+64]=Q+Z+1>>1,w[C+3+0]=w[C+2+64]=Z+te+1>>1,w[C+0+32]=Qt(M,W,Q),w[C+1+32]=w[C+0+96]=Qt(W,Q,Z),w[C+2+32]=w[C+1+96]=Qt(Q,Z,te),w[C+3+32]=w[C+2+96]=Qt(Z,te,ie),w[C+3+64]=Qt(te,ie,le),w[C+3+96]=Qt(ie,le,me)}function $5(w,C){var M=w[C-1+0],W=w[C-1+32],Q=w[C-1+64],Z=w[C-1+96];w[C+0+0]=M+W+1>>1,w[C+2+0]=w[C+0+32]=W+Q+1>>1,w[C+2+32]=w[C+0+64]=Q+Z+1>>1,w[C+1+0]=Qt(M,W,Q),w[C+3+0]=w[C+1+32]=Qt(W,Q,Z),w[C+3+32]=w[C+1+64]=Qt(Q,Z,Z),w[C+3+64]=w[C+2+64]=w[C+0+96]=w[C+1+96]=w[C+2+96]=w[C+3+96]=Z}function z5(w,C){var M=w[C-1+0],W=w[C-1+32],Q=w[C-1+64],Z=w[C-1+96],te=w[C-1-32],ie=w[C+0-32],le=w[C+1-32],me=w[C+2-32];w[C+0+0]=w[C+2+32]=M+te+1>>1,w[C+0+32]=w[C+2+64]=W+M+1>>1,w[C+0+64]=w[C+2+96]=Q+W+1>>1,w[C+0+96]=Z+Q+1>>1,w[C+3+0]=Qt(ie,le,me),w[C+2+0]=Qt(te,ie,le),w[C+1+0]=w[C+3+32]=Qt(M,te,ie),w[C+1+32]=w[C+3+64]=Qt(W,M,te),w[C+1+64]=w[C+3+96]=Qt(Q,W,M),w[C+1+96]=Qt(Z,Q,W)}function U5(w,C){var M;for(M=0;8>M;++M)n(w,C+32*M,w,C-32,8)}function dm(w,C){var M;for(M=0;8>M;++M)a(w,C,w[C-1],8),C+=32}function Md(w,C,M){var W;for(W=0;8>W;++W)a(C,M+32*W,w,8)}function yu(w,C){var M,W=8;for(M=0;8>M;++M)W+=w[C+M-32]+w[C-1+32*M];Md(W>>4,w,C)}function H5(w,C){var M,W=4;for(M=0;8>M;++M)W+=w[C+M-32];Md(W>>3,w,C)}function Fd(w,C){var M,W=4;for(M=0;8>M;++M)W+=w[C-1+32*M];Md(W>>3,w,C)}function fm(w,C){Md(128,w,C)}function Sf(w,C,M){var W=w[C-M],Q=w[C+0],Z=3*(Q-W)+X5[1020+w[C-2*M]-w[C+M]],te=sv[112+(Z+4>>3)];w[C-M]=Hs[255+W+sv[112+(Z+3>>3)]],w[C+0]=Hs[255+Q-te]}function Yg(w,C,M,W){var Q=w[C+0],Z=w[C+M];return bo[255+w[C-2*M]-w[C-M]]>W||bo[255+Z-Q]>W}function Xg(w,C,M,W){return 4*bo[255+w[C-M]-w[C+0]]+bo[255+w[C-2*M]-w[C+M]]<=W}function Kg(w,C,M,W,Q){var Z=w[C-3*M],te=w[C-2*M],ie=w[C-M],le=w[C+0],me=w[C+M],Se=w[C+2*M],Be=w[C+3*M];return 4*bo[255+ie-le]+bo[255+te-me]>W?0:bo[255+w[C-4*M]-Z]<=Q&&bo[255+Z-te]<=Q&&bo[255+te-ie]<=Q&&bo[255+Be-Se]<=Q&&bo[255+Se-me]<=Q&&bo[255+me-le]<=Q}function Qg(w,C,M,W){var Q=2*W+1;for(W=0;16>W;++W)Xg(w,C+W,M,Q)&&Sf(w,C+W,M)}function Dl(w,C,M,W){var Q=2*W+1;for(W=0;16>W;++W)Xg(w,C+W*M,1,Q)&&Sf(w,C+W*M,1)}function jc(w,C,M,W){var Q;for(Q=3;0<Q;--Q)Qg(w,C+=4*M,M,W)}function W5(w,C,M,W){var Q;for(Q=3;0<Q;--Q)Dl(w,C+=4,M,W)}function wu(w,C,M,W,Q,Z,te,ie){for(Z=2*Z+1;0<Q--;){if(Kg(w,C,M,Z,te))if(Yg(w,C,M,ie))Sf(w,C,M);else{var le=w,me=C,Se=M,Be=le[me-2*Se],$e=le[me-Se],Oe=le[me+0],Ze=le[me+Se],qe=le[me+2*Se],Ae=27*(Qe=X5[1020+3*(Oe-$e)+X5[1020+Be-Ze]])+63>>7,Ee=18*Qe+63>>7,Qe=9*Qe+63>>7;le[me-3*Se]=Hs[255+le[me-3*Se]+Qe],le[me-2*Se]=Hs[255+Be+Ee],le[me-Se]=Hs[255+$e+Ae],le[me+0]=Hs[255+Oe-Ae],le[me+Se]=Hs[255+Ze-Ee],le[me+2*Se]=Hs[255+qe-Qe]}C+=W}}function rl(w,C,M,W,Q,Z,te,ie){for(Z=2*Z+1;0<Q--;){if(Kg(w,C,M,Z,te))if(Yg(w,C,M,ie))Sf(w,C,M);else{var le=w,me=C,Se=M,Be=le[me-Se],$e=le[me+0],Oe=le[me+Se],Ze=sv[112+((qe=3*($e-Be))+4>>3)],qe=sv[112+(qe+3>>3)],Ae=Ze+1>>1;le[me-2*Se]=Hs[255+le[me-2*Se]+Ae],le[me-Se]=Hs[255+Be+qe],le[me+0]=Hs[255+$e-Ze],le[me+Se]=Hs[255+Oe-Ae]}C+=W}}function hm(w,C,M,W,Q,Z){wu(w,C,M,1,16,W,Q,Z)}function Rd(w,C,M,W,Q,Z){wu(w,C,1,M,16,W,Q,Z)}function V5(w,C,M,W,Q,Z){var te;for(te=3;0<te;--te)rl(w,C+=4*M,M,1,16,W,Q,Z)}function Af(w,C,M,W,Q,Z){var te;for(te=3;0<te;--te)rl(w,C+=4,1,M,16,W,Q,Z)}function q5(w,C,M,W,Q,Z,te,ie){wu(w,C,Q,1,8,Z,te,ie),wu(M,W,Q,1,8,Z,te,ie)}function pm(w,C,M,W,Q,Z,te,ie){wu(w,C,1,Q,8,Z,te,ie),wu(M,W,1,Q,8,Z,te,ie)}function mm(w,C,M,W,Q,Z,te,ie){rl(w,C+4*Q,Q,1,8,Z,te,ie),rl(M,W+4*Q,Q,1,8,Z,te,ie)}function Jg(w,C,M,W,Q,Z,te,ie){rl(w,C+4,1,Q,8,Z,te,ie),rl(M,W+4,1,Q,8,Z,te,ie)}function Cf(){this.ba=new Bs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gm(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zg(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new E}function G5(){this.xb=this.a=0,this.l=new Ol,this.ca=new Bs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zg,this.ab=0,this.gc=s(4,gm),this.Oc=0}function Ef(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ol,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ld(w,C,M,W,Q,Z,te){for(w=w==null?0:w[C+0],C=0;C<te;++C)Q[Z+C]=w+M[W+C]&255,w=Q[Z+C]}function vm(w,C,M,W,Q,Z,te){var ie;if(w==null)Ld(null,null,M,W,Q,Z,te);else for(ie=0;ie<te;++ie)Q[Z+ie]=w[C+ie]+M[W+ie]&255}function _u(w,C,M,W,Q,Z,te){if(w==null)Ld(null,null,M,W,Q,Z,te);else{var ie,le=w[C+0],me=le,Se=le;for(ie=0;ie<te;++ie)me=Se+(le=w[C+ie])-me,Se=M[W+ie]+(-256&me?0>me?0:255:me)&255,me=le,Q[Z+ie]=Se}}function bm(w,C,M,W){var Q=C.width,Z=C.o;if(t(w!=null&&C!=null),0>M||0>=W||M+W>Z)return null;if(!w.Cc){if(w.ga==null){var te;if(w.ga=new Ef,(te=w.ga==null)||(te=C.width*C.o,t(w.Gb.length==0),w.Gb=i(te),w.Uc=0,w.Gb==null?te=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,te=1),te=!te),!te){te=w.ga;var ie=w.Fa,le=w.P,me=w.qc,Se=w.mb,Be=w.nb,$e=le+1,Oe=me-1,Ze=te.l;if(t(ie!=null&&Se!=null&&C!=null),Eu[0]=null,Eu[1]=Ld,Eu[2]=vm,Eu[3]=_u,te.ca=Se,te.tb=Be,te.c=C.width,te.i=C.height,t(0<te.c&&0<te.i),1>=me)C=0;else if(te.$a=ie[le+0]>>0&3,te.Z=ie[le+0]>>2&3,te.Lc=ie[le+0]>>4&3,le=ie[le+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||le)C=0;else if(Ze.put=ho,Ze.ac=Ia,Ze.bc=po,Ze.ma=te,Ze.width=C.width,Ze.height=C.height,Ze.Da=C.Da,Ze.v=C.v,Ze.va=C.va,Ze.j=C.j,Ze.o=C.o,te.$a)e:{t(te.$a==1),C=Ve();t:for(;;){if(C==null){C=0;break e}if(t(te!=null),te.mc=C,C.c=te.c,C.i=te.i,C.l=te.l,C.l.ma=te,C.l.width=te.c,C.l.height=te.i,C.a=0,Y(C.m,ie,$e,Oe),!Fe(te.c,te.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&ue(C.s)?(te.ic=1,ie=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(ie),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(te.ic=0,C=Ue(C,te.c)),!C))break t;C=1;break e}te.mc=null,C=0}else C=Oe>=te.c*te.i;te=!C}if(te)return null;w.ga.Lc!=1?w.Ga=0:W=Z-M}t(w.ga!=null),t(M+W<=Z);e:{if(C=(ie=w.ga).c,Z=ie.l.o,ie.$a==0){if($e=w.rc,Oe=w.Vc,Ze=w.Fa,le=w.P+1+M*C,me=w.mb,Se=w.nb+M*C,t(le<=w.P+w.qc),ie.Z!=0)for(t(Eu[ie.Z]!=null),te=0;te<W;++te)Eu[ie.Z]($e,Oe,Ze,le,me,Se,C),$e=me,Oe=Se,Se+=C,le+=C;else for(te=0;te<W;++te)n(me,Se,Ze,le,C),$e=me,Oe=Se,Se+=C,le+=C;w.rc=$e,w.Vc=Oe}else{if(t(ie.mc!=null),C=M+W,t((te=ie.mc)!=null),t(C<=te.i),te.C>=C)C=1;else if(ie.ic||Ie(),ie.ic){ie=te.V,$e=te.Ba,Oe=te.c;var qe=te.i,Ae=(Ze=1,le=te.$/Oe,me=te.$%Oe,Se=te.m,Be=te.s,te.$),Ee=Oe*qe,Qe=Oe*C,rt=Be.wc,Je=Ae<Qe?Gn(Be,me,le):null;t(Ae<=Ee),t(C<=qe),t(ue(Be));t:for(;;){for(;!Se.h&&Ae<Qe;){if(me&rt||(Je=Gn(Be,me,le)),t(Je!=null),X(Se),256>(qe=ki(Je.G[0],Je.H[0],Se)))ie[$e+Ae]=qe,++Ae,++me>=Oe&&(me=0,++le<=C&&!(le%16)&&xe(te,le));else{if(!(280>qe)){Ze=0;break t}qe=$s(qe-256,Se);var yt,pt=ki(Je.G[4],Je.H[4],Se);if(X(Se),!(Ae>=(pt=vs(Oe,pt=$s(pt,Se)))&&Ee-Ae>=qe)){Ze=0;break t}for(yt=0;yt<qe;++yt)ie[$e+Ae+yt]=ie[$e+Ae+yt-pt];for(Ae+=qe,me+=qe;me>=Oe;)me-=Oe,++le<=C&&!(le%16)&&xe(te,le);Ae<Qe&&me&rt&&(Je=Gn(Be,me,le))}t(Se.h==R(Se))}xe(te,le>C?C:le);break t}!Ze||Se.h&&Ae<Ee?(Ze=0,te.a=Se.h?5:3):te.$=Ae,C=Ze}else C=be(te,te.V,te.Ba,te.c,te.i,C,He);if(!C){W=0;break e}}M+W>=Z&&(w.Cc=1),W=1}if(!W)return null;if(w.Cc&&((W=w.ga)!=null&&(W.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+M*Q}function D(w,C,M,W,Q,Z){for(;0<Q--;){var te,ie=w,le=C+(M?1:0),me=w,Se=C+(M?0:3);for(te=0;te<W;++te){var Be=me[Se+4*te];Be!=255&&(Be*=32897,ie[le+4*te+0]=ie[le+4*te+0]*Be>>23,ie[le+4*te+1]=ie[le+4*te+1]*Be>>23,ie[le+4*te+2]=ie[le+4*te+2]*Be>>23)}C+=Z}}function J(w,C,M,W,Q){for(;0<W--;){var Z;for(Z=0;Z<M;++Z){var te=w[C+2*Z+0],ie=15&(me=w[C+2*Z+1]),le=4369*ie,me=(240&me|me>>4)*le>>16;w[C+2*Z+0]=(240&te|te>>4)*le>>16&240|(15&te|te<<4)*le>>16>>4&15,w[C+2*Z+1]=240&me|ie}C+=Q}}function we(w,C,M,W,Q,Z,te,ie){var le,me,Se=255;for(me=0;me<Q;++me){for(le=0;le<W;++le){var Be=w[C+le];Z[te+4*le]=Be,Se&=Be}C+=M,te+=ie}return Se!=255}function je(w,C,M,W,Q){var Z;for(Z=0;Z<Q;++Z)M[W+Z]=w[C+Z]>>8}function Ie(){vo=D,bn=J,yn=we,oa=je}function Ge(w,C,M){A[w]=function(W,Q,Z,te,ie,le,me,Se,Be,$e,Oe,Ze,qe,Ae,Ee,Qe,rt){var Je,yt=rt-1>>1,pt=ie[le+0]|me[Se+0]<<16,$t=Be[$e+0]|Oe[Ze+0]<<16;t(W!=null);var mt=3*pt+$t+131074>>2;for(C(W[Q+0],255&mt,mt>>16,qe,Ae),Z!=null&&(mt=3*$t+pt+131074>>2,C(Z[te+0],255&mt,mt>>16,Ee,Qe)),Je=1;Je<=yt;++Je){var Rr=ie[le+Je]|me[Se+Je]<<16,Vr=Be[$e+Je]|Oe[Ze+Je]<<16,jr=pt+Rr+$t+Vr+524296,mr=jr+2*(Rr+$t)>>3;mt=mr+pt>>1,pt=(jr=jr+2*(pt+Vr)>>3)+Rr>>1,C(W[Q+2*Je-1],255&mt,mt>>16,qe,Ae+(2*Je-1)*M),C(W[Q+2*Je-0],255&pt,pt>>16,qe,Ae+(2*Je-0)*M),Z!=null&&(mt=jr+$t>>1,pt=mr+Vr>>1,C(Z[te+2*Je-1],255&mt,mt>>16,Ee,Qe+(2*Je-1)*M),C(Z[te+2*Je+0],255&pt,pt>>16,Ee,Qe+(2*Je+0)*M)),pt=Rr,$t=Vr}1&rt||(mt=3*pt+$t+131074>>2,C(W[Q+rt-1],255&mt,mt>>16,qe,Ae+(rt-1)*M),Z!=null&&(mt=3*$t+pt+131074>>2,C(Z[te+rt-1],255&mt,mt>>16,Ee,Qe+(rt-1)*M)))}}function nt(){yo[ov]=FH,yo[lv]=nE,yo[JC]=RH,yo[cv]=aE,yo[uv]=iE,yo[K5]=sE,yo[ZC]=LH,yo[Q5]=nE,yo[J5]=aE,yo[dv]=iE,yo[Z5]=sE}function bt(w){return w&~BH?0>w?0:255:w>>oE}function It(w,C){return bt((19077*w>>8)+(26149*C>>8)-14234)}function rr(w,C,M){return bt((19077*w>>8)-(6419*C>>8)-(13320*M>>8)+8708)}function Jt(w,C){return bt((19077*w>>8)+(33050*C>>8)-17685)}function yr(w,C,M,W,Q){W[Q+0]=It(w,M),W[Q+1]=rr(w,C,M),W[Q+2]=Jt(w,C)}function $n(w,C,M,W,Q){W[Q+0]=Jt(w,C),W[Q+1]=rr(w,C,M),W[Q+2]=It(w,M)}function Yn(w,C,M,W,Q){var Z=rr(w,C,M);C=Z<<3&224|Jt(w,C)>>3,W[Q+0]=248&It(w,M)|Z>>5,W[Q+1]=C}function wa(w,C,M,W,Q){var Z=240&Jt(w,C)|15;W[Q+0]=240&It(w,M)|rr(w,C,M)>>4,W[Q+1]=Z}function Oi(w,C,M,W,Q){W[Q+0]=255,yr(w,C,M,W,Q+1)}function Ja(w,C,M,W,Q){$n(w,C,M,W,Q),W[Q+3]=255}function nl(w,C,M,W,Q){yr(w,C,M,W,Q),W[Q+3]=255}function Us(w,C){return 0>w?0:w>C?C:w}function Il(w,C,M){A[w]=function(W,Q,Z,te,ie,le,me,Se,Be){for(var $e=Se+(-2&Be)*M;Se!=$e;)C(W[Q+0],Z[te+0],ie[le+0],me,Se),C(W[Q+1],Z[te+0],ie[le+0],me,Se+M),Q+=2,++te,++le,Se+=2*M;1&Be&&C(W[Q+0],Z[te+0],ie[le+0],me,Se)}}function ev(w,C,M){return M==0?w==0?C==0?6:5:C==0?4:0:M}function ym(w,C,M,W,Q){switch(w>>>30){case 3:Cc(C,M,W,Q,0);break;case 2:sa(C,M,W,Q);break;case 1:Zi(C,M,W,Q)}}function wm(w,C){var M,W,Q=C.M,Z=C.Nb,te=w.oc,ie=w.pc+40,le=w.oc,me=w.pc+584,Se=w.oc,Be=w.pc+600;for(M=0;16>M;++M)te[ie+32*M-1]=129;for(M=0;8>M;++M)le[me+32*M-1]=129,Se[Be+32*M-1]=129;for(0<Q?te[ie-1-32]=le[me-1-32]=Se[Be-1-32]=129:(a(te,ie-32-1,127,21),a(le,me-32-1,127,9),a(Se,Be-32-1,127,9)),W=0;W<w.za;++W){var $e=C.ya[C.aa+W];if(0<W){for(M=-1;16>M;++M)n(te,ie+32*M-4,te,ie+32*M+12,4);for(M=-1;8>M;++M)n(le,me+32*M-4,le,me+32*M+4,4),n(Se,Be+32*M-4,Se,Be+32*M+4,4)}var Oe=w.Gd,Ze=w.Hd+W,qe=$e.ad,Ae=$e.Hc;if(0<Q&&(n(te,ie-32,Oe[Ze].y,0,16),n(le,me-32,Oe[Ze].f,0,8),n(Se,Be-32,Oe[Ze].ea,0,8)),$e.Za){var Ee=te,Qe=ie-32+16;for(0<Q&&(W>=w.za-1?a(Ee,Qe,Oe[Ze].y[15],4):n(Ee,Qe,Oe[Ze+1].y,0,4)),M=0;4>M;M++)Ee[Qe+128+M]=Ee[Qe+256+M]=Ee[Qe+384+M]=Ee[Qe+0+M];for(M=0;16>M;++M,Ae<<=2)Ee=te,Qe=ie+cE[M],al[$e.Ob[M]](Ee,Qe),ym(Ae,qe,16*+M,Ee,Qe)}else if(Ee=ev(W,Q,$e.Ob[0]),Cu[Ee](te,ie),Ae!=0)for(M=0;16>M;++M,Ae<<=2)ym(Ae,qe,16*+M,te,ie+cE[M]);for(M=$e.Gc,Ee=ev(W,Q,$e.Dd),kc[Ee](le,me),kc[Ee](Se,Be),Ae=qe,Ee=le,Qe=me,255&($e=M>>0)&&(170&$e?Am(Ae,256,Ee,Qe):xo(Ae,256,Ee,Qe)),$e=Se,Ae=Be,255&(M>>=8)&&(170&M?Am(qe,320,$e,Ae):xo(qe,320,$e,Ae)),Q<w.Ub-1&&(n(Oe[Ze].y,0,te,ie+480,16),n(Oe[Ze].f,0,le,me+224,8),n(Oe[Ze].ea,0,Se,Be+224,8)),M=8*Z*w.B,Oe=w.sa,Ze=w.ta+16*W+16*Z*w.R,qe=w.qa,$e=w.ra+8*W+M,Ae=w.Ha,Ee=w.Ia+8*W+M,M=0;16>M;++M)n(Oe,Ze+M*w.R,te,ie+32*M,16);for(M=0;8>M;++M)n(qe,$e+M*w.B,le,me+32*M,8),n(Ae,Ee+M*w.B,Se,Be+32*M,8)}}function kf(w,C,M,W,Q,Z,te,ie,le){var me=[0],Se=[0],Be=0,$e=le!=null?le.kd:0,Oe=le??new xm;if(w==null||12>M)return 7;Oe.data=w,Oe.w=C,Oe.ha=M,C=[C],M=[M],Oe.gb=[Oe.gb];e:{var Ze=C,qe=M,Ae=Oe.gb;if(t(w!=null),t(qe!=null),t(Ae!=null),Ae[0]=0,12<=qe[0]&&!r(w,Ze[0],"RIFF")){if(r(w,Ze[0]+8,"WEBP")){Ae=3;break e}var Ee=Me(w,Ze[0]+4);if(12>Ee||4294967286<Ee){Ae=3;break e}if($e&&Ee>qe[0]-8){Ae=7;break e}Ae[0]=Ee,Ze[0]+=12,qe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Ee=0<Oe.gb[0],M=M[0];;){e:{var Qe=w;qe=C,Ae=M;var rt=me,Je=Se,yt=Ze=[0];if((mt=Be=[Be])[0]=0,8>Ae[0])Ae=7;else{if(!r(Qe,qe[0],"VP8X")){if(Me(Qe,qe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var pt=Me(Qe,qe[0]+8),$t=1+q(Qe,qe[0]+12);if(2147483648<=$t*(Qe=1+q(Qe,qe[0]+15))){Ae=3;break e}yt!=null&&(yt[0]=pt),rt!=null&&(rt[0]=$t),Je!=null&&(Je[0]=Qe),qe[0]+=18,Ae[0]-=18,mt[0]=1}Ae=0}}if(Be=Be[0],Ze=Ze[0],Ae!=0)return Ae;if(qe=!!(2&Ze),!Ee&&Be)return 3;if(Z!=null&&(Z[0]=!!(16&Ze)),te!=null&&(te[0]=qe),ie!=null&&(ie[0]=0),te=me[0],Ze=Se[0],Be&&qe&&le==null){Ae=0;break}if(4>M){Ae=7;break}if(Ee&&Be||!Ee&&!Be&&!r(w,C[0],"ALPH")){M=[M],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{pt=w,Ae=C,Ee=M;var mt=Oe.gb;rt=Oe.na,Je=Oe.P,yt=Oe.Sa,$t=22,t(pt!=null),t(Ee!=null),Qe=Ae[0];var Rr=Ee[0];for(t(rt!=null),t(yt!=null),rt[0]=null,Je[0]=null,yt[0]=0;;){if(Ae[0]=Qe,Ee[0]=Rr,8>Rr){Ae=7;break e}var Vr=Me(pt,Qe+4);if(4294967286<Vr){Ae=3;break e}var jr=8+Vr+1&-2;if($t+=jr,0<mt&&$t>mt){Ae=3;break e}if(!r(pt,Qe,"VP8 ")||!r(pt,Qe,"VP8L")){Ae=0;break e}if(Rr[0]<jr){Ae=7;break e}r(pt,Qe,"ALPH")||(rt[0]=pt,Je[0]=Qe+8,yt[0]=Vr),Qe+=jr,Rr-=jr}}if(M=M[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Ae!=0)break}M=[M],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(mt=w,Ae=C,Ee=M,rt=Oe.gb[0],Je=Oe.Ja,yt=Oe.xa,pt=Ae[0],Qe=!r(mt,pt,"VP8 "),$t=!r(mt,pt,"VP8L"),t(mt!=null),t(Ee!=null),t(Je!=null),t(yt!=null),8>Ee[0])Ae=7;else{if(Qe||$t){if(mt=Me(mt,pt+4),12<=rt&&mt>rt-12){Ae=3;break e}if($e&&mt>Ee[0]-8){Ae=7;break e}Je[0]=mt,Ae[0]+=8,Ee[0]-=8,yt[0]=$t}else yt[0]=5<=Ee[0]&&mt[pt+0]==47&&!(mt[pt+4]>>5),Je[0]=Ee[0];Ae=0}if(M=M[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],C=C[0],Ae!=0)break;if(4294967286<Oe.Ja)return 3;if(ie==null||qe||(ie[0]=Oe.xa?2:1),te=[te],Ze=[Ze],Oe.xa){if(5>M){Ae=7;break}ie=te,$e=Ze,qe=Z,w==null||5>M?w=0:5<=M&&w[C+0]==47&&!(w[C+4]>>5)?(Ee=[0],mt=[0],rt=[0],Y(Je=new k,w,C,M),Bt(Je,Ee,mt,rt)?(ie!=null&&(ie[0]=Ee[0]),$e!=null&&($e[0]=mt[0]),qe!=null&&(qe[0]=rt[0]),w=1):w=0):w=0}else{if(10>M){Ae=7;break}ie=Ze,w==null||10>M||!Lg(w,C+3,M-3)?w=0:($e=w[C+0]|w[C+1]<<8|w[C+2]<<16,qe=16383&(w[C+7]<<8|w[C+6]),w=16383&(w[C+9]<<8|w[C+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=Oe.Ja||!qe||!w?w=0:(te&&(te[0]=qe),ie&&(ie[0]=w),w=1))}if(!w||(te=te[0],Ze=Ze[0],Be&&(me[0]!=te||Se[0]!=Ze)))return 3;le!=null&&(le[0]=Oe,le.offset=C-le.w,t(4294967286>C-le.w),t(le.offset==le.ha-M));break}return Ae==0||Ae==7&&Be&&le==null?(Z!=null&&(Z[0]|=Oe.na!=null&&0<Oe.na.length),W!=null&&(W[0]=te),Q!=null&&(Q[0]=Ze),0):Ae}function _m(w,C,M){var W=C.width,Q=C.height,Z=0,te=0,ie=W,le=Q;if(C.Da=w!=null&&0<w.Da,C.Da&&(ie=w.cd,le=w.bd,Z=w.v,te=w.j,11>M||(Z&=-2,te&=-2),0>Z||0>te||0>=ie||0>=le||Z+ie>W||te+le>Q))return 0;if(C.v=Z,C.j=te,C.va=Z+ie,C.o=te+le,C.U=ie,C.T=le,C.da=w!=null&&0<w.da,C.da){if(!De(ie,le,M=[w.ib],Z=[w.hb]))return 0;C.ib=M[0],C.hb=Z[0]}return C.ob=w!=null&&w.ob,C.Kb=w==null||!w.Sd,C.da&&(C.ob=C.ib<3*W/4&&C.hb<3*Q/4,C.Kb=0),1}function Nm(w){if(w==null)return 2;if(11>w.S){var C=w.f.RGBA;C.fb+=(w.height-1)*C.A,C.A=-C.A}else C=w.f.kb,w=w.height,C.O+=(w-1)*C.fa,C.fa=-C.fa,C.N+=(w-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(w-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(w-1)*C.lb,C.lb=-C.lb);return 0}function Tf(w,C,M,W){if(W==null||0>=w||0>=C)return 2;if(M!=null){if(M.Da){var Q=M.cd,Z=M.bd,te=-2&M.v,ie=-2&M.j;if(0>te||0>ie||0>=Q||0>=Z||te+Q>w||ie+Z>C)return 2;w=Q,C=Z}if(M.da){if(!De(w,C,Q=[M.ib],Z=[M.hb]))return 2;w=Q[0],C=Z[0]}}W.width=w,W.height=C;e:{var le=W.width,me=W.height;if(w=W.S,0>=le||0>=me||!(w>=ov&&13>w))w=2;else{if(0>=W.Rd&&W.sd==null){te=Z=Q=C=0;var Se=(ie=le*uE[w])*me;if(11>w||(Z=(me+1)/2*(C=(le+1)/2),w==12&&(te=(Q=le)*me)),(me=i(Se+2*Z+te))==null){w=1;break e}W.sd=me,11>w?((le=W.f.RGBA).eb=me,le.fb=0,le.A=ie,le.size=Se):((le=W.f.kb).y=me,le.O=0,le.fa=ie,le.Fd=Se,le.f=me,le.N=0+Se,le.Ab=C,le.Cd=Z,le.ea=me,le.W=0+Se+Z,le.Db=C,le.Ed=Z,w==12&&(le.F=me,le.J=0+Se+2*Z),le.Tc=te,le.lb=Q)}if(C=1,Q=W.S,Z=W.width,te=W.height,Q>=ov&&13>Q)if(11>Q)w=W.f.RGBA,C&=(ie=Math.abs(w.A))*(te-1)+Z<=w.size,C&=ie>=Z*uE[Q],C&=w.eb!=null;else{w=W.f.kb,ie=(Z+1)/2,Se=(te+1)/2,le=Math.abs(w.fa),me=Math.abs(w.Ab);var Be=Math.abs(w.Db),$e=Math.abs(w.lb),Oe=$e*(te-1)+Z;C&=le*(te-1)+Z<=w.Fd,C&=me*(Se-1)+ie<=w.Cd,C=(C&=Be*(Se-1)+ie<=w.Ed)&le>=Z&me>=ie&Be>=ie,C&=w.y!=null,C&=w.f!=null,C&=w.ea!=null,Q==12&&(C&=$e>=Z,C&=Oe<=w.Tc,C&=w.F!=null)}else C=0;w=C?0:2}}return w!=0||M!=null&&M.fd&&(w=Nm(W)),w}var mi=64,Of=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pf=24,Df=32,jm=8,ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ye("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(w){return w},A.Predictor2=function(w,C,M){return C[M+0]},A.Predictor3=function(w,C,M){return C[M+1]},A.Predictor4=function(w,C,M){return C[M-1]},A.Predictor5=function(w,C,M){return Te(Te(w,C[M+1]),C[M+0])},A.Predictor6=function(w,C,M){return Te(w,C[M-1])},A.Predictor7=function(w,C,M){return Te(w,C[M+0])},A.Predictor8=function(w,C,M){return Te(C[M-1],C[M+0])},A.Predictor9=function(w,C,M){return Te(C[M+0],C[M+1])},A.Predictor10=function(w,C,M){return Te(Te(w,C[M-1]),Te(C[M+0],C[M+1]))},A.Predictor11=function(w,C,M){var W=C[M+0];return 0>=tt(W>>24&255,w>>24&255,(C=C[M-1])>>24&255)+tt(W>>16&255,w>>16&255,C>>16&255)+tt(W>>8&255,w>>8&255,C>>8&255)+tt(255&W,255&w,255&C)?W:w},A.Predictor12=function(w,C,M){var W=C[M+0];return(Ne((w>>24&255)+(W>>24&255)-((C=C[M-1])>>24&255))<<24|Ne((w>>16&255)+(W>>16&255)-(C>>16&255))<<16|Ne((w>>8&255)+(W>>8&255)-(C>>8&255))<<8|Ne((255&w)+(255&W)-(255&C)))>>>0},A.Predictor13=function(w,C,M){var W=C[M-1];return(We((w=Te(w,C[M+0]))>>24&255,W>>24&255)<<24|We(w>>16&255,W>>16&255)<<16|We(w>>8&255,W>>8&255)<<8|We(w>>0&255,W>>0&255))>>>0};var Y5=A.PredictorAdd0;A.PredictorAdd1=ht,ye("Predictor2","PredictorAdd2"),ye("Predictor3","PredictorAdd3"),ye("Predictor4","PredictorAdd4"),ye("Predictor5","PredictorAdd5"),ye("Predictor6","PredictorAdd6"),ye("Predictor7","PredictorAdd7"),ye("Predictor8","PredictorAdd8"),ye("Predictor9","PredictorAdd9"),ye("Predictor10","PredictorAdd10"),ye("Predictor11","PredictorAdd11"),ye("Predictor12","PredictorAdd12"),ye("Predictor13","PredictorAdd13");var Sm=A.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var tv,mo=A.ColorIndexInverseTransform,If=A.MapARGB,rv=A.VP8LColorIndexInverseTransformAlpha,nv=A.MapAlpha,Nu=A.VP8LPredictorsAdd=[];Nu.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Bd,ws,Ji,ju,Sc,Ac,Mf,Cc,sa,Am,Zi,xo,Ff,av,Cm,$d,zd,Su,Ud,Rf,Hd,Au,Em,go,vo,bn,yn,oa,Ma=i(511),Ec=i(2041),km=i(225),Lf=i(767),iv=0,X5=Ec,sv=km,Hs=Lf,bo=Ma,ov=0,lv=1,JC=2,cv=3,uv=4,K5=5,ZC=6,Q5=7,J5=8,dv=9,Z5=10,_H=[2,3,7],NH=[3,3,11],eE=[280,256,256,256,40],jH=[0,1,1,1,0],SH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],AH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],CH=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],EH=8,e_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],t_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tm=null,kH=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],TH=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],OH=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],PH=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],DH=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],IH=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cu=[],al=[],kc=[],MH=1,rE=2,Eu=[],yo=[];Ge("UpsampleRgbLinePair",yr,3),Ge("UpsampleBgrLinePair",$n,3),Ge("UpsampleRgbaLinePair",nl,4),Ge("UpsampleBgraLinePair",Ja,4),Ge("UpsampleArgbLinePair",Oi,4),Ge("UpsampleRgba4444LinePair",wa,2),Ge("UpsampleRgb565LinePair",Yn,2);var FH=A.UpsampleRgbLinePair,RH=A.UpsampleBgrLinePair,nE=A.UpsampleRgbaLinePair,aE=A.UpsampleBgraLinePair,iE=A.UpsampleArgbLinePair,sE=A.UpsampleRgba4444LinePair,LH=A.UpsampleRgb565LinePair,fv=16,hv=1<<fv-1,Om=-227,r_=482,oE=6,BH=(256<<oE)-1,lE=0,$H=i(256),zH=i(256),UH=i(256),HH=i(256),WH=i(r_-Om),VH=i(r_-Om);Il("YuvToRgbRow",yr,3),Il("YuvToBgrRow",$n,3),Il("YuvToRgbaRow",nl,4),Il("YuvToBgraRow",Ja,4),Il("YuvToArgbRow",Oi,4),Il("YuvToRgba4444Row",wa,2),Il("YuvToRgb565Row",Yn,2);var cE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pv=[0,2,8],qH=[8,7,6,4,4,2,2,2,1,1,1,1],GH=1;this.WebPDecodeRGBA=function(w,C,M,W,Q){var Z=lv,te=new Cf,ie=new Bs;te.ba=ie,ie.S=Z,ie.width=[ie.width],ie.height=[ie.height];var le=ie.width,me=ie.height,Se=new Jo;if(Se==null||w==null)var Be=2;else t(Se!=null),Be=kf(w,C,M,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Be!=0?le=0:(le!=null&&(le[0]=Se.width[0]),me!=null&&(me[0]=Se.height[0]),le=1),le){ie.width=ie.width[0],ie.height=ie.height[0],W!=null&&(W[0]=ie.width),Q!=null&&(Q[0]=ie.height);e:{if(W=new Ol,(Q=new xm).data=w,Q.w=C,Q.ha=M,Q.kd=1,C=[0],t(Q!=null),((w=kf(Q.data,Q.w,Q.ha,null,null,null,C,null,Q))==0||w==7)&&C[0]&&(w=4),(C=w)==0){if(t(te!=null),W.data=Q.data,W.w=Q.w+Q.offset,W.ha=Q.ha-Q.offset,W.put=ho,W.ac=Ia,W.bc=po,W.ma=te,Q.xa){if((w=Ve())==null){te=1;break e}if(function($e,Oe){var Ze=[0],qe=[0],Ae=[0];t:for(;;){if($e==null)return 0;if(Oe==null)return $e.a=2,0;if($e.l=Oe,$e.a=0,Y($e.m,Oe.data,Oe.w,Oe.ha),!Bt($e.m,Ze,qe,Ae)){$e.a=3;break t}if($e.xb=rE,Oe.width=Ze[0],Oe.height=qe[0],!Fe(Ze[0],qe[0],1,$e,null))break t;return 1}return t($e.a!=0),0}(w,W)){if(W=(C=Tf(W.width,W.height,te.Oa,te.ba))==0){t:{W=w;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((M=W.l)!=null),t((Q=M.ma)!=null),W.xb!=0){if(W.ca=Q.ba,W.tb=Q.tb,t(W.ca!=null),!_m(Q.Oa,M,cv)){W.a=2;break r}if(!Ue(W,M.width)||M.da)break r;if((M.da||Nr(W.ca.S))&&Ie(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ie()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!Le(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!be(W,W.V,W.Ba,W.c,W.i,M.o,ge))break r;Q.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(C=w.a)}else C=w.a}else{if((w=new zs)==null){te=1;break e}if(w.Fa=Q.na,w.P=Q.P,w.qc=Q.Sa,Bg(w,W)){if((C=Tf(W.width,W.height,te.Oa,te.ba))==0){if(w.Aa=0,M=te.Oa,t((Q=w)!=null),M!=null){if(0<(le=0>(le=M.Md)?0:100<le?255:255*le/100)){for(me=Se=0;4>me;++me)12>(Be=Q.pb[me]).lc&&(Be.ia=le*qH[0>Be.lc?0:Be.lc]>>3),Se|=Be.ia;Se&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=M.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}T5(w,W)||(C=w.a)}}else C=w.a}C==0&&te.Oa!=null&&te.Oa.fd&&(C=Nm(te.ba))}te=C}Z=te!=0?null:11>Z?ie.f.RGBA.eb:ie.f.kb.y}else Z=null;return Z};var uE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(A,T){for(var F="",O=0;O<4;O++)F+=String.fromCharCode(A[T++]);return F}function d(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16)>>>0}function f(A,T){return(A[T+0]<<0|A[T+1]<<8|A[T+2]<<16|A[T+3]<<24)>>>0}new c;var h=[0],p=[0],m=[],x=new c,g=e,v=function(A,T){var F={},O=0,E=!1,L=0,B=0;if(F.frames=[],!function(P,R,H,X){for(var oe=0;oe<X;oe++)if(P[R+oe]!=H.charCodeAt(oe))return!0;return!1}(A,T,"RIFF",4)){var G,z;for(f(A,T+=4),T+=8;T<A.length;){var V=u(A,T),Y=f(A,T+=4);T+=4;var U=Y+(1&Y);switch(V){case"VP8 ":case"VP8L":F.frames[O]===void 0&&(F.frames[O]={}),(k=F.frames[O]).src_off=E?B:T-8,k.src_size=L+Y+8,O++,E&&(E=!1,L=0,B=0);break;case"VP8X":(k=F.header={}).feature_flags=A[T];var ae=T+4;k.canvas_width=1+d(A,ae),ae+=3,k.canvas_height=1+d(A,ae),ae+=3;break;case"ALPH":E=!0,L=U+8,B=T-8;break;case"ANIM":(k=F.header).bgcolor=f(A,T),ae=T+4,k.loop_count=(G=A)[(z=ae)+0]<<0|G[z+1]<<8,ae+=2;break;case"ANMF":var he,k;(k=F.frames[O]={}).offset_x=2*d(A,T),T+=3,k.offset_y=2*d(A,T),T+=3,k.width=1+d(A,T),T+=3,k.height=1+d(A,T),T+=3,k.duration=d(A,T),T+=3,he=A[T++],k.dispose=1&he,k.blend=he>>1&1}V!="ANMF"&&(T+=U)}return F}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,y=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var _=0;_<y.length&&y[_].blend!=0;_++);}var N=y[0],S=x.WebPDecodeRGBA(g,N.src_off,N.src_size,p,h);N.rgba=S,N.imgwidth=p[0],N.imgheight=h[0];for(var j=0;j<p[0]*h[0]*4;j++)m[j]=S[j];return this.width=p,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof xj=="function"},r=function(h,p,m,x){var g=4,v=s;switch(x){case e.image_compression.FAST:g=1,v=i;break;case e.image_compression.MEDIUM:g=6,v=l;break;case e.image_compression.SLOW:g=9,v=c}h=n(h,p,m,v);var b=xj(h,{level:g});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,m,x){for(var g,v,b,y=h.length/p,_=new Uint8Array(h.length+y),N=d(),S=0;S<y;S+=1){if(b=S*p,g=h.subarray(b,b+p),x)_.set(x(g,m,v),b+S);else{for(var j,A=N.length,T=[];j<A;j+=1)T[j]=N[j](g,m,v);var F=f(T.concat());_.set(T[F],b+S)}v=g}return _},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var m,x=[],g=h.length;x[0]=1;for(var v=0;v<g;v+=1)m=h[v-p]||0,x[v+1]=h[v]-m+256&255;return x},s=function(h,p,m){var x,g=[],v=h.length;g[0]=2;for(var b=0;b<v;b+=1)x=m&&m[b]||0,g[b+1]=h[b]-x+256&255;return g},l=function(h,p,m){var x,g,v=[],b=h.length;v[0]=3;for(var y=0;y<b;y+=1)x=h[y-p]||0,g=m&&m[y]||0,v[y+1]=h[y]+256-(x+g>>>1)&255;return v},c=function(h,p,m){var x,g,v,b,y=[],_=h.length;y[0]=4;for(var N=0;N<_;N+=1)x=h[N-p]||0,g=m&&m[N]||0,v=m&&m[N-p]||0,b=u(x,g,v),y[N+1]=h[N]-b+256&255;return y},u=function(h,p,m){if(h===p&&p===m)return h;var x=Math.abs(p-m),g=Math.abs(h-m),v=Math.abs(h+p-m-m);return x<=g&&x<=v?h:g<=v?p:m},d=function(){return[a,i,s,l,c]},f=function(h){var p=h.map(function(m){return m.reduce(function(x,g){return x+Math.abs(g)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,m,x){var g,v,b,y,_,N,S,j,A,T,F,O,E,L,B,G=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new WPe(h)).imgData,v=b.bits,g=b.colorSpace,_=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){A=(j=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,F=new Uint8Array(A*b.colors),T=new Uint8Array(A);var V,Y=b.pixelBitlength-b.bits;for(L=0,B=0;L<A;L++){for(E=j[L],V=0;V<Y;)F[B++]=E>>>V&255,V+=b.bits;T[L]=E>>>V&255}}if(b.bits===16){A=(j=new Uint32Array(b.decodePixels().buffer)).length,F=new Uint8Array(A*(32/b.pixelBitlength)*b.colors),T=new Uint8Array(A*(32/b.pixelBitlength)),O=b.colors>1,L=0,B=0;for(var U=0;L<A;)E=j[L++],F[B++]=E>>>0&255,O&&(F[B++]=E>>>16&255,E=j[L++],F[B++]=E>>>0&255),T[U++]=E>>>16&255;v=8}x!==e.image_compression.NONE&&t()?(h=r(F,b.width*b.colors,b.colors,x),S=r(T,b.width,1,x)):(h=F,S=T,G=void 0)}if(b.colorType===3&&(g=this.color_spaces.INDEXED,N=b.palette,b.transparency.indexed)){var ae=b.transparency.indexed,he=0;for(L=0,A=ae.length;L<A;++L)he+=ae[L];if((he/=255)===A-1&&ae.indexOf(0)!==-1)y=[ae.indexOf(0)];else if(he!==A){for(j=b.decodePixels(),T=new Uint8Array(j.length),L=0,A=j.length;L<A;L++)T[L]=ae[j[L]];S=r(T,b.width,1)}}var k=function(P){var R;switch(P){case e.image_compression.FAST:R=11;break;case e.image_compression.MEDIUM:R=13;break;case e.image_compression.SLOW:R=14;break;default:R=12}return R}(x);return G===this.decode.FLATE_DECODE&&(z="/Predictor "+k+" "),z+="/Colors "+_+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:m,data:h,index:p,filter:G,decodeParameters:z,transparency:y,palette:N,sMask:S,predictor:k,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:g}}}})(Ft.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new VPe(t),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},d=new N4(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Ft.API),cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){pn.log("bit decode error:"+r)}},cl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},cl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},cl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},cl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=u}this.pos+=e}},cl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},cl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},cl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=s}},cl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new cl(t,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new N4(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Ft.API),dD.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new dD(t),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new N4(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Ft.API),Ft.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,s[c++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eh=Ft.API,d2=eh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,m=0,x=l[0]||c,g=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&en(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,g.push((l[n]||x)/c+h)),m=n;return g},oD=eh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return eh.processArabic&&(e=eh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:d2.apply(this,arguments).reduce(function(i,s){return i+s},0)},lD=function(e,t,r,n){for(var a=[],i=0,s=e.length,l=0;i!==s&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==s;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},cD=function(e,t,r){r||(r={});var n,a,i,s,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,m=0,x=e.split(" "),g=d2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),b=[];x.map(function(_){(_=_.split(/\s*\n/)).length>1?b=b.concat(_.map(function(N,S){return(S&&N.length?`
`:"")+N})):b.push(_[0])}),x=b,c=oD.apply(this,[v,r])}for(i=0,s=x.length;i<s;i++){var y=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),y=1),h+p+(m=(a=d2.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>t||y){if(m>t){for(l=lD.apply(this,[n,a,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);m=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,N){return _+N},0)}else d=[n];f.push(d),h=m+c,p=g}else d.push(n),h+=p+m,p=g}return u=c?function(_,N){return(N?v:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},eh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(cD.apply(this,[n[l],s,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,m,x,g=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=i(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),x="-"):(m=i(h).slice(2),x=""),m=x+m.slice(0,-1)+n[m.slice(-1)];else{if(en(h)!=="object")throw new Error("Don't know what to do with value type "+en(h)+".");m=s(h)}g.push(p+m)}return g.push("}"),g.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,x,g={},v=1,b=g,y=[],_="",N="",S=f.length-1,j=1;j<S;j+=1)(x=f[j])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(y.push([b,m]),b={},m=void 0):x=="}"?((p=y.pop())[0][p[1]]=b,m=void 0,b=p[0]):x=="-"?v=-1:m===void 0?r.hasOwnProperty(x)?(_+=r[x],m=parseInt(_,16)*v,v=1,_=""):_+=x:r.hasOwnProperty(x)?(N+=r[x],b[m]=parseInt(N,16)*v,v=1,m=void 0,N=""):N+=x;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Ft.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ix(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ft),function(e){function t(){return(Wt.canvg?Promise.resolve(Wt.canvg):dc(()=>import("./index.es-BzZqRw0v.js"),__vite__mapDeps([0,1]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ft.API.addSvgAsImage=function(r,n,a,i,s,l,c,u){if(isNaN(n)||isNaN(a))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),Ft.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ft.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,d=0,f=0;function h(m,x){var g,v=!1;for(g=0;g<m.length;g+=1)m[g]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(en(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,x=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?x.push("/"+m+" /"+r[m].value):x.push("/"+m+" "+r[m].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ft.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var s,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,m){return p-m})).length;f<h;f++)s=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+xh(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+xh(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+xh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+xh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+xh(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,x=p,g="",v=0,b="",y=m[x].encoding;if(m[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(b=l,x=p,Array.isArray(l)&&(b=l[0]),v=0;v<b.length;v+=1)m[x].metadata.hasOwnProperty("cmap")&&(s=m[x].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&m[x].metadata.hasOwnProperty("Unicode")?g+=b[v]:g+="";var _="";return parseInt(x.slice(1))<14||y==="WinAnsiEncoding"?_=h(g,x).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(_=r(g,m[x])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])}(Ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,y=0;this.__bidiEngine__={};var _=function(O){var E=O.charCodeAt(),L=E>>8,B=x[L];return B!==void 0?f[256*B+(255&E)]:L===252||L===253?"AL":v.test(L)?"L":L===8?"R":"N"},N=function(O){for(var E,L=0;L<O.length;L++){if((E=_(O.charAt(L)))==="L")return!1;if(E==="R")return!0}return!1},S=function(O,E,L,B){var G,z,V,Y,U=E[B];switch(U){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(U="AN");break;case"AL":b=!0,U="R";break;case"WS":U="N";break;case"CS":B<1||B+1>=E.length||(G=L[B-1])!=="EN"&&G!=="AN"||(z=E[B+1])!=="EN"&&z!=="AN"?U="N":b&&(z="AN"),U=z===G?z:"N";break;case"ES":U=(G=B>0?L[B-1]:"B")==="EN"&&B+1<E.length&&E[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&L[B-1]==="EN"){U="EN";break}if(b){U="N";break}for(V=B+1,Y=E.length;V<Y&&E[V]==="ET";)V++;U=V<Y&&E[V]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(Y=E.length,V=B+1;V<Y&&E[V]==="NSM";)V++;if(V<Y){var ae=O[B],he=ae>=1425&&ae<=2303||ae===64286;if(G=E[V],he&&(G==="R"||G==="AL")){U="R";break}}}U=B<1||(G=E[B-1])==="B"?"N":L[B-1];break;case"B":b=!1,a=!0,U=y;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":U="N"}return U},j=function(O,E,L){var B=O.split("");return L&&A(B,L,{hiLevel:y}),B.reverse(),E&&E.reverse(),B.join("")},A=function(O,E,L){var B,G,z,V,Y,U=-1,ae=O.length,he=0,k=[],P=y?p:h,R=[];for(b=!1,a=!1,i=!1,G=0;G<ae;G++)R[G]=_(O[G]);for(z=0;z<ae;z++){if(Y=he,k[z]=S(O,R,k,z),B=240&(he=P[Y][m[k[z]]]),he&=15,E[z]=V=P[he][5],B>0)if(B===16){for(G=U;G<z;G++)E[G]=1;U=-1}else U=-1;if(P[he][6])U===-1&&(U=z);else if(U>-1){for(G=U;G<z;G++)E[G]=V;U=-1}R[z]==="B"&&(E[z]=0),L.hiLevel|=V}i&&function(H,X,oe){for(var fe=0;fe<oe;fe++)if(H[fe]==="S"){X[fe]=y;for(var re=fe-1;re>=0&&H[re]==="WS";re--)X[re]=y}}(R,E,ae)},T=function(O,E,L,B,G){if(!(G.hiLevel<O)){if(O===1&&y===1&&!a)return E.reverse(),void(L&&L.reverse());for(var z,V,Y,U,ae=E.length,he=0;he<ae;){if(B[he]>=O){for(Y=he+1;Y<ae&&B[Y]>=O;)Y++;for(U=he,V=Y-1;U<V;U++,V--)z=E[U],E[U]=E[V],E[V]=z,L&&(z=L[U],L[U]=L[V],L[V]=z);he=Y}he++}}},F=function(O,E,L){var B=O.split(""),G={hiLevel:y};return L||(L=[]),A(B,L,G),function(z,V,Y){if(Y.hiLevel!==0&&d)for(var U,ae=0;ae<z.length;ae++)V[ae]===1&&(U=g.indexOf(z[ae]))>=0&&(z[ae]=g[U+1])}(B,L,G),T(2,B,E,L,G),T(1,B,E,L,G),B.join("")};return this.__bidiEngine__.doBidiReorder=function(O,E,L){if(function(G,z){if(z)for(var V=0;V<G.length;V++)z[V]=V;l===void 0&&(l=N(G)),u===void 0&&(u=N(G))}(O,E),s||!c||u)if(s&&c&&l^u)y=l?1:0,O=j(O,E,L);else if(!s&&c&&u)y=l?1:0,O=F(O,E,L),O=j(O,E);else if(!s||l||c||u){if(s&&!c&&l^u)O=j(O,E),l?(y=0,O=F(O,E,L)):(y=1,O=F(O,E,L),O=j(O,E));else if(s&&l&&!c&&u)y=1,O=F(O,E,L),O=j(O,E);else if(!s&&!c&&l^u){var B=d;l?(y=1,O=F(O,E,L),y=0,d=!1,O=F(O,E,L),d=B):(y=0,O=F(O,E,L),O=j(O,E),y=1,d=!1,O=F(O,E,L),d=B,O=j(O,E))}}else y=0,O=F(O,E,L);else y=l?1:0,O=F(O,E,L);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ft),Ft.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ad(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sDe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new qPe(this.contents),this.head=new YPe(this),this.name=new ZPe(this),this.cmap=new F$(this),this.toUnicode={},this.hhea=new XPe(this),this.maxp=new eDe(this),this.hmtx=new tDe(this),this.post=new QPe(this),this.os2=new KPe(this),this.loca=new iDe(this),this.glyf=new rDe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,l;for(s=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Cl,Ad=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),qPe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,l,c,u,d,f,h,p,m,x;for(x in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),s=Math.floor(f/c),d=16*p-f,(a=new Ad).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*p,u=a.pos+i,l=null,m=[],r)for(h=r[x],a.writeString(x),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),m=m.concat(h),x==="head"&&(l=u),u+=h.length;u%4;)m.push(0),u++;return a.write(m),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=R$.call(r);r.length%4;)r.push(0);for(i=new Ad(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),GPe={}.hasOwnProperty,yc=function(e,t){for(var r in t)GPe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Cl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var YPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Ad).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),fD=function(){function e(t,r){var n,a,i,s,l,c,u,d,f,h,p,m,x,g,v,b,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N}(),t.pos+=2,x=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N}(),u=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N}(),d=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(t.readUInt16());return N}(),a=(this.length-t.pos+this.offset)/2,l=function(){var _,N;for(N=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)N.push(t.readUInt16());return N}(),c=v=0,y=i.length;v<y;c=++v)for(g=i[c],n=b=m=x[c];m<=g?b<=g:b>=g;n=m<=g?++b:--b)d[c]===0?s=n+u[c]:(s=l[d[c]/2+(n-m)-(h-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,l,c,u,d,f,h,p,m,x,g,v,b,y,_,N,S,j,A,T,F,O,E,L,B,G,z,V,Y,U,ae,he,k,P,R,H,X,oe,fe,re,ve,Ce,q;switch(B=new Ad,s=Object.keys(t).sort(function(Me,Le){return Me-Le}),r){case"macroman":for(x=0,g=function(){var Me=[];for(m=0;m<256;++m)Me.push(0);return Me}(),b={0:0},i={},G=0,U=s.length;G<U;G++)b[re=t[a=s[G]]]==null&&(b[re]=++x),i[a]={old:t[a],new:b[t[a]]},g[a]=b[t[a]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(g),{charMap:i,subtable:B.data,maxGlyphID:x+1};case"unicode":for(E=[],f=[],y=0,b={},n={},v=u=null,z=0,ae=s.length;z<ae;z++)b[N=t[a=s[z]]]==null&&(b[N]=++y),n[a]={old:N,new:b[N]},l=b[N]-a,v!=null&&l===u||(v&&f.push(v),E.push(a),u=l),v=a;for(v&&f.push(v),f.push(65535),E.push(65535),F=2*(T=E.length),A=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,j=2*T-A,c=[],S=[],p=[],m=V=0,he=E.length;V<he;m=++V){if(O=E[m],d=f[m],O===65535){c.push(0),S.push(0);break}if(O-(L=n[O].new)>=32768)for(c.push(0),S.push(2*(p.length+T-m)),a=Y=O;O<=d?Y<=d:Y>=d;a=O<=d?++Y:--Y)p.push(n[a].new);else c.push(L-O),S.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*T+2*p.length),B.writeUInt16(0),B.writeUInt16(F),B.writeUInt16(A),B.writeUInt16(h),B.writeUInt16(j),oe=0,k=f.length;oe<k;oe++)a=f[oe],B.writeUInt16(a);for(B.writeUInt16(0),fe=0,P=E.length;fe<P;fe++)a=E[fe],B.writeUInt16(a);for(ve=0,R=c.length;ve<R;ve++)l=c[ve],B.writeUInt16(l);for(Ce=0,H=S.length;Ce<H;Ce++)_=S[Ce],B.writeUInt16(_);for(q=0,X=p.length;q<X;q++)x=p[q],B.writeUInt16(x);return{charMap:n,subtable:B.data,maxGlyphID:y+1}}},e}(),F$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new fD(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=fD.encode(r,n),(i=new Ad).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),XPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),KPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),QPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),JPe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ZPe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,d=r.readString(i.length),l=new JPe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),eDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),tDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)s=h[d],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),R$=[].slice,rDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Ad(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new aDe(c,d,h,u,f):new nDe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,l,c,u;for(l=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(l.length),i&&(l=l.concat(i.encode(a)));return s.push(l.length),{table:l,offsets:s}},t}(),nDe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),aDe=function(){function e(t,r,n,a,i){var s,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ad(R$.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),iDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return yc(t,Cl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<a.length;++l)if(a[l]=i,s<n.length&&n[s]==l){++s,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),sDe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,l,c;for(a={},s=0,l=t.length;s<l;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,l,c,u,d,f,h,p,m,x,g,v;for(a in n=F$.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},v=n.charMap)p[(c=v[a]).old]=c.new;for(m in h=n.maxGlyphID,s)m in p||(p[m]=h++);return d=function(b){var y,_;for(y in _={},b)_[b[y]]=y;return _}(p),f=Object.keys(d).sort(function(b,y){return b-y}),x=function(){var b,y,_;for(_=[],b=0,y=f.length;b<y;b++)l=f[b],_.push(d[l]);return _}(),i=this.font.glyf.encode(s,x,p),u=this.font.loca.encode(i.offsets,x),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();Ft.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();const oDe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:LPe,AcroFormAppearance:St,AcroFormButton:$a,AcroFormCheckBox:Rx,AcroFormChoiceField:D0,AcroFormComboBox:M0,AcroFormEditBox:Mx,AcroFormListBox:I0,AcroFormPasswordField:Lx,AcroFormPushButton:Fx,AcroFormRadioButton:F0,AcroFormTextField:pd,GState:V1,ShadingPattern:nd,TilingPattern:b0,default:Ft,jsPDF:Ft},Symbol.toStringTag,{value:"Module"})),gh=({isOpen:e,onClose:t,title:r,children:n})=>e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-lg rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(10, 30, 50, 0.95) 0%, rgba(20, 100, 100, 0.85) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 24px -2px, rgba(0, 200, 200, 0.1) 0px 4px 12px -2px, rgba(255, 255, 255, 0.05) 0px -1px 2px 0px inset"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-cyan-500/20",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-cyan-500/10 transition-colors",children:o.jsx(Gt,{className:"w-5 h-5 text-cyan-400"})})]}),o.jsx("div",{className:"p-4",children:n})]})]}):null,q1=()=>{const e=new Date,t=e.getFullYear().toString().slice(-2),r=(e.getMonth()+1).toString().padStart(2,"0"),n=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`${t}${r}-${n}`},lDe=({cell:e,onClose:t,onSave:r})=>{var d,f;const[n,a]=I.useState(e.ropeCount||0),[i,s]=I.useState(((d=e.spat)==null?void 0:d.name)||""),[l,c]=I.useState(((f=e.spat)==null?void 0:f.batchNumber)||q1()),u=()=>{const p={date:new Date().toISOString(),action:"Ajout de cordes",details:`${n} cordes ajoutées`,naissain:i,lotNumber:l,mortalityRate:0,notes:"",type:"add"};r({...e,ropeCount:(e.ropeCount||0)+n,spat:{name:i,batchNumber:l,dateAdded:new Date().toISOString()},history:[...e.history||[],p]}),t()};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-[480px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsxs("div",{className:"relative",children:[o.jsx("h3",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ajouter des cordes"}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes"}),o.jsx("input",{type:"number",value:n,onChange:h=>a(Number(h.target.value)),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Naissain"}),o.jsx("input",{type:"text",value:i,onChange:h=>s(h.target.value),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",placeholder:"Nom du naissain"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Numéro de lot"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:l,onChange:h=>c(h.target.value),className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",placeholder:"Numéro de lot"}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40",children:o.jsx(gW,{size:20})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[o.jsx("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/40 transition-all duration-300 transform hover:-translate-y-1 text-white/70 hover:text-white",children:"Annuler"}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(Ky,{size:20}),"Enregistrer"]})]})]})]})]})})})},cDe=({cell:e,onClose:t,onSave:r})=>{var f,h,p,m;const[n,a]=I.useState(1),l=10*5,c=150,u=()=>{var _,N;const x=new Date().toISOString(),g=e.ropeCount||l,v=Math.max(0,g-n),b=v===0,y={date:x,action:"Récolte",details:`${n} cordes récoltées`,naissain:((_=e.spat)==null?void 0:_.name)||"",lotNumber:((N=e.spat)==null?void 0:N.batchNumber)||"",mortalityRate:0,notes:"",type:"harvest"};r({...e,filled:!b,ropeCount:v,spat:b?void 0:e.spat,history:[...e.history||[],y]}),t()},d=x=>x*c;return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-[480px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsxs("div",{className:"relative",children:[o.jsx("h3",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Récolter des cordes"}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2 text-white/70",children:"Nombre de cordes à récolter"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",value:n,onChange:x=>a(Math.min(Math.max(1,Number(x.target.value)),e.ropeCount||l)),className:"flex-1 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-3 rounded-lg border border-white/10 hover:border-cyan-400/30 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 text-white min-h-[44px] transition-all duration-300",min:"1",max:e.ropeCount||l}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{onClick:()=>a(x=>Math.min(x+1,e.ropeCount||l)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:o.jsx(iS,{size:16})}),o.jsx("button",{onClick:()=>a(x=>Math.max(1,x-1)),className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:o.jsx(tf,{size:16})})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-white/70",children:[o.jsx("span",{className:"font-medium",children:"Numéro de lot :"})," ",o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex-1 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-2 rounded-lg border border-white/10",children:o.jsx("span",{className:"text-white",children:((f=e.spat)==null?void 0:f.batchNumber)||q1()})}),o.jsx("button",{onClick:()=>{var v;const x=q1(),g={date:new Date().toISOString(),action:"Mise à jour du numéro de lot",details:`Nouveau numéro de lot : ${x}`,naissain:((v=e.spat)==null?void 0:v.name)||"",lotNumber:x,mortalityRate:0,notes:"",type:"update"};r({...e,spat:{...e.spat,batchNumber:x},history:[...e.history||[],g]})},className:"p-1 rounded bg-white/5 hover:bg-white/10 text-white/70",children:o.jsx(pN,{size:14})})]})]}),o.jsxs("div",{className:"text-sm text-white/70",children:[o.jsx("span",{className:"font-medium",children:"Naissain à récolter :"})," ",o.jsx("span",{className:"text-white",children:"Marennes-Oléron"})]}),o.jsxs("div",{className:"text-sm text-white/70",children:[o.jsx("span",{className:"font-medium",children:"Cordes restantes après récolte :"})," ",o.jsx("span",{className:"text-white",children:(e.ropeCount||l)-n})]}),o.jsxs("div",{className:"text-sm text-white/70",children:[o.jsx("span",{className:"font-medium",children:"Huîtres restantes après récolte :"})," ",o.jsx("span",{className:"text-white",children:d((e.ropeCount||l)-n)})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{var b;const x=new Date().toISOString(),g=(((b=e.exondation)==null?void 0:b.exondationCount)||0)+1,v={date:x,action:"Exondation",details:`Exondation #${g}`,naissain:"",lotNumber:"",mortalityRate:0,notes:"",type:"exondation"};r({...e,exondation:{startTime:x,isExonded:!0,exondationCount:g},history:[...e.history||[],v]}),setTimeout(()=>{var y;(y=e.exondation)!=null&&y.isExonded&&alert("⚠️ ATTENTION : Cette table est exondée depuis plus de 24 heures !")},24*60*60*1e3)},className:`px-4 py-2 rounded-lg ${(h=e.exondation)!=null&&h.isExonded?"bg-orange-500/20 border-orange-500/30 hover:bg-orange-500/30":"bg-white/5 border-white/10 hover:bg-white/10 text-white/70"} transition-colors`,"aria-label":(p=e.exondation)!=null&&p.isExonded?"Table exondée":"Exonder",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ji,{size:16}),(m=e.exondation)!=null&&m.isExonded?"Exondé":"Exonder"]})}),o.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),o.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors",children:"Récolter"})]})]})]})]})})})},uDe=({isOpen:e,onClose:t,table:r})=>{const[n,a]=I.useState(null);I.useEffect(()=>{vOe("fr",hY)},[]);const i=()=>{var h,p;const l=new Ft;l.setFontSize(24),l.setTextColor(0,150,180),l.text("OYSTER CULT",20,20),l.setFontSize(16),l.setTextColor(100,100,100),l.text("Historique de la table",20,30),l.setFontSize(12),l.setTextColor(60,60,60),l.text(`Table ${r.name}`,20,45),l.text(`Type: ${r.type||"Standard"}`,20,52),l.text(`Zone: ${r.zone||"Non spécifiée"}`,20,59),l.text(`Naissain: ${r.origin||"Non spécifié"}`,20,66),l.text(`Période: ${n?er(n,"dd/MM/yyyy"):"Toutes les dates"}`,20,73),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Statistiques globales",20,88),l.setFontSize(11),l.setTextColor(60,60,60);const c=s(r.history);l.text(`Mortalité moyenne: ${c.avgMortality}%`,25,95),l.text(`Temps de croissance: ${c.growthTime} mois`,25,102),l.text(`Nombre d'interventions: ${((h=r.history)==null?void 0:h.length)||0}`,25,109),l.text(`Dernière mise à jour: ${er(new Date(c.lastUpdate),"dd/MM/yyyy")}`,25,116),l.text(`Nombre de cordes: ${c.totalRopes||"N/A"}`,120,95),l.text(`Tonnage estimé: ${c.estimatedTonnage.toFixed(1)||"N/A"} tonnes`,120,102),l.text(`Densité moyenne: ${c.avgDensity||"N/A"} huîtres/m²`,120,109),l.text(`Taille moyenne: ${c.avgSize||"N/A"}mm`,120,116),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Évolution de la mortalité",20,131),l.setFontSize(11),l.setTextColor(60,60,60),l.text(`Initial: ${c.initialMortality||0}%`,25,138),l.text(`Maximum: ${c.maxMortality||0}%`,85,138),l.text(`Actuel: ${c.currentMortality||0}%`,145,138),l.setDrawColor(0,150,180),l.line(20,145,190,145),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Données de production",20,160),l.setFontSize(11),l.setTextColor(60,60,60),l.text(`Quantité initiale: ${c.initialQuantity||"N/A"} pièces`,25,167),l.text(`Quantité actuelle: ${c.currentQuantity||"N/A"} pièces`,25,174),l.text(`Perte estimée: ${c.estimatedLoss||"N/A"} pièces`,25,181),l.text(`Rendement: ${c.productionYield||"N/A"}%`,25,188),l.line(20,195,190,195),l.setFontSize(14),l.setTextColor(0,150,180),l.text("Détail des interventions",20,210);let u=225;l.setFontSize(11),l.setTextColor(0,0,0);const d=n?(p=r.history)==null?void 0:p.filter(m=>{const x=new Date(m.date);return er(x,"yyyy-MM-dd")===er(n,"yyyy-MM-dd")}):r.history;d==null||d.forEach(m=>{l.setFont(void 0,"bold"),l.text(`${er(new Date(m.date),"dd/MM/yyyy")} - ${m.action}`,20,u),u+=7,l.setFont(void 0,"normal"),m.details&&(l.text(`Détails: ${m.details}`,30,u),u+=7),m.mortalityRate&&(l.text(`Mortalité: ${m.mortalityRate}%`,30,u),u+=7),m.naissain&&(l.text(`Naissain: ${m.naissain}`,30,u),u+=7),m.lotNumber&&(l.text(`N° de lot: ${m.lotNumber}`,30,u),u+=7),m.quantity&&(l.text(`Quantité: ${m.quantity} pièces`,30,u),u+=7),m.density&&(l.text(`Densité: ${m.density} huîtres/m²`,30,u),u+=7),m.size&&(l.text(`Taille moyenne: ${m.size}mm`,30,u),u+=7),m.ropes&&(l.text(`Nombre de cordes: ${m.ropes}`,30,u),u+=7),m.tonnage&&(l.text(`Tonnage: ${m.tonnage} tonnes`,30,u),u+=7),u+=5,u>270&&(l.addPage(),u=20)});const f=l.getNumberOfPages();for(let m=1;m<=f;m++)l.setPage(m),l.setFontSize(10),l.setTextColor(100,100,100),l.text(`Page ${m} sur ${f}`,l.internal.pageSize.width/2,l.internal.pageSize.height-10,{align:"center"}),l.text(`Généré le ${er(new Date,"dd/MM/yyyy à HH:mm")}`,20,l.internal.pageSize.height-10);l.save(`historique_table_${r.name}_${er(new Date,"yyyy-MM-dd")}.pdf`)},s=l=>{if(!(l!=null&&l.length))return{avgMortality:0,growthTime:0,lastUpdate:new Date,totalRopes:0,estimatedTonnage:0,avgDensity:0,avgSize:0,initialMortality:0,maxMortality:0,currentMortality:0,initialQuantity:0,currentQuantity:0,estimatedLoss:0,productionYield:0};const c=l.filter(E=>E.mortalityRate).map(E=>Number(E.mortalityRate)),u=c.length?(c.reduce((E,L)=>E+L,0)/c.length).toFixed(1):0,d=new Date(l[0].date),f=new Date(l[l.length-1].date),h=Math.ceil(Fq(f,d)),p=l[l.length-1],m=l[0],x=p.ropes||0,g=x*.5,v=l.filter(E=>E.density).map(E=>Number(E.density)),b=v.length?Math.round(v.reduce((E,L)=>E+L,0)/v.length):0,y=l.filter(E=>E.size).map(E=>Number(E.size)),_=y.length?Math.round(y.reduce((E,L)=>E+L,0)/y.length):0,N=Number(m.mortalityRate)||0,S=Math.max(...c,0),j=Number(p.mortalityRate)||0,A=Number(m.quantity)||0,T=Number(p.quantity)||0,F=A-T,O=A?Math.round(T/A*100):0;return{avgMortality:u,growthTime:h,lastUpdate:f,totalRopes:x,estimatedTonnage:g,avgDensity:b,avgSize:_,initialMortality:N,maxMortality:S,currentMortality:j,initialQuantity:A,currentQuantity:T,estimatedLoss:F,productionYield:O}};return o.jsx(Ir,{children:e&&o.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),o.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 pt-[15vh]",children:o.jsxs(ke.div,{initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0px)"},exit:{opacity:0,transform:"translateY(30px)"},className:"bg-[rgba(15,23,42,0.45)] backdrop-blur-[16px] p-8 rounded-xl w-[900px] border border-white/10 relative overflow-hidden shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Historique ",r.name]}),o.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Suivi détaillé des lots et performances"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:i,className:"inline-flex items-center px-3.5 py-1.5 text-sm font-medium rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300",children:[o.jsx(io,{size:14,className:"mr-2 text-cyan-400"}),o.jsx("span",{className:"text-white",children:"Exporter PDF"})]}),o.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/5 flex flex-col items-center",children:[o.jsx("span",{className:"text-white/70 text-sm mb-1",children:"Mortalité moyenne"}),o.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:"15%"})]}),o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/5 flex flex-col items-center",children:[o.jsx("span",{className:"text-white/70 text-sm mb-1",children:"Temps de croissance"}),o.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:"11 mois"})]}),o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-white/5 flex flex-col items-center",children:[o.jsx("span",{className:"text-white/70 text-sm mb-1",children:"Dernière mise à jour"}),o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:er(new Date,"dd/MM/yyyy")})]})]}),o.jsxs("div",{className:"flex justify-end items-center gap-4",children:[o.jsx("button",{onClick:()=>{const l=document.getElementById("date-picker");l&&l.click()},className:"h-[52px] w-[52px] flex items-center justify-center rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300","aria-label":"Filtrer par date",children:o.jsx(Oa,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),o.jsx("div",{className:"hidden",children:o.jsx(iPe,{id:"date-picker",selected:n,onChange:l=>a(l),locale:"fr",dateFormat:"dd/MM/yyyy",isClearable:!0,showPopperArrow:!1,popperClassName:"datepicker-popper",popperPlacement:"bottom-end",customInput:o.jsx("div",{})})}),o.jsxs("button",{onClick:i,className:"h-[52px] px-6 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 flex items-center gap-2",children:[o.jsx(io,{size:18,className:"text-cyan-400","aria-hidden":"true"}),o.jsx("span",{className:"text-white font-medium",children:"Exporter PDF"})]})]}),o.jsx("div",{className:"bg-gray-800/50 rounded-lg border border-white/5 divide-y divide-white/5",children:[1,2,3].map((l,c)=>o.jsx("div",{className:"group p-5 first:rounded-t-lg last:rounded-b-lg hover:bg-white/5 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-cyan-500/10 border border-cyan-400/20",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.3)]"}),o.jsx("span",{className:"text-sm font-medium text-cyan-400",children:"Naissain Premium"})]}),o.jsx("div",{className:"h-3.5 w-[1px] bg-white/10"}),o.jsx("span",{className:"text-sm text-white/70",children:er(new Date(2025,3-c,1),"dd/MM/yyyy")})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-white/70",children:[o.jsx(fi,{size:14,className:"text-cyan-400"}),o.jsxs("span",{className:"font-medium",children:["Lot T15-",1e3+c]})]}),o.jsx("div",{className:"h-3.5 w-[1px] bg-white/10"}),o.jsx("span",{className:"text-white/70",children:"Bretagne Sud"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-400/20",children:[o.jsx(QI,{size:14,className:"text-emerald-400"}),o.jsxs("span",{className:"text-sm font-medium text-emerald-400",children:["Mortalité: ",14+c,"%"]})]}),o.jsx("div",{className:"h-5 w-5 rounded-full bg-emerald-500/20 border border-emerald-400/20 flex items-center justify-center shadow-[0_0_15px_rgba(52,211,153,0.2)]",children:o.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400"})})]})]})},c))})]})]})})]})})},dDe=({isOpen:e,onClose:t,onUpload:r})=>{const n=()=>{const a=z2.json_to_sheet([{ropeCount:10,spatName:"Naissain exemple",batchNumber:"2503-001",dateAdded:new Date().toISOString()}]),i=z2.book_new();z2.book_append_sheet(i,a,"Template"),Eke(i,"template_import_table.xlsx")};return o.jsx(Ir,{children:e&&o.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg w-[600px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Import Excel"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"Format requis"}),o.jsx("p",{className:"text-white/70",children:"Le fichier Excel doit contenir les colonnes suivantes :"}),o.jsxs("ul",{className:"mt-2 space-y-2 text-white/70",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 bg-cyan-400 rounded-full"}),o.jsx("strong",{children:"ropeCount"})," - Nombre de cordes (requis)"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 bg-cyan-400 rounded-full"}),o.jsx("strong",{children:"spatName"})," - Nom du naissain (requis)"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 bg-white/30 rounded-full"}),o.jsx("strong",{children:"batchNumber"})," - Numéro de lot (optionnel)"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 bg-white/30 rounded-full"}),o.jsx("strong",{children:"dateAdded"})," - Date d'ajout (optionnel)"]})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[o.jsxs("h4",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[o.jsx(rb,{size:20,className:"text-cyan-400"}),"Exemple de format"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"ropeCount"}),o.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"spatName"}),o.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"batchNumber"}),o.jsx("th",{className:"text-left text-white/70 px-4 py-2",children:"dateAdded"})]})}),o.jsx("tbody",{children:o.jsxs("tr",{children:[o.jsx("td",{className:"text-white px-4 py-2",children:"10"}),o.jsx("td",{className:"text-white px-4 py-2",children:"Naissain exemple"}),o.jsx("td",{className:"text-white px-4 py-2",children:"2503-001"}),o.jsx("td",{className:"text-white px-4 py-2",children:"2025-04-01"})]})})]})})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(Ho,{size:20}),"Télécharger le modèle Excel"]}),o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:[o.jsx(Uo,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-white",children:"Importer un fichier Excel"}),o.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:r,className:"hidden","aria-label":"Importer un fichier Excel"})]})]})]})]})]})})})})},fDe=({isOpen:e,onClose:t,onFill:r,table:n})=>{const[a,i]=I.useState(!1),[s,l]=I.useState(null),[c,u]=I.useState(""),[d,f]=I.useState("France naissain"),h=m=>{l(m),u(q1()),i(!0)},p=()=>{s&&(r(s,{origin:d,lotNumber:c}),i(!1),t())};return o.jsx(Ir,{children:e&&o.jsx(gh,{isOpen:e,onClose:t,title:"Remplir la table",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:["Table ",n.name," - Bouzigues"]}),o.jsx("p",{className:"text-white/70 mt-2",children:"Choisissez la partie de la table à remplir"})]}),o.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),a?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Numéro de lot"}),o.jsx("input",{type:"text",value:c,readOnly:!0,className:"w-full p-2 rounded-lg bg-white/5 border border-white/10 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Provenance du naissain"}),o.jsx("input",{type:"text",value:d,onChange:m=>f(m.target.value),className:"w-full p-2 rounded-lg bg-white/5 border border-white/10 text-white"})]})]}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors",children:"Confirmer"})]})]}):o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("button",{onClick:()=>h("left"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(Vx,{className:"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:"Remplir colonne gauche"})]}),o.jsx(Es,{size:20,className:"text-cyan-400"})]}),o.jsxs("button",{onClick:()=>h("right"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(vW,{className:"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:"Remplir colonne droite"})]}),o.jsx(Es,{size:20,className:"text-cyan-400"})]}),o.jsxs("button",{onClick:()=>h("all"),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(rb,{className:"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:"Remplir toute la table"})]}),o.jsx(Es,{size:20,className:"text-cyan-400"})]})]})]})})})},hDe=({table:e,onClose:t,onTableUpdate:r})=>{var G,z,V;const[n,a]=I.useState(null),[i,s]=I.useState(!1),[l,c]=I.useState(!1),[u,d]=I.useState(!1),[f,h]=I.useState(!1),[p,m]=I.useState(!1),[x,g]=I.useState(!1),[v,b]=I.useState("all"),[y,_]=I.useState([]),[N,S]=I.useState(!1),[j,A]=I.useState(!1),T=(Y,U)=>{const ae=new Date().toISOString(),he=e.cells.map(k=>{const P=parseInt(k.id);return Y==="left"&&P<=8||Y==="right"&&P>=9||Y==="all"?{...k,naissain:{...U,date:ae}}:k});r({...e,cells:he,history:[...e.history||[],{date:ae,action:`Remplissage ${Y==="left"?"colonne gauche":Y==="right"?"colonne droite":"table entière"}`,naissain:U.origin,lotNumber:U.lotNumber}]})};K.useEffect(()=>{if(e.id==="1"&&r){const Y=[...e.cells];Y[3]&&(Y[3]={...Y[3],filled:!0,ropeCount:7}),Y[8]&&(Y[8]={...Y[8],filled:!0}),Y[16]&&(Y[16]={...Y[16],filled:!0}),r({...e,cells:Y})}},[e.id,r]);const F=(Y,U)=>{const ae=new Date().toISOString(),he=(e.exondationCount||0)+1,k={date:ae,action:"Exondation",details:`Exondation #${he} - ${Y==="all"?"Table complète":Y==="right"?"Colonne droite":Y==="left"?"Colonne gauche":"Cellules spécifiques"}`,naissain:"",lotNumber:"",mortalityRate:0,notes:"",type:"exondation"},P=[...e.cells];Y==="all"?P.forEach(R=>{R.exondation={startTime:ae,isExonded:!0,exondationCount:he}}):Y==="right"?P.slice(50).forEach(R=>{R.exondation={startTime:ae,isExonded:!0,exondationCount:he}}):Y==="left"?P.slice(0,50).forEach(R=>{R.exondation={startTime:ae,isExonded:!0,exondationCount:he}}):U&&U.forEach(R=>{P[R]&&(P[R].exondation={startTime:ae,isExonded:!0,exondationCount:he})}),r({...e,cells:P,exondationCount:he,history:[...e.history||[],k]}),setTimeout(()=>{P.filter(H=>{var X;return(X=H.exondation)==null?void 0:X.isExonded}).length>0&&alert("⚠️ ATTENTION : Des huîtres sont exondées depuis plus de 24 heures !")},24*60*60*1e3),m(!1)},O=Y=>{var he,k;const U=[...e.cells],ae=U.findIndex(P=>P.id===Y.id);if(ae!==-1){U[ae]=Y;const P={date:new Date().toISOString(),action:"Mise à jour cellule",details:`Cellule ${ae+1} mise à jour avec ${Y.ropeCount} cordes`,naissain:((he=Y.spat)==null?void 0:he.name)||"",lotNumber:((k=Y.spat)==null?void 0:k.batchNumber)||"",mortalityRate:0,notes:"",type:"update",ropes:Y.ropeCount,tonnage:Y.ropeCount*.5};r({...e,cells:U,history:[...e.history,P]})}s(!1)},E=Y=>{var he,k;const U=[...e.cells],ae=U.findIndex(P=>P.id===Y.id);if(ae!==-1){U[ae]=Y;const P={date:new Date().toISOString(),action:"Récolte de cordes",details:`Cellule ${ae+1} récoltée`,naissain:((he=Y.spat)==null?void 0:he.name)||"",lotNumber:((k=Y.spat)==null?void 0:k.batchNumber)||"",mortalityRate:0,notes:"",type:"harvest",ropes:Y.ropeCount,tonnage:Y.ropeCount*.5};r({...e,cells:U,history:[...e.history,P]})}g(!1)},L=Y=>{var ae;const U=(ae=Y.target.files)==null?void 0:ae[0];if(U){const he=new FileReader;he.onload=k=>{var oe;const P=new Uint8Array((oe=k.target)==null?void 0:oe.result),R=aj(P,{type:"array"}),H=R.Sheets[R.SheetNames[0]],X=z2.sheet_to_json(H);if(X.length>0){const fe={...e,cells:e.cells.map((re,ve)=>{const Ce=X[ve];return Ce?{...re,ropeCount:Ce.ropeCount||re.ropeCount,spat:Ce.spatName?{name:Ce.spatName,batchNumber:Ce.batchNumber||q1(),dateAdded:Ce.dateAdded||new Date().toISOString()}:re.spat}:re})};r(fe)}},he.readAsArrayBuffer(U)}},B=Y=>{a(Y),Y.filled?g(!0):s(!0)};return o.jsxs(o.Fragment,{children:[o.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/90",onClick:t}),o.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-gray-900/95 p-6 rounded-xl max-w-4xl w-full border border-white/10",onClick:Y=>Y.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-start mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rb,{size:24,className:"text-cyan-400"}),o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xl",children:[o.jsx(fi,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-white/80 font-semibold",children:"Bouzigues"})]})]}),o.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Huîtres creuses • Calibre en cours N°2"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/30 hover:border-cyan-400/50 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(Uo,{size:20}),o.jsx("span",{children:"Importer depuis Excel"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[o.jsx("h3",{className:"text-xl font-semibold text-cyan-300",children:"Informations générales"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(di,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-gray-300",children:"Temps de grossissement"})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsx("span",{className:"text-white font-medium",children:"1 an et 44 jours"}),o.jsx("div",{className:"w-32 h-1.5 bg-gray-700/50 rounded-full overflow-hidden shadow-[0_1px_3px_rgba(0,0,0,0.3)_inset]",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 via-green-400 to-yellow-300 rounded-full shadow-[0_0_8px_rgba(34,211,238,0.4)] transition-all duration-500",style:{width:"65%"}})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oa,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-gray-300",children:"Dernier échantillonnage"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-cyan-500/5 border border-cyan-400/20 shadow-[0_2px_5px_rgba(0,0,0,0.1),0_0_10px_rgba(34,211,238,0.1)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.15),0_0_12px_rgba(34,211,238,0.2)] transition-all duration-300",children:o.jsx("span",{className:"text-cyan-400 font-medium",children:"17/03/25"})}),o.jsx("div",{className:"px-2.5 py-1 rounded-lg bg-emerald-500/5 border border-emerald-400/20 shadow-[0_2px_5px_rgba(0,0,0,0.1),0_0_10px_rgba(52,211,153,0.1)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.15),0_0_12px_rgba(52,211,153,0.2)] transition-all duration-300",children:o.jsx("span",{className:"text-emerald-400 font-medium",children:"18% mortalité"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ro,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-gray-300",children:"Température"})]}),o.jsx("span",{className:"text-white font-medium",children:"12°C"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ji,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-gray-300",children:"Nombre d'exondations"})]}),o.jsx("span",{className:"text-white font-medium",children:"29 fois"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(fi,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-gray-300",children:"Provenance naissain"})]}),o.jsx("span",{className:"text-white font-medium",children:"France naissain"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(di,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-gray-300",children:"Dernière mise à jour"})]}),o.jsx("span",{className:"text-white font-medium",children:"02/04/2025"})]})]})]}),o.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-white/5",children:[o.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-8",children:"Actions"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(ji,{className:(G=e.exondation)!=null&&G.isExonded?"text-orange-400":"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:(z=e.exondation)!=null&&z.isExonded?"Exondé":"Exonder"})]}),o.jsx(Es,{size:20,className:(V=e.exondation)!=null&&V.isExonded?"text-orange-400":"text-cyan-400"})]}),o.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(Q1,{className:"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:"Échantillonnage"})]}),o.jsx(Es,{size:20,className:"text-cyan-400"})]}),o.jsxs("button",{onClick:()=>A(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(rb,{className:"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:"Remplir table"})]}),o.jsx(Es,{size:20,className:"text-cyan-400"})]}),o.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(gd,{className:"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:"Historique"})]}),o.jsx(Es,{size:20,className:"text-cyan-400"})]}),o.jsxs("button",{onClick:()=>S(!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(io,{className:"text-cyan-400",size:20}),o.jsx("span",{className:"ml-3 text-white",children:"Exporter"})]}),o.jsx(Es,{size:20,className:"text-cyan-400"})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-10 gap-1",children:e.cells.map((Y,U)=>o.jsxs("div",{onClick:()=>B(Y),className:`h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative backdrop-blur-sm ${Y.filled?U===3?"bg-gradient-to-l from-cyan-500/40 to-transparent from-[87.5%] to-[87.5%] border-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[o.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40",children:U+1}),Y.filled&&Y.ropeCount&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white/70",children:Y.ropeCount})})]},Y.id))}),i&&n&&o.jsx(lDe,{cell:n,onClose:()=>s(!1),onSave:O}),x&&n&&o.jsx(cDe,{cell:n,onClose:()=>g(!1),onSave:E})]})]}),f&&o.jsx(uDe,{isOpen:f,onClose:()=>h(!1),table:e}),o.jsx(dDe,{isOpen:p,onClose:()=>m(!1),onUpload:L}),u&&o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50",onClick:Y=>{Y.target===Y.currentTarget&&d(!1)},children:o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-sm p-8 rounded-xl w-[600px] border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Échantillonnage"}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"text-gray-300",children:"Voulez-vous effectuer un contrôle d'échantillonnage sur cette table ?"}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg bg-gray-700/50 hover:bg-gray-700 text-gray-300 transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>{const Y={date:new Date().toISOString(),action:"Échantillonnage",details:"Contrôle de croissance effectué",naissain:"",lotNumber:"",mortalityRate:0,notes:"",type:"sampling"};r({...e,lastSampling:{date:new Date().toISOString(),mortality:Math.round(Math.random()*5).toString()},history:[...e.history,Y]}),d(!1)},className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-500 text-white transition-colors",children:"Confirmer"})]})]})]})}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50",onClick:Y=>{Y.target===Y.currentTarget&&c(!1)},children:o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] p-6 rounded-lg w-96 shadow-xl border border-white/10",onClick:Y=>Y.stopPropagation(),children:[o.jsx("h3",{className:"text-xl font-semibold text-cyan-500 mb-4",children:"Sélectionner la zone à exonder"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsx("button",{onClick:()=>b("all"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${v==="all"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Table complète"}),o.jsx("button",{onClick:()=>b("right"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${v==="right"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Colonne droite"}),o.jsx("button",{onClick:()=>b("left"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${v==="left"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Colonne gauche"}),o.jsx("button",{onClick:()=>b("custom"),className:`w-full flex items-center px-4 py-3 rounded-lg border transition-colors ${v==="custom"?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:"Sélection personnalisée"})]}),v==="custom"&&o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"grid grid-cols-10 gap-1 mb-4",children:e.cells.map((Y,U)=>o.jsx("div",{onClick:()=>{_(ae=>ae.includes(U)?ae.filter(he=>he!==U):[...ae,U])},className:`w-8 h-8 rounded-sm border cursor-pointer transition-colors flex items-center justify-center relative ${y.includes(U)?"bg-cyan-500/50 border-cyan-400":U<3?"bg-white/5 border-white/10 hover:bg-white/10":U===3?"bg-cyan-500/20 border-cyan-500/30 hover:bg-cyan-500/30":"bg-cyan-500/40 border-cyan-500/30 hover:bg-cyan-500/50"}`,children:o.jsx("div",{className:"absolute bottom-1 right-1 text-[10px] text-white/40 flex items-center justify-center relative",children:U+1})},Y.id))}),o.jsx("p",{className:"text-white/70 text-sm",children:"Sélectionnez les cellules à exonder"})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-white/70",children:"Annuler"}),o.jsx("button",{onClick:()=>{v==="custom"?F("custom",y):F(v)},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:"Confirmer"})]})]})}),o.jsx(fDe,{isOpen:j,onClose:()=>A(!1),table:e,onFill:(Y,U)=>{T(Y,U),A(!1)}})]})};var Cg=e=>e.type==="checkbox",y0=e=>e instanceof Date,cs=e=>e==null;const L$=e=>typeof e=="object";var va=e=>!cs(e)&&!Array.isArray(e)&&L$(e)&&!y0(e),pDe=e=>va(e)&&e.target?Cg(e.target)?e.target.checked:e.target.value:e,mDe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xDe=(e,t)=>e.has(mDe(t)),gDe=e=>{const t=e.constructor&&e.constructor.prototype;return va(t)&&t.hasOwnProperty("isPrototypeOf")},NC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(NC&&(e instanceof Blob||n))&&(r||va(e)))if(t=r?[]:{},!r&&!gDe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=wi(e[a]));else return e;return t}var Eg=e=>Array.isArray(e)?e.filter(Boolean):[],Rn=e=>e===void 0,wt=(e,t,r)=>{if(!t||!va(e))return r;const n=Eg(t.split(/[,[\].]+?/)).reduce((a,i)=>cs(a)?a:a[i],e);return Rn(n)||n===e?Rn(e[t])?r:e[t]:n},Ul=e=>typeof e=="boolean",jC=e=>/^\w*$/.test(e),B$=e=>Eg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),hn=(e,t,r)=>{let n=-1;const a=jC(t)?[t]:B$(t),i=a.length,s=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==s){const u=e[l];c=va(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}return e};const hD={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ro={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vDe=K.createContext(null),bDe=()=>K.useContext(vDe);var yDe=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Ro.all&&(t._proxyFormState[s]=!n||Ro.all),e[s]}});return a},is=e=>va(e)&&!Object.keys(e).length,wDe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return is(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===Ro.all)},ao=e=>Array.isArray(e)?e:[e];function $$(e){const t=K.useRef(e);t.current=e,K.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var tc=e=>typeof e=="string",_De=(e,t,r,n,a)=>tc(e)?(n&&t.watch.add(e),wt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),wt(r,i))):(n&&(t.watchAll=!0),r),NDe=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Bu=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},j4=(e,t,r={})=>r.shouldFocus||Rn(r.shouldFocus)?r.focusName||`${e}.${Rn(r.focusIndex)?t:r.focusIndex}.`:"",Bx=e=>({isOnSubmit:!e||e===Ro.onSubmit,isOnBlur:e===Ro.onBlur,isOnChange:e===Ro.onChange,isOnAll:e===Ro.all,isOnTouch:e===Ro.onTouched}),Nj=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const $h=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=wt(e,a);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if($h(l,t))break}else if(va(l)&&$h(l,t))break}}};var z$=(e,t,r)=>{const n=ao(wt(e,r));return hn(n,"root",t[r]),hn(e,r,n),e},SC=e=>e.type==="file",Yl=e=>typeof e=="function",My=e=>{if(!NC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Y2=e=>tc(e),AC=e=>e.type==="radio",Fy=e=>e instanceof RegExp;const pD={value:!1,isValid:!1},mD={value:!0,isValid:!0};var U$=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Rn(e[0].attributes.value)?Rn(e[0].value)||e[0].value===""?mD:{value:e[0].value,isValid:!0}:mD:pD}return pD};const xD={isValid:!1,value:null};var H$=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xD):xD;function gD(e,t,r="validate"){if(Y2(e)||Array.isArray(e)&&e.every(Y2)||Ul(e)&&!e)return{type:r,message:Y2(e)?e:"",ref:t}}var th=e=>va(e)&&!Fy(e)?e:{value:e,message:""},jj=async(e,t,r,n,a,i)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:x,valueAsNumber:g,mount:v}=e._f,b=wt(r,x);if(!v||t.has(x))return{};const y=l?l[0]:s,_=E=>{a&&y.reportValidity&&(y.setCustomValidity(Ul(E)?"":E||""),y.reportValidity())},N={},S=AC(s),j=Cg(s),A=S||j,T=(g||SC(s))&&Rn(s.value)&&Rn(b)||My(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,F=NDe.bind(null,x,n,N),O=(E,L,B,G=Fc.maxLength,z=Fc.minLength)=>{const V=E?L:B;N[x]={type:E?G:z,message:V,ref:s,...F(E?G:z,V)}};if(i?!Array.isArray(b)||!b.length:c&&(!A&&(T||cs(b))||Ul(b)&&!b||j&&!U$(l).isValid||S&&!H$(l).isValid)){const{value:E,message:L}=Y2(c)?{value:!!c,message:c}:th(c);if(E&&(N[x]={type:Fc.required,message:L,ref:y,...F(Fc.required,L)},!n))return _(L),N}if(!T&&(!cs(f)||!cs(h))){let E,L;const B=th(h),G=th(f);if(!cs(b)&&!isNaN(b)){const z=s.valueAsNumber||b&&+b;cs(B.value)||(E=z>B.value),cs(G.value)||(L=z<G.value)}else{const z=s.valueAsDate||new Date(b),V=ae=>new Date(new Date().toDateString()+" "+ae),Y=s.type=="time",U=s.type=="week";tc(B.value)&&b&&(E=Y?V(b)>V(B.value):U?b>B.value:z>new Date(B.value)),tc(G.value)&&b&&(L=Y?V(b)<V(G.value):U?b<G.value:z<new Date(G.value))}if((E||L)&&(O(!!E,B.message,G.message,Fc.max,Fc.min),!n))return _(N[x].message),N}if((u||d)&&!T&&(tc(b)||i&&Array.isArray(b))){const E=th(u),L=th(d),B=!cs(E.value)&&b.length>+E.value,G=!cs(L.value)&&b.length<+L.value;if((B||G)&&(O(B,E.message,L.message),!n))return _(N[x].message),N}if(p&&!T&&tc(b)){const{value:E,message:L}=th(p);if(Fy(E)&&!b.match(E)&&(N[x]={type:Fc.pattern,message:L,ref:s,...F(Fc.pattern,L)},!n))return _(L),N}if(m){if(Yl(m)){const E=await m(b,r),L=gD(E,y);if(L&&(N[x]={...L,...F(Fc.validate,L.message)},!n))return _(L.message),N}else if(va(m)){let E={};for(const L in m){if(!is(E)&&!n)break;const B=gD(await m[L](b,r),y,L);B&&(E={...B,...F(L,B.message)},_(B.message),n&&(N[x]=E))}if(!is(E)&&(N[x]={ref:y,...E},!n))return N}}return _(!0),N},S4=(e,t)=>[...e,...ao(t)],A4=e=>Array.isArray(e)?e.map(()=>{}):void 0;function C4(e,t,r){return[...e.slice(0,t),...ao(r),...e.slice(t)]}var E4=(e,t,r)=>Array.isArray(e)?(Rn(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],k4=(e,t)=>[...ao(t),...ao(e)];function jDe(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return Eg(n).length?n:[]}var T4=(e,t)=>Rn(t)?[]:jDe(e,ao(t).sort((r,n)=>r-n)),O4=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function SDe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Rn(e)?n++:e[t[n++]];return e}function ADe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Rn(e[t]))return!1;return!0}function Aa(e,t){const r=Array.isArray(t)?t:jC(t)?[t]:B$(t),n=r.length===1?e:SDe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(va(n)&&is(n)||Array.isArray(n)&&ADe(n))&&Aa(e,r.slice(0,-1)),e}var vD=(e,t,r)=>(e[t]=r,e);function CDe(e){const t=bDe(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:s}=e,[l,c]=K.useState(r._getFieldArray(n)),u=K.useRef(r._getFieldArray(n).map(Bu)),d=K.useRef(l),f=K.useRef(n),h=K.useRef(!1);f.current=n,d.current=l,r._names.array.add(n),s&&r.register(n,s),$$({next:({values:S,name:j})=>{if(j===f.current||!j){const A=wt(S,f.current);Array.isArray(A)&&(c(A),u.current=A.map(Bu))}},subject:r._subjects.array});const p=K.useCallback(S=>{h.current=!0,r._updateFieldArray(n,S)},[r,n]),m=(S,j)=>{const A=ao(wi(S)),T=S4(r._getFieldArray(n),A);r._names.focus=j4(n,T.length-1,j),u.current=S4(u.current,A.map(Bu)),p(T),c(T),r._updateFieldArray(n,T,S4,{argA:A4(S)})},x=(S,j)=>{const A=ao(wi(S)),T=k4(r._getFieldArray(n),A);r._names.focus=j4(n,0,j),u.current=k4(u.current,A.map(Bu)),p(T),c(T),r._updateFieldArray(n,T,k4,{argA:A4(S)})},g=S=>{const j=T4(r._getFieldArray(n),S);u.current=T4(u.current,S),p(j),c(j),!Array.isArray(wt(r._fields,n))&&hn(r._fields,n,void 0),r._updateFieldArray(n,j,T4,{argA:S})},v=(S,j,A)=>{const T=ao(wi(j)),F=C4(r._getFieldArray(n),S,T);r._names.focus=j4(n,S,A),u.current=C4(u.current,S,T.map(Bu)),p(F),c(F),r._updateFieldArray(n,F,C4,{argA:S,argB:A4(j)})},b=(S,j)=>{const A=r._getFieldArray(n);O4(A,S,j),O4(u.current,S,j),p(A),c(A),r._updateFieldArray(n,A,O4,{argA:S,argB:j},!1)},y=(S,j)=>{const A=r._getFieldArray(n);E4(A,S,j),E4(u.current,S,j),p(A),c(A),r._updateFieldArray(n,A,E4,{argA:S,argB:j},!1)},_=(S,j)=>{const A=wi(j),T=vD(r._getFieldArray(n),S,A);u.current=[...T].map((F,O)=>!F||O===S?Bu():u.current[O]),p(T),c([...T]),r._updateFieldArray(n,T,vD,{argA:S,argB:A},!0,!1)},N=S=>{const j=ao(wi(S));u.current=j.map(Bu),p([...j]),c([...j]),r._updateFieldArray(n,[...j],A=>A,{},!0,!1)};return K.useEffect(()=>{if(r._state.action=!1,Nj(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!Bx(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(S=>{const j=wt(S.errors,n),A=wt(r._formState.errors,n);(A?!j&&A.type||j&&(A.type!==j.type||A.message!==j.message):j&&j.type)&&(j?hn(r._formState.errors,n,j):Aa(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const S=wt(r._fields,n);S&&S._f&&!(Bx(r._options.reValidateMode).isOnSubmit&&Bx(r._options.mode).isOnSubmit)&&jj(S,r._names.disabled,r._formValues,r._options.criteriaMode===Ro.all,r._options.shouldUseNativeValidation,!0).then(j=>!is(j)&&r._subjects.state.next({errors:z$(r._formState.errors,j,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&$h(r._fields,(S,j)=>{if(r._names.focus&&j.startsWith(r._names.focus)&&S.focus)return S.focus(),1}),r._names.focus="",r._updateValid(),h.current=!1},[l,n,r]),K.useEffect(()=>(!wt(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||i)&&r.unregister(n)}),[n,r,a,i]),{swap:K.useCallback(b,[p,n,r]),move:K.useCallback(y,[p,n,r]),prepend:K.useCallback(x,[p,n,r]),append:K.useCallback(m,[p,n,r]),remove:K.useCallback(g,[p,n,r]),insert:K.useCallback(v,[p,n,r]),update:K.useCallback(_,[p,n,r]),replace:K.useCallback(N,[p,n,r]),fields:K.useMemo(()=>l.map((S,j)=>({...S,[a]:u.current[j]||Bu()})),[l,a])}}var P4=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Sj=e=>cs(e)||!L$(e);function ad(e,t){if(Sj(e)||Sj(t))return e===t;if(y0(e)&&y0(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const s=t[a];if(y0(i)&&y0(s)||va(i)&&va(s)||Array.isArray(i)&&Array.isArray(s)?!ad(i,s):i!==s)return!1}}return!0}var W$=e=>e.type==="select-multiple",EDe=e=>AC(e)||Cg(e),D4=e=>My(e)&&e.isConnected,V$=e=>{for(const t in e)if(Yl(e[t]))return!0;return!1};function Ry(e,t={}){const r=Array.isArray(e);if(va(e)||r)for(const n in e)Array.isArray(e[n])||va(e[n])&&!V$(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ry(e[n],t[n])):cs(e[n])||(t[n]=!0);return t}function q$(e,t,r){const n=Array.isArray(e);if(va(e)||n)for(const a in e)Array.isArray(e[a])||va(e[a])&&!V$(e[a])?Rn(t)||Sj(r[a])?r[a]=Array.isArray(e[a])?Ry(e[a],[]):{...Ry(e[a])}:q$(e[a],cs(t)?{}:t[a],r[a]):r[a]=!ad(e[a],t[a]);return r}var ex=(e,t)=>q$(e,t,Ry(t)),G$=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Rn(e)?e:t?e===""?NaN:e&&+e:r&&tc(e)?new Date(e):n?n(e):e;function I4(e){const t=e.ref;return SC(t)?t.files:AC(t)?H$(e.refs).value:W$(t)?[...t.selectedOptions].map(({value:r})=>r):Cg(t)?U$(e.refs).value:G$(Rn(t.value)?e.ref.value:t.value,e)}var kDe=(e,t,r,n)=>{const a={};for(const i of e){const s=wt(t,i);s&&hn(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},tx=e=>Rn(e)?e:Fy(e)?e.source:va(e)?Fy(e.value)?e.value.source:e.value:e;const bD="AsyncFunction";var TDe=e=>!!e&&!!e.validate&&!!(Yl(e.validate)&&e.validate.constructor.name===bD||va(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===bD)),ODe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function yD(e,t,r){const n=wt(e,r);if(n||jC(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=wt(t,i),l=wt(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var PDe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,DDe=(e,t)=>!Eg(wt(e,t)).length&&Aa(e,t);const IDe={mode:Ro.onSubmit,reValidateMode:Ro.onChange,shouldFocusError:!0};function MDe(e={}){let t={...IDe,...e},r={submitCount:0,isDirty:!1,isLoading:Yl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=va(t.defaultValues)||va(t.values)?wi(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:wi(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:P4(),array:P4(),state:P4()},h=Bx(t.mode),p=Bx(t.reValidateMode),m=t.criteriaMode===Ro.all,x=se=>ce=>{clearTimeout(u),u=setTimeout(se,ce)},g=async se=>{if(!t.disabled&&(d.isValid||se)){const ce=t.resolver?is((await A()).errors):await F(n,!0);ce!==r.isValid&&f.state.next({isValid:ce})}},v=(se,ce)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((se||Array.from(l.mount)).forEach(ye=>{ye&&(ce?hn(r.validatingFields,ye,ce):Aa(r.validatingFields,ye))}),f.state.next({validatingFields:r.validatingFields,isValidating:!is(r.validatingFields)}))},b=(se,ce=[],ye,Pe,Te=!0,Ne=!0)=>{if(Pe&&ye&&!t.disabled){if(s.action=!0,Ne&&Array.isArray(wt(n,se))){const We=ye(wt(n,se),Pe.argA,Pe.argB);Te&&hn(n,se,We)}if(Ne&&Array.isArray(wt(r.errors,se))){const We=ye(wt(r.errors,se),Pe.argA,Pe.argB);Te&&hn(r.errors,se,We),DDe(r.errors,se)}if(d.touchedFields&&Ne&&Array.isArray(wt(r.touchedFields,se))){const We=ye(wt(r.touchedFields,se),Pe.argA,Pe.argB);Te&&hn(r.touchedFields,se,We)}d.dirtyFields&&(r.dirtyFields=ex(a,i)),f.state.next({name:se,isDirty:E(se,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else hn(i,se,ce)},y=(se,ce)=>{hn(r.errors,se,ce),f.state.next({errors:r.errors})},_=se=>{r.errors=se,f.state.next({errors:r.errors,isValid:!1})},N=(se,ce,ye,Pe)=>{const Te=wt(n,se);if(Te){const Ne=wt(i,se,Rn(ye)?wt(a,se):ye);Rn(Ne)||Pe&&Pe.defaultChecked||ce?hn(i,se,ce?Ne:I4(Te._f)):G(se,Ne),s.mount&&g()}},S=(se,ce,ye,Pe,Te)=>{let Ne=!1,We=!1;const tt={name:se};if(!t.disabled){const ht=!!(wt(n,se)&&wt(n,se)._f&&wt(n,se)._f.disabled);if(!ye||Pe){d.isDirty&&(We=r.isDirty,r.isDirty=tt.isDirty=E(),Ne=We!==tt.isDirty);const Nt=ht||ad(wt(a,se),ce);We=!!(!ht&&wt(r.dirtyFields,se)),Nt||ht?Aa(r.dirtyFields,se):hn(r.dirtyFields,se,!0),tt.dirtyFields=r.dirtyFields,Ne=Ne||d.dirtyFields&&We!==!Nt}if(ye){const Nt=wt(r.touchedFields,se);Nt||(hn(r.touchedFields,se,ye),tt.touchedFields=r.touchedFields,Ne=Ne||d.touchedFields&&Nt!==ye)}Ne&&Te&&f.state.next(tt)}return Ne?tt:{}},j=(se,ce,ye,Pe)=>{const Te=wt(r.errors,se),Ne=d.isValid&&Ul(ce)&&r.isValid!==ce;if(t.delayError&&ye?(c=x(()=>y(se,ye)),c(t.delayError)):(clearTimeout(u),c=null,ye?hn(r.errors,se,ye):Aa(r.errors,se)),(ye?!ad(Te,ye):Te)||!is(Pe)||Ne){const We={...Pe,...Ne&&Ul(ce)?{isValid:ce}:{},errors:r.errors,name:se};r={...r,...We},f.state.next(We)}},A=async se=>{v(se,!0);const ce=await t.resolver(i,t.context,kDe(se||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(se),ce},T=async se=>{const{errors:ce}=await A(se);if(se)for(const ye of se){const Pe=wt(ce,ye);Pe?hn(r.errors,ye,Pe):Aa(r.errors,ye)}else r.errors=ce;return ce},F=async(se,ce,ye={valid:!0})=>{for(const Pe in se){const Te=se[Pe];if(Te){const{_f:Ne,...We}=Te;if(Ne){const tt=l.array.has(Ne.name),ht=Te._f&&TDe(Te._f);ht&&d.validatingFields&&v([Pe],!0);const Nt=await jj(Te,l.disabled,i,m,t.shouldUseNativeValidation&&!ce,tt);if(ht&&d.validatingFields&&v([Pe]),Nt[Ne.name]&&(ye.valid=!1,ce))break;!ce&&(wt(Nt,Ne.name)?tt?z$(r.errors,Nt,Ne.name):hn(r.errors,Ne.name,Nt[Ne.name]):Aa(r.errors,Ne.name))}!is(We)&&await F(We,ce,ye)}}return ye.valid},O=()=>{for(const se of l.unMount){const ce=wt(n,se);ce&&(ce._f.refs?ce._f.refs.every(ye=>!D4(ye)):!D4(ce._f.ref))&&X(se)}l.unMount=new Set},E=(se,ce)=>!t.disabled&&(se&&ce&&hn(i,se,ce),!ad(he(),a)),L=(se,ce,ye)=>_De(se,l,{...s.mount?i:Rn(ce)?a:tc(se)?{[se]:ce}:ce},ye,ce),B=se=>Eg(wt(s.mount?i:a,se,t.shouldUnregister?wt(a,se,[]):[])),G=(se,ce,ye={})=>{const Pe=wt(n,se);let Te=ce;if(Pe){const Ne=Pe._f;Ne&&(!Ne.disabled&&hn(i,se,G$(ce,Ne)),Te=My(Ne.ref)&&cs(ce)?"":ce,W$(Ne.ref)?[...Ne.ref.options].forEach(We=>We.selected=Te.includes(We.value)):Ne.refs?Cg(Ne.ref)?Ne.refs.length>1?Ne.refs.forEach(We=>(!We.defaultChecked||!We.disabled)&&(We.checked=Array.isArray(Te)?!!Te.find(tt=>tt===We.value):Te===We.value)):Ne.refs[0]&&(Ne.refs[0].checked=!!Te):Ne.refs.forEach(We=>We.checked=We.value===Te):SC(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Te,Ne.ref.type||f.values.next({name:se,values:{...i}})))}(ye.shouldDirty||ye.shouldTouch)&&S(se,Te,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&ae(se)},z=(se,ce,ye)=>{for(const Pe in ce){const Te=ce[Pe],Ne=`${se}.${Pe}`,We=wt(n,Ne);(l.array.has(se)||va(Te)||We&&!We._f)&&!y0(Te)?z(Ne,Te,ye):G(Ne,Te,ye)}},V=(se,ce,ye={})=>{const Pe=wt(n,se),Te=l.array.has(se),Ne=wi(ce);hn(i,se,Ne),Te?(f.array.next({name:se,values:{...i}}),(d.isDirty||d.dirtyFields)&&ye.shouldDirty&&f.state.next({name:se,dirtyFields:ex(a,i),isDirty:E(se,Ne)})):Pe&&!Pe._f&&!cs(Ne)?z(se,Ne,ye):G(se,Ne,ye),Nj(se,l)&&f.state.next({...r}),f.values.next({name:s.mount?se:void 0,values:{...i}})},Y=async se=>{s.mount=!0;const ce=se.target;let ye=ce.name,Pe=!0;const Te=wt(n,ye),Ne=()=>ce.type?I4(Te._f):pDe(se),We=tt=>{Pe=Number.isNaN(tt)||y0(tt)&&isNaN(tt.getTime())||ad(tt,wt(i,ye,tt))};if(Te){let tt,ht;const Nt=Ne(),Ot=se.type===hD.BLUR||se.type===hD.FOCUS_OUT,Et=!ODe(Te._f)&&!t.resolver&&!wt(r.errors,ye)&&!Te._f.deps||PDe(Ot,wt(r.touchedFields,ye),r.isSubmitted,p,h),ft=Nj(ye,l,Ot);hn(i,ye,Nt),Ot?(Te._f.onBlur&&Te._f.onBlur(se),c&&c(0)):Te._f.onChange&&Te._f.onChange(se);const it=S(ye,Nt,Ot,!1),Fr=!is(it)||ft;if(!Ot&&f.values.next({name:ye,type:se.type,values:{...i}}),Et)return d.isValid&&(t.mode==="onBlur"&&Ot?g():Ot||g()),Fr&&f.state.next({name:ye,...ft?{}:it});if(!Ot&&ft&&f.state.next({...r}),t.resolver){const{errors:Dt}=await A([ye]);if(We(Nt),Pe){const na=yD(r.errors,n,ye),_r=yD(Dt,n,na.name||ye);tt=_r.error,ye=_r.name,ht=is(Dt)}}else v([ye],!0),tt=(await jj(Te,l.disabled,i,m,t.shouldUseNativeValidation))[ye],v([ye]),We(Nt),Pe&&(tt?ht=!1:d.isValid&&(ht=await F(n,!0)));Pe&&(Te._f.deps&&ae(Te._f.deps),j(ye,ht,tt,it))}},U=(se,ce)=>{if(wt(r.errors,ce)&&se.focus)return se.focus(),1},ae=async(se,ce={})=>{let ye,Pe;const Te=ao(se);if(t.resolver){const Ne=await T(Rn(se)?se:Te);ye=is(Ne),Pe=se?!Te.some(We=>wt(Ne,We)):ye}else se?(Pe=(await Promise.all(Te.map(async Ne=>{const We=wt(n,Ne);return await F(We&&We._f?{[Ne]:We}:We)}))).every(Boolean),!(!Pe&&!r.isValid)&&g()):Pe=ye=await F(n);return f.state.next({...!tc(se)||d.isValid&&ye!==r.isValid?{}:{name:se},...t.resolver||!se?{isValid:ye}:{},errors:r.errors}),ce.shouldFocus&&!Pe&&$h(n,U,se?Te:l.mount),Pe},he=se=>{const ce={...s.mount?i:a};return Rn(se)?ce:tc(se)?wt(ce,se):se.map(ye=>wt(ce,ye))},k=(se,ce)=>({invalid:!!wt((ce||r).errors,se),isDirty:!!wt((ce||r).dirtyFields,se),error:wt((ce||r).errors,se),isValidating:!!wt(r.validatingFields,se),isTouched:!!wt((ce||r).touchedFields,se)}),P=se=>{se&&ao(se).forEach(ce=>Aa(r.errors,ce)),f.state.next({errors:se?r.errors:{}})},R=(se,ce,ye)=>{const Pe=(wt(n,se,{_f:{}})._f||{}).ref,Te=wt(r.errors,se)||{},{ref:Ne,message:We,type:tt,...ht}=Te;hn(r.errors,se,{...ht,...ce,ref:Pe}),f.state.next({name:se,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},H=(se,ce)=>Yl(se)?f.values.subscribe({next:ye=>se(L(void 0,ce),ye)}):L(se,ce,!0),X=(se,ce={})=>{for(const ye of se?ao(se):l.mount)l.mount.delete(ye),l.array.delete(ye),ce.keepValue||(Aa(n,ye),Aa(i,ye)),!ce.keepError&&Aa(r.errors,ye),!ce.keepDirty&&Aa(r.dirtyFields,ye),!ce.keepTouched&&Aa(r.touchedFields,ye),!ce.keepIsValidating&&Aa(r.validatingFields,ye),!t.shouldUnregister&&!ce.keepDefaultValue&&Aa(a,ye);f.values.next({values:{...i}}),f.state.next({...r,...ce.keepDirty?{isDirty:E()}:{}}),!ce.keepIsValid&&g()},oe=({disabled:se,name:ce,field:ye,fields:Pe})=>{(Ul(se)&&s.mount||se||l.disabled.has(ce))&&(se?l.disabled.add(ce):l.disabled.delete(ce),S(ce,I4(ye?ye._f:wt(Pe,ce)._f),!1,!1,!0))},fe=(se,ce={})=>{let ye=wt(n,se);const Pe=Ul(ce.disabled)||Ul(t.disabled);return hn(n,se,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:se}},name:se,mount:!0,...ce}}),l.mount.add(se),ye?oe({field:ye,disabled:Ul(ce.disabled)?ce.disabled:t.disabled,name:se}):N(se,!0,ce.value),{...Pe?{disabled:ce.disabled||t.disabled}:{},...t.progressive?{required:!!ce.required,min:tx(ce.min),max:tx(ce.max),minLength:tx(ce.minLength),maxLength:tx(ce.maxLength),pattern:tx(ce.pattern)}:{},name:se,onChange:Y,onBlur:Y,ref:Te=>{if(Te){fe(se,ce),ye=wt(n,se);const Ne=Rn(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,We=EDe(Ne),tt=ye._f.refs||[];if(We?tt.find(ht=>ht===Ne):Ne===ye._f.ref)return;hn(n,se,{_f:{...ye._f,...We?{refs:[...tt.filter(D4),Ne,...Array.isArray(wt(a,se))?[{}]:[]],ref:{type:Ne.type,name:se}}:{ref:Ne}}}),N(se,!1,void 0,Ne)}else ye=wt(n,se,{}),ye._f&&(ye._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(xDe(l.array,se)&&s.action)&&l.unMount.add(se)}}},re=()=>t.shouldFocusError&&$h(n,U,l.mount),ve=se=>{Ul(se)&&(f.state.next({disabled:se}),$h(n,(ce,ye)=>{const Pe=wt(n,ye);Pe&&(ce.disabled=Pe._f.disabled||se,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(Te=>{Te.disabled=Pe._f.disabled||se}))},0,!1))},Ce=(se,ce)=>async ye=>{let Pe;ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let Te=wi(i);if(l.disabled.size)for(const Ne of l.disabled)hn(Te,Ne,void 0);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Ne,values:We}=await A();r.errors=Ne,Te=We}else await F(n);if(Aa(r.errors,"root"),is(r.errors)){f.state.next({errors:{}});try{await se(Te,ye)}catch(Ne){Pe=Ne}}else ce&&await ce({...r.errors},ye),re(),setTimeout(re);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:is(r.errors)&&!Pe,submitCount:r.submitCount+1,errors:r.errors}),Pe)throw Pe},q=(se,ce={})=>{wt(n,se)&&(Rn(ce.defaultValue)?V(se,wi(wt(a,se))):(V(se,ce.defaultValue),hn(a,se,wi(ce.defaultValue))),ce.keepTouched||Aa(r.touchedFields,se),ce.keepDirty||(Aa(r.dirtyFields,se),r.isDirty=ce.defaultValue?E(se,wi(wt(a,se))):E()),ce.keepError||(Aa(r.errors,se),d.isValid&&g()),f.state.next({...r}))},Me=(se,ce={})=>{const ye=se?wi(se):a,Pe=wi(ye),Te=is(se),Ne=Te?a:Pe;if(ce.keepDefaultValues||(a=ye),!ce.keepValues){if(ce.keepDirtyValues){const We=new Set([...l.mount,...Object.keys(ex(a,i))]);for(const tt of Array.from(We))wt(r.dirtyFields,tt)?hn(Ne,tt,wt(i,tt)):V(tt,wt(Ne,tt))}else{if(NC&&Rn(se))for(const We of l.mount){const tt=wt(n,We);if(tt&&tt._f){const ht=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(My(ht)){const Nt=ht.closest("form");if(Nt){Nt.reset();break}}}}n={}}i=t.shouldUnregister?ce.keepDefaultValues?wi(a):{}:wi(Ne),f.array.next({values:{...Ne}}),f.values.next({values:{...Ne}})}l={mount:ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,s.watch=!!t.shouldUnregister,f.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:Te?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!ad(se,a)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Te?{}:ce.keepDirtyValues?ce.keepDefaultValues&&i?ex(a,i):r.dirtyFields:ce.keepDefaultValues&&se?ex(a,se):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Le=(se,ce)=>Me(Yl(se)?se(i):se,ce);return{control:{register:fe,unregister:X,getFieldState:k,handleSubmit:Ce,setError:R,_executeSchema:A,_getWatch:L,_getDirty:E,_updateValid:g,_removeUnmounted:O,_updateFieldArray:b,_updateDisabledField:oe,_getFieldArray:B,_reset:Me,_resetDefaultValues:()=>Yl(t.defaultValues)&&t.defaultValues().then(se=>{Le(se,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:se=>{r={...r,...se}},_disableForm:ve,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(se){s=se},get _defaultValues(){return a},get _names(){return l},set _names(se){l=se},get _formState(){return r},set _formState(se){r=se},get _options(){return t},set _options(se){t={...t,...se}}},trigger:ae,register:fe,handleSubmit:Ce,watch:H,setValue:V,getValues:he,reset:Le,resetField:q,clearErrors:P,unregister:X,setError:R,setFocus:(se,ce={})=>{const ye=wt(n,se),Pe=ye&&ye._f;if(Pe){const Te=Pe.refs?Pe.refs[0]:Pe.ref;Te.focus&&(Te.focus(),ce.shouldSelect&&Yl(Te.select)&&Te.select())}},getFieldState:k}}function em(e={}){const t=K.useRef(void 0),r=K.useRef(void 0),[n,a]=K.useState({isDirty:!1,isValidating:!1,isLoading:Yl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Yl(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...MDe(e),formState:n});const i=t.current.control;return i._options=e,$$({subject:i._subjects.state,next:s=>{wDe(s,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),K.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),K.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),K.useEffect(()=>{e.values&&!ad(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(s=>({...s}))):i._resetDefaultValues()},[e.values,i]),K.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),K.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),K.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=yDe(n,i),t.current}function FDe({isOpen:e,onClose:t}){const{register:r,handleSubmit:n,formState:{errors:a}}=em(),i=s=>{console.log(s),t()};return o.jsx(Gi,{isOpen:e,onClose:t,title:"Nouvel Article",size:"xl",children:o.jsxs("form",{onSubmit:n(i),className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),o.jsx("input",{...r("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.name&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.name.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),o.jsx("input",{...r("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.sku&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.sku.message})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),o.jsx("textarea",{...r("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),o.jsxs("select",{...r("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[o.jsx("option",{value:"huitres",children:"Huîtres"}),o.jsx("option",{value:"materiels",children:"Matériels"}),o.jsx("option",{value:"emballages",children:"Emballages"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),o.jsxs("select",{...r("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[o.jsx("option",{value:"douzaines",children:"Douzaines"}),o.jsx("option",{value:"unites",children:"Unités"}),o.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),o.jsx("input",{type:"number",...r("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),o.jsx("input",{type:"number",...r("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),o.jsx("input",{type:"number",...r("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),o.jsx("input",{type:"number",step:"0.01",...r("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),o.jsx("input",{type:"number",step:"0.01",...r("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),o.jsx("input",{...r("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),o.jsxs("select",{...r("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[o.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),o.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),o.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const RDe=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],LDe=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],BDe=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function $De({isOpen:e,onClose:t,onApplyFilters:r}){const[n,a]=K.useState([]),[i,s]=K.useState([]),[l,c]=K.useState([]),[u,d]=K.useState({min:"",max:""}),f=()=>{r({categories:n,locations:i,status:l,priceRange:u}),t()},h=()=>{a([]),s([]),c([]),d({min:"",max:""})};return o.jsx(Gi,{isOpen:e,onClose:t,title:"Filtres avancés",size:"xl",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:RDe.map(p=>o.jsx("button",{onClick:()=>{a(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:LDe.map(p=>o.jsx("button",{onClick:()=>{s(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${i.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:BDe.map(p=>o.jsx("button",{onClick:()=>{c(m=>m.includes(p.value)?m.filter(x=>x!==p.value):[...m,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${l.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),o.jsx("input",{type:"number",value:u.min,onChange:p=>d({...u,min:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),o.jsx("input",{type:"number",value:u.max,onChange:p=>d({...u,max:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[o.jsx("button",{onClick:h,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:f,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}const CC="-",zDe=e=>{const t=HDe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(CC);return l[0]===""&&l.length!==1&&l.shift(),Y$(l,t)||UDe(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},Y$=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Y$(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(CC);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},wD=/^\[(.+)\]$/,UDe=e=>{if(wD.test(e)){const t=wD.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HDe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)Aj(r[a],n,a,t);return n},Aj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:_D(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(WDe(a)){Aj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{Aj(s,_D(t,i),r,n)})})},_D=(e,t)=>{let r=e;return t.split(CC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},WDe=e=>e.isThemeGetter,VDe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},Cj="!",Ej=":",qDe=Ej.length,GDe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let s=0,l=0,c=0,u;for(let m=0;m<a.length;m++){let x=a[m];if(s===0&&l===0){if(x===Ej){i.push(a.slice(c,m)),c=m+qDe;continue}if(x==="/"){u=m;continue}}x==="["?s++:x==="]"?s--:x==="("?l++:x===")"&&l--}const d=i.length===0?a:a.substring(c),f=YDe(d),h=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const a=t+Ej,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},YDe=e=>e.endsWith(Cj)?e.substring(0,e.length-1):e.startsWith(Cj)?e.substring(1):e,XDe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||t[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},KDe=e=>({cache:VDe(e.cacheSize),parseClassName:GDe(e),sortModifiers:XDe(e),...zDe(e)}),QDe=/\s+/,JDe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],l=e.trim().split(QDe);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:x}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let g=!!x,v=n(g?m.substring(0,x):m);if(!v){if(!g){c=d+(c.length>0?" "+c:c);continue}if(v=n(m),!v){c=d+(c.length>0?" "+c:c);continue}g=!1}const b=i(h).join(":"),y=p?b+Cj:b,_=y+v;if(s.includes(_))continue;s.push(_);const N=a(v,g);for(let S=0;S<N.length;++S){const j=N[S];s.push(y+j)}c=d+(c.length>0?" "+c:c)}return c};function ZDe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=X$(t))&&(n&&(n+=" "),n+=r);return n}const X$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=X$(e[n]))&&(r&&(r+=" "),r+=t);return r};function eIe(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=KDe(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=JDe(c,r);return a(c,d),d}return function(){return i(ZDe.apply(null,arguments))}}const ti=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},K$=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Q$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tIe=/^\d+\/\d+$/,rIe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nIe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aIe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iIe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sIe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rh=e=>tIe.test(e),xr=e=>!!e&&!Number.isNaN(Number(e)),Yd=e=>!!e&&Number.isInteger(Number(e)),ND=e=>e.endsWith("%")&&xr(e.slice(0,-1)),$u=e=>rIe.test(e),oIe=()=>!0,lIe=e=>nIe.test(e)&&!aIe.test(e),EC=()=>!1,cIe=e=>iIe.test(e),uIe=e=>sIe.test(e),dIe=e=>!At(e)&&!Ct(e),fIe=e=>tm(e,ez,EC),At=e=>K$.test(e),Xd=e=>tm(e,tz,lIe),M4=e=>tm(e,NIe,xr),hIe=e=>tm(e,J$,EC),pIe=e=>tm(e,Z$,uIe),mIe=e=>tm(e,EC,cIe),Ct=e=>Q$.test(e),f2=e=>rm(e,tz),xIe=e=>rm(e,jIe),gIe=e=>rm(e,J$),vIe=e=>rm(e,ez),bIe=e=>rm(e,Z$),yIe=e=>rm(e,SIe,!0),tm=(e,t,r)=>{const n=K$.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},rm=(e,t,r=!1)=>{const n=Q$.exec(e);return n?n[1]?t(n[1]):r:!1},J$=e=>e==="position",wIe=new Set(["image","url"]),Z$=e=>wIe.has(e),_Ie=new Set(["length","size","percentage"]),ez=e=>_Ie.has(e),tz=e=>e==="length",NIe=e=>e==="number",jIe=e=>e==="family-name",SIe=e=>e==="shadow",AIe=()=>{const e=ti("color"),t=ti("font"),r=ti("text"),n=ti("font-weight"),a=ti("tracking"),i=ti("leading"),s=ti("breakpoint"),l=ti("container"),c=ti("spacing"),u=ti("radius"),d=ti("shadow"),f=ti("inset-shadow"),h=ti("drop-shadow"),p=ti("blur"),m=ti("perspective"),x=ti("aspect"),g=ti("ease"),v=ti("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[Ct,At,c],j=()=>[rh,"full","auto",...S()],A=()=>[Yd,"none","subgrid",Ct,At],T=()=>["auto",{span:["full",Yd,Ct,At]},Ct,At],F=()=>[Yd,"auto",Ct,At],O=()=>["auto","min","max","fr",Ct,At],E=()=>["start","end","center","between","around","evenly","stretch","baseline"],L=()=>["start","end","center","stretch"],B=()=>["auto",...S()],G=()=>[rh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],z=()=>[e,Ct,At],V=()=>[ND,Xd],Y=()=>["","none","full",u,Ct,At],U=()=>["",xr,f2,Xd],ae=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["","none",p,Ct,At],P=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct,At],R=()=>["none",xr,Ct,At],H=()=>["none",xr,Ct,At],X=()=>[xr,Ct,At],oe=()=>[rh,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$u],breakpoint:[$u],color:[oIe],container:[$u],"drop-shadow":[$u],ease:["in","out","in-out"],font:[dIe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$u],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$u],shadow:[$u],spacing:["px",xr],text:[$u],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rh,At,Ct,x]}],container:["container"],columns:[{columns:[xr,At,Ct,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...y(),At,Ct]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Yd,"auto",Ct,At]}],basis:[{basis:[rh,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xr,rh,"auto","initial","none",At]}],grow:[{grow:["",xr,Ct,At]}],shrink:[{shrink:["",xr,Ct,At]}],order:[{order:[Yd,"first","last","none",Ct,At]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...L(),"baseline"]}],"align-self":[{self:["auto",...L(),"baseline"]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...G()]}],h:[{h:["screen",...G()]}],"min-h":[{"min-h":["screen","none",...G()]}],"max-h":[{"max-h":["screen",...G()]}],"font-size":[{text:["base",r,f2,Xd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ct,M4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ND,At]}],"font-family":[{font:[xIe,At,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ct,At]}],"line-clamp":[{"line-clamp":[xr,"none",Ct,M4]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",Ct,At]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ct,At]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[xr,"from-font","auto",Ct,Xd]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[xr,"auto",Ct,At]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct,At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct,At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...y(),gIe,hIe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",vIe,fIe]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yd,Ct,At],radial:["",Ct,At],conic:[Yd,Ct,At]},bIe,pIe]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xr,Ct,At]}],"outline-w":[{outline:["",xr,f2,Xd]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",d,yIe,mIe]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",Ct,At,f]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[xr,Xd]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":z()}],opacity:[{opacity:[xr,Ct,At]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none",Ct,At]}],blur:[{blur:k()}],brightness:[{brightness:[xr,Ct,At]}],contrast:[{contrast:[xr,Ct,At]}],"drop-shadow":[{"drop-shadow":["","none",h,Ct,At]}],grayscale:[{grayscale:["",xr,Ct,At]}],"hue-rotate":[{"hue-rotate":[xr,Ct,At]}],invert:[{invert:["",xr,Ct,At]}],saturate:[{saturate:[xr,Ct,At]}],sepia:[{sepia:["",xr,Ct,At]}],"backdrop-filter":[{"backdrop-filter":["","none",Ct,At]}],"backdrop-blur":[{"backdrop-blur":k()}],"backdrop-brightness":[{"backdrop-brightness":[xr,Ct,At]}],"backdrop-contrast":[{"backdrop-contrast":[xr,Ct,At]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xr,Ct,At]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xr,Ct,At]}],"backdrop-invert":[{"backdrop-invert":["",xr,Ct,At]}],"backdrop-opacity":[{"backdrop-opacity":[xr,Ct,At]}],"backdrop-saturate":[{"backdrop-saturate":[xr,Ct,At]}],"backdrop-sepia":[{"backdrop-sepia":["",xr,Ct,At]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ct,At]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xr,"initial",Ct,At]}],ease:[{ease:["linear","initial",g,Ct,At]}],delay:[{delay:[xr,Ct,At]}],animate:[{animate:["none",v,Ct,At]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Ct,At]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:R()}],"rotate-x":[{"rotate-x":R()}],"rotate-y":[{"rotate-y":R()}],"rotate-z":[{"rotate-z":R()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:X()}],"skew-x":[{"skew-x":X()}],"skew-y":[{"skew-y":X()}],transform:[{transform:[Ct,At,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct,At]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct,At]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[xr,f2,Xd,M4]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},CIe=eIe(AIe);function Ci(...e){return CIe(Pt(e))}function w0({children:e,className:t,...r}){return o.jsx("div",{className:Ci("border border-white/10 rounded-lg overflow-hidden",t),style:{background:"linear-gradient(135deg, rgba(0, 20, 40, 0.98) 0%, rgba(0, 80, 80, 0.95) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px, rgba(0, 180, 180, 0.1) 0px 0px 10px inset"},...r,children:e})}const tr=I.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:n,...r}));tr.displayName="Input";function nu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rz(...e){return t=>{let r=!1;const n=e.map(a=>{const i=jD(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():jD(e[a],null)}}}}function gu(...e){return I.useCallback(rz(...e),e)}function EIe(e,t){const r=I.createContext(t),n=i=>{const{children:s,...l}=i,c=I.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=I.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function nz(e,t=[]){let r=[];function n(i,s){const l=I.createContext(s),c=r.length;r=[...r,s];const u=f=>{var v;const{scope:h,children:p,...m}=f,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=I.useMemo(()=>m,Object.values(m));return o.jsx(x.Provider,{value:g,children:p})};u.displayName=i+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,m=I.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>I.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return I.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,kIe(a,...t)]}function kIe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var Ly=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},TIe=ZI.useId||(()=>{}),OIe=0;function F4(e){const[t,r]=I.useState(TIe());return Ly(()=>{e||r(n=>n??String(OIe++))},[e]),e||(t?`radix-${t}`:"")}function J0(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function PIe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=DIe({defaultProp:t,onChange:r}),i=e!==void 0,s=i?e:n,l=J0(r),c=I.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[s,c]}function DIe({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,a=I.useRef(n),i=J0(t);return I.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var kC=I.forwardRef((e,t)=>{const{children:r,...n}=e,a=I.Children.toArray(r),i=a.find(IIe);if(i){const s=i.props.children,l=a.map(c=>c===i?I.Children.count(s)>1?I.Children.only(null):I.isValidElement(s)?s.props.children:null:c);return o.jsx(kj,{...n,ref:t,children:I.isValidElement(s)?I.cloneElement(s,void 0,l):null})}return o.jsx(kj,{...n,ref:t,children:r})});kC.displayName="Slot";var kj=I.forwardRef((e,t)=>{const{children:r,...n}=e;if(I.isValidElement(r)){const a=FIe(r),i=MIe(n,r.props);return r.type!==I.Fragment&&(i.ref=t?rz(t,a):a),I.cloneElement(r,i)}return I.Children.count(r)>1?I.Children.only(null):null});kj.displayName="SlotClone";var az=({children:e})=>o.jsx(o.Fragment,{children:e});function IIe(e){return I.isValidElement(e)&&e.type===az}function MIe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function FIe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var RIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vu=RIe.reduce((e,t)=>{const r=I.forwardRef((n,a)=>{const{asChild:i,...s}=n,l=i?kC:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...s,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function LIe(e,t){e&&nS.flushSync(()=>e.dispatchEvent(t))}function BIe(e,t=globalThis==null?void 0:globalThis.document){const r=J0(e);I.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $Ie="DismissableLayer",Tj="dismissableLayer.update",zIe="dismissableLayer.pointerDownOutside",UIe="dismissableLayer.focusOutside",SD,iz=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sz=I.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=e,u=I.useContext(iz),[d,f]=I.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=I.useState({}),m=gu(t,j=>f(j)),x=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(g),b=d?x.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=v,N=VIe(j=>{const A=j.target,T=[...u.branches].some(F=>F.contains(A));!_||T||(a==null||a(j),s==null||s(j),j.defaultPrevented||l==null||l())},h),S=qIe(j=>{const A=j.target;[...u.branches].some(F=>F.contains(A))||(i==null||i(j),s==null||s(j),j.defaultPrevented||l==null||l())},h);return BIe(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),I.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SD=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),AD(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=SD)}},[d,h,r,u]),I.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),AD())},[d,u]),I.useEffect(()=>{const j=()=>p({});return document.addEventListener(Tj,j),()=>document.removeEventListener(Tj,j)},[]),o.jsx(vu.div,{...c,ref:m,style:{pointerEvents:y?_?"auto":"none":void 0,...e.style},onFocusCapture:nu(e.onFocusCapture,S.onFocusCapture),onBlurCapture:nu(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:nu(e.onPointerDownCapture,N.onPointerDownCapture)})});sz.displayName=$Ie;var HIe="DismissableLayerBranch",WIe=I.forwardRef((e,t)=>{const r=I.useContext(iz),n=I.useRef(null),a=gu(t,n);return I.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(vu.div,{...e,ref:a})});WIe.displayName=HIe;function VIe(e,t=globalThis==null?void 0:globalThis.document){const r=J0(e),n=I.useRef(!1),a=I.useRef(()=>{});return I.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){oz(zIe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function qIe(e,t=globalThis==null?void 0:globalThis.document){const r=J0(e),n=I.useRef(!1);return I.useEffect(()=>{const a=i=>{i.target&&!n.current&&oz(UIe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function AD(){const e=new CustomEvent(Tj);document.dispatchEvent(e)}function oz(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?LIe(a,i):a.dispatchEvent(i)}var R4="focusScope.autoFocusOnMount",L4="focusScope.autoFocusOnUnmount",CD={bubbles:!1,cancelable:!0},GIe="FocusScope",lz=I.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[l,c]=I.useState(null),u=J0(a),d=J0(i),f=I.useRef(null),h=gu(t,x=>c(x)),p=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let x=function(y){if(p.paused||!l)return;const _=y.target;l.contains(_)?f.current=_:Gu(f.current,{select:!0})},g=function(y){if(p.paused||!l)return;const _=y.relatedTarget;_!==null&&(l.contains(_)||Gu(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&Gu(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),b.disconnect()}}},[n,l,p.paused]),I.useEffect(()=>{if(l){kD.add(p);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(R4,CD);l.addEventListener(R4,u),l.dispatchEvent(v),v.defaultPrevented||(YIe(ZIe(cz(l)),{select:!0}),document.activeElement===x&&Gu(l))}return()=>{l.removeEventListener(R4,u),setTimeout(()=>{const v=new CustomEvent(L4,CD);l.addEventListener(L4,d),l.dispatchEvent(v),v.defaultPrevented||Gu(x??document.body,{select:!0}),l.removeEventListener(L4,d),kD.remove(p)},0)}}},[l,u,d,p]);const m=I.useCallback(x=>{if(!r&&!n||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(g&&v){const b=x.currentTarget,[y,_]=XIe(b);y&&_?!x.shiftKey&&v===_?(x.preventDefault(),r&&Gu(y,{select:!0})):x.shiftKey&&v===y&&(x.preventDefault(),r&&Gu(_,{select:!0})):v===b&&x.preventDefault()}},[r,n,p.paused]);return o.jsx(vu.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});lz.displayName=GIe;function YIe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gu(n,{select:t}),document.activeElement!==r)return}function XIe(e){const t=cz(e),r=ED(t,e),n=ED(t.reverse(),e);return[r,n]}function cz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ED(e,t){for(const r of e)if(!KIe(r,{upTo:t}))return r}function KIe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QIe(e){return e instanceof HTMLInputElement&&"select"in e}function Gu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&QIe(e)&&t&&e.select()}}var kD=JIe();function JIe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=TD(e,t),e.unshift(t)},remove(t){var r;e=TD(e,t),(r=e[0])==null||r.resume()}}}function TD(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ZIe(e){return e.filter(t=>t.tagName!=="A")}var eMe="Portal",uz=I.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=I.useState(!1);Ly(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?eM.createPortal(o.jsx(vu.div,{...n,ref:t}),s):null});uz.displayName=eMe;function tMe(e,t){return I.useReducer((r,n)=>t[r][n]??r,e)}var x5=e=>{const{present:t,children:r}=e,n=rMe(t),a=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),i=gu(n.ref,nMe(a));return typeof r=="function"||n.isPresent?I.cloneElement(a,{ref:i}):null};x5.displayName="Presence";function rMe(e){const[t,r]=I.useState(),n=I.useRef({}),a=I.useRef(e),i=I.useRef("none"),s=e?"mounted":"unmounted",[l,c]=tMe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const u=h2(n.current);i.current=l==="mounted"?u:"none"},[l]),Ly(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=h2(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ly(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=h2(n.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=h2(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:I.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function h2(e){return(e==null?void 0:e.animationName)||"none"}function nMe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var B4=0;function aMe(){I.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??OD()),document.body.insertAdjacentElement("beforeend",e[1]??OD()),B4++,()=>{B4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),B4--}},[])}function OD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xl=function(){return Xl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Xl.apply(this,arguments)};function dz(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function iMe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var X2="right-scroll-bar-position",K2="width-before-scroll-bar",sMe="with-scroll-bars-hidden",oMe="--removed-body-scroll-bar-size";function $4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lMe(e,t){var r=I.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var cMe=typeof window<"u"?I.useLayoutEffect:I.useEffect,PD=new WeakMap;function uMe(e,t){var r=lMe(null,function(n){return e.forEach(function(a){return $4(a,n)})});return cMe(function(){var n=PD.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(l){i.has(l)||$4(l,null)}),i.forEach(function(l){a.has(l)||$4(l,s)})}PD.set(r,e)},[e]),r}function dMe(e){return e}function fMe(e,t){t===void 0&&(t=dMe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function hMe(e){e===void 0&&(e={});var t=fMe(null);return t.options=Xl({async:!0,ssr:!1},e),t}var fz=function(e){var t=e.sideCar,r=dz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,Xl({},r))};fz.isSideCarExport=!0;function pMe(e,t){return e.useMedium(t),fz}var hz=hMe(),z4=function(){},g5=I.forwardRef(function(e,t){var r=I.useRef(null),n=I.useState({onScrollCapture:z4,onWheelCapture:z4,onTouchMoveCapture:z4}),a=n[0],i=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,m=e.inert,x=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,b=e.gapMode,y=dz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=uMe([r,t]),S=Xl(Xl({},y),a);return I.createElement(I.Fragment,null,d&&I.createElement(_,{sideCar:hz,removeScrollBar:u,shards:f,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:b}),s?I.cloneElement(I.Children.only(l),Xl(Xl({},S),{ref:N})):I.createElement(v,Xl({},S,{className:c,ref:N}),l))});g5.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g5.classNames={fullWidth:K2,zeroRight:X2};var mMe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xMe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mMe();return t&&e.setAttribute("nonce",t),e}function gMe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vMe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bMe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xMe())&&(gMe(t,r),vMe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yMe=function(){var e=bMe();return function(t,r){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pz=function(){var e=yMe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},wMe={left:0,top:0,right:0,gap:0},U4=function(e){return parseInt(e||"",10)||0},_Me=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[U4(r),U4(n),U4(a)]},NMe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wMe;var t=_Me(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},jMe=pz(),zh="data-scroll-locked",SMe=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(sMe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(zh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(X2,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(K2,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(X2," .").concat(X2,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(K2," .").concat(K2,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zh,`] {
    `).concat(oMe,": ").concat(l,`px;
  }
`)},DD=function(){var e=parseInt(document.body.getAttribute(zh)||"0",10);return isFinite(e)?e:0},AMe=function(){I.useEffect(function(){return document.body.setAttribute(zh,(DD()+1).toString()),function(){var e=DD()-1;e<=0?document.body.removeAttribute(zh):document.body.setAttribute(zh,e.toString())}},[])},CMe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;AMe();var i=I.useMemo(function(){return NMe(a)},[a]);return I.createElement(jMe,{styles:SMe(i,!t,a,r?"":"!important")})},Oj=!1;if(typeof window<"u")try{var p2=Object.defineProperty({},"passive",{get:function(){return Oj=!0,!0}});window.addEventListener("test",p2,p2),window.removeEventListener("test",p2,p2)}catch{Oj=!1}var nh=Oj?{passive:!1}:!1,EMe=function(e){return e.tagName==="TEXTAREA"},mz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!EMe(e)&&r[t]==="visible")},kMe=function(e){return mz(e,"overflowY")},TMe=function(e){return mz(e,"overflowX")},ID=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=xz(e,n);if(a){var i=gz(e,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OMe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},PMe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},xz=function(e,t){return e==="v"?kMe(t):TMe(t)},gz=function(e,t){return e==="v"?OMe(t):PMe(t)},DMe=function(e,t){return e==="h"&&t==="rtl"?-1:1},IMe=function(e,t,r,n,a){var i=DMe(e,window.getComputedStyle(t).direction),s=i*n,l=r.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{var p=gz(e,l),m=p[0],x=p[1],g=p[2],v=x-g-i*m;(m||v)&&xz(e,l)&&(f+=v,h+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},m2=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MD=function(e){return[e.deltaX,e.deltaY]},FD=function(e){return e&&"current"in e?e.current:e},MMe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FMe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RMe=0,ah=[];function LMe(e){var t=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),a=I.useState(RMe++)[0],i=I.useState(pz)[0],s=I.useRef(e);I.useEffect(function(){s.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=iMe([e.lockRef.current],(e.shards||[]).map(FD),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=I.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var v=m2(x),b=r.current,y="deltaX"in x?x.deltaX:b[0]-v[0],_="deltaY"in x?x.deltaY:b[1]-v[1],N,S=x.target,j=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in x&&j==="h"&&S.type==="range")return!1;var A=ID(j,S);if(!A)return!0;if(A?N=j:(N=j==="v"?"h":"v",A=ID(j,S)),!A)return!1;if(!n.current&&"changedTouches"in x&&(y||_)&&(n.current=N),!N)return!0;var T=n.current||N;return IMe(T,g,x,T==="h"?y:_,!0)},[]),c=I.useCallback(function(x){var g=x;if(!(!ah.length||ah[ah.length-1]!==i)){var v="deltaY"in g?MD(g):m2(g),b=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&MMe(N.delta,v)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var y=(s.current.shards||[]).map(FD).filter(Boolean).filter(function(N){return N.contains(g.target)}),_=y.length>0?l(g,y[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=I.useCallback(function(x,g,v,b){var y={name:x,delta:g,target:v,should:b,shadowParent:BMe(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(_){return _!==y})},1)},[]),d=I.useCallback(function(x){r.current=m2(x),n.current=void 0},[]),f=I.useCallback(function(x){u(x.type,MD(x),x.target,l(x,e.lockRef.current))},[]),h=I.useCallback(function(x){u(x.type,m2(x),x.target,l(x,e.lockRef.current))},[]);I.useEffect(function(){return ah.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,nh),document.addEventListener("touchmove",c,nh),document.addEventListener("touchstart",d,nh),function(){ah=ah.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,nh),document.removeEventListener("touchmove",c,nh),document.removeEventListener("touchstart",d,nh)}},[]);var p=e.removeScrollBar,m=e.inert;return I.createElement(I.Fragment,null,m?I.createElement(i,{styles:FMe(a)}):null,p?I.createElement(CMe,{gapMode:e.gapMode}):null)}function BMe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $Me=pMe(hz,LMe);var vz=I.forwardRef(function(e,t){return I.createElement(g5,Xl({},e,{ref:t,sideCar:$Me}))});vz.classNames=g5.classNames;var zMe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ih=new WeakMap,x2=new WeakMap,g2={},H4=0,bz=function(e){return e&&(e.host||bz(e.parentNode))},UMe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=bz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HMe=function(e,t,r,n){var a=UMe(t,Array.isArray(e)?e:[e]);g2[r]||(g2[r]=new WeakMap);var i=g2[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",x=(ih.get(h)||0)+1,g=(i.get(h)||0)+1;ih.set(h,x),i.set(h,g),s.push(h),x===1&&m&&x2.set(h,!0),g===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),H4++,function(){s.forEach(function(f){var h=ih.get(f)-1,p=i.get(f)-1;ih.set(f,h),i.set(f,p),h||(x2.has(f)||f.removeAttribute(n),x2.delete(f)),p||f.removeAttribute(r)}),H4--,H4||(ih=new WeakMap,ih=new WeakMap,x2=new WeakMap,g2={})}},WMe=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=zMe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),HMe(n,a,r,"aria-hidden")):function(){return null}},TC="Dialog",[yz,wz]=nz(TC),[VMe,El]=yz(TC),_z=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=I.useRef(null),c=I.useRef(null),[u=!1,d]=PIe({prop:n,defaultProp:a,onChange:i});return o.jsx(VMe,{scope:t,triggerRef:l,contentRef:c,contentId:F4(),titleId:F4(),descriptionId:F4(),open:u,onOpenChange:d,onOpenToggle:I.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};_z.displayName=TC;var Nz="DialogTrigger",jz=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(Nz,r),i=gu(t,a.triggerRef);return o.jsx(vu.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":DC(a.open),...n,ref:i,onClick:nu(e.onClick,a.onOpenToggle)})});jz.displayName=Nz;var OC="DialogPortal",[qMe,Sz]=yz(OC,{forceMount:void 0}),Az=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=El(OC,t);return o.jsx(qMe,{scope:t,forceMount:r,children:I.Children.map(n,s=>o.jsx(x5,{present:r||i.open,children:o.jsx(uz,{asChild:!0,container:a,children:s})}))})};Az.displayName=OC;var By="DialogOverlay",Cz=I.forwardRef((e,t)=>{const r=Sz(By,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=El(By,e.__scopeDialog);return i.modal?o.jsx(x5,{present:n||i.open,children:o.jsx(GMe,{...a,ref:t})}):null});Cz.displayName=By;var GMe=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(By,r);return o.jsx(vz,{as:kC,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(vu.div,{"data-state":DC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Z0="DialogContent",Ez=I.forwardRef((e,t)=>{const r=Sz(Z0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=El(Z0,e.__scopeDialog);return o.jsx(x5,{present:n||i.open,children:i.modal?o.jsx(YMe,{...a,ref:t}):o.jsx(XMe,{...a,ref:t})})});Ez.displayName=Z0;var YMe=I.forwardRef((e,t)=>{const r=El(Z0,e.__scopeDialog),n=I.useRef(null),a=gu(t,r.contentRef,n);return I.useEffect(()=>{const i=n.current;if(i)return WMe(i)},[]),o.jsx(kz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nu(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:nu(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:nu(e.onFocusOutside,i=>i.preventDefault())})}),XMe=I.forwardRef((e,t)=>{const r=El(Z0,e.__scopeDialog),n=I.useRef(!1),a=I.useRef(!1);return o.jsx(kz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kz=I.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,l=El(Z0,r),c=I.useRef(null),u=gu(t,c);return aMe(),o.jsxs(o.Fragment,{children:[o.jsx(lz,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(sz,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DC(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(QMe,{titleId:l.titleId}),o.jsx(ZMe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),PC="DialogTitle",Tz=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(PC,r);return o.jsx(vu.h2,{id:a.titleId,...n,ref:t})});Tz.displayName=PC;var Oz="DialogDescription",Pz=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(Oz,r);return o.jsx(vu.p,{id:a.descriptionId,...n,ref:t})});Pz.displayName=Oz;var Dz="DialogClose",Iz=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=El(Dz,r);return o.jsx(vu.button,{type:"button",...n,ref:t,onClick:nu(e.onClick,()=>a.onOpenChange(!1))})});Iz.displayName=Dz;function DC(e){return e?"open":"closed"}var Mz="DialogTitleWarning",[KMe,Fz]=EIe(Mz,{contentName:Z0,titleName:PC,docsSlug:"dialog"}),QMe=({titleId:e})=>{const t=Fz(Mz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return I.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},JMe="DialogDescriptionWarning",ZMe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fz(JMe).contentName}}.`;return I.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},IC=_z,e7e=jz,MC=Az,kg=Cz,Tg=Ez,Og=Tz,Pg=Pz,v5=Iz;const Rz=IC,t7e=MC,Lz=I.forwardRef(({className:e,...t},r)=>o.jsx(kg,{ref:r,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${e||""}`,...t}));Lz.displayName=kg.displayName;const FC=I.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(t7e,{children:[o.jsx(Lz,{}),o.jsxs(Tg,{ref:n,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${e||""}`,...r,children:[t,o.jsxs(v5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Gt,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FC.displayName=Tg.displayName;const RC=({className:e,...t})=>o.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${e||""}`,...t});RC.displayName="DialogHeader";const Bz=({className:e,...t})=>o.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${e||""}`,...t});Bz.displayName="DialogFooter";const LC=I.forwardRef(({className:e,...t},r)=>o.jsx(Og,{ref:r,className:`text-lg font-semibold leading-none tracking-tight ${e||""}`,...t}));LC.displayName=Og.displayName;const $z=I.forwardRef(({className:e,...t},r)=>o.jsx(Pg,{ref:r,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${e||""}`,...t}));$z.displayName=Pg.displayName;const RD=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],r7e=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function n7e(){const[e,t]=I.useState(null),[r,n]=I.useState(0),[a,i]=I.useState(null),[s,l]=I.useState(null),[c,u]=I.useState(!1),[d,f]=I.useState(0),[h,p]=I.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),m=_=>{const N=parseInt(_,10);!isNaN(N)&&N>=0&&n(N)},x=()=>e&&r?(e.price*r).toFixed(2):"0.00",g=_=>{switch(_){case"moules":return o.jsx(Hn,{className:"w-4 h-4"});case"palourdes":return o.jsx(tM,{className:"w-4 h-4"});default:return o.jsx(xa,{className:"w-4 h-4"})}},v=()=>{console.log("Commande confirmée:",{product:e==null?void 0:e.name,quantity:r,total:x()}),t(null),n(0)},b=_=>{var S;const N=(S=_.target.files)==null?void 0:S[0];N&&p(j=>({...j,invoice:N}))},y=_=>{_.preventDefault(),console.log("Nouveau achat:",{...h,rating:d}),u(!1),p({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),f(0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),o.jsxs(mn,{onClick:()=>u(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[o.jsx(gr,{className:"w-4 h-4"}),"Nouvel achat"]})]}),o.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:r7e.map(_=>o.jsxs(w0,{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),o.jsx("div",{className:"relative p-4",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ux,{className:"w-5 h-5 text-brand-burgundy"}),o.jsx("h3",{className:"text-base font-medium text-white",children:_.name})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm text-white/60",children:_.address}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[o.jsx(Ds,{className:"w-4 h-4"}),_.contact]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",_.reliability,"%"]}),o.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",_.lastDelivery]})]})]})})})]},_.id))}),s==="CDB"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),o.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),o.jsxs(mn,{variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(gr,{className:"w-4 h-4"}),"Nouveau produit"]})]}),o.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:RD.map(_=>o.jsxs(w0,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(e==null?void 0:e.id)===_.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>t(_),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),o.jsxs("div",{className:"relative p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-base font-medium text-white",children:_.name}),o.jsx("p",{className:"text-sm text-white/60",children:_.description})]}),o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[g(_.type),o.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:_.type})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wh,{className:"w-4 h-4 text-white/40"}),o.jsx("span",{className:"text-sm text-white",children:_.origin})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F2,{className:"w-4 h-4 text-white/40"}),o.jsxs("span",{className:"text-sm text-white",children:[_.price,"€/",_.unit]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Q1,{className:"w-4 h-4 text-white/40"}),o.jsxs("span",{className:"text-sm text-white",children:["Min. ",_.minOrder,_.unit]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bW,{className:"w-4 h-4 text-white/40"}),o.jsx("span",{className:"text-sm text-white",children:_.calibre})]})]}),_.certification&&o.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:_.certification.map((N,S)=>o.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:N},S))})]})]},_.id))})]}),e&&o.jsxs(w0,{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),o.jsx("div",{className:"relative p-4",children:o.jsx("div",{className:"flex items-start gap-4",children:o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",e.name]}),o.jsx(mn,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>i(e.id),children:o.jsx(Wx,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",e.unit,")"]}),o.jsx(tr,{type:"number",value:r,onChange:_=>m(_.target.value),min:0,className:"bg-white/5 border-white/10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),o.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:o.jsxs("span",{className:"text-white font-medium",children:[x(),"€"]})})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[o.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",e.minOrder,e.unit]}),o.jsx(mn,{variant:"default",size:"sm",disabled:r<e.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:v,children:"Confirmer la commande"})]})]})})})]}),a&&o.jsx(Rz,{open:!!a,children:o.jsxs(FC,{children:[o.jsx(RC,{children:o.jsx(LC,{children:"Détails du produit"})}),(()=>{var N;const _=RD.find(S=>S.id===a);return _?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:g(_.type)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-white",children:_.name}),o.jsx("p",{className:"text-sm text-white/60",children:_.description})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[o.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),o.jsx("span",{className:"text-sm text-white",children:_.calibre})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),o.jsx("span",{className:"text-sm text-white",children:_.conservation})]})]})]}),o.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[o.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(N=_.certification)==null?void 0:N.map((S,j)=>o.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:S},j))})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(mn,{variant:"outline",onClick:()=>i(null),children:"Fermer"})})]}):null})()]})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),o.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:o.jsx(Gt,{className:"text-white/60",size:20})})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),o.jsx(tr,{type:"text",value:h.supplier,onChange:_=>p(N=>({...N,supplier:_.target.value})),className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),o.jsx(tr,{type:"text",value:h.product,onChange:_=>p(N=>({...N,product:_.target.value})),className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),o.jsx(tr,{type:"date",value:h.expiryDate,onChange:_=>p(N=>({...N,expiryDate:_.target.value})),className:"w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),o.jsxs("select",{value:h.storageLocation,onChange:_=>p(N=>({...N,storageLocation:_.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[o.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),o.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),o.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),o.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),o.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),o.jsx("option",{value:"Remise",children:"Remise"}),o.jsx("option",{value:"Cave",children:"Cave"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),o.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(_=>o.jsx("button",{type:"button",onClick:()=>f(_),className:"focus:outline-none",children:o.jsx(Is,{size:24,className:_<=d?"text-yellow-400 fill-yellow-400":"text-white/20"})},_))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("label",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b,className:"hidden"}),o.jsx(Uo,{className:"w-5 h-5 text-white/60 mr-2"}),o.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),o.jsxs(mn,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[o.jsx(Op,{className:"w-4 h-4"}),"Photo"]}),o.jsxs(mn,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[o.jsx(yW,{className:"w-4 h-4"}),"Scanner"]})]}),h.invoice&&o.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",h.invoice.name]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx(mn,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Annuler"}),o.jsx(mn,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function a7e({isOpen:e,onClose:t}){const{register:r,handleSubmit:n,formState:{errors:a},setValue:i,watch:s}=em({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[l,c]=I.useState(null),u=s("rating"),d=p=>{console.log(p),t()},f=p=>{var x;const m=(x=p.target.files)==null?void 0:x[0];if(m){const g=new FileReader;g.onloadend=()=>{c(g.result)},g.readAsDataURL(m)}},h=p=>{i("rating",p)};return o.jsx(Gi,{isOpen:e,onClose:t,title:"Nouvel achat",size:"lg",children:o.jsxs("form",{onSubmit:n(d),className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),o.jsx("input",{...r("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.productName&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.productName.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),o.jsx("input",{...r("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.supplierName&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.supplierName.message})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),o.jsx("input",{type:"date",...r("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.expiryDate&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.expiryDate.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),o.jsx("input",{...r("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.storageLocation&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.storageLocation.message})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),o.jsx("input",{type:"number",min:"1",...r("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.quantity&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.quantity.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",...r("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),a.unitPrice&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.unitPrice.message})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),o.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(p=>o.jsx("button",{type:"button",onClick:()=>h(p),className:"focus:outline-none",children:o.jsx(Is,{size:24,className:`${p<=u?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},p))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),o.jsx("textarea",{...r("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),o.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:l?o.jsxs("div",{className:"w-full space-y-3",children:[o.jsx("img",{src:l,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>c(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):o.jsxs("div",{className:"w-full space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[o.jsx(Uo,{size:20,className:"mr-2"}),o.jsx("span",{children:"Choisir un fichier"}),o.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:f})]})}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[o.jsx(Op,{size:20,className:"mr-2"}),o.jsx("span",{children:"Prendre une photo"})]})})]})}),o.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[o.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}const i7e=()=>{var ye,Pe,Te;const[e,t]=I.useState("tables"),[r,n]=I.useState(""),[a,i]=I.useState(null),[s,l]=I.useState(null),[c,u]=I.useState(!1),[d,f]=I.useState(!1),[h,p]=I.useState(!1),[m,x]=I.useState(null),[g,v]=I.useState(!1),[b,y]=I.useState(!1),[_,N]=I.useState(null),[S,j]=I.useState(""),[A,T]=I.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[F,O]=I.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),E=K.useRef(null),L=Ne=>{const We=Math.floor(Math.random()*1e4);return`${Ne}-${We.toString().padStart(5,"0")}`},B=()=>{if(!m||!A.name||!A.quantity)return;let Ne="";m.includes("Frigo")?Ne="F":m.includes("Congélateur")?Ne="C":m==="Remise"?Ne="R":m==="Cave"&&(Ne="CA");const We={id:L(Ne),name:A.name,quantity:`${A.quantity}${A.unit==="unités"?" unités":A.unit==="bouteilles"?" bouteilles":A.unit}`,arrivalDate:A.arrivalDate,expiryDate:A.expiryDate===""?"N/A":A.expiryDate};O({...F,[m]:[...F[m],We]}),T({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),v(!1)},G=(Ne,We)=>{N({id:We.id,name:We.name,quantity:We.quantity});const tt=We.quantity.match(/^(\d+(?:\.\d+)?)/);tt&&tt[1]?j(tt[1]):j(""),y(!0)},z=Ne=>{const We=Ne.match(/[a-zA-Z]+|unités|bouteilles/);return We?We[0]:""},V=Ne=>{const We=Ne.match(/^(\d+(?:\.\d+)?)/);return We?parseFloat(We[1]):0},Y=()=>{if(!m||!_)return;const Ne=V(_.quantity),We=parseFloat(S),tt=z(_.quantity),ht=[...F[m]],Nt=ht.findIndex(Ot=>Ot.id===_.id);if(Nt!==-1){if(We>=Ne){const Ot=ht.filter(Et=>Et.id!==_.id);O({...F,[m]:Ot}),console.log(`Produit ${_.id} entièrement retiré de ${m}`)}else{const Ot={...ht[Nt],quantity:`${(Ne-We).toFixed(2).replace(/\.00$/,"")}${tt}`};ht[Nt]=Ot,O({...F,[m]:ht}),console.log(`${S}${tt} de ${_.name} retiré de ${m}`)}y(!1),N(null),j("")}},{handlers:U,isRefreshing:ae}=xY(async()=>{await new Promise(Ne=>setTimeout(Ne,1e3))}),he=()=>{switch(e){case"tables":return"Tables";case"trempe":return"Tables de trempe";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},[k,P]=I.useState(!1),{register:R,handleSubmit:H,formState:{errors:X}}=em({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[oe,fe]=I.useState(null),re=Ne=>{console.log(Ne),P(!1)},ve=Ne=>{var tt;const We=(tt=Ne.target.files)==null?void 0:tt[0];if(We){const ht=new FileReader;ht.onloadend=()=>{fe(ht.result)},ht.readAsDataURL(We)}},Ce=()=>{fe(null)};I.useState(!1);const q=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[Me,Le]=I.useState(!1),[_e,ne]=I.useState(null),[De,se]=I.useState(!1),ce=Ne=>{ne(Ne),se(!0)};return o.jsxs("div",{ref:E,className:"p-6 space-y-6",...U,children:[o.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[o.jsxs("div",{className:"relative mr-4",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),o.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:o.jsx(wW,{size:28,className:"text-white"})})]}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Inventaire"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:he()}),o.jsx("div",{className:"flex items-center space-x-3"})]}),o.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[o.jsx("button",{onClick:()=>t("tables"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="tables"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(xa,{size:16,className:"mr-2"}),"Tables"]})}),o.jsx("button",{onClick:()=>t("trempe"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="trempe"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(ji,{size:16,className:"mr-2"}),"Tables de trempe"]})}),o.jsx("button",{onClick:()=>t("pools"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="pools"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ai,{size:16,className:"mr-2"}),"Bassins"]})}),o.jsx("button",{onClick:()=>t("autres"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="autres"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Th,{size:16,className:"mr-2"}),"Autres emplacements"]})}),o.jsx("button",{onClick:()=>t("achats"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="achats"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(K1,{size:16,className:"mr-2"}),"Achats"]})}),o.jsx("button",{onClick:()=>t("charges"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="charges"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Hx,{size:16,className:"mr-2"}),"Charges"]})})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Da,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"24%"},"aria-label":"Search icon"}),o.jsx("input",{type:"text",value:r,onChange:Ne=>n(Ne.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),o.jsxs("button",{onClick:()=>f(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(qi,{size:20,className:"mr-2"}),"Filtres"]})]}),e==="tables"&&o.jsx(Sye,{onTableSelect:i,onTableHover:l,hoveredTable:s,selectedTable:a}),e==="trempe"&&o.jsx(Rye,{onTableSelect:Ne=>{},onTableHover:Ne=>{},onTableUpdate:Ne=>{}}),e==="pools"&&o.jsx(kye,{}),e==="autres"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),o.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(gr,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),o.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:o.jsx(ji,{size:18,className:"text-blue-400"})}),o.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),o.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Capacité"}),o.jsx("span",{className:"text-white",children:"500 kg"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Occupation"}),o.jsx("span",{className:"text-white",children:"65%"})]}),o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:o.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),o.jsx("div",{className:"hidden group-hover:block mt-3",children:o.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Frigo 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:o.jsx(ji,{size:18,className:"text-blue-400"})}),o.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),o.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Capacité"}),o.jsx("span",{className:"text-white",children:"300 kg"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Occupation"}),o.jsx("span",{className:"text-white",children:"30%"})]}),o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:o.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),o.jsx("div",{className:"hidden group-hover:block mt-3",children:o.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 1"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:o.jsx(R2,{size:18,className:"text-cyan-400"})}),o.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),o.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Capacité"}),o.jsx("span",{className:"text-white",children:"200 kg"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Occupation"}),o.jsx("span",{className:"text-white",children:"85%"})]}),o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:o.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),o.jsx("div",{className:"hidden group-hover:block mt-3",children:o.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Congélateur 2"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:o.jsx(R2,{size:18,className:"text-cyan-400"})}),o.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),o.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Capacité"}),o.jsx("span",{className:"text-white",children:"150 kg"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Occupation"}),o.jsx("span",{className:"text-white",children:"40%"})]}),o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:o.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),o.jsx("div",{className:"hidden group-hover:block mt-3",children:o.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Remise"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:o.jsx(xa,{size:18,className:"text-amber-400"})}),o.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),o.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Capacité"}),o.jsx("span",{className:"text-white",children:"1000 kg"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Occupation"}),o.jsx("span",{className:"text-white",children:"55%"})]}),o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:o.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),o.jsx("div",{className:"hidden group-hover:block mt-3",children:o.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>x("Cave"),style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0.02) 100%)",boxShadow:"rgba(0, 0, 0, 0.25) 0px 3px 6px 0px, rgba(0, 0, 0, 0.12) 0px 1px 3px inset, rgba(0, 0, 0, 0.3) 0px 2px 5px inset, rgba(255, 255, 255, 0.1) 0px 0px 10px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:o.jsx(Th,{size:18,className:"text-purple-400"})}),o.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),o.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Capacité"}),o.jsx("span",{className:"text-white",children:"800 kg"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Occupation"}),o.jsx("span",{className:"text-white",children:"25%"})]}),o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:o.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),o.jsx("div",{className:"hidden group-hover:block mt-3",children:o.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),e==="achats"&&o.jsx(n7e,{}),a&&o.jsx(hDe,{table:a,onClose:()=>i(null)}),c&&e!=="achats"&&o.jsx(FDe,{isOpen:c,onClose:()=>u(!1)}),c&&e==="achats"&&o.jsx(a7e,{isOpen:c,onClose:()=>u(!1)}),d&&o.jsx($De,{isOpen:d,onClose:()=>f(!1)}),m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${m.includes("Frigo")?"bg-blue-500/20":m.includes("Congélateur")?"bg-cyan-500/20":m==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:m.includes("Frigo")?o.jsx(ji,{size:20,className:"text-blue-400"}):m.includes("Congélateur")?o.jsx(R2,{size:20,className:"text-cyan-400"}):m==="Remise"?o.jsx(xa,{size:20,className:"text-amber-400"}):o.jsx(Th,{size:20,className:"text-purple-400"})}),o.jsx("h3",{className:"text-xl font-bold text-white",children:m})]}),o.jsx("button",{onClick:()=>x(null),className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-white/70",children:[(ye=F[m])==null?void 0:ye.length," produits stockés"]})}),o.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[o.jsx(gr,{size:16}),"Ajouter un produit"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[o.jsx("div",{children:"Produit"}),o.jsx("div",{children:"Quantité"}),o.jsx("div",{children:"Date d'arrivée"}),o.jsx("div",{children:"DLC"}),o.jsx("div",{className:"text-right",children:"Actions"})]}),((Pe=F[m])==null?void 0:Pe.length)>0?(Te=F[m])==null?void 0:Te.map(Ne=>o.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[o.jsx("div",{className:"font-medium",children:Ne.name}),o.jsx("div",{children:Ne.quantity}),o.jsx("div",{children:Ne.arrivalDate}),o.jsx("div",{children:Ne.expiryDate==="N/A"?o.jsx("span",{className:"text-white/50",children:"N/A"}):o.jsx("span",{className:`${new Date(Ne.expiryDate)<new Date?"text-red-400":new Date(Ne.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:Ne.expiryDate})}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:o.jsx("button",{onClick:We=>{We.stopPropagation(),G(m,Ne)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},Ne.id)):o.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),g&&m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",m]}),o.jsx("button",{onClick:()=>v(!1),className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("form",{onSubmit:Ne=>{Ne.preventDefault(),B()},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),o.jsx("input",{type:"text",value:A.name,onChange:Ne=>T({...A,name:Ne.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),o.jsx("input",{type:"text",value:A.quantity,onChange:Ne=>T({...A,quantity:Ne.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),o.jsxs("select",{value:A.unit,onChange:Ne=>T({...A,unit:Ne.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[o.jsx("option",{value:"kg",children:"kg"}),o.jsx("option",{value:"g",children:"g"}),o.jsx("option",{value:"tonnes",children:"tonnes"}),o.jsx("option",{value:"unités",children:"unités"}),o.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),o.jsx("input",{type:"date",value:A.arrivalDate,onChange:Ne=>T({...A,arrivalDate:Ne.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),o.jsx("input",{type:"date",value:A.expiryDate,onChange:Ne=>T({...A,expiryDate:Ne.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),o.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),o.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),o.jsx("button",{onClick:()=>p(!1),className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("form",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),o.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),o.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[o.jsx("option",{value:"",children:"Sélectionner un type"}),o.jsx("option",{value:"frigo",children:"Frigo"}),o.jsx("option",{value:"congelateur",children:"Congélateur"}),o.jsx("option",{value:"remise",children:"Remise"}),o.jsx("option",{value:"other",children:"Autre"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),o.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[o.jsx("option",{value:"kg",children:"kg"}),o.jsx("option",{value:"tonnes",children:"tonnes"}),o.jsx("option",{value:"units",children:"unités"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),b&&_&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),o.jsx("button",{onClick:()=>{y(!1),N(null)},className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-white text-lg mb-2",children:_.name}),o.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",_.quantity]})]}),o.jsxs("form",{onSubmit:Ne=>{Ne.preventDefault(),Y()},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"number",min:"0.01",step:"0.01",max:V(_.quantity),value:S,onChange:Ne=>j(Ne.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),o.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:z(_.quantity)})]})]}),o.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>{y(!1),N(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),e==="charges"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>P(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(Hx,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),o.jsxs("button",{onClick:()=>Le(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(gd,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),o.jsxs("div",{className:"space-y-4 mt-6",children:[o.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:o.jsx(io,{className:"text-brand-blue",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),o.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("p",{className:"text-white font-medium",children:"50 €"}),o.jsx("button",{onClick:()=>ce(q[0]),className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Wc,{size:20})})]})]}),o.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:o.jsx(io,{className:"text-brand-blue",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),o.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("p",{className:"text-white font-medium",children:"75 €"}),o.jsx("button",{onClick:()=>ce(q[1]),className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Wc,{size:20})})]})]}),o.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:o.jsx(io,{className:"text-brand-blue",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),o.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("p",{className:"text-white font-medium",children:"200 €"}),o.jsx("button",{onClick:()=>ce(q[2]),className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Wc,{size:20})})]})]})]}),k&&o.jsx(Gi,{isOpen:k,onClose:()=>P(!1),title:"Nouvelle Charge",size:"lg",children:o.jsxs("form",{onSubmit:H(re),className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),o.jsx("input",{...R("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),X.chargeName&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:X.chargeName.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",...R("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),X.amount&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:X.amount.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),o.jsx("textarea",{...R("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),o.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:oe?o.jsxs("div",{className:"w-full space-y-3",children:[o.jsx("img",{src:oe,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),o.jsx("button",{type:"button",onClick:Ce,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):o.jsxs("div",{className:"w-full space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[o.jsx(Uo,{size:20,className:"mr-2"}),o.jsx("span",{children:"Choisir un fichier"}),o.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:ve})]})}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[o.jsx(Op,{size:20,className:"mr-2"}),o.jsx("span",{children:"Prendre une photo"})]})})]})}),o.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[o.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),Me&&o.jsx(Gi,{isOpen:Me,onClose:()=>Le(!1),title:"Calendrier",size:"lg",children:o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),De&&_e&&o.jsx(Gi,{isOpen:De,onClose:()=>se(!1),title:"Détails de la facture",size:"lg",children:o.jsx("div",{className:"p-4",children:o.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",_e.name]})})}),ae&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white/5 rounded-full p-4",children:o.jsx("div",{className:"w-8 h-8 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})})})]})},s7e=[{id:"1",name:"Frigo 1",type:"frigo",capacity:500,occupation:65,icon:"droplets"},{id:"2",name:"Frigo 2",type:"frigo",capacity:300,occupation:30,icon:"droplets"},{id:"3",name:"Congélateur 1",type:"congélateur",capacity:200,occupation:85,icon:"thermometer"},{id:"4",name:"Congélateur 2",type:"congélateur",capacity:150,occupation:40,icon:"thermometer"},{id:"5",name:"Remise",type:"remise",capacity:1e3,occupation:55,icon:"package"},{id:"6",name:"Cave",type:"remise",capacity:800,occupation:25,icon:"map"}],o7e=(e,t)=>{switch(e){case"droplets":return o.jsx(ji,{className:t});case"thermometer":return o.jsx(R2,{className:t});case"package":return o.jsx(xa,{className:t});case"map":return o.jsx(Th,{className:t})}},l7e=e=>{switch(e){case"frigo":return"blue";case"congélateur":return"cyan";case"remise":return e==="remise"?"amber":"purple";default:return"blue"}},c7e=()=>{const[e,t]=I.useState(null);return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s7e.map(r=>{const n=l7e(r.type);return o.jsxs("div",{className:"relative p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>t(r.id),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-md bg-${n}-500/20 flex items-center justify-center mr-3`,children:o7e(r.icon,`text-${n}-400`)}),o.jsx("h3",{className:"text-white font-medium",children:r.name})]}),o.jsx("div",{className:`bg-${n}-500/20 text-${n}-400 text-xs px-2 py-1 rounded-full`,children:r.type.charAt(0).toUpperCase()+r.type.slice(1)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Capacité"}),o.jsxs("span",{className:"text-white",children:[r.capacity," kg"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Occupation"}),o.jsxs("span",{className:"text-white",children:[r.occupation,"%"]})]}),o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:o.jsx("div",{className:`bg-${n}-400 h-full rounded-full`,style:{width:`${r.occupation}%`}})}),o.jsx("div",{className:"hidden group-hover:block mt-3",children:o.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]},r.id)})})},u7e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},d7e={hidden:{opacity:0,transform:"translateY(20px)"},visible:{opacity:1,transform:"translateY(0px)",transition:{duration:.4,ease:[.25,.25,0,1]}}},f7e=[{id:"1",name:"Huîtres N°3",quantity:1e3,unit:"pièces",location:"Bassin A",lastUpdate:new Date},{id:"2",name:"Huîtres N°2",quantity:500,unit:"pièces",location:"Bassin B",lastUpdate:new Date},{id:"3",name:"Huîtres N°1",quantity:300,unit:"pièces",location:"Bassin C",lastUpdate:new Date}],h7e=()=>{const[e,t]=K.useState(f7e),[r,n]=K.useState(""),[a,i]=I.useState("current"),s=uo(),l=d=>{s(`/tables/${d}`)},c=d=>{i(d)},u=[{id:"current",label:"Stock actuel",icon:o.jsx(xa,{size:20,className:"text-cyan-400"}),count:3},{id:"movements",label:"Mouvements",icon:o.jsx(TE,{size:20,className:"text-cyan-400"})},{id:"history",label:"Historique",icon:o.jsx(gd,{size:20,className:"text-cyan-400"})},{id:"analytics",label:"Statistiques",icon:o.jsx(OE,{size:20,className:"text-cyan-400"})}];return I.useEffect(()=>{},[a]),o.jsxs("div",{className:"w-full p-6 min-h-screen animate-fadeIn",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion des Stocks"}),o.jsx("p",{className:"text-white/70 mt-2",children:"Gestion centralisée des stocks pour tous vos produits."})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex items-center",children:[o.jsx(Da,{className:"absolute left-3 text-white/50",size:18,"aria-hidden":"true"}),o.jsx("input",{type:"text",placeholder:"Rechercher un stock...",value:r,onChange:d=>n(d.target.value),className:"pl-10 pr-4 py-2 w-full sm:w-auto min-w-[280px] rounded-lg bg-white/5 border border-white/10 focus:border-cyan-400/30 text-white shadow-[0_4px_10px_rgba(0,0,0,0.25)] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher un stock"}),o.jsx(qi,{className:"absolute right-3 text-white/50",size:18,"aria-hidden":"true"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un nouveau stock",children:[o.jsx(gr,{size:18,"aria-hidden":"true"}),o.jsx("span",{children:"Nouveau stock"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les stocks",children:[o.jsx(qi,{size:18,"aria-hidden":"true"}),o.jsx("span",{children:"Filtres"})]})]}),o.jsx("div",{className:"relative mb-6 mt-4",children:o.jsx("div",{id:"stock-page-tabs",className:"w-full overflow-x-auto hide-scrollbar",children:o.jsx("div",{className:"flex gap-4",role:"tablist",style:{padding:"4px",borderRadius:"12px"},children:u.map(d=>o.jsxs("button",{onClick:()=>c(d.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",transition:"all 0.3s ease",minWidth:"44px",minHeight:"44px",backgroundColor:a===d.id?"rgba(6, 182, 212, 0.2)":"transparent",color:a===d.id?"#22d3ee":"rgba(255, 255, 255, 0.6)",boxShadow:a===d.id?"0 4px 10px rgba(0, 0, 0, 0.25), 0 0 15px rgba(0, 210, 200, 0.2)":"none",border:a===d.id?"1px solid rgba(6, 182, 212, 0.3)":"1px solid rgba(255, 255, 255, 0.1)"},className:`stockpage-tab ${a===d.id?"stockpage-tab-active":"stockpage-tab-inactive"}`,role:"tab","aria-selected":a===d.id,children:[d.icon,o.jsx("span",{children:d.label}),d.count!==void 0&&o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:a===d.id?"rgba(6, 182, 212, 0.3)":"rgba(255, 255, 255, 0.1)",borderRadius:"9999px",padding:"2px 8px",fontSize:"0.75rem",fontWeight:"bold"},children:d.count})]},d.id))})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",role:"tabpanel",id:`tab-panel-${a}`,"aria-labelledby":`tab-${a}`,children:[a==="current"&&o.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(xa,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Inventaire actuel"]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'inventaire",children:[o.jsx(qi,{size:18,"aria-hidden":"true"}),o.jsx("span",{children:"Exporter"})]})})]}),o.jsx(ke.div,{initial:"hidden",animate:"visible",variants:u7e,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>o.jsxs(ke.div,{variants:d7e,className:"glass p-4 rounded-lg border border-white/10 hover:border-white/20 transition-duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),o.jsx("span",{className:"text-white/60 text-sm",children:d.lastUpdate.toLocaleDateString()})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-white/60",children:"Quantité"}),o.jsxs("span",{className:"font-medium text-white",children:[d.quantity," ",d.unit]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-white/60",children:"Emplacement"}),o.jsx("span",{className:"font-medium text-white",children:d.location})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1.5 text-sm rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":`Voir les détails de ${d.name}`,children:"Voir détails"})})]},d.id))})]}),a==="movements"&&o.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(TE,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Mouvements de stock"]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Nouveau mouvement",children:[o.jsx(gr,{size:18,"aria-hidden":"true"}),o.jsx("span",{children:"Nouveau mouvement"})]})})]}),o.jsx("div",{className:"text-center py-10 text-white/60",children:'Aucun mouvement récent. Utilisez le bouton "Nouveau mouvement" pour en créer un.'})]}),a==="history"&&o.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(gd,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Historique des stocks"]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter l'historique",children:[o.jsx(qi,{size:18,"aria-hidden":"true"}),o.jsx("span",{children:"Exporter"})]})})]}),o.jsx("div",{className:"text-center py-10 text-white/60",children:"L'historique des mouvements de stock sera affiché ici."})]}),a==="analytics"&&o.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-300 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset]",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(OE,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Statistiques des stocks"]})}),o.jsx("div",{className:"text-center py-10 text-white/60",children:"Les statistiques et graphiques de performance des stocks seront affichés ici."})]})]}),o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 text-white/90",children:"Autres emplacements"}),o.jsx(c7e,{})]})]})};class G1 extends I.PureComponent{render(){const{series:t,height:r,showGrid:n,showLegend:a}=this.props;if(!t||t.length===0||!t[0].data)return o.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:o.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const i=t[0].data.map((s,l)=>{const c={name:s.name};return t.forEach(u=>{u.data[l]&&(c[u.name]=u.data[l].value)}),c});return o.jsx(yb,{width:"100%",height:r,children:o.jsxs(sye,{data:i,children:[n&&o.jsx(mA,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),o.jsx(Gp,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),o.jsx(Yp,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),o.jsx(Do,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a&&o.jsx(N0,{verticalAlign:"top",height:36,iconType:"circle",formatter:s=>o.jsx("span",{style:{color:"rgb(var(--color-text))"},children:s})}),t.map(s=>o.jsx(hg,{type:"monotone",dataKey:s.name,stroke:s.color,strokeWidth:2,dot:{fill:s.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},s.name))]})})}}_t(G1,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const p7e=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],m7e=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function zz({type:e,initialData:t,onSubmit:r,onCancel:n}){const{register:a,control:i,handleSubmit:s,watch:l,setValue:c,formState:{errors:u}}=em({defaultValues:{type:e,status:"draft",date:er(new Date,"yyyy-MM-dd"),items:(t==null?void 0:t.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...t}}),{fields:d,append:f,remove:h}=CDe({control:i,name:"items"}),p=l("items"),m=()=>p.reduce((v,b)=>v+b.quantity*b.unit_price,0),x=()=>p.reduce((v,b)=>{const y=b.tax_rate||20;return v+b.quantity*b.unit_price*(y/100)},0),g=()=>m()+x();return o.jsxs("form",{onSubmit:s(r),className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:e==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[o.jsx(rf,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:e==="sale"?"Client":"Fournisseur"}),o.jsx("select",{...a("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:o.jsx("option",{value:"",children:"Sélectionner..."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),o.jsx("input",{type:"date",...a("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),o.jsx("select",{...a("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:p7e.map(v=>o.jsx("option",{value:v.id,children:v.name},v.id))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),o.jsxs("button",{type:"button",onClick:()=>f({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),o.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-white/10",children:[o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),o.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),o.jsx("th",{className:"px-4 py-3 w-16"})]})}),o.jsx("tbody",{children:d.map((v,b)=>{var y,_;return o.jsxs("tr",{className:"border-b border-white/10",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{...a(`items.${b}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"number",...a(`items.${b}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("input",{type:"number",step:"0.01",...a(`items.${b}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("select",{...a(`items.${b}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:m7e.map(N=>o.jsx("option",{value:N.rate,children:N.name},N.id))})}),o.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((y=p[b])==null?void 0:y.quantity)*((_=p[b])==null?void 0:_.unit_price)).toFixed(2),"€"]}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("button",{type:"button",onClick:()=>h(b),className:"p-1 text-white/60 hover:text-white transition-colors",children:o.jsx(Ei,{size:16})})})]},v.id)})})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"w-64 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),o.jsxs("span",{className:"text-white",children:[m().toFixed(2),"€"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"TVA"}),o.jsxs("span",{className:"text-white",children:[x().toFixed(2),"€"]})]}),o.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[o.jsx("span",{className:"text-white",children:"Total TTC"}),o.jsxs("span",{className:"text-white",children:[g().toFixed(2),"€"]})]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),o.jsx("textarea",{...a("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const LD=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],BD=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],$y=(e,t)=>({data:e.map(r=>({name:r.month,value:r[t]}))}),x7e=[{name:"Revenus",color:"#22d3ee",...$y(LD,"revenue")},{name:"Dépenses",color:"#fb7185",...$y(LD,"expenses")}],g7e=[{name:"Entrées",color:"#22d3ee",...$y(BD,"inflow")},{name:"Sorties",color:"#fb7185",...$y(BD,"outflow")}];function v7e(){const[e,t]=I.useState(!0),[r,n]=I.useState(""),[a,i]=I.useState(!1);I.useState("month");const s=l=>{console.log("Creating invoice:",l),i(!1)};return o.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:o.jsx(PE,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Comptabilité"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(gr,{size:20,"aria-hidden":"true"}),"Nouvelle Facture"]}),o.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(rM,{size:20,"aria-hidden":"true"}),"Statistiques"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(nM,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Chiffre d'affaires"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"58,000 €"}),o.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(_W,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Bénéfice net"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"12,500 €"}),o.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(PE,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Dépenses"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"45,500 €"}),o.jsx("p",{className:"text-sm text-rose-400",children:"+5% ce mois"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(NW,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Trésorerie"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"25,800 €"}),o.jsx("p",{className:"text-sm text-emerald-400",children:"+3% ce mois"})]})]})})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Revenus et Dépenses"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),o.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),o.jsx(G1,{series:x7e,height:300})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Flux de Trésorerie"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"M"}),o.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md",children:"T"}),o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors",children:"A"})]})]}),o.jsx(G1,{series:g7e,height:300})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transactions récentes"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Da,{size:20,className:"absolute left-3 -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),o.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",value:r,onChange:l=>n(l.target.value)})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(qi,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-white/60",children:[o.jsx("th",{className:"pb-4",children:"Date"}),o.jsx("th",{className:"pb-4",children:"Description"}),o.jsx("th",{className:"pb-4",children:"Type"}),o.jsx("th",{className:"pb-4 text-right",children:"Montant"}),o.jsx("th",{className:"pb-4",children:"Statut"})]})}),o.jsxs("tbody",{className:"text-white",children:[o.jsxs("tr",{className:"border-t border-white/10",children:[o.jsx("td",{className:"py-4",children:"15/06/2023"}),o.jsx("td",{children:"Facture #2023-156"}),o.jsx("td",{children:"Vente"}),o.jsx("td",{className:"text-right text-cyan-400",children:"+3,500€"}),o.jsx("td",{children:o.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Payée"})})]}),o.jsxs("tr",{className:"border-t border-white/10",children:[o.jsx("td",{className:"py-4",children:"14/06/2023"}),o.jsx("td",{children:"Fournitures bureau"}),o.jsx("td",{children:"Dépense"}),o.jsx("td",{className:"text-right text-red-400",children:"-250€"}),o.jsx("td",{children:o.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"Traitée"})})]})]})]})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1,transform:"translate3d(0px, 0px, 0px)"},className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Facture"}),o.jsx("button",{onClick:()=>i(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:o.jsx(Gt,{size:24})})]}),o.jsx(zz,{type:"sale",onSubmit:s,onCancel:()=>i(!1)})]})})]})}const b7e=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],y7e={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},w7e={draft:di,sent:Qy,paid:mN,overdue:Ai,cancelled:aM};function _7e({type:e,onEdit:t,onDelete:r}){const[n,a]=I.useState(null),i=b7e.filter(c=>c.type===e),s=c=>{console.log("Downloading invoice:",c.number)},l=c=>{console.log("Sending invoice:",c.number)};return o.jsx("div",{className:"space-y-4",children:i.map(c=>{var d,f;const u=w7e[c.status];return o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:o.jsx(io,{size:20,className:"text-brand-burgundy"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:c.number}),o.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${y7e[c.status]}`,children:[o.jsx(u,{size:12,className:"mr-1"}),c.status]})]}),o.jsx("div",{className:"mt-1 text-sm text-white/60",children:e==="sale"?(d=c.customer)==null?void 0:d.name:(f=c.supplier)==null?void 0:f.name}),o.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60",children:"Date"}),o.jsx("div",{className:"text-white",children:er(new Date(c.date),"PP",{locale:xn})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60",children:"Échéance"}),o.jsx("div",{className:"text-white",children:er(new Date(c.due_date),"PP",{locale:xn})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60",children:"Montant TTC"}),o.jsxs("div",{className:"text-white font-medium",children:[c.total.toFixed(2),"€"]})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>a(n===c.id?null:c.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(J1,{size:20,className:"text-white/60"})}),n===c.id&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[o.jsxs("button",{onClick:()=>s(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[o.jsx(Ho,{size:16,className:"mr-2"}),"Télécharger"]}),c.status==="draft"&&o.jsxs("button",{onClick:()=>l(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[o.jsx(Qy,{size:16,className:"mr-2"}),"Envoyer"]}),o.jsxs("button",{onClick:()=>t(c),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[o.jsx(sS,{size:16,className:"mr-2"}),"Modifier"]}),o.jsxs("button",{onClick:()=>r(c),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[o.jsx(Ei,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},c.id)})})}function N7e(){const[e,t]=I.useState("sales"),[r,n]=I.useState(!1),[a,i]=I.useState(""),[s,l]=I.useState(null),c=f=>{console.log("Creating invoice:",f),n(!1)},u=f=>{l(f)},d=f=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${f.number} ?`)&&console.log("Deleting invoice:",f.number)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),o.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[o.jsx("button",{onClick:()=>t("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(io,{size:16,className:"mr-2"}),"Factures Clients"]})}),o.jsx("button",{onClick:()=>t("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ho,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Da,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),o.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),o.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(qi,{size:20,className:"mr-2"}),"Filtres"]})]}),o.jsx(_7e,{type:e==="sales"?"sale":"purchase",onEdit:u,onDelete:d}),(r||s)&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:o.jsx(zz,{type:e==="sales"?"sale":"purchase",initialData:s||void 0,onSubmit:c,onCancel:()=>{n(!1),l(null)}})})})]})}const j7e=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function S7e({date:e,period:t,currentSchedule:r,onSave:n,onDelete:a}){const[i,s]=I.useState((r==null?void 0:r.start)||(t==="morning"?"08:00":"14:00")),[l,c]=I.useState((r==null?void 0:r.end)||(t==="morning"?"12:00":"18:00")),u=()=>{n({start:i,end:l})};return o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-white font-medium",children:[t==="morning"?"Matin":"Après-midi"," - ",er(e,"EEEE d MMMM",{locale:xn})]}),r&&a&&o.jsx("button",{onClick:a,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:o.jsx(Ei,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:`start-${t}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),o.jsx("input",{id:`start-${t}`,type:"time",value:i,onChange:d=>s(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`end-${t}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),o.jsx("input",{id:`end-${t}`,type:"time",value:l,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsx("button",{onClick:u,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function Uz({employee:e,onClose:t}){var v,b,y;const[r,n]=I.useState(new Date),[a,i]=I.useState(j7e),[s,l]=I.useState(null),{session:c}=Yo();(v=c==null?void 0:c.user)==null||v.role;const u=qh(r,{weekStartsOn:1}),d=Bq(r,{weekStartsOn:1}),f=Rq({start:u,end:d}),h=()=>n(RG(r,1)),p=()=>n(SM(r,1)),m=_=>a.find(N=>Aq(new Date(N.date),_)),x=(_,N,S)=>{i(j=>{const A=er(_,"yyyy-MM-dd"),T=j.findIndex(F=>F.date===A);if(T>=0){const F=[...j];return F[T]={...F[T],[N]:S},F}else return[...j,{id:crypto.randomUUID(),date:A,[N]:S}]}),l(null)},g=(_,N)=>{i(S=>{const j=er(_,"yyyy-MM-dd"),A=S.findIndex(T=>T.date===j);if(A>=0){const T=[...S],F=T[A];return N==="morning"?delete F.morning:delete F.afternoon,!F.morning&&!F.afternoon&&T.splice(A,1),T}return S}),l(null)};return o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-white/10",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:e.name}),o.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsx("button",{onClick:h,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:o.jsx(iM,{size:20,className:"text-white/60"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Oa,{size:20,className:"text-white/60"}),o.jsx("span",{className:"text-white font-medium",children:er(u,"MMMM yyyy",{locale:xn})})]}),o.jsx("button",{onClick:p,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:o.jsx(Es,{size:20,className:"text-white/60"})})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-1 p-6",children:o.jsx("div",{className:"grid grid-cols-7 gap-4",children:f.map((_,N)=>{var S,j,A,T,F,O,E,L,B,G,z,V;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-white/60",children:er(_,"EEEE",{locale:xn})}),o.jsx("div",{className:"text-lg font-medium text-white",children:er(_,"d",{locale:xn})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ke.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(S=m(_))!=null&&S.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:_,period:"morning"}),whileHover:{scale:1.02},children:[o.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),o.jsx("div",{className:"text-sm text-white/60",children:(j=m(_))!=null&&j.morning?`${(T=(A=m(_))==null?void 0:A.morning)==null?void 0:T.start} - ${(O=(F=m(_))==null?void 0:F.morning)==null?void 0:O.end}`:"-"})]}),o.jsxs(ke.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(E=m(_))!=null&&E.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>l({date:_,period:"afternoon"}),whileHover:{scale:1.02},children:[o.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),o.jsx("div",{className:"text-sm text-white/60",children:(L=m(_))!=null&&L.afternoon?`${(G=(B=m(_))==null?void 0:B.afternoon)==null?void 0:G.start} - ${(V=(z=m(_))==null?void 0:z.afternoon)==null?void 0:V.end}`:"-"})]})]})]},N)})})}),o.jsx(Ir,{children:s&&o.jsx(ke.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:o.jsx("div",{className:"w-80 p-6",children:o.jsx(S7e,{date:s.date,period:s.period,currentSchedule:(b=m(s.date))==null?void 0:b[s.period],onSave:_=>x(s.date,s.period,_),onDelete:(y=m(s.date))!=null&&y[s.period]?()=>g(s.date,s.period):void 0})})})})]})]})}const A7e=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function C7e({searchQuery:e}){const[t,r]=I.useState(null),[n,a]=I.useState(!1),i=A7e.filter(l=>l.name.toLowerCase().includes(e.toLowerCase())||l.position.toLowerCase().includes(e.toLowerCase())||l.department.toLowerCase().includes(e.toLowerCase())),s=(l,c)=>{c.stopPropagation(),r(l),a(!0)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(l=>o.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:l.avatar?o.jsx("img",{src:l.avatar,alt:l.name,className:"w-full h-full rounded-full"}):o.jsx("span",{className:"text-white text-lg font-medium",children:l.name.charAt(0)})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),o.jsx("p",{className:"text-sm text-white/60",children:l.position})]})]}),o.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:o.jsx(J1,{size:20})})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(Go,{size:16,className:"mr-2"}),l.email]}),o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(Ds,{size:16,className:"mr-2"}),l.phone]}),o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(fi,{size:16,className:"mr-2"}),l.location]})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(l.hireDate).toLocaleDateString("fr-FR")]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:l.status==="active"?"Actif":"Inactif"})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:o.jsxs("button",{onClick:c=>s(l,c),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[o.jsx(Oa,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},l.id))}),n&&t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>a(!1),children:o.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:l=>l.stopPropagation(),children:o.jsx(Uz,{employee:t,onClose:()=>a(!1)})})})]})}function E7e({onClose:e}){const{register:t,handleSubmit:r,formState:{errors:n}}=em(),a=i=>{console.log(i),e()};return o.jsxs("form",{onSubmit:r(a),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),o.jsx("button",{type:"button",onClick:e,className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),o.jsx("input",{...t("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.firstName&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.firstName.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),o.jsx("input",{...t("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.lastName&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.lastName.message})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),o.jsx("input",{type:"email",...t("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.email&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.email.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),o.jsx("input",{...t("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),o.jsx("input",{...t("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),n.position&&o.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.position.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),o.jsxs("select",{...t("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[o.jsx("option",{value:"production",children:"Production"}),o.jsx("option",{value:"maintenance",children:"Maintenance"}),o.jsx("option",{value:"quality",children:"Contrôle Qualité"}),o.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),o.jsx("input",{...t("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),o.jsx("input",{type:"date",...t("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),o.jsx("input",{...t("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),o.jsx("input",{...t("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const k7e=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function T7e({isOpen:e,onClose:t,onConfirm:r,action:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),o.jsx("p",{className:"text-white/70 mb-6",children:n==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>r(n==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${n==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:n==="approve"?"Approuver":"Refuser"})]})]})}):null}function O7e({request:e,onClose:t,onValidate:r}){const[n,a]=I.useState(""),[i,s]=I.useState(null),l=c=>{r(e.id,c,n),s(null),t()};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),o.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Type"}),o.jsx("div",{className:"text-white font-medium",children:e.type})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Période"}),o.jsxs("div",{className:"text-white font-medium",children:[er(new Date(e.startDate),"dd/MM/yyyy")," - ",er(new Date(e.endDate),"dd/MM/yyyy")]})]})]}),e.reason&&o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),o.jsx("div",{className:"text-white",children:e.reason})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),o.jsx("textarea",{value:n,onChange:c=>a(c.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>s("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),o.jsx("button",{onClick:()=>s("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),o.jsx(T7e,{isOpen:i!==null,onClose:()=>s(null),onConfirm:c=>l(c),action:i||"approve"})]})}function P7e(){const[e,t]=I.useState(k7e),[r,n]=I.useState(null),[a,i]=I.useState({start:"",end:""}),s=(c,u,d)=>{t(e.map(f=>f.id===c?{...f,status:u?"approved":"rejected",notes:d}:f)),n(null)},l=e.filter(c=>{if(!a.start&&!a.end)return!0;const u=new Date(c.startDate),d=a.start?new Date(a.start):null,f=a.end?new Date(a.end):null;return d&&f?u>=d&&u<=f:d?u>=d:f?u<=f:!0});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),o.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),o.jsx("input",{type:"date",value:a.start,onChange:c=>i(u=>({...u,start:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),o.jsx("input",{type:"date",value:a.end,onChange:c=>i(u=>({...u,end:c.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsx("button",{onClick:()=>i({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-white/10",children:o.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),o.jsx("div",{className:"divide-y divide-white/10",children:l.map(c=>o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:o.jsx(Oa,{size:20,className:"text-white/60"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:c.type}),o.jsxs("div",{className:"text-sm text-white/60",children:["Du ",er(new Date(c.startDate),"dd/MM/yyyy",{locale:xn})," au"," ",er(new Date(c.endDate),"dd/MM/yyyy",{locale:xn})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.status==="approved"?"bg-green-500/20 text-green-300":c.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:c.status==="approved"?"Approuvé":c.status==="rejected"?"Refusé":"En attente"}),c.status==="pending"&&o.jsx("button",{onClick:()=>n(c.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),c.reason&&o.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",c.reason]}),c.notes&&o.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",c.notes]})]},c.id))})]}),r&&o.jsx(O7e,{request:e.find(c=>c.id===r),onClose:()=>n(null),onValidate:s})]})}const D7e=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function I7e(){const[e,t]=I.useState(!1);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-6",children:D7e.map(r=>o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:r.employeeName}),o.jsx("p",{className:"text-sm text-white/60",children:r.position})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.status==="completed"?"bg-green-500/20 text-green-300":r.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:r.status==="completed"?"Terminé":r.status==="acknowledged"?"Validé":"Brouillon"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),o.jsxs("div",{className:`text-xl font-bold ${r.taskPerformance.averageScore>=90?"text-green-400":r.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[r.taskPerformance.averageScore,"%"]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),o.jsx("div",{className:"text-xl font-bold text-white",children:r.taskPerformance.tasksCompleted})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),o.jsxs("div",{className:"text-xl font-bold text-green-400",children:[r.taskPerformance.onTimeCompletion,"%"]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),o.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[r.taskPerformance.efficiencyRate,"%"]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(n=>o.jsx(Is,{size:20,className:n<=r.overallRating?"text-yellow-400 fill-current":"text-white/20"},n)),o.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[r.overallRating,"/5"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.strengths.map((n,a)=>o.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:n},a))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.improvements.map((n,a)=>o.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:n},a))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.goals.map((n,a)=>o.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:n},a))})]})]})]},r.id))})]})}const M7e={id:"default",name:"Planning Global"};function F7e(){const[e,t]=jW(),[r,n]=I.useState(()=>e.get("tab")||"employees"),[a,i]=I.useState(!1),[s,l]=I.useState("");I.useEffect(()=>{const u=e.get("tab");u&&u!==r&&n(u)},[e]);const c=u=>{n(u),t({tab:u})};return o.jsxs(ke.div,{initial:"hidden",animate:"visible",className:"space-y-6 mt-12",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[rgba(0,128,128,0.9)] to-[rgba(0,160,160,0.7)] blur-xl opacity-70 rounded-full"}),o.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(0,128,128,0.3)] to-[rgba(0,60,100,0.3)] shadow-[rgba(0,0,0,0.3)_0px_5px_15px,rgba(0,210,200,0.15)_0px_0px_10px_inset]",children:o.jsx(xs,{size:28,className:"text-white"})})]}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Gestion RH"})]}),r==="employees"&&o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(gr,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-cyan-400",children:"Nouvel Employé"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[o.jsxs("button",{onClick:()=>c("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="employees"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[o.jsx(xs,{size:16}),o.jsx("span",{children:"Employés"})]}),o.jsxs("button",{onClick:()=>c("schedule"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="schedule"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[o.jsx(Oa,{size:16}),o.jsx("span",{children:"Planning"})]}),o.jsxs("button",{onClick:()=>c("leave"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="leave"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[o.jsx(Oa,{size:16}),o.jsx("span",{children:"Congés"})]}),o.jsxs("button",{onClick:()=>c("performance"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${r==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[o.jsx(Is,{size:16}),o.jsx("span",{children:"Évaluations"})]})]}),r==="employees"&&o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Da,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"26%"},"aria-label":"Search icon"}),o.jsx("input",{type:"text",value:s,onChange:u=>l(u.target.value),placeholder:"Rechercher un employé...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(qi,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-cyan-400",children:"Filtres"})]})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:o.jsx(E7e,{onClose:()=>i(!1)})})}),r==="employees"&&o.jsx(C7e,{searchQuery:s}),r==="leave"&&o.jsx(P7e,{}),r==="performance"&&o.jsx(I7e,{}),r==="schedule"&&o.jsx(Uz,{employee:M7e,onClose:()=>c("employees")})]})}const R7e=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function L7e({searchQuery:e,selectedSkill:t}){const[r,n]=I.useState(null),a=R7e.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.location.toLowerCase().includes(e.toLowerCase())||i.skills.some(s=>s.toLowerCase().includes(e.toLowerCase()))).filter(i=>!t||i.skills.includes(t)).sort((i,s)=>i.isVerified!==s.isVerified?s.isVerified?1:-1:s.rating-i.rating);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-2",children:a.map(i=>o.jsx("div",{onClick:()=>n(i),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:i.name}),i.isVerified&&o.jsx("span",{className:"text-brand-primary",children:o.jsx(mN,{size:20})})]}),o.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(fi,{size:14,className:"mr-1"}),i.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Is,{size:14,className:"mr-1 text-brand-primary"}),i.rating]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.skills.map((s,l)=>o.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s},l))})]}),o.jsx(Es,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},i.id))}),r&&o.jsx(Gi,{isOpen:!0,onClose:()=>n(null),title:r.name,size:"xl",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center text-white/70",children:[o.jsx(fi,{size:20,className:"mr-3"}),r.location]}),o.jsxs("div",{className:"flex items-center text-white/70",children:[o.jsx(Go,{size:20,className:"mr-3"}),r.contact.email]}),o.jsxs("div",{className:"flex items-center text-white/70",children:[o.jsx(Ds,{size:20,className:"mr-3"}),r.contact.phone]}),r.contact.website&&o.jsxs("div",{className:"flex items-center text-white/70",children:[o.jsx(Tp,{size:20,className:"mr-3"}),r.contact.website]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),o.jsx("div",{className:"space-y-2",children:r.certifications.map((i,s)=>o.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[o.jsx(mN,{size:16,className:"mr-2"}),i]},s))})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),o.jsx("p",{className:"text-white/70",children:r.description})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[o.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),o.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const B7e=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function $7e({searchQuery:e}){const t=B7e.filter(r=>r.title.toLowerCase().includes(e.toLowerCase())||r.content.toLowerCase().includes(e.toLowerCase())||r.tags.some(n=>n.toLowerCase().includes(e.toLowerCase())));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),o.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),o.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),o.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),o.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:t.map((r,n)=>o.jsx("div",{className:`p-6 ${n<t.length-1?"border-b border-white/10":""}`,children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:r.author.avatar?o.jsx("img",{src:r.author.avatar,alt:r.author.name,className:"w-full h-full rounded-full"}):o.jsx(nf,{size:20,className:"text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:r.title}),o.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[o.jsx("span",{className:"text-sm text-white/60",children:r.author.name}),o.jsx("span",{className:"text-sm text-white/60",children:new Date(r.postedAt).toLocaleDateString("fr-FR")}),o.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.category})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(sM,{size:16,className:"mr-1"}),r.likes]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wc,{size:16,className:"mr-1"}),r.views]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(hc,{size:16,className:"mr-1"}),r.replies]})]})]}),o.jsx("p",{className:"mt-4 text-white/70",children:r.content}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.tags.map((a,i)=>o.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",a]},i))})]})]})},r.id))})]})}const z7e=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],U7e={public:Tp,network:xs,private:eb};function H7e(){const[e,t]=K.useState(null);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium",children:"M"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),o.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:o.jsx(Tp,{size:20})}),o.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[o.jsx("option",{value:"public",children:"Public"}),o.jsx("option",{value:"network",children:"Mon réseau"}),o.jsx("option",{value:"private",children:"Privé"})]})]}),o.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),o.jsx("div",{className:"space-y-6",children:z7e.map(r=>{const n=U7e[r.visibility];return o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium",children:r.author.name.charAt(0)})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"text-white font-medium",children:r.author.name}),o.jsx("span",{className:"text-white/40",children:"•"}),o.jsx("span",{className:"text-white/60",children:r.author.company})]}),o.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[o.jsx(n,{size:14,className:"mr-1"}),new Date(r.timestamp).toLocaleString()]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>t(e===r.id?null:r.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(J1,{size:20,className:"text-white/60"})}),e===r.id&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[o.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),o.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),o.jsx("p",{className:"mt-4 text-white/80",children:r.content}),o.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[o.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[o.jsx(sM,{size:20,className:"mr-2"}),r.likes]}),o.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[o.jsx(hc,{size:20,className:"mr-2"}),r.comments]}),o.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[o.jsx(SW,{size:20,className:"mr-2"}),r.shares]})]})]})},r.id)})})]})}const W7e=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function V7e({searchQuery:e,onSelectContact:t}){const[r,n]=K.useState(null),a=W7e.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.company.toLowerCase().includes(e.toLowerCase())||i.tags.some(s=>s.toLowerCase().includes(e.toLowerCase())));return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(i=>o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:i.avatar?o.jsx("img",{src:i.avatar,alt:i.name,className:"w-full h-full rounded-full"}):o.jsx(nf,{size:24,className:"text-white"})}),o.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${i.status==="online"?"bg-green-500":i.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:i.name}),o.jsx("p",{className:"text-sm text-white/60",children:i.position}),o.jsx("p",{className:"text-sm text-white/40",children:i.company})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>n(r===i.id?null:i.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(J1,{size:20,className:"text-white/60"})}),r===i.id&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[o.jsxs("button",{onClick:()=>t(i.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[o.jsx(hc,{size:16,className:"mr-2"}),"Message"]}),o.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[o.jsx(Is,{size:16,className:"mr-2"}),i.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(Go,{size:16,className:"mr-2"}),i.email]}),o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(Ds,{size:16,className:"mr-2"}),i.phone]}),o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(fi,{size:16,className:"mr-2"}),i.location]})]}),i.tags.length>0&&o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.tags.map((s,l)=>o.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:s},l))}),o.jsxs("div",{className:"mt-6 flex space-x-3",children:[o.jsx("button",{onClick:()=>t(i.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),o.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},i.id))})}const BC=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],W4={1:[{id:"1",content:"Bonjour, comment allez-vous ?",sender:"Jean Dupont",timestamp:"10:00",isMe:!1},{id:"2",content:"Très bien, merci ! Et vous ?",sender:"Moi",timestamp:"10:15",isMe:!0},{id:"3",content:"Parfait, merci !",sender:"Jean Dupont",timestamp:"10:30",isMe:!1}],2:[{id:"1",content:"Hey, on se voit demain ?",sender:"Marie Martin",timestamp:"09:15",isMe:!1}],3:[{id:"1",content:"Bonjour, pouvez-vous me donner les prix pour vos services ?",sender:"Pierre Durand",timestamp:"Hier",isMe:!1}],4:[{id:"1",content:"Je vous envoie les documents demandés en pièce jointe.",sender:"Sophie Dubois",timestamp:"Lun",isMe:!1}],5:[{id:"1",content:"Merci pour votre réponse rapide !",sender:"Luc Moreau",timestamp:"23/02",isMe:!1}]},q7e=e=>BC.find(t=>t.id===e);function Hz({contactId:e,onClose:t}){const[r,n]=I.useState("");I.useState("");const a=K.useRef(null),[i,s]=I.useState(e),l=()=>{var f;(f=a.current)==null||f.scrollIntoView({behavior:"smooth"})};K.useEffect(()=>{l()},[W4[i]]),K.useEffect(()=>{s(e)},[e]);const c=f=>{f.preventDefault(),r.trim()&&(console.log("Message envoyé:",r),n(""))},u=f=>{s(f)},d=q7e(i);return o.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block w-80 border-r border-white/10",children:o.jsx("div",{className:"divide-y divide-white/10",children:BC.map(f=>o.jsx("div",{onClick:()=>u(f.id),className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${f.id===i?"bg-white/5":""}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium",children:f.name.charAt(0)})}),f.online&&o.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-white font-medium truncate",children:f.name}),f.lastMessageTime&&o.jsx("span",{className:"text-xs text-white/40",children:f.lastMessageTime})]}),f.lastMessage&&o.jsx("p",{className:"text-sm text-white/60 truncate",children:f.lastMessage})]}),f.unreadCount&&f.unreadCount>0&&o.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:f.unreadCount})})]})},f.id))})}),o.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[o.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[o.jsx("button",{onClick:t,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors","aria-label":"Retour à la liste des contacts",children:o.jsx(Vx,{size:18,className:"md:w-5 md:h-5"})}),o.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:(d==null?void 0:d.name.charAt(0))||"?"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:(d==null?void 0:d.name)||"Contact"}),o.jsx("p",{className:"text-xs md:text-sm text-green-400",children:d!=null&&d.online?"En ligne":"Hors ligne"})]})]})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[W4[i]?W4[i].map(f=>o.jsx("div",{className:`flex ${f.isMe?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${f.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[o.jsx("p",{className:"text-sm md:text-base",children:f.content}),o.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${f.isMe?"text-white/60":"text-white/40"}`,children:f.timestamp})]})},f.id)):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[o.jsx(hc,{size:36,className:"mb-3 opacity-30"}),o.jsx("p",{className:"text-sm",children:"Aucun message disponible"})]}),o.jsx("div",{ref:a})]}),o.jsx("form",{onSubmit:c,className:"p-3 md:p-4 border-t border-white/10",children:o.jsxs("div",{className:"flex space-x-2 md:space-x-4",children:[o.jsxs("div",{className:"flex-1 relative flex",children:[o.jsx("textarea",{value:r,onChange:f=>n(f.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none h-full min-h-[40px] md:min-h-[46px]",rows:1}),o.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[o.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:o.jsx(AW,{size:16,className:"md:w-5 md:h-5"})}),o.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:o.jsx(oM,{size:16,className:"md:w-5 md:h-5"})}),o.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:o.jsx(CW,{size:16,className:"md:w-5 md:h-5"})})]})]}),o.jsx("button",{type:"submit",disabled:!r.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center self-stretch min-h-[40px] md:min-h-[46px]",children:o.jsx(Qy,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}function G7e({onClose:e,type:t}){const r=()=>{switch(t){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return o.jsx(Gi,{isOpen:!0,onClose:e,title:r(),size:"xl",children:o.jsxs("form",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),o.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),o.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),o.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function Y7e({onClose:e}){const[t,r]=I.useState(""),[n,a]=I.useState(null),[i,s]=I.useState(!1),l=async c=>{c.preventDefault(),a(null),s(!0);try{if(!$D(t))throw new Error("Format de code invalide");await new Promise(u=>setTimeout(u,1e3)),e()}catch(u){a(u instanceof Error?u.message:"Une erreur est survenue")}finally{s(!1)}};return o.jsx(Gi,{isOpen:!0,onClose:e,title:"Ajouter un contact",size:"md",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:o.jsx(xs,{size:32,className:"text-brand-burgundy"})})}),o.jsxs("form",{onSubmit:l,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),o.jsx("input",{type:"text",value:t,onChange:c=>{const u=X7e(c.target.value);r(u),a(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),o.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),n&&o.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center text-red-400",children:[o.jsx(Ai,{size:20,className:"mr-2"}),n]})}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",disabled:!$D(t)||i,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Recherche...":"Ajouter"})]})]}),o.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[o.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),o.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function X7e(e){return(e.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function $D(e){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(e)}function K7e(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let n=0;n<8;n++){const a=Math.floor(Math.random()*e.length);r+=e[a]}return r}const zu=[{id:"1",name:"Huîtres Marennes Oléron",email:"contact@huitres-mo.fr",phone:"05 46 85 12 34",address:"12 Route des Claires, 17320 Marennes",friend_code:"HMO17320",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Les Parcs de l'Estuaire",email:"commandes@parcs-estuaire.fr",phone:"05 46 36 45 78",address:"8 Quai des Ostréiculteurs, 17390 La Tremblade",friend_code:"LPE17390",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Atlantique Coquillages",email:"ventes@atlantique-coq.fr",phone:"02 51 68 23 45",address:"45 Avenue du Port, 85230 Bouin",friend_code:"ACQ85230",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"Cancale Premium",email:"service@cancale-premium.fr",phone:"02 99 89 67 89",address:"23 Rue du Port, 35260 Cancale",friend_code:"CAN35260",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"Arcachon Huîtres",email:"pro@arcachon-huitres.com",phone:"05 57 72 34 56",address:"56 Boulevard de la Plage, 33120 Arcachon",friend_code:"ARC33120",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],Q7e={1:[{id:"1",supplier_id:"1",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"1",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],2:[{id:"3",supplier_id:"2",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],3:[{id:"4",supplier_id:"3",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],4:[{id:"5",supplier_id:"4",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],5:[{id:"6",supplier_id:"5",name:"Huîtres Gillardeau",description:"Les célèbres huîtres Gillardeau, reconnues mondialement",price:24,unit:"douzaine",category:"Premium",image:"/placeholder.jpg",available:!0,stock:100,minOrder:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function b5(){const e=lM(),{data:t=zu,isLoading:r}=oS({queryKey:["suppliers"],queryFn:async()=>zu}),n=gx({mutationFn:async s=>{const l=K7e(),c={...s,friend_code:l,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return zu.push({...c,id:String(zu.length+1)}),c},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]})}}),a=gx({mutationFn:async s=>{const l=zu.findIndex(c=>c.id===s.id);return l!==-1&&s.deleted!==void 0&&(zu[l]={...zu[l],deleted:s.deleted,updated_at:new Date().toISOString()}),zu[l]},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:t,isLoading:r,createSupplier:n,updateSupplier:a,getSupplierProducts:async s=>Q7e[s]||[]}}function Pj({children:e,variant:t="default",className:r="",...n}){const a="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",i={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return o.jsx("div",{className:`${a} ${i[t]} ${r}`,...n,children:e})}function J7e(){const{suppliers:e}=b5(),t=e.filter(r=>r.is_friend);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),o.jsxs(Pj,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[t.length," partenaires"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(r=>o.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:r.name}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[o.jsx(Jy,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"text-sm font-mono",children:r.friend_code})]}),o.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[o.jsx(Go,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:r.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[o.jsx(Ds,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"text-sm",children:r.phone})]}),o.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[o.jsx(fi,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:r.address})]})]})]})},r.id))})]})}function Z7e({messageView:e=!1,activeTab:t}){const r=X1(),n=uo(),[a,i]=I.useState(t||e?"messages":"feed"),[s,l]=I.useState(!1),[c,u]=I.useState(!1),[d,f]=I.useState("");I.useState(null);const[h,p]=I.useState(null),[m,x]=I.useState(window.innerWidth<=768),{unreadCount:g}=Yo();return I.useEffect(()=>{var v;(v=r.state)!=null&&v.activeTab&&i(r.state.activeTab)},[r.state]),I.useEffect(()=>{t?i(t):e&&i("messages")},[e,t]),I.useEffect(()=>{r.pathname==="/network/messages"&&a!=="messages"&&i("messages")},[r.pathname,a]),I.useEffect(()=>{const v=()=>{x(window.innerWidth<=768)};return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[]),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center mb-8",children:[o.jsxs("div",{className:"relative mr-4",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:o.jsx(xs,{size:28,className:"text-cyan-400"})})]}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Entre Pro"})]}),o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(EW,{size:20}),"Ajouter un contact"]}),a==="feed"&&o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(gr,{size:20}),"Nouvelle publication"]})]})}),o.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10 mb-6",children:[o.jsxs("button",{onClick:()=>i("feed"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="feed"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="feed"?"page":void 0,children:[o.jsx(kW,{size:16}),"Fil d'actualités"]}),o.jsxs("button",{onClick:()=>i("contacts"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="contacts"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="contacts"?"page":void 0,children:[o.jsx(xs,{size:16}),"Contacts"]}),o.jsxs("button",{onClick:()=>i("directory"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="directory"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="directory"?"page":void 0,children:[o.jsx(Tp,{size:16}),"Annuaire Prestataires"]}),o.jsxs("button",{onClick:()=>i("forum"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="forum"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="forum"?"page":void 0,children:[o.jsx(hc,{size:16}),"Forum"]}),o.jsxs("button",{onClick:()=>{i("messages"),n("/network/messages",{replace:!0})},className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 relative ${a==="messages"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="messages"?"page":void 0,children:[o.jsx(TW,{size:16}),"Messagerie",g>0&&o.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 min-w-[20px] h-[20px] rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 flex items-center justify-center text-xs font-medium text-white shadow-lg",children:g})]}),o.jsxs("button",{onClick:()=>i("suppliers"),className:`flex items-center gap-2 px-4 py-2 rounded-lg min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 ${a==="suppliers"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,"aria-current":a==="suppliers"?"page":void 0,children:[o.jsx(xs,{size:16}),"Fournisseurs Amis"]})]}),o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Da,{size:20,className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"30%",zIndex:1},"aria-label":"Search icon"}),o.jsx("input",{type:"text",value:d,onChange:v=>f(v.target.value),placeholder:"Rechercher...",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Rechercher"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[o.jsx(qi,{size:18}),"Filtres"]}),o.jsxs("button",{className:"relative p-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 text-white hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[o.jsx(Dp,{size:18,className:"text-cyan-400"}),g>0&&o.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full flex items-center justify-center text-xs font-bold shadow-[0_0_10px_rgba(0,210,200,0.5)]",children:g})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[a==="feed"&&o.jsx(H7e,{}),a==="contacts"&&o.jsx(V7e,{searchQuery:d,onSelectContact:v=>{p(v),i("messages")}}),a==="messages"&&o.jsx(Hz,{contactId:h,onClose:()=>p(null)}),a==="directory"&&o.jsx(L7e,{searchQuery:d,selectedSkill:null}),a==="forum"&&o.jsx($7e,{searchQuery:d}),a==="suppliers"&&o.jsx(J7e,{})]}),s&&o.jsx(G7e,{onClose:()=>l(!1),type:"forum"}),c&&o.jsx(Y7e,{onClose:()=>u(!1)})]})}const eFe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Uu={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function tFe(){const{companyInfo:e,setCompanyInfo:t}=Yo(),[r,n]=I.useState({name:(e==null?void 0:e.name)||"",siret:(e==null?void 0:e.siret)||"",logo:(e==null?void 0:e.logo)||"",description:(e==null?void 0:e.description)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",website:(e==null?void 0:e.website)||""});I.useEffect(()=>{e&&n({name:e.name,siret:e.siret,logo:e.logo||"",description:e.description||"",email:e.email,phone:e.phone,address:e.address,website:e.website||""})},[e]);const a=s=>{const{name:l,value:c}=s.target;n(u=>({...u,[l]:c}))},i=s=>{s.preventDefault(),t(r),fh.success("Informations de l'entreprise enregistrées avec succès")};return o.jsxs(ke.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:eFe,children:[o.jsxs(ke.div,{variants:Uu,children:[o.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mb-2",children:"Informations de l'entreprise"}),o.jsx("p",{className:"text-white/60 mb-6",children:"Gérez les informations principales de votre entreprise"})]}),o.jsxs("form",{className:"space-y-6",onSubmit:i,children:[o.jsxs(ke.div,{className:"grid grid-cols-2 gap-6",variants:Uu,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"name",children:"Nom de l'entreprise"}),o.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:a,className:"config-input",placeholder:"Oyster Cult Enterprise",required:!0,"aria-required":"true"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"siret",children:"Numéro SIRET"}),o.jsx("input",{type:"text",id:"siret",name:"siret",value:r.siret,onChange:a,className:"config-input",placeholder:"123 456 789 00012",required:!0,"aria-required":"true"})]})]}),o.jsxs(ke.div,{variants:Uu,children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"logo",children:"Logo de l'entreprise"}),o.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-xl transition-all duration-200 hover:border-white/30 group config-container",children:o.jsxs("div",{className:"space-y-2 text-center",children:[o.jsx(Uo,{className:"mx-auto h-12 w-12 text-white/40 group-hover:text-white/60 transition-colors duration-200"}),o.jsxs("div",{className:"flex text-sm text-white/60",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-white hover:text-white/80 focus-within:outline-none focus-within:ring-2 focus-within:ring-white/20 transition-colors duration-200",children:[o.jsx("span",{children:"Télécharger un fichier"}),o.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:s=>{var c;const l=(c=s.target.files)==null?void 0:c[0];l&&n(u=>({...u,logo:l.name}))},accept:"image/*"})]}),o.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),o.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG, GIF jusqu'à 10MB"})]})})]}),o.jsxs(ke.div,{variants:Uu,children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"description",children:"Description"}),o.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:a,className:"config-input",placeholder:"Une brève description de votre entreprise...",rows:4})]}),o.jsxs(ke.div,{className:"grid grid-cols-2 gap-6",variants:Uu,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Go,{className:"absolute left-3 top-[30%] transform -translate-y-1/2 text-white/40",size:20,"aria-label":"Email icon"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:a,className:"pl-10 config-input",placeholder:"contact@oystercult.com",required:!0,"aria-required":"true"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"phone",children:"Téléphone"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ds,{"aria-label":"Phone icon",className:"absolute left-3 top-[30%] transform -translate-y-1/2 text-white/40",size:20}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:a,className:"pl-10 config-input",placeholder:"+33 1 23 45 67 89",required:!0,"aria-required":"true"})]})]})]}),o.jsxs(ke.div,{variants:Uu,children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"address",children:"Adresse"}),o.jsxs("div",{className:"relative",children:[o.jsx(fi,{"aria-label":"Map pin icon",className:"absolute left-3 top-[28%] transform -translate-y-1/2 text-white/40",size:20}),o.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:a,className:"pl-10 config-input",placeholder:"123 rue de la Mer, 75001 Paris",required:!0,"aria-required":"true"})]})]}),o.jsxs(ke.div,{variants:Uu,children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",htmlFor:"website",children:"Site web"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{"aria-label":"Globe icon",className:"absolute left-3 top-[28%] transform -translate-y-1/2 text-white/40",size:20}),o.jsx("input",{type:"url",id:"website",name:"website",value:r.website,onChange:a,className:"pl-10 config-input",placeholder:"https://www.oystercult.com"})]})]}),o.jsx(ke.div,{className:"flex justify-end",variants:Uu,children:o.jsx("button",{type:"submit",className:"config-button bg-white/10 text-white hover:bg-white/15",children:"Enregistrer les modifications"})})]})]})}const v2={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},rFe=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function nFe(){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let r="";for(let n=0;n<12;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}const zD={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},UD={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}},HD={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.9,transition:{duration:.2}}};function aFe(){const{addUser:e,deleteUser:t,updateUser:r,users:n}=Yo(),[a,i]=I.useState(!1),[s,l]=I.useState(null);I.useState(null);const[c,u]=I.useState(null),[d,f]=I.useState(v2),[h,p]=I.useState({}),m=S=>{l(S);const j={firstName:S.firstName,lastName:S.lastName,email:S.email,phone:S.phone,position:S.position,department:S.department,location:S.location,startDate:S.startDate,employeeId:S.employeeId,emergencyContact:S.emergencyContact,role:S.role};f(j),i(!0)},x=()=>{const S={};return d.firstName||(S.firstName="Le prénom est requis"),d.lastName||(S.lastName="Le nom est requis"),d.email||(S.email="L'email est requis"),d.phone||(S.phone="Le téléphone est requis"),d.position||(S.position="Le poste est requis"),d.employeeId||(S.employeeId="L'ID employé est requis"),p(S),Object.keys(S).length===0},g=async S=>{if(S.preventDefault(),!x())return;const j=nFe();try{const A={...d,password:j};await e(A),fh.success("Utilisateur ajouté avec succès"),f(v2),i(!1)}catch{fh.error("Erreur lors de l'ajout de l'utilisateur")}},v=async S=>{if(S.preventDefault(),!(!(s!=null&&s.id)||!x()))try{await r(s.id,d),fh.success("Utilisateur modifié avec succès"),l(null),f(v2),i(!1)}catch{fh.error("Erreur lors de la modification de l'utilisateur")}},b=S=>{const{name:j,value:A}=S.target;if(f(T=>({...T,[j]:A})),h[j]){const T={...h};delete T[j],p(T)}},y=()=>{i(!1),l(null),f(v2),p({})},_=S=>{S.preventDefault();const j={};d.firstName||(j.firstName="Le prénom est obligatoire"),d.lastName||(j.lastName="Le nom est obligatoire"),d.email||(j.email="L'email est obligatoire"),d.phone||(j.phone="Le téléphone est obligatoire"),d.position||(j.position="Le rôle est obligatoire"),d.startDate||(j.startDate="La date de début est obligatoire"),p(j),Object.keys(j).length===0&&g(S)},N=S=>{t(S),u(null),fh.success("Utilisateur supprimé avec succès")};return o.jsxs(ke.div,{className:"space-y-8",initial:"hidden",animate:"visible",variants:zD,children:[o.jsxs(ke.div,{variants:UD,className:"flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%)",padding:"1.5rem",borderRadius:"1rem",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.3) 0px 10px 25px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset"},children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),o.jsx(L2,{size:24,className:"text-[#00D1FF] relative z-10"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:"Rôles & Permissions"}),o.jsx("p",{className:"text-white/60",children:"Gérez les rôles et les permissions des utilisateurs"})]})]}),o.jsxs(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:[o.jsx(gr,{size:20,className:"inline-block mr-2"}),"Ajouter un utilisateur"]})]}),o.jsx(ke.div,{className:"grid grid-cols-1 gap-6",variants:zD,children:rFe.map(S=>o.jsx(ke.div,{variants:UD,className:"rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.85) 0%, rgba(0, 100, 120, 0.8) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00D1FF]/10 flex items-center justify-center",children:o.jsx(L2,{size:24,className:"text-[#00D1FF]"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent mb-1",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:S.name}),o.jsx("p",{className:"text-white/60",children:S.description}),o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsx("h4",{className:"text-lg font-medium text-white/80",children:"Utilisateurs"}),o.jsx("div",{className:"space-y-3",children:n.filter(j=>j.role===S.id).map(j=>o.jsx(ke.div,{className:"bg-white/5 rounded-xl p-4 group hover:bg-white/10 transition-all duration-200",whileHover:{scale:1.02},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-white font-medium",children:[j.firstName," ",j.lastName]}),o.jsx("div",{className:"text-sm text-white/60 mt-1",children:j.position})]}),o.jsxs("div",{className:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[o.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(j),className:"p-2 hover:bg-[#00D1FF]/10 rounded-lg transition-colors",children:o.jsx(Os,{size:16,className:"text-[#00D1FF]"})}),o.jsx(ke.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(j.id),className:"p-2 hover:bg-red-500/10 rounded-lg transition-colors",children:o.jsx(Ei,{size:16,className:"text-red-400"})})]})]})},j.id))})]})]})]})})},S.id))}),o.jsx(Ir,{children:(a||s)&&o.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx(ke.div,{variants:HD,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-xl rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent mb-6",style:{backgroundImage:"linear-gradient(90deg, #ffffff, #a5f3fc)"},children:s?"Modifier l'utilisateur":"Nouvel utilisateur"}),o.jsxs("form",{className:"space-y-6",onSubmit:s?v:_,children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Prénom"}),o.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:b,className:`w-full px-4 py-3 bg-white/5 border ${h.firstName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),h.firstName&&o.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[o.jsx(Ua,{size:16,className:"mr-1"}),h.firstName]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Nom"}),o.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:b,className:`w-full px-4 py-3 bg-white/5 border ${h.lastName?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0}),h.lastName&&o.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[o.jsx(Ua,{size:16,className:"mr-1"}),h.lastName]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),o.jsx("input",{type:"email",name:"email",value:d.email,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.email?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.email&&o.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[o.jsx(Ua,{size:16,className:"mr-1"}),h.email]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Téléphone"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),o.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.phone?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.phone&&o.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[o.jsx(Ua,{size:16,className:"mr-1"}),h.phone]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Rôle"}),o.jsxs("div",{className:"relative",children:[o.jsx(L2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),o.jsxs("select",{name:"position",value:d.position,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.position?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none appearance-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0,children:[o.jsx("option",{value:"",children:"Sélectionner un rôle"}),o.jsx("option",{value:"manageur",children:"Manageur"}),o.jsx("option",{value:"operateur",children:"Opérateur"}),o.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),o.jsx("option",{value:"comptable",children:"Comptable"})]})]}),h.position&&o.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[o.jsx(Ua,{size:16,className:"mr-1"}),h.position]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Date de début"}),o.jsxs("div",{className:"relative",children:[o.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),o.jsx("input",{type:"date",name:"startDate",value:d.startDate,onChange:b,className:`w-full pl-10 pr-4 py-3 bg-white/5 border ${h.startDate?"border-red-500":"border-white/10"} rounded-xl text-white transition-all duration-200 focus:border-[#00D1FF]/50 focus:ring-2 focus:ring-[#00D1FF]/20 focus:outline-none`,style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},required:!0})]}),h.startDate&&o.jsxs("p",{className:"mt-2 text-sm text-red-400 flex items-center",children:[o.jsx(Ua,{size:16,className:"mr-1"}),h.startDate]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[o.jsx(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:y,className:"px-6 py-3 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),o.jsx(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#00D1FF] to-[#00D1FF]/80 text-white font-medium rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-[#00D1FF]/20 focus:outline-none focus:ring-2 focus:ring-[#00D1FF]/50",style:{boxShadow:"0 0 20px rgba(0, 209, 255, 0.3)"},children:s?"Mettre à jour":"Ajouter"})]})]})]})})})}),o.jsx(Ir,{children:c&&o.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx(ke.div,{variants:HD,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md rounded-xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 100, 120, 0.9) 100%)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 10px 20px -5px, rgba(0, 0, 0, 0.2) 0px 5px 10px -5px, rgba(255, 255, 255, 0.1) 0px -1px 3px 0px inset, rgba(0, 200, 200, 0.2) 0px 0px 15px inset"},children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer la suppression"}),o.jsx("p",{className:"text-white/70 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors rounded-xl",children:"Annuler"}),o.jsx(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c&&N(c),className:"px-4 py-2 bg-red-500/80 hover:bg-red-500 text-white rounded-xl transition-colors",children:"Supprimer"})]})]})})})})]})}const iFe=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function sFe(){const[e,t]=I.useState(!1),[r,n]=I.useState(null),[a,i]=I.useState(null),[s,l]=I.useState(iFe),c=f=>{n(f),t(!0)},u=f=>{l(s.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(s.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...s,h])}t(!1),n(null)};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),o.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(f=>o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:o.jsx(xa,{size:20,className:"text-brand-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),o.jsx("p",{className:"text-sm text-white/60 mt-1",children:f.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Os,{size:20,className:"text-white/60"})}),o.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Ei,{size:20,className:"text-white/60"})})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.sizes.map(h=>o.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",h]},h))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),o.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[o.jsxs("div",{children:["Stock minimum: ",f.minStock," ",f.unit,"s"]}),o.jsxs("div",{children:["Stock maximum: ",f.maxStock," ",f.unit,"s"]})]})]})]})]},f.id))}),e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le produit":"Nouveau produit"}),o.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p=Object.fromEntries(h.entries());d(p)},className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),o.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:r==null?void 0:r.name,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),o.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.category,required:!0,children:[o.jsx("option",{value:"huitres",children:"Huîtres"}),o.jsx("option",{value:"materiels",children:"Matériels"}),o.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),o.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:r==null?void 0:r.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(f=>o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",name:"sizes",value:f,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.sizes.includes(f)}),o.jsxs("span",{className:"text-white",children:["N°",f]})]},f))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),o.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.unit,required:!0,children:[o.jsx("option",{value:"douzaine",children:"Douzaine"}),o.jsx("option",{value:"piece",children:"Pièce"}),o.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le produit"})]})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ua,{size:24,className:"text-red-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),o.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[o.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const oFe=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function lFe(){const[e,t]=I.useState(!1),[r,n]=I.useState(null),[a,i]=I.useState(null),[s,l]=I.useState(oFe),c=f=>{n(f),t(!0)},u=f=>{l(s.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(s.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...s,h])}t(!1),n(null)};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),o.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(f=>o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:o.jsx(Wh,{size:20,className:"text-brand-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),o.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:f.type})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(Go,{size:16,className:"mr-2"}),f.contact.email]}),o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(Ds,{size:16,className:"mr-2"}),f.contact.phone]}),o.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[o.jsx(fi,{size:16,className:"mr-2"}),f.address]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.products.map((h,p)=>o.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:h},p))})]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Os,{size:20,className:"text-white/60"})}),o.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Ei,{size:20,className:"text-white/60"})})]})]})},f.id))}),e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier le fournisseur":"Nouveau fournisseur"}),o.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p={name:h.get("name"),type:h.get("type"),contact:{name:h.get("contactName"),email:h.get("email"),phone:h.get("phone")},address:h.get("address"),products:h.getAll("products"),status:"active"};d(p)},className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),o.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:r==null?void 0:r.name,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),o.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[o.jsx("option",{value:"naissain",children:"Naissain"}),o.jsx("option",{value:"emballages",children:"Emballages"}),o.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),o.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.name,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.email,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),o.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.contact.phone,required:!0})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),o.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:r==null?void 0:r.address,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),o.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(f=>o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",name:"products",value:f,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:r==null?void 0:r.products.includes(f)}),o.jsx("span",{className:"text-white",children:f})]},f))})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ua,{size:24,className:"text-red-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),o.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[o.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const cFe=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function uFe(){const[e,t]=I.useState(!1),[r,n]=I.useState(null),[a,i]=I.useState(null),[s,l]=I.useState(cFe),c=f=>{n(f),t(!0)},u=f=>{l(s.filter(h=>h.id!==f)),i(null)},d=f=>{if(r)l(s.map(h=>h.id===r.id?{...h,...f}:h));else{const h={id:crypto.randomUUID(),...f};l([...s,h])}t(!1),n(null)};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),o.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(f=>o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:o.jsx(Hx,{size:20,className:"text-brand-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:f.name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${f.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:f.type==="retail"?"Détail":"Gros"})]}),o.jsx("p",{className:"text-sm text-white/60 mt-1",children:f.description}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(f.validFrom).toLocaleDateString("fr-FR"),f.validTo&&` au ${new Date(f.validTo).toLocaleDateString("fr-FR")}`]}),o.jsx("div",{className:"mt-4",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-sm text-white/60",children:[o.jsx("th",{className:"text-left pb-2",children:"Produit"}),o.jsx("th",{className:"text-left pb-2",children:"Calibre"}),o.jsx("th",{className:"text-right pb-2",children:"Prix"}),f.type==="wholesale"&&o.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),o.jsx("tbody",{className:"text-white",children:f.products.map((h,p)=>o.jsxs("tr",{className:"border-t border-white/10",children:[o.jsx("td",{className:"py-2",children:h.name}),o.jsxs("td",{className:"py-2",children:["N°",h.size]}),o.jsxs("td",{className:"text-right py-2",children:[h.price.toFixed(2),"€/",h.unit]}),f.type==="wholesale"&&o.jsx("td",{className:"text-right py-2",children:h.minQuantity})]},p))})]})})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>c(f),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Os,{size:20,className:"text-white/60"})}),o.jsx("button",{onClick:()=>i(f.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Ei,{size:20,className:"text-white/60"})})]})]})},f.id))}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ua,{size:24,className:"text-red-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),o.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[o.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la liste de prix":"Nouvelle liste de prix"}),o.jsxs("form",{onSubmit:f=>{f.preventDefault();const h=new FormData(f.currentTarget),p={name:h.get("name"),description:h.get("description"),type:h.get("type"),validFrom:h.get("validFrom"),validTo:h.get("validTo"),products:[]};d(p)},className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),o.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:r==null?void 0:r.name,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),o.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.type,required:!0,children:[o.jsx("option",{value:"retail",children:"Vente au détail"}),o.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),o.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:r==null?void 0:r.description,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),o.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validFrom,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),o.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:r==null?void 0:r.validTo})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),o.jsxs("div",{className:"space-y-4",children:[((r==null?void 0:r.products)||[]).map((f,h)=>o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),o.jsxs("select",{name:`products[${h}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.name,children:[o.jsx("option",{value:"plates",children:"Huîtres Plates"}),o.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),o.jsxs("select",{name:`products[${h}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.size,children:[o.jsx("option",{value:"2",children:"N°2"}),o.jsx("option",{value:"3",children:"N°3"}),o.jsx("option",{value:"4",children:"N°4"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),o.jsx("input",{type:"number",step:"0.01",name:`products[${h}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.price})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),o.jsx("input",{type:"number",name:`products[${h}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:f.minQuantity})]})]},h)),o.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const f=[...(r==null?void 0:r.products)||[]];f.push({name:"plates",size:"3",price:0,minQuantity:1}),n({...r||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:f})},children:"+ Ajouter un produit"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const dFe=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function fFe(){var f,h;const[e,t]=I.useState(!1),[r,n]=I.useState(null),[a,i]=I.useState(null),[s,l]=I.useState(dFe),c=p=>{n(p),t(!0)},u=p=>{l(s.filter(m=>m.id!==p)),i(null)},d=p=>{if(r)l(s.map(m=>m.id===r.id?{...m,...p}:m));else{const m={id:crypto.randomUUID(),...p};l([...s,m])}t(!1),n(null)};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),o.jsxs("button",{onClick:()=>{n(null),t(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Configuration table"]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(p=>o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:o.jsx(Th,{size:20,className:"text-brand-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="active"?"bg-green-500/20 text-green-300":p.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.status==="active"?"Actif":p.status==="maintenance"?"Maintenance":"Inactif"})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm text-white/60",children:"Type"}),o.jsx("div",{className:"text-white",children:p.type}),o.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),o.jsx("div",{className:"text-white",children:p.capacity})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),o.jsx("div",{className:"text-white",children:p.cordCount})]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>c(p),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Os,{size:20,className:"text-white/60"})}),o.jsx("button",{onClick:()=>i(p.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Ei,{size:20,className:"text-white/60"})})]})]})},p.id))}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ua,{size:24,className:"text-red-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),o.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[o.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:r?"Modifier la table":"Nouvelle table"}),o.jsxs("form",{onSubmit:p=>{p.preventDefault();const m=new FormData(p.currentTarget),x={name:m.get("name"),type:m.get("type"),capacity:Number(m.get("capacity")),cordCount:Number(m.get("cordCount")),cordLength:Number(m.get("cordLength")),oystersPerCord:Number(m.get("oystersPerCord")),coordinates:{latitude:Number(m.get("latitude")),longitude:Number(m.get("longitude"))}};d(x)},className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),o.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:r==null?void 0:r.name,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),o.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.type)||"table",required:!0,children:[o.jsx("option",{value:"table",children:"Table"}),o.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),o.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.capacity)||100,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),o.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.cordCount)||10,required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(r==null?void 0:r.cordLength)||3,required:!0}),o.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),o.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(r==null?void 0:r.oystersPerCord)||130,required:!0})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),o.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(f=r==null?void 0:r.coordinates)==null?void 0:f.latitude,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),o.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(h=r==null?void 0:r.coordinates)==null?void 0:h.longitude,required:!0})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>{t(!1),n(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:r?"Mettre à jour":"Créer table"})]})]})]})})]})}const WD=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function hFe(){const[e,t]=I.useState(!1);return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[o.jsx(gr,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:WD.map(r=>o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:o.jsx(Q1,{size:20,className:"text-brand-burgundy"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:r.name}),o.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.symbol}),o.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:r.type})]}),r.description&&o.jsx("p",{className:"text-sm text-white/60 mt-1",children:r.description}),r.baseUnit&&o.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",r.symbol," = ",r.conversionFactor," ",r.baseUnit]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Os,{size:20,className:"text-white/60"})}),o.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(Ei,{size:20,className:"text-white/60"})})]})]})},r.id))}),e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),o.jsxs("form",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),o.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),o.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),o.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[o.jsx("option",{value:"weight",children:"Poids"}),o.jsx("option",{value:"volume",children:"Volume"}),o.jsx("option",{value:"quantity",children:"Quantité"}),o.jsx("option",{value:"dimension",children:"Dimension"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),o.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),o.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[o.jsx("option",{value:"",children:"Aucune"}),WD.map(r=>o.jsxs("option",{value:r.symbol,children:[r.name," (",r.symbol,")"]},r.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),o.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const pFe=[{id:"company",label:"Entreprise",icon:o.jsx(Jy,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:o.jsx(xs,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:o.jsx(xa,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:o.jsx(Hx,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:o.jsx(Th,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:o.jsx(Q1,{size:20}),description:"Configuration des unités de mesure"}];function Wz(){const[e,t]=I.useState("company"),r=()=>{switch(e){case"company":return o.jsx(tFe,{});case"roles":return o.jsx(aFe,{});case"products":return o.jsx(sFe,{});case"suppliers":return o.jsx(lFe,{});case"pricing":return o.jsx(uFe,{});case"locations":return o.jsx(fFe,{});case"units":return o.jsx(hFe,{});default:return null}};return o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 p-6 animate-fadeIn",children:[o.jsx("div",{className:"config-container",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full blur-lg"}),o.jsx(Zy,{size:24,className:"text-cyan-400 relative z-10","aria-hidden":"true"})]}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Configuration"})]})}),o.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[o.jsx("nav",{className:"col-span-3",children:o.jsx("div",{className:"config-container space-y-2",children:pFe.map(n=>o.jsxs("button",{onClick:()=>t(n.id),className:`
                  flex items-center w-full gap-3 px-4 py-3 rounded-lg transition-all duration-300
                  ${e===n.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}
                  min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40
                `,"aria-selected":e===n.id,role:"tab",children:[o.jsx("span",{className:"flex items-center justify-center w-5 h-5",children:n.icon}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium",children:n.label}),o.jsx("span",{className:"text-sm text-white/70",children:n.description})]})]},n.id))})}),o.jsx("main",{className:"col-span-9",children:o.jsx("div",{className:"config-container",children:o.jsx(Ir,{mode:"wait",children:o.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r()},e)})})})]})]})}const mFe=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],xFe={alert:Ai,success:Pp,info:Dp,warning:di},gFe={system:Dp,task:Oa,inventory:xa,quality:io,hr:xs},VD={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function vFe({searchQuery:e,filter:t}){const[r,n]=I.useState(null),[a,i]=I.useState(mFe),s=a.filter(d=>{const f=d.title.toLowerCase().includes(e.toLowerCase())||d.message.toLowerCase().includes(e.toLowerCase()),h=t==="all"||t==="unread"&&!d.read||t==="important"&&d.important;return f&&h}),l=d=>{i(a.map(f=>f.id===d?{...f,read:!0}:f))},c=d=>{i(a.map(f=>f.id===d?{...f,important:!f.important}:f))},u=d=>{i(a.filter(f=>f.id!==d))};return o.jsx("div",{className:"space-y-4",children:s.map(d=>{const f=xFe[d.type],h=gFe[d.category];return o.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${d.read?"":"bg-white/10"}`,children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg ${VD[d.type].split(" ")[0]} flex items-center justify-center`,children:o.jsx(f,{size:20,className:VD[d.type].split(" ")[1]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:d.title}),d.important&&o.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!d.read&&o.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),o.jsx("p",{className:"text-white/70 mt-1",children:d.message}),o.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(di,{size:16,className:"mr-1"}),er(new Date(d.timestamp),"PPp",{locale:xn})]}),o.jsx("div",{children:"•"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(h,{size:16,className:"mr-1"}),d.category]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>n(r===d.id?null:d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:o.jsx(J1,{size:20,className:"text-white/60"})}),r===d.id&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!d.read&&o.jsxs("button",{onClick:()=>l(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[o.jsx(uN,{size:16,className:"mr-2"}),"Marquer comme lu"]}),o.jsxs("button",{onClick:()=>c(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[o.jsx(Is,{size:16,className:"mr-2"}),d.important?"Retirer important":"Marquer important"]}),o.jsxs("button",{onClick:()=>u(d.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[o.jsx(Ei,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},d.id)})})}const V4=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],bFe=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],q4=["#ef4444","#22c55e","#3b82f6","#eab308"];function yFe(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:o.jsx(Dp,{size:20,className:"text-brand-burgundy"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),o.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:o.jsx(Ai,{size:20,className:"text-red-300"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),o.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:o.jsx(Pp,{size:20,className:"text-green-300"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),o.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:o.jsx(di,{size:20,className:"text-yellow-300"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),o.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),o.jsx("div",{className:"h-80",children:o.jsx(yb,{width:"100%",height:"100%",children:o.jsxs(wL,{children:[o.jsx(xc,{data:V4,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:V4.map((e,t)=>o.jsx(sg,{fill:q4[t%q4.length]},`cell-${t}`))}),o.jsx(Do,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:e=>`${e}%`})]})})}),o.jsx("div",{className:"mt-6 space-y-4",children:V4.map((e,t)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q4[t]}}),o.jsx("span",{className:"text-white/70",children:e.name})]}),o.jsxs("span",{className:"text-white",children:[e.value,"%"]})]},e.name))})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),o.jsx("div",{className:"h-80",children:o.jsx(yb,{width:"100%",height:"100%",children:o.jsxs(oye,{data:bFe,children:[o.jsx(mA,{strokeDasharray:"3 3",stroke:"#ffffff10"}),o.jsx(Gp,{dataKey:"date",stroke:"#ffffff60"}),o.jsx(Yp,{stroke:"#ffffff60"}),o.jsx(Do,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),o.jsx(uf,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function wFe({onClose:e}){return o.jsx(Gi,{isOpen:!0,onClose:e,title:"Paramètres des notifications",size:"xl",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Dp,{size:20,className:"text-white/60"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"Application"}),o.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Go,{size:20,className:"text-white/60"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"Email"}),o.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(cM,{size:20,className:"text-white/60"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"Mobile"}),o.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ds,{size:20,className:"text-white/60"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"SMS"}),o.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"Alertes système"}),o.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"Tâches"}),o.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"Stock"}),o.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"Qualité"}),o.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:"RH"}),o.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function _Fe(){const[e,t]=I.useState(!0),[r,n]=I.useState(!1),[a,i]=I.useState(""),[s,l]=I.useState("all");return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>t(!e),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(rM,{size:20,className:"mr-2"}),"Statistiques"]}),o.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(Zy,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),e&&o.jsx(yFe,{}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Da,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),o.jsx("input",{type:"text",value:a,onChange:c=>i(c.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-colors ${s==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),o.jsx("button",{onClick:()=>l("unread"),className:`px-4 py-2 rounded-lg transition-colors ${s==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),o.jsx("button",{onClick:()=>l("important"),className:`px-4 py-2 rounded-lg transition-colors ${s==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),o.jsx(vFe,{searchQuery:a,filter:s}),r&&o.jsx(wFe,{onClose:()=>n(!1)})]})}const Dj=({onClose:e,task:t})=>{const n=(x=>!x||!Array.isArray(x)?"":x.map(g=>{if(typeof g=="object"&&g!==null){const v=typeof g.author=="string"?g.author:g.author&&typeof g.author=="object"&&g.author.name?g.author.name:"Utilisateur",b=typeof g.content=="string"?g.content:JSON.stringify(g.content);return`${v}: ${b}`}return typeof g=="string"?g:JSON.stringify(g)}).join(`

`))(t==null?void 0:t.comments),{register:a,handleSubmit:i,formState:{errors:s},watch:l}=em({defaultValues:{...t||{},comments:n}}),[c,u]=I.useState("details"),[d,f]=I.useState(null),p=l("status")==="completed",m=async x=>{try{const g={...x,comments:(t==null?void 0:t.comments)||x.comments};console.log("Mise à jour de tâche:",g),e()}catch(g){console.error("Error updating task:",g)}};return o.jsx("div",{className:"modal-container",children:o.jsxs("form",{onSubmit:i(m),className:"space-y-6",children:[p&&o.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[o.jsx("button",{type:"button",className:`px-4 py-2 mr-2 transition-all ${c==="details"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("details"),"aria-label":"Afficher les détails de la tâche",children:o.jsx("div",{className:"flex items-center",children:"Détails"})}),o.jsx("button",{type:"button",className:`px-4 py-2 transition-all ${c==="performance"?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]":"text-white/60 hover:text-white hover:bg-white/5"}`,onClick:()=>u("performance"),"aria-label":"Afficher la performance de la tâche",children:o.jsx("div",{className:"flex items-center",children:"Performance"})})]}),c==="details"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white mb-1",htmlFor:"title",children:"Titre de la tâche"}),o.jsx("div",{className:"relative",children:o.jsx("input",{type:"text",...a("title",{required:"Le titre est requis"}),id:"title",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Entrez le titre de la tâche","aria-required":"true"})}),s.title&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.title.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white mb-1",htmlFor:"description",children:"Description"}),o.jsx("textarea",{...a("description"),id:"description",className:"w-full px-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[100px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Décrivez la tâche en détail"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white mb-1",htmlFor:"dueDate",children:"Date"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:o.jsx(Oa,{size:16})}),o.jsx("input",{type:"date",...a("dueDate",{required:"La date est requise"}),id:"dueDate",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-required":"true"})]}),s.dueDate&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.dueDate.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white mb-1",htmlFor:"assignedTo",children:"Assigné à"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:o.jsx(nf,{size:16})}),o.jsxs("select",{...a("assignedTo"),id:"assignedTo",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white appearance-none focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[o.jsx("option",{value:"",children:"Sélectionner un utilisateur"}),o.jsx("option",{value:"John Doe",children:"John Doe"}),o.jsx("option",{value:"Jane Smith",children:"Jane Smith"}),o.jsx("option",{value:"Alex Johnson",children:"Alex Johnson"})]}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white mb-1",htmlFor:"estimatedHours",children:"Heures estimées"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:o.jsx(di,{size:16})}),o.jsx("input",{type:"number",step:"0.5",...a("estimatedHours",{required:"Ce champ est requis",min:{value:.5,message:"Minimum 0.5 heure"},max:{value:100,message:"Maximum 100 heures"}}),id:"estimatedHours",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Heures","aria-required":"true"})]}),s.estimatedHours&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.estimatedHours.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white mb-1",htmlFor:"comments",children:"Commentaires"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-4 text-white/40",children:o.jsx(hc,{size:16})}),o.jsx("textarea",{...a("comments"),id:"comments",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white resize-y min-h-[80px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Ajoutez vos commentaires ici..."})]})]})]}),c==="performance"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-4 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Évaluation de la tâche"}),o.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start space-x-1",children:[1,2,3,4,5].map(x=>o.jsx("button",{type:"button",onClick:()=>f(x),className:`p-1 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-md transition-colors ${d&&d>=x?"text-yellow-400":"text-white/30 hover:text-white/50"}`,"aria-label":`Évaluer ${x} sur 5`,children:o.jsx(Is,{className:"w-5 h-5 sm:w-6 sm:h-6",fill:d&&d>=x?"currentColor":"none"})},x))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-white mb-1",htmlFor:"delay",children:"Retard (en jours)"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:o.jsx(Ua,{size:16})}),o.jsx("input",{type:"number",step:"1",...a("delay"),id:"delay",className:"w-full px-4 py-3 pl-10 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"0"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-white/10",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-white/30 text-white/70 hover:text-white transition-all min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Enregistrer"})]})]})})},NFe={low:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400",gradientClass:"from-green-500/10 to-transparent"},medium:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400",gradientClass:"from-amber-500/10 to-transparent"},high:{badgeClass:"text-red-300 bg-red-500/20 border-red-500/30",iconColor:"text-red-400",gradientClass:"from-red-500/10 to-transparent"}},jFe={pending:{badgeClass:"text-blue-300 bg-blue-500/20 border-blue-500/30",iconColor:"text-blue-400"},inProgress:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400"},completed:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400"},cancelled:{badgeClass:"text-gray-300 bg-gray-500/20 border-gray-500/30",iconColor:"text-gray-400"}},qD={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2}},exit:{opacity:0,y:20,transition:{duration:.2}}},SFe=[{id:"1",title:"Nettoyage des poches d'huîtres",description:"Nettoyer les poches d'huîtres dans la zone A pour éliminer les algues et sédiments. Vérifier l'état des attaches.",status:"completed",priority:"medium",dueDate:"2023-09-15",assignedTo:"Thomas Moreau",category:"Entretien",location:"Zone A - Parc 3",tags:["Nettoyage","Poches"],estimatedTime:6,actualTime:5,comments:[{author:"Jean Dupont",content:"J'ai remarqué que les attaches des poches 45 à 52 sont usées et devront être remplacées prochainement.",date:"2023-09-10T14:30:00",rating:4,attachments:[]},{author:"Thomas Moreau",content:"Nettoyage terminé avec efficacité. J'ai également remplacé quelques attaches qui étaient trop abîmées.",date:"2023-09-12T09:45:00",rating:5,attachments:["rapport-entretien.pdf"]}],delay:0,performance:{efficiency:100,quality:92,timeliness:100}},{id:"2",title:"Retournement des poches d'huîtres",description:"Retourner les poches dans les parcs 5 à 8 pour assurer une croissance uniforme des huîtres et réduire les déformations.",status:"in_progress",priority:"high",dueDate:"2023-09-25",assignedTo:"Marie Lefèvre",category:"Manipulation",location:"Zone B - Parcs 5-8",tags:["Retournement","Croissance"],estimatedTime:10,actualTime:8,comments:[{author:"Marie Lefèvre",content:"Les parcs 5 et 6 sont terminés. J'ai remarqué une forte présence de naissain naturel sur certaines poches.",date:"2023-09-18T10:15:00",rating:3,attachments:["observations.jpg"]}],delay:0,performance:{efficiency:70,quality:85,timeliness:90}},{id:"3",title:"Tri et calibrage des huîtres",description:"Trier et calibrer les huîtres du lot 2023-B pour séparer les différentes tailles et déterminer celles prêtes pour la vente.",status:"pending",priority:"medium",dueDate:"2023-09-30",assignedTo:"Pierre Dubois",category:"Tri",location:"Atelier principal",tags:["Calibrage","Tri","Vente"],estimatedTime:8,actualTime:0,comments:[{author:"Pierre Dubois",content:"J'ai préparé la zone de tri et vérifié l'état de la calibreuse automatique.",date:"2023-09-17T11:00:00",rating:0,attachments:["vérification-machine.pdf"]}],delay:0},{id:"4",title:"Mise en claire des huîtres spéciales",description:"Transférer les huîtres spéciales sélectionnées vers les claires pour l'affinage avant la période de fêtes. Vérifier la salinité et le phytoplancton.",status:"pending",priority:"low",dueDate:"2023-10-05",assignedTo:"Sophie Martin",category:"Affinage",location:"Claires - Marais Est",tags:["Affinage","Spéciales","Préparation fêtes"],estimatedTime:5,actualTime:0,comments:[]}];function AFe({searchQuery:e,onTaskSelect:t}){const[r,n]=I.useState(null),[a,i]=I.useState([]),[s,l]=I.useState(null),[c,u]=I.useState(!1),[d,f]=I.useState(!1),[h,p]=I.useState(""),[m,x]=I.useState(null),[g,v]=I.useState(!1),[b,y]=I.useState({}),[_,N]=I.useState(""),[S,j]=I.useState("");I.useState(!0),I.useState({top:0,left:0});const[A,T]=I.useState(!1),[F,O]=I.useState(null),[E,L]=I.useState(SFe),B=I.useMemo(()=>E.filter(q=>q.title.toLowerCase().includes(e.toLowerCase())||q.description&&q.description.toLowerCase().includes(e.toLowerCase())),[E,e]),G=q=>{const Me=B.find(De=>De.id===q);if(!Me)return 0;const Le=Me.estimatedTime||8,_e=Me.actualTime||Math.random()*Le*1.5;let ne=0;if(_e<Le)ne=Math.round(Le/_e*100);else if(_e===Le)ne=100;else{const De=_e/Le;De<=1.1?ne=90:De<=1.25?ne=75:De<=1.5?ne=60:De<=2?ne=40:ne=20}return Math.round(ne)},z=q=>q>=100||q>=90?"text-green-500":q>=75?"text-green-400":q>=60?"text-yellow-400":q>=40?"text-amber-500":"text-red-500",V=q=>{i(Me=>Me.includes(q)?Me.filter(Le=>Le!==q):[...Me,q])},Y=(q,Me)=>{Me&&Me.stopPropagation(),x(q.id),n(q)},U=q=>{O(q),T(!0)},ae=()=>{F&&(L(q=>q.filter(Me=>Me.id!==F)),s&&s.id===F&&l(null),r&&r.id===F&&n(null),console.log(`Task deleted: ${F}`),T(!1),O(null))},he=()=>{T(!1),O(null)},k=q=>{g&&x(q.id)},P=q=>new Date(q).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),R=(q,Me)=>{Me.stopPropagation(),x(q),u(!0)},H=(q,Me)=>{Me.stopPropagation(),x(q),f(!0)},X=(q,Me)=>{q&&q.stopPropagation(),typeof Me=="function"&&Me(Me===l||Me===n?null:!1)},oe=q=>{q&&(q.stopPropagation(),q.preventDefault()),n(null)},fe=q=>{q.stopPropagation(),q.preventDefault()},re=()=>{m&&h&&(console.log(`Commentaire ajouté pour la tâche ${m}:`,h),p(""),u(!1))},ve=()=>{m&&_&&(console.log(`Retard signalé pour la tâche ${m}:`,{raison:_,durée:S}),N(""),j(""),f(!1))};I.useEffect(()=>{const q={};B.forEach(Me=>{q[Me.id]=K.createRef()}),y(q)},[B]),I.useEffect(()=>{const q=()=>{v(window.innerWidth<=768)};return q(),window.addEventListener("resize",q),()=>{window.removeEventListener("resize",q)}},[]);const Ce=!g;return o.jsxs("div",{className:`task-list ${g?"isResponsive":""}`,children:[B.length===0?o.jsxs("div",{className:"empty-task-state",children:[o.jsx("div",{className:"empty-task-icon",children:o.jsx(OW,{size:40})}),o.jsx("h3",{className:"empty-task-title",children:"Aucune tâche trouvée"}),o.jsx("p",{className:"empty-task-text",children:"Commencez à ajouter de nouvelles tâches ou modifiez vos critères de recherche."})]}):o.jsx("div",{className:"task-grid",children:B.map(q=>{var se,ce;const Me=q.priority,Le=q.status,_e=a.includes(q.id),ne=Le==="completed"?"Terminée":Le==="in_progress"?"En cours":"En attente",De=Le==="completed"?"completed":Le==="in_progress"?"inProgress":"pending";return o.jsxs("div",{className:"task-card-wrapper",ref:b[q.id],children:[g&&m===q.id&&o.jsxs(o.Fragment,{children:[c&&o.jsx("div",{className:"modal-responsive-container",onClick:ye=>X(ye,u),children:o.jsxs("div",{className:"modal-responsive-content",onClick:fe,children:[o.jsxs("div",{className:"modal-responsive-header",children:[o.jsx("h3",{children:"Ajouter un commentaire"}),o.jsx("button",{onClick:ye=>X(ye,u),className:"modal-responsive-close",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("textarea",{value:h,onChange:ye=>p(ye.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),o.jsxs("div",{className:"flex justify-end mt-4",children:[o.jsx("button",{onClick:ye=>X(ye,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),o.jsx("button",{onClick:re,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!h.trim(),children:"Envoyer"})]})]})]})}),d&&o.jsx("div",{className:"modal-responsive-container",onClick:ye=>X(ye,f),children:o.jsxs("div",{className:"modal-responsive-content",onClick:fe,children:[o.jsxs("div",{className:"modal-responsive-header",children:[o.jsx("h3",{children:"Signaler un retard"}),o.jsx("button",{onClick:ye=>X(ye,f),className:"modal-responsive-close",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),o.jsx("textarea",{value:_,onChange:ye=>N(ye.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),o.jsx("input",{type:"text",value:S,onChange:ye=>j(ye.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),o.jsxs("div",{className:"flex justify-end mt-4",children:[o.jsx("button",{onClick:ye=>X(ye,f),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),o.jsx("button",{onClick:ve,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!_.trim(),children:"Signaler"})]})]})]})}),o.jsx(Ir,{children:r&&r.id===q.id&&o.jsx(ke.div,{className:"modal-responsive-container edit-modal-responsive",onClick:oe,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(ke.div,{className:"modal-responsive-content edit-modal-responsive-content",onClick:fe,variants:qD,initial:"hidden",animate:"visible",exit:"exit",children:[o.jsxs("div",{className:"modal-responsive-header",children:[o.jsx("h3",{children:"Modifier la tâche"}),o.jsx("button",{onClick:oe,className:"modal-responsive-close",children:o.jsx(Gt,{size:20})})]}),o.jsx("div",{className:"p-4",children:o.jsx(Dj,{onClose:oe,task:r})})]})})})]}),o.jsxs("div",{className:"task-card",onClick:()=>k(q),children:[o.jsx("div",{className:`task-card-header ${NFe[Me].gradientClass}`,children:o.jsxs("div",{className:"task-header-content",children:[o.jsxs("div",{className:"task-header-left",children:[q.status==="completed"&&o.jsx("div",{className:"ml-2 flex items-center",children:o.jsxs("div",{className:"efficiency-indicator flex items-center",title:"Pourcentage de rendement basé sur le temps",children:[o.jsx("span",{className:"text-xs text-white/60 mr-1",children:"Rendement:"}),o.jsxs("span",{className:`text-sm font-medium ${z(G(q.id))}`,children:[G(q.id),"%"]})]})}),o.jsx("div",{className:"status-container",children:o.jsx("div",{className:`status-badge ${jFe[De].badgeClass}`,children:o.jsx("span",{children:ne})})})]}),o.jsx("div",{className:"task-header-right",children:o.jsx("button",{className:"expand-task-btn p-1.5 rounded-full hover:bg-white/10 transition-colors",onClick:ye=>{ye.stopPropagation(),V(q.id)},"aria-label":_e?"Réduire":"Développer",children:_e?o.jsx(iS,{className:"transition-transform duration-200",size:16}):o.jsx(tf,{className:"transition-transform duration-200",size:16})})})]})}),o.jsxs("div",{className:`task-card-body ${_e?"expanded":""}`,children:[o.jsx("h3",{className:"task-title",children:q.title}),o.jsx("p",{className:"task-description",children:q.description}),o.jsxs("div",{className:"task-metadata",children:[q.dueDate&&o.jsxs("div",{className:"metadata-item",children:[o.jsx(Oa,{size:14,className:"metadata-icon"}),o.jsx("span",{children:P(q.dueDate)})]}),q.assignedTo&&o.jsxs("div",{className:"metadata-item",children:[o.jsx(nf,{size:14,className:"metadata-icon"}),o.jsx("span",{children:q.assignedTo})]}),q.location&&o.jsxs("div",{className:"metadata-item",children:[o.jsx(fi,{size:14,className:"metadata-icon"}),o.jsx("span",{children:q.location})]})]}),o.jsxs("div",{className:`expanded-content ${_e?"expanded":""}`,children:[o.jsxs("div",{className:"task-tags",children:[q.category&&o.jsxs("div",{className:"task-tag",children:[o.jsx(d0,{size:12}),o.jsx("span",{children:q.category})]}),q.title.toLowerCase().includes("inspection")&&o.jsxs("div",{className:"task-tag",children:[o.jsx(d0,{size:12}),o.jsx("span",{children:"inspection"})]}),q.title.toLowerCase().includes("qualité")||((se=q.description)==null?void 0:se.toLowerCase().includes("qualité"))&&o.jsxs("div",{className:"task-tag",children:[o.jsx(d0,{size:12}),o.jsx("span",{children:"qualité"})]}),q.title.toLowerCase().includes("huître")||((ce=q.description)==null?void 0:ce.toLowerCase().includes("huître"))&&o.jsxs("div",{className:"task-tag",children:[o.jsx(d0,{size:12}),o.jsx("span",{children:"huîtres"})]})]}),o.jsxs("div",{className:"task-actions flex flex-col gap-2 w-full",children:[o.jsxs("div",{className:"flex justify-between w-full gap-2",children:[o.jsxs("button",{className:"delay-btn comment-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ye=>R(q.id,ye),"aria-label":"Commenter",title:"Commenter",children:[o.jsx(hc,{size:16,className:"text-blue-400 mr-2"}),o.jsx("span",{className:"text-s",children:"Commenter"})]}),o.jsxs("button",{className:"delay-btn p-1.5 rounded-md hover:bg-white/10 transition-colors flex items-center justify-center w-1/2",onClick:ye=>H(q.id,ye),"aria-label":"Signaler un retard",title:"Signaler un retard",children:[o.jsx(Ua,{size:16,className:"text-amber-400 mr-2"}),o.jsx("span",{className:"text-s",children:"Signaler un retard"})]})]}),o.jsxs("div",{className:"flex justify-between w-full gap-2",children:[o.jsxs("button",{className:"task-action-btn edit w-1/2",onClick:ye=>Y(q,ye),"aria-label":"Modifier",title:"Modifier",children:[o.jsx(sS,{size:14}),o.jsx("span",{children:"Modifier"})]}),o.jsxs("button",{className:"task-action-btn delete w-1/2",onClick:ye=>{ye.stopPropagation(),U(q.id)},children:[o.jsx(Ei,{size:14}),o.jsx("span",{children:"Supprimer"})]})]})]})]}),o.jsx("div",{className:"performance-details",children:_e&&q.status==="completed"&&o.jsxs("div",{className:"bg-white/5 mt-3 p-3 rounded-lg border border-white/10",children:[o.jsxs("h4",{className:"text-sm font-medium text-white mb-2 flex items-center",children:[o.jsx(di,{size:14,className:"mr-1.5 text-yellow-400"}),"Évaluation du temps de réalisation"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps prévu"}),o.jsxs("div",{className:"text-sm text-white",children:[q.estimatedTime||8," heures"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps réel"}),o.jsxs("div",{className:"text-sm text-white",children:[q.actualTime||Math.round((Math.random()*.5+.75)*(q.estimatedTime||8)*10)/10," heures"]})]}),o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Rendement"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full",children:o.jsx("div",{className:"h-full rounded-full bg-green-500",style:{width:`${Math.min(100,G(q.id))}%`}})}),o.jsxs("span",{className:`ml-2 text-sm font-medium ${z(G(q.id))}`,children:[G(q.id),"%"]})]})]})]})]})})]})]}),A&&F===q.id&&o.jsx("div",{className:"modal-responsive-container",onClick:he,children:o.jsxs("div",{className:"modal-responsive-content",onClick:ye=>ye.stopPropagation(),children:[o.jsxs("div",{className:"modal-responsive-header",children:[o.jsx("h3",{className:"text-white text-lg font-medium",children:"Confirmer la suppression"}),o.jsx("button",{onClick:he,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:o.jsx(Gt,{size:20})})]}),o.jsx("div",{className:"modal-responsive-body",children:o.jsx("p",{className:"text-white/90",children:"Êtes-vous sûr de vouloir supprimer cette tâche ? Cette action est irréversible."})}),o.jsxs("div",{className:"modal-responsive-footer",children:[o.jsx("button",{onClick:he,className:"px-4 py-2 text-white/80 hover:text-white",children:"Annuler"}),o.jsx("button",{onClick:ae,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Supprimer"})]})]})})]},q.id)})}),o.jsx(Ir,{}),o.jsx(Ir,{children:r&&Ce&&o.jsx(ke.div,{className:"fixed inset-0 bg-black/70 z-50 motion-div-overlay task-list-container-modal edit-task-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:q=>X(q,n),children:o.jsxs(ke.div,{className:"p-4 sm:p-6 rounded-lg max-w-2xl w-full mx-2 sm:mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 edit-modal-content task-list-container-modal-content",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:fe,variants:qD,initial:"hidden",animate:"visible",exit:"exit",children:[o.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-white text-lg font-medium",children:"Modifier la tâche"}),o.jsx("button",{onClick:()=>X(null,n),className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center",children:o.jsx(Gt,{size:20})})]}),o.jsx(Dj,{onClose:()=>X(null,n),task:r})]})]})})}),c&&Ce&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>X(null,u),children:o.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:q=>q.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-white text-lg font-medium",children:"Ajouter un commentaire"}),o.jsx("button",{onClick:()=>X(null,u),className:"text-white/60 hover:text-white",children:o.jsx(Gt,{size:20})})]}),o.jsx("textarea",{value:h,onChange:q=>p(q.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-32",placeholder:"Écrivez votre commentaire ici..."}),o.jsxs("div",{className:"flex justify-end mt-4",children:[o.jsx("button",{onClick:()=>X(null,u),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),o.jsx("button",{onClick:re,className:"px-4 py-2 bg-brand-teal text-white rounded-lg hover:bg-brand-teal/90 disabled:opacity-50",disabled:!h.trim(),children:"Envoyer"})]})]})}),d&&Ce&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",onClick:()=>X(null,f),children:o.jsxs("div",{className:"border border-white/10 rounded-lg p-4 w-full max-w-md mx-4",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:q=>q.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-white text-lg font-medium",children:"Signaler un retard"}),o.jsx("button",{onClick:()=>X(null,f),className:"text-white/60 hover:text-white",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-white mb-2",children:"Raison du retard"}),o.jsx("textarea",{value:_,onChange:q=>N(q.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white resize-none h-20",placeholder:"Expliquez la raison du retard..."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-white mb-2",children:"Durée estimée du retard"}),o.jsx("input",{type:"text",value:S,onChange:q=>j(q.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white",placeholder:"Exemple: 3 jours, 2 semaines, etc."})]}),o.jsxs("div",{className:"flex justify-end mt-4",children:[o.jsx("button",{onClick:()=>X(null,f),className:"px-4 py-2 text-white/80 hover:text-white mr-2",children:"Annuler"}),o.jsx("button",{onClick:ve,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50",disabled:!_.trim(),children:"Signaler"})]})]})})]})}const CFe=({value:e,maxValue:t=100,color:r})=>{const n=Math.min(100,Math.round(e/t*100));return o.jsx("div",{className:"relative h-2 w-full bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${n}%`,backgroundColor:r}})})},EFe=({currentSize:e,targetSize:t,progress:r})=>{const n=["T15","N°5","N°4","N°3","N°2","N°1"],a=()=>r>100?"#ef4444":r>=85?"#22c55e":(r>=70,"#3b82f6");return o.jsxs("div",{className:"mt-4 mb-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("div",{className:"text-white/70 text-xs",children:"Début"}),o.jsx("div",{className:"text-white/70 text-xs",children:"Objectif"}),o.jsx("div",{className:"text-white/70 text-xs",children:"Final"})]}),o.jsxs("div",{className:"relative h-3 w-full rounded-full overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to right, #3b82f6, #3b82f6 30%, #3b82f6 50%, #3b82f6 75%, #22c55e 85%, #eab308 95%, #ef4444)"}}),o.jsx("div",{className:"absolute inset-y-0 right-0 bg-gray-900/70 rounded-r-full transition-all duration-1000 ease-out",style:{width:`${100-r}%`}}),o.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-white/70",style:{left:"85%"}}),o.jsxs("div",{className:"absolute top-1/2 z-10 -translate-y-1/2 transition-all duration-1000",style:{left:`${r}%`},children:[o.jsx(ke.div,{className:"absolute -inset-2 rounded-full opacity-30",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{backgroundColor:a()}}),o.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg border-2 border-white z-20",style:{backgroundColor:a()}})]})]}),o.jsx("div",{className:"flex justify-between mt-1",children:n.map((i,s)=>o.jsx("div",{className:`text-xs ${i===e?"text-white font-bold":i===t?"text-green-400 font-bold":"text-white/50"}`,children:i},s))})]})},kFe=({occupancy:e})=>{const t=Array.from({length:10},(a,i)=>i+1),r=e/100*10,n="w-full h-7 rounded-sm border border-white/10";return o.jsx("div",{className:"grid grid-cols-10 gap-1 w-full mt-2",style:{backgroundColor:"rgb(7, 26, 64)"},children:t.map(a=>{const i=a===Math.ceil(r)&&!Number.isInteger(r),s=a<=Math.floor(r);return a===1?o.jsx("div",{className:`${n} bg-transparent`},a):s?o.jsx("div",{className:`${n} bg-[#a02648]`},a):i?o.jsx("div",{className:`${n} relative overflow-hidden`,children:o.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-[#a02648]",style:{width:"50%"}})},a):o.jsx("div",{className:`${n} bg-transparent`},a)})})},TFe=()=>{const e=[{date:"13/01/2025",action:"Échantillonnage",user:"Sophie L."},{date:"12/01/2025",action:"Vider 15 cordes",user:"Marc D."},{date:"11/01/2025",action:"Vider 15 cordes",user:"Jean F."},{date:"10/01/2025",action:"Vider 15 cordes",user:"Pierre M."}];return o.jsx("div",{className:"space-y-3 mt-4",children:e.map((t,r)=>o.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 rounded-full bg-white/10",children:o.jsx(PW,{size:16,className:"text-blue-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:t.action}),o.jsx("div",{className:"text-sm text-white/60",children:t.date})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(nf,{size:16,className:"text-white/40 mr-1"}),o.jsx("span",{className:"text-white/70",children:t.user})]})]},r))})};function OFe({table:e,onClose:t}){const r=tg(t),n=e.alert||e.timeProgress>100,[a,i]=I.useState("info");return o.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6",style:{WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:o.jsxs(ke.div,{ref:r,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},className:"glass-effect shadow-glass w-full max-w-4xl rounded-xl overflow-hidden relative",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-900/80 to-brand-burgundy/80 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full"}),o.jsx(Hn,{size:24,className:"text-white relative z-10"})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:e.name}),o.jsx("p",{className:"text-white/70",children:e.type}),e.status&&o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 mt-2 rounded-full text-xs font-medium bg-white/10 text-white/80",children:e.status})]})]}),o.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-full","aria-label":"Fermer",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex border-b border-white/10",children:[o.jsx("button",{onClick:()=>i("info"),className:`px-4 py-2 font-medium transition-colors ${a==="info"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Informations"}),o.jsx("button",{onClick:()=>i("history"),className:`px-4 py-2 font-medium transition-colors ${a==="history"?"text-white border-b-2 border-brand-burgundy":"text-white/60 hover:text-white/80"}`,children:"Historique"})]}),a==="info"&&o.jsxs(o.Fragment,{children:[o.jsxs(ke.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5},className:"glass-effect rounded-xl p-6 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[o.jsx(Li,{size:18,className:"mr-2 text-blue-400"}),"Occupation de la table"]}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"text-2xl font-bold text-white",children:[e.occupancy,"%"]}),o.jsxs("div",{className:"text-sm text-white/60",children:[Math.round(e.occupancy*.1),"/10 unités"]})]}),o.jsx(kFe,{occupancy:e.occupancy}),e.alert&&o.jsxs("div",{className:"flex items-center p-3 bg-red-500/20 rounded-lg mt-3",children:[o.jsx(Ua,{size:16,className:"text-red-400 mr-2 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-white",children:e.alert})]})]}),o.jsxs(ke.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.1},className:"glass-effect rounded-xl p-6 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[o.jsx(Xy,{size:18,className:"mr-2 text-blue-400"}),"Progression du calibre"]}),n&&o.jsxs("div",{className:"flex items-center p-3 bg-amber-500/20 rounded-lg",children:[o.jsx(Ai,{size:16,className:"text-amber-400 mr-2 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-white",children:e.alert||"Calibre dépassé"})]}),o.jsx(EFe,{currentSize:e.currentSize,targetSize:e.targetSize,progress:e.timeProgress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[o.jsx("div",{className:"text-white/60",children:"Calibre actuel"}),o.jsx("div",{className:"text-white font-semibold text-lg",children:e.currentSize})]}),o.jsxs("div",{className:"glass-effect rounded-lg p-3",children:[o.jsx("div",{className:"text-white/60",children:"Calibre cible"}),o.jsx("div",{className:"text-white font-semibold text-lg",children:e.targetSize})]})]})]}),o.jsxs(ke.div,{initial:{opacity:0,transform:"translateY(10px)"},animate:{opacity:1,transform:"translateY(0)"},transition:{duration:.5,delay:.2},className:"glass-effect rounded-xl p-6 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[o.jsx(Oa,{size:18,className:"mr-2 text-blue-400"}),"Informations de production"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60 mb-1",children:"Date de démarrage"}),o.jsx("div",{className:"text-white font-medium",children:e.startDate})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/60 mb-1",children:"Date de récolte prévue"}),o.jsx("div",{className:"text-white font-medium",children:e.harvestDate})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("div",{className:"text-white/60",children:"Taux de mortalité"}),o.jsxs("div",{className:`text-sm ${e.mortality>20?"text-red-400":e.mortality>15?"text-amber-400":"text-green-400"}`,children:[e.mortality,"%"]})]}),o.jsx(CFe,{value:e.mortality,maxValue:30,color:e.mortality<=15?"#22c55e":e.mortality<=20?"#eab308":"#ef4444"})]})]})]}),a==="history"&&o.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"glass-effect rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des manipulations"}),o.jsx(TFe,{})]})]})]})})}const b2=[{id:"1",title:"Inspection des huîtres",description:"Vérification de la qualité et de la taille des huîtres dans le parc A.",priority:"high",status:"pending",dueDate:"2025-03-15",category:"Qualité",assignedTo:"Jean Dupont",estimatedTime:3,location:"Parc A - Zone Nord",tags:["inspection","qualité","huîtres"]},{id:"2",title:"Maintenance des poches",description:"Entretien et rotation des poches d'huîtres pour optimiser la croissance.",priority:"medium",status:"in_progress",dueDate:"2025-03-14",category:"Maintenance",assignedTo:"Marie Martin",estimatedTime:5,location:"Parc B - Filière 3",tags:["maintenance","poches","rotation"]},{id:"3",title:"Analyse de l'eau",description:"Prélèvement et analyse des échantillons d'eau pour surveiller la qualité du milieu.",priority:"medium",status:"completed",dueDate:"2025-03-10",category:"Environnement",assignedTo:"Sophie Bernard",estimatedTime:2,actualTime:1.5,location:"Laboratoire",tags:["analyse","eau","qualité"]},{id:"4",title:"Préparation commandes",description:"Préparation des commandes pour livraison aux restaurants locaux.",priority:"high",status:"in_progress",dueDate:"2025-03-13",category:"Logistique",assignedTo:"Thomas Leroy",estimatedTime:4,location:"Zone de conditionnement",tags:["commandes","livraison","restaurants"]},{id:"5",title:"Contrôle des naissains",description:"Vérification de la croissance des naissains et ajustement des conditions.",priority:"low",status:"pending",dueDate:"2025-03-18",category:"Production",assignedTo:"Julie Moreau",estimatedTime:3,location:"Écloserie",tags:["naissains","croissance","surveillance"]}];function y2({title:e,value:t,icon:r,color:n,onClick:a}){const i=()=>{switch(n){case"green":return"bg-emerald-500/20 text-emerald-400";case"blue":return"bg-blue-500/20 text-blue-400";case"yellow":return"bg-amber-500/20 text-amber-400";case"red":return"bg-red-500/20 text-red-400";default:return"bg-cyan-500/20 text-cyan-400"}};return o.jsx("div",{onClick:a,className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[120px] flex items-center stats-card to-block",children:o.jsxs("div",{className:"flex items-center gap-4 direction-column",children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${i()} flex items-center justify-center`,children:r}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70 text-sm",children:e}),o.jsx("h3",{className:"text-2xl font-bold text-white",children:t})]})]})})}const GD={hidden:{opacity:0,transform:"translate3d(0, 20px, 0)"},visible:{opacity:1,transform:"translate3d(0, 0, 0)",transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transform:"translate3d(0, 20px, 0)",transition:{duration:.2,ease:"easeIn"}}};function PFe(){var g;uo();const[e,t]=I.useState(""),[r,n]=I.useState(null),[a,i]=I.useState(!1),{session:s}=Yo();(g=s==null?void 0:s.user)==null||g.role;const l=()=>{n(null)},c=()=>{i(!0)},u=()=>{i(!1)},d=v=>{console.log(`Filtering tasks by status: ${v}`)},f=v=>{console.log(`Filtering tasks by priority: ${v}`)},h=b2.filter(v=>v.status==="pending").length,p=b2.filter(v=>v.status==="in_progress").length,m=b2.filter(v=>v.status==="completed").length,x=b2.filter(v=>v.priority==="high").length;return o.jsxs("div",{className:"task-page-wrapper",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-4 sm:p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-page-header",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 task-page-header",children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex justify-start items-center gap-2 mb-4 header-content",children:[o.jsx("span",{className:"header-icon",children:o.jsx("span",{className:"icon-inner",children:o.jsx(DW,{size:28,className:"text-cyan-400","aria-hidden":"true"})})}),o.jsx("span",{className:"header-title",children:"Gestion des Tâches"})]}),o.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-3 action-buttons items-center",children:[o.jsxs("div",{className:"relative search-container w-full md:w-1/2",children:[o.jsx(Da,{size:18,className:"search-icon absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60 pointer-events-none","aria-hidden":"true"}),o.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",className:"pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] text-white w-full h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",value:e,onChange:v=>t(v.target.value)})]}),o.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] whitespace-nowrap h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 action-button w-full md:w-1/2","aria-label":"Ajouter une nouvelle tâche",children:[o.jsx(gr,{size:18,"aria-hidden":"true"}),o.jsx("span",{children:"Nouvelle tâche"})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 stats-container",children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[o.jsx(y2,{title:"En attente",value:h,icon:o.jsx(di,{size:20,className:"text-amber-500","aria-hidden":"true"}),color:"amber",onClick:()=>d("pending")}),o.jsx(y2,{title:"En cours",value:p,icon:o.jsx(hN,{size:20,className:"text-blue-500","aria-hidden":"true"}),color:"blue",onClick:()=>d("in_progress")})]}),o.jsx("div",{className:"w-full lg:w-1/5 flex justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 flex items-center justify-center",children:o.jsx(DE,{className:"h-10 w-10 text-cyan-400","aria-hidden":"true"})}),o.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mt-2",children:"Tâches en cours"}),o.jsx("p",{className:"text-sm text-white/60",children:er(new Date,"d MMMM yyyy",{locale:xn})})]})}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-4 w-full lg:w-2/5 stats-grid",children:[o.jsx(y2,{title:"Terminées",value:m,icon:o.jsx(Pp,{size:20,className:"text-green-500","aria-hidden":"true"}),color:"green",onClick:()=>d("completed")}),o.jsx(y2,{title:"Prioritaires",value:x,icon:o.jsx(Ua,{size:20,className:"text-red-500","aria-hidden":"true"}),color:"red",onClick:()=>f("high")})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 mb-6 task-list-container",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 task-list-header",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:o.jsx(DE,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-medium text-white",children:"Liste des tâches"}),o.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",er(new Date,"d MMMM yyyy 'à' HH:mm",{locale:xn})]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:-translate-y-1 filter-button","aria-label":"Filtrer les tâches",children:[o.jsx(qi,{size:16,className:"text-white/70","aria-hidden":"true"}),o.jsx("span",{className:"text-white/70 text-sm",children:"Filtrer"})]})})]}),o.jsx(AFe,{searchQuery:e})]}),o.jsx(Ir,{children:a&&o.jsx(ke.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay task-list-container-modal",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:u,children:o.jsxs(ke.div,{className:"p-6 rounded-lg max-w-2xl w-full mx-4 overflow-hidden border border-white/10 border-t-white/20 border-l-white/20 new-task-modal",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset"},onClick:v=>v.stopPropagation(),variants:GD,initial:"hidden",animate:"visible",exit:"exit",children:[o.jsx("div",{className:"absolute -inset-[1px] bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg blur-lg opacity-70 pointer-events-none"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/10 pb-4 new-task-modal-header",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:o.jsx(gr,{size:20,className:"text-cyan-400","aria-hidden":"true"})}),o.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent new-task-modal-title",children:"Nouvelle tâche"})]}),o.jsx("button",{onClick:u,className:"text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300 transform hover:rotate-90 new-task-modal-close","aria-label":"Fermer",children:o.jsx(Gt,{size:20,"aria-hidden":"true"})})]}),o.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar new-task-modal-body",children:o.jsx(Dj,{onClose:u})})]})]})})}),o.jsxs("div",{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300 activity-report-container",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6 activity-report-header",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:o.jsx(IW,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-medium text-white",children:"Rapport d'activité"}),o.jsx("p",{className:"text-sm text-white/60",children:"Performances et analyses"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 stats-grid",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[o.jsx("h3",{className:"text-lg text-white mb-2",children:"Efficacité"}),o.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"87%"}),o.jsx("p",{className:"text-sm text-white/60 mt-1",children:"+2% depuis la semaine dernière"})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[o.jsx("h3",{className:"text-lg text-white mb-2",children:"Temps moyen"}),o.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"3.2h"}),o.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Par tâche complétée"})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[o.jsx("h3",{className:"text-lg text-white mb-2",children:"Priorité"}),o.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"12"}),o.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Tâches à traiter cette semaine"})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] transition-all stats-card",children:[o.jsx("h3",{className:"text-lg text-white mb-2",children:"Score global"}),o.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"A+"}),o.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Excellent niveau de performance"})]})]}),o.jsx("div",{className:"flex justify-center md:justify-end mt-4",children:o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1 export-button",children:[o.jsx(Ho,{size:18,"aria-hidden":"true"}),o.jsx("span",{children:"Exporter le rapport"})]})})]}),o.jsx(Ir,{children:r&&o.jsx(ke.div,{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 motion-div-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,children:o.jsx(ke.div,{className:"bg-gradient-to-br from-[rgb(15,23,42)] to-[rgb(20,100,100)] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 max-w-4xl w-full mx-4",variants:GD,initial:"hidden",animate:"visible",exit:"exit",onClick:v=>v.stopPropagation(),children:o.jsx(OFe,{table:r,onClose:l})})})})]})}function DFe({table:e}){const t=uo();return o.jsx("div",{className:"flex-1 pt-24",children:o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors text-white/60 hover:text-white/90",children:o.jsx(iM,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Bouzigues"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("p",{className:"text-white/60",children:"T-1234"}),o.jsx("button",{className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:o.jsx(sS,{size:14,className:"text-white/60"})})]})]})]})})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-thermometer mr-2 text-brand-burgundy",children:o.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),"Température"]}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-droplets mr-2 text-brand-primary",children:[o.jsx("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}),o.jsx("path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"})]}),"Salinité"]}),o.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clock mr-2 text-brand-tertiary",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Échantillonnage"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),o.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),o.jsx("span",{className:"text-white",children:"26 févr. 2025"})]}),o.jsx("div",{className:"pt-2 border-t border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),o.jsx("span",{className:"text-lg font-medium text-yellow-400",children:"2.5%"})]})})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shell mr-2 text-brand-burgundy",children:o.jsx("path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44"})}),"Lot en cours"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/60",children:"Calibre"}),o.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/60",children:"Quantité"}),o.jsx("span",{className:"text-white font-medium",children:"300 unités"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),o.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[o.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-file-spreadsheet mr-2 text-brand-tertiary",children:[o.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),o.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),o.jsx("path",{d:"M8 13h2"}),o.jsx("path",{d:"M14 13h2"}),o.jsx("path",{d:"M8 17h2"}),o.jsx("path",{d:"M14 17h2"})]}),"Importation de données"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),o.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-download mr-1",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7 10 12 15 17 10"}),o.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),"Télécharger un modèle de fichier"]}),o.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-upload",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),"Importer des données"]})]})]})]})})}function IFe(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function MFe(e,t){t===void 0&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var FFe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RFe=function(e){FFe(t,e);function t(r,n){var a=this.constructor,i=e.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),IFe(i,a.prototype),MFe(i),i}return t}(Error),LFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ls=function(e){LFe(t,e);function t(r){r===void 0&&(r=void 0);var n=e.call(this,r)||this;return n.message=r,n}return t.prototype.getKind=function(){var r=this.constructor;return r.kind},t.kind="Exception",t}(RFe),BFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ua=function(e){BFe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArgumentException",t}(Ls),$Fe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lt=function(e){$Fe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(Ls),Vz=function(){function e(t){if(this.binarizer=t,t===null)throw new Lt("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(t,r){return this.binarizer.getBlackRow(t,r)},e.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,r,n,a){var i=this.binarizer.getLuminanceSource().crop(t,r,n,a);return new e(this.binarizer.createBinarizer(i))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},e}(),zFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ta=function(e){zFe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(Ls),UFe=function(){function e(t){this.source=t}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}(),Sn=function(){function e(){}return e.arraycopy=function(t,r,n,a,i){for(;i--;)n[a++]=t[r++]},e.currentTimeMillis=function(){return Date.now()},e}(),HFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$C=function(e){HFe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(Ls),WFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YD=function(e){WFe(t,e);function t(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=e.call(this,n)||this;return a.index=r,a.message=n,a}return t.kind="ArrayIndexOutOfBoundsException",t}($C),VFe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qa=function(){function e(){}return e.fill=function(t,r){for(var n=0,a=t.length;n<a;n++)t[n]=r},e.fillWithin=function(t,r,n,a){e.rangeCheck(t.length,r,n);for(var i=r;i<n;i++)t[i]=a},e.rangeCheck=function(t,r,n){if(r>n)throw new Lt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new YD(r);if(n>t)throw new YD(n)},e.asList=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t},e.create=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Array.from({length:r}).fill(n)})},e.createInt32Array=function(t,r,n){var a=Array.from({length:t});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},e.equals=function(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(var n=0,a=t.length;n<a;n++)if(t[n]!==r[n])return!1;return!0},e.hashCode=function(t){var r,n;if(t===null)return 0;var a=1;try{for(var i=VFe(t),s=i.next();!s.done;s=i.next()){var l=s.value;a=31*a+l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.fillUint8Array=function(t,r){for(var n=0;n!==t.length;n++)t[n]=r},e.copyOf=function(t,r){return t.slice(0,r)},e.copyOfUint8Array=function(t,r){if(t.length<=r){var n=new Uint8Array(r);return n.set(t),n}return t.slice(0,r)},e.copyOfRange=function(t,r,n){var a=n-r,i=new Int32Array(a);return Sn.arraycopy(t,r,i,0,a),i},e.binarySearch=function(t,r,n){n===void 0&&(n=e.numberComparator);for(var a=0,i=t.length-1;a<=i;){var s=i+a>>1,l=n(r,t[s]);if(l>0)a=s+1;else if(l<0)i=s-1;else return s}return-a-1},e.numberComparator=function(t,r){return t-r},e}(),dr=function(){function e(){}return e.numberOfTrailingZeros=function(t){var r;if(t===0)return 32;var n=31;return r=t<<16,r!==0&&(n-=16,t=r),r=t<<8,r!==0&&(n-=8,t=r),r=t<<4,r!==0&&(n-=4,t=r),r=t<<2,r!==0&&(n-=2,t=r),n-(t<<1>>>31)},e.numberOfLeadingZeros=function(t){if(t===0)return 32;var r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r},e.toHexString=function(t){return t.toString(16)},e.toBinaryString=function(t){return String(parseInt(String(t),2))},e.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},e.truncDivision=function(t,r){return Math.trunc(t/r)},e.parseInt=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e.MIN_VALUE_32_BITS=-2147483648,e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),ui=function(){function e(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=e.makeArray(t):this.bits=r)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var r=e.makeArray(t);Sn.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},e.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},e.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},e.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},e.prototype.getNextSet=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=n[a];i&=~((1<<(t&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=n[a]}var l=a*32+dr.numberOfTrailingZeros(i);return l>r?r:l},e.prototype.getNextUnset=function(t){var r=this.size;if(t>=r)return r;var n=this.bits,a=Math.floor(t/32),i=~n[a];i&=~((1<<(t&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=~n[a]}var l=a*32+dr.numberOfTrailingZeros(i);return l>r?r:l},e.prototype.setBulk=function(t,r){this.bits[Math.floor(t/32)]=r},e.prototype.setRange=function(t,r){if(r<t||t<0||r>this.size)throw new Lt;if(r!==t){r--;for(var n=Math.floor(t/32),a=Math.floor(r/32),i=this.bits,s=n;s<=a;s++){var l=s>n?0:t&31,c=s<a?31:r&31,u=(2<<c)-(1<<l);i[s]|=u}}},e.prototype.clear=function(){for(var t=this.bits.length,r=this.bits,n=0;n<t;n++)r[n]=0},e.prototype.isRange=function(t,r,n){if(r<t||t<0||r>this.size)throw new Lt;if(r===t)return!0;r--;for(var a=Math.floor(t/32),i=Math.floor(r/32),s=this.bits,l=a;l<=i;l++){var c=l>a?0:t&31,u=l<i?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((s[l]&d)!==(n?d:0))return!1}return!0},e.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},e.prototype.appendBits=function(t,r){if(r<0||r>32)throw new Lt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((t>>n-1&1)===1)},e.prototype.appendBitArray=function(t){var r=t.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(t.get(n))},e.prototype.xor=function(t){if(this.size!==t.size)throw new Lt("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=t.bits[n]},e.prototype.toBytes=function(t,r,n,a){for(var i=0;i<a;i++){for(var s=0,l=0;l<8;l++)this.get(t)&&(s|=1<<7-l),t++;r[n+i]=s}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var s=a[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,t[r-i]=s}if(this.size!==n*32){for(var l=n*32-this.size,c=t[0]>>>l,i=1;i<n;i++){var u=t[i];c|=u<<32-l,t[i-1]=c,c=u>>>l}t[n-1]=c}this.bits=t},e.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.size===r.size&&qa.equals(this.bits,r.bits)},e.prototype.hashCode=function(){return 31*this.size+qa.hashCode(this.bits)},e.prototype.toString=function(){for(var t="",r=0,n=this.size;r<n;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e.prototype.toArray=function(){for(var t=[],r=0,n=this.size;r<n;r++)t.push(this.get(r));return t},e}(),Ij;(function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",e[e.ASSUME_GS1=8]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Ij||(Ij={}));const An=Ij;var qFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ut=function(e){qFe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(Ls),GFe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gr;(function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"})(Gr||(Gr={}));var Ha=function(){function e(t,r,n){for(var a,i,s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];this.valueIdentifier=t,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var f=c[u];e.VALUES_TO_ECI.set(f,this)}try{for(var h=GFe(s),p=h.next();!p.done;p=h.next()){var m=p.value;e.NAME_TO_ECI.set(m,this)}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new ut("incorect value");var r=e.VALUES_TO_ECI.get(t);if(r===void 0)throw new ut("incorect value");return r},e.getCharacterSetECIByName=function(t){var r=e.NAME_TO_ECI.get(t);if(r===void 0)throw new ut("incorect value");return r},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.getName()===r.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(Gr.Cp437,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(Gr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(Gr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(Gr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(Gr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(Gr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(Gr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(Gr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(Gr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(Gr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(Gr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(Gr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(Gr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(Gr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(Gr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(Gr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(Gr.SJIS,20,"SJIS","Shift_JIS"),e.Cp1250=new e(Gr.Cp1250,21,"Cp1250","windows-1250"),e.Cp1251=new e(Gr.Cp1251,22,"Cp1251","windows-1251"),e.Cp1252=new e(Gr.Cp1252,23,"Cp1252","windows-1252"),e.Cp1256=new e(Gr.Cp1256,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(Gr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(Gr.UTF8,26,"UTF8","UTF-8"),e.ASCII=new e(Gr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(Gr.Big5,28,"Big5"),e.GB18030=new e(Gr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(Gr.EUC_KR,30,"EUC_KR","EUC-KR"),e}(),YFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q2=function(e){YFe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(Ls),zo=function(){function e(){}return e.decode=function(t,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(t,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)},e.shouldDecodeOnFallback=function(t){return!e.isBrowser()&&t==="ISO-8859-1"},e.encode=function(t,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(t,n):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},e.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},e.encodingName=function(t){return typeof t=="string"?t:t.getName()},e.encodingCharacterSet=function(t){return t instanceof Ha?t:Ha.getCharacterSetECIByName(t)},e.decodeFallback=function(t,r){var n=this.encodingCharacterSet(r);if(e.isDecodeFallbackSupported(n)){for(var a="",i=0,s=t.length;i<s;i++){var l=t[i].toString(16);l.length<2&&(l="0"+l),a+="%"+l}return decodeURIComponent(a)}if(n.equals(Ha.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Q2("Encoding "+this.encodingName(r)+" not supported by fallback.")},e.isDecodeFallbackSupported=function(t){return t.equals(Ha.UTF8)||t.equals(Ha.ISO8859_1)||t.equals(Ha.ASCII)},e.encodeFallback=function(t){for(var r=btoa(unescape(encodeURIComponent(t))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},e}(),wr=function(){function e(){}return e.castAsNonUtf8Char=function(t,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return zo.decode(new Uint8Array([t]),n)},e.guessEncoding=function(t,r){if(r!=null&&r.get(An.CHARACTER_SET)!==void 0)return r.get(An.CHARACTER_SET).toString();for(var n=t.length,a=!0,i=!0,s=!0,l=0,c=0,u=0,d=0,f=0,h=0,p=0,m=0,x=0,g=0,v=0,b=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,y=0;y<n&&(a||i||s);y++){var _=t[y]&255;s&&(l>0?_&128?l--:s=!1:_&128&&(_&64?(l++,_&32?(l++,_&16?(l++,_&8?s=!1:d++):u++):c++):s=!1)),a&&(_>127&&_<160?a=!1:_>159&&(_<192||_===215||_===247)&&v++),i&&(f>0?_<64||_===127||_>252?i=!1:f--:_===128||_===160||_>239?i=!1:_>160&&_<224?(h++,m=0,p++,p>x&&(x=p)):_>127?(f++,p=0,m++,m>g&&(g=m)):(p=0,m=0))}return s&&l>0&&(s=!1),i&&f>0&&(i=!1),s&&(b||c+u+d>0)?e.UTF8:i&&(e.ASSUME_SHIFT_JIS||x>=3||g>=3)?e.SHIFT_JIS:a&&i?x===2&&h===2||v*10>=n?e.SHIFT_JIS:e.ISO88591:a?e.ISO88591:i?e.SHIFT_JIS:s?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(l,c,u,d,f,h){if(l==="%%")return"%";if(r[++a]!==void 0){l=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[a];break;case"c":m=r[a][0];break;case"f":m=parseFloat(r[a]).toFixed(l);break;case"p":m=parseFloat(r[a]).toPrecision(l);break;case"e":m=parseFloat(r[a]).toExponential(l);break;case"x":m=parseInt(r[a]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[a],p||10).toPrecision(l)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var x=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";m.length<x;)m=c!==void 0?m+g:g+m;return m}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,i)},e.getBytes=function(t,r){return zo.encode(t,r)},e.getCharCode=function(t,r){return r===void 0&&(r=0),t.charCodeAt(r)},e.getCharAt=function(t){return String.fromCharCode(t)},e.SHIFT_JIS=Ha.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=Ha.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=Ha.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}(),lr=function(){function e(t){t===void 0&&(t=""),this.value=t}return e.prototype.enableDecoding=function(t){return this.encoding=t,this},e.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=wr.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},e.prototype.appendChars=function(t,r,n){for(var a=r;r<r+n;a++)this.append(t[a]);return this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(t){return this.value.charAt(t)},e.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},e.prototype.setCharAt=function(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)},e.prototype.substring=function(t,r){return this.value.substring(t,r)},e.prototype.setLengthToZero=function(){this.value=""},e.prototype.toString=function(){return this.value},e.prototype.insert=function(t,r){this.value=this.value.substring(0,t)+r+this.value.substring(t)},e}(),fc=function(){function e(t,r,n,a){if(this.width=t,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=t),this.height=r,t<1||r<1)throw new Lt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((t+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var r=t.length,n=t[0].length,a=new e(n,r),i=0;i<r;i++)for(var s=t[i],l=0;l<n;l++)s[l]&&a.set(l,i);return a},e.parseFromString=function(t,r,n){if(t===null)throw new Lt("stringRepresentation cannot be null");for(var a=new Array(t.length),i=0,s=0,l=-1,c=0,u=0;u<t.length;)if(t.charAt(u)===`
`||t.charAt(u)==="\r"){if(i>s){if(l===-1)l=i-s;else if(i-s!==l)throw new Lt("row lengths do not match");s=i,c++}u++}else if(t.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(t.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new Lt("illegal character encountered: "+t.substring(u));if(i>s){if(l===-1)l=i-s;else if(i-s!==l)throw new Lt("row lengths do not match");c++}for(var d=new e(l,c),f=0;f<i;f++)a[f]&&d.set(Math.floor(f%l),Math.floor(f/l));return d},e.prototype.get=function(t,r){var n=r*this.rowSize+Math.floor(t/32);return(this.bits[n]>>>(t&31)&1)!==0},e.prototype.set=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(t&31)&4294967295},e.prototype.unset=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(t&31)&4294967295)},e.prototype.flip=function(t,r){var n=r*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(t&31)&4294967295},e.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Lt("input matrix dimensions do not match");for(var r=new ui(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,s=this.height;i<s;i++)for(var l=i*n,c=t.getRow(i,r).getBitArray(),u=0;u<n;u++)a[l+u]^=c[u]},e.prototype.clear=function(){for(var t=this.bits,r=t.length,n=0;n<r;n++)t[n]=0},e.prototype.setRegion=function(t,r,n,a){if(r<0||t<0)throw new Lt("Left and top must be nonnegative");if(a<1||n<1)throw new Lt("Height and width must be at least 1");var i=t+n,s=r+a;if(s>this.height||i>this.width)throw new Lt("The region must fit inside the matrix");for(var l=this.rowSize,c=this.bits,u=r;u<s;u++)for(var d=u*l,f=t;f<i;f++)c[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},e.prototype.getRow=function(t,r){r==null||r.getSize()<this.width?r=new ui(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=t*n,s=0;s<n;s++)r.setBulk(s*32,a[i+s]);return r},e.prototype.setRow=function(t,r){Sn.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var t=this.getWidth(),r=this.getHeight(),n=new ui(t),a=new ui(t),i=0,s=Math.floor((r+1)/2);i<s;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},e.prototype.getEnclosingRectangle=function(){for(var t=this.width,r=this.height,n=this.rowSize,a=this.bits,i=t,s=r,l=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=a[u*n+d];if(f!==0){if(u<s&&(s=u),u>c&&(c=u),d*32<i){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<i&&(i=d*32+h)}if(d*32+31>l){for(var h=31;!(f>>>h);)h--;d*32+h>l&&(l=d*32+h)}}}return l<i||c<s?null:Int32Array.from([i,s,l-i+1,c-s+1])},e.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/t,i=n%t*32,s=r[n],l=0;!(s<<31-l&4294967295);)l++;return i+=l,Int32Array.from([i,a])},e.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/t),i=Math.floor(n%t)*32,s=r[n],l=31;!(s>>>l);)l--;return i+=l,Int32Array.from([i,a])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&qa.equals(this.bits,r.bits)},e.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+qa.hashCode(this.bits),t},e.prototype.toString=function(t,r,n){return t===void 0&&(t="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(t,r,n)},e.prototype.buildToString=function(t,r,n){for(var a=new lr,i=0,s=this.height;i<s;i++){for(var l=0,c=this.width;l<c;l++)a.append(this.get(l,i)?t:r);a.append(n)}return a.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}(),XFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ye=function(e){XFe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(Ls),KFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QFe=function(e){KFe(t,e);function t(r){var n=e.call(this,r)||this;return n.luminances=t.EMPTY,n.buckets=new Int32Array(t.LUMINANCE_BUCKETS),n}return t.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new ui(i):n.clear(),this.initArrays(i);for(var s=a.getRow(r,this.luminances),l=this.buckets,c=0;c<i;c++)l[(s[c]&255)>>t.LUMINANCE_SHIFT]++;var u=t.estimateBlackPoint(l);if(i<3)for(var c=0;c<i;c++)(s[c]&255)<u&&n.set(c);else for(var d=s[0]&255,f=s[1]&255,c=1;c<i-1;c++){var h=s[c+1]&255;(f*4-d-h)/2<u&&n.set(c),d=f,f=h}return n},t.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new fc(n,a);this.initArrays(n);for(var s=this.buckets,l=1;l<5;l++)for(var c=Math.floor(a*l/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;s[h>>t.LUMINANCE_SHIFT]++}for(var p=t.estimateBlackPoint(s),m=r.getMatrix(),l=0;l<a;l++)for(var x=l*n,f=0;f<n;f++){var h=m[x+f]&255;h<p&&i.set(f,l)}return i},t.prototype.createBinarizer=function(r){return new t(r)},t.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<t.LUMINANCE_BUCKETS;a++)n[a]=0},t.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,s=0,l=0;l<n;l++)r[l]>s&&(i=l,s=r[l]),r[l]>a&&(a=r[l]);for(var c=0,u=0,l=0;l<n;l++){var d=l-i,f=r[l]*d*d;f>u&&(c=l,u=f)}if(i>c){var h=i;i=c,c=h}if(c-i<=n/16)throw new Ye;for(var p=c-1,m=-1,l=c-1;l>i;l--){var x=l-i,f=x*x*(c-l)*(a-r[l]);f>m&&(p=l,m=f)}return p<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(UFe),JFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qz=function(e){JFe(t,e);function t(r){var n=e.call(this,r)||this;return n.matrix=null,n}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=t.MINIMUM_DIMENSION&&a>=t.MINIMUM_DIMENSION){var i=r.getMatrix(),s=n>>t.BLOCK_SIZE_POWER;n&t.BLOCK_SIZE_MASK&&s++;var l=a>>t.BLOCK_SIZE_POWER;a&t.BLOCK_SIZE_MASK&&l++;var c=t.calculateBlackPoints(i,s,l,n,a),u=new fc(n,a);t.calculateThresholdForBlock(i,s,l,n,a,c,u),this.matrix=u}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(r){return new t(r)},t.calculateThresholdForBlock=function(r,n,a,i,s,l,c){for(var u=s-t.BLOCK_SIZE,d=i-t.BLOCK_SIZE,f=0;f<a;f++){var h=f<<t.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=t.cap(f,2,a-3),m=0;m<n;m++){var x=m<<t.BLOCK_SIZE_POWER;x>d&&(x=d);for(var g=t.cap(m,2,n-3),v=0,b=-2;b<=2;b++){var y=l[p+b];v+=y[g-2]+y[g-1]+y[g]+y[g+1]+y[g+2]}var _=v/25;t.thresholdBlock(r,x,h,_,i,c)}}},t.cap=function(r,n,a){return r<n?n:r>a?a:r},t.thresholdBlock=function(r,n,a,i,s,l){for(var c=0,u=a*s+n;c<t.BLOCK_SIZE;c++,u+=s)for(var d=0;d<t.BLOCK_SIZE;d++)(r[u+d]&255)<=i&&l.set(n+d,a+c)},t.calculateBlackPoints=function(r,n,a,i,s){for(var l=s-t.BLOCK_SIZE,c=i-t.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var f=d<<t.BLOCK_SIZE_POWER;f>l&&(f=l);for(var h=0;h<n;h++){var p=h<<t.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,x=255,g=0,v=0,b=f*i+p;v<t.BLOCK_SIZE;v++,b+=i){for(var y=0;y<t.BLOCK_SIZE;y++){var _=r[b+y]&255;m+=_,_<x&&(x=_),_>g&&(g=_)}if(g-x>t.MIN_DYNAMIC_RANGE)for(v++,b+=i;v<t.BLOCK_SIZE;v++,b+=i)for(var y=0;y<t.BLOCK_SIZE;y++)m+=r[b+y]&255}var N=m>>t.BLOCK_SIZE_POWER*2;if(g-x<=t.MIN_DYNAMIC_RANGE&&(N=x/2,d>0&&h>0)){var S=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;x<S&&(N=S)}u[d][h]=N}}return u},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(QFe),Dg=function(){function e(t,r){this.width=t,this.height=r}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(t,r,n,a){throw new Q2("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new Q2("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new Q2("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),r=new lr,n=0;n<this.height;n++){for(var a=this.getRow(n,t),i=0;i<this.width;i++){var s=a[i]&255,l=void 0;s<64?l="#":s<128?l="+":s<192?l=".":l=" ",r.append(l)}r.append(`
`)}return r.toString()},e}(),ZFe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y5=function(e){ZFe(t,e);function t(r){var n=e.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return t.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),s=0;s<i;s++)a[s]=255-(a[s]&255);return a},t.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(r,n,a,i){return new t(this.delegate.crop(r,n,a,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(Dg),eRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tRe=function(e){eRe(t,e);function t(r,n){n===void 0&&(n=!1);var a=e.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=t.makeBufferFromCanvasImageData(r,n),a}return t.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return t.toGrayscaleBuffer(a.data,r.width,r.height,n)},t.toGrayscaleBuffer=function(r,n,a,i){i===void 0&&(i=!1);var s=new Uint8ClampedArray(n*a);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!i)for(var l=0,c=0,u=r.length;l<u;l+=4,c++){var d=void 0,f=r[l+3];if(f===0)d=255;else{var h=r[l],p=r[l+1],m=r[l+2];d=306*h+601*p+117*m+512>>10}s[c]=d}else for(var l=0,c=0,x=r.length;l<x;l+=4,c++){var d=void 0,f=r[l+3];if(f===0)d=255;else{var h=r[l],p=r[l+1],m=r[l+2];d=306*h+601*p+117*m+512>>10}s[c]=255-d}return s},t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return e.prototype.crop.call(this,r,n,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},t.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*t.DEGREE_TO_RADIANS,s=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*l),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*l);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,s/-2,l/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.prototype.invert=function(){return new y5(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}(Dg),rRe=function(){function e(t,r,n){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return e.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},e}(),rs=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},ns=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nRe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nm=function(){function e(t,r,n){r===void 0&&(r=500),this.reader=t,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(e.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),e.prototype.listVideoInputDevices=function(){return rs(this,void 0,void 0,function(){var t,r,n,a,i,s,l,c,u,d,f,h;return ns(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=p.sent(),r=[];try{for(n=nRe(t),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),u=i.groupId,d={deviceId:l,label:c,kind:s,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},e.prototype.getVideoInputDevices=function(){return rs(this,void 0,void 0,function(){var t;return ns(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),[2,t.map(function(n){return new rRe(n.deviceId,n.label)})]}})})},e.prototype.findDeviceById=function(t){return rs(this,void 0,void 0,function(){var r;return ns(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===t})]:[2,null]}})})},e.prototype.decodeFromInputVideoDevice=function(t,r){return rs(this,void 0,void 0,function(){return ns(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,r){return rs(this,void 0,void 0,function(){var n,a;return ns(this,function(i){switch(i.label){case 0:return this.reset(),t?n={deviceId:{exact:t}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromConstraints=function(t,r){return rs(this,void 0,void 0,function(){var n;return ns(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return rs(this,void 0,void 0,function(){var n,a;return ns(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},e.prototype.decodeFromInputVideoDeviceContinuously=function(t,r,n){return rs(this,void 0,void 0,function(){return ns(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(t,r,n)];case 1:return[2,a.sent()]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return rs(this,void 0,void 0,function(){var a,i;return ns(this,function(s){switch(s.label){case 0:return t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return rs(this,void 0,void 0,function(){var a;return ns(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},e.prototype.decodeFromStream=function(t,r,n){return rs(this,void 0,void 0,function(){var a;return ns(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},e.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},e.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},e.prototype.attachStreamToVideo=function(t,r){return rs(this,void 0,void 0,function(){var n;return ns(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,t),this.videoElement=n,this.stream=t,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},e.prototype.playVideoOnLoadAsync=function(t){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(t,function(){return n()})})},e.prototype.playVideoOnLoad=function(t,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)},e.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e.prototype.tryPlayVideo=function(t){return rs(this,void 0,void 0,function(){return ns(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},e.prototype.getMediaElement=function(t,r){var n=document.getElementById(t);if(!n)throw new ua("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new ua("element with id '"+t+"' must be an "+r+" element");return n},e.prototype.decodeFromImage=function(t,r){if(!t&&!r)throw new ua("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)},e.prototype.decodeFromVideo=function(t,r){if(!t&&!r)throw new ua("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)},e.prototype.decodeFromVideoContinuously=function(t,r,n){if(t===void 0&&r===void 0)throw new ua("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(t,n)},e.prototype.decodeFromImageElement=function(t){if(!t)throw new ua("An image element must be provided.");this.reset();var r=this.prepareImageElement(t);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},e.prototype.decodeFromVideoElement=function(t){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)},e.prototype.decodeFromVideoElementContinuously=function(t,r){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,r)},e.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new ua("A video element must be provided.");this.reset();var r=this.prepareVideoElement(t);return this.videoElement=r,r},e.prototype.decodeFromImageUrl=function(t){if(!t)throw new ua("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=t,n},e.prototype.decodeFromVideoUrl=function(t){if(!t)throw new ua("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=t,n},e.prototype.decodeFromVideoUrlContinuously=function(t,r){if(!t)throw new ua("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=t,a},e.prototype._decodeOnLoadImage=function(t){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(t,!1,!0).then(n,a)},t.addEventListener("load",r.imageLoadedListener)})},e.prototype._decodeOnLoadVideo=function(t){return rs(this,void 0,void 0,function(){return ns(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),[4,this.decodeOnce(t)];case 2:return[2,r.sent()]}})})},e.prototype._decodeOnLoadVideoContinuously=function(t,r){return rs(this,void 0,void 0,function(){return ns(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),this.decodeContinuously(t,r),[2]}})})},e.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.prototype.prepareImageElement=function(t){var r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r},e.prototype.prepareVideoElement=function(t){var r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.prototype.decodeOnce=function(t,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(s,l){if(a._stopAsyncDecode){l(new Ye("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(t);s(c)}catch(h){var u=r&&h instanceof Ye,d=h instanceof Ta||h instanceof ut,f=d&&n;if(u||f)return setTimeout(i,a._timeBetweenDecodingAttempts,s,l);l(h)}};return new Promise(function(s,l){return i(s,l)})},e.prototype.decodeContinuously=function(t,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(t);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var s=c instanceof Ta||c instanceof ut,l=c instanceof Ye;(s||l)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},e.prototype.decode=function(t){var r=this.createBinaryBitmap(t);return this.decodeBitmap(r)},e.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var r=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),r=!0):this.drawImageOnCanvas(t);var n=this.getCaptureCanvas(t),a=new tRe(n,r),i=new qz(a);return new Vz(i)},e.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(t),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},e.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas},e.prototype.drawFrameOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.drawImageOnCanvas=function(t,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},e.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof t<"u"&&(t instanceof HTMLVideoElement?(n=t.videoWidth,a=t.videoHeight):t instanceof HTMLImageElement&&(n=t.naturalWidth||t.width,a=t.naturalHeight||t.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},e.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},e.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},e.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},e.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},e.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},e.prototype.addVideoSource=function(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}},e.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},e}(),Qi=function(){function e(t,r,n,a,i,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Sn.currentTimeMillis()),this.text=t,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=s,this.text=t,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,s==null?this.timestamp=Sn.currentTimeMillis():this.timestamp=s}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)},e.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},e.prototype.addResultPoints=function(t){var r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){var n=new Array(r.length+t.length);Sn.arraycopy(r,0,n,0,r.length),Sn.arraycopy(t,0,n,r.length,t.length),this.resultPoints=n}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}(),Mj;(function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Mj||(Mj={}));const Rt=Mj;var Fj;(function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Fj||(Fj={}));const Si=Fj;var w5=function(){function e(t,r,n,a,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=t,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=t==null?0:8*t.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(t){this.numBits=t},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(t){this.erasures=t},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(t){this.other=t},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}(),hx=function(){function e(){}return e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Lt;return this.logTable[t]},e.addOrSubtract=function(t,r){return t^r},e}(),md=function(){function e(t,r){if(r.length===0)throw new Lt;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),Sn.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var r=this.coefficients,n;if(t===1){n=0;for(var a=0,i=r.length;a!==i;a++){var s=r[a];n=hx.addOrSubtract(n,s)}return n}n=r[0];for(var l=r.length,c=this.field,a=1;a<l;a++)n=hx.addOrSubtract(c.multiply(t,n),r[a]);return n},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Lt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;Sn.arraycopy(n,0,i,0,s);for(var l=s;l<n.length;l++)i[l]=hx.addOrSubtract(r[l-s],n[l]);return new e(this.field,i)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Lt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,s=new Int32Array(n+i-1),l=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<i;d++)s[c+d]=hx.addOrSubtract(s[c+d],l.multiply(u,a[d]));return new e(l,s)},e.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,s=0;s<r;s++)a[s]=n.multiply(i[s],t);return new e(n,a)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Lt;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+t),s=this.field,l=0;l<a;l++)i[l]=s.multiply(n[l],r);return new e(s,i)},e.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Lt("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Lt("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=t.getCoefficient(t.getDegree()),s=r.inverse(i);a.getDegree()>=t.getDegree()&&!a.isZero();){var l=a.getDegree()-t.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),s),u=t.multiplyByMonomial(l,c),d=r.buildMonomial(l,c);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},e.prototype.toString=function(){for(var t="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?t+="1":a===1?t+="a":(t+="a^",t+=a)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t},e}(),aRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gz=function(e){aRe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(Ls),iRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ks=function(e){iRe(t,e);function t(r,n,a){var i=e.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var s=new Int32Array(n),l=1,c=0;c<n;c++)s[c]=l,l*=2,l>=n&&(l^=r,l&=n-1);i.expTable=s;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[s[c]]=c;return i.logTable=u,i.zero=new md(i,Int32Array.from([0])),i.one=new md(i,Int32Array.from([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new Lt;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new md(this,a)},t.prototype.inverse=function(r){if(r===0)throw new Gz;return this.expTable[this.size-this.logTable[r]-1]},t.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+dr.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(r){return r===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(hx),sRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w2=function(e){sRe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(Ls),oRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ig=function(e){oRe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(Ls),_5=function(){function e(t){this.field=t}return e.prototype.decode=function(t,r){for(var n=this.field,a=new md(n,t),i=new Int32Array(r),s=!0,l=0;l<r;l++){var c=a.evaluateAt(n.exp(l+n.getGeneratorBase()));i[i.length-1-l]=c,c!==0&&(s=!1)}if(!s)for(var u=new md(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),l=0;l<p.length;l++){var x=t.length-1-n.log(p[l]);if(x<0)throw new w2("Bad error location");t[x]=ks.addOrSubtract(t[x],m[l])}},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=this.field,s=t,l=r,c=i.getZero(),u=i.getOne();l.getDegree()>=(n/2|0);){var d=s,f=c;if(s=l,c=u,s.isZero())throw new w2("r_{i-1} was zero");l=d;for(var h=i.getZero(),p=s.getCoefficient(s.getDegree()),m=i.inverse(p);l.getDegree()>=s.getDegree()&&!l.isZero();){var x=l.getDegree()-s.getDegree(),g=i.multiply(l.getCoefficient(l.getDegree()),m);h=h.addOrSubtract(i.buildMonomial(x,g)),l=l.addOrSubtract(s.multiplyByMonomial(x,g))}if(u=h.multiply(c).addOrSubtract(f),l.getDegree()>=s.getDegree())throw new Ig("Division algorithm failed to reduce polynomial?")}var v=u.getCoefficient(0);if(v===0)throw new w2("sigmaTilde(0) was zero");var b=i.inverse(v),y=u.multiplyScalar(b),_=l.multiplyScalar(b);return[y,_]},e.prototype.findErrorLocations=function(t){var r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,s=1;s<i.getSize()&&a<r;s++)t.evaluateAt(s)===0&&(n[a]=i.inverse(s),a++);if(a!==r)throw new w2("Error locator degree does not match number of roots");return n},e.prototype.findErrorMagnitudes=function(t,r){for(var n=r.length,a=new Int32Array(n),i=this.field,s=0;s<n;s++){for(var l=i.inverse(r[s]),c=1,u=0;u<n;u++)if(s!==u){var d=i.multiply(r[u],l),f=d&1?d&-2:d|1;c=i.multiply(c,f)}a[s]=i.multiply(t.evaluateAt(l),i.inverse(c)),i.getGeneratorBase()!==0&&(a[s]=i.multiply(a[s],l))}return a},e}(),vi;(function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"})(vi||(vi={}));var XD=function(){function e(){}return e.prototype.decode=function(t){this.ddata=t;var r=t.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=e.convertBoolArrayToByteArray(a),s=e.getEncodedData(a),l=new w5(i,s,null,null);return l.setNumBits(a.length),l},e.highLevelDecode=function(t){return this.getEncodedData(t)},e.getEncodedData=function(t){for(var r=t.length,n=vi.UPPER,a=vi.UPPER,i="",s=0;s<r;)if(a===vi.BINARY){if(r-s<5)break;var l=e.readCode(t,s,5);if(s+=5,l===0){if(r-s<11)break;l=e.readCode(t,s,11)+31,s+=11}for(var c=0;c<l;c++){if(r-s<8){s=r;break}var u=e.readCode(t,s,8);i+=wr.castAsNonUtf8Char(u),s+=8}a=n}else{var d=a===vi.DIGIT?4:5;if(r-s<d)break;var u=e.readCode(t,s,d);s+=d;var f=e.getCharacter(a,u);f.startsWith("CTRL_")?(n=a,a=e.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},e.getTable=function(t){switch(t){case"L":return vi.LOWER;case"P":return vi.PUNCT;case"M":return vi.MIXED;case"D":return vi.DIGIT;case"B":return vi.BINARY;case"U":default:return vi.UPPER}},e.getCharacter=function(t,r){switch(t){case vi.UPPER:return e.UPPER_TABLE[r];case vi.LOWER:return e.LOWER_TABLE[r];case vi.MIXED:return e.MIXED_TABLE[r];case vi.PUNCT:return e.PUNCT_TABLE[r];case vi.DIGIT:return e.DIGIT_TABLE[r];default:throw new Ig("Bad table")}},e.prototype.correctBits=function(t){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=ks.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=ks.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=ks.AZTEC_DATA_10):(n=12,r=ks.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=t.length/n;if(i<a)throw new ut;for(var s=t.length%n,l=new Int32Array(i),c=0;c<i;c++,s+=n)l[c]=e.readCode(t,s,n);try{var u=new _5(r);u.decode(l,i-a)}catch(g){throw new ut(g)}for(var d=(1<<n)-1,f=0,c=0;c<a;c++){var h=l[c];if(h===0||h===d)throw new ut;(h===1||h===d-1)&&f++}for(var p=new Array(a*n-f),m=0,c=0;c<a;c++){var h=l[c];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var x=n-1;x>=0;--x)p[m++]=(h&1<<x)!==0}return p},e.prototype.extractBits=function(t){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var l=0;l<i.length;l++)i[l]=l;else for(var c=a+1+2*dr.truncDivision(dr.truncDivision(a,2)-1,15),u=a/2,d=dr.truncDivision(c,2),l=0;l<u;l++){var f=l+dr.truncDivision(l,15);i[u-l-1]=d-f-1,i[u+l]=d+f+1}for(var l=0,h=0;l<n;l++){for(var p=(n-l)*4+(r?9:12),m=l*2,x=a-1-m,g=0;g<p;g++)for(var v=g*2,b=0;b<2;b++)s[h+v+b]=t.get(i[m+b],i[m+g]),s[h+2*p+v+b]=t.get(i[m+g],i[x-b]),s[h+4*p+v+b]=t.get(i[x-b],i[x-g]),s[h+6*p+v+b]=t.get(i[x-g],i[m+b]);h+=p*8}return s},e.readCode=function(t,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,t[i]&&(a|=1);return a},e.readByte=function(t,r){var n=t.length-r;return n>=8?e.readCode(t,r,8):e.readCode(t,r,n)<<8-n},e.convertBoolArrayToByteArray=function(t){for(var r=new Uint8Array((t.length+7)/8),n=0;n<r.length;n++)r[n]=e.readByte(t,8*n);return r},e.prototype.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],e.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],e.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],e.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],e.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],e}(),Pr=function(){function e(){}return e.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},e.distance=function(t,r,n,a){var i=t-n,s=r-a;return Math.sqrt(i*i+s*s)},e.sum=function(t){for(var r=0,n=0,a=t.length;n!==a;n++){var i=t[n];r+=i}return r},e}(),Rj=function(){function e(){}return e.floatToIntBits=function(t){return t},e.MAX_VALUE=Number.MAX_SAFE_INTEGER,e}(),kt=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var r=t;return this.x===r.x&&this.y===r.y}return!1},e.prototype.hashCode=function(){return 31*Rj.floatToIntBits(this.x)+Rj.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(t){var r=this.distance(t[0],t[1]),n=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]),i,s,l;if(n>=r&&n>=a?(s=t[0],i=t[1],l=t[2]):a>=n&&a>=r?(s=t[1],i=t[0],l=t[2]):(s=t[2],i=t[0],l=t[1]),this.crossProductZ(i,s,l)<0){var c=i;i=l,l=c}t[0]=i,t[1]=s,t[2]=l},e.distance=function(t,r){return Pr.distance(t.x,t.y,r.x,r.y)},e.crossProductZ=function(t,r,n){var a=r.x,i=r.y;return(n.x-a)*(t.y-i)-(n.y-i)*(t.x-a)},e}(),zC=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),lRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cRe=function(e){lRe(t,e);function t(r,n,a,i,s){var l=e.call(this,r,n)||this;return l.compact=a,l.nbDatablocks=i,l.nbLayers=s,l}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(zC),Lj=function(){function e(t,r,n,a){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=e.INIT_SIZE),n==null&&(n=t.getWidth()/2|0),a==null&&(a=t.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ye}return e.prototype.detect=function(){for(var t=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,s=!0,l=!1,c=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;s;){s=!1;for(var m=!0;(m||!c)&&r<h;)m=this.containsBlackPoint(n,a,r,!1),m?(r++,s=!0,c=!0):c||r++;if(r>=h){i=!0;break}for(var x=!0;(x||!u)&&a<p;)x=this.containsBlackPoint(t,r,a,!0),x?(a++,s=!0,u=!0):u||a++;if(a>=p){i=!0;break}for(var g=!0;(g||!d)&&t>=0;)g=this.containsBlackPoint(n,a,t,!1),g?(t--,s=!0,d=!0):d||t--;if(t<0){i=!0;break}for(var v=!0;(v||!f)&&n>=0;)v=this.containsBlackPoint(t,r,n,!0),v?(n--,s=!0,f=!0):f||n--;if(n<0){i=!0;break}s&&(l=!0)}if(!i&&l){for(var b=r-t,y=null,_=1;y===null&&_<b;_++)y=this.getBlackPointOnSegment(t,a-_,t+_,a);if(y==null)throw new Ye;for(var N=null,_=1;N===null&&_<b;_++)N=this.getBlackPointOnSegment(t,n+_,t+_,n);if(N==null)throw new Ye;for(var S=null,_=1;S===null&&_<b;_++)S=this.getBlackPointOnSegment(r,n+_,r-_,n);if(S==null)throw new Ye;for(var j=null,_=1;j===null&&_<b;_++)j=this.getBlackPointOnSegment(r,a-_,r-_,a);if(j==null)throw new Ye;return this.centerEdges(j,y,S,N)}else throw new Ye},e.prototype.getBlackPointOnSegment=function(t,r,n,a){for(var i=Pr.round(Pr.distance(t,r,n,a)),s=(n-t)/i,l=(a-r)/i,c=this.image,u=0;u<i;u++){var d=Pr.round(t+u*s),f=Pr.round(r+u*l);if(c.get(d,f))return new kt(d,f)}return null},e.prototype.centerEdges=function(t,r,n,a){var i=t.getX(),s=t.getY(),l=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),f=a.getX(),h=a.getY(),p=e.CORR;return i<this.width/2?[new kt(f-p,h+p),new kt(l+p,c+p),new kt(u-p,d-p),new kt(i+p,s-p)]:[new kt(f+p,h+p),new kt(l+p,c-p),new kt(u-p,d+p),new kt(i-p,s-p)]},e.prototype.containsBlackPoint=function(t,r,n,a){var i=this.image;if(a){for(var s=t;s<=r;s++)if(i.get(s,n))return!0}else for(var l=t;l<=r;l++)if(i.get(n,l))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}(),KD=function(){function e(){}return e.checkAndNudgePoints=function(t,r){for(var n=t.getWidth(),a=t.getHeight(),i=!0,s=0;s<r.length&&i;s+=2){var l=Math.floor(r[s]),c=Math.floor(r[s+1]);if(l<-1||l>n||c<-1||c>a)throw new Ye;i=!1,l===-1?(r[s]=0,i=!0):l===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}i=!0;for(var s=r.length-2;s>=0&&i;s-=2){var l=Math.floor(r[s]),c=Math.floor(r[s+1]);if(l<-1||l>n||c<-1||c>a)throw new Ye;i=!1,l===-1?(r[s]=0,i=!0):l===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}},e}(),Yz=function(){function e(t,r,n,a,i,s,l,c,u){this.a11=t,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=s,this.a13=l,this.a23=c,this.a33=u}return e.quadrilateralToQuadrilateral=function(t,r,n,a,i,s,l,c,u,d,f,h,p,m,x,g){var v=e.quadrilateralToSquare(t,r,n,a,i,s,l,c),b=e.squareToQuadrilateral(u,d,f,h,p,m,x,g);return b.times(v)},e.prototype.transformPoints=function(t){for(var r=t.length,n=this.a11,a=this.a12,i=this.a13,s=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=t[h],m=t[h+1],x=i*p+c*m+f;t[h]=(n*p+s*m+u)/x,t[h+1]=(a*p+l*m+d)/x}},e.prototype.transformPointsWithValues=function(t,r){for(var n=this.a11,a=this.a12,i=this.a13,s=this.a21,l=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=t.length,p=0;p<h;p++){var m=t[p],x=r[p],g=i*m+c*x+f;t[p]=(n*m+s*x+u)/g,r[p]=(a*m+l*x+d)/g}},e.squareToQuadrilateral=function(t,r,n,a,i,s,l,c){var u=t-n+i-l,d=r-a+s-c;if(u===0&&d===0)return new e(n-t,i-n,t,a-r,s-a,r,0,0,1);var f=n-i,h=l-i,p=a-s,m=c-s,x=f*m-h*p,g=(u*m-h*d)/x,v=(f*d-u*p)/x;return new e(n-t+g*n,l-t+v*l,t,a-r+g*a,c-r+v*c,r,g,v,1)},e.quadrilateralToSquare=function(t,r,n,a,i,s,l,c){return e.squareToQuadrilateral(t,r,n,a,i,s,l,c).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}(),uRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dRe=function(e){uRe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sampleGrid=function(r,n,a,i,s,l,c,u,d,f,h,p,m,x,g,v,b,y,_){var N=Yz.quadrilateralToQuadrilateral(i,s,l,c,u,d,f,h,p,m,x,g,v,b,y,_);return this.sampleGridWithTransform(r,n,a,N)},t.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new Ye;for(var s=new fc(n,a),l=new Float32Array(2*n),c=0;c<a;c++){for(var u=l.length,d=c+.5,f=0;f<u;f+=2)l[f]=f/2+.5,l[f+1]=d;i.transformPoints(l),KD.checkAndNudgePoints(r,l);try{for(var f=0;f<u;f+=2)r.get(Math.floor(l[f]),Math.floor(l[f+1]))&&s.set(f/2,c)}catch{throw new Ye}}return s},t}(KD),UC=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new dRe,e}(),js=function(){function e(t,r){this.x=t,this.y=r}return e.prototype.toResultPoint=function(){return new kt(this.getX(),this.getY())},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(),fRe=function(){function e(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return e.prototype.detect=function(){return this.detectMirror(!1)},e.prototype.detectMirror=function(t){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(t){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new cRe(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},e.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Ye;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var s=n[(this.shift+i)%4];this.compact?(a<<=7,a+=s>>1&127):(a<<=10,a+=(s>>2&992)+(s>>1&31))}var l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)},e.prototype.getRotation=function(t,r){var n=0;t.forEach(function(i,s,l){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(dr.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new Ye},e.prototype.getCorrectedParameterData=function(t,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,s=new Int32Array(n),l=n-1;l>=0;--l)s[l]=t&15,t>>=4;try{var c=new _5(ks.AZTEC_PARAM);c.decode(s,i)}catch{throw new Ye}for(var u=0,l=0;l<a;l++)u=(u<<4)+s[l];return u},e.prototype.getBullsEyeCorners=function(t){var r=t,n=t,a=t,i=t,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var l=this.getFirstDifferent(r,s,1,-1),c=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(a,s,-1,1),d=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,l)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(l,c,u,d))break}r=l,n=c,a=u,i=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ye;this.compact=this.nbCenterLayers===5;var h=new kt(r.getX()+.5,r.getY()-.5),p=new kt(n.getX()+.5,n.getY()+.5),m=new kt(a.getX()-.5,a.getY()+.5),x=new kt(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,p,m,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},e.prototype.getMatrixCenter=function(){var t,r,n,a;try{var i=new Lj(this.image).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{var s=this.image.getWidth()/2,l=this.image.getHeight()/2;t=this.getFirstDifferent(new js(s+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new js(s+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new js(s-7,l+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new js(s-7,l-7),!1,-1,-1).toResultPoint()}var c=Pr.round((t.getX()+a.getX()+r.getX()+n.getX())/4),u=Pr.round((t.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new Lj(this.image,15,c,u).detect();t=i[0],r=i[1],n=i[2],a=i[3]}catch{t=this.getFirstDifferent(new js(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new js(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new js(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new js(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Pr.round((t.getX()+a.getX()+r.getX()+n.getX())/4),u=Pr.round((t.getY()+a.getY()+r.getY()+n.getY())/4),new js(c,u)},e.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},e.prototype.sampleGrid=function(t,r,n,a,i){var s=UC.getInstance(),l=this.getDimension(),c=l/2-this.nbCenterLayers,u=l/2+this.nbCenterLayers;return s.sampleGrid(t,l,l,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},e.prototype.sampleLine=function(t,r,n){for(var a=0,i=this.distanceResultPoint(t,r),s=i/n,l=t.getX(),c=t.getY(),u=s*(r.getX()-t.getX())/i,d=s*(r.getY()-t.getY())/i,f=0;f<n;f++)this.image.get(Pr.round(l+f*u),Pr.round(c+f*d))&&(a|=1<<n-f-1);return a},e.prototype.isWhiteOrBlackRectangle=function(t,r,n,a){var i=3;t=new js(t.getX()-i,t.getY()+i),r=new js(r.getX()-i,r.getY()-i),n=new js(n.getX()+i,n.getY()-i),a=new js(a.getX()+i,a.getY()+i);var s=this.getColor(a,t);if(s===0)return!1;var l=this.getColor(t,r);return l!==s||(l=this.getColor(r,n),l!==s)?!1:(l=this.getColor(n,a),l===s)},e.prototype.getColor=function(t,r){for(var n=this.distancePoint(t,r),a=(r.getX()-t.getX())/n,i=(r.getY()-t.getY())/n,s=0,l=t.getX(),c=t.getY(),u=this.image.get(t.getX(),t.getY()),d=Math.ceil(n),f=0;f<d;f++)l+=a,c+=i,this.image.get(Pr.round(l),Pr.round(c))!==u&&s++;var h=s/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},e.prototype.getFirstDifferent=function(t,r,n,a){for(var i=t.getX()+n,s=t.getY()+a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n,s+=a;for(i-=n,s-=a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===r;)s+=a;return s-=a,new js(i,s)},e.prototype.expandSquare=function(t,r,n){var a=n/(2*r),i=t[0].getX()-t[2].getX(),s=t[0].getY()-t[2].getY(),l=(t[0].getX()+t[2].getX())/2,c=(t[0].getY()+t[2].getY())/2,u=new kt(l+a*i,c+a*s),d=new kt(l-a*i,c-a*s);i=t[1].getX()-t[3].getX(),s=t[1].getY()-t[3].getY(),l=(t[1].getX()+t[3].getX())/2,c=(t[1].getY()+t[3].getY())/2;var f=new kt(l+a*i,c+a*s),h=new kt(l-a*i,c-a*s),p=[u,f,d,h];return p},e.prototype.isValid=function(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()},e.prototype.isValidPoint=function(t){var r=Pr.round(t.getX()),n=Pr.round(t.getY());return this.isValid(r,n)},e.prototype.distancePoint=function(t,r){return Pr.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.distanceResultPoint=function(t,r){return Pr.distance(t.getX(),t.getY(),r.getX(),r.getY())},e.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(dr.truncDivision(this.nbLayers-4,8)+1)+15},e}(),zy=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=null,a=new fRe(t.getBlackMatrix()),i=null,s=null;try{var l=a.detectMirror(!1);i=l.getPoints(),this.reportFoundResultPoints(r,i),s=new XD().decode(l)}catch(f){n=f}if(s==null)try{var l=a.detectMirror(!0);i=l.getPoints(),this.reportFoundResultPoints(r,i),s=new XD().decode(l)}catch(f){throw n??f}var c=new Qi(s.getText(),s.getRawBytes(),s.getNumBits(),i,Rt.AZTEC,Sn.currentTimeMillis()),u=s.getByteSegments();u!=null&&c.putMetadata(Si.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&c.putMetadata(Si.ERROR_CORRECTION_LEVEL,d),c},e.prototype.reportFoundResultPoints=function(t,r){if(t!=null){var n=t.get(An.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,s){n.foundPossibleResultPoint(a)})}},e.prototype.reset=function(){},e}(),hRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){hRe(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new zy,r)||this}return t})(nm);var Xa=function(){function e(){}return e.prototype.decode=function(t,r){try{return this.doDecode(t,r)}catch{var n=r&&r.get(An.TRY_HARDER)===!0;if(n&&t.isRotateSupported()){var a=t.rotateCounterClockwise(),i=this.doDecode(a,r),s=i.getResultMetadata(),l=270;s!==null&&s.get(Si.ORIENTATION)===!0&&(l=l+s.get(Si.ORIENTATION)%360),i.putMetadata(Si.ORIENTATION,l);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),d=0;d<c.length;d++)c[d]=new kt(u-c[d].getY()-1,c[d].getX());return i}else throw new Ye}},e.prototype.reset=function(){},e.prototype.doDecode=function(t,r){var n=t.getWidth(),a=t.getHeight(),i=new ui(n),s=r&&r.get(An.TRY_HARDER)===!0,l=Math.max(1,a>>(s?8:5)),c;s?c=a:c=15;for(var u=Math.trunc(a/2),d=0;d<c;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+l*(h?f:-f);if(p<0||p>=a)break;try{i=t.getBlackRow(p,i)}catch{continue}for(var m=function(b){if(b===1&&(i.reverse(),r&&r.get(An.NEED_RESULT_POINT_CALLBACK)===!0)){var y=new Map;r.forEach(function(S,j){return y.set(j,S)}),y.delete(An.NEED_RESULT_POINT_CALLBACK),r=y}try{var _=x.decodeRow(p,i,r);if(b===1){_.putMetadata(Si.ORIENTATION,180);var N=_.getResultPoints();N!==null&&(N[0]=new kt(n-N[0].getX()-1,N[0].getY()),N[1]=new kt(n-N[1].getX()-1,N[1].getY()))}return{value:_}}catch{}},x=this,g=0;g<2;g++){var v=m(g);if(typeof v=="object")return v.value}}throw new Ye},e.recordPattern=function(t,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var s=t.getSize();if(r>=s)throw new Ye;for(var l=!t.get(r),c=0,u=r;u<s;){if(t.get(u)!==l)n[c]++;else{if(++c===a)break;n[c]=1,l=!l}u++}if(!(c===a||c===a-1&&u===s))throw new Ye},e.recordPatternInReverse=function(t,r,n){for(var a=n.length,i=t.get(r);r>0&&a>=0;)t.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new Ye;e.recordPattern(t,r+1,n)},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,s=0,l=0;l<a;l++)i+=t[l],s+=r[l];if(i<s)return Number.POSITIVE_INFINITY;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=t[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/i},e}(),pRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QD=function(e){pRe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),l=a,c=!1,u=6,d=a;d<n;d++)if(r.get(d)!==c)s[i]++;else{if(i===u-1){for(var f=t.MAX_AVG_VARIANCE,h=-1,p=t.CODE_START_A;p<=t.CODE_START_C;p++){var m=Xa.patternMatchVariance(s,t.CODE_PATTERNS[p],t.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,h]);l+=s[0]+s[1],s=s.slice(2,s.length),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new Ye},t.decodeCode=function(r,n,a){Xa.recordPattern(r,a,n);for(var i=t.MAX_AVG_VARIANCE,s=-1,l=0;l<t.CODE_PATTERNS.length;l++){var c=t.CODE_PATTERNS[l],u=this.patternMatchVariance(n,c,t.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=l)}if(s>=0)return s;throw new Ye},t.prototype.decodeRow=function(r,n,a){var i=a&&a.get(An.ASSUME_GS1)===!0,s=t.findStartPattern(n),l=s[2],c=0,u=new Uint8Array(20);u[c++]=l;var d;switch(l){case t.CODE_START_A:d=t.CODE_CODE_A;break;case t.CODE_START_B:d=t.CODE_CODE_B;break;case t.CODE_START_C:d=t.CODE_CODE_C;break;default:throw new ut}for(var f=!1,h=!1,p="",m=s[0],x=s[1],g=Int32Array.from([0,0,0,0,0,0]),v=0,b=0,y=l,_=0,N=!0,S=!1,j=!1;!f;){var A=h;switch(h=!1,v=b,b=t.decodeCode(n,g,x),u[c++]=b,b!==t.CODE_STOP&&(N=!0),b!==t.CODE_STOP&&(_++,y+=_*b),m=x,x+=g.reduce(function(V,Y){return V+Y},0),b){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new ut}switch(d){case t.CODE_CODE_A:if(b<64)j===S?p+=String.fromCharCode(32+b):p+=String.fromCharCode(32+b+128),j=!1;else if(b<96)j===S?p+=String.fromCharCode(b-64):p+=String.fromCharCode(b+64),j=!1;else switch(b!==t.CODE_STOP&&(N=!1),b){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!S&&j?(S=!0,j=!1):S&&j?(S=!1,j=!1):j=!0;break;case t.CODE_SHIFT:h=!0,d=t.CODE_CODE_B;break;case t.CODE_CODE_B:d=t.CODE_CODE_B;break;case t.CODE_CODE_C:d=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_B:if(b<96)j===S?p+=String.fromCharCode(32+b):p+=String.fromCharCode(32+b+128),j=!1;else switch(b!==t.CODE_STOP&&(N=!1),b){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!S&&j?(S=!0,j=!1):S&&j?(S=!1,j=!1):j=!0;break;case t.CODE_SHIFT:h=!0,d=t.CODE_CODE_A;break;case t.CODE_CODE_A:d=t.CODE_CODE_A;break;case t.CODE_CODE_C:d=t.CODE_CODE_C;break;case t.CODE_STOP:f=!0;break}break;case t.CODE_CODE_C:if(b<100)b<10&&(p+="0"),p+=b;else switch(b!==t.CODE_STOP&&(N=!1),b){case t.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case t.CODE_CODE_A:d=t.CODE_CODE_A;break;case t.CODE_CODE_B:d=t.CODE_CODE_B;break;case t.CODE_STOP:f=!0;break}break}A&&(d=d===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var T=x-m;if(x=n.getNextUnset(x),!n.isRange(x,Math.min(n.getSize(),x+(x-m)/2),!1))throw new Ye;if(y-=_*v,y%103!==v)throw new Ta;var F=p.length;if(F===0)throw new Ye;F>0&&N&&(d===t.CODE_CODE_C?p=p.substring(0,F-2):p=p.substring(0,F-1));for(var O=(s[1]+s[0])/2,E=m+T/2,L=u.length,B=new Uint8Array(L),G=0;G<L;G++)B[G]=u[G];var z=[new kt(O,r),new kt(E,r)];return new Qi(p,B,0,z,Rt.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(Xa),mRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},JD=function(e){mRe(t,e);function t(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=e.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return t.prototype.decodeRow=function(r,n,a){var i,s,l,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=t.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{t.recordPattern(n,f,u);var x=t.toNarrowWidePattern(u);if(x<0)throw new Ye;p=t.patternToChar(x),this.decodeRowResult+=p,m=f;try{for(var g=(i=void 0,G4(u)),v=g.next();!v.done;v=g.next()){var b=v.value;f+=b}}catch(L){i={error:L}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=G4(u),N=_.next();!N.done;N=_.next()){var b=N.value;y+=b}}catch(L){l={error:L}}finally{try{N&&!N.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}var S=f-m-y;if(f!==h&&S*2<y)throw new Ye;if(this.usingCheckDigit){for(var j=this.decodeRowResult.length-1,A=0,T=0;T<j;T++)A+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(j)!==t.ALPHABET_STRING.charAt(A%43))throw new Ta;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new Ye;var F;this.extendedMode?F=t.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;var O=(d[1]+d[0])/2,E=m+y/2;return new Qi(F,null,0,[new kt(O,r),new kt(E,r)],Rt.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),s=0,l=i,c=!1,u=n.length,d=i;d<a;d++)if(r.get(d)!==c)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===t.ASTERISK_ENCODING&&r.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new Ye},t.toNarrowWidePattern=function(r){var n,a,i=r.length,s=0,l;do{var c=2147483647;try{for(var u=(n=void 0,G4(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<c&&f>s&&(c=f)}}catch(x){n={error:x}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}s=c,l=0;for(var h=0,p=0,m=0;m<i;m++){var f=r[m];f>s&&(p|=1<<i-1-m,l++,h+=f)}if(l===3){for(var m=0;m<i&&l>0;m++){var f=r[m];if(f>s&&(l--,f*2>=h))return-1}return p}}while(l>3);return-1},t.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);if(r===t.ASTERISK_ENCODING)return"*";throw new Ye},t.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var l=r.charAt(i+1),c="\0";switch(s){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ut;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ut;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="";else throw new ut;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ut;break}a+=c,i++}else a+=s}return a},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(Xa),xRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ZD=function(e){xRe(t,e);function t(){var r=e.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return t.prototype.decodeRow=function(r,n,a){var i,s,l,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{t.recordPattern(n,d,h);var x=this.toPattern(h);if(x<0)throw new Ye;p=this.patternToChar(x),this.decodeRowResult+=p,m=d;try{for(var g=(i=void 0,Y4(h)),v=g.next();!v.done;v=g.next()){var b=v.value;d+=b}}catch(T){i={error:T}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=Y4(h),N=_.next();!N.done;N=_.next()){var b=N.value;y+=b}}catch(T){l={error:T}}finally{try{N&&!N.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}if(d===f||!n.get(d))throw new Ye;if(this.decodeRowResult.length<2)throw new Ye;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var S=this.decodeExtended(this.decodeRowResult),j=(u[1]+u[0])/2,A=m+y/2;return new Qi(S,null,0,[new kt(j,r),new kt(A,r)],Rt.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,s=a,l=!1,c=i.length,u=0,d=a;d<n;d++)if(r.get(d)!==l)i[u]++;else{if(u===c-1){if(this.toPattern(i)===t.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,l=!l}throw new Ye},t.prototype.toPattern=function(r){var n,a,i=0;try{for(var s=Y4(r),l=s.next();!l.done;l=s.next()){var c=l.value;i+=c}}catch(m){n={error:m}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/i);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},t.prototype.patternToChar=function(r){for(var n=0;n<t.CHARACTER_ENCODINGS.length;n++)if(t.CHARACTER_ENCODINGS[n]===r)return t.ALPHABET_STRING.charAt(n);throw new Ye},t.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s>="a"&&s<="d"){if(i>=n-1)throw new ut;var l=r.charAt(i+1),c="\0";switch(s){case"d":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new ut;break;case"a":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new ut;break;case"b":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l>="X"&&l<="Z")c="";else throw new ut;break;case"c":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new ut;break}a+=c,i++}else a+=s}return a},t.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},t.prototype.checkOneChecksum=function(r,n,a){for(var i=1,s=0,l=n-1;l>=0;l--)s+=i*t.ALPHABET_STRING.indexOf(r.charAt(l)),++i>a&&(i=1);if(r.charAt(n)!==t.ALPHABET_STRING[s%47])throw new Ta},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t}(Xa),gRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vRe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},eI=function(e){gRe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return t.prototype.decodeRow=function(r,n,a){var i,s,l=this.decodeStart(n),c=this.decodeEnd(n),u=new lr;t.decodeMiddle(n,l[1],c[0],u);var d=u.toString(),f=null;a!=null&&(f=a.get(An.ALLOWED_LENGTHS)),f==null&&(f=t.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var x=vRe(f),g=x.next();!g.done;g=x.next()){var v=g.value;if(h===v){p=!0;break}v>m&&(m=v)}}catch(_){i={error:_}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}if(!p&&h>m&&(p=!0),!p)throw new ut;var b=[new kt(l[1],r),new kt(c[0],r)],y=new Qi(d,null,0,b,Rt.ITF,new Date().getTime());return y},t.decodeMiddle=function(r,n,a,i){var s=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),l.fill(0),c.fill(0);n<a;){Xa.recordPattern(r,n,s);for(var u=0;u<5;u++){var d=2*u;l[u]=s[d],c[u]=s[d+1]}var f=t.decodeDigit(l);i.append(f.toString()),f=this.decodeDigit(c),i.append(f.toString()),s.forEach(function(h){n+=h})}},t.prototype.decodeStart=function(r){var n=t.skipWhiteSpace(r),a=t.findGuardPattern(r,n,t.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},t.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new Ye},t.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new Ye;return a},t.prototype.decodeEnd=function(r){r.reverse();try{var n=t.skipWhiteSpace(r),a=void 0;try{a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[0])}catch(s){s instanceof Ye&&(a=t.findGuardPattern(r,n,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},t.findGuardPattern=function(r,n,a){var i=a.length,s=new Int32Array(i),l=r.getSize(),c=!1,u=0,d=n;s.fill(0);for(var f=n;f<l;f++)if(r.get(f)!==c)s[u]++;else{if(u===i-1){if(Xa.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[d,f];d+=s[0]+s[1],Sn.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new Ye},t.decodeDigit=function(r){for(var n=t.MAX_AVG_VARIANCE,a=-1,i=t.PATTERNS.length,s=0;s<i;s++){var l=t.PATTERNS[s],c=Xa.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=s):c===n&&(a=-1)}if(a>=0)return a%10;throw new Ye},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(Xa),bRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ep=function(e){bRe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return t.findStartGuardPattern=function(r){for(var n=!1,a,i=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),a=t.findGuardPattern(r,i,!1,this.START_END_PATTERN,s);var l=a[0];i=a[1];var c=l-(i-l);c>=0&&(n=r.isRange(c,l,!1))}return a},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},t.findGuardPattern=function(r,n,a,i,s){var l=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=i.length,f=a,h=n;h<l;h++)if(r.get(h)!==f)s[c]++;else{if(c===d-1){if(Xa.patternMatchVariance(s,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=s[0]+s[1];for(var p=s.slice(2,s.length),m=0;m<c-1;m++)s[m]=p[m];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,f=!f}throw new Ye},t.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var s=this.MAX_AVG_VARIANCE,l=-1,c=i.length,u=0;u<c;u++){var d=i[u],f=Xa.patternMatchVariance(n,d,t.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,l=u)}if(l>=0)return l;throw new Ye},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(Xa),yRe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wRe=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),l=e.parseExtensionString(s),c=[new kt((n[0]+n[1])/2,t),new kt(i,t)],u=new Qi(s,null,0,c,Rt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},e.prototype.decodeMiddle=function(t,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=t.getSize(),c=r[1],u=0,d=0;d<5&&c<l;d++){var f=Ep.decodeDigit(t,s,c,Ep.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,yRe(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<4-d),d!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==5)throw new Ye;var x=this.determineCheckDigit(u);if(e.extensionChecksum(n.toString())!==x)throw new Ye;return c},e.extensionChecksum=function(t){for(var r=t.length,n=0,a=r-2;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=t.charAt(a).charCodeAt(0)-48;return n*=3,n%10},e.prototype.determineCheckDigit=function(t){for(var r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Ye},e.parseExtensionString=function(t){if(t.length!==5)return null;var r=e.parseExtension5String(t);return r==null?null:new Map([[Si.SUGGESTED_PRICE,r]])},e.parseExtension5String=function(t){var r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(t.substring(1)),a=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return r+a+"."+s},e}(),_Re=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NRe=function(){function e(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),l=e.parseExtensionString(s),c=[new kt((n[0]+n[1])/2,t),new kt(i,t)],u=new Qi(s,null,0,c,Rt.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&u.putAllMetadata(l),u},e.prototype.decodeMiddle=function(t,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=t.getSize(),c=r[1],u=0,d=0;d<2&&c<l;d++){var f=Ep.decodeDigit(t,s,c,Ep.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,_Re(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<1-d),d!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(n.length!==2)throw new Ye;if(parseInt(n.toString())%4!==u)throw new Ye;return c},e.parseExtensionString=function(t){return t.length!==2?null:new Map([[Si.ISSUE_NUMBER,parseInt(t)]])},e}(),jRe=function(){function e(){}return e.decodeRow=function(t,r,n){var a=Ep.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new wRe;return i.decodeRow(t,r,a)}catch{var s=new NRe;return s.decodeRow(t,r,a)}},e.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),e}(),SRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),za=function(e){SRe(t,e);function t(){var r=e.call(this)||this;r.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(l){return Int32Array.from(l)});for(var n=10;n<20;n++){for(var a=t.L_PATTERNS[n-10],i=new Int32Array(a.length),s=0;s<a.length;s++)i[s]=a[a.length-s-1];t.L_AND_G_PATTERNS[n]=i}return r}return t.prototype.decodeRow=function(r,n,a){var i=t.findStartGuardPattern(n),s=a==null?null:a.get(An.NEED_RESULT_POINT_CALLBACK);if(s!=null){var l=new kt((i[0]+i[1])/2,r);s.foundPossibleResultPoint(l)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(s!=null){var f=new kt(u,r);s.foundPossibleResultPoint(f)}var h=t.decodeEnd(n,u);if(s!=null){var p=new kt((h[0]+h[1])/2,r);s.foundPossibleResultPoint(p)}var m=h[1],x=m+(m-h[0]);if(x>=n.getSize()||!n.isRange(m,x,!1))throw new Ye;var g=d.toString();if(g.length<8)throw new ut;if(!t.checkChecksum(g))throw new Ta;var v=(i[1]+i[0])/2,b=(h[1]+h[0])/2,y=this.getBarcodeFormat(),_=[new kt(v,r),new kt(b,r)],N=new Qi(g,null,0,_,y,new Date().getTime()),S=0;try{var j=jRe.decodeRow(r,n,h[1]);N.putMetadata(Si.UPC_EAN_EXTENSION,j.getText()),N.putAllMetadata(j.getResultMetadata()),N.addResultPoints(j.getResultPoints()),S=j.getText().length}catch{}var A=a==null?null:a.get(An.ALLOWED_EAN_EXTENSIONS);if(A!=null){var T=!1;for(var F in A)if(S.toString()===F){T=!0;break}if(!T)throw new Ye}return y===Rt.EAN_13||Rt.UPC_A,N},t.checkChecksum=function(r){return t.checkStandardUPCEANChecksum(r)},t.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return t.getStandardUPCEANChecksum(r.substring(0,n-1))===a},t.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}return(1e3-a)%10},t.decodeEnd=function(r,n){return t.findGuardPattern(r,n,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(Ep),ARe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bj=function(e){ARe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,s,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=za.decodeDigit(r,u,f,za.L_AND_G_PATTERNS);a+=String.fromCharCode(48+m%10);try{for(var x=(i=void 0,tI(u)),g=x.next();!g.done;g=x.next()){var v=g.value;f+=v}}catch(N){i={error:N}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}m>=10&&(h|=1<<5-p)}a=t.determineFirstDigit(a,h);var b=za.findGuardPattern(r,f,!0,za.MIDDLE_PATTERN,new Int32Array(za.MIDDLE_PATTERN.length).fill(0));f=b[1];for(var p=0;p<6&&f<d;p++){var m=za.decodeDigit(r,u,f,za.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var y=(l=void 0,tI(u)),_=y.next();!_.done;_=y.next()){var v=_.value;f+=v}}catch(j){l={error:j}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Rt.EAN_13},t.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new Ye},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(za),CRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nI=function(e){CRe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return t.prototype.decodeMiddle=function(r,n,a){var i,s,l,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=za.decodeDigit(r,u,f,za.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var m=(i=void 0,rI(u)),x=m.next();!x.done;x=m.next()){var g=x.value;f+=g}}catch(_){i={error:_}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}}var v=za.findGuardPattern(r,f,!0,za.MIDDLE_PATTERN,new Int32Array(za.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var h=0;h<4&&f<d;h++){var p=za.decodeDigit(r,u,f,za.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var b=(l=void 0,rI(u)),y=b.next();!y.done;y=b.next()){var g=y.value;f+=g}}catch(S){l={error:S}}finally{try{y&&!y.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}}return{rowOffset:f,resultString:a}},t.prototype.getBarcodeFormat=function(){return Rt.EAN_8},t}(za),ERe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aI=function(e){ERe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ean13Reader=new Bj,r}return t.prototype.getBarcodeFormat=function(){return Rt.UPC_A},t.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},t.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},t.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},t.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new Qi(n.substring(1),null,null,r.getResultPoints(),Rt.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new Ye},t.prototype.reset=function(){this.ean13Reader.reset()},t}(za),kRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TRe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iI=function(e){kRe(t,e);function t(){var r=e.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return t.prototype.decodeMiddle=function(r,n,a){var i,s,l=this.decodeMiddleCounters.map(function(g){return g});l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=t.decodeDigit(r,l,u,t.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var p=(i=void 0,TRe(l)),m=p.next();!m.done;m=p.next()){var x=m.value;u+=x}}catch(g){i={error:g}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}h>=10&&(d|=1<<5-f)}return t.determineNumSysAndCheckDigit(new lr(a),d),u},t.prototype.decodeEnd=function(r,n){return t.findGuardPatternWithoutCounters(r,n,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(r){return za.checkChecksum(t.convertUPCEtoUPCA(r))},t.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw Ye.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Rt.UPC_E},t.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),a=new lr;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(za),ORe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X4=function(e){ORe(t,e);function t(r){var n=e.call(this)||this,a=r==null?null:r.get(An.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Rt.EAN_13)>-1&&i.push(new Bj),a.indexOf(Rt.UPC_A)>-1&&i.push(new aI),a.indexOf(Rt.EAN_8)>-1&&i.push(new nI),a.indexOf(Rt.UPC_E)>-1&&i.push(new iI)),i.length===0&&(i.push(new Bj),i.push(new aI),i.push(new nI),i.push(new iI)),n.readers=i,n}return t.prototype.decodeRow=function(r,n,a){var i,s;try{for(var l=sI(this.readers),c=l.next();!c.done;c=l.next()){var u=c.value;try{var d=u.decodeRow(r,n,a),f=d.getBarcodeFormat()===Rt.EAN_13&&d.getText().charAt(0)==="0",h=a==null?null:a.get(An.POSSIBLE_FORMATS),p=h==null||h.includes(Rt.UPC_A);if(f&&p){var m=d.getRawBytes(),x=new Qi(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),Rt.UPC_A);return x.putAllMetadata(d.getResultMetadata()),x}return d}catch{}}}catch(g){i={error:g}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}throw new Ye},t.prototype.reset=function(){var r,n;try{for(var a=sI(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t}(Xa),PRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DRe=function(e){PRe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return t.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new Ye;var s=this.codaBarDecodeRow(i.row);if(!s)throw new Ye;return new Qi(s,null,0,[new kt(i.left,r),new kt(i.right,r)],Rt.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var s=[],l=n[0],c=1,u=1;u<n.length;u++)n[u]===l?c++:(l=n[u],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:a,right:i}},t.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),s=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var l=n.join("");return this.validCodaBarString(l)?l:null},t.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},t}(Xa),IRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MRe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s0=function(e){IRe(t,e);function t(){var r=e.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(Xa.patternMatchVariance(r,n[a],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return a;throw new Ye},t.count=function(r){return Pr.sum(new Int32Array(r))},t.increment=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]>i&&(i=n[s],a=s);r[a]++},t.decrement=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]<i&&(i=n[s],a=s);r[a]--},t.isFinderPattern=function(r){var n,a,i=r[0]+r[1],s=i+r[2]+r[3],l=i/s;if(l>=t.MIN_FINDER_PATTERN_RATIO&&l<=t.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=MRe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<c&&(c=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(Xa),Uy=function(){function e(t,r){this.value=t,this.checksumPortion=r}return e.prototype.getValue=function(){return this.value},e.prototype.getChecksumPortion=function(){return this.checksumPortion},e.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion},e.prototype.hashCode=function(){return this.value^this.checksumPortion},e}(),Xz=function(){function e(t,r,n,a,i){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new kt(n,i)),this.resultPoints.push(new kt(a,i))}return e.prototype.getValue=function(){return this.value},e.prototype.getStartEnd=function(){return this.startEnd},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.hashCode=function(){return this.value},e}(),FRe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sh=function(){function e(){}return e.getRSSvalue=function(t,r,n){var a,i,s=0;try{for(var l=FRe(t),c=l.next();!c.done;c=l.next()){var u=c.value;s+=u}}catch(b){a={error:b}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}for(var d=0,f=0,h=t.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<t[p];m++,f&=~(1<<p)){var x=e.combins(s-m-1,h-p-2);if(n&&f===0&&s-m-(h-p-1)>=h-p-1&&(x-=e.combins(s-m-(h-p),h-p-2)),h-p-1>1){for(var g=0,v=s-m-(h-p-2);v>r;v--)g+=e.combins(s-m-v-1,h-p-3);x-=g*(h-1-p)}else s-m>r&&x--;d+=x}s-=m}return d},e.combins=function(t,r){var n,a;t-r>r?(a=r,n=t-r):(a=t-r,n=r);for(var i=1,s=1,l=t;l>n;l--)i*=l,s<=a&&(i/=s,s++);for(;s<=a;)i/=s,s++;return i},e}(),RRe=function(){function e(){}return e.buildBitArray=function(t){var r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new ui(n),i=0,s=t[0],l=s.getRightChar().getValue(),c=11;c>=0;--c)l&1<<c&&a.set(i),i++;for(var c=1;c<t.length;++c){for(var u=t[c],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&a.set(i),i++}return a},e}(),Kd=function(){function e(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}return e.prototype.getDecodedInformation=function(){return this.decodedInformation},e.prototype.isFinished=function(){return this.finished},e}(),HC=function(){function e(t){this.newPosition=t}return e.prototype.getNewPosition=function(){return this.newPosition},e}(),LRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ul=function(e){LRe(t,e);function t(r,n){var a=e.call(this,r)||this;return a.value=n,a}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(HC),BRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qd=function(e){BRe(t,e);function t(r,n,a){var i=e.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(HC),$Re=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sh=function(e){$Re(t,e);function t(r,n,a){var i=e.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new ut;return i.firstDigit=n,i.secondDigit=a,i}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(HC),_2=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zRe=function(){function e(){}return e.parseFieldsInGeneralPurpose=function(t){var r,n,a,i,s,l,c,u;if(!t)return null;if(t.length<2)throw new Ye;var d=t.substring(0,2);try{for(var f=_2(e.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(2,p[2],t):e.processFixedAI(2,p[1],t)}}catch(S){r={error:S}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(t.length<3)throw new Ye;var m=t.substring(0,3);try{for(var x=_2(e.THREE_DIGIT_DATA_LENGTH),g=x.next();!g.done;g=x.next()){var p=g.value;if(p[0]===m)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(3,p[2],t):e.processFixedAI(3,p[1],t)}}catch(S){a={error:S}}finally{try{g&&!g.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}try{for(var v=_2(e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=v.next();!b.done;b=v.next()){var p=b.value;if(p[0]===m)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,p[2],t):e.processFixedAI(4,p[1],t)}}catch(S){s={error:S}}finally{try{b&&!b.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}if(t.length<4)throw new Ye;var y=t.substring(0,4);try{for(var _=_2(e.FOUR_DIGIT_DATA_LENGTH),N=_.next();!N.done;N=_.next()){var p=N.value;if(p[0]===y)return p[1]===e.VARIABLE_LENGTH?e.processVariableAI(4,p[2],t):e.processFixedAI(4,p[1],t)}}catch(S){c={error:S}}finally{try{N&&!N.done&&(u=_.return)&&u.call(_)}finally{if(c)throw c.error}}throw new Ye},e.processFixedAI=function(t,r,n){if(n.length<t)throw new Ye;var a=n.substring(0,t);if(n.length<t+r)throw new Ye;var i=n.substring(t,t+r),s=n.substring(t+r),l="("+a+")"+i,c=e.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},e.processVariableAI=function(t,r,n){var a=n.substring(0,t),i;n.length<t+r?i=n.length:i=t+r;var s=n.substring(t,i),l=n.substring(i),c="("+a+")"+s,u=e.parseFieldsInGeneralPurpose(l);return u==null?c:c+u},e.VARIABLE_LENGTH=[],e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",e.VARIABLE_LENGTH,20],["22",e.VARIABLE_LENGTH,29],["30",e.VARIABLE_LENGTH,8],["37",e.VARIABLE_LENGTH,8],["90",e.VARIABLE_LENGTH,30],["91",e.VARIABLE_LENGTH,30],["92",e.VARIABLE_LENGTH,30],["93",e.VARIABLE_LENGTH,30],["94",e.VARIABLE_LENGTH,30],["95",e.VARIABLE_LENGTH,30],["96",e.VARIABLE_LENGTH,30],["97",e.VARIABLE_LENGTH,3],["98",e.VARIABLE_LENGTH,30],["99",e.VARIABLE_LENGTH,30]],e.THREE_DIGIT_DATA_LENGTH=[["240",e.VARIABLE_LENGTH,30],["241",e.VARIABLE_LENGTH,30],["242",e.VARIABLE_LENGTH,6],["250",e.VARIABLE_LENGTH,30],["251",e.VARIABLE_LENGTH,30],["253",e.VARIABLE_LENGTH,17],["254",e.VARIABLE_LENGTH,20],["400",e.VARIABLE_LENGTH,30],["401",e.VARIABLE_LENGTH,30],["402",17],["403",e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",e.VARIABLE_LENGTH,20],["421",e.VARIABLE_LENGTH,15],["422",3],["423",e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",e.VARIABLE_LENGTH,15],["391",e.VARIABLE_LENGTH,18],["392",e.VARIABLE_LENGTH,15],["393",e.VARIABLE_LENGTH,18],["703",e.VARIABLE_LENGTH,30]],e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",e.VARIABLE_LENGTH,20],["8003",e.VARIABLE_LENGTH,30],["8004",e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",e.VARIABLE_LENGTH,30],["8008",e.VARIABLE_LENGTH,12],["8018",18],["8020",e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",e.VARIABLE_LENGTH,70],["8200",e.VARIABLE_LENGTH,70]],e}(),J2=function(){function e(t){this.buffer=new lr,this.information=t}return e.prototype.decodeAllCodes=function(t,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),s=zRe.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&t.append(s),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return t.toString()},e.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)},e.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(t,4);return r===0?new sh(this.information.getSize(),sh.FNC1,sh.FNC1):new sh(this.information.getSize(),r-1,sh.FNC1)}var n=this.extractNumericValueFromBitArray(t,7),a=(n-8)/11,i=(n-8)%11;return new sh(t+7,a,i)},e.prototype.extractNumericValueFromBitArray=function(t,r){return e.extractNumericValueFromBitArray(this.information,t,r)},e.extractNumericValueFromBitArray=function(t,r,n){for(var a=0,i=0;i<n;++i)t.get(r+i)&&(a|=1<<n-i-1);return a},e.prototype.decodeGeneralPurposeField=function(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Qd(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Qd(this.current.getPosition(),this.buffer.toString())},e.prototype.parseBlocks=function(){var t,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!t)break}while(!t);return r.getDecodedInformation()},e.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var r=void 0;return t.isSecondDigitFNC1()?r=new Qd(this.current.getPosition(),this.buffer.toString()):r=new Qd(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Kd(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var r=new Qd(this.current.getPosition(),this.buffer.toString());return new Kd(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Kd(!1)},e.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new Qd(this.current.getPosition(),this.buffer.toString());return new Kd(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Kd(!1)},e.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var r=new Qd(this.current.getPosition(),this.buffer.toString());return new Kd(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Kd(!1)},e.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(t,8);return a>=232&&a<253},e.prototype.decodeIsoIec646=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new ul(t+5,ul.FNC1);if(r>=5&&r<15)return new ul(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<90)return new ul(t+7,""+(n+1));if(n>=90&&n<116)return new ul(t+7,""+(n+7));var a=this.extractNumericValueFromBitArray(t,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new ut}return new ul(t+8,i)},e.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63},e.prototype.decodeAlphanumeric=function(t){var r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new ul(t+5,ul.FNC1);if(r>=5&&r<15)return new ul(t+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(t,6);if(n>=32&&n<58)return new ul(t+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Ig("Decoding invalid alphanumeric value: "+n)}return new ul(t+6,a)},e.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0},e.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0},e.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0},e}(),Kz=function(){function e(t){this.information=t,this.generalDecoder=new J2(t)}return e.prototype.getInformation=function(){return this.information},e.prototype.getGeneralDecoder=function(){return this.generalDecoder},e}(),URe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xl=function(e){URe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},t.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}t.appendCheckDigit(r,a)},t.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var s=r.charAt(i+n).charCodeAt(0)-48;a+=i&1?s:3*s}a=10-a%10,a===10&&(a=0),r.append(a)},t.GTIN_SIZE=40,t}(Kz),HRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WRe=function(e){HRe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new lr;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,t.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(xl),VRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qRe=function(e){VRe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){var r=new lr;return this.getGeneralDecoder().decodeAllCodes(r,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(Kz),GRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z2=function(e){GRe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var s=this.checkWeight(i),l=1e5,c=0;c<5;++c)s/l===0&&r.append("0"),l/=10;r.append(s)},t}(xl),YRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qz=function(e){YRe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+Z2.GTIN_SIZE+t.WEIGHT_SIZE)throw new Ye;var r=new lr;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+Z2.GTIN_SIZE,t.WEIGHT_SIZE),r.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(Z2),XRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KRe=function(e){XRe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){r.append("(3103)")},t.prototype.checkWeight=function(r){return r},t}(Qz),QRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JRe=function(e){QRe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},t.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},t}(Qz),ZRe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eLe=function(e){ZRe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+xl.GTIN_SIZE)throw new Ye;var r=new lr;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+xl.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+xl.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(xl),tLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rLe=function(e){tLe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+xl.GTIN_SIZE)throw new Ye;var r=new lr;this.encodeCompressedGtin(r,t.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+xl.GTIN_SIZE,t.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+xl.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+xl.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(xl),nLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hu=function(e){nLe(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Ye;var r=new lr;return this.encodeCompressedGtin(r,t.HEADER_SIZE),this.encodeCompressedWeight(r,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(r,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),r.toString()},t.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,t.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var s=a%12+1;a/=12;var l=a;l/10===0&&r.append("0"),r.append(l),s/10===0&&r.append("0"),r.append(s),i/10===0&&r.append("0"),r.append(i)}},t.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},t.prototype.checkWeight=function(r){return r%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(Z2);function aLe(e){try{if(e.get(1))return new WRe(e);if(!e.get(2))return new qRe(e);var t=J2.extractNumericValueFromBitArray(e,1,4);switch(t){case 4:return new KRe(e);case 5:return new JRe(e)}var r=J2.extractNumericValueFromBitArray(e,1,5);switch(r){case 12:return new eLe(e);case 13:return new rLe(e)}var n=J2.extractNumericValueFromBitArray(e,1,7);switch(n){case 56:return new Hu(e,"310","11");case 57:return new Hu(e,"320","11");case 58:return new Hu(e,"310","13");case 59:return new Hu(e,"320","13");case 60:return new Hu(e,"310","15");case 61:return new Hu(e,"320","15");case 62:return new Hu(e,"310","17");case 63:return new Hu(e,"320","17")}}catch(a){throw console.log(a),new Ig("unknown decoder: "+e)}}var oI=function(){function e(t,r,n,a){this.leftchar=t,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return e.prototype.mayBeLast=function(){return this.maybeLast},e.prototype.getLeftChar=function(){return this.leftchar},e.prototype.getRightChar=function(){return this.rightchar},e.prototype.getFinderPattern=function(){return this.finderpattern},e.prototype.mustBeLast=function(){return this.rightchar==null},e.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},e.equals=function(t,r){return t instanceof e?e.equalsOrNull(t.leftchar,r.leftchar)&&e.equalsOrNull(t.rightchar,r.rightchar)&&e.equalsOrNull(t.finderpattern,r.finderpattern):!1},e.equalsOrNull=function(t,r){return t===null?r===null:e.equals(t,r)},e.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},e}(),iLe=function(){function e(t,r,n){this.pairs=t,this.rowNumber=r,this.wasReversed=n}return e.prototype.getPairs=function(){return this.pairs},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.isReversed=function(){return this.wasReversed},e.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},e.prototype.toString=function(){return"{ "+this.pairs+" }"},e.prototype.equals=function(t,r){return t instanceof e?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1},e.prototype.checkEqualitity=function(t,r){if(!(!t||!r)){var n;return t.forEach(function(a,i){r.forEach(function(s){a.getLeftChar().getValue()===s.getLeftChar().getValue()&&a.getRightChar().getValue()===s.getRightChar().getValue()&&a.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},e}(),sLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oLe=function(e){sLe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.pairs=new Array(t.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return t.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(r,n))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(l){if(l instanceof Ye){if(!this.pairs.length)throw new Ye;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Ye},t.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},t.prototype.checkRows=function(r,n){for(var a,i,s=n;s<this.rows.length;s++){var l=this.rows[s];this.pairs.length=0;try{for(var c=(a=void 0,Wu(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(l.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(l);try{return this.checkRows(f,s+1)}catch(h){console.log(h)}}}throw new Ye},t.isValidSequence=function(r){var n,a;try{for(var i=Wu(t.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var l=s.value;if(!(r.length>l.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==l[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},t.prototype.storeRow=function(r,n){for(var a=0,i=!1,s=!1;a<this.rows.length;){var l=this.rows[a];if(l.getRowNumber()>r){s=l.isEquivalent(this.pairs);break}i=l.isEquivalent(this.pairs),a++}s||i||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new iLe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(r,n){var a,i,s,l,c,u;try{for(var d=Wu(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(s=void 0,Wu(h.getPairs())),x=m.next();!x.done;x=m.next()){var g=x.value,v=!1;try{for(var b=(c=void 0,Wu(r)),y=b.next();!y.done;y=b.next()){var _=y.value;if(oI.equals(g,_)){v=!0;break}}}catch(N){c={error:N}}finally{try{y&&!y.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}v||(p=!1)}}catch(N){s={error:N}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}}catch(N){a={error:N}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},t.isPartialRow=function(r,n){var a,i,s,l,c,u;try{for(var d=Wu(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(s=void 0,Wu(r)),x=m.next();!x.done;x=m.next()){var g=x.value,v=!1;try{for(var b=(c=void 0,Wu(h.getPairs())),y=b.next();!y.done;y=b.next()){var _=y.value;if(g.equals(_)){v=!0;break}}}catch(N){c={error:N}}finally{try{y&&!y.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}if(!v){p=!1;break}}}catch(N){s={error:N}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}if(p)return!0}}catch(N){a={error:N}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(r){var n=RRe.buildBitArray(r),a=aLe(n),i=a.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),l=r[r.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],l[0],l[1]];return new Qi(i,null,null,c,Rt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),s=2,l=1;l<this.pairs.size();++l){var c=this.pairs.get(l);i+=c.getLeftChar().getChecksumPortion(),s++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),s++)}i%=211;var d=211*(s-4)+i;return d===n.getValue()},t.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},t.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var s,l=!0,c=-1;do this.findNextPair(r,n,c),s=this.parseFoundFinderPattern(r,a,i),s===null?c=t.getNextSecondBar(r,this.startEnd[0]):l=!1;while(l);var u=this.decodeDataCharacter(r,s,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Ye;var d;try{d=this.decodeDataCharacter(r,s,i,!1)}catch(f){d=null,console.log(f)}return new oI(u,d,s,!0)},t.prototype.isEmptyPair=function(r){return r.length===0},t.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s=r.getSize(),l;if(a>=0)l=a;else if(this.isEmptyPair(n))l=0;else{var c=n[n.length-1];l=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;l<s&&(d=!r.get(l),!!d);)l++;for(var f=0,h=l,p=l;p<s;p++)if(r.get(p)!==d)i[f]++;else{if(f===3){if(u&&t.reverseCounters(i),t.isFinderPattern(i)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&t.reverseCounters(i),h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,d=!d}throw new Ye},t.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},t.prototype.parseFoundFinderPattern=function(r,n,a){var i,s,l;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,s=c,l=this.startEnd[1]}else s=this.startEnd[0],l=r.getNextUnset(this.startEnd[1]+1),i=l-this.startEnd[1];var u=this.getDecodeFinderCounters();Sn.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,t.FINDER_PATTERNS)}catch{return null}return new Xz(d,[s,l],s,l,n)},t.prototype.decodeDataCharacter=function(r,n,a,i){for(var s=this.getDataCharacterCounters(),l=0;l<s.length;l++)s[l]=0;if(i)t.recordPatternInReverse(r,n.getStartEnd()[0],s);else{t.recordPattern(r,n.getStartEnd()[1],s);for(var c=0,u=s.length-1;c<u;c++,u--){var d=s[c];s[c]=s[u],s[u]=d}}var f=17,h=Pr.sum(new Int32Array(s))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new Ye;for(var m=this.getOddCounts(),x=this.getEvenCounts(),g=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var b=1*s[c]/h,y=b+.5;if(y<1){if(b<.3)throw new Ye;y=1}else if(y>8){if(b>8.7)throw new Ye;y=8}var _=c/2;c&1?(x[_]=y,v[_]=b-y):(m[_]=y,g[_]=b-y)}this.adjustOddEvenCounts(f);for(var N=4*n.getValue()+(a?0:2)+(i?0:1)-1,S=0,j=0,c=m.length-1;c>=0;c--){if(t.isNotA1left(n,a,i)){var A=t.WEIGHTS[N][2*c];j+=m[c]*A}S+=m[c]}for(var T=0,c=x.length-1;c>=0;c--)if(t.isNotA1left(n,a,i)){var A=t.WEIGHTS[N][2*c+1];T+=x[c]*A}var F=j+T;if(S&1||S>13||S<4)throw new Ye;var O=(13-S)/2,E=t.SYMBOL_WIDEST[O],L=9-E,B=Sh.getRSSvalue(m,E,!0),G=Sh.getRSSvalue(x,L,!1),z=t.EVEN_TOTAL_SUBSET[O],V=t.GSUM[O],Y=B*z+G+V;return new Uy(Y,F)},t.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},t.prototype.adjustOddEvenCounts=function(r){var n=Pr.sum(new Int32Array(this.getOddCounts())),a=Pr.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);var l=!1,c=!1;a>13?c=!0:a<4&&(l=!0);var u=n+a-r,d=(n&1)===1,f=(a&1)===0;if(u===1)if(d){if(f)throw new Ye;s=!0}else{if(!f)throw new Ye;c=!0}else if(u===-1)if(d){if(f)throw new Ye;i=!0}else{if(!f)throw new Ye;l=!0}else if(u===0){if(d){if(!f)throw new Ye;n<a?(i=!0,c=!0):(s=!0,l=!0)}else if(f)throw new Ye}else throw new Ye;if(i){if(s)throw new Ye;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ye;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(s0),lLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cLe=function(e){lLe(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(Uy),uLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lI=function(e){uLe(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return t.prototype.decodeRow=function(r,n,a){var i,s,l,c,u=this.decodePair(n,!1,r,a);t.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,a);t.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=K4(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(l=void 0,K4(this.possibleRightPairs)),x=m.next();!x.done;x=m.next()){var g=x.value;if(g.getCount()>1&&t.checkChecksum(p,g))return t.constructResult(p,g)}}catch(v){l={error:v}}finally{try{x&&!x.done&&(c=m.return)&&c.call(m)}finally{if(l)throw l.error}}}}catch(v){i={error:v}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}throw new Ye},t.addOrTally=function(r,n){var a,i;if(n!=null){var s=!1;try{for(var l=K4(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}s||r.push(n)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),s=new lr,l=13-i.length;l>0;l--)s.append("0");s.append(i);for(var c=0,l=0;l<13;l++){var u=s.charAt(l).charCodeAt(0)-48;c+=l&1?u:3*u}c=10-c%10,c===10&&(c=0),s.append(c.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Qi(s.toString(),null,0,[d[0],d[1],f[0],f[1]],Rt.RSS_14,new Date().getTime())},t.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},t.prototype.decodePair=function(r,n,a,i){try{var s=this.findFinderPattern(r,n),l=this.parseFoundFinderPattern(r,a,n,s),c=i==null?null:i.get(An.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new kt(u,a))}var d=this.decodeDataCharacter(r,l,!0),f=this.decodeDataCharacter(r,l,!1);return new cLe(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),l)}catch{return null}},t.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(a)Xa.recordPatternInReverse(r,n.getStartEnd()[0],i);else{Xa.recordPattern(r,n.getStartEnd()[1]+1,i);for(var l=0,c=i.length-1;l<c;l++,c--){var u=i[l];i[l]=i[c],i[c]=u}}for(var d=a?16:15,f=Pr.sum(new Int32Array(i))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<i.length;l++){var g=i[l]/f,v=Math.floor(g+.5);v<1?v=1:v>8&&(v=8);var b=Math.floor(l/2);l&1?(p[b]=v,x[b]=g-v):(h[b]=v,m[b]=g-v)}this.adjustOddEvenCounts(a,d);for(var y=0,_=0,l=h.length-1;l>=0;l--)_*=9,_+=h[l],y+=h[l];for(var N=0,S=0,l=p.length-1;l>=0;l--)N*=9,N+=p[l],S+=p[l];var j=_+3*N;if(a){if(y&1||y>12||y<4)throw new Ye;var A=(12-y)/2,T=t.OUTSIDE_ODD_WIDEST[A],F=9-T,O=Sh.getRSSvalue(h,T,!1),E=Sh.getRSSvalue(p,F,!0),L=t.OUTSIDE_EVEN_TOTAL_SUBSET[A],B=t.OUTSIDE_GSUM[A];return new Uy(O*L+E+B,j)}else{if(S&1||S>10||S<4)throw new Ye;var A=(10-S)/2,T=t.INSIDE_ODD_WIDEST[A],F=9-T,O=Sh.getRSSvalue(h,T,!0),E=Sh.getRSSvalue(p,F,!1),G=t.INSIDE_ODD_TOTAL_SUBSET[A],B=t.INSIDE_GSUM[A];return new Uy(E*G+O+B,j)}},t.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),s=!1,l=0;l<i&&(s=!r.get(l),n!==s);)l++;for(var c=0,u=l,d=l;d<i;d++)if(r.get(d)!==s)a[c]++;else{if(c===3){if(s0.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new Ye},t.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var s=r.get(i[0]),l=i[0]-1;l>=0&&s!==r.get(l);)l--;l++;var c=i[0]-l,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Sn.arraycopy(u,0,d,1,u.length-1),d[0]=c;var f=this.parseFinderValue(d,t.FINDER_PATTERNS),h=l,p=i[1];return a&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new Xz(f,[l,i[1]],h,p,n)},t.prototype.adjustOddEvenCounts=function(r,n){var a=Pr.sum(new Int32Array(this.getOddCounts())),i=Pr.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1,c=!1,u=!1;r?(a>12?l=!0:a<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?l=!0:a<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));var d=a+i-n,f=(a&1)===(r?1:0),h=(i&1)===1;if(d===1)if(f){if(h)throw new Ye;l=!0}else{if(!h)throw new Ye;u=!0}else if(d===-1)if(f){if(h)throw new Ye;s=!0}else{if(!h)throw new Ye;c=!0}else if(d===0){if(f){if(!h)throw new Ye;a<i?(s=!0,u=!0):(l=!0,c=!0)}else if(h)throw new Ye}else throw new Ye;if(s){if(l)throw new Ye;s0.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&s0.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Ye;s0.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&s0.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(s0),dLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ah=function(e){dLe(t,e);function t(r){var n=e.call(this)||this;n.readers=[];var a=r?r.get(An.POSSIBLE_FORMATS):null,i=r&&r.get(An.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=r&&r.get(An.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Rt.EAN_13)||a.includes(Rt.UPC_A)||a.includes(Rt.EAN_8)||a.includes(Rt.UPC_E))&&n.readers.push(new X4(r)),a.includes(Rt.CODE_39)&&n.readers.push(new JD(i,s)),a.includes(Rt.CODE_93)&&n.readers.push(new ZD),a.includes(Rt.CODE_128)&&n.readers.push(new QD),a.includes(Rt.ITF)&&n.readers.push(new eI),a.includes(Rt.CODABAR)&&n.readers.push(new DRe),a.includes(Rt.RSS_14)&&n.readers.push(new lI),a.includes(Rt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new oLe))),n.readers.length===0&&(n.readers.push(new X4(r)),n.readers.push(new JD),n.readers.push(new ZD),n.readers.push(new X4(r)),n.readers.push(new QD),n.readers.push(new eI),n.readers.push(new lI)),n}return t.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new Ye},t.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},t}(Xa),fLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){fLe(t,e);function t(r,n){return r===void 0&&(r=500),e.call(this,new Ah(n),r,n)||this}return t})(nm);var cI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hr=function(){function e(t,r,n){this.ecCodewords=t,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),Lr=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),hLe=function(){function e(t,r,n,a,i,s){var l,c;this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=s;var u=0,d=s.getECCodewords(),f=s.getECBlocks();try{for(var h=cI(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(x){l={error:x}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}this.totalCodewords=u}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,r){var n,a;if(t&1||r&1)throw new ut;try{for(var i=cI(e.VERSIONS),s=i.next();!s.done;s=i.next()){var l=s.value;if(l.symbolSizeRows===t&&l.symbolSizeColumns===r)return l}}catch(c){n={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new ut},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new Hr(5,new Lr(1,3))),new e(2,12,12,10,10,new Hr(7,new Lr(1,5))),new e(3,14,14,12,12,new Hr(10,new Lr(1,8))),new e(4,16,16,14,14,new Hr(12,new Lr(1,12))),new e(5,18,18,16,16,new Hr(14,new Lr(1,18))),new e(6,20,20,18,18,new Hr(18,new Lr(1,22))),new e(7,22,22,20,20,new Hr(20,new Lr(1,30))),new e(8,24,24,22,22,new Hr(24,new Lr(1,36))),new e(9,26,26,24,24,new Hr(28,new Lr(1,44))),new e(10,32,32,14,14,new Hr(36,new Lr(1,62))),new e(11,36,36,16,16,new Hr(42,new Lr(1,86))),new e(12,40,40,18,18,new Hr(48,new Lr(1,114))),new e(13,44,44,20,20,new Hr(56,new Lr(1,144))),new e(14,48,48,22,22,new Hr(68,new Lr(1,174))),new e(15,52,52,24,24,new Hr(42,new Lr(2,102))),new e(16,64,64,14,14,new Hr(56,new Lr(2,140))),new e(17,72,72,16,16,new Hr(36,new Lr(4,92))),new e(18,80,80,18,18,new Hr(48,new Lr(4,114))),new e(19,88,88,20,20,new Hr(56,new Lr(4,144))),new e(20,96,96,22,22,new Hr(68,new Lr(4,174))),new e(21,104,104,24,24,new Hr(56,new Lr(6,136))),new e(22,120,120,18,18,new Hr(68,new Lr(6,175))),new e(23,132,132,20,20,new Hr(62,new Lr(8,163))),new e(24,144,144,22,22,new Hr(62,new Lr(8,156),new Lr(2,155))),new e(25,8,18,6,16,new Hr(7,new Lr(1,5))),new e(26,8,32,6,14,new Hr(11,new Lr(1,10))),new e(27,12,26,10,24,new Hr(14,new Lr(1,16))),new e(28,12,36,10,16,new Hr(18,new Lr(1,22))),new e(29,16,36,14,16,new Hr(24,new Lr(1,32))),new e(30,16,48,14,22,new Hr(28,new Lr(1,49)))]},e.VERSIONS=e.buildVersions(),e}(),pLe=function(){function e(t){var r=t.getHeight();if(r<8||r>144||r&1)throw new ut;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new fc(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(t){var r=t.getHeight(),n=t.getWidth();return hLe.getVersionForDimensions(r,n)},e.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),l=!1,c=!1,u=!1,d=!1;do if(n===i&&a===0&&!l)t[r++]=this.readCorner1(i,s)&255,n-=2,a+=2,l=!0;else if(n===i-2&&a===0&&s&3&&!c)t[r++]=this.readCorner2(i,s)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&!(s&7)&&!u)t[r++]=this.readCorner3(i,s)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(s&7)===4&&!d)t[r++]=this.readCorner4(i,s)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,s)&255),n-=2,a+=2;while(n>=0&&a<s);n+=1,a+=3;do n>=0&&a<s&&!this.readMappingMatrix.get(a,n)&&(t[r++]=this.readUtah(n,a,i,s)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<s);if(r!==this.version.getTotalCodewords())throw new ut;return t},e.prototype.readModule=function(t,r,n,a){return t<0&&(t+=n,r+=4-(n+4&7)),r<0&&(r+=a,t+=4-(a+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)},e.prototype.readUtah=function(t,r,n,a){var i=0;return this.readModule(t-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t-1,r,n,a)&&(i|=1),i<<=1,this.readModule(t,r-2,n,a)&&(i|=1),i<<=1,this.readModule(t,r-1,n,a)&&(i|=1),i<<=1,this.readModule(t,r,n,a)&&(i|=1),i},e.prototype.readCorner1=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,1,t,r)&&(n|=1),n<<=1,this.readModule(t-1,2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.readCorner2=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-4,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner3=function(t,r){var n=0;return this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(0,r-3,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-3,t,r)&&(n|=1),n<<=1,this.readModule(1,r-2,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n},e.prototype.readCorner4=function(t,r){var n=0;return this.readModule(t-3,0,t,r)&&(n|=1),n<<=1,this.readModule(t-2,0,t,r)&&(n|=1),n<<=1,this.readModule(t-1,0,t,r)&&(n|=1),n<<=1,this.readModule(0,r-2,t,r)&&(n|=1),n<<=1,this.readModule(0,r-1,t,r)&&(n|=1),n<<=1,this.readModule(1,r-1,t,r)&&(n|=1),n<<=1,this.readModule(2,r-1,t,r)&&(n|=1),n<<=1,this.readModule(3,r-1,t,r)&&(n|=1),n},e.prototype.extractDataRegion=function(t){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new Lt("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=r/a|0,l=n/i|0,c=s*a,u=l*i,d=new fc(u,c),f=0;f<s;++f)for(var h=f*a,p=0;p<l;++p)for(var m=p*i,x=0;x<a;++x)for(var g=f*(a+2)+1+x,v=h+x,b=0;b<i;++b){var y=p*(i+2)+1+b;if(t.get(y,g)){var _=m+b;d.set(_,v)}}return d},e}(),uI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mLe=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r){var n,a,i,s,l=r.getECBlocks(),c=0,u=l.getECBlocks();try{for(var d=uI(u),f=d.next();!f.done;f=d.next()){var h=f.value;c+=h.getCount()}}catch(B){n={error:B}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var x=uI(u),g=x.next();!g.done;g=x.next())for(var h=g.value,v=0;v<h.getCount();v++){var b=h.getDataCodewords(),y=l.getECCodewords()+b;p[m++]=new e(b,new Uint8Array(y))}}catch(B){i={error:B}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}for(var _=p[0].codewords.length,N=_-l.getECCodewords(),S=N-1,j=0,v=0;v<S;v++)for(var A=0;A<m;A++)p[A].codewords[v]=t[j++];for(var T=r.getVersionNumber()===24,F=T?8:m,A=0;A<F;A++)p[A].codewords[N-1]=t[j++];for(var O=p[0].codewords.length,v=N;v<O;v++)for(var A=0;A<m;A++){var E=T?(A+8)%m:A,L=T&&E>7?v-1:v;p[E].codewords[L]=t[j++]}if(j!==t.length)throw new Lt;return p},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),Jz=function(){function e(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Lt(""+t);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var s=8-n,l=t<s?t:s,c=s-l,u=255>>8-l<<c;r=(i[a]&u)>>c,t-=l,n+=l,n===8&&(n=0,a++)}if(t>0){for(;t>=8;)r=r<<8|i[a]&255,a++,t-=8;if(t>0){var c=8-t,u=255>>c<<c;r=r<<t|(i[a]&u)>>c,n+=t}}return this.bitOffset=n,this.byteOffset=a,r},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}(),La;(function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"})(La||(La={}));var xLe=function(){function e(){}return e.decode=function(t){var r=new Jz(t),n=new lr,a=new lr,i=new Array,s=La.ASCII_ENCODE;do if(s===La.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,a);else{switch(s){case La.C40_ENCODE:this.decodeC40Segment(r,n);break;case La.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case La.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case La.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case La.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new ut}s=La.ASCII_ENCODE}while(s!==La.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new w5(t,n.toString(),i.length===0?null:i,null)},e.decodeAsciiSegment=function(t,r,n){var a=!1;do{var i=t.readBits(8);if(i===0)throw new ut;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),La.ASCII_ENCODE;if(i===129)return La.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&r.append("0"),r.append(""+s)}else switch(i){case 230:return La.C40_ENCODE;case 231:return La.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return La.ANSIX12_ENCODE;case 239:return La.TEXT_ENCODE;case 240:return La.EDIFACT_ENCODE;case 241:break;default:if(i!==254||t.available()!==0)throw new ut;break}}while(t.available()>0);return La.ASCII_ENCODE},e.decodeC40Segment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ut;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ut}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new ut}}}while(t.available()>0)},e.decodeTextSegment=function(t,r){var n=!1,a=[],i=0;do{if(t.available()===8)return;var s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(var l=0;l<3;l++){var c=a[l];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ut;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new ut}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new ut;break;default:throw new ut}}}while(t.available()>0)},e.decodeAnsiX12Segment=function(t,r){var n=[];do{if(t.available()===8)return;var a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),n);for(var i=0;i<3;i++){var s=n[i];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new ut;break}}}while(t.available()>0)},e.parseTwoBytes=function(t,r,n){var a=(t<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},e.decodeEdifactSegment=function(t,r){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var a=t.readBits(6);if(a===31){var i=8-t.getBitOffset();i!==8&&t.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(t.available()>0)},e.decodeBase256Segment=function(t,r,n){var a=1+t.getByteOffset(),i=this.unrandomize255State(t.readBits(8),a++),s;if(i===0?s=t.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(t.readBits(8),a++),s<0)throw new ut;for(var l=new Uint8Array(s),c=0;c<s;c++){if(t.available()<8)throw new ut;l[c]=this.unrandomize255State(t.readBits(8),a++)}n.push(l);try{r.append(zo.decode(l,wr.ISO88591))}catch(u){throw new Ig("Platform does not support required encoding: "+u.message)}},e.unrandomize255State=function(t,r){var n=149*r%255+1,a=t-n;return a>=0?a:a+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],e}(),gLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vLe=function(){function e(){this.rsDecoder=new _5(ks.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(t){var r,n,a=new pLe(t),i=a.getVersion(),s=a.readCodewords(),l=mLe.getDataBlocks(s,i),c=0;try{for(var u=gLe(l),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(y){r={error:y}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(c),p=l.length,m=0;m<p;m++){var x=l[m],g=x.getCodewords(),v=x.getNumDataCodewords();this.correctErrors(g,v);for(var b=0;b<v;b++)h[b*p+m]=g[b]}return xLe.decode(h)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new Ta}for(var a=0;a<r;a++)t[a]=n[a]},e}(),bLe=function(){function e(t){this.image=t,this.rectangleDetector=new Lj(this.image)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Ye;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],s=r[3],l=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(i,s)+1;(l&1)===1&&(l+=1),(c&1)===1&&(c+=1),4*l<7*c&&4*c<7*l&&(l=c=Math.max(l,c));var u=e.sampleGrid(this.image,n,a,i,s,l,c);return new zC(u,[n,a,i,s])},e.shiftPoint=function(t,r,n){var a=(r.getX()-t.getX())/(n+1),i=(r.getY()-t.getY())/(n+1);return new kt(t.getX()+a,t.getY()+i)},e.moveAway=function(t,r,n){var a=t.getX(),i=t.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new kt(a,i)},e.prototype.detectSolid1=function(t){var r=t[0],n=t[1],a=t[3],i=t[2],s=this.transitionsBetween(r,n),l=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),d=s,f=[i,r,n,a];return d>l&&(d=l,f[0]=r,f[1]=n,f[2]=a,f[3]=i),d>c&&(d=c,f[0]=n,f[1]=a,f[2]=i,f[3]=r),d>u&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},e.prototype.detectSolid2=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],s=this.transitionsBetween(r,i),l=e.shiftPoint(n,a,(s+1)*4),c=e.shiftPoint(a,n,(s+1)*4),u=this.transitionsBetween(l,r),d=this.transitionsBetween(c,i);return u<d?(t[0]=r,t[1]=n,t[2]=a,t[3]=i):(t[0]=n,t[1]=a,t[2]=i,t[3]=r),t},e.prototype.correctTopRight=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],s=this.transitionsBetween(r,i),l=this.transitionsBetween(n,i),c=e.shiftPoint(r,n,(l+1)*4),u=e.shiftPoint(a,n,(s+1)*4);s=this.transitionsBetween(c,i),l=this.transitionsBetween(u,i);var d=new kt(i.getX()+(a.getX()-n.getX())/(s+1),i.getY()+(a.getY()-n.getY())/(s+1)),f=new kt(i.getX()+(r.getX()-n.getX())/(l+1),i.getY()+(r.getY()-n.getY())/(l+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,f)+this.transitionsBetween(u,f);return h>p?d:f},e.prototype.shiftToModuleCenter=function(t){var r=t[0],n=t[1],a=t[2],i=t[3],s=this.transitionsBetween(r,i)+1,l=this.transitionsBetween(a,i)+1,c=e.shiftPoint(r,n,l*4),u=e.shiftPoint(a,n,s*4);s=this.transitionsBetween(c,i)+1,l=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(l&1)===1&&(l+=1);var d=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=e.moveAway(r,d,f),n=e.moveAway(n,d,f),a=e.moveAway(a,d,f),i=e.moveAway(i,d,f);var h,p;return c=e.shiftPoint(r,n,l*4),c=e.shiftPoint(c,i,s*4),h=e.shiftPoint(n,r,l*4),h=e.shiftPoint(h,a,s*4),u=e.shiftPoint(a,i,l*4),u=e.shiftPoint(u,n,s*4),p=e.shiftPoint(i,a,l*4),p=e.shiftPoint(p,r,s*4),[c,h,u,p]},e.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},e.sampleGrid=function(t,r,n,a,i,s,l){var c=UC.getInstance();return c.sampleGrid(t,s,l,.5,.5,s-.5,.5,s-.5,l-.5,.5,l-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},e.prototype.transitionsBetween=function(t,r){var n=Math.trunc(t.getX()),a=Math.trunc(t.getY()),i=Math.trunc(r.getX()),s=Math.trunc(r.getY()),l=Math.abs(s-a)>Math.abs(i-n);if(l){var c=n;n=a,a=c,c=i,i=s,s=c}for(var u=Math.abs(i-n),d=Math.abs(s-a),f=-u/2,h=a<s?1:-1,p=n<i?1:-1,m=0,x=this.image.get(l?a:n,l?n:a),g=n,v=a;g!==i;g+=p){var b=this.image.get(l?v:g,l?g:v);if(b!==x&&(m++,x=b),f+=d,f>0){if(v===s)break;v+=h,f-=u}}return m},e}(),Hy=function(){function e(){this.decoder=new vLe}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(An.PURE_BARCODE)){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decode(i),a=e.NO_POINTS}else{var s=new bLe(t.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),a=s.getPoints()}var l=n.getRawBytes(),c=new Qi(n.getText(),l,8*l.length,a,Rt.DATA_MATRIX,Sn.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Si.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(Si.ERROR_CORRECTION_LEVEL,d),c},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r==null||n==null)throw new Ye;var a=this.moduleSize(r,t),i=r[1],s=n[1],l=r[0],c=n[0],u=(c-l+1)/a,d=(s-i+1)/a;if(u<=0||d<=0)throw new Ye;var f=a/2;i+=f,l+=f;for(var h=new fc(u,d),p=0;p<d;p++)for(var m=i+p*a,x=0;x<u;x++)t.get(l+x*a,m)&&h.set(x,p);return h},e.moduleSize=function(t,r){for(var n=r.getWidth(),a=t[0],i=t[1];a<n&&r.get(a,i);)a++;if(a===n)throw new Ye;var s=a-t[0];if(s===0)throw new Ye;return s},e.NO_POINTS=[],e}(),yLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){yLe(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new Hy,r)||this}return t})(nm);var Ch;(function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"})(Ch||(Ch={}));var wLe=function(){function e(t,r,n){this.value=t,this.stringValue=r,this.bits=n,e.FOR_BITS.set(n,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new ua(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new Lt;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(Ch.L,"L",1),e.M=new e(Ch.M,"M",0),e.Q=new e(Ch.Q,"Q",3),e.H=new e(Ch.H,"H",2),e}(),_Le=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zz=function(){function e(t){this.errorCorrectionLevel=wLe.forBits(t>>3&3),this.dataMask=t&7}return e.numBitsDiffering=function(t,r){return dr.bitCount(t^r)},e.decodeFormatInformation=function(t,r){var n=e.doDecodeFormatInformation(t,r);return n!==null?n:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,r^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,r){var n,a,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var l=_Le(e.FORMAT_INFO_DECODE_LOOKUP),c=l.next();!c.done;c=l.next()){var u=c.value,d=u[0];if(d===t||d===r)return new e(u[1]);var f=e.numBitsDiffering(t,d);f<i&&(s=u[1],i=f),t!==r&&(f=e.numBitsDiffering(r,d),f<i&&(s=u[1],i=f))}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return i<=3?new e(s):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}(),NLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=function(){function e(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=t,this.ecBlocks=r}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){var t,r,n=0,a=this.ecBlocks;try{for(var i=NLe(a),s=i.next();!s.done;s=i.next()){var l=s.value;n+=l.getCount()}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}(),pe=function(){function e(t,r){this.count=t,this.dataCodewords=r}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}(),jLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R0=function(){function e(t,r){for(var n,a,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;var l=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=jLe(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=l}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},e.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new ut;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ut}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new Lt;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<e.VERSION_DECODE_INFO.length;a++){var i=e.VERSION_DECODE_INFO[a];if(i===t)return e.getVersionForNumber(a+7);var s=Zz.numBitsDiffering(t,i);s<r&&(n=a+7,r=s)}return r<=3?e.getVersionForNumber(n):null},e.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),r=new fc(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,s=0;s<n;s++)a===0&&(s===0||s===n-1)||a===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new ze(7,new pe(1,19)),new ze(10,new pe(1,16)),new ze(13,new pe(1,13)),new ze(17,new pe(1,9))),new e(2,Int32Array.from([6,18]),new ze(10,new pe(1,34)),new ze(16,new pe(1,28)),new ze(22,new pe(1,22)),new ze(28,new pe(1,16))),new e(3,Int32Array.from([6,22]),new ze(15,new pe(1,55)),new ze(26,new pe(1,44)),new ze(18,new pe(2,17)),new ze(22,new pe(2,13))),new e(4,Int32Array.from([6,26]),new ze(20,new pe(1,80)),new ze(18,new pe(2,32)),new ze(26,new pe(2,24)),new ze(16,new pe(4,9))),new e(5,Int32Array.from([6,30]),new ze(26,new pe(1,108)),new ze(24,new pe(2,43)),new ze(18,new pe(2,15),new pe(2,16)),new ze(22,new pe(2,11),new pe(2,12))),new e(6,Int32Array.from([6,34]),new ze(18,new pe(2,68)),new ze(16,new pe(4,27)),new ze(24,new pe(4,19)),new ze(28,new pe(4,15))),new e(7,Int32Array.from([6,22,38]),new ze(20,new pe(2,78)),new ze(18,new pe(4,31)),new ze(18,new pe(2,14),new pe(4,15)),new ze(26,new pe(4,13),new pe(1,14))),new e(8,Int32Array.from([6,24,42]),new ze(24,new pe(2,97)),new ze(22,new pe(2,38),new pe(2,39)),new ze(22,new pe(4,18),new pe(2,19)),new ze(26,new pe(4,14),new pe(2,15))),new e(9,Int32Array.from([6,26,46]),new ze(30,new pe(2,116)),new ze(22,new pe(3,36),new pe(2,37)),new ze(20,new pe(4,16),new pe(4,17)),new ze(24,new pe(4,12),new pe(4,13))),new e(10,Int32Array.from([6,28,50]),new ze(18,new pe(2,68),new pe(2,69)),new ze(26,new pe(4,43),new pe(1,44)),new ze(24,new pe(6,19),new pe(2,20)),new ze(28,new pe(6,15),new pe(2,16))),new e(11,Int32Array.from([6,30,54]),new ze(20,new pe(4,81)),new ze(30,new pe(1,50),new pe(4,51)),new ze(28,new pe(4,22),new pe(4,23)),new ze(24,new pe(3,12),new pe(8,13))),new e(12,Int32Array.from([6,32,58]),new ze(24,new pe(2,92),new pe(2,93)),new ze(22,new pe(6,36),new pe(2,37)),new ze(26,new pe(4,20),new pe(6,21)),new ze(28,new pe(7,14),new pe(4,15))),new e(13,Int32Array.from([6,34,62]),new ze(26,new pe(4,107)),new ze(22,new pe(8,37),new pe(1,38)),new ze(24,new pe(8,20),new pe(4,21)),new ze(22,new pe(12,11),new pe(4,12))),new e(14,Int32Array.from([6,26,46,66]),new ze(30,new pe(3,115),new pe(1,116)),new ze(24,new pe(4,40),new pe(5,41)),new ze(20,new pe(11,16),new pe(5,17)),new ze(24,new pe(11,12),new pe(5,13))),new e(15,Int32Array.from([6,26,48,70]),new ze(22,new pe(5,87),new pe(1,88)),new ze(24,new pe(5,41),new pe(5,42)),new ze(30,new pe(5,24),new pe(7,25)),new ze(24,new pe(11,12),new pe(7,13))),new e(16,Int32Array.from([6,26,50,74]),new ze(24,new pe(5,98),new pe(1,99)),new ze(28,new pe(7,45),new pe(3,46)),new ze(24,new pe(15,19),new pe(2,20)),new ze(30,new pe(3,15),new pe(13,16))),new e(17,Int32Array.from([6,30,54,78]),new ze(28,new pe(1,107),new pe(5,108)),new ze(28,new pe(10,46),new pe(1,47)),new ze(28,new pe(1,22),new pe(15,23)),new ze(28,new pe(2,14),new pe(17,15))),new e(18,Int32Array.from([6,30,56,82]),new ze(30,new pe(5,120),new pe(1,121)),new ze(26,new pe(9,43),new pe(4,44)),new ze(28,new pe(17,22),new pe(1,23)),new ze(28,new pe(2,14),new pe(19,15))),new e(19,Int32Array.from([6,30,58,86]),new ze(28,new pe(3,113),new pe(4,114)),new ze(26,new pe(3,44),new pe(11,45)),new ze(26,new pe(17,21),new pe(4,22)),new ze(26,new pe(9,13),new pe(16,14))),new e(20,Int32Array.from([6,34,62,90]),new ze(28,new pe(3,107),new pe(5,108)),new ze(26,new pe(3,41),new pe(13,42)),new ze(30,new pe(15,24),new pe(5,25)),new ze(28,new pe(15,15),new pe(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new ze(28,new pe(4,116),new pe(4,117)),new ze(26,new pe(17,42)),new ze(28,new pe(17,22),new pe(6,23)),new ze(30,new pe(19,16),new pe(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new ze(28,new pe(2,111),new pe(7,112)),new ze(28,new pe(17,46)),new ze(30,new pe(7,24),new pe(16,25)),new ze(24,new pe(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new ze(30,new pe(4,121),new pe(5,122)),new ze(28,new pe(4,47),new pe(14,48)),new ze(30,new pe(11,24),new pe(14,25)),new ze(30,new pe(16,15),new pe(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new ze(30,new pe(6,117),new pe(4,118)),new ze(28,new pe(6,45),new pe(14,46)),new ze(30,new pe(11,24),new pe(16,25)),new ze(30,new pe(30,16),new pe(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new ze(26,new pe(8,106),new pe(4,107)),new ze(28,new pe(8,47),new pe(13,48)),new ze(30,new pe(7,24),new pe(22,25)),new ze(30,new pe(22,15),new pe(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new ze(28,new pe(10,114),new pe(2,115)),new ze(28,new pe(19,46),new pe(4,47)),new ze(28,new pe(28,22),new pe(6,23)),new ze(30,new pe(33,16),new pe(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new ze(30,new pe(8,122),new pe(4,123)),new ze(28,new pe(22,45),new pe(3,46)),new ze(30,new pe(8,23),new pe(26,24)),new ze(30,new pe(12,15),new pe(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new ze(30,new pe(3,117),new pe(10,118)),new ze(28,new pe(3,45),new pe(23,46)),new ze(30,new pe(4,24),new pe(31,25)),new ze(30,new pe(11,15),new pe(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new ze(30,new pe(7,116),new pe(7,117)),new ze(28,new pe(21,45),new pe(7,46)),new ze(30,new pe(1,23),new pe(37,24)),new ze(30,new pe(19,15),new pe(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new ze(30,new pe(5,115),new pe(10,116)),new ze(28,new pe(19,47),new pe(10,48)),new ze(30,new pe(15,24),new pe(25,25)),new ze(30,new pe(23,15),new pe(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new ze(30,new pe(13,115),new pe(3,116)),new ze(28,new pe(2,46),new pe(29,47)),new ze(30,new pe(42,24),new pe(1,25)),new ze(30,new pe(23,15),new pe(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new ze(30,new pe(17,115)),new ze(28,new pe(10,46),new pe(23,47)),new ze(30,new pe(10,24),new pe(35,25)),new ze(30,new pe(19,15),new pe(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new ze(30,new pe(17,115),new pe(1,116)),new ze(28,new pe(14,46),new pe(21,47)),new ze(30,new pe(29,24),new pe(19,25)),new ze(30,new pe(11,15),new pe(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new ze(30,new pe(13,115),new pe(6,116)),new ze(28,new pe(14,46),new pe(23,47)),new ze(30,new pe(44,24),new pe(7,25)),new ze(30,new pe(59,16),new pe(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new ze(30,new pe(12,121),new pe(7,122)),new ze(28,new pe(12,47),new pe(26,48)),new ze(30,new pe(39,24),new pe(14,25)),new ze(30,new pe(22,15),new pe(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new ze(30,new pe(6,121),new pe(14,122)),new ze(28,new pe(6,47),new pe(34,48)),new ze(30,new pe(46,24),new pe(10,25)),new ze(30,new pe(2,15),new pe(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new ze(30,new pe(17,122),new pe(4,123)),new ze(28,new pe(29,46),new pe(14,47)),new ze(30,new pe(49,24),new pe(10,25)),new ze(30,new pe(24,15),new pe(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new ze(30,new pe(4,122),new pe(18,123)),new ze(28,new pe(13,46),new pe(32,47)),new ze(30,new pe(48,24),new pe(14,25)),new ze(30,new pe(42,15),new pe(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new ze(30,new pe(20,117),new pe(4,118)),new ze(28,new pe(40,47),new pe(7,48)),new ze(30,new pe(43,24),new pe(22,25)),new ze(30,new pe(10,15),new pe(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new ze(30,new pe(19,118),new pe(6,119)),new ze(28,new pe(18,47),new pe(31,48)),new ze(30,new pe(34,24),new pe(34,25)),new ze(30,new pe(20,15),new pe(61,16)))],e}(),ri;(function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"})(ri||(ri={}));var dI=function(){function e(t,r){this.value=t,this.isMasked=r}return e.prototype.unmaskBitMatrix=function(t,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&t.flip(a,n)},e.values=new Map([[ri.DATA_MASK_000,new e(ri.DATA_MASK_000,function(t,r){return(t+r&1)===0})],[ri.DATA_MASK_001,new e(ri.DATA_MASK_001,function(t,r){return(t&1)===0})],[ri.DATA_MASK_010,new e(ri.DATA_MASK_010,function(t,r){return r%3===0})],[ri.DATA_MASK_011,new e(ri.DATA_MASK_011,function(t,r){return(t+r)%3===0})],[ri.DATA_MASK_100,new e(ri.DATA_MASK_100,function(t,r){return(Math.floor(t/2)+Math.floor(r/3)&1)===0})],[ri.DATA_MASK_101,new e(ri.DATA_MASK_101,function(t,r){return t*r%6===0})],[ri.DATA_MASK_110,new e(ri.DATA_MASK_110,function(t,r){return t*r%6<3})],[ri.DATA_MASK_111,new e(ri.DATA_MASK_111,function(t,r){return(t+r+t*r%3&1)===0})]]),e}(),SLe=function(){function e(t){var r=t.getHeight();if(r<21||(r&3)!==1)throw new ut;this.bitMatrix=t}return e.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,r=0;r<6;r++)t=this.copyBit(r,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);for(var a=this.bitMatrix.getHeight(),i=0,s=a-7,n=a-1;n>=s;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=Zz.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ut},e.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return R0.getVersionForNumber(r);for(var n=0,a=t-11,i=5;i>=0;i--)for(var s=t-9;s>=a;s--)n=this.copyBit(s,i,n);var l=R0.decodeVersionInformation(n);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;n=0;for(var s=5;s>=0;s--)for(var i=t-9;i>=a;i--)n=this.copyBit(s,i,n);if(l=R0.decodeVersionInformation(n),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new ut},e.prototype.copyBit=function(t,r,n){var a=this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r);return a?n<<1|1:n<<1},e.prototype.readCodewords=function(){var t=this.readFormatInformation(),r=this.readVersion(),n=dI.values.get(t.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),s=!0,l=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,f=a-1;f>0;f-=2){f===6&&f--;for(var h=0;h<a;h++)for(var p=s?a-1-h:h,m=0;m<2;m++)i.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(l[c++]=u,d=0,u=0));s=!s}if(c!==r.getTotalCodewords())throw new ut;return l},e.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=dI.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}},e.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},e.prototype.mirror=function(){for(var t=this.bitMatrix,r=0,n=t.getWidth();r<n;r++)for(var a=r+1,i=t.getHeight();a<i;a++)t.get(r,a)!==t.get(a,r)&&(t.flip(a,r),t.flip(r,a))},e}(),fI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ALe=function(){function e(t,r){this.numDataCodewords=t,this.codewords=r}return e.getDataBlocks=function(t,r,n){var a,i,s,l;if(t.length!==r.getTotalCodewords())throw new Lt;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var f=fI(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(L){a={error:L}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var m=new Array(u),x=0;try{for(var g=fI(d),v=g.next();!v.done;v=g.next())for(var p=v.value,b=0;b<p.getCount();b++){var y=p.getDataCodewords(),_=c.getECCodewordsPerBlock()+y;m[x++]=new e(y,new Uint8Array(_))}}catch(L){s={error:L}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}for(var N=m[0].codewords.length,S=m.length-1;S>=0;){var j=m[S].codewords.length;if(j===N)break;S--}S++;for(var A=N-c.getECCodewordsPerBlock(),T=0,b=0;b<A;b++)for(var F=0;F<x;F++)m[F].codewords[b]=t[T++];for(var F=S;F<x;F++)m[F].codewords[A]=t[T++];for(var O=m[0].codewords.length,b=A;b<O;b++)for(var F=0;F<x;F++){var E=F<S?b:b+1;m[F].codewords[E]=t[T++]}return m},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}(),ko;(function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"})(ko||(ko={}));var On=function(){function e(t,r,n,a){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,e.FOR_BITS.set(a,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var r=e.FOR_BITS.get(t);if(r===void 0)throw new Lt;return r},e.prototype.getCharacterCountBits=function(t){var r=t.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(ko.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(ko.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(ko.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(ko.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(ko.BYTE,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(ko.ECI,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(ko.KANJI,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(ko.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(ko.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(ko.HANZI,"HANZI",Int32Array.from([8,10,12]),13),e}(),CLe=function(){function e(){}return e.decode=function(t,r,n,a){var i=new Jz(t),s=new lr,l=new Array,c=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(i.available()<4)h=On.TERMINATOR;else{var p=i.readBits(4);h=On.forBits(p)}switch(h){case On.TERMINATOR:break;case On.FNC1_FIRST_POSITION:case On.FNC1_SECOND_POSITION:f=!0;break;case On.STRUCTURED_APPEND:if(i.available()<16)throw new ut;c=i.readBits(8),u=i.readBits(8);break;case On.ECI:var m=e.parseECIValue(i);if(d=Ha.getCharacterSetECIByValue(m),d===null)throw new ut;break;case On.HANZI:var x=i.readBits(4),g=i.readBits(h.getCharacterCountBits(r));x===e.GB2312_SUBSET&&e.decodeHanziSegment(i,s,g);break;default:var v=i.readBits(h.getCharacterCountBits(r));switch(h){case On.NUMERIC:e.decodeNumericSegment(i,s,v);break;case On.ALPHANUMERIC:e.decodeAlphanumericSegment(i,s,v,f);break;case On.BYTE:e.decodeByteSegment(i,s,v,d,l,a);break;case On.KANJI:e.decodeKanjiSegment(i,s,v);break;default:throw new ut}break}}while(h!==On.TERMINATOR)}catch{throw new ut}return new w5(t,s.toString(),l.length===0?null:l,n===null?null:n.toString(),c,u)},e.decodeHanziSegment=function(t,r,n){if(n*13>t.available())throw new ut;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=t.readBits(13),l=s/96<<8&4294967295|s%96;l<959?l+=41377:l+=42657,a[i]=l>>8&255,a[i+1]=l&255,i+=2,n--}try{r.append(zo.decode(a,wr.GB2312))}catch(c){throw new ut(c)}},e.decodeKanjiSegment=function(t,r,n){if(n*13>t.available())throw new ut;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=t.readBits(13),l=s/192<<8&4294967295|s%192;l<7936?l+=33088:l+=49472,a[i]=l>>8,a[i+1]=l,i+=2,n--}try{r.append(zo.decode(a,wr.SHIFT_JIS))}catch(c){throw new ut(c)}},e.decodeByteSegment=function(t,r,n,a,i,s){if(8*n>t.available())throw new ut;for(var l=new Uint8Array(n),c=0;c<n;c++)l[c]=t.readBits(8);var u;a===null?u=wr.guessEncoding(l,s):u=a.getName();try{r.append(zo.decode(l,u))}catch(d){throw new ut(d)}i.push(l)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new ut;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,r,n,a){for(var i=r.length();n>1;){if(t.available()<11)throw new ut;var s=t.readBits(11);r.append(e.toAlphaNumericChar(Math.floor(s/45))),r.append(e.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(t.available()<6)throw new ut;r.append(e.toAlphaNumericChar(t.readBits(6)))}if(a)for(var l=i;l<r.length();l++)r.charAt(l)==="%"&&(l<r.length()-1&&r.charAt(l+1)==="%"?r.deleteCharAt(l+1):r.setCharAt(l,""))},e.decodeNumericSegment=function(t,r,n){for(;n>=3;){if(t.available()<10)throw new ut;var a=t.readBits(10);if(a>=1e3)throw new ut;r.append(e.toAlphaNumericChar(Math.floor(a/100))),r.append(e.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(e.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(t.available()<7)throw new ut;var i=t.readBits(7);if(i>=100)throw new ut;r.append(e.toAlphaNumericChar(Math.floor(i/10))),r.append(e.toAlphaNumericChar(i%10))}else if(n===1){if(t.available()<4)throw new ut;var s=t.readBits(4);if(s>=10)throw new ut;r.append(e.toAlphaNumericChar(s))}},e.parseECIValue=function(t){var r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=t.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new ut},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}(),eU=function(){function e(t){this.mirrored=t}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var r=t[0];t[0]=t[2],t[2]=r}},e}(),hI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ELe=function(){function e(){this.rsDecoder=new _5(ks.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(t,r){return this.decodeBitMatrix(fc.parseFromBooleanArray(t),r)},e.prototype.decodeBitMatrix=function(t,r){var n=new SLe(t),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){a=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new eU(!0)),i}catch(s){throw a!==null?a:s}},e.prototype.decodeBitMatrixParser=function(t,r){var n,a,i,s,l=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),d=ALe.getDataBlocks(u,l,c),f=0;try{for(var h=hI(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(S){n={error:S}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var x=new Uint8Array(f),g=0;try{for(var v=hI(d),b=v.next();!b.done;b=v.next()){var m=b.value,y=m.getCodewords(),_=m.getNumDataCodewords();this.correctErrors(y,_);for(var N=0;N<_;N++)x[g++]=y[N]}}catch(S){i={error:S}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}return CLe.decode(x,l,c,r)},e.prototype.correctErrors=function(t,r){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-r)}catch{throw new Ta}for(var a=0;a<r;a++)t[a]=n[a]},e}(),kLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TLe=function(e){kLe(t,e);function t(r,n,a){var i=e.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,s=(this.getY()+r)/2,l=(this.estimatedModuleSize+a)/2;return new t(i,s,l)},t}(kt),OLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},PLe=function(){function e(t,r,n,a,i,s,l){this.image=t,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var t=this.startX,r=this.height,n=this.width,a=t+n,i=this.startY+r/2,s=new Int32Array(3),l=this.image,c=0;c<r;c++){var u=i+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=t;d<a&&!l.get(d,u);)d++;for(var f=0;d<a;){if(l.get(d,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,d);if(h!==null)return h}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;d++}if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,a);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ye},e.centerFromEnd=function(t,r){return r-t[2]-t[1]/2},e.prototype.foundPatternCross=function(t){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-t[a])>=n)return!1;return!0},e.prototype.crossCheckVertical=function(t,r,n,a){var i=this.image,s=i.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;for(var c=t;c>=0&&i.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<s&&i.get(r,c)&&l[1]<=n;)l[1]++,c++;if(c===s||l[1]>n)return NaN;for(;c<s&&!i.get(r,c)&&l[2]<=n;)l[2]++,c++;if(l[2]>n)return NaN;var u=l[0]+l[1]+l[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n){var a,i,s=t[0]+t[1]+t[2],l=e.centerFromEnd(t,n),c=this.crossCheckVertical(r,l,2*t[1],s);if(!isNaN(c)){var u=(t[0]+t[1]+t[2])/3;try{for(var d=OLe(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,c,l))return h.combineEstimate(c,l,u)}}catch(m){a={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new TLe(l,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},e}(),DLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ILe=function(e){DLe(t,e);function t(r,n,a,i){var s=e.call(this,r,n)||this;return s.estimatedModuleSize=a,s.count=i,i===void 0&&(s.count=1),s}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(r,n,a){var i=this.count+1,s=(this.count*this.getX()+n)/i,l=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new t(s,l,c,i)},t}(kt),MLe=function(){function e(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}(),rx=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FLe=function(){function e(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var r=t!=null&&t.get(An.TRY_HARDER)!==void 0,n=t!=null&&t.get(An.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),s=a.getWidth(),l=Math.floor(3*i/(4*e.MAX_MODULES));(l<e.MIN_SKIP||r)&&(l=e.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=l-1;d<i&&!c;d+=l){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<s;h++)if(a.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(e.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(l=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-l,h=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(e.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,s,n);p===!0&&(l=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return kt.orderBestPatterns(x),new MLe(x)},e.centerFromEnd=function(t,r){return r-t[4]-t[3]-t[2]/2},e.foundPatternCross=function(t){for(var r=0,n=0;n<5;n++){var a=t[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,s=i/2;return Math.abs(i-t[0])<s&&Math.abs(i-t[1])<s&&Math.abs(3*i-t[2])<3*s&&Math.abs(i-t[3])<s&&Math.abs(i-t[4])<s},e.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},e.prototype.crossCheckDiagonal=function(t,r,n,a){for(var i=this.getCrossCheckStateCount(),s=0,l=this.image;t>=s&&r>=s&&l.get(r-s,t-s);)i[2]++,s++;if(t<s||r<s)return!1;for(;t>=s&&r>=s&&!l.get(r-s,t-s)&&i[1]<=n;)i[1]++,s++;if(t<s||r<s||i[1]>n)return!1;for(;t>=s&&r>=s&&l.get(r-s,t-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;var c=l.getHeight(),u=l.getWidth();for(s=1;t+s<c&&r+s<u&&l.get(r+s,t+s);)i[2]++,s++;if(t+s>=c||r+s>=u)return!1;for(;t+s<c&&r+s<u&&!l.get(r+s,t+s)&&i[3]<n;)i[3]++,s++;if(t+s>=c||r+s>=u||i[3]>=n)return!1;for(;t+s<c&&r+s<u&&l.get(r+s,t+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&e.foundPatternCross(i)},e.prototype.crossCheckVertical=function(t,r,n,a){for(var i=this.image,s=i.getHeight(),l=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(r,c);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<s&&i.get(r,c);)l[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(r,c)&&l[3]<n;)l[3]++,c++;if(c===s||l[3]>=n)return NaN;for(;c<s&&i.get(r,c)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-a)>=2*a?NaN:e.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.crossCheckHorizontal=function(t,r,n,a){for(var i=this.image,s=i.getWidth(),l=this.getCrossCheckStateCount(),c=t;c>=0&&i.get(c,r);)l[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&l[1]<=n;)l[1]++,c--;if(c<0||l[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&l[0]<=n;)l[0]++,c--;if(l[0]>n)return NaN;for(c=t+1;c<s&&i.get(c,r);)l[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(c,r)&&l[3]<n;)l[3]++,c++;if(c===s||l[3]>=n)return NaN;for(;c<s&&i.get(c,r)&&l[4]<n;)l[4]++,c++;if(l[4]>=n)return NaN;var u=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(u-a)>=a?NaN:e.foundPatternCross(l)?e.centerFromEnd(l,c):NaN},e.prototype.handlePossibleCenter=function(t,r,n,a){var i=t[0]+t[1]+t[2]+t[3]+t[4],s=e.centerFromEnd(t,n),l=this.crossCheckVertical(r,Math.floor(s),t[2],i);if(!isNaN(l)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(l),t[2],i),!isNaN(s)&&(!a||this.crossCheckDiagonal(Math.floor(l),Math.floor(s),t[2],i)))){for(var c=i/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,l,s)){d[f]=p.combineEstimate(l,s,c),u=!0;break}}if(!u){var m=new ILe(s,l,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},e.prototype.findRowSkip=function(){var t,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=rx(this.possibleCenters),s=i.next();!s.done;s=i.next()){var l=s.value;if(l.getCount()>=e.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){var t,r,n,a,i=0,s=0,l=this.possibleCenters.length;try{for(var c=rx(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=e.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize())}}catch(x){t={error:x}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(i<3)return!1;var f=s/l,h=0;try{for(var p=rx(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(x){n={error:x}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return h<=.05*s},e.prototype.selectBestPatterns=function(){var t,r,n,a,i=this.possibleCenters.length;if(i<3)throw new Ye;var s=this.possibleCenters,l;if(i>3){var c=0,u=0;try{for(var d=rx(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();c+=p,u+=p*p}}catch(N){t={error:N}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}l=c/i;var m=Math.sqrt(u/i-l*l);s.sort(function(N,S){var j=Math.abs(S.getEstimatedModuleSize()-l),A=Math.abs(N.getEstimatedModuleSize()-l);return j<A?-1:j>A?1:0});for(var x=Math.max(.2*l,m),g=0;g<s.length&&s.length>3;g++){var v=s[g];Math.abs(v.getEstimatedModuleSize()-l)>x&&(s.splice(g,1),g--)}}if(s.length>3){var c=0;try{for(var b=rx(s),y=b.next();!y.done;y=b.next()){var _=y.value;c+=_.getEstimatedModuleSize()}}catch(S){n={error:S}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}l=c/s.length,s.sort(function(S,j){if(j.getCount()===S.getCount()){var A=Math.abs(j.getEstimatedModuleSize()-l),T=Math.abs(S.getEstimatedModuleSize()-l);return A<T?1:A>T?-1:0}else return j.getCount()-S.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}(),RLe=function(){function e(t){this.image=t}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(An.NEED_RESULT_POINT_CALLBACK);var r=new FLe(this.image,this.resultPointCallback),n=r.find(t);return this.processFinderPatternInfo(n)},e.prototype.processFinderPatternInfo=function(t){var r=t.getTopLeft(),n=t.getTopRight(),a=t.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new Ye("No pattern found in proccess finder.");var s=e.computeDimension(r,n,a,i),l=R0.getProvisionalVersionForDimension(s),c=l.getDimensionForVersion()-7,u=null;if(l.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),h=1-3/c,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),x=4;x<=16;x<<=1)try{u=this.findAlignmentInRegion(i,p,m,x);break}catch(y){if(!(y instanceof Ye))throw y}var g=e.createTransform(r,n,a,u,s),v=e.sampleGrid(this.image,g,s),b;return u===null?b=[a,r,n]:b=[a,r,n,u],new zC(v,b)},e.createTransform=function(t,r,n,a,i){var s=i-3.5,l,c,u,d;return a!==null?(l=a.getX(),c=a.getY(),u=s-3,d=u):(l=r.getX()-t.getX()+n.getX(),c=r.getY()-t.getY()+n.getY(),u=s,d=s),Yz.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,t.getX(),t.getY(),r.getX(),r.getY(),l,c,n.getX(),n.getY())},e.sampleGrid=function(t,r,n){var a=UC.getInstance();return a.sampleGridWithTransform(t,n,n,r)},e.computeDimension=function(t,r,n,a){var i=Pr.round(kt.distance(t,r)/a),s=Pr.round(kt.distance(t,n)/a),l=Math.floor((i+s)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new Ye("Dimensions could be not found.")}return l},e.prototype.calculateModuleSize=function(t,r,n){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,n))/2},e.prototype.calculateModuleSizeOneWay=function(t,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(t,r,n,a),s=1,l=t-(n-t);l<0?(s=t/(t-l),l=0):l>=this.image.getWidth()&&(s=(this.image.getWidth()-1-t)/(l-t),l=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*s);return s=1,c<0?(s=r/(r-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),l=Math.floor(t+(l-t)*s),i+=this.sizeOfBlackWhiteBlackRun(t,r,l,c),i-1},e.prototype.sizeOfBlackWhiteBlackRun=function(t,r,n,a){var i=Math.abs(a-r)>Math.abs(n-t);if(i){var s=t;t=r,r=s,s=n,n=a,a=s}for(var l=Math.abs(n-t),c=Math.abs(a-r),u=-l/2,d=t<n?1:-1,f=r<a?1:-1,h=0,p=n+d,m=t,x=r;m!==p;m+=d){var g=i?x:m,v=i?m:x;if(h===1===this.image.get(g,v)){if(h===2)return Pr.distance(m,x,t,r);h++}if(u+=c,u>0){if(x===a)break;x+=f,u-=l}}return h===2?Pr.distance(n+d,a,t,r):NaN},e.prototype.findAlignmentInRegion=function(t,r,n,a){var i=Math.floor(a*t),s=Math.max(0,r-i),l=Math.min(this.image.getWidth()-1,r+i);if(l-s<t*3)throw new Ye("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<t*3)throw new Ye("Alignment bottom exceeds estimated module size.");var d=new PLe(this.image,s,c,l-s,u-c,t,this.resultPointCallback);return d.find()},e}(),Wy=function(){function e(){this.decoder=new ELe}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,r){var n,a;if(r!=null&&r.get(An.PURE_BARCODE)!==void 0){var i=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=e.NO_POINTS}else{var s=new RLe(t.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),a=s.getPoints()}n.getOther()instanceof eU&&n.getOther().applyMirroredCorrection(a);var l=new Qi(n.getText(),n.getRawBytes(),void 0,a,Rt.QR_CODE,void 0),c=n.getByteSegments();c!==null&&l.putMetadata(Si.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&l.putMetadata(Si.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(l.putMetadata(Si.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),l.putMetadata(Si.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),l},e.prototype.reset=function(){},e.extractPureBits=function(t){var r=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(r===null||n===null)throw new Ye;var a=this.moduleSize(r,t),i=r[1],s=n[1],l=r[0],c=n[0];if(l>=c||i>=s)throw new Ye;if(s-i!==c-l&&(c=l+(s-i),c>=t.getWidth()))throw new Ye;var u=Math.round((c-l+1)/a),d=Math.round((s-i+1)/a);if(u<=0||d<=0)throw new Ye;if(d!==u)throw new Ye;var f=Math.floor(a/2);i+=f,l+=f;var h=l+Math.floor((u-1)*a)-c;if(h>0){if(h>f)throw new Ye;l-=h}var p=i+Math.floor((d-1)*a)-s;if(p>0){if(p>f)throw new Ye;i-=p}for(var m=new fc(u,d),x=0;x<d;x++)for(var g=i+Math.floor(x*a),v=0;v<u;v++)t.get(l+Math.floor(v*a),g)&&m.set(v,x);return m},e.moduleSize=function(t,r){for(var n=r.getHeight(),a=r.getWidth(),i=t[0],s=t[1],l=!0,c=0;i<a&&s<n;){if(l!==r.get(i,s)){if(++c===5)break;l=!l}i++,s++}if(i===a||s===n)throw new Ye;return(i-t[0])/7},e.NO_POINTS=new Array,e}(),LLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sr=function(){function e(){}return e.prototype.PDF417Common=function(){},e.getBitCountSum=function(t){return Pr.sum(t)},e.toIntArray=function(t){var r,n;if(t==null||!t.length)return e.EMPTY_INT_ARRAY;var a=new Int32Array(t.length),i=0;try{for(var s=LLe(t),l=s.next();!l.done;l=s.next()){var c=l.value;a[i++]=c}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},e.getCodeword=function(t){var r=qa.binarySearch(e.SYMBOL_TABLE,t&262143);return r<0?-1:(e.CODEWORD_TABLE[r]-1)%e.NUMBER_OF_CODEWORDS},e.NUMBER_OF_CODEWORDS=929,e.MAX_CODEWORDS_IN_BARCODE=e.NUMBER_OF_CODEWORDS-1,e.MIN_ROWS_IN_BARCODE=3,e.MAX_ROWS_IN_BARCODE=90,e.MODULES_IN_CODEWORD=17,e.MODULES_IN_STOP_PATTERN=18,e.BARS_IN_MODULE=8,e.EMPTY_INT_ARRAY=new Int32Array([]),e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),e}(),BLe=function(){function e(t,r){this.bits=t,this.points=r}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}(),$Le=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zLe=function(){function e(){}return e.detectMultiple=function(t,r,n){var a=t.getBlackMatrix(),i=e.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=e.detect(n,a)),new BLe(a,i)},e.detect=function(t,r){for(var n,a,i=new Array,s=0,l=0,c=!1;s<r.getHeight();){var u=e.findVertices(r,s,l);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,l=0;try{for(var d=(n=void 0,$Le(i)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}s+=e.ROW_STEP;continue}if(c=!0,i.push(u),!t)break;u[2]!=null?(l=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return i},e.findVertices=function(t,r,n){var a=t.getHeight(),i=t.getWidth(),s=new Array(8);return e.copyToResult(s,e.findRowsWithPattern(t,a,i,r,n,e.START_PATTERN),e.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),e.copyToResult(s,e.findRowsWithPattern(t,a,i,r,n,e.STOP_PATTERN),e.INDEXES_STOP_PATTERN),s},e.copyToResult=function(t,r,n){for(var a=0;a<n.length;a++)t[n[a]]=r[a]},e.findRowsWithPattern=function(t,r,n,a,i,s){for(var l=new Array(4),c=!1,u=new Int32Array(s.length);a<r;a+=e.ROW_STEP){var d=e.findGuardPattern(t,i,a,n,!1,s,u);if(d!=null){for(;a>0;){var f=e.findGuardPattern(t,i,--a,n,!1,s,u);if(f!=null)d=f;else{a++;break}}l[0]=new kt(d[0],a),l[1]=new kt(d[1],a),c=!0;break}}var h=a+1;if(c){for(var p=0,f=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);h<r;h++){var d=e.findGuardPattern(t,f[0],h,n,!1,s,u);if(d!=null&&Math.abs(f[0]-d[0])<e.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<e.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>e.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,l[2]=new kt(f[0],h),l[3]=new kt(f[1],h)}return h-a<e.BARCODE_MIN_HEIGHT&&qa.fill(l,null),l},e.findGuardPattern=function(t,r,n,a,i,s,l){qa.fillWithin(l,0,l.length,0);for(var c=r,u=0;t.get(c,n)&&c>0&&u++<e.MAX_PIXEL_DRIFT;)c--;for(var d=c,f=0,h=s.length,p=i;d<a;d++){var m=t.get(d,n);if(m!==p)l[f]++;else{if(f===h-1){if(e.patternMatchVariance(l,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=l[0]+l[1],Sn.arraycopy(l,2,l,0,f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,p=!p}}return f===h-1&&e.patternMatchVariance(l,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},e.patternMatchVariance=function(t,r,n){for(var a=t.length,i=0,s=0,l=0;l<a;l++)i+=t[l],s+=r[l];if(i<s)return 1/0;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=t[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/i},e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),e.MAX_AVG_VARIANCE=.42,e.MAX_INDIVIDUAL_VARIANCE=.8,e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),e.MAX_PIXEL_DRIFT=3,e.MAX_PATTERN_DRIFT=5,e.SKIPPED_ROW_COUNT_MAX=25,e.ROW_STEP=5,e.BARCODE_MIN_HEIGHT=10,e}(),ULe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_0=function(){function e(t,r){if(r.length===0)throw new Lt;this.field=t;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),Sn.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},e.prototype.evaluateAt=function(t){var r,n;if(t===0)return this.getCoefficient(0);if(t===1){var a=0;try{for(var i=ULe(this.coefficients),s=i.next();!s.done;s=i.next()){var l=s.value;a=this.field.add(a,l)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(t,c),this.coefficients[d]);return c},e.prototype.add=function(t){if(!this.field.equals(t.field))throw new Lt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;Sn.arraycopy(n,0,i,0,s);for(var l=s;l<n.length;l++)i[l]=this.field.add(r[l-s],n[l]);return new e(this.field,i)},e.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Lt("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},e.prototype.multiply=function(t){return t instanceof e?this.multiplyOther(t):this.multiplyScalar(t)},e.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Lt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new e(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=t.coefficients,i=a.length,s=new Int32Array(n+i-1),l=0;l<n;l++)for(var c=r[l],u=0;u<i;u++)s[l+u]=this.field.add(s[l+u],this.field.multiply(c,a[u]));return new e(this.field,s)},e.prototype.negative=function(){for(var t=this.coefficients.length,r=new Int32Array(t),n=0;n<t;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new e(this.field,r)},e.prototype.multiplyScalar=function(t){if(t===0)return new e(this.field,new Int32Array([0]));if(t===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],t);return new e(this.field,n)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new Lt;if(r===0)return new e(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+t),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new e(this.field,a)},e.prototype.toString=function(){for(var t=new lr,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),(r===0||n!==1)&&t.append(n),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()},e}(),HLe=function(){function e(){}return e.prototype.add=function(t,r){return(t+r)%this.modulus},e.prototype.subtract=function(t,r){return(this.modulus+t-r)%this.modulus},e.prototype.exp=function(t){return this.expTable[t]},e.prototype.log=function(t){if(t===0)throw new Lt;return this.logTable[t]},e.prototype.inverse=function(t){if(t===0)throw new Gz;return this.expTable[this.modulus-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]},e.prototype.getSize=function(){return this.modulus},e.prototype.equals=function(t){return t===this},e}(),WLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VLe=function(e){WLe(t,e);function t(r,n){var a=e.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,s=0;s<r;s++)a.expTable[s]=i,i=i*n%r;for(var s=0;s<r-1;s++)a.logTable[a.expTable[s]]=s;return a.zero=new _0(a,new Int32Array([0])),a.one=new _0(a,new Int32Array([1])),a}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(r,n){if(r<0)throw new Lt;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new _0(this,a)},t.PDF417_GF=new t(Sr.NUMBER_OF_CODEWORDS,3),t}(HLe),qLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},GLe=function(){function e(){this.field=VLe.PDF417_GF}return e.prototype.decode=function(t,r,n){for(var a,i,s=new _0(this.field,t),l=new Int32Array(r),c=!1,u=r;u>0;u--){var d=s.evaluateAt(this.field.exp(u));l[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=qLe(n),p=h.next();!p.done;p=h.next()){var m=p.value,x=this.field.exp(t.length-1-m),g=new _0(this.field,new Int32Array([this.field.subtract(0,x),1]));f=f.multiply(g)}}catch(A){a={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var v=new _0(this.field,l),b=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),v,r),y=b[0],_=b[1],N=this.findErrorLocations(y),S=this.findErrorMagnitudes(_,y,N),u=0;u<N.length;u++){var j=t.length-1-this.field.log(N[u]);if(j<0)throw Ta.getChecksumInstance();t[j]=this.field.subtract(t[j],S[u])}return N.length},e.prototype.runEuclideanAlgorithm=function(t,r,n){if(t.getDegree()<r.getDegree()){var a=t;t=r,r=a}for(var i=t,s=r,l=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=i,d=l;if(i=s,l=c,i.isZero())throw Ta.getChecksumInstance();s=u;for(var f=this.field.getZero(),h=i.getCoefficient(i.getDegree()),p=this.field.inverse(h);s.getDegree()>=i.getDegree()&&!s.isZero();){var m=s.getDegree()-i.getDegree(),x=this.field.multiply(s.getCoefficient(s.getDegree()),p);f=f.add(this.field.buildMonomial(m,x)),s=s.subtract(i.multiplyByMonomial(m,x))}c=f.multiply(l).subtract(d).negative()}var g=c.getCoefficient(0);if(g===0)throw Ta.getChecksumInstance();var v=this.field.inverse(g),b=c.multiply(v),y=s.multiply(v);return[b,y]},e.prototype.findErrorLocations=function(t){for(var r=t.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)t.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw Ta.getChecksumInstance();return n},e.prototype.findErrorMagnitudes=function(t,r,n){for(var a=r.getDegree(),i=new Int32Array(a),s=1;s<=a;s++)i[a-s]=this.field.multiply(s,r.getCoefficient(s));for(var l=new _0(this.field,i),c=n.length,u=new Int32Array(c),s=0;s<c;s++){var d=this.field.inverse(n[s]),f=this.field.subtract(0,t.evaluateAt(d)),h=this.field.inverse(l.evaluateAt(d));u[s]=this.field.multiply(f,h)}return u},e}(),$j=function(){function e(t,r,n,a,i){t instanceof e?this.constructor_2(t):this.constructor_1(t,r,n,a,i)}return e.prototype.constructor_1=function(t,r,n,a,i){var s=r==null||n==null,l=a==null||i==null;if(s&&l)throw new Ye;s?(r=new kt(0,a.getY()),n=new kt(0,i.getY())):l&&(a=new kt(t.getWidth()-1,r.getY()),i=new kt(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},e.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},e.merge=function(t,r){return t==null?r:r==null?t:new e(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)},e.prototype.addMissingRows=function(t,r,n){var a=this.topLeft,i=this.bottomLeft,s=this.topRight,l=this.bottomRight;if(t>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-t);u<0&&(u=0);var d=new kt(c.getX(),u);n?a=d:s=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new kt(f.getX(),h);n?i=p:l=p}return new e(this.image,a,i,s,l)},e.prototype.getMinX=function(){return this.minX},e.prototype.getMaxX=function(){return this.maxX},e.prototype.getMinY=function(){return this.minY},e.prototype.getMaxY=function(){return this.maxY},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getBottomRight=function(){return this.bottomRight},e}(),YLe=function(){function e(t,r,n,a){this.columnCount=t,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return e.prototype.getColumnCount=function(){return this.columnCount},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},e.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},e}(),WC=function(){function e(){this.buffer=""}return e.form=function(t,r){var n=-1;function a(s,l,c,u,d,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(s);break;case"p":p=parseFloat(r[n]).toPrecision(s);break;case"e":p=parseFloat(r[n]).toExponential(s);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=l!==void 0?p+x:x+p;return p}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(i,a)},e.prototype.format=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=e.form(t,r)},e.prototype.toString=function(){return this.buffer},e}(),XLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tU=function(){function e(t){this.boundingBox=new $j(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return e.prototype.getCodewordNearby=function(t){var r=this.getCodeword(t);if(r!=null)return r;for(var n=1;n<e.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(t)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(t)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},e.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},e.prototype.setCodeword=function(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r},e.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.getCodewords=function(){return this.codewords},e.prototype.toString=function(){var t,r,n=new WC,a=0;try{for(var i=XLe(this.codewords),s=i.next();!s.done;s=i.next()){var l=s.value;if(l==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.toString()},e.MAX_NEARBY_DISTANCE=5,e}(),KLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},QLe=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){s={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},px=function(){function e(){this.values=new Map}return e.prototype.setValue=function(t){t=Math.trunc(t);var r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)},e.prototype.getValue=function(){var t,r,n=-1,a=new Array,i=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===n&&a.push(p.getKey())};try{for(var s=KLe(this.values.entries()),l=s.next();!l.done;l=s.next()){var c=QLe(l.value,2),u=c[0],d=c[1];i(u,d)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return Sr.toIntArray(a)},e.prototype.getConfidence=function(t){return this.values.get(t)},e}(),JLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pI=function(e){JLe(t,e);function t(r,n){var a=e.call(this,r)||this;return a._isLeft=n,a}return t.prototype.setRowNumbers=function(){var r,n;try{for(var a=Q4(this.getCodewords()),i=a.next();!i.done;i=a.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,f=0,h=l;h<c;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var x=void 0;d>2?x=(d-2)*m:x=m;for(var g=x>=h,v=1;v<=x&&!g;v++)g=n[h-v]!=null;g?n[h]=null:(u=p.getRowNumber(),f=1)}}},t.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var s=Q4(this.getCodewords()),l=s.next();!l.done;l=s.next()){var c=l.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,d=s;d<l;d++)if(c[d]!=null){var f=c[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[d]=null:u=f.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new px,s=new px,l=new px,c=new px;try{for(var u=Q4(a),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:c.setValue(h/3),l.setValue(h%3);break;case 2:i.setValue(h+1);break}}}}catch(x){r={error:x}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||s.getValue().length===0||l.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<Sr.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>Sr.MAX_ROWS_IN_BARCODE)return null;var m=new YLe(i.getValue()[0],s.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,m),m},t.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var s=i.getValue()%30,l=i.getRowNumber();if(l>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:s+1!==n.getColumnCount()&&(r[a]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+e.prototype.toString.call(this)},t}(tU),ZLe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},e9e=function(){function e(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return e.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=Sr.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns},e.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},e.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return t},e.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},e.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null&&r[n]!=null&&t[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(t[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},e.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var l=this.detectionResultColumns[s].getCodewords()[n];l!=null&&(i=e.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||t++)}return t},e.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var l=this.detectionResultColumns[s].getCodewords()[n];l!=null&&(i=e.adjustRowNumberIfValid(a,i,l),l.hasValidRowNumber()||t++)}return t},e.adjustRowNumberIfValid=function(t,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),r=0):++r),r},e.prototype.adjustRowNumbers=function(t,r,n){var a,i;if(this.detectionResultColumns[t-1]!=null){var s=n[r],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());var u=new Array(14);u[2]=l[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=l[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=l[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=l[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=l[r+2],u[13]=c[r+2]);try{for(var d=ZLe(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(e.adjustRowNumber(s,h))return}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},e.adjustRowNumber=function(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1},e.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},e.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},e.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},e.prototype.setBoundingBox=function(t){this.boundingBox=t},e.prototype.getBoundingBox=function(){return this.boundingBox},e.prototype.setDetectionResultColumn=function(t,r){this.detectionResultColumns[t]=r},e.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},e.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new WC,n=0;n<t.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},e}(),t9e=function(){function e(t,r,n,a){this.rowNumber=e.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return e.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},e.prototype.isValidRowNumber=function(t){return t!==e.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},e.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},e.prototype.getWidth=function(){return this.endX-this.startX},e.prototype.getStartX=function(){return this.startX},e.prototype.getEndX=function(){return this.endX},e.prototype.getBucket=function(){return this.bucket},e.prototype.getValue=function(){return this.value},e.prototype.getRowNumber=function(){return this.rowNumber},e.prototype.setRowNumber=function(t){this.rowNumber=t},e.prototype.toString=function(){return this.rowNumber+"|"+this.value},e.BARCODE_ROW_UNKNOWN=-1,e}(),r9e=function(){function e(){}return e.initialize=function(){for(var t=0;t<Sr.SYMBOL_TABLE.length;t++)for(var r=Sr.SYMBOL_TABLE[t],n=r&1,a=0;a<Sr.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,e.RATIOS_TABLE[t]||(e.RATIOS_TABLE[t]=new Array(Sr.BARS_IN_MODULE)),e.RATIOS_TABLE[t][Sr.BARS_IN_MODULE-a-1]=Math.fround(i/Sr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},e.getDecodedValue=function(t){var r=e.getDecodedCodewordValue(e.sampleBitCounts(t));return r!==-1?r:e.getClosestDecodedValue(t)},e.sampleBitCounts=function(t){for(var r=Pr.sum(t),n=new Int32Array(Sr.BARS_IN_MODULE),a=0,i=0,s=0;s<Sr.MODULES_IN_CODEWORD;s++){var l=r/(2*Sr.MODULES_IN_CODEWORD)+s*r/Sr.MODULES_IN_CODEWORD;i+t[a]<=l&&(i+=t[a],a++),n[a]++}return n},e.getDecodedCodewordValue=function(t){var r=e.getBitValue(t);return Sr.getCodeword(r)===-1?-1:r},e.getBitValue=function(t){for(var r=0,n=0;n<t.length;n++)for(var a=0;a<t[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},e.getClosestDecodedValue=function(t){var r=Pr.sum(t),n=new Array(Sr.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(t[a]/r);var i=Rj.MAX_VALUE,s=-1;this.bSymbolTableReady||e.initialize();for(var l=0;l<e.RATIOS_TABLE.length;l++){for(var c=0,u=e.RATIOS_TABLE[l],d=0;d<Sr.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(c+=Math.fround(f*f),c>=i)break}c<i&&(i=c,s=Sr.SYMBOL_TABLE[l])}return s},e.bSymbolTableReady=!1,e.RATIOS_TABLE=new Array(Sr.SYMBOL_TABLE.length).map(function(t){return new Array(Sr.BARS_IN_MODULE)}),e}(),n9e=function(){function e(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return e.prototype.getSegmentIndex=function(){return this.segmentIndex},e.prototype.setSegmentIndex=function(t){this.segmentIndex=t},e.prototype.getFileId=function(){return this.fileId},e.prototype.setFileId=function(t){this.fileId=t},e.prototype.getOptionalData=function(){return this.optionalData},e.prototype.setOptionalData=function(t){this.optionalData=t},e.prototype.isLastSegment=function(){return this.lastSegment},e.prototype.setLastSegment=function(t){this.lastSegment=t},e.prototype.getSegmentCount=function(){return this.segmentCount},e.prototype.setSegmentCount=function(t){this.segmentCount=t},e.prototype.getSender=function(){return this.sender||null},e.prototype.setSender=function(t){this.sender=t},e.prototype.getAddressee=function(){return this.addressee||null},e.prototype.setAddressee=function(t){this.addressee=t},e.prototype.getFileName=function(){return this.fileName},e.prototype.setFileName=function(t){this.fileName=t},e.prototype.getFileSize=function(){return this.fileSize},e.prototype.setFileSize=function(t){this.fileSize=t},e.prototype.getChecksum=function(){return this.checksum},e.prototype.setChecksum=function(t){this.checksum=t},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setTimestamp=function(t){this.timestamp=t},e}(),mI=function(){function e(){}return e.parseLong=function(t,r){return r===void 0&&(r=void 0),parseInt(t,r)},e}(),a9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i9e=function(e){a9e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="NullPointerException",t}(Ls),s9e=function(){function e(){}return e.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},e.prototype.writeBytesOffset=function(t,r,n){if(t==null)throw new i9e;if(r<0||r>t.length||n<0||r+n>t.length||r+n<0)throw new $C;if(n===0)return;for(var a=0;a<n;a++)this.write(t[r+a])},e.prototype.flush=function(){},e.prototype.close=function(){},e}(),o9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l9e=function(e){o9e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ls),c9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u9e=function(e){c9e(t,e);function t(r){r===void 0&&(r=32);var n=e.call(this)||this;if(n.count=0,r<0)throw new Lt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return t.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},t.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new l9e;a=dr.MAX_VALUE}this.buf=qa.copyOfUint8Array(this.buf,a)},t.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},t.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new $C;this.ensureCapacity(this.count+a),Sn.arraycopy(r,n,this.buf,this.count,a),this.count+=a},t.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return qa.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(r){return new String(this.buf).toString()},t.prototype.toString_number=function(r){return new String(this.buf).toString()},t.prototype.close=function(){},t}(s9e),on;(function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(on||(on={}));function rU(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var N2;function Qu(e){if(typeof N2>"u"&&(N2=rU()),N2===null)throw new Error("BigInt is not supported!");return N2(e)}function d9e(){var e=[];e[0]=Qu(1);var t=Qu(900);e[1]=t;for(var r=2;r<16;r++)e[r]=e[r-1]*t;return e}var f9e=function(){function e(){}return e.decode=function(t,r){var n=new lr(""),a=Ha.ISO8859_1;n.enableDecoding(a);for(var i=1,s=t[i++],l=new n9e;i<t[0];){switch(s){case e.TEXT_COMPACTION_MODE_LATCH:i=e.textCompaction(t,i,n);break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:i=e.byteCompaction(s,t,a,i,n);break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i++]);break;case e.NUMERIC_COMPACTION_MODE_LATCH:i=e.numericCompaction(t,i,n);break;case e.ECI_CHARSET:Ha.getCharacterSetECIByValue(t[i++]);break;case e.ECI_GENERAL_PURPOSE:i+=2;break;case e.ECI_USER_DEFINED:i++;break;case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=e.decodeMacroBlock(t,i,l);break;case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:throw new ut;default:i--,i=e.textCompaction(t,i,n);break}if(i<t.length)s=t[i++];else throw ut.getFormatInstance()}if(n.length()===0)throw ut.getFormatInstance();var c=new w5(null,n.toString(),null,r);return c.setOther(l),c},e.decodeMacroBlock=function(t,r,n){if(r+e.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ut.getFormatInstance();for(var a=new Int32Array(e.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<e.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=t[r];n.setSegmentIndex(dr.parseInt(e.decodeBase900toBase10(a,e.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new lr;r=e.textCompaction(t,r,s),n.setFileId(s.toString());var l=-1;for(t[r]===e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=r+1);r<t[0];)switch(t[r]){case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new lr;r=e.textCompaction(t,r+1,c),n.setFileName(c.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new lr;r=e.textCompaction(t,r+1,u),n.setSender(u.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new lr;r=e.textCompaction(t,r+1,d),n.setAddressee(d.toString());break;case e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new lr;r=e.numericCompaction(t,r+1,f),n.setSegmentCount(dr.parseInt(f.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new lr;r=e.numericCompaction(t,r+1,h),n.setTimestamp(mI.parseLong(h.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new lr;r=e.numericCompaction(t,r+1,p),n.setChecksum(dr.parseInt(p.toString()));break;case e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new lr;r=e.numericCompaction(t,r+1,m),n.setFileSize(mI.parseLong(m.toString()));break;default:throw ut.getFormatInstance()}break;case e.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ut.getFormatInstance()}if(l!==-1){var x=r-l;n.isLastSegment()&&x--,n.setOptionalData(qa.copyOfRange(t,l,l+x))}return r},e.textCompaction=function(t,r,n){for(var a=new Int32Array((t[0]-r)*2),i=new Int32Array((t[0]-r)*2),s=0,l=!1;r<t[0]&&!l;){var c=t[r++];if(c<e.TEXT_COMPACTION_MODE_LATCH)a[s]=c/30,a[s+1]=c%30,s+=2;else switch(c){case e.TEXT_COMPACTION_MODE_LATCH:a[s++]=e.TEXT_COMPACTION_MODE_LATCH;break;case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,l=!0;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[s]=e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[r++],i[s]=c,s++;break}}return e.decodeTextCompaction(a,i,s,n),r},e.decodeTextCompaction=function(t,r,n,a){for(var i=on.ALPHA,s=on.ALPHA,l=0;l<n;){var c=t[l],u="";switch(i){case on.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case e.LL:i=on.LOWER;break;case e.ML:i=on.MIXED;break;case e.PS:s=i,i=on.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=on.ALPHA;break}break;case on.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case e.AS:s=i,i=on.ALPHA_SHIFT;break;case e.ML:i=on.MIXED;break;case e.PS:s=i,i=on.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=on.ALPHA;break}break;case on.MIXED:if(c<e.PL)u=e.MIXED_CHARS[c];else switch(c){case e.PL:i=on.PUNCT;break;case 26:u=" ";break;case e.LL:i=on.LOWER;break;case e.AL:i=on.ALPHA;break;case e.PS:s=i,i=on.PUNCT_SHIFT;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=on.ALPHA;break}break;case on.PUNCT:if(c<e.PAL)u=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=on.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=on.ALPHA;break}break;case on.ALPHA_SHIFT:if(i=s,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case e.TEXT_COMPACTION_MODE_LATCH:i=on.ALPHA;break}break;case on.PUNCT_SHIFT:if(i=s,c<e.PAL)u=e.PUNCT_CHARS[c];else switch(c){case e.PAL:i=on.ALPHA;break;case e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[l]);break;case e.TEXT_COMPACTION_MODE_LATCH:i=on.ALPHA;break}break}u!==""&&a.append(u),l++}},e.byteCompaction=function(t,r,n,a,i){var s=new u9e,l=0,c=0,u=!1;switch(t){case e.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[a++];a<r[0]&&!u;)switch(d[l++]=f,c=900*c+f,f=r[a++],f){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(l%5===0&&l>0){for(var h=0;h<6;++h)s.write(Number(Qu(c)>>Qu(8*(5-h))));c=0,l=0}break}a===r[0]&&f<e.TEXT_COMPACTION_MODE_LATCH&&(d[l++]=f);for(var p=0;p<l;p++)s.write(d[p]);break;case e.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var m=r[a++];if(m<e.TEXT_COMPACTION_MODE_LATCH)l++,c=900*c+m;else switch(m){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.NUMERIC_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(l%5===0&&l>0){for(var h=0;h<6;++h)s.write(Number(Qu(c)>>Qu(8*(5-h))));c=0,l=0}}break}return i.append(zo.decode(s.toByteArray(),n)),a},e.numericCompaction=function(t,r,n){for(var a=0,i=!1,s=new Int32Array(e.MAX_NUMERIC_CODEWORDS);r<t[0]&&!i;){var l=t[r++];if(r===t[0]&&(i=!0),l<e.TEXT_COMPACTION_MODE_LATCH)s[a]=l,a++;else switch(l){case e.TEXT_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH:case e.BYTE_COMPACTION_MODE_LATCH_6:case e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case e.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%e.MAX_NUMERIC_CODEWORDS===0||l===e.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(e.decodeBase900toBase10(s,a)),a=0)}return r},e.decodeBase900toBase10=function(t,r){for(var n=Qu(0),a=0;a<r;a++)n+=e.EXP900[r-a-1]*Qu(t[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new ut;return i.substring(1)},e.TEXT_COMPACTION_MODE_LATCH=900,e.BYTE_COMPACTION_MODE_LATCH=901,e.NUMERIC_COMPACTION_MODE_LATCH=902,e.BYTE_COMPACTION_MODE_LATCH_6=924,e.ECI_USER_DEFINED=925,e.ECI_GENERAL_PURPOSE=926,e.ECI_CHARSET=927,e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,e.MACRO_PDF417_TERMINATOR=922,e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,e.MAX_NUMERIC_CODEWORDS=15,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,e.PL=25,e.LL=27,e.AS=27,e.ML=28,e.AL=28,e.PS=29,e.PAL=29,e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",e.EXP900=rU()?d9e():[],e.NUMBER_OF_SEQUENCE_CODEWORDS=2,e}(),nx=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h9e=function(){function e(){}return e.decode=function(t,r,n,a,i,s,l){for(var c=new $j(t,r,n,a,i),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=e.getRowIndicatorColumn(t,c,r,!0,s,l)),a!=null&&(d=e.getRowIndicatorColumn(t,c,a,!1,s,l)),f=e.merge(u,d),f==null)throw Ye.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}f.setBoundingBox(c);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var x=u!=null,g=1;g<=m;g++){var v=x?g:m-g;if(f.getDetectionResultColumn(v)===void 0){var b=void 0;v===0||v===m?b=new pI(c,v===0):b=new tU(c),f.setDetectionResultColumn(v,b);for(var y=-1,_=y,N=c.getMinY();N<=c.getMaxY();N++){if(y=e.getStartColumn(f,v,N,x),y<0||y>c.getMaxX()){if(_===-1)continue;y=_}var S=e.detectCodeword(t,c.getMinX(),c.getMaxX(),x,y,N,s,l);S!=null&&(b.setCodeword(N,S),_=y,s=Math.min(s,S.getWidth()),l=Math.max(l,S.getWidth()))}}}return e.createDecoderResult(f)},e.merge=function(t,r){if(t==null&&r==null)return null;var n=e.getBarcodeMetadata(t,r);if(n==null)return null;var a=$j.merge(e.adjustBoundingBox(t),e.adjustBoundingBox(r));return new e9e(n,a)},e.adjustBoundingBox=function(t){var r,n;if(t==null)return null;var a=t.getRowHeights();if(a==null)return null;var i=e.getMax(a),s=0;try{for(var l=nx(a),c=l.next();!c.done;c=l.next()){var u=c.value;if(s+=i-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=t.getCodewords(),f=0;s>0&&d[f]==null;f++)s--;for(var h=0,f=a.length-1;f>=0&&(h+=i-a[f],!(a[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return t.getBoundingBox().addMissingRows(s,h,t.isLeft())},e.getMax=function(t){var r,n,a=-1;try{for(var i=nx(t),s=i.next();!s.done;s=i.next()){var l=s.value;a=Math.max(a,l)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},e.getBarcodeMetadata=function(t,r){var n;if(t==null||(n=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},e.getRowIndicatorColumn=function(t,r,n,a,i,s){for(var l=new pI(r,a),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=e.detectCodeword(t,0,t.getWidth(),a,d,f,i,s);h!=null&&(l.setCodeword(f,h),a?d=h.getStartX():d=h.getEndX())}return l},e.adjustCodewordCount=function(t,r){var n=r[0][1],a=n.getValue(),i=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-e.getNumberOfECCodeWords(t.getBarcodeECLevel());if(a.length===0){if(i<1||i>Sr.MAX_CODEWORDS_IN_BARCODE)throw Ye.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},e.createDecoderResult=function(t){var r=e.createBarcodeMatrix(t);e.adjustCodewordCount(t,r);for(var n=new Array,a=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),i=[],s=new Array,l=0;l<t.getBarcodeRowCount();l++)for(var c=0;c<t.getBarcodeColumnCount();c++){var u=r[l][c+1].getValue(),d=l*t.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(s.push(d),i.push(u))}for(var f=new Array(i.length),h=0;h<f.length;h++)f[h]=i[h];return e.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),a,Sr.toIntArray(n),Sr.toIntArray(s),f)},e.createDecoderResultFromAmbiguousValues=function(t,r,n,a,i){for(var s=new Int32Array(a.length),l=100;l-- >0;){for(var c=0;c<s.length;c++)r[a[c]]=i[c][s[c]];try{return e.decodeCodewords(r,t,n)}catch(d){var u=d instanceof Ta;if(!u)throw d}if(s.length===0)throw Ta.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<i[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Ta.getChecksumInstance()}throw Ta.getChecksumInstance()},e.createBarcodeMatrix=function(t){for(var r,n,a,i,s=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),l=0;l<s.length;l++)for(var c=0;c<s[l].length;c++)s[l][c]=new px;var u=0;try{for(var d=nx(t.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(a=void 0,nx(h.getCodewords())),m=p.next();!m.done;m=p.next()){var x=m.value;if(x!=null){var g=x.getRowNumber();if(g>=0){if(g>=s.length)continue;s[g][u].setValue(x.getValue())}}}}catch(v){a={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u++}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s},e.isValidBarcodeColumn=function(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1},e.getStartColumn=function(t,r,n,a){var i,s,l=a?1:-1,c=null;if(e.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(e.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;e.isValidBarcodeColumn(t,r-l);){r-=l;try{for(var d=(i=void 0,nx(t.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(a?h.getEndX():h.getStartX())+l*u*(h.getEndX()-h.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}u++}return a?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},e.detectCodeword=function(t,r,n,a,i,s,l,c){i=e.adjustCodewordStartColumn(t,r,n,a,i,s);var u=e.getModuleBitCount(t,r,n,a,i,s);if(u==null)return null;var d,f=Pr.sum(u);if(a)d=i+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=i,i=d-f}if(!e.checkCodewordSkew(f,l,c))return null;var m=r9e.getDecodedValue(u),x=Sr.getCodeword(m);return x===-1?null:new t9e(i,d,e.getCodewordBucketNumber(m),x)},e.getModuleBitCount=function(t,r,n,a,i,s){for(var l=i,c=new Int32Array(8),u=0,d=a?1:-1,f=a;(a?l<n:l>=r)&&u<c.length;)t.get(l,s)===f?(c[u]++,l+=d):(u++,f=!f);return u===c.length||l===(a?n:r)&&u===c.length-1?c:null},e.getNumberOfECCodeWords=function(t){return 2<<t},e.adjustCodewordStartColumn=function(t,r,n,a,i,s){for(var l=i,c=a?-1:1,u=0;u<2;u++){for(;(a?l>=r:l<n)&&a===t.get(l,s);){if(Math.abs(i-l)>e.CODEWORD_SKEW_SIZE)return i;l+=c}c=-c,a=!a}return l},e.checkCodewordSkew=function(t,r,n){return r-e.CODEWORD_SKEW_SIZE<=t&&t<=n+e.CODEWORD_SKEW_SIZE},e.decodeCodewords=function(t,r,n){if(t.length===0)throw ut.getFormatInstance();var a=1<<r+1,i=e.correctErrors(t,n,a);e.verifyCodewordCount(t,a);var s=f9e.decode(t,""+r);return s.setErrorsCorrected(i),s.setErasures(n.length),s},e.correctErrors=function(t,r,n){if(r!=null&&r.length>n/2+e.MAX_ERRORS||n<0||n>e.MAX_EC_CODEWORDS)throw Ta.getChecksumInstance();return e.errorCorrection.decode(t,n,r)},e.verifyCodewordCount=function(t,r){if(t.length<4)throw ut.getFormatInstance();var n=t[0];if(n>t.length)throw ut.getFormatInstance();if(n===0)if(r<t.length)t[0]=t.length-r;else throw ut.getFormatInstance()},e.getBitCountForCodeword=function(t){for(var r=new Int32Array(8),n=0,a=r.length-1;!((t&1)!==n&&(n=t&1,a--,a<0));)r[a]++,t>>=1;return r},e.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},e.getCodewordBucketNumber_number=function(t){return e.getCodewordBucketNumber(e.getBitCountForCodeword(t))},e.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},e.toString=function(t){for(var r=new WC,n=0;n<t.length;n++){r.format("Row %2d: ",n);for(var a=0;a<t[n].length;a++){var i=t[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},e.CODEWORD_SKEW_SIZE=2,e.MAX_ERRORS=3,e.MAX_EC_CODEWORDS=512,e.errorCorrection=new GLe,e}(),p9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vy=function(){function e(){}return e.prototype.decode=function(t,r){r===void 0&&(r=null);var n=e.decode(t,r,!1);if(n==null||n.length===0||n[0]==null)throw Ye.getNotFoundInstance();return n[0]},e.prototype.decodeMultiple=function(t,r){r===void 0&&(r=null);try{return e.decode(t,r,!0)}catch(n){throw n instanceof ut||n instanceof Ta?Ye.getNotFoundInstance():n}},e.decode=function(t,r,n){var a,i,s=new Array,l=zLe.detectMultiple(t,r,n);try{for(var c=p9e(l.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,f=h9e.decode(l.getBits(),d[4],d[5],d[6],d[7],e.getMinCodewordWidth(d),e.getMaxCodewordWidth(d)),h=new Qi(f.getText(),f.getRawBytes(),void 0,d,Rt.PDF_417);h.putMetadata(Si.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Si.PDF417_EXTRA_METADATA,p),s.push(h)}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s.map(function(m){return m})},e.getMaxWidth=function(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMinWidth=function(t,r){return t==null||r==null?dr.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))},e.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(e.getMaxWidth(t[0],t[4]),e.getMaxWidth(t[6],t[2])*Sr.MODULES_IN_CODEWORD/Sr.MODULES_IN_STOP_PATTERN),Math.max(e.getMaxWidth(t[1],t[5]),e.getMaxWidth(t[7],t[3])*Sr.MODULES_IN_CODEWORD/Sr.MODULES_IN_STOP_PATTERN)))},e.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(e.getMinWidth(t[0],t[4]),e.getMinWidth(t[6],t[2])*Sr.MODULES_IN_CODEWORD/Sr.MODULES_IN_STOP_PATTERN),Math.min(e.getMinWidth(t[1],t[5]),e.getMinWidth(t[7],t[3])*Sr.MODULES_IN_CODEWORD/Sr.MODULES_IN_STOP_PATTERN)))},e.prototype.reset=function(){},e}(),m9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xI=function(e){m9e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="ReaderException",t}(Ls),gI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nU=function(){function e(){}return e.prototype.decode=function(t,r){return this.setHints(r),this.decodeInternal(t)},e.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},e.prototype.setHints=function(t){this.hints=t;var r=t!=null&&t.get(An.TRY_HARDER)!==void 0,n=t==null?null:t.get(An.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(s){return s===Rt.UPC_A||s===Rt.UPC_E||s===Rt.EAN_13||s===Rt.EAN_8||s===Rt.CODABAR||s===Rt.CODE_39||s===Rt.CODE_93||s===Rt.CODE_128||s===Rt.ITF||s===Rt.RSS_14||s===Rt.RSS_EXPANDED});i&&!r&&a.push(new Ah(t)),n.includes(Rt.QR_CODE)&&a.push(new Wy),n.includes(Rt.DATA_MATRIX)&&a.push(new Hy),n.includes(Rt.AZTEC)&&a.push(new zy),n.includes(Rt.PDF_417)&&a.push(new Vy),i&&r&&a.push(new Ah(t))}a.length===0&&(r||a.push(new Ah(t)),a.push(new Wy),a.push(new Hy),a.push(new zy),a.push(new Vy),r&&a.push(new Ah(t))),this.readers=a},e.prototype.reset=function(){var t,r;if(this.readers!==null)try{for(var n=gI(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.decodeInternal=function(t){var r,n;if(this.readers===null)throw new xI("No readers where selected, nothing can be read.");try{for(var a=gI(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;try{return s.decode(t,this.hints)}catch(l){if(l instanceof xI)continue}}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new Ye("No MultiFormat Readers were able to detect the code.")},e}(),x9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){x9e(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new nU;return i.setHints(r),a=e.call(this,i,n)||this,a}return t.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},t})(nm);var g9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){g9e(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new Vy,r)||this}return t})(nm);var v9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){v9e(t,e);function t(r){return r===void 0&&(r=500),e.call(this,new Wy,r)||this}return t})(nm);var zj;(function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",e[e.MIN_SIZE=4]="MIN_SIZE",e[e.MAX_SIZE=5]="MAX_SIZE",e[e.MARGIN=6]="MARGIN",e[e.PDF417_COMPACT=7]="PDF417_COMPACT",e[e.PDF417_COMPACTION=8]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=10]="AZTEC_LAYERS",e[e.QR_VERSION=11]="QR_VERSION",e[e.GS1_FORMAT=12]="GS1_FORMAT",e[e.FORCE_C40=13]="FORCE_C40"})(zj||(zj={}));const j2=zj;var aU=function(){function e(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new md(t,Int32Array.from([1])))}return e.prototype.buildGenerator=function(t){var r=this.cachedGenerators;if(t>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=t;i++){var s=n.multiply(new md(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(s),n=s}return r[t]},e.prototype.encode=function(t,r){if(r===0)throw new Lt("No error correction bytes");var n=t.length-r;if(n<=0)throw new Lt("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);Sn.arraycopy(t,0,i,0,n);var s=new md(this.field,i);s=s.multiplyByMonomial(r,1);for(var l=s.divide(a)[1],c=l.getCoefficients(),u=r-c.length,d=0;d<u;d++)t[n+d]=0;Sn.arraycopy(c,0,t,n+u,c.length)},e}(),mx=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),s=0;s<i-1;s++)for(var l=n[s],c=0;c<a-1;c++){var u=l[c];u===l[c+1]&&u===n[s+1][c]&&u===n[s+1][c+1]&&r++}return e.N2*r},e.applyMaskPenaltyRule3=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),s=0;s<i;s++)for(var l=0;l<a;l++){var c=n[s];l+6<a&&c[l]===1&&c[l+1]===0&&c[l+2]===1&&c[l+3]===1&&c[l+4]===1&&c[l+5]===0&&c[l+6]===1&&(e.isWhiteHorizontal(c,l-4,l)||e.isWhiteHorizontal(c,l+7,l+11))&&r++,s+6<i&&n[s][l]===1&&n[s+1][l]===0&&n[s+2][l]===1&&n[s+3][l]===1&&n[s+4][l]===1&&n[s+5][l]===0&&n[s+6][l]===1&&(e.isWhiteVertical(n,l,s-4,s)||e.isWhiteVertical(n,l,s+7,s+11))&&r++}return r*e.N3},e.isWhiteHorizontal=function(t,r,n){r=Math.max(r,0),n=Math.min(n,t.length);for(var a=r;a<n;a++)if(t[a]===1)return!1;return!0},e.isWhiteVertical=function(t,r,n,a){n=Math.max(n,0),a=Math.min(a,t.length);for(var i=n;i<a;i++)if(t[i][r]===1)return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var r=0,n=t.getArray(),a=t.getWidth(),i=t.getHeight(),s=0;s<i;s++)for(var l=n[s],c=0;c<a;c++)l[c]===1&&r++;var u=t.getHeight()*t.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*e.N4},e.getDataMaskBit=function(t,r,n){var a,i;switch(t){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new Lt("Invalid mask pattern: "+t)}return a===0},e.applyMaskPenaltyRule1Internal=function(t,r){for(var n=0,a=r?t.getHeight():t.getWidth(),i=r?t.getWidth():t.getHeight(),s=t.getArray(),l=0;l<a;l++){for(var c=0,u=-1,d=0;d<i;d++){var f=r?s[l][d]:s[d][l];f===u?c++:(c>=5&&(n+=e.N1+(c-5)),c=1,u=f)}c>=5&&(n+=e.N1+(c-5))}return n},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}(),b9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},y9e=function(){function e(t,r){this.width=t,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(t);this.bytes=n}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(t,r){return this.bytes[r][t]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(t,r,n){this.bytes[r][t]=n},e.prototype.setBoolean=function(t,r,n){this.bytes[r][t]=n?1:0},e.prototype.clear=function(t){var r,n;try{for(var a=b9e(this.bytes),i=a.next();!i.done;i=a.next()){var s=i.value;qa.fill(s,t)}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],s=r.bytes[n],l=0,c=this.width;l<c;++l)if(i[l]!==s[l])return!1;return!0},e.prototype.toString=function(){for(var t=new lr,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,s=this.width;i<s;++i)switch(a[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},e}(),Uj=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var t=new lr;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},e.prototype.setMode=function(t){this.mode=t},e.prototype.setECLevel=function(t){this.ecLevel=t},e.prototype.setVersion=function(t){this.version=t},e.prototype.setMaskPattern=function(t){this.maskPattern=t},e.prototype.setMatrix=function(t){this.matrix=t},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}(),w9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kn=function(e){w9e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.kind="WriterException",t}(Ls),vI=function(){function e(){}return e.clearMatrix=function(t){t.clear(255)},e.buildMatrix=function(t,r,n,a,i){e.clearMatrix(i),e.embedBasicPatterns(n,i),e.embedTypeInfo(r,a,i),e.maybeEmbedVersionInfo(n,i),e.embedDataBits(t,a,i)},e.embedBasicPatterns=function(t,r){e.embedPositionDetectionPatternsAndSeparators(r),e.embedDarkDotAtLeftBottomCorner(r),e.maybeEmbedPositionAdjustmentPatterns(t,r),e.embedTimingPatterns(r)},e.embedTypeInfo=function(t,r,n){var a=new ui;e.makeTypeInfoBits(t,r,a);for(var i=0,s=a.getSize();i<s;++i){var l=a.get(a.getSize()-1-i),c=e.TYPE_INFO_COORDINATES[i],u=c[0],d=c[1];if(n.setBoolean(u,d,l),i<8){var f=n.getWidth()-i-1,h=8;n.setBoolean(f,h,l)}else{var f=8,h=n.getHeight()-7+(i-8);n.setBoolean(f,h,l)}}},e.maybeEmbedVersionInfo=function(t,r){if(!(t.getVersionNumber()<7)){var n=new ui;e.makeVersionInfoBits(t,n);for(var a=6*3-1,i=0;i<6;++i)for(var s=0;s<3;++s){var l=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+s,l),r.setBoolean(r.getHeight()-11+s,i,l)}}},e.embedDataBits=function(t,r,n){for(var a=0,i=-1,s=n.getWidth()-1,l=n.getHeight()-1;s>0;){for(s===6&&(s-=1);l>=0&&l<n.getHeight();){for(var c=0;c<2;++c){var u=s-c;if(e.isEmpty(n.get(u,l))){var d=void 0;a<t.getSize()?(d=t.get(a),++a):d=!1,r!==255&&mx.getDataMaskBit(r,u,l)&&(d=!d),n.setBoolean(u,l,d)}}l+=i}i=-i,l+=i,s-=2}if(a!==t.getSize())throw new kn("Not all bits consumed: "+a+"/"+t.getSize())},e.findMSBSet=function(t){return 32-dr.numberOfLeadingZeros(t)},e.calculateBCHCode=function(t,r){if(r===0)throw new Lt("0 polynomial");var n=e.findMSBSet(r);for(t<<=n-1;e.findMSBSet(t)>=n;)t^=r<<e.findMSBSet(t)-n;return t},e.makeTypeInfoBits=function(t,r,n){if(!Uj.isValidMaskPattern(r))throw new kn("Invalid mask pattern");var a=t.getBits()<<3|r;n.appendBits(a,5);var i=e.calculateBCHCode(a,e.TYPE_INFO_POLY);n.appendBits(i,10);var s=new ui;if(s.appendBits(e.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new kn("should not happen but we got: "+n.getSize())},e.makeVersionInfoBits=function(t,r){r.appendBits(t.getVersionNumber(),6);var n=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new kn("should not happen but we got: "+r.getSize())},e.isEmpty=function(t){return t===255},e.embedTimingPatterns=function(t){for(var r=8;r<t.getWidth()-8;++r){var n=(r+1)%2;e.isEmpty(t.get(r,6))&&t.setNumber(r,6,n),e.isEmpty(t.get(6,r))&&t.setNumber(6,r,n)}},e.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new kn;t.setNumber(8,t.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,r,n){for(var a=0;a<8;++a){if(!e.isEmpty(n.get(t+a,r)))throw new kn;n.setNumber(t+a,r,0)}},e.embedVerticalSeparationPattern=function(t,r,n){for(var a=0;a<7;++a){if(!e.isEmpty(n.get(t,r+a)))throw new kn;n.setNumber(t,r+a,0)}},e.embedPositionAdjustmentPattern=function(t,r,n){for(var a=0;a<5;++a)for(var i=e.POSITION_ADJUSTMENT_PATTERN[a],s=0;s<5;++s)n.setNumber(t+s,r+a,i[s])},e.embedPositionDetectionPattern=function(t,r,n){for(var a=0;a<7;++a)for(var i=e.POSITION_DETECTION_PATTERN[a],s=0;s<7;++s)n.setNumber(t+s,r+a,i[s])},e.embedPositionDetectionPatternsAndSeparators=function(t){var r=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-r,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-r,t);var n=8;e.embedHorizontalSeparationPattern(0,n-1,t),e.embedHorizontalSeparationPattern(t.getWidth()-n,n-1,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-n,t);var a=7;e.embedVerticalSeparationPattern(a,0,t),e.embedVerticalSeparationPattern(t.getHeight()-a-1,0,t),e.embedVerticalSeparationPattern(a,t.getHeight()-a,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,r){if(!(t.getVersionNumber()<2))for(var n=t.getVersionNumber()-1,a=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,s=a.length;i!==s;i++){var l=a[i];if(l>=0)for(var c=0;c!==s;c++){var u=a[c];u>=0&&e.isEmpty(r.get(u,l))&&e.embedPositionAdjustmentPattern(u-2,l-2,r)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}(),_9e=function(){function e(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}(),bI=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.calculateMaskPenalty=function(t){return mx.applyMaskPenaltyRule1(t)+mx.applyMaskPenaltyRule2(t)+mx.applyMaskPenaltyRule3(t)+mx.applyMaskPenaltyRule4(t)},e.encode=function(t,r,n){n===void 0&&(n=null);var a=e.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(j2.CHARACTER_SET)!==void 0;i&&(a=n.get(j2.CHARACTER_SET).toString());var s=this.chooseMode(t,a),l=new ui;if(s===On.BYTE&&(i||e.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=Ha.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,l)}this.appendModeInfo(s,l);var u=new ui;this.appendBytes(t,s,u,a);var d;if(n!==null&&n.get(j2.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(j2.QR_VERSION).toString(),10);d=R0.getVersionForNumber(f);var h=this.calculateBitsNeeded(s,l,u,d);if(!this.willFit(h,d,r))throw new kn("Data too big for requested version")}else d=this.recommendVersion(r,s,l,u);var p=new ui;p.appendBitArray(l);var m=s===On.BYTE?u.getSizeInBytes():t.length;this.appendLengthInfo(m,d,s,p),p.appendBitArray(u);var x=d.getECBlocksForLevel(r),g=d.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(g,p);var v=this.interleaveWithECBytes(p,d.getTotalCodewords(),g,x.getNumBlocks()),b=new Uj;b.setECLevel(r),b.setMode(s),b.setVersion(d);var y=d.getDimensionForVersion(),_=new y9e(y,y),N=this.chooseMaskPattern(v,r,d,_);return b.setMaskPattern(N),vI.buildMatrix(v,r,d,N,_),b.setMatrix(_),b},e.recommendVersion=function(t,r,n,a){var i=this.calculateBitsNeeded(r,n,a,R0.getVersionForNumber(1)),s=this.chooseVersion(i,t),l=this.calculateBitsNeeded(r,n,a,s);return this.chooseVersion(l,t)},e.calculateBitsNeeded=function(t,r,n,a){return r.getSize()+t.getCharacterCountBits(a)+n.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,r){if(r===void 0&&(r=null),Ha.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return On.KANJI;for(var n=!1,a=!1,i=0,s=t.length;i<s;++i){var l=t.charAt(i);if(e.isDigit(l))n=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)a=!0;else return On.BYTE}return a?On.ALPHANUMERIC:n?On.NUMERIC:On.BYTE},e.isOnlyDoubleByteKanji=function(t){var r;try{r=zo.encode(t,Ha.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(t,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,s=-1,l=0;l<Uj.NUM_MASK_PATTERNS;l++){vI.buildMatrix(t,r,n,l,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,s=l)}return s},e.chooseVersion=function(t,r){for(var n=1;n<=40;n++){var a=R0.getVersionForNumber(n);if(e.willFit(t,a,r))return a}throw new kn("Data too big")},e.willFit=function(t,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),s=i.getTotalECCodewords(),l=a-s,c=(t+7)/8;return l>=c},e.terminateBits=function(t,r){var n=t*8;if(r.getSize()>n)throw new kn("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var s=t-r.getSizeInBytes(),a=0;a<s;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new kn("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(t,r,n,a,i,s){if(a>=n)throw new kn("Block ID too large");var l=t%n,c=n-l,u=Math.floor(t/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new kn("EC bytes mismatch");if(n!==c+l)throw new kn("RS blocks mismatch");if(t!==(f+p)*c+(h+m)*l)throw new kn("Total bytes mismatch");a<c?(i[0]=f,s[0]=p):(i[0]=h,s[0]=m)},e.interleaveWithECBytes=function(t,r,n,a){var i,s,l,c;if(t.getSizeInBytes()!==n)throw new kn("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<a;++p){var m=new Int32Array(1),x=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(r,n,a,p,m,x);var g=m[0],v=new Uint8Array(g);t.toBytes(8*u,v,0,g);var b=e.generateECBytes(v,x[0]);h.push(new _9e(v,b)),d=Math.max(d,g),f=Math.max(f,b.length),u+=m[0]}if(n!==u)throw new kn("Data bytes does not match offset");for(var y=new ui,p=0;p<d;++p)try{for(var _=(i=void 0,bI(h)),N=_.next();!N.done;N=_.next()){var S=N.value,v=S.getDataBytes();p<v.length&&y.appendBits(v[p],8)}}catch(F){i={error:F}}finally{try{N&&!N.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}for(var p=0;p<f;++p)try{for(var j=(l=void 0,bI(h)),A=j.next();!A.done;A=j.next()){var S=A.value,b=S.getErrorCorrectionBytes();p<b.length&&y.appendBits(b[p],8)}}catch(F){l={error:F}}finally{try{A&&!A.done&&(c=j.return)&&c.call(j)}finally{if(l)throw l.error}}if(r!==y.getSizeInBytes())throw new kn("Interleaving error: "+r+" and "+y.getSizeInBytes()+" differ.");return y},e.generateECBytes=function(t,r){for(var n=t.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=t[i]&255;new aU(ks.QR_CODE_FIELD_256).encode(a,r);for(var s=new Uint8Array(r),i=0;i<r;i++)s[i]=a[n+i];return s},e.appendModeInfo=function(t,r){r.appendBits(t.getBits(),4)},e.appendLengthInfo=function(t,r,n,a){var i=n.getCharacterCountBits(r);if(t>=1<<i)throw new kn(t+" is bigger than "+((1<<i)-1));a.appendBits(t,i)},e.appendBytes=function(t,r,n,a){switch(r){case On.NUMERIC:e.appendNumericBytes(t,n);break;case On.ALPHANUMERIC:e.appendAlphanumericBytes(t,n);break;case On.BYTE:e.append8BitBytes(t,n,a);break;case On.KANJI:e.appendKanjiBytes(t,n);break;default:throw new kn("Invalid mode: "+r)}},e.getDigit=function(t){return t.charCodeAt(0)-48},e.isDigit=function(t){var r=e.getDigit(t);return r>=0&&r<=9},e.appendNumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getDigit(t.charAt(a));if(a+2<n){var s=e.getDigit(t.charAt(a+1)),l=e.getDigit(t.charAt(a+2));r.appendBits(i*100+s*10+l,10),a+=3}else if(a+1<n){var s=e.getDigit(t.charAt(a+1));r.appendBits(i*10+s,7),a+=2}else r.appendBits(i,4),a++}},e.appendAlphanumericBytes=function(t,r){for(var n=t.length,a=0;a<n;){var i=e.getAlphanumericCode(t.charCodeAt(a));if(i===-1)throw new kn;if(a+1<n){var s=e.getAlphanumericCode(t.charCodeAt(a+1));if(s===-1)throw new kn;r.appendBits(i*45+s,11),a+=2}else r.appendBits(i,6),a++}},e.append8BitBytes=function(t,r,n){var a;try{a=zo.encode(t,n)}catch(c){throw new kn(c)}for(var i=0,s=a.length;i!==s;i++){var l=a[i];r.appendBits(l,8)}},e.appendKanjiBytes=function(t,r){var n;try{n=zo.encode(t,Ha.SJIS)}catch(f){throw new kn(f)}for(var a=n.length,i=0;i<a;i+=2){var s=n[i]&255,l=n[i+1]&255,c=s<<8&4294967295|l,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new kn("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},e.appendECI=function(t,r){r.appendBits(On.ECI.getBits(),4),r.appendBits(t.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=Ha.UTF8.getName(),e})();var N9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){N9e(t,e);function t(r,n,a,i,s,l,c,u){var d=e.call(this,l,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=s,i+l>n||s+c>a)throw new Lt("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(l,c),d}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Sn.arraycopy(this.yuvData,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Sn.arraycopy(this.yuvData,s,i,0,a),i;for(var l=0;l<n;l++){var c=l*r;Sn.arraycopy(this.yuvData,s,i,c,r),s+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},t.prototype.renderThumbnail=function(){for(var r=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,s=this.top*this.dataWidth+this.left,l=0;l<n;l++){for(var c=l*r,u=0;u<r;u++){var d=i[s+u*t.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|d*65793}s+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return a},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<n;i++,s+=this.dataWidth)for(var l=s+r/2,c=s,u=s+r-1;c<l;c++,u--){var d=a[c];a[c]=a[u],a[u]=d}},t.prototype.invert=function(){return new y5(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(Dg);var j9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){j9e(t,e);function t(r,n,a,i,s,l,c){var u=e.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=s,u.left=l,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*a,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,x=p>>7&510,g=p&255;f[h]=(m+x+g)/4&255}u.luminances=f}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=a),l===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new Lt("Crop rectangle does not fit within image data.");return u}return t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Sn.arraycopy(this.luminances,i,n,0,a),n},t.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Sn.arraycopy(this.luminances,s,i,0,a),i;for(var l=0;l<n;l++){var c=l*r;Sn.arraycopy(this.luminances,s,i,c,r),s+=this.dataWidth}return i},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return new t(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},t.prototype.invert=function(){return new y5(this)},t})(Dg);var S9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A9e=function(e){S9e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.forName=function(r){return this.getCharacterSetECIByName(r)},t}(Ha),C9e=function(){function e(){}return e.ISO_8859_1=Ha.ISO8859_1,e}(),Hj,E9e=301,k9e=function(e,t){for(var r=1,n=0;n<255;n++)t[n]=r,e[r]=n,r*=2,r>=256&&(r^=E9e);return{LOG:e,ALOG:t}};Hj=k9e([],[]),Hj.LOG;Hj.ALOG;var yI;(function(e){e[e.FORCE_NONE=0]="FORCE_NONE",e[e.FORCE_SQUARE=1]="FORCE_SQUARE",e[e.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(yI||(yI={}));var wI=129,iU=230,T9e=231,O9e=235,P9e=236,D9e=237,I9e=238,M9e=239,F9e=240,J4=254,R9e=254,_I="[)>05",NI="[)>06",jI="",Xr=0,bi=1,as=2,Ba=3,ni=4,Ri=5,L9e=function(){function e(){}return e.prototype.getEncodingMode=function(){return Xr},e.prototype.encode=function(t){var r=gl.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(r>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var n=t.getCurrentChar(),a=gl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Ri:t.writeCodeword(T9e),t.signalEncoderChange(Ri);return;case bi:t.writeCodeword(iU),t.signalEncoderChange(bi);return;case Ba:t.writeCodeword(I9e),t.signalEncoderChange(Ba);break;case as:t.writeCodeword(M9e),t.signalEncoderChange(as);break;case ni:t.writeCodeword(F9e),t.signalEncoderChange(ni);break;default:throw new Error("Illegal mode: "+a)}else gl.isExtendedASCII(n)?(t.writeCodeword(O9e),t.writeCodeword(n-128+1),t.pos++):(t.writeCodeword(n+1),t.pos++)}},e.prototype.encodeASCIIDigits=function(t,r){if(gl.isDigit(t)&&gl.isDigit(r)){var n=(t-48)*10+(r-48);return n+130}throw new Error("not digits: "+t+r)},e}(),B9e=function(){function e(){}return e.prototype.getEncodingMode=function(){return Ri},e.prototype.encode=function(t){var r=new lr;for(r.append(0);t.hasMoreCharacters();){var n=t.getCurrentChar();r.append(n),t.pos++;var a=gl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(Xr);break}}var i=r.length()-1,s=1,l=t.getCodewordCount()+i+s;t.updateSymbolInfo(l);var c=t.getSymbolInfo().getDataCapacity()-l>0;if(t.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,wr.getCharAt(i));else if(i<=1555)r.setCharAt(0,wr.getCharAt(Math.floor(i/250)+249)),r.insert(1,wr.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)t.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),t.getCodewordCount()+1))},e.prototype.randomize255State=function(t,r){var n=149*r%255+1,a=t+n;return a<=255?a:a-256},e}(),VC=function(){function e(){}return e.prototype.getEncodingMode=function(){return bi},e.prototype.encodeMaximal=function(t){for(var r=new lr,n=0,a=t.pos,i=0;t.hasMoreCharacters();){var s=t.getCurrentChar();t.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(a=t.pos,i=r.length())}if(i!==r.length()){var l=Math.floor(r.length()/3*2),c=Math.floor(t.getCodewordCount()+l+1);t.updateSymbolInfo(c);var u=t.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(t.pos=a)}r.length()>0&&t.writeCodeword(iU),this.handleEOD(t,r)},e.prototype.encode=function(t){for(var r=new lr;t.hasMoreCharacters();){var n=t.getCurrentChar();t.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,s=t.getCodewordCount()+i;t.updateSymbolInfo(s);var l=t.getSymbolInfo().getDataCapacity()-s;if(!t.hasMoreCharacters()){var c=new lr;for(r.length()%3===2&&l!==2&&(a=this.backtrackOneCharacter(t,r,c,a));r.length()%3===1&&(a>3||l!==1);)a=this.backtrackOneCharacter(t,r,c,a);break}var u=r.length();if(u%3===0){var d=gl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){t.signalEncoderChange(Xr);break}}}this.handleEOD(t,r)},e.prototype.backtrackOneCharacter=function(t,r,n,a){var i=r.length(),s=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(s),t.pos--;var l=t.getCurrentChar();return a=this.encodeChar(l,n),t.resetSymbolInfo(),a},e.prototype.writeNextTriplet=function(t,r){t.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},e.prototype.handleEOD=function(t,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=t.getCodewordCount()+n;t.updateSymbolInfo(i);var s=t.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(J4)}else if(s===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(t,r);t.hasMoreCharacters()&&t.writeCodeword(J4),t.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(t,r);(s>0||t.hasMoreCharacters())&&t.writeCodeword(J4)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(Xr)},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=65&&t<=90)return r.append(t-65+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t<=95)return r.append(1),r.append(t-91+22),2;if(t<=127)return r.append(2),r.append(t-96),2;r.append("1");var n=2;return n+=this.encodeChar(t-128,r),n},e.prototype.encodeToCodewords=function(t){var r=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,n=r/256,a=r%256,i=new lr;return i.append(n),i.append(a),i.toString()},e}(),$9e=function(){function e(){}return e.prototype.getEncodingMode=function(){return ni},e.prototype.encode=function(t){for(var r=new lr;t.hasMoreCharacters();){var n=t.getCurrentChar();this.encodeChar(n,r),t.pos++;var a=r.length();if(a>=4){t.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var s=gl.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(Xr);break}}}r.append(wr.getCharAt(31)),this.handleEOD(t,r)},e.prototype.handleEOD=function(t,r){try{var n=r.length();if(n===0)return;if(n===1){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=t.getRemainingCharacters();if(i>a&&(t.updateSymbolInfo(t.getCodewordCount()+1),a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,l=this.encodeToCodewords(r.toString()),c=!t.hasMoreCharacters(),u=c&&s<=2;if(s<=2){t.updateSymbolInfo(t.getCodewordCount()+s);var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();a>=3&&(u=!1,t.updateSymbolInfo(t.getCodewordCount()+l.length))}u?(t.resetSymbolInfo(),t.pos-=s):t.writeCodewords(l)}finally{t.signalEncoderChange(Xr)}},e.prototype.encodeChar=function(t,r){t>=32&&t<=63?r.append(t):t>=64&&t<=94?r.append(wr.getCharAt(t-64)):gl.illegalCharacter(wr.getCharAt(t))},e.prototype.encodeToCodewords=function(t){var r=t.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=t.charAt(0).charCodeAt(0),a=r>=2?t.charAt(1).charCodeAt(0):0,i=r>=3?t.charAt(2).charCodeAt(0):0,s=r>=4?t.charAt(3).charCodeAt(0):0,l=(n<<18)+(a<<12)+(i<<6)+s,c=l>>16&255,u=l>>8&255,d=l&255,f=new lr;return f.append(c),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},e}(),z9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U9e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Br=function(){function e(t,r,n,a,i,s,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.rectangular=t,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=s,this.rsBlockData=l,this.rsBlockError=c}return e.lookup=function(t,r,n,a,i){var s,l;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=U9e(W9e),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&t<=d.dataCapacity)return d}}catch(f){s={error:f}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},e.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},e.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},e.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},e.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},e.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},e.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},e.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},e.prototype.getDataCapacity=function(){return this.dataCapacity},e.prototype.getErrorCodewords=function(){return this.errorCodewords},e.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},e.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},e}(),H9e=function(e){z9e(t,e);function t(){return e.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},t}(Br),W9e=[new Br(!1,3,5,8,8,1),new Br(!1,5,7,10,10,1),new Br(!0,5,7,16,6,1),new Br(!1,8,10,12,12,1),new Br(!0,10,11,14,6,2),new Br(!1,12,12,14,14,1),new Br(!0,16,14,24,10,1),new Br(!1,18,14,16,16,1),new Br(!1,22,18,18,18,1),new Br(!0,22,18,16,10,2),new Br(!1,30,20,20,20,1),new Br(!0,32,24,16,14,2),new Br(!1,36,24,22,22,1),new Br(!1,44,28,24,24,1),new Br(!0,49,28,22,14,2),new Br(!1,62,36,14,14,4),new Br(!1,86,42,16,16,4),new Br(!1,114,48,18,18,4),new Br(!1,144,56,20,20,4),new Br(!1,174,68,22,22,4),new Br(!1,204,84,24,24,4,102,42),new Br(!1,280,112,14,14,16,140,56),new Br(!1,368,144,16,16,16,92,36),new Br(!1,456,192,18,18,16,114,48),new Br(!1,576,224,20,20,16,144,56),new Br(!1,696,272,22,22,16,174,68),new Br(!1,816,336,24,24,16,136,56),new Br(!1,1050,408,18,18,36,175,68),new Br(!1,1304,496,20,20,36,163,62),new H9e],V9e=function(){function e(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var r=t.split("").map(function(l){return l.charCodeAt(0)}),n=new lr,a=0,i=r.length;a<i;a++){var s=String.fromCharCode(r[a]&255);if(s==="?"&&t.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new lr,this.newEncoding=-1}return e.prototype.setSymbolShape=function(t){this.shape=t},e.prototype.setSizeConstraints=function(t,r){this.minSize=t,this.maxSize=r},e.prototype.getMessage=function(){return this.msg},e.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},e.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},e.prototype.getCodewords=function(){return this.codewords},e.prototype.writeCodewords=function(t){this.codewords.append(t)},e.prototype.writeCodeword=function(t){this.codewords.append(t)},e.prototype.getCodewordCount=function(){return this.codewords.length()},e.prototype.getNewEncoding=function(){return this.newEncoding},e.prototype.signalEncoderChange=function(t){this.newEncoding=t},e.prototype.resetEncoderSignal=function(){this.newEncoding=-1},e.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},e.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},e.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},e.prototype.getSymbolInfo=function(){return this.symbolInfo},e.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Br.lookup(t,this.shape,this.minSize,this.maxSize,!0))},e.prototype.resetSymbolInfo=function(){this.symbolInfo=null},e}(),q9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G9e=function(e){q9e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return Ba},t.prototype.encode=function(r){for(var n=new lr;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var s=gl.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Xr);break}}}this.handleEOD(r,n)},t.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):gl.illegalCharacter(wr.getCharAt(r));break}return 1},t.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(R9e),r.getNewEncoding()<0&&r.signalEncoderChange(Xr)},t}(VC),Y9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X9e=function(e){Y9e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return as},t.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},t}(VC),gl=function(){function e(){}return e.randomize253State=function(t){var r=149*t%253+1,n=wI+r;return n<=254?n:n-254},e.encodeHighLevel=function(t,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var s=new VC,l=[new L9e,s,new X9e,new G9e,new $9e,new B9e],c=new V9e(t);c.setSymbolShape(r),c.setSizeConstraints(n,a),t.startsWith(_I)&&t.endsWith(jI)?(c.writeCodeword(P9e),c.setSkipAtEnd(2),c.pos+=_I.length):t.startsWith(NI)&&t.endsWith(jI)&&(c.writeCodeword(D9e),c.setSkipAtEnd(2),c.pos+=NI.length);var u=Xr;for(i&&(s.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)l[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();d<f&&u!==Xr&&u!==Ri&&u!==ni&&c.writeCodeword("þ");var h=c.getCodewords();for(h.length()<f&&h.append(wI);h.length()<f;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},e.lookAheadTest=function(t,r,n){var a=this.lookAheadTestIntern(t,r,n);if(n===Ba&&a===Ba){for(var i=Math.min(r+3,t.length),s=r;s<i;s++)if(!this.isNativeX12(t.charCodeAt(s)))return Xr}else if(n===ni&&a===ni){for(var i=Math.min(r+4,t.length),s=r;s<i;s++)if(!this.isNativeEDIFACT(t.charCodeAt(s)))return Xr}return a},e.lookAheadTestIntern=function(t,r,n){if(r>=t.length)return n;var a;n===Xr?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,s=new Uint8Array(6),l=[];;){if(r+i===t.length){qa.fill(s,0),qa.fill(l,0);var c=this.findMinimums(a,l,dr.MAX_VALUE,s),u=this.getMinimumCount(s);if(l[Xr]===c)return Xr;if(u===1){if(s[Ri]>0)return Ri;if(s[ni]>0)return ni;if(s[as]>0)return as;if(s[Ba]>0)return Ba}return bi}var d=t.charCodeAt(r+i);if(i++,this.isDigit(d)?a[Xr]+=.5:this.isExtendedASCII(d)?(a[Xr]=Math.ceil(a[Xr]),a[Xr]+=2):(a[Xr]=Math.ceil(a[Xr]),a[Xr]++),this.isNativeC40(d)?a[bi]+=2/3:this.isExtendedASCII(d)?a[bi]+=8/3:a[bi]+=4/3,this.isNativeText(d)?a[as]+=2/3:this.isExtendedASCII(d)?a[as]+=8/3:a[as]+=4/3,this.isNativeX12(d)?a[Ba]+=2/3:this.isExtendedASCII(d)?a[Ba]+=13/3:a[Ba]+=10/3,this.isNativeEDIFACT(d)?a[ni]+=3/4:this.isExtendedASCII(d)?a[ni]+=17/4:a[ni]+=13/4,this.isSpecialB256(d)?a[Ri]+=4:a[Ri]++,i>=4){if(qa.fill(s,0),qa.fill(l,0),this.findMinimums(a,l,dr.MAX_VALUE,s),l[Xr]<this.min(l[Ri],l[bi],l[as],l[Ba],l[ni]))return Xr;if(l[Ri]<l[Xr]||l[Ri]+1<this.min(l[bi],l[as],l[Ba],l[ni]))return Ri;if(l[ni]+1<this.min(l[Ri],l[bi],l[as],l[Ba],l[Xr]))return ni;if(l[as]+1<this.min(l[Ri],l[bi],l[ni],l[Ba],l[Xr]))return as;if(l[Ba]+1<this.min(l[Ri],l[bi],l[ni],l[as],l[Xr]))return Ba;if(l[bi]+1<this.min(l[Xr],l[Ri],l[ni],l[as])){if(l[bi]<l[Ba])return bi;if(l[bi]===l[Ba]){for(var f=r+i+1;f<t.length;){var h=t.charCodeAt(f);if(this.isX12TermSep(h))return Ba;if(!this.isNativeX12(h))break;f++}return bi}}}}},e.min=function(t,r,n,a,i){var s=Math.min(t,Math.min(r,Math.min(n,a)));return i===void 0?s:Math.min(s,i)},e.findMinimums=function(t,r,n,a){for(var i=0;i<6;i++){var s=r[i]=Math.ceil(t[i]);n>s&&(n=s,qa.fill(a,0)),n===s&&(a[i]=a[i]+1)}return n},e.getMinimumCount=function(t){for(var r=0,n=0;n<6;n++)r+=t[n];return r||0},e.isDigit=function(t){return t>=48&&t<=57},e.isExtendedASCII=function(t){return t>=128&&t<=255},e.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},e.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},e.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},e.isX12TermSep=function(t){return t===13||t===42||t===62},e.isNativeEDIFACT=function(t){return t>=32&&t<=94},e.isSpecialB256=function(t){return!1},e.determineConsecutiveDigitCount=function(t,r){r===void 0&&(r=0);for(var n=t.length,a=r;a<n&&this.isDigit(t.charCodeAt(a));)a++;return a-r},e.illegalCharacter=function(t){var r=dr.toHexString(t.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+t+" (0x"+r+")")},e}(),Z4=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SI=function(){function e(t){this.charset=t,this.name=t.name}return e.prototype.canEncode=function(t){try{return zo.encode(t,this.charset)!=null}catch{return!1}},e}(),K9e=function(){function e(t,r,n){var a,i,s,l,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(T){return new SI(A9e.forName(T))}),this.encoders=[];var d=[];d.push(new SI(C9e.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<t.length;h++){var p=!1;try{for(var m=(a=void 0,Z4(d)),x=m.next();!x.done;x=m.next()){var g=x.value,v=t.charAt(h),b=v.charCodeAt(0);if(b===n||g.canEncode(v)){p=!0;break}}}catch(T){a={error:T}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}if(!p)try{for(var y=(s=void 0,Z4(this.ENCODERS)),_=y.next();!_.done;_=y.next()){var g=_.value;if(g.canEncode(t.charAt(h))){d.push(g),p=!0;break}}}catch(T){s={error:T}}finally{try{_&&!_.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var N=0;try{for(var S=Z4(d),j=S.next();!j.done;j=S.next()){var g=j.value;this.encoders[N++]=g}}catch(T){c={error:T}}finally{try{j&&!j.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}var A=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){A=h;break}}this.priorityEncoderIndex=A}return e.prototype.length=function(){return this.encoders.length},e.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},e.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},e.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},e.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},e.prototype.canEncode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},e.prototype.encode=function(t,r){if(!(r<this.length()))throw new Error("index must be less than length");return zo.encode(wr.getCharAt(t),this.encoders[r].name)},e}(),Q9e=3,J9e=function(){function e(t,r,n){this.fnc1=n;var a=new K9e(t,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var s=t.charAt(i).charCodeAt(0);this.bytes[i]=s===n?1e3:s}else this.bytes=this.encodeMinimally(t,a,n)}return e.prototype.getFNC1Character=function(){return this.fnc1},e.prototype.length=function(){return this.bytes.length},e.prototype.haveNCharacters=function(t,r){if(t+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(t+n))return!1;return!0},e.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},e.prototype.subSequence=function(t,r){if(t<0||t>r||r>this.length())throw new Error(""+t);for(var n=new lr,a=t;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},e.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},e.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},e.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},e.prototype.addEdge=function(t,r,n){(t[r][n.encoderIndex]==null||t[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(t[r][n.encoderIndex]=n)},e.prototype.addEdges=function(t,r,n,a,i,s){var l=t.charAt(a).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(l===s||r.canEncode(l,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(l===s||r.canEncode(l,d))&&this.addEdge(n,a+1,new AI(l,r,d,i,s))},e.prototype.encodeMinimally=function(t,r,n){var a=t.length,i=new AI[a+1][r.length()];this.addEdges(t,r,i,0,null,n);for(var s=1;s<=a;s++){for(var l=0;l<r.length();l++)i[s][l]!=null&&s<a&&this.addEdges(t,r,i,s,i[s][l],n);for(var l=0;l<r.length();l++)i[s-1][l]=null}for(var c=-1,u=dr.MAX_VALUE,l=0;l<r.length();l++)if(i[a][l]!=null){var d=i[a][l];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=l)}if(c<0)throw new Error('Failed to encode "'+t+'"');for(var f=[],h=i[a][c];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),s=p.length-1;s>=0;s--)f.unshift(p[s]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var x=[],s=0;s<x.length;s++)x[s]=f[s];return x},e}(),AI=function(){function e(t,r,n,a,i){this.c=t,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=t===i?1e3:t;var s=this.isFNC1()?1:r.encode(t,n).length,l=a===null?0:a.encoderIndex;l!==n&&(s+=Q9e),a!=null&&(s+=a.cachedTotalSize),this.cachedTotalSize=s}return e.prototype.isFNC1=function(){return this.c===1e3},e}(),Z9e=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var CI;(function(e){e[e.ASCII=0]="ASCII",e[e.C40=1]="C40",e[e.TEXT=2]="TEXT",e[e.X12=3]="X12",e[e.EDF=4]="EDF",e[e.B256=5]="B256"})(CI||(CI={}));(function(e){Z9e(t,e);function t(r,n,a,i,s){var l=e.call(this,r,n,a)||this;return l.shape=i,l.macroId=s,l}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(J9e);var eBe=function(){function e(){}return e.prototype.isCompact=function(){return this.compact},e.prototype.setCompact=function(t){this.compact=t},e.prototype.getSize=function(){return this.size},e.prototype.setSize=function(t){this.size=t},e.prototype.getLayers=function(){return this.layers},e.prototype.setLayers=function(t){this.layers=t},e.prototype.getCodeWords=function(){return this.codeWords},e.prototype.setCodeWords=function(t){this.codeWords=t},e.prototype.getMatrix=function(){return this.matrix},e.prototype.setMatrix=function(t){this.matrix=t},e}(),EI=function(){function e(){}return e.singletonList=function(t){return[t]},e.min=function(t,r){return t.sort(r)[0]},e}(),tBe=function(){function e(t){this.previous=t}return e.prototype.getPrevious=function(){return this.previous},e}(),rBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qC=function(e){rBe(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.value=n,i.bitCount=a,i}return t.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},t.prototype.add=function(r,n){return new t(this,r,n)},t.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,r,n)},t.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+dr.toBinaryString(r|1<<this.bitCount).substring(1)+">"},t}(tBe),nBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aBe=function(e){nBe(t,e);function t(r,n,a){var i=e.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return t.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},t.prototype.addBinaryShift=function(r,n){return new t(this,r,n)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(qC);function iBe(e,t,r){return new aBe(e,t,r)}function ax(e,t,r){return new qC(e,t,r)}var sBe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xd=0,qy=1,Bo=2,sU=3,rc=4,oBe=new qC(null,0,0),eN=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],lBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function cBe(e){var t,r;try{for(var n=lBe(e),a=n.next();!a.done;a=n.next()){var i=a.value;qa.fill(i,-1)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e[xd][rc]=0,e[qy][rc]=0,e[qy][xd]=28,e[sU][rc]=0,e[Bo][rc]=0,e[Bo][xd]=15,e}var oU=cBe(qa.createInt32Array(6,6)),uBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dBe=function(){function e(t,r,n,a){this.token=t,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return e.prototype.getMode=function(){return this.mode},e.prototype.getToken=function(){return this.token},e.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},e.prototype.getBitCount=function(){return this.bitCount},e.prototype.latchAndAppend=function(t,r){var n=this.bitCount,a=this.token;if(t!==this.mode){var i=eN[this.mode][t];a=ax(a,i&65535,i>>16),n+=i>>16}var s=t===Bo?4:5;return a=ax(a,r,s),new e(a,t,0,n+s)},e.prototype.shiftAndAppend=function(t,r){var n=this.token,a=this.mode===Bo?4:5;return n=ax(n,oU[this.mode][t],a),n=ax(n,r,5),new e(n,this.mode,0,this.bitCount+a+5)},e.prototype.addBinaryShiftChar=function(t){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===rc||this.mode===Bo){var i=eN[n][xd];r=ax(r,i&65535,i>>16),a+=i>>16,n=xd}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new e(r,n,this.binaryShiftByteCount+1,a+s);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(t+1)),l},e.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=iBe(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new e(r,this.mode,0,this.bitCount)},e.prototype.isBetterThanOrEqualTo=function(t){var r=this.bitCount+(eN[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=e.calculateBinaryShiftCost(t)-e.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount},e.prototype.toBitArray=function(t){for(var r,n,a=[],i=this.endBinaryShift(t.length).token;i!==null;i=i.getPrevious())a.unshift(i);var s=new ui;try{for(var l=uBe(a),c=l.next();!c.done;c=l.next()){var u=c.value;u.appendTo(s,t)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s},e.prototype.toString=function(){return wr.format("%s bits=%d bytes=%d",sBe[this.mode],this.bitCount,this.binaryShiftByteCount)},e.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},e.INITIAL_STATE=new e(oBe,xd,0,0),e}();function fBe(e){var t=wr.getCharCode(" "),r=wr.getCharCode("."),n=wr.getCharCode(",");e[xd][t]=1;for(var a=wr.getCharCode("Z"),i=wr.getCharCode("A"),s=i;s<=a;s++)e[xd][s]=s-i+2;e[qy][t]=1;for(var l=wr.getCharCode("z"),c=wr.getCharCode("a"),s=c;s<=l;s++)e[qy][s]=s-c+2;e[Bo][t]=1;for(var u=wr.getCharCode("9"),d=wr.getCharCode("0"),s=d;s<=u;s++)e[Bo][s]=s-d+2;e[Bo][n]=12,e[Bo][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)e[sU][wr.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)wr.getCharCode(p[h])>0&&(e[rc][wr.getCharCode(p[h])]=h);return e}var tN=fBe(qa.createInt32Array(5,256)),S2=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hBe=function(){function e(t){this.text=t}return e.prototype.encode=function(){for(var t=wr.getCharCode(" "),r=wr.getCharCode(`
`),n=EI.singletonList(dBe.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,s=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case wr.getCharCode("\r"):i=s===r?2:0;break;case wr.getCharCode("."):i=s===t?3:0;break;case wr.getCharCode(","):i=s===t?4:0;break;case wr.getCharCode(":"):i=s===t?5:0;break;default:i=0}i>0?(n=e.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var l=EI.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return l.toBitArray(this.text)},e.prototype.updateStateListForChar=function(t,r){var n,a,i=[];try{for(var s=S2(t),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForChar(c,r,i)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return e.simplifyStates(i)},e.prototype.updateStateForChar=function(t,r,n){for(var a=this.text[r]&255,i=tN[t.getMode()][a]>0,s=null,l=0;l<=rc;l++){var c=tN[l][a];if(c>0){if(s==null&&(s=t.endBinaryShift(r)),!i||l===t.getMode()||l===Bo){var u=s.latchAndAppend(l,c);n.push(u)}if(!i&&oU[t.getMode()][l]>=0){var d=s.shiftAndAppend(l,c);n.push(d)}}}if(t.getBinaryShiftByteCount()>0||tN[t.getMode()][a]===0){var f=t.addBinaryShiftChar(r);n.push(f)}},e.updateStateListForPair=function(t,r,n){var a,i,s=[];try{for(var l=S2(t),c=l.next();!c.done;c=l.next()){var u=c.value;this.updateStateForPair(u,r,n,s)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(a)throw a.error}}return this.simplifyStates(s)},e.updateStateForPair=function(t,r,n,a){var i=t.endBinaryShift(r);if(a.push(i.latchAndAppend(rc,n)),t.getMode()!==rc&&a.push(i.shiftAndAppend(rc,n)),n===3||n===4){var s=i.latchAndAppend(Bo,16-n).latchAndAppend(Bo,1);a.push(s)}if(t.getBinaryShiftByteCount()>0){var l=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(l)}},e.simplifyStates=function(t){var r,n,a,i,s=[];try{for(var l=S2(t),c=l.next();!c.done;c=l.next()){var u=c.value,d=!0,f=function(g){if(g.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(g)&&(s=s.filter(function(v){return v!==g}))};try{for(var h=(a=void 0,S2(s)),p=h.next();!p.done;p=h.next()){var m=p.value,x=f(m);if(x==="break")break}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}d&&s.push(u)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s},e}(),pBe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function e(){}return e.encodeBytes=function(t){return e.encode(t,e.DEFAULT_EC_PERCENT,e.DEFAULT_AZTEC_LAYERS)},e.encode=function(t,r,n){var a=new hBe(t).encode(),i=dr.truncDivision(a.getSize()*r,100)+11,s=a.getSize()+i,l,c,u,d,f;if(n!==e.DEFAULT_AZTEC_LAYERS){if(l=n<0,c=Math.abs(n),c>(l?e.MAX_NB_BITS_COMPACT:e.MAX_NB_BITS))throw new Lt(wr.format("Illegal value %s for layers",n));u=e.totalBitsInLayer(c,l),d=e.WORD_SIZE[c];var h=u-u%d;if(f=e.stuffBits(a,d),f.getSize()+i>h)throw new Lt("Data to large for user specified layer");if(l&&f.getSize()>d*64)throw new Lt("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>e.MAX_NB_BITS)throw new Lt("Data too large for an Aztec code");if(l=p<=3,c=l?p+1:p,u=e.totalBitsInLayer(c,l),!(s>u)){(f==null||d!==e.WORD_SIZE[c])&&(d=e.WORD_SIZE[c],f=e.stuffBits(a,d));var h=u-u%d;if(!(l&&f.getSize()>d*64)&&f.getSize()+i<=h)break}}}var m=e.generateCheckWords(f,u,d),x=f.getSize()/d,g=e.generateModeMessage(l,c,x),v=(l?11:14)+c*4,b=new Int32Array(v),y;if(l){y=v;for(var p=0;p<b.length;p++)b[p]=p}else{y=v+1+2*dr.truncDivision(dr.truncDivision(v,2)-1,15);for(var _=dr.truncDivision(v,2),N=dr.truncDivision(y,2),p=0;p<_;p++){var S=p+dr.truncDivision(p,15);b[_-p-1]=N-S-1,b[_+p]=N+S+1}}for(var j=new fc(y),p=0,A=0;p<c;p++){for(var T=(c-p)*4+(l?9:12),F=0;F<T;F++)for(var O=F*2,E=0;E<2;E++)m.get(A+O+E)&&j.set(b[p*2+E],b[p*2+F]),m.get(A+T*2+O+E)&&j.set(b[p*2+F],b[v-1-p*2-E]),m.get(A+T*4+O+E)&&j.set(b[v-1-p*2-E],b[v-1-p*2-F]),m.get(A+T*6+O+E)&&j.set(b[v-1-p*2-F],b[p*2+E]);A+=T*8}if(e.drawModeMessage(j,l,y,g),l)e.drawBullsEye(j,dr.truncDivision(y,2),5);else{e.drawBullsEye(j,dr.truncDivision(y,2),7);for(var p=0,F=0;p<dr.truncDivision(v,2)-1;p+=15,F+=16)for(var E=dr.truncDivision(y,2)&1;E<y;E+=2)j.set(dr.truncDivision(y,2)-F,E),j.set(dr.truncDivision(y,2)+F,E),j.set(E,dr.truncDivision(y,2)-F),j.set(E,dr.truncDivision(y,2)+F)}var L=new eBe;return L.setCompact(l),L.setSize(y),L.setLayers(c),L.setCodeWords(x),L.setMatrix(j),L},e.drawBullsEye=function(t,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)t.set(i,r-a),t.set(i,r+a),t.set(r-a,i),t.set(r+a,i);t.set(r-n,r-n),t.set(r-n+1,r-n),t.set(r-n,r-n+1),t.set(r+n,r-n),t.set(r+n,r-n+1),t.set(r+n,r+n-1)},e.generateModeMessage=function(t,r,n){var a=new ui;return t?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=e.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=e.generateCheckWords(a,40,4)),a},e.drawModeMessage=function(t,r,n,a){var i=dr.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var l=i-3+s;a.get(s)&&t.set(l,i-5),a.get(s+7)&&t.set(i+5,l),a.get(20-s)&&t.set(l,i+5),a.get(27-s)&&t.set(i-5,l)}else for(var s=0;s<10;s++){var l=i-5+s+dr.truncDivision(s,5);a.get(s)&&t.set(l,i-7),a.get(s+10)&&t.set(i+7,l),a.get(29-s)&&t.set(l,i+7),a.get(39-s)&&t.set(i-7,l)}},e.generateCheckWords=function(t,r,n){var a,i,s=t.getSize()/n,l=new aU(e.getGF(n)),c=dr.truncDivision(r,n),u=e.bitsToWords(t,n,c);l.encode(u,c-s);var d=r%n,f=new ui;f.appendBits(0,d);try{for(var h=pBe(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(x){a={error:x}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return f},e.bitsToWords=function(t,r,n){var a=new Int32Array(n),i,s;for(i=0,s=t.getSize()/r;i<s;i++){for(var l=0,c=0;c<r;c++)l|=t.get(i*r+c)?1<<r-c-1:0;a[i]=l}return a},e.getGF=function(t){switch(t){case 4:return ks.AZTEC_PARAM;case 6:return ks.AZTEC_DATA_6;case 8:return ks.AZTEC_DATA_8;case 10:return ks.AZTEC_DATA_10;case 12:return ks.AZTEC_DATA_12;default:throw new Lt("Unsupported word size "+t)}},e.stuffBits=function(t,r){for(var n=new ui,a=t.getSize(),i=(1<<r)-2,s=0;s<a;s+=r){for(var l=0,c=0;c<r;c++)(s+c>=a||t.get(s+c))&&(l|=1<<r-1-c);(l&i)===i?(n.appendBits(l&i,r),s--):l&i?n.appendBits(l,r):(n.appendBits(l|1,r),s--)}return n},e.totalBitsInLayer=function(t,r){return((r?88:112)+16*t)*t},e.DEFAULT_EC_PERCENT=33,e.DEFAULT_AZTEC_LAYERS=0,e.MAX_NB_BITS=32,e.MAX_NB_BITS_COMPACT=4,e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),e})();var mBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xBe=function(e){mBe(t,e);function t(r){var n=e.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=t.makeBufferFromCanvasImageData(r),n}return t.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var a=n.getImageData(0,0,r.width,r.height);return t.toGrayscaleBuffer(a.data,r.width,r.height)},t.toGrayscaleBuffer=function(r,n,a){for(var i=new Uint8ClampedArray(n*a),s=0,l=0,c=r.length;s<c;s+=4,l++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}i[l]=u}return i},t.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Lt("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(r,n,a,i){return e.prototype.crop.call(this,r,n,a,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new y5(this)},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},t.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var a=r*t.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*i+Math.abs(Math.sin(a))*s),c=Math.ceil(Math.abs(Math.sin(a))*i+Math.abs(Math.cos(a))*s);n.width=l,n.height=c;var u=n.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(l/2,c/2),u.rotate(a),u.drawImage(this.canvas,i/-2,s/-2),this.buffer=t.makeBufferFromCanvasImageData(n),this},t.DEGREE_TO_RADIANS=Math.PI/180,t}(Dg);function lU(){return typeof navigator<"u"}function gBe(){return lU()&&!!navigator.mediaDevices}function vBe(){return!!(gBe()&&navigator.mediaDevices.enumerateDevices)}var Eh=function(){return Eh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Eh.apply(this,arguments)},zn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},Un=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},rN=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bBe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},am=function(){function e(t,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=t,this.hints=r,this.options=Eh(Eh({},bBe),n)}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(An.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),e.addVideoSource=function(t,r){try{t.srcObject=r}catch{console.error("got interrupted by new loading request")}},e.mediaStreamSetTorch=function(t,r){return zn(this,void 0,void 0,function(){return Un(this,function(n){switch(n.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},e.mediaStreamIsTorchCompatible=function(t){var r,n,a=t.getVideoTracks();try{for(var i=rN(a),s=i.next();!s.done;s=i.next()){var l=s.value;if(e.mediaStreamIsTorchCompatibleTrack(l))return!0}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1},e.mediaStreamIsTorchCompatibleTrack=function(t){try{var r=t.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},e.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},e.getMediaElement=function(t,r){var n=document.getElementById(t);if(!n)throw new ua("element with id '".concat(t,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new ua("element with id '".concat(t,"' must be an ").concat(r," element"));return n},e.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if(typeof t=="string")return e.getMediaElement(t,"video");if(!t&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},e.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if(typeof t=="string")return e.getMediaElement(t,"img");if(typeof t>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},e.prepareVideoElement=function(t){var r=e.createVideoElement(t);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},e.createBinaryBitmapFromCanvas=function(t){var r=new xBe(t),n=new qz(r);return new Vz(n)},e.drawImageOnCanvas=function(t,r){t.drawImage(r,0,0)},e.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},e.createCaptureCanvas=function(t){if(!t)throw new ua("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=e.getMediaElementDimensions(t),a=n.width,i=n.height;return r.style.width=a+"px",r.style.height=i+"px",r.width=a,r.height=i,r},e.tryPlayVideo=function(t){return zn(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:if(t!=null&&t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(e.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},e.createCanvasFromMediaElement=function(t){var r=e.createCaptureCanvas(t),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return e.drawImageOnCanvas(n,t),r},e.createBinaryBitmapFromMediaElem=function(t){var r=e.createCanvasFromMediaElement(t);return e.createBinaryBitmapFromCanvas(r)},e.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},e.listVideoInputDevices=function(){return zn(this,void 0,void 0,function(){var t,r,n,a,i,s,l,c,u,d,f,h;return Un(this,function(p){switch(p.label){case 0:if(!lU())throw new Error("Can't enumerate devices, navigator is not present.");if(!vBe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=p.sent(),r=[];try{for(n=rN(t),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(l=i.deviceId||i.id,c=i.label||"Video device ".concat(r.length+1),u=i.groupId,d={deviceId:l,label:c,kind:s,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},e.findDeviceById=function(t){return zn(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:return[4,e.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===t})]:[2]}})})},e.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}},e.releaseAllStreams=function(){e.streamTracker.length!==0&&e.streamTracker.forEach(function(t){t.getTracks().forEach(function(r){return r.stop()})}),e.streamTracker=[]},e.playVideoOnLoadAsync=function(t,r){return zn(this,void 0,void 0,function(){var n;return Un(this,function(a){switch(a.label){case 0:return[4,e.tryPlayVideo(t)];case 1:return n=a.sent(),n?[2,!0]:[2,new Promise(function(i,s){var l=setTimeout(function(){e.isVideoPlaying(t)||(s(!1),t.removeEventListener("canplay",c))},r),c=function(){e.tryPlayVideo(t).then(function(u){clearTimeout(l),t.removeEventListener("canplay",c),i(u)})};t.addEventListener("canplay",c)})]}})})},e.attachStreamToVideo=function(t,r,n){return n===void 0&&(n=5e3),zn(this,void 0,void 0,function(){var a;return Un(this,function(i){switch(i.label){case 0:return a=e.prepareVideoElement(r),e.addVideoSource(a,t),[4,e.playVideoOnLoadAsync(a,n)];case 1:return i.sent(),[2,a]}})})},e._waitImageLoad=function(t){return new Promise(function(r,n){var a=1e4,i=setTimeout(function(){e.isImageLoaded(t)||(t.removeEventListener("load",s),n())},a),s=function(){clearTimeout(i),t.removeEventListener("load",s),r()};t.addEventListener("load",s)})},e.checkCallbackFnOrThrow=function(t){if(!t)throw new ua("`callbackFn` is a required parameter, you cannot capture results without it.")},e.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(r){return r.stop()}),t=void 0},e.prototype.decode=function(t){var r=e.createCanvasFromMediaElement(t);return this.decodeFromCanvas(r)},e.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},e.prototype.decodeFromCanvas=function(t){var r=e.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(r)},e.prototype.decodeFromImageElement=function(t){return zn(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:if(!t)throw new ua("An image element must be provided.");return r=e.prepareImageElement(t),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},e.prototype.decodeFromImageUrl=function(t){return zn(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:if(!t)throw new ua("An URL must be provided.");r=e.prepareImageElement(),r.src=t,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return e.destroyImageElement(r),[7];case 4:return[2]}})})},e.prototype.decodeFromConstraints=function(t,r,n){return zn(this,void 0,void 0,function(){var a,i;return Un(this,function(s){switch(s.label){case 0:return e.checkCallbackFnOrThrow(n),[4,this.getUserMedia(t)];case 1:a=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(a,r,n)];case 3:return[2,s.sent()];case 4:throw i=s.sent(),e.disposeMediaStream(a),i;case 5:return[2]}})})},e.prototype.decodeFromStream=function(t,r,n){return zn(this,void 0,void 0,function(){var a,i,s,l,c,u,d,f,h,p=this;return Un(this,function(m){switch(m.label){case 0:return e.checkCallbackFnOrThrow(n),a=this.options.tryPlayVideoTimeout,[4,e.attachStreamToVideo(t,r,a)];case 1:return i=m.sent(),s=function(){e.disposeMediaStream(t),e.cleanVideoSource(i)},l=this.scan(i,n,s),c=t.getVideoTracks(),u=Eh(Eh({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(x,g){return zn(this,void 0,void 0,function(){var v,b,y,_,N,S,j;return Un(this,function(A){switch(A.label){case 0:v=g?c.filter(g):c,A.label=1;case 1:A.trys.push([1,6,7,8]),b=rN(v),y=b.next(),A.label=2;case 2:return y.done?[3,5]:(_=y.value,[4,_.applyConstraints(x)]);case 3:A.sent(),A.label=4;case 4:return y=b.next(),[3,2];case 5:return[3,8];case 6:return N=A.sent(),S={error:N},[3,8];case 7:try{y&&!y.done&&(j=b.return)&&j.call(b)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(x){return c.find(x).getConstraints()},streamVideoSettingsGet:function(x){return c.find(x).getSettings()},streamVideoCapabilitiesGet:function(x){return c.find(x).getCapabilities()}}),d=e.mediaStreamIsTorchCompatible(t),d&&(f=c==null?void 0:c.find(function(x){return e.mediaStreamIsTorchCompatibleTrack(x)}),h=function(x){return zn(p,void 0,void 0,function(){return Un(this,function(g){switch(g.label){case 0:return[4,e.mediaStreamSetTorch(f,x)];case 1:return g.sent(),[2]}})})},u.switchTorch=h,u.stop=function(){return zn(p,void 0,void 0,function(){return Un(this,function(x){switch(x.label){case 0:return l.stop(),[4,h(!1)];case 1:return x.sent(),[2]}})})}),[2,u]}})})},e.prototype.decodeFromVideoDevice=function(t,r,n){return zn(this,void 0,void 0,function(){var a,i;return Un(this,function(s){switch(s.label){case 0:return e.checkCallbackFnOrThrow(n),t?a={deviceId:{exact:t}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}})})},e.prototype.decodeFromVideoElement=function(t,r){return zn(this,void 0,void 0,function(){var n,a;return Un(this,function(i){switch(i.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new ua("A video element must be provided.");return n=e.prepareVideoElement(t),a=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,a)];case 1:return i.sent(),[2,this.scan(n,r)]}})})},e.prototype.decodeFromVideoUrl=function(t,r){return zn(this,void 0,void 0,function(){var n,a,i,s;return Un(this,function(l){switch(l.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new ua("An URL must be provided.");return n=e.prepareVideoElement(),n.src=t,a=function(){e.cleanVideoSource(n)},i=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,i)];case 1:return l.sent(),s=this.scan(n,r,a),[2,s]}})})},e.prototype.decodeOnceFromConstraints=function(t,r){return zn(this,void 0,void 0,function(){var n;return Un(this,function(a){switch(a.label){case 0:return[4,this.getUserMedia(t)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromStream=function(t,r){return zn(this,void 0,void 0,function(){var n,a,i;return Un(this,function(s){switch(s.label){case 0:return n=!!r,[4,e.attachStreamToVideo(t,r)];case 1:a=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(a)];case 3:return i=s.sent(),[2,i];case 4:return n||e.cleanVideoSource(a),[7];case 5:return[2]}})})},e.prototype.decodeOnceFromVideoDevice=function(t,r){return zn(this,void 0,void 0,function(){var n,a;return Un(this,function(i){switch(i.label){case 0:return t?n={deviceId:{exact:t}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},e.prototype.decodeOnceFromVideoElement=function(t){return zn(this,void 0,void 0,function(){var r,n;return Un(this,function(a){switch(a.label){case 0:if(!t)throw new ua("A video element must be provided.");return r=e.prepareVideoElement(t),n=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(r,n)];case 1:return a.sent(),[4,this.scanOneResult(r)];case 2:return[2,a.sent()]}})})},e.prototype.decodeOnceFromVideoUrl=function(t){return zn(this,void 0,void 0,function(){var r,n;return Un(this,function(a){switch(a.label){case 0:if(!t)throw new ua("An URL must be provided.");r=e.prepareVideoElement(),r.src=t,n=this.decodeOnceFromVideoElement(r),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,n];case 2:return[2,a.sent()];case 3:return e.cleanVideoSource(r),[7];case 4:return[2]}})})},e.prototype.scanOneResult=function(t,r,n,a){var i=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),new Promise(function(s,l){i.scan(t,function(c,u,d){if(c){s(c),d.stop();return}if(u){if(u instanceof Ye&&r||u instanceof Ta&&n||u instanceof ut&&a)return;d.stop(),l(u)}})})},e.prototype.scan=function(t,r,n){var a=this;e.checkCallbackFnOrThrow(r);var i=e.createCaptureCanvas(t),s;try{s=i.getContext("2d",{willReadFrequently:!0})}catch{s=i.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var l=function(){s=void 0,i=void 0},c=!1,u,d=function(){c=!0,clearTimeout(u),l(),n&&n()},f={stop:d},h=function(){if(!c)try{e.drawImageOnCanvas(s,t);var p=a.decodeFromCanvas(i);r(p,void 0,f),u=setTimeout(h,a.options.delayBetweenScanSuccess)}catch(v){r(void 0,v,f);var m=v instanceof Ta,x=v instanceof ut,g=v instanceof Ye;if(m||x||g){u=setTimeout(h,a.options.delayBetweenScanAttempts);return}l(),n&&n(v)}};return h(),f},e.prototype._decodeOnLoadImage=function(t){return zn(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:return r=e.isImageLoaded(t),r?[3,2]:[4,e._waitImageLoad(t)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(t)]}})})},e.prototype.getUserMedia=function(t){return zn(this,void 0,void 0,function(){var r;return Un(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=n.sent(),e.streamTracker.push(r),[2,r]}})})},e.streamTracker=[],e}(),yBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){yBe(t,e);function t(r,n){return e.call(this,new zy,r,n)||this}return t})(am);var wBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){wBe(t,e);function t(r,n){return e.call(this,new Ah(r),r,n)||this}return t})(am);var _Be=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){_Be(t,e);function t(r,n){return e.call(this,new Hy,r,n)||this}return t})(am);var NBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){NBe(t,e);function t(r,n){var a=this,i=new nU;return i.setHints(r),a=e.call(this,i,r,n)||this,a.reader=i,a}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(r){this.hints.set(An.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},t.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},t})(am);var jBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(e){jBe(t,e);function t(r,n){return e.call(this,new Vy,r,n)||this}return t})(am);var SBe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ABe=function(e){SBe(t,e);function t(r,n){return e.call(this,new Wy,r,n)||this}return t}(am);const A2=[{id:"lot001",name:"Lot Huîtres A",date:"2023-05-12",type:"lot",location:"Bassin 3",status:"Optimal",stock:{quantity:"500",unit:"kg"}},{id:"lot002",name:"Lot Huîtres B",date:"2023-05-15",type:"lot",location:"Bassin 2",status:"Attention",stock:{quantity:"350",unit:"kg"}},{id:"lot003",name:"Lot Huîtres C",date:"2023-06-01",type:"lot",location:"Stockage 1",status:"Optimal",stock:{quantity:"200",unit:"kg"}}],C2=[{id:"bassin001",name:"Bassin 1",date:"2023-04-01",type:"bassin",location:"Zone production nord",status:"Optimal",occupation:"75%",nextMaintenance:"2023-07-15",stock:{quantity:"850",unit:"kg"},stats:[{label:"Température",value:"12.3°C"},{label:"Oxygène",value:"7.8 mg/L"},{label:"Produit",value:"Huîtres N°2"}]},{id:"bassin002",name:"Bassin 2",date:"2023-04-05",type:"bassin",location:"Zone production est",status:"Attention",occupation:"45%",nextMaintenance:"2023-07-10",stock:{quantity:"420",unit:"kg"},stats:[{label:"Température",value:"11.9°C"},{label:"Oxygène",value:"6.5 mg/L"},{label:"Produit",value:"Moules de mer"}]},{id:"bassin003",name:"Bassin 3",date:"2023-04-10",type:"bassin",location:"Zone production sud",status:"Optimal",occupation:"90%",nextMaintenance:"2023-07-20",stock:{quantity:"950",unit:"kg"},stats:[{label:"Température",value:"12.1°C"},{label:"Oxygène",value:"7.2 mg/L"},{label:"Produit",value:"Huîtres N°3"}]}],oh=[{id:"storage-0001",name:"Frigo 1",type:"storage",date:"2023-04-20",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"500 kg"},{label:"Occupation",value:"65%"},{label:"Température",value:"4.5°C"},{label:"Humidité",value:"85%"}],products:[{name:"Huîtres Fines de Claire N°3",quantity:"180 kg",dlc:"05/04/2025"},{name:"Huîtres Spéciales N°2",quantity:"145 kg",dlc:"08/04/2025"}]},{id:"storage-0002",name:"Frigo 2",type:"storage",date:"2023-04-25",location:"Zone de stockage principale",status:"Optimal",stats:[{label:"Type",value:"Frigo"},{label:"Capacité",value:"300 kg"},{label:"Occupation",value:"30%"},{label:"Température",value:"5.2°C"},{label:"Humidité",value:"80%"}],products:[{name:"Huîtres Plates",quantity:"60 kg",dlc:"10/04/2025"},{name:"Moules de Bouchot",quantity:"30 kg",dlc:"02/04/2025"}]},{id:"storage-0003",name:"Congélateur 1",type:"storage",date:"2023-04-30",location:"Zone de stockage secondaire",status:"Attention",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"200 kg"},{label:"Occupation",value:"85%"},{label:"Température",value:"-18.2°C"},{label:"Humidité",value:"40%"}],products:[{name:"Fruits de mer congelés",quantity:"95 kg",dlc:"20/10/2025"},{name:"Poissons congelés",quantity:"75 kg",dlc:"15/09/2025"}]},{id:"storage-0004",name:"Congélateur 2",type:"storage",date:"2023-05-05",location:"Zone de stockage secondaire",status:"Optimal",stats:[{label:"Type",value:"Congélateur"},{label:"Capacité",value:"150 kg"},{label:"Occupation",value:"40%"},{label:"Température",value:"-20.5°C"},{label:"Humidité",value:"35%"}],products:[{name:"Crustacés congelés",quantity:"35 kg",dlc:"25/11/2025"},{name:"Préparations maison",quantity:"25 kg",dlc:"30/08/2025"}]},{id:"storage-0005",name:"Remise",type:"storage",date:"2023-05-10",location:"Arrière bâtiment",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"1000 kg"},{label:"Occupation",value:"55%"},{label:"Température",value:"15.0°C"},{label:"Humidité",value:"60%"}],products:[{name:"Matériel d'emballage",quantity:"300 kg",dlc:"N/A"},{name:"Équipement de manutention",quantity:"250 kg",dlc:"N/A"}]},{id:"storage-0006",name:"Cave",type:"storage",date:"2023-05-15",location:"Sous-sol",status:"Optimal",stats:[{label:"Type",value:"Remise"},{label:"Capacité",value:"800 kg"},{label:"Occupation",value:"25%"},{label:"Température",value:"12.5°C"},{label:"Humidité",value:"75%"}],products:[{name:"Conserves",quantity:"120 kg",dlc:"31/12/2026"},{name:"Fournitures diverses",quantity:"80 kg",dlc:"N/A"}]}],E2=[{id:"bl001",reference:"BL-2023-001",date:"2023-06-05",type:"bl",client:"Restaurant La Marée",status:"Livré",products:[{name:"Huîtres calibre 3",quantity:"20kg"},{name:"Huîtres calibre 2",quantity:"15kg"}],notes:"Livraison effectuée le matin, client satisfait."},{id:"bl002",reference:"BL-2023-002",date:"2023-06-10",type:"bl",client:"Poissonnerie du Port",status:"En cours",products:[{name:"Huîtres calibre 1",quantity:"25kg"},{name:"Huîtres calibre 4",quantity:"10kg"}],notes:"Livraison prévue pour demain matin."}],k2=[{id:"hist001",date:"2023-06-01 09:30",type:"history",action:"Contrôle qualité",user:"Jean Dupont",details:"Contrôle effectué sur Bassin 1, paramètres normaux."},{id:"hist002",date:"2023-06-02 11:15",type:"history",action:"Maintenance",user:"Marie Martin",details:"Maintenance du système de filtration Bassin 2."},{id:"hist003",date:"2023-06-03 14:45",type:"history",action:"Récolte",user:"Pierre Leblanc",details:"Récolte de 100kg depuis Bassin 3 vers Stockage 1."},{id:"hist004",date:"2023-06-04 16:30",type:"history",action:"Préparation commande",user:"Sophie Leroy",details:"Préparation BL-2023-001 pour Restaurant La Marée."}];function CBe(){const[e,t]=I.useState("lots"),[r,n]=I.useState(null),[a,i]=I.useState({}),[s,l]=I.useState(!1),[c,u]=I.useState(!1),[d,f]=I.useState(!1),[h,p]=I.useState(!1),[m,x]=I.useState(null),[g,v]=I.useState({}),[b,y]=I.useState(""),[_,N]=I.useState([]),S=I.useRef(null),[j,A]=I.useState(null);I.useEffect(()=>{if(c&&!j){const P=new ABe;A(P)}return()=>{A(null)}},[c]),I.useEffect(()=>{c&&j&&S.current&&j.decodeFromVideoDevice(void 0,S.current,(P,R)=>{P&&(y(P.getText()),console.log("QR Code scanné:",P.getText()))}).catch(P=>console.error("Erreur lors du scan:",P))},[c,j]);const T=P=>{n(P),i(JSON.parse(JSON.stringify(P)))},F=()=>{console.log("Saving:",a),n(null)},O=P=>{x(P),p(!0)},E=()=>{const P=new Ft("l","mm","a4"),R=P.internal.pageSize.getWidth(),H=P.internal.pageSize.getHeight();let X=60;P.setFillColor(10,42,64),P.rect(0,0,R,25,"F"),P.setTextColor(255,255,255),P.setFontSize(16),P.text("Rapport de Traçabilité OYSTER CULT",R/2,15,{align:"center"}),P.setTextColor(10,42,64),P.setFontSize(10),P.text(`Date d'export: ${new Date().toLocaleDateString("fr-FR")}`,14,35),P.text("Exporté par: Utilisateur",14,42),P.text(`Période: ${new Date().toLocaleDateString("fr-FR")} - ${new Date().toLocaleDateString("fr-FR")}`,14,49);const oe=(_e,ne)=>{P.setFillColor(10,42,64),P.rect(10,X,R-20,10,"F"),P.setTextColor(255,255,255),P.setFontSize(10);let De=10;_e.forEach((se,ce)=>{const ye=ne[ce];P.text(se,De+ye/2,X+7,{align:"center"}),De+=ye}),X+=10},fe=(_e,ne=10)=>{const De=_e*ne;return X+De>H-20?(P.addPage(),X=30,P.setFillColor(10,42,64),P.rect(0,0,R,20,"F"),P.setTextColor(255,255,255),P.setFontSize(12),P.text("Rapport de Traçabilité OYSTER CULT (suite)",R/2,13,{align:"center"}),!0):!1},re=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Lots en cours",R/2,X,{align:"center"}),X+=10;const _e=[(R-20)*.25,(R-20)*.25,(R-20)*.2,(R-20)*.15,(R-20)*.15];oe(["Nom","Emplacement","Stock","Status","Date"],_e),fe(A2.length),A2.forEach((ne,De)=>{const se=X+De*10;De%2===0&&(P.setFillColor(240,240,240),P.rect(10,se,R-20,10,"F")),P.setTextColor(60,60,60);let ce=10;P.text(ne.name,ce+_e[0]/2,se+7,{align:"center"}),ce+=_e[0],P.text(ne.location,ce+_e[1]/2,se+7,{align:"center"}),ce+=_e[1],P.text(`${ne.stock.quantity} ${ne.stock.unit}`,ce+_e[2]/2,se+7,{align:"center"}),ce+=_e[2],P.text(ne.status,ce+_e[3]/2,se+7,{align:"center"}),ce+=_e[3],P.text(ne.date,ce+_e[4]/2,se+7,{align:"center"})}),X+=A2.length*10+15},ve=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Bassins",R/2,X,{align:"center"}),X+=10;const _e=[(R-20)*.2,(R-20)*.2,(R-20)*.15,(R-20)*.15,(R-20)*.15,(R-20)*.15];oe(["Nom","Emplacement","Stock","Occupation","Statut","Proch. Maintenance"],_e),fe(C2.length),C2.forEach((ne,De)=>{const se=X+De*10;De%2===0&&(P.setFillColor(240,240,240),P.rect(10,se,R-20,10,"F")),P.setTextColor(60,60,60);let ce=10;P.text(ne.name,ce+_e[0]/2,se+7,{align:"center"}),ce+=_e[0],P.text(ne.location,ce+_e[1]/2,se+7,{align:"center"}),ce+=_e[1],P.text(`${ne.stock.quantity} ${ne.stock.unit}`,ce+_e[2]/2,se+7,{align:"center"}),ce+=_e[2],P.text(ne.occupation,ce+_e[3]/2,se+7,{align:"center"}),ce+=_e[3],P.text(ne.status,ce+_e[4]/2,se+7,{align:"center"}),ce+=_e[4],P.text(ne.nextMaintenance,ce+_e[5]/2,se+7,{align:"center"})}),X+=C2.length*10+15},Ce=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Emplacements de stockage",R/2,X,{align:"center"}),X+=10;const _e=[(R-20)*.25,(R-20)*.25,(R-20)*.2,(R-20)*.15,(R-20)*.15];oe(["Nom","Emplacement","Température","Humidité","Statut"],_e),fe(oh.length),oh.forEach((ce,ye)=>{var tt,ht;const Pe=X+ye*10;ye%2===0&&(P.setFillColor(240,240,240),P.rect(10,Pe,R-20,10,"F")),P.setTextColor(60,60,60);let Te=10;P.text(ce.name,Te+_e[0]/2,Pe+7,{align:"center"}),Te+=_e[0],P.text(ce.location,Te+_e[1]/2,Pe+7,{align:"center"}),Te+=_e[1];const Ne=((tt=ce.stats.find(Nt=>Nt.label==="Température"))==null?void 0:tt.value)||"N/A";P.text(Ne,Te+_e[2]/2,Pe+7,{align:"center"}),Te+=_e[2];const We=((ht=ce.stats.find(Nt=>Nt.label==="Humidité"))==null?void 0:ht.value)||"N/A";P.text(We,Te+_e[3]/2,Pe+7,{align:"center"}),Te+=_e[3],P.text(ce.status,Te+_e[4]/2,Pe+7,{align:"center"})}),X+=oh.length*10+15,P.addPage(),X=30,P.setFontSize(14),P.setTextColor(10,42,64),P.text("Produits stockés",R/2,X,{align:"center"}),X+=10;const ne=[(R-20)*.25,(R-20)*.35,(R-20)*.2,(R-20)*.2];oe(["Emplacement","Produit","Quantité","DLC"],ne);let De=0;oh.forEach(ce=>{De+=ce.products.length}),fe(De);let se=0;oh.forEach(ce=>{ce.products.forEach((ye,Pe)=>{se>0&&se%25===0&&(P.addPage(),X=30,oe(["Emplacement","Produit","Quantité","DLC"],ne));const Te=X+se%25*10;se%2===0&&(P.setFillColor(240,240,240),P.rect(10,Te,R-20,10,"F")),P.setTextColor(60,60,60);let Ne=10;P.text(ce.name,Ne+ne[0]/2,Te+7,{align:"center"}),Ne+=ne[0],P.text(ye.name,Ne+ne[1]/2,Te+7,{align:"center"}),Ne+=ne[1],P.text(ye.quantity,Ne+ne[2]/2,Te+7,{align:"center"}),Ne+=ne[2],P.text(ye.dlc,Ne+ne[3]/2,Te+7,{align:"center"}),se++})}),X+=se%25*10+15},q=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Bons de livraison",R/2,X,{align:"center"}),X+=10;const _e=[(R-20)*.2,(R-20)*.3,(R-20)*.25,(R-20)*.25];oe(["Référence","Client","Date","Statut"],_e),fe(E2.length),E2.forEach((ne,De)=>{const se=X+De*10;De%2===0&&(P.setFillColor(240,240,240),P.rect(10,se,R-20,10,"F")),P.setTextColor(60,60,60);let ce=10;P.text(ne.reference,ce+_e[0]/2,se+7,{align:"center"}),ce+=_e[0],P.text(ne.client,ce+_e[1]/2,se+7,{align:"center"}),ce+=_e[1],P.text(ne.date,ce+_e[2]/2,se+7,{align:"center"}),ce+=_e[2],P.text(ne.status,ce+_e[3]/2,se+7,{align:"center"})}),X+=E2.length*10+15},Me=()=>{P.setFontSize(14),P.setTextColor(10,42,64),P.text("Historique des activités",R/2,X,{align:"center"}),X+=10;const _e=[(R-20)*.2,(R-20)*.2,(R-20)*.2,(R-20)*.4];oe(["Date","Utilisateur","Action","Détails"],_e),fe(k2.length),k2.forEach((ne,De)=>{const se=X+De*10;De%2===0&&(P.setFillColor(240,240,240),P.rect(10,se,R-20,10,"F")),P.setTextColor(60,60,60);let ce=10;P.text(ne.date,ce+_e[0]/2,se+7,{align:"center"}),ce+=_e[0],P.text(ne.user,ce+_e[1]/2,se+7,{align:"center"}),ce+=_e[1],P.text(ne.action,ce+_e[2]/2,se+7,{align:"center"}),ce+=_e[2],P.text(ne.details,ce+_e[3]/2,se+7,{align:"center"})}),X+=k2.length*10+15};re(),P.addPage(),X=30,ve(),P.addPage(),X=30,Ce(),P.addPage(),X=30,q(),P.addPage(),X=30,Me();const Le=P.internal.getNumberOfPages();for(let _e=1;_e<=Le;_e++){P.setPage(_e),P.setFontSize(10),P.setTextColor(100,100,100);const ne=`Page ${_e}/${Le}`;P.text(`OYSTER CULT - Traçabilité - ${ne}`,R/2,H-10,{align:"center"})}P.save("traceabilite-oyster-cult.pdf"),f(!1)},L=()=>{if(!r)return null;const P=()=>{switch(r.type){case"lot":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit-name",className:"block text-sm text-cyan-400 mb-1",children:"Nom"}),o.jsx("input",{id:"edit-name",type:"text",value:a.name,onChange:R=>i({...a,name:R.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit-location",className:"block text-sm text-cyan-400 mb-1",children:"Emplacement"}),o.jsx("input",{id:"edit-location",type:"text",value:a.location,onChange:R=>i({...a,location:R.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit-quantity",className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),o.jsx("input",{id:"edit-quantity",type:"text",value:a.stock.quantity,onChange:R=>i({...a,stock:{...a.stock,quantity:R.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"bassin":return o.jsxs("div",{className:"space-y-4",children:[r.stats.map((R,H)=>o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit-stat-${H}`,className:"block text-sm text-cyan-400 mb-1",children:R.label}),o.jsx("input",{id:`edit-stat-${H}`,type:"text",value:a.stats[H].value,onChange:X=>{const oe=[...a.stats];oe[H]={...oe[H],value:X.target.value},i({...a,stats:oe})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},H)),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit-occupation",className:"block text-sm text-cyan-400 mb-1",children:"Occupation"}),o.jsx("input",{id:"edit-occupation",type:"text",value:a.occupation,onChange:R=>i({...a,occupation:R.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit-maintenance",className:"block text-sm text-cyan-400 mb-1",children:"Prochaine maintenance"}),o.jsx("input",{id:"edit-maintenance",type:"text",value:a.nextMaintenance,onChange:R=>i({...a,nextMaintenance:R.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit-stock",className:"block text-sm text-cyan-400 mb-1",children:"Stock"}),o.jsx("input",{id:"edit-stock",type:"text",value:a.stock.quantity,onChange:R=>i({...a,stock:{...a.stock,quantity:R.target.value}}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]});case"storage":return o.jsxs("div",{className:"space-y-4",children:[r.stats.map((R,H)=>o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit-storage-stat-${H}`,className:"block text-sm text-cyan-400 mb-1",children:R.label}),o.jsx("input",{id:`edit-storage-stat-${H}`,type:"text",value:a.stats[H].value,onChange:X=>{const oe=[...a.stats];oe[H]={...oe[H],value:X.target.value},i({...a,stats:oe})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]},H)),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-cyan-400 mb-1",children:"Produits"}),a.products.map((R,H)=>o.jsxs("div",{className:"space-y-2 mb-4 p-3 rounded-lg bg-cyan-500/5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit-product-name-${H}`,className:"block text-sm text-cyan-400 mb-1",children:"Nom du produit"}),o.jsx("input",{id:`edit-product-name-${H}`,type:"text",value:R.name,onChange:X=>{const oe=[...a.products];oe[H]={...oe[H],name:X.target.value},i({...a,products:oe})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit-product-quantity-${H}`,className:"block text-sm text-cyan-400 mb-1",children:"Quantité"}),o.jsx("input",{id:`edit-product-quantity-${H}`,type:"text",value:R.quantity,onChange:X=>{const oe=[...a.products];oe[H]={...oe[H],quantity:X.target.value},i({...a,products:oe})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit-product-dlc-${H}`,className:"block text-sm text-cyan-400 mb-1",children:"DLC"}),o.jsx("input",{id:`edit-product-dlc-${H}`,type:"text",value:R.dlc,onChange:X=>{const oe=[...a.products];oe[H]={...oe[H],dlc:X.target.value},i({...a,products:oe})},className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",autoComplete:"off"})]})]},H))]})]});default:return null}};return o.jsxs(gh,{isOpen:!0,onClose:()=>n(null),title:`Modifier ${r.name}`,children:[P(),o.jsxs("div",{className:"flex justify-end mt-6 gap-3",children:[o.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler la modification",children:"Annuler"}),o.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Enregistrer les modifications",children:[o.jsx(rf,{className:"w-4 h-4"}),"Enregistrer"]})]})]})},B=()=>!h||!m?null:o.jsx(gh,{isOpen:!0,onClose:()=>p(!1),title:`Bon de livraison - ${m.reference}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-cyan-400",children:"Date"}),o.jsx("p",{className:"text-white",children:m.date})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-cyan-400 mb-1",children:"Client"}),o.jsx("p",{className:"text-white",children:m.client})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-cyan-400 mb-2",id:"products-heading",children:"Produits"}),o.jsx("div",{className:"space-y-2","aria-labelledby":"products-heading",children:m.products.map((P,R)=>o.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-white",children:P.name}),o.jsx("p",{className:"text-cyan-400",children:P.quantity})]})},R))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-cyan-400",children:"Notes"}),o.jsx("p",{className:"text-white",children:m.notes})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le bon de livraison",children:"Fermer"})})]})}),G=()=>s?o.jsx(gh,{isOpen:!0,onClose:()=>l(!1),title:"Filtrer les éléments",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"filter-search",className:"block text-sm text-cyan-400 mb-1",children:"Recherche"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"filter-search",type:"text",value:g.search||"",onChange:P=>v({...g,search:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg pl-10 pr-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher..."}),o.jsx(Da,{className:"absolute left-3 top-2.5 w-4 h-4 text-cyan-400","aria-hidden":"true"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"filter-date",className:"block text-sm text-cyan-400 mb-1",children:"Date"}),o.jsx("input",{id:"filter-date",type:"date",value:g.date||"",onChange:P=>v({...g,date:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"filter-status",className:"block text-sm text-cyan-400 mb-1",children:"Statut"}),o.jsxs("select",{id:"filter-status",value:g.status||"",onChange:P=>v({...g,status:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"Optimal",children:"Optimal"}),o.jsx("option",{value:"Attention",children:"Attention"}),o.jsx("option",{value:"Livré",children:"Livré"}),o.jsx("option",{value:"En cours",children:"En cours"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"filter-type",className:"block text-sm text-cyan-400 mb-1",children:"Type"}),o.jsxs("select",{id:"filter-type",value:g.type||"",onChange:P=>v({...g,type:P.target.value}),className:"w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[o.jsx("option",{value:"",children:"Tous"}),o.jsx("option",{value:"lot",children:"Lots"}),o.jsx("option",{value:"bassin",children:"Bassins"}),o.jsx("option",{value:"storage",children:"Stockage"}),o.jsx("option",{value:"bl",children:"Bons de livraison"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[o.jsx("button",{onClick:()=>{v({}),l(!1)},className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Réinitialiser les filtres",children:"Réinitialiser"}),o.jsxs("button",{onClick:()=>l(!1),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Appliquer les filtres",children:[o.jsx(qi,{className:"w-4 h-4","aria-hidden":"true"}),"Appliquer"]})]})]})}):null,z=()=>c?o.jsx(gh,{isOpen:!0,onClose:()=>{u(!1),y("")},title:"Scanner un QR Code",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative overflow-hidden rounded-lg bg-black aspect-video",children:o.jsx("video",{ref:S,className:"w-full h-full object-cover rounded-lg","aria-label":"Flux vidéo pour le scan de QR code"})}),b&&o.jsxs("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:[o.jsx("p",{className:"text-sm text-cyan-400",id:"qr-result-label",children:"Résultat du scan"}),o.jsx("p",{className:"text-white break-all","aria-labelledby":"qr-result-label",children:b})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>{u(!1),y("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Fermer le scanner QR",children:"Fermer"})})]})}):null,V=()=>d?o.jsx(gh,{isOpen:!0,onClose:()=>f(!1),title:"Exporter les données",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-white",id:"export-description",children:"Voulez-vous exporter toutes les données de traçabilité en PDF ? Le document contiendra toutes les informations de chaque onglet (Lots, Bassins, Stockage, Bons de livraison et Historique)."}),o.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10 mb-4",children:[o.jsxs("h3",{className:"text-cyan-400 font-medium mb-2 flex items-center gap-2",children:[o.jsx(Wx,{className:"w-4 h-4"}),"Informations importantes"]}),o.jsxs("ul",{className:"list-disc pl-5 text-sm text-white/80 space-y-2",children:[o.jsxs("li",{children:["Le PDF généré contiendra ",o.jsx("strong",{children:"toutes les données"})," de tous les onglets, quelle que soit la page actuellement affichée."]}),o.jsx("li",{children:"Les données seront organisées par sections avec une mise en page optimisée."}),o.jsx("li",{children:"Pour les sections contenant beaucoup de données, plusieurs pages seront créées automatiquement."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[o.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-white/30","aria-label":"Annuler l'export",children:"Annuler"}),o.jsxs("button",{onClick:E,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-labelledby":"export-description",children:[o.jsx(Ho,{className:"w-4 h-4","aria-hidden":"true"}),"Exporter en PDF"]})]})]})}):null,Y=({tabs:P,activeTab:R,onChange:H,className:X})=>o.jsx("div",{className:`flex gap-4 ${X}`,role:"tablist",children:P.map(oe=>o.jsxs("button",{onClick:()=>H(oe.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap min-w-[44px] min-h-[44px] ${R===oe.id?"bg-cyan-500/20 text-cyan-400 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] focus:ring-2 focus:ring-cyan-500/40 transform hover:-translate-y-1 hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] transition-all duration-300":"text-white/60 hover:text-white hover:bg-white/5 shadow-[0_4px_8px_rgba(0,0,0,0.2)] hover:shadow-[0_5px_12px_rgba(0,0,0,0.3)] focus:ring-2 focus:ring-white/30 transform hover:-translate-y-1 transition-all duration-300"}`,role:"tab","aria-selected":R===oe.id,"aria-controls":`tab-panel-${oe.id}`,id:`tab-${oe.id}`,children:[o.jsx("span",{className:"w-4 h-4","aria-hidden":"true",children:oe.icon}),o.jsx("span",{children:oe.label})]},oe.id))}),U=P=>{t(P)},ae=[{id:"lots",label:"Lots en cours",icon:o.jsx(xa,{size:20}),count:28},{id:"bassins",label:"Bassins",icon:o.jsx(Li,{size:20}),count:15},{id:"autre_emplacement",label:"Autre emplacement",icon:o.jsx(fi,{size:20}),count:8},{id:"bl",label:"Bons de livraison",icon:o.jsx(Wh,{size:20}),count:36},{id:"historique",label:"Historique",icon:o.jsx(gd,{size:20})}],he=P=>{console.log("Visualisation du document:",P)},k=P=>{N(R=>R.includes(P)?R.filter(H=>H!==P):[...R,P])};return o.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[o.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-2 mb-4",children:[o.jsx(Hn,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Traçabilité"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Filtrer les lots",children:[o.jsx(qi,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Filtrer"})]}),o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[o.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]}),o.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter les données",children:[o.jsx(Ho,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Exporter"})]})]})]}),o.jsx("div",{className:"relative mb-6 mt-4",children:o.jsx(Y,{tabs:ae,activeTab:e,onChange:U,className:"overflow-x-auto pb-2 hide-scrollbar"})})]}),o.jsxs("div",{id:"traceability-content",className:"space-y-6",children:[e==="lots"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(xa,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Lots de production"]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un lot",children:[o.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:A2.map(P=>o.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white",children:P.name}),o.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",P.location]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx("button",{onClick:()=>T(P),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${P.name}`,children:o.jsx(Os,{className:"w-4 h-4","aria-hidden":"true"})})})]}),o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${P.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),o.jsx("p",{className:"text-xs text-white/70",children:P.status})]})]}),o.jsxs("p",{className:"text-white",children:[P.stock.quantity," ",P.stock.unit]})]}),o.jsx("div",{className:"text-sm text-white/70",children:o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("p",{children:"Date de création"}),o.jsx("p",{children:P.date})]})})]})]})},P.id))})]})}),e==="bassins"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(Li,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Occupation des bassins"]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bassin",children:[o.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:C2.map(P=>{var R;return o.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white",children:P.name}),o.jsxs("p",{className:"text-sm text-white/60 mt-1",children:["Emplacement: ",P.location]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx("button",{onClick:()=>T(P),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${P.name}`,children:o.jsx(Os,{className:"w-4 h-4","aria-hidden":"true"})})})]}),o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("p",{className:"text-sm text-cyan-400",children:"Stock"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:`w-2 h-2 rounded-full ${P.status==="Optimal"?"bg-emerald-500":"bg-amber-500"}`}),o.jsx("p",{className:"text-xs text-white/70",children:P.status})]})]}),o.jsxs("p",{className:"text-white",children:[P.stock.quantity," ",P.stock.unit]}),o.jsx("p",{className:"text-sm text-white/70 mt-1",children:((R=P.stats.find(H=>H.label==="Produit"))==null?void 0:R.value)||"Non spécifié"})]}),o.jsxs("div",{className:"text-sm text-white/70",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("p",{children:"Statut"}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="Optimal"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:P.status})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("p",{children:"Prochaine maintenance"}),o.jsx("p",{children:P.nextMaintenance})]})]})]})]})},P.id)})})]})}),e==="bl"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(Wh,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Bons de livraison"]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un bon de livraison",children:[o.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-6",children:E2.map(P=>o.jsxs("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors cursor-pointer",onClick:()=>O(P),children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-2 md:gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white",children:P.reference}),o.jsxs("p",{className:"text-sm text-white/60",children:["Client: ",P.client]})]}),o.jsx("div",{children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="Livré"?"bg-green-500/10 text-green-400":"bg-blue-500/10 text-blue-400"}`,children:P.status})})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("p",{className:"text-sm text-cyan-400",children:"Produits"}),o.jsx("ul",{className:"mt-1 space-y-1",children:P.products.map((R,H)=>o.jsxs("li",{className:"text-sm text-white flex justify-between",children:[o.jsx("span",{children:R.name}),o.jsx("span",{children:R.quantity})]},H))})]}),o.jsxs("div",{className:"mt-3 flex justify-between text-sm",children:[o.jsxs("span",{className:"text-white/60",children:["Date: ",P.date]}),o.jsx("button",{onClick:R=>{R.stopPropagation(),O(P)},className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Voir les détails du bon de livraison ${P.reference}`,children:o.jsx(Wc,{className:"w-4 h-4","aria-hidden":"true"})})]})]},P.id))})]})}),e==="historique"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(gd,{className:"text-cyan-400","aria-hidden":"true"}),"Historique des activités"]})}),o.jsx("div",{className:"space-y-4 mt-6",children:k2.map(P=>o.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[o.jsx("h3",{className:"font-medium text-white mb-1",children:P.action}),o.jsx("span",{className:"text-sm text-white/60",children:P.date})]}),o.jsxs("p",{className:"text-sm text-white/60 mb-2",children:["Par: ",P.user]}),o.jsx("p",{className:"text-sm text-white",children:P.details})]})]})},P.id))})]})}),e==="autre_emplacement"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-8",children:[o.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(fi,{size:20,className:"text-cyan-400","aria-hidden":"true"}),"Emplacements de stockage"]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un emplacement de stockage",children:[o.jsx(gr,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:oh.map(P=>{var Ce,q,Me;const R=((Ce=P.stats.find(Le=>Le.label==="Type"))==null?void 0:Ce.value)||"Stockage",H=((q=P.stats.find(Le=>Le.label==="Occupation"))==null?void 0:q.value)||"0%",X=((Me=P.stats.find(Le=>Le.label==="Capacité"))==null?void 0:Me.value)||"N/A",oe=parseInt(H)||0;let fe="bg-emerald-500",re="text-emerald-400";oe<20?(fe="bg-red-500",re="text-red-400"):oe<40&&(fe="bg-amber-500",re="text-amber-400");let ve="bg-emerald-500/10 text-emerald-400";return P.status==="Attention"?ve="bg-amber-500/10 text-amber-400":P.status==="Critique"&&(ve="bg-red-500/10 text-red-400"),o.jsx("div",{className:"p-4 rounded-lg border border-cyan-500/20 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] hover:bg-cyan-500/10 transition-colors","aria-label":`Emplacement de stockage ${P.name}, ${R}, occupation ${H}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white",children:P.name}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/60 mt-1",children:[o.jsx("span",{className:"inline-block px-2 py-0.5 bg-cyan-500/10 rounded text-cyan-400 text-xs",children:R}),o.jsx("span",{"aria-hidden":"true",children:"•"}),o.jsx("span",{children:P.location})]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>T(P),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`Modifier ${P.name}`,children:o.jsx(Os,{className:"w-4 h-4","aria-hidden":"true"})}),o.jsx("button",{onClick:()=>he(P.id),className:"text-cyan-400 hover:text-cyan-300 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded min-w-[44px] min-h-[44px] p-2 flex items-center justify-center","aria-label":`QR Code pour ${P.name}`,children:o.jsx(Z1,{className:"w-4 h-4","aria-hidden":"true"})})]})]}),o.jsxs("div",{className:"mt-2 space-y-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-cyan-400",children:"Capacité"}),o.jsx("span",{className:"text-white font-medium",children:X})]})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-cyan-400",children:"Occupation"}),o.jsx("span",{className:`text-sm font-medium ${re}`,children:H})]}),o.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:`h-full ${fe} rounded-full transition-all duration-500 ease-in-out`,style:{width:`${oe}%`},role:"progressbar","aria-valuenow":oe,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Occupation: ${H}`})})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:P.stats.filter(Le=>["Température","Humidité"].includes(Le.label)).map((Le,_e)=>o.jsxs("div",{className:"bg-cyan-500/10 rounded-lg p-2",children:[o.jsx("p",{className:"text-xs text-cyan-400",children:Le.label}),o.jsx("p",{className:"text-white font-medium",children:Le.value})]},_e))}),o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ve}`,children:P.status})]}),P.products&&P.products.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("button",{onClick:Le=>{Le.stopPropagation(),k(P.id)},className:"w-full flex justify-between items-center py-2 px-3 rounded-lg bg-cyan-500/10 text-white hover:bg-cyan-500/20 transition-colors min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-expanded":_.includes(P.id),"aria-controls":`products-${P.id}`,children:[o.jsxs("span",{className:"flex items-center text-sm font-medium",children:[o.jsx(xa,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Produits (",P.products.length,")"]}),o.jsx(tf,{className:`w-4 h-4 transition-transform duration-300 ${_.includes(P.id)?"rotate-180":""}`,"aria-hidden":"true"})]}),_.includes(P.id)&&o.jsxs("div",{id:`products-${P.id}`,className:"mt-2 space-y-2 p-3 bg-cyan-500/5 rounded-lg border border-cyan-500/10 animate-fadeIn",children:[o.jsx("h4",{className:"text-sm font-medium text-cyan-400 mb-2",children:"Produits stockés"}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-white/60",children:[o.jsx("th",{className:"pb-2 font-medium",children:"Produit"}),o.jsx("th",{className:"pb-2 font-medium",children:"Quantité"}),o.jsx("th",{className:"pb-2 font-medium",children:"DLC"})]})}),o.jsx("tbody",{children:P.products.map((Le,_e)=>{const ne=Le.dlc!=="N/A";let De="";if(ne){const se=new Date,ye=new Date(Le.dlc.split("/").reverse().join("-")).getTime()-se.getTime(),Pe=Math.ceil(ye/(1e3*60*60*24));Pe<0?De="text-red-400 font-medium":Pe<=7&&(De="text-amber-400 font-medium")}return o.jsxs("tr",{className:"border-t border-white/10",children:[o.jsx("td",{className:"py-2 text-white",children:Le.name}),o.jsx("td",{className:"py-2 text-white",children:Le.quantity}),o.jsx("td",{className:"py-2",children:o.jsxs("span",{className:Le.dlc==="N/A"?"text-white/60":`text-white ${De}`,children:[Le.dlc,De==="text-red-400 font-medium"&&o.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-red-500/20",children:"Dépassée"}),De==="text-amber-400 font-medium"&&o.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-amber-500/20",children:"Bientôt"})]})})]},_e)})})]})]})]}),o.jsx("div",{className:"mt-auto pt-4",children:o.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-xs text-white/60",children:[o.jsx("span",{className:"w-20",children:"Date:"}),o.jsx("span",{className:"text-white/80",children:P.date})]})})]})},P.id)})})]})})]}),L(),B(),G(),z(),V()]})}function EBe({onSubmit:e,onCancel:t}){const r=n=>{n.preventDefault(),e({})};return o.jsxs("form",{onSubmit:r,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-white/70 mb-2",children:"Client"}),o.jsx("input",{type:"text",id:"client",name:"client",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nom du client"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"products",className:"block text-sm font-medium text-white/70 mb-2",children:"Produits"}),o.jsxs("select",{id:"products",name:"products",multiple:!0,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",children:[o.jsx("option",{value:"huitres-speciales",children:"Huîtres Spéciales N°2"}),o.jsx("option",{value:"huitres-fines",children:"Huîtres Fines N°3"}),o.jsx("option",{value:"huitres-plates",children:"Huîtres Plates"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-white/70 mb-2",children:"Quantité"}),o.jsx("input",{type:"number",id:"quantity",name:"quantity",min:"1",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Nombre de douzaines"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-white/70 mb-2",children:"Prix unitaire (€)"}),o.jsx("input",{type:"number",id:"price",name:"price",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"29.90"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-white/70 mb-2",children:"Notes"}),o.jsx("textarea",{id:"notes",name:"notes",rows:3,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors",placeholder:"Informations complémentaires..."})]}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:"Créer la vente"})]})]})}const cU=[{month:"Jan",sales:42e3,orders:156},{month:"Fév",sales:48e3,orders:172},{month:"Mar",sales:45e3,orders:168},{month:"Avr",sales:52e3,orders:189},{month:"Mai",sales:49e3,orders:175},{month:"Juin",sales:55e3,orders:198}],uU=(e,t)=>({data:e.map(r=>({name:r.month,value:r[t]}))}),kBe=[{name:"Ventes",color:"#22d3ee",...uU(cU,"sales")}],TBe=[{name:"Commandes",color:"#22d3ee",...uU(cU,"orders")}];function OBe(){const[e,t]=I.useState(!1),[r,n]=I.useState("");I.useState("month");const a=i=>{console.log("Creating sale:",i),t(!1)};return o.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:o.jsx(K1,{size:32,className:"text-cyan-400","aria-hidden":"true"})}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Ventes"})]}),o.jsx("div",{className:"flex gap-4",children:o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(gr,{size:20,"aria-hidden":"true"}),"Nouvelle Vente"]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(nM,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Ventes totales"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"55,000 €"}),o.jsx("p",{className:"text-sm text-emerald-400",children:"+12% ce mois"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(xs,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Nouveaux clients"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"24"}),o.jsx("p",{className:"text-sm text-emerald-400",children:"+8% ce mois"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(lS,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Commandes"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"198"}),o.jsx("p",{className:"text-sm text-emerald-400",children:"+15% ce mois"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-cyan-500/20",children:o.jsx(xa,{size:24,className:"text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/70",children:"Produits vendus"}),o.jsx("p",{className:"text-2xl font-semibold text-white",children:"856"}),o.jsx("p",{className:"text-sm text-emerald-400",children:"+5% ce mois"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Évolution des ventes"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),o.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),o.jsx(G1,{series:kBe,height:300})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nombre de commandes"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données mensuelles",children:"M"}),o.jsx("button",{className:"text-cyan-400 bg-cyan-500/20 px-3 py-1 rounded-md min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données trimestrielles","aria-current":"true",children:"T"}),o.jsx("button",{className:"text-white/60 hover:text-white px-3 py-1 rounded-md hover:bg-white/5 transition-colors min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40","aria-label":"Voir les données annuelles",children:"A"})]})]}),o.jsx(G1,{series:TBe,height:300})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Dernières ventes"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Da,{size:20,className:"absolute left-3 -translate-y-1/2 text-white/40",style:{top:"48%"},"aria-label":"Search icon"}),o.jsx("input",{type:"text",placeholder:"Rechercher...",value:r,onChange:i=>n(i.target.value),className:"pl-10 pr-4 py-2 w-64 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-colors"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(qi,{size:20,"aria-hidden":"true"}),"Filtres"]})]})]}),o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-white/60",children:[o.jsx("th",{className:"pb-4",children:"Date"}),o.jsx("th",{className:"pb-4",children:"Client"}),o.jsx("th",{className:"pb-4",children:"Produits"}),o.jsx("th",{className:"pb-4 text-right",children:"Montant"}),o.jsx("th",{className:"pb-4",children:"Statut"})]})}),o.jsxs("tbody",{className:"text-white",children:[o.jsxs("tr",{className:"border-t border-white/10",children:[o.jsx("td",{className:"py-4",children:"26/03/2025"}),o.jsx("td",{children:"Martin Dubois"}),o.jsx("td",{children:"Huîtres Spéciales N°2 (3 dz)"}),o.jsx("td",{className:"text-right text-cyan-400",children:"89.70 €"}),o.jsx("td",{children:o.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 100%)",color:"#4ade80"},children:"Livrée"})})]}),o.jsxs("tr",{className:"border-t border-white/10",children:[o.jsx("td",{className:"py-4",children:"26/03/2025"}),o.jsx("td",{children:"Sophie Martin"}),o.jsx("td",{children:"Huîtres Fines N°3 (4 dz)"}),o.jsx("td",{className:"text-right text-cyan-400",children:"95.60 €"}),o.jsx("td",{children:o.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%)",color:"#60a5fa"},children:"En cours"})})]})]})]})]}),e&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.95)] to-[rgba(20,100,100,0.95)] p-6 rounded-lg shadow-2xl max-w-2xl w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nouvelle Vente"}),o.jsx("button",{onClick:()=>t(!1),className:"text-white/60 hover:text-white","aria-label":"Fermer",children:o.jsx(Gt,{size:24})})]}),o.jsx(EBe,{onSubmit:a,onCancel:()=>t(!1)})]})})]})}const kI=IC,PBe=MC,TI=v5,dU=I.forwardRef(({className:e,...t},r)=>o.jsx(kg,{ref:r,className:Ci("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dU.displayName=kg.displayName;const Wj=I.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(PBe,{children:[o.jsx(dU,{}),o.jsx(Tg,{ref:n,className:Ci("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:t})]}));Wj.displayName=Tg.displayName;const Vj=({className:e,...t})=>o.jsx("div",{className:Ci("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vj.displayName="DialogHeader";const qj=I.forwardRef(({className:e,...t},r)=>o.jsx(Og,{ref:r,className:Ci("text-lg font-semibold leading-none tracking-tight",e),...t}));qj.displayName=Og.displayName;const DBe=I.forwardRef(({className:e,...t},r)=>o.jsx(Pg,{ref:r,className:Ci("text-sm text-muted-foreground",e),...t}));DBe.displayName=Pg.displayName;const IBe=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,details:{quality:5,delivery:4,communication:4.5}}}];function MBe({orderId:e}){const[t,r]=I.useState(""),[n,a]=I.useState(IBe),[i,s]=I.useState(!1),[l,c]=I.useState({overall:0,quality:0,delivery:0,communication:0}),u=f=>{if(f.preventDefault(),!t.trim())return;const h={id:Date.now().toString(),content:t,author:{name:"Utilisateur",avatar:"https://i.pravatar.cc/40?img=3"},timestamp:new Date().toISOString(),type:"comment"};a([...n,h]),r("")},d=()=>{const f={id:Date.now().toString(),content:"Note ajoutée",author:{name:"Utilisateur",avatar:"https://i.pravatar.cc/40?img=3"},timestamp:new Date().toISOString(),type:"rating",rating:{overall:l.overall,details:{quality:l.quality,delivery:l.delivery,communication:l.communication}}};a([...n,f]),s(!1)};return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Commentaires"}),o.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 transition-colors","aria-label":"Ajouter une note",children:[o.jsx(Is,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Noter"})]})]}),i&&o.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60 block mb-2",children:"Note globale"}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(f=>o.jsx("button",{onClick:()=>c({...l,overall:f}),className:`text-xl ${f<=l.overall?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de ${f} étoiles`,children:"★"},f))})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Qualité"}),o.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>o.jsx("button",{onClick:()=>c({...l,quality:f}),className:`text-sm ${f<=l.quality?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de qualité: ${f} étoiles`,children:"★"},f))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Livraison"}),o.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>o.jsx("button",{onClick:()=>c({...l,delivery:f}),className:`text-sm ${f<=l.delivery?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de livraison: ${f} étoiles`,children:"★"},f))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60 block mb-1",children:"Communication"}),o.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>o.jsx("button",{onClick:()=>c({...l,communication:f}),className:`text-sm ${f<=l.communication?"text-yellow-400":"text-gray-400"} hover:text-yellow-400 transition-colors`,"aria-label":`Note de communication: ${f} étoiles`,children:"★"},f))})]})]}),o.jsx("button",{onClick:d,className:"w-full px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors text-sm",disabled:l.overall===0,children:"Enregistrer la note"})]}),o.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:n.map(f=>o.jsx("div",{className:"bg-white/5 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:f.author.avatar?o.jsx("img",{src:f.author.avatar,alt:f.author.name,className:"w-8 h-8 rounded-full"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(nf,{className:"w-5 h-5 text-white/60"})})}),o.jsxs("div",{className:"flex-grow min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-medium text-white text-sm",children:f.author.name}),o.jsx("span",{className:"text-xs text-white/60",children:er(new Date(f.timestamp),"d MMM yyyy 'à' HH:mm",{locale:xn})})]}),f.type==="rating"&&f.rating&&o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(h=>o.jsx("span",{className:`text-sm ${h<=f.rating.overall?"text-yellow-400":"text-gray-400"}`,children:"★"},h))}),f.rating.details&&o.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1 text-xs text-white/60",children:[o.jsxs("div",{children:["Qualité: ",f.rating.details.quality,"/5"]}),o.jsxs("div",{children:["Livraison: ",f.rating.details.delivery,"/5"]}),o.jsxs("div",{children:["Communication: ",f.rating.details.communication,"/5"]})]})]}),o.jsx("p",{className:"text-white/90 text-sm break-words",children:f.content}),f.attachments&&f.attachments.length>0&&o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:f.attachments.map((h,p)=>o.jsxs("div",{className:"flex items-center gap-1 bg-white/10 rounded px-2 py-0.5 text-xs",children:[o.jsx(oM,{className:"w-3 h-3"}),o.jsx("span",{children:h.name})]},p))})]})]})},f.id))}),o.jsxs("form",{onSubmit:u,className:"mt-4 flex gap-2",children:[o.jsx("div",{className:"flex-grow",children:o.jsx("input",{type:"text",value:t,onChange:f=>r(f.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-3 py-1.5 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-1 focus:ring-cyan-500/40 text-white text-sm placeholder-white/40","aria-label":"Nouveau commentaire"})}),o.jsxs("button",{type:"submit",disabled:!t.trim(),className:"flex items-center gap-1 px-3 py-1.5 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm","aria-label":"Envoyer le commentaire",children:[o.jsx(Qy,{className:"w-4 h-4"}),o.jsx("span",{children:"Envoyer"})]})]})]})}function FBe({order:e,onClose:t}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-end z-50",children:o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 h-full w-[600px] border-l border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:e.product}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-full transition-colors","aria-label":"Fermer les détails",children:o.jsx(Gt,{className:"w-6 h-6 text-white/60"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Fournisseur"}),o.jsx("p",{className:"text-white",children:e.supplier})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Statut"}),o.jsx("p",{className:"text-white",children:e.status})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Quantité"}),o.jsxs("p",{className:"text-white",children:[e.quantity," kg"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Prix"}),o.jsxs("p",{className:"text-white",children:[e.price," €"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Emplacement"}),o.jsx("p",{className:"text-white",children:e.stockLocation})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Dernière mise à jour"}),o.jsx("p",{className:"text-white",children:e.lastUpdate})]})]}),e.rating>0&&o.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[o.jsx("label",{className:"text-sm text-white/60 block mb-2",children:"Évaluation"}),o.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(r=>o.jsx("span",{className:`text-xl ${r<=e.rating?"text-yellow-400":"text-gray-400"}`,children:"★"},r))})]}),o.jsx("div",{className:"bg-white/5 rounded-lg",children:o.jsx(MBe,{orderId:e.id})})]})]})}):null}function RBe(){var L,B,G,z,V,Y,U,ae,he;uo();const[e,t]=I.useState(""),[r,n]=I.useState(null),[a,i]=I.useState("date"),[s,l]=I.useState("asc"),[c,u]=I.useState(!1),[d,f]=I.useState(""),[h,p]=I.useState("");I.useState(0);const[m,x]=I.useState({}),[g,v]=I.useState(""),[b,y]=I.useState([{id:"1",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:180,status:"pending",icon:Hn,stockLocation:"En attente",lastUpdate:"2024-03-15",rating:0},{id:"2",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:65,status:"confirmed",icon:Hn,stockLocation:"En attente",lastUpdate:"2024-03-14",rating:0},{id:"3",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:90,status:"dispatched",icon:Hn,stockLocation:"En transit",lastUpdate:"2024-03-12",rating:0},{id:"4",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:40,status:"in_transit",icon:Hn,stockLocation:"En transit",lastUpdate:"2024-03-11",rating:0},{id:"5",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:200,status:"pending",icon:Hn,stockLocation:"En attente",lastUpdate:"2024-03-10",rating:0},{id:"6",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:150,status:"confirmed",icon:Hn,stockLocation:"En attente",lastUpdate:"2024-03-08",rating:0},{id:"7",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:50,status:"dispatched",icon:Hn,stockLocation:"En transit",lastUpdate:"2024-03-05",rating:0},{id:"8",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:60,status:"in_transit",icon:Hn,stockLocation:"En transit",lastUpdate:"2024-03-03",rating:0},{id:"9",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:100,status:"pending",icon:Hn,stockLocation:"Bassin A3",lastUpdate:"2024-02-28",rating:0},{id:"10",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:150,status:"confirmed",icon:Hn,stockLocation:"Bassin B1",lastUpdate:"2024-02-27",rating:0},{id:"11",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:45,status:"delivered",icon:tM,stockLocation:"Trempage T2",lastUpdate:"2024-02-26",rating:0},{id:"12",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:80,status:"completed",icon:Hn,stockLocation:"Bassin C2",lastUpdate:"2024-02-24",rating:0},{id:"13",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:40,status:"completed",icon:Hn,stockLocation:"Zone D3",lastUpdate:"2024-02-22",rating:0}]),_=k=>{switch(k){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},N=k=>{k.preventDefault(),console.log("Nouveau achat:")},S=k=>`${k} kg`,j=[{value:"status",label:"Statut",icon:o.jsx(Ua,{className:"w-4 h-4"})},{value:"date",label:"Date",icon:o.jsx(Oa,{className:"w-4 h-4"})},{value:"price",label:"Prix",icon:o.jsx(F2,{className:"w-4 h-4"})},{value:"quantity",label:"Quantité",icon:o.jsx(Hn,{className:"w-4 h-4"})}],A=k=>[...k].sort((P,R)=>{let H=0;switch(a){case"status":const X={pending:1,processing:2,shipped:3,delivered:4,cancelled:5};H=(X[P.status]||999)-(X[R.status]||999);break;case"date":const oe=new Date(P.deliveryDate).getTime(),fe=new Date(R.deliveryDate).getTime();H=oe-fe;break;case"price":const re=P.price,ve=R.price;H=re-ve;break;case"quantity":const Ce=P.quantity,q=R.quantity;H=Ce-q;break}return s==="asc"?H:-H}),T=()=>{const k=new Date,P=k.getMonth(),R=k.getFullYear(),H=b.filter(re=>{const ve=new Date(re.deliveryDate);return ve.getMonth()===P&&ve.getFullYear()===R}),X=H.reduce((re,ve)=>re+ve.price,0),oe=H.reduce((re,ve)=>re+ve.quantity,0),fe=b.length>0?b.reduce((re,ve)=>re+ve.price,0)/b.length:0;return{pending:b.filter(re=>re.status==="pending").length,processing:b.filter(re=>re.status==="processing").length,delivered:b.filter(re=>re.status==="delivered").length,totalMonth:X.toFixed(2),totalQuantityMonth:oe.toFixed(2),averageOrderValue:fe.toFixed(2),dailyAverage:(oe/k.getDate()).toFixed(1)}},F=A(b),O=k=>{a===k?l(s==="asc"?"desc":"asc"):(i(k),l("asc"))};T();const E=()=>{const k=new Date,P=k.getMonth(),R=k.getFullYear(),H=b.filter(re=>{const ve=new Date(re.deliveryDate);return ve.getMonth()===P&&ve.getFullYear()===R}),X=H.reduce((re,ve)=>re+ve.price,0),oe=H.reduce((re,ve)=>re+ve.quantity,0),fe=b.length>0?b.reduce((re,ve)=>re+ve.price,0)/b.length:0;return{totalMonthValue:X,totalMonthQuantity:oe,averageValue:fe}};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(pg,{title:"Achats",icon:o.jsx(lS,{className:"w-6 h-6"}),className:"mb-6"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 p-6",children:[o.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[o.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:o.jsxs("div",{className:"flex-1 min-w-[280px] relative",children:[o.jsx(tr,{type:"text",placeholder:"Rechercher une commande...",value:e,onChange:k=>t(k.target.value),className:"w-full pl-10 bg-gray-800/50 border-gray-700 text-white placeholder-gray-400"}),o.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:o.jsx(Da,{className:"w-4 h-4 text-white/40","aria-hidden":"true"})})]})}),o.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(k=>o.jsxs(mn,{variant:"outline",size:"sm",onClick:()=>O(k.value),className:Ci("flex items-center gap-2 min-w-[44px] min-h-[44px]",a===k.value&&"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"),children:[k.icon,o.jsx("span",{children:k.label}),a===k.value&&o.jsx(iS,{className:Ci("w-4 h-4 transition-transform",s==="desc"&&"transform rotate-180")})]},k.value))}),o.jsx("div",{className:"space-y-4",children:F.map(k=>{var P;return o.jsx(w0,{className:"border border-white/10 rounded-lg overflow-hidden transform transition-all duration-200 hover:scale-[1.02] cursor-pointer",style:{background:"rgba(15,23,42,0.3)",backdropFilter:"blur(10px)",boxShadow:"rgba(0,0,0,0.2) 0px 10px 20px -5px, rgba(0,150,255,0.1) 0px 8px 16px -8px, rgba(255,255,255,0.07) 0px -1px 2px 0px inset, rgba(0,65,255,0.05) 0px 0px 8px inset, rgba(0,0,0,0.05) 0px 0px 1px inset"},children:o.jsx("div",{className:"p-4 flex justify-between",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-lg font-semibold text-white truncate",children:k.product}),o.jsx(Pj,{variant:"default",className:`${_(k.status).bgColor} ${_(k.status).textColor} ${_(k.status).borderColor}`,children:_(k.status).label})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xa,{className:"w-4 h-4 text-cyan-400"}),o.jsx("span",{children:k.supplier})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oa,{className:"w-4 h-4 text-cyan-400"}),o.jsx("span",{children:k.deliveryDate})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hn,{className:"w-4 h-4 text-cyan-400"}),o.jsx("span",{children:S(k.quantity)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F2,{className:"w-4 h-4 text-cyan-400"}),o.jsxs("span",{children:[k.price," €"]})]})]}),k.status==="completed"&&o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(R=>o.jsx("button",{onClick:()=>{const H=b.map(X=>X.id===k.id?{...X,rating:R}:X);y(H)},className:"focus:outline-none",children:o.jsx(Is,{className:`w-5 h-5 ${R<=k.rating?"text-yellow-400 fill-yellow-400":"text-gray-400"}`})},R))})}),o.jsxs("div",{className:"mt-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hc,{className:"w-4 h-4 text-cyan-400"}),o.jsx("span",{className:"text-sm text-white/60",children:"Commentaires"})]}),(P=m[k.id])==null?void 0:P.map((R,H)=>o.jsxs("div",{className:"bg-white/5 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-cyan-400",children:R.author}),o.jsx("span",{className:"text-xs text-gray-400",children:R.date})]}),o.jsx("p",{className:"text-sm text-white/80",children:R.text})]},H)),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(tr,{value:g,onChange:R=>v(R.target.value),placeholder:"Ajouter un commentaire...",className:"flex-1 bg-white/5 border-white/10"}),o.jsx(mn,{onClick:()=>{if(g.trim()){const R={text:g,date:new Date().toLocaleString(),author:"Vous"};x(H=>({...H,[k.id]:[...H[k.id]||[],R]})),v("")}},className:"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30",children:"Envoyer"})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsxs("span",{className:"text-xl font-bold text-white",children:[k.price,"€"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k.status==="delivered"&&o.jsx(mn,{variant:"ghost",size:"sm",className:"p-2",onClick:R=>{R.stopPropagation()},children:o.jsx(Wc,{className:"w-4 h-4"})}),o.jsx(mn,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>n(k.id),"aria-label":"Voir les détails",children:o.jsx(Es,{className:"w-5 h-5 text-gray-400"})})]})]})]})})})},k.id)})})]}),o.jsx("div",{className:"lg:col-span-4 space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs(w0,{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsxs("div",{className:"relative p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/20",children:o.jsx(F2,{className:"w-6 h-6 text-cyan-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Total des achats du mois"})]}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:[E().totalMonthValue.toLocaleString(),"€"]}),o.jsx("span",{className:"text-sm text-white/60",children:"ce mois"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[o.jsx("span",{children:"Moyenne par commande :"}),o.jsxs("span",{className:"text-cyan-400",children:[E().averageValue.toLocaleString(),"€"]})]})]})]}),o.jsxs(w0,{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsxs("div",{className:"relative p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/20",children:o.jsx(Hn,{className:"w-6 h-6 text-cyan-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Volume total"})]}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:[E().totalMonthQuantity.toLocaleString()," kg"]}),o.jsx("span",{className:"text-sm text-white/60",children:"ce mois"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[o.jsx("span",{children:"Commandes en cours :"}),o.jsx("span",{className:"text-cyan-400",children:b.filter(k=>k.status==="pending"||k.status==="processing").length})]})]})]}),o.jsxs(w0,{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsxs("div",{className:"relative p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/20",children:o.jsx(Is,{className:"w-6 h-6 text-cyan-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Satisfaction fournisseurs"})]}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:(b.filter(k=>k.rating>0).reduce((k,P)=>k+P.rating,0)/b.filter(k=>k.rating>0).length||0).toFixed(1)}),o.jsx("span",{className:"text-sm text-white/60",children:"/ 5"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[o.jsx("span",{children:"Commandes évaluées :"}),o.jsx("span",{className:"text-cyan-400",children:b.filter(k=>k.rating>0).length})]})]})]})]})})]}),o.jsx(kI,{open:!1,onOpenChange:k=>{},children:o.jsxs(Wj,{className:"bg-[rgba(15,23,42,0.3)] backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] max-w-2xl",children:[o.jsx(Vj,{children:o.jsx(qj,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Nouvelle commande"})}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"supplier",className:"text-sm text-white/60 mb-1 block",children:"Fournisseur"}),o.jsx(tr,{id:"supplier",name:"supplier",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Nom du fournisseur"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"product",className:"text-sm text-white/60 mb-1 block",children:"Produit"}),o.jsx(tr,{id:"product",name:"product",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Nom du produit"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"quantity",className:"text-sm text-white/60 mb-1 block",children:"Quantité (kg)"}),o.jsx(tr,{id:"quantity",name:"quantity",type:"number",min:"1",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Quantité en kg"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"text-sm text-white/60 mb-1 block",children:"Prix (€)"}),o.jsx(tr,{id:"price",name:"price",type:"number",min:"0",step:"0.01",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",placeholder:"Prix en euros"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"deliveryDate",className:"text-sm text-white/60 mb-1 block",children:"Date de livraison"}),o.jsx(tr,{id:"deliveryDate",name:"deliveryDate",type:"date",className:"w-full bg-gray-800/50 border-gray-700 text-white placeholder-gray-400",min:new Date().toISOString().split("T")[0]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(TI,{asChild:!0,children:o.jsx(mn,{type:"button",variant:"outline",className:"border-cyan-500/20 text-cyan-400 hover:bg-cyan-500/10",children:"Annuler"})}),o.jsx(mn,{type:"submit",className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600",children:"Créer la commande"})]})]})]})}),o.jsx(kI,{open:!!r,onOpenChange:k=>{k||(n(null),u(!1),f(""),p(""))},children:o.jsx(Wj,{className:"bg-[rgba(15,23,42,0.98)] border-white/10 text-white",children:r&&o.jsxs(o.Fragment,{children:[o.jsxs(Vj,{children:[o.jsx(qj,{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Détails de la commande"}),o.jsx(TI,{asChild:!0,children:o.jsx(mn,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white absolute right-4 top-4",onClick:()=>{n(null),u(!1),f(""),p("")},children:o.jsx(Gt,{className:"w-5 h-5"})})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-lg font-semibold text-white",children:(L=b.find(k=>k.id===r))==null?void 0:L.product}),o.jsx(Pj,{variant:"default",className:`${_(((B=b.find(k=>k.id===r))==null?void 0:B.status)||"").bgColor} ${_(((G=b.find(k=>k.id===r))==null?void 0:G.status)||"").textColor} ${_(((z=b.find(k=>k.id===r))==null?void 0:z.status)||"").borderColor}`,children:_(((V=b.find(k=>k.id===r))==null?void 0:V.status)||"").label})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Fournisseur"}),o.jsx("p",{className:"text-white",children:(Y=b.find(k=>k.id===r))==null?void 0:Y.supplier})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Date de livraison"}),o.jsx("p",{className:"text-white",children:(U=b.find(k=>k.id===r))==null?void 0:U.deliveryDate})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Quantité"}),o.jsx("p",{className:"text-white",children:S(((ae=b.find(k=>k.id===r))==null?void 0:ae.quantity)||0)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-white/60",children:"Prix"}),o.jsxs("p",{className:"text-white",children:[(he=b.find(k=>k.id===r))==null?void 0:he.price," €"]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsxs(mn,{variant:"outline",onClick:()=>{u(!0);const k=b.find(P=>P.id===r);k&&(f(k.deliveryDate),p(k.quantity.toString()))},className:"flex items-center gap-2",children:[o.jsx(gr,{className:"w-4 h-4"}),"Recommander"]}),o.jsx(mn,{variant:"ghost",onClick:()=>{n(null),u(!1),f(""),p("")},children:"Fermer"})]})]})]})})}),r&&o.jsx(FBe,{order:b.find(k=>k.id===r),onClose:()=>n(null)})]})}function LBe(){var a;const[e,t]=I.useState(!1),{session:r}=Yo(),n=i=>{i.preventDefault(),t(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start space-x-6",children:[o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(a=r==null?void 0:r.user)!=null&&a.avatar_url?o.jsx("img",{src:r.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx(Ux,{size:64,className:"text-brand-burgundy"})}),o.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[o.jsx(Uo,{size:24}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Jean Dupont"}),o.jsx("p",{className:"text-white/60",children:"Responsable Production"}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center text-white/60",children:[o.jsx(Go,{size:16,className:"mr-2"}),"jean.dupont@example.com"]}),o.jsxs("div",{className:"flex items-center text-white/60",children:[o.jsx(Ds,{size:16,className:"mr-2"}),"06 12 34 56 78"]}),o.jsxs("div",{className:"flex items-center text-white/60",children:[o.jsx(Jy,{size:16,className:"mr-2"}),"Zone Nord"]}),o.jsxs("div",{className:"flex items-center text-white/60",children:[o.jsx(Oa,{size:16,className:"mr-2"}),"Embauché le 15/01/2024"]})]})]}),o.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:e?"Annuler":"Modifier"})]}),e?o.jsxs("form",{onSubmit:n,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),o.jsx("input",{type:"text",defaultValue:"Jean",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),o.jsx("input",{type:"text",defaultValue:"Dupont",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),o.jsx("input",{type:"email",defaultValue:"jean.dupont@example.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),o.jsx("input",{type:"tel",defaultValue:"06 12 34 56 78",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),o.jsx("textarea",{rows:3,defaultValue:"123 Rue de la Mer, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),o.jsx("div",{className:"text-white mt-1",children:"123 Rue de la Mer, 34140 Bouzigues"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Contact d'urgence"}),o.jsx("div",{className:"text-white mt-1",children:"Marie Dupont - 06 98 76 54 32"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),o.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function BBe(){const[e,t]=I.useState(!1),[r,n]=I.useState(!1);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),o.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),o.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),e&&o.jsxs("form",{className:"mt-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),o.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),o.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),o.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),o.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),o.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),r&&o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(cM,{size:20,className:"text-white/60 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),o.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(MW,{size:20,className:"text-white/60 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),o.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),o.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),o.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),o.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),o.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),o.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),o.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),o.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),o.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),o.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const $Be=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],zBe={login:FW,settings:Zy,document:io,notification:Dp};function UBe(){return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[o.jsx("div",{className:"p-6 border-b border-white/10",children:o.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),o.jsx("div",{className:"divide-y divide-white/10",children:$Be.map(e=>{const t=zBe[e.type];return o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:o.jsx(t,{size:20,className:"text-brand-burgundy"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx("h4",{className:"text-lg font-medium text-white",children:e.action})}),e.details&&o.jsx("p",{className:"text-white/70 mt-1",children:e.details}),o.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(di,{size:16,className:"mr-1"}),er(new Date(e.timestamp),"PPp",{locale:xn})]}),e.location&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:"•"}),o.jsx("div",{children:e.location})]}),e.device&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:"•"}),o.jsx("div",{children:e.device})]})]})]})]})},e.id)})})]})})}function HBe(){const[e,t]=I.useState([]),[r,n]=I.useState("csv"),[a,i]=I.useState({start:"",end:""}),s=()=>{console.log("Exporting data:",{selectedData:e,format:r,dateRange:a})};return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.includes("tasks"),onChange:l=>{l.target.checked?t([...e,"tasks"]):t(e.filter(c=>c!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Tâches"}),o.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),o.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.includes("inventory"),onChange:l=>{l.target.checked?t([...e,"inventory"]):t(e.filter(c=>c!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),o.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),o.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.includes("time"),onChange:l=>{l.target.checked?t([...e,"time"]):t(e.filter(c=>c!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),o.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),o.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.includes("activity"),onChange:l=>{l.target.checked?t([...e,"activity"]):t(e.filter(c=>c!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Activité"}),o.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"radio",name:"format",value:"csv",checked:r==="csv",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),o.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),o.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[o.jsx("input",{type:"radio",name:"format",value:"json",checked:r==="json",onChange:l=>n(l.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),o.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),o.jsx("input",{type:"date",value:a.start,onChange:l=>i({...a,start:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),o.jsx("input",{type:"date",value:a.end,onChange:l=>i({...a,end:l.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),o.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ai,{size:20,className:"text-yellow-400 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),o.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:s,disabled:e.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Ho,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function WBe(){var n;const{session:e}=Yo(),t=VBe((n=e==null?void 0:e.user)==null?void 0:n.id),r=()=>{navigator.clipboard.writeText(t)};return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),o.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),o.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:o.jsx(xs,{size:24,className:"text-brand-burgundy"})})]}),o.jsx("div",{className:"mt-8 flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),o.jsx(ke.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:o.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:t})})]})}),o.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[o.jsxs(ke.button,{onClick:r,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(RW,{size:20,className:"mr-2"}),"Copier le code"]}),o.jsxs(ke.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(Z1,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),o.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[o.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),o.jsxs("ol",{className:"space-y-2 text-white/60",children:[o.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),o.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),o.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function VBe(e){var n;return e&&((n=(Array.from(e).reduce((a,i)=>(a<<5)-a+i.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:n.join("-"))||"XXXX-XXXX-XXXX"}function qBe(){const[e,t]=I.useState("info");return o.jsxs(ke.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[o.jsx(pg,{icon:o.jsx(Ux,{size:28,className:"text-white"}),title:"Mon Espace"}),o.jsx("div",{className:"flex items-center justify-between"}),o.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[o.jsx("button",{onClick:()=>t("config"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="config"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Zy,{size:16,className:"mr-2"}),"Configuration"]})}),o.jsx("button",{onClick:()=>t("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ux,{size:16,className:"mr-2"}),"Informations"]})}),o.jsx("button",{onClick:()=>t("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(xs,{size:16,className:"mr-2"}),"Code ami"]})}),o.jsx("button",{onClick:()=>t("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(L2,{size:16,className:"mr-2"}),"Sécurité"]})}),o.jsx("button",{onClick:()=>t("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(gd,{size:16,className:"mr-2"}),"Activité"]})}),o.jsx("button",{onClick:()=>t("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${e==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ho,{size:16,className:"mr-2"}),"Export"]})})]}),e==="info"&&o.jsx(LBe,{}),e==="friend-code"&&o.jsx(WBe,{}),e==="security"&&o.jsx(BBe,{}),e==="activity"&&o.jsx(UBe,{}),e==="export"&&o.jsx(HBe,{}),e==="config"&&o.jsx(Wz,{})]})}const lh="oystercult_cart";function fU(){const[e,t]=I.useState([]),[r,n]=I.useState(!1);I.useEffect(()=>{const l=localStorage.getItem(lh);if(l)try{t(JSON.parse(l))}catch(c){console.error("Erreur lors du chargement du panier:",c),localStorage.removeItem(lh)}},[]);const a=I.useCallback((l,c)=>{const u=[...e],d=u.find(f=>f.productId===l);d?d.quantity=c:u.push({productId:l,quantity:c}),t(u),localStorage.setItem(lh,JSON.stringify(u))},[e]),i=I.useCallback(l=>{const c=e.filter(u=>u.productId!==l);t(c),c.length===0?localStorage.removeItem(lh):localStorage.setItem(lh,JSON.stringify(c))},[e]),s=I.useCallback(()=>{t([]),localStorage.removeItem(lh)},[]);return I.useCallback(()=>{n(!r)},[r]),{cartItems:e,addToCart:a,removeFromCart:i,clearCart:s,isCartModalOpen:r,setIsCartModalOpen:n}}function hU({isOpen:e,onClose:t,items:r,products:n,onRemoveItem:a,onClearCart:i}){if(!e)return null;console.log("CartModal - items:",r),console.log("CartModal - products:",n);const s=r.reduce((c,u)=>{const d=n.find(f=>f.id===u.productId);return console.log(`Item ${u.productId} - Found product:`,d),c+(d?d.price*u.quantity:0)},0),l=()=>{i(),t()};return o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[o.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:o.jsx(Gt,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),o.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:r.length===0?o.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):o.jsx("div",{className:"space-y-4",children:r.map(c=>{const u=n.find(d=>d.id===c.productId);return u?o.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:u.name}),o.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[c.quantity," ",u.unit," × ",u.price.toFixed(2),"€"]}),o.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(c.quantity*u.price).toFixed(2),"€"]})]}),o.jsx("button",{onClick:()=>a(c.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:o.jsx(Ei,{className:"w-4 h-4 text-red-500"})})]},c.productId):null})})}),r.length>0&&o.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),o.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[s.toFixed(2),"€"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),o.jsxs("button",{onClick:l,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[o.jsx(lS,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const nN=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function GBe(){const[e,t]=I.useState(""),[r,n]=I.useState("all"),[a,i]=I.useState(!1),{cartItems:s,addToCart:l,removeFromCart:c,clearCart:u,isCartModalOpen:d,setIsCartModalOpen:f}=fU();I.useEffect(()=>{const m=x=>{a&&i(!1)};return document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}},[a]);const h=["all",...new Set(nN.map(m=>m.category))],p=nN.filter(m=>{const x=r==="all"||m.category===r,g=m.name.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase());return x&&g});return o.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:o.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pb-24",children:[o.jsxs(ke.div,{initial:"hidden",animate:"visible",className:"space-y-6",children:[o.jsx(pg,{icon:o.jsx(YI,{size:28,className:"text-white"}),title:"Boutique"}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>f(!0),className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",children:[o.jsx(K1,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),s.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:s.length})]})})]}),o.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Da,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]","aria-label":"Search icon"}),o.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))] w-full bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>i(!a),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2 bg-cyan-500/10 border border-cyan-500/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",children:[o.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:r==="all"?"Toutes catégories":r}),o.jsx(tf,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),a&&o.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:o.jsx("div",{className:"p-1",children:h.map(m=>o.jsx("button",{onClick:()=>{n(m),i(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${r===m?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:o.jsx("span",{className:"capitalize",children:m==="all"?"Toutes catégories":m})},m))})})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(m=>o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-medium text-white break-words",children:m.name}),o.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:m.description})]}),o.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[m.price,"€"]})]}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:m.features.map((x,g)=>o.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:x},g))}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),o.jsx("div",{className:"space-y-2",children:Object.entries(m.specifications).map(([x,g])=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-white/60",children:x}),o.jsx("span",{className:"text-white",children:g})]},x))})]}),o.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:x=>{parseInt(x.target.value,10)<0&&(x.target.value="0")}}),o.jsx("button",{onClick:x=>{const g=x.currentTarget.previousElementSibling,v=parseInt(g.value,10);v>0&&l(m.id,v)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},m.id))}),o.jsx(hU,{isOpen:d,onClose:()=>f(!1),items:s,products:nN,onRemoveItem:c,onClearCart:()=>{u(),f(!1)}})]})})}var pU="AlertDialog",[YBe,oHe]=nz(pU,[wz]),bu=wz(),mU=e=>{const{__scopeAlertDialog:t,...r}=e,n=bu(t);return o.jsx(IC,{...n,...r,modal:!0})};mU.displayName=pU;var XBe="AlertDialogTrigger",KBe=I.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bu(r);return o.jsx(e7e,{...a,...n,ref:t})});KBe.displayName=XBe;var QBe="AlertDialogPortal",xU=e=>{const{__scopeAlertDialog:t,...r}=e,n=bu(t);return o.jsx(MC,{...n,...r})};xU.displayName=QBe;var JBe="AlertDialogOverlay",gU=I.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bu(r);return o.jsx(kg,{...a,...n,ref:t})});gU.displayName=JBe;var Uh="AlertDialogContent",[ZBe,e$e]=YBe(Uh),vU=I.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=bu(r),s=I.useRef(null),l=gu(t,s),c=I.useRef(null);return o.jsx(KMe,{contentName:Uh,titleName:bU,docsSlug:"alert-dialog",children:o.jsx(ZBe,{scope:r,cancelRef:c,children:o.jsxs(Tg,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:nu(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(az,{children:n}),o.jsx(r$e,{contentRef:s})]})})})});vU.displayName=Uh;var bU="AlertDialogTitle",yU=I.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bu(r);return o.jsx(Og,{...a,...n,ref:t})});yU.displayName=bU;var wU="AlertDialogDescription",_U=I.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bu(r);return o.jsx(Pg,{...a,...n,ref:t})});_U.displayName=wU;var t$e="AlertDialogAction",NU=I.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bu(r);return o.jsx(v5,{...a,...n,ref:t})});NU.displayName=t$e;var jU="AlertDialogCancel",SU=I.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=e$e(jU,r),i=bu(r),s=gu(t,a);return o.jsx(v5,{...i,...n,ref:s})});SU.displayName=jU;var r$e=({contentRef:e})=>{const t=`\`${Uh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Uh}\` by passing a \`${wU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Uh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return I.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},n$e=mU,a$e=xU,AU=gU,CU=vU,EU=NU,kU=SU,TU=yU,OU=_U;const i$e=n$e,s$e=a$e,PU=I.forwardRef(({className:e,...t},r)=>o.jsx(AU,{className:Ci("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));PU.displayName=AU.displayName;const DU=I.forwardRef(({className:e,...t},r)=>o.jsxs(s$e,{children:[o.jsx(PU,{}),o.jsx(CU,{ref:r,className:Ci("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));DU.displayName=CU.displayName;const IU=({className:e,...t})=>o.jsx("div",{className:Ci("flex flex-col space-y-2 text-center sm:text-left",e),...t});IU.displayName="AlertDialogHeader";const MU=({className:e,...t})=>o.jsx("div",{className:Ci("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});MU.displayName="AlertDialogFooter";const FU=I.forwardRef(({className:e,...t},r)=>o.jsx(TU,{ref:r,className:Ci("text-lg font-semibold",e),...t}));FU.displayName=TU.displayName;const RU=I.forwardRef(({className:e,...t},r)=>o.jsx(OU,{ref:r,className:Ci("text-sm text-muted-foreground",e),...t}));RU.displayName=OU.displayName;const LU=I.forwardRef(({className:e,...t},r)=>o.jsx(EU,{ref:r,className:Ci("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));LU.displayName=EU.displayName;const BU=I.forwardRef(({className:e,...t},r)=>o.jsx(kU,{ref:r,className:Ci("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",e),...t}));BU.displayName=kU.displayName;function o$e({supplier:e,onDelete:t,onViewCatalog:r}){const[n,a]=I.useState(!1),i=e.name.split(" ").map(s=>s[0]).join("");return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"w-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 p-4 space-y-4 transition-all duration-300",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"h-24 flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsx("div",{className:"relative w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold bg-gradient-to-br from-[rgba(15,23,42,0.4)] to-[rgba(20,100,100,0.4)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 z-10",children:o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:i})})]})}),e.is_friend&&o.jsxs("div",{className:"absolute top-2 right-2 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(16,185,129,0.2)] backdrop-filter backdrop-blur-[10px] rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(16,185,129,0.2)]",children:[o.jsx(LW,{className:"w-4 h-4 text-cyan-400"}),o.jsx("span",{className:"text-xs font-medium text-cyan-400",children:"Ami"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),o.jsxs("div",{className:"text-xs text-white/70 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jy,{className:"w-3 h-3 shrink-0 text-cyan-400"}),o.jsx("span",{children:e.address})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ds,{className:"w-3 h-3 shrink-0 text-cyan-400"}),o.jsx("span",{children:e.phone})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Go,{className:"w-3 h-3 shrink-0 text-cyan-400"}),o.jsx("span",{children:e.email})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-white/10",children:[o.jsxs("button",{onClick:()=>r(e.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":`Voir le catalogue de ${e.name}`,children:[o.jsx(BW,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),o.jsx("button",{onClick:()=>a(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-300 border border-white/5 hover:border-red-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_4px_15px_rgba(0,0,0,0.3),0_0_10px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40","aria-label":`Supprimer ${e.name}`,children:o.jsx(Ei,{className:"w-4 h-4"})})]})]})]}),o.jsx(i$e,{open:n,onOpenChange:a,children:o.jsxs(DU,{className:"bg-gradient-to-br from-[rgba(15,23,42,0.8)] to-[rgba(20,100,100,0.8)] backdrop-filter backdrop-blur-[10px] border border-white/10 shadow-[rgba(0,0,0,0.4)_0px_10px_25px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px]",children:[o.jsxs(IU,{children:[o.jsx(FU,{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirmer la suppression"}),o.jsx(RU,{className:"text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),o.jsxs(MU,{children:[o.jsx(BU,{className:"bg-white/5 border border-white/10 hover:border-white/20 hover:bg-white/10 text-white rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300",children:"Annuler"}),o.jsx(LU,{onClick:()=>{t(e.id),a(!1)},className:"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30 rounded-lg shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(239,68,68,0.1)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(239,68,68,0.2)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-red-500/40 transition-all duration-300",children:"Supprimer"})]})]})})]})}const Kl=I.forwardRef(({className:e,...t},r)=>o.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${e||""}`,ref:r,...t}));Kl.displayName="Label";function l$e({open:e,onOpenChange:t,editingSupplier:r}){const{addSupplier:n,updateSupplier:a}=b5(),i=!!r,[s,l]=I.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||""}),[c,u]=I.useState(!1),[d,f]=I.useState({}),h=x=>{const{name:g,value:v}=x.target;l(b=>({...b,[g]:v})),d[g]&&f(b=>{const y={...b};return delete y[g],y})},p=()=>{const x={};return s.name.trim()||(x.name="Le nom est requis"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(x.email="Format d'email invalide"):x.email="L'email est requis",s.phone.trim()||(x.phone="Le téléphone est requis"),s.address.trim()||(x.address="L'adresse est requise"),f(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!p()){u(!0);try{i&&r?await a.mutateAsync({id:r.id,...s}):await n.mutateAsync(s),t(!1),l({name:"",email:"",phone:"",address:""})}catch(g){console.error("Error saving supplier:",g)}finally{u(!1)}}};return o.jsx(Rz,{open:e,onOpenChange:t,children:o.jsxs(FC,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1},children:[o.jsxs(RC,{children:[o.jsx(LC,{className:"text-white",children:i?"Modifier le fournisseur":"Ajouter un fournisseur"}),o.jsx($z,{children:i?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),o.jsxs("form",{onSubmit:m,className:"space-y-5 my-2",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs(Kl,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(nf,{className:"h-3.5 w-3.5"}),"Nom du fournisseur"]}),o.jsx(tr,{id:"name",name:"name",value:s.name,onChange:h,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] text-white ${d.name?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.name&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.name})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs(Kl,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Go,{className:"h-3.5 w-3.5"}),"Email"]}),o.jsx(tr,{id:"email",name:"email",type:"email",value:s.email,onChange:h,placeholder:"contact@atlantique-coquillages.fr",className:`border-[#2a2d3a] text-white ${d.email?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.email&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.email})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs(Kl,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Ds,{className:"h-3.5 w-3.5"}),"Téléphone"]}),o.jsx(tr,{id:"phone",name:"phone",value:s.phone,onChange:h,placeholder:"01 23 45 67 89",className:`border-[#2a2d3a] text-white ${d.phone?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.phone&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.phone})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs(Kl,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(fi,{className:"h-3.5 w-3.5"}),"Adresse"]}),o.jsx(tr,{id:"address",name:"address",value:s.address,onChange:h,placeholder:"42 Avenue du Port, 85230 Bouin",className:`border-[#2a2d3a] text-white ${d.address?"border-red-500":""}`,style:{background:"linear-gradient(135deg, rgb(0, 10, 40) 0%, rgb(0, 128, 128) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 10px 0px 30px -5px, rgba(0, 150, 255, 0.1) 5px 5px 20px -5px, rgba(255, 255, 255, 0.15) 0px -1px 5px 0px inset, rgba(0, 210, 200, 0.25) 0px 0px 20px inset, rgba(0, 0, 0, 0.3) 0px 0px 15px inset",opacity:1}}),d.address&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.address})]}),o.jsxs(Bz,{className:"mt-6",children:[o.jsx(mn,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),o.jsx(mn,{type:"submit",disabled:c,className:"bg-gradient-to-r text-white",children:c?"Enregistrement...":i?"Mettre à jour":"Ajouter"})]})]})]})})}function c$e(){const{suppliers:e,isLoading:t,updateSupplier:r}=b5(),[n,a]=I.useState(!1),[i,s]=I.useState(""),l=uo(),c=async f=>{try{await r.mutateAsync({id:f,deleted:!0})}catch(h){console.error("Error deleting supplier:",h)}},u=f=>{console.log("Bouton Catalogue cliqué, ID du fournisseur:",f),console.log("Navigation vers:",`/suppliers/${f}/catalog`),l(`/suppliers/${f}/catalog`)},d=e.filter(f=>f.name.toLowerCase().includes(i.toLowerCase())||f.email.toLowerCase().includes(i.toLowerCase()));return t?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):o.jsx("div",{className:"p-6 max-w-[1600px] mx-auto",children:o.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsxs("div",{className:"relative mr-4",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl blur-lg"}),o.jsx("div",{className:"relative z-10 p-3 rounded-full bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10",children:o.jsx(Wh,{size:28,className:"text-cyan-400"})})]}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Fournisseurs"})]}),o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("div",{children:o.jsx("p",{className:"text-white/70",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})}),o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1",children:[o.jsx(gr,{size:20}),"Ajouter un fournisseur"]})]}),o.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"relative flex-grow max-w-md",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:o.jsx(Da,{className:"w-4 h-4 text-white/40",style:{zIndex:1}})}),o.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 hover:border-cyan-400/30 transition-all text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/40",placeholder:"Rechercher un fournisseur...",value:i,onChange:f=>s(f.target.value),"aria-label":"Rechercher un fournisseur"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-white/70 bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] px-4 py-2 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px] border border-white/10 min-w-[44px] min-h-[44px]",children:[o.jsx(xs,{className:"w-4 h-4 text-cyan-400"}),o.jsxs("span",{className:"text-sm",children:[d.length," fournisseurs"]})]})]}),d.length===0?o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 flex flex-col items-center justify-center py-12 text-center",children:[o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.5)] to-[rgba(20,100,100,0.5)] backdrop-filter backdrop-blur-[10px] rounded-full p-4 mb-4 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)]",children:o.jsx(xs,{className:"w-8 h-8 text-cyan-400"})}),o.jsx("h3",{className:"text-xl font-medium mb-2 text-white",children:"Aucun fournisseur trouvé"}),o.jsx("p",{className:"max-w-md text-white/70",children:i?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):o.jsx("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:d.map(f=>o.jsx(o$e,{supplier:f,onDelete:c,onViewCatalog:u},f.id))})}),o.jsx(l$e,{open:n,onOpenChange:a})]})})}function u$e(){const{supplierId:e}=$W(),t=uo(),{suppliers:r,getSupplierProducts:n}=b5(),{cartItems:a,addToCart:i,removeFromCart:s,clearCart:l,isCartModalOpen:c,setIsCartModalOpen:u}=fU(),[d,f]=I.useState({}),[h,p]=I.useState(!0),[m,x]=I.useState([]),[g,v]=I.useState("all"),[b,y]=I.useState(""),[_,N]=I.useState(!1),[S,j]=I.useState([]),[A,T]=I.useState(!1),F=r.find(B=>B.id===e);I.useEffect(()=>{A||(console.log("SupplierCatalogPage chargée, supplierId:",e),console.log("URL actuelle:",window.location.pathname),console.log("Fournisseur trouvé:",F),T(!0))},[e,F,A]),I.useEffect(()=>{if(!e||m.length>0)return;console.log("useEffect appelé pour charger les produits"),(async()=>{p(!0);try{console.log("⚡ Chargement des produits pour le fournisseur:",e);const G=await n(e);if(console.log("⚡ Produits reçus:",G),Array.isArray(G)&&G.length>0){x(G),console.log("⚡ Produits définis avec succès:",G.length);const z={};G.forEach(V=>{z[V.id]=V.min_order_quantity||V.minOrder||1}),f(z)}else console.log("⚡ Aucun produit trouvé ou format incorrect:",G),x([]),f({})}catch(G){console.error("❌ Erreur lors du chargement des produits:",G),x([]),f({})}p(!1)})()},[e,n,m.length]),I.useEffect(()=>{if(m.length===0)return;console.log("useEffect appelé pour filtrer les produits");let B=[...m];g!=="all"&&(B=B.filter(G=>G.category===g)),b&&(B=B.filter(G=>G.name.toLowerCase().includes(b.toLowerCase()))),j(B)},[m,g,b]),I.useEffect(()=>{console.log("Cart items:",a),console.log("Products:",m)},[a,m]);const O=B=>{const G=d[B.id]||B.min_order_quantity||B.minOrder||1;console.log("----------------------------------------"),console.log("Adding to cart:"),console.log(`Product ID: ${B.id}`),console.log(`Product Name: ${B.name}`),console.log(`Quantity: ${G}`),console.log("Current cart items:",a),console.log("----------------------------------------"),i(B.id,G)},E=(B,G)=>{f(z=>({...z,[B]:G}))},L=["all",...new Set(m.map(B=>B.category))];return F?o.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[o.jsx(Vx,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:F.name}),o.jsxs("button",{onClick:()=>u(!0),className:"relative p-2 rounded-lg hover:bg-gray-800 transition-colors",children:[o.jsx(K1,{className:"h-6 w-6 text-white hover:text-cyan-400 transition-colors duration-300","aria-hidden":"true"}),a.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-cyan-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:a.length})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"relative w-1/2",children:[o.jsx(Da,{className:"search-icon-fixed left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/50 pointer-events-none z-10","aria-label":"Search icon"}),o.jsx("input",{type:"search",placeholder:"Rechercher un produit...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:b,onChange:B=>y(B.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>N(!_),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",children:["Catégorie: ",g==="all"?"Toutes":g,o.jsx(tf,{className:"h-5 w-5","aria-hidden":"true"})]}),o.jsx(Ir,{children:_&&o.jsx(ke.ul,{className:"absolute top-full right-0 mt-2 rounded-lg bg-gray-800 border border-gray-700 shadow-lg overflow-hidden z-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:L.map(B=>o.jsxs(ke.li,{className:"px-4 py-2 text-white hover:bg-gray-700 transition-colors duration-300 cursor-pointer",onClick:()=>{v(B),N(!1)},whileHover:{backgroundColor:"#4a5568"},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g===B&&o.jsx(Ky,{className:"h-4 w-4 text-cyan-500","aria-hidden":"true"}),o.jsx("span",{children:B==="all"?"Toutes":B})]},B))})})]})]}),h?o.jsx("div",{className:"text-white",children:"Chargement des produits..."}):S.length===0?o.jsxs("div",{className:"text-white",children:["Aucun produit trouvé pour le fournisseur ",o.jsx("strong",{children:F.name})," dans la catégorie ",o.jsx("strong",{children:g}),b&&` avec le terme de recherche ${b}`,"."]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map(B=>{const G=d[B.id]||B.min_order_quantity||B.minOrder||1;return o.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800 p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:B.name}),o.jsx("p",{className:"text-white/70",children:B.description}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsxs("span",{className:"text-cyan-400 font-bold",children:[B.price," ",B.unit]}),o.jsxs("div",{children:[o.jsx("input",{type:"number",min:B.min_order_quantity||B.minOrder||1,className:"w-20 px-2 py-1 rounded-lg bg-gray-700 border border-gray-600 text-white focus:outline-none focus:border-cyan-500 transition-colors duration-300",value:G,onChange:z=>{const V=parseInt(z.target.value,10);E(B.id,V)}}),o.jsx("button",{onClick:()=>O(B),className:"ml-2 px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600 transition-colors duration-300",children:"Ajouter"})]})]})]},B.id)})}),o.jsx(hU,{isOpen:c,onClose:()=>u(!1),items:a,products:m,onRemoveItem:s,onClearCart:l})]}):o.jsxs("div",{className:"container mx-auto px-4 mt-12",children:[o.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-white/70 hover:text-white",children:[o.jsx(Vx,{className:"h-5 w-5","aria-hidden":"true"}),"Retour"]}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Fournisseur non trouvé"})]})}function Mg({children:e,onClick:t,className:r="",style:n}){const[a,i]=K.useState(!1);return o.jsxs(ke.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${r}`,style:n,onClick:t,onHoverStart:()=>i(!0),onHoverEnd:()=>i(!1),whileHover:{y:-4},children:[e,o.jsx(ke.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:a?1:0},transition:{duration:.2}}),o.jsx(ke.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:a?1:0,boxShadow:a?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const d$e=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dc(async()=>{const{default:n}=await Promise.resolve().then(()=>im);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class GC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class f$e extends GC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class h$e extends GC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class p$e extends GC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gj||(Gj={}));var m$e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class x$e{constructor(t,{headers:r={},customFetch:n,region:a=Gj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=d$e(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return m$e(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(l["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(l["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(m=>{throw new f$e(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new h$e(d);if(!d.ok)throw new p$e(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Cs={},YC={},N5={},Fg={},j5={},S5={},g$e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kp=g$e();const v$e=kp.fetch,$U=kp.fetch.bind(kp),zU=kp.Headers,b$e=kp.Request,y$e=kp.Response,im=Object.freeze(Object.defineProperty({__proto__:null,Headers:zU,Request:b$e,Response:y$e,default:$U,fetch:v$e},Symbol.toStringTag,{value:"Module"})),w$e=uM(im);var A5={};Object.defineProperty(A5,"__esModule",{value:!0});let _$e=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};A5.default=_$e;var UU=Ga&&Ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S5,"__esModule",{value:!0});const N$e=UU(w$e),j$e=UU(A5);let S$e=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=N$e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const x=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&x===""?(h=204,p="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new j$e.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,l,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}};S5.default=S$e;var A$e=Ga&&Ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j5,"__esModule",{value:!0});const C$e=A$e(S5);let E$e=class extends C$e.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};j5.default=E$e;var k$e=Ga&&Ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fg,"__esModule",{value:!0});const T$e=k$e(j5);let O$e=class extends T$e.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Fg.default=O$e;var P$e=Ga&&Ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(N5,"__esModule",{value:!0});const ix=P$e(Fg);let D$e=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new ix.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ix.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ix.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new ix.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ix.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};N5.default=D$e;var C5={},E5={};Object.defineProperty(E5,"__esModule",{value:!0});E5.version=void 0;E5.version="0.0.0-automated";Object.defineProperty(C5,"__esModule",{value:!0});C5.DEFAULT_HEADERS=void 0;const I$e=E5;C5.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${I$e.version}`};var HU=Ga&&Ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(YC,"__esModule",{value:!0});const M$e=HU(N5),F$e=HU(Fg),R$e=C5;let L$e=class WU{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},R$e.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new M$e.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new WU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(s="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new F$e.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};YC.default=L$e;var sm=Ga&&Ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.PostgrestError=Cs.PostgrestBuilder=Cs.PostgrestTransformBuilder=Cs.PostgrestFilterBuilder=Cs.PostgrestQueryBuilder=Cs.PostgrestClient=void 0;const VU=sm(YC);Cs.PostgrestClient=VU.default;const qU=sm(N5);Cs.PostgrestQueryBuilder=qU.default;const GU=sm(Fg);Cs.PostgrestFilterBuilder=GU.default;const YU=sm(j5);Cs.PostgrestTransformBuilder=YU.default;const XU=sm(S5);Cs.PostgrestBuilder=XU.default;const KU=sm(A5);Cs.PostgrestError=KU.default;var B$e=Cs.default={PostgrestClient:VU.default,PostgrestQueryBuilder:qU.default,PostgrestFilterBuilder:GU.default,PostgrestTransformBuilder:YU.default,PostgrestBuilder:XU.default,PostgrestError:KU.default};const{PostgrestClient:$$e,PostgrestQueryBuilder:hHe,PostgrestFilterBuilder:pHe,PostgrestTransformBuilder:mHe,PostgrestBuilder:xHe,PostgrestError:gHe}=B$e,z$e="2.11.2",U$e={"X-Client-Info":`realtime-js/${z$e}`},H$e="1.0.0",QU=1e4,W$e=1e3;var Hh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hh||(Hh={}));var Gs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gs||(Gs={}));var pl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pl||(pl={}));var Yj;(function(e){e.websocket="websocket"})(Yj||(Yj={}));var u0;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(u0||(u0={}));class V$e{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class JU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(wn||(wn={}));const OI=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=q$e(s,e,t,a),i),{})},q$e=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?ZU(i,s):Xj(s)},ZU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return K$e(t,r)}switch(e){case wn.bool:return G$e(t);case wn.float4:case wn.float8:case wn.int2:case wn.int4:case wn.int8:case wn.numeric:case wn.oid:return Y$e(t);case wn.json:case wn.jsonb:return X$e(t);case wn.timestamp:return Q$e(t);case wn.abstime:case wn.date:case wn.daterange:case wn.int4range:case wn.int8range:case wn.money:case wn.reltime:case wn.text:case wn.time:case wn.timestamptz:case wn.timetz:case wn.tsrange:case wn.tstzrange:return Xj(t);default:return Xj(t)}},Xj=e=>e,G$e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Y$e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},X$e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},K$e=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>ZU(t,l))}return e},Q$e=e=>typeof e=="string"?e.replace(" ","T"):e,eH=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class aN{constructor(t,r,n={},a=QU){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var PI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(PI||(PI={}));class $x{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$x.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=$x.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=$x.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0),x=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(l[u]=m),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var DI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(DI||(DI={}));var II;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(II||(II={}));var Bc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bc||(Bc={}));class XC{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Gs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new aN(this,pl.join,this.params,this.timeout),this.rejoinTimer=new JU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Gs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pl.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new $x(this),this.broadcastEndpointURL=eH(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Bc.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Bc.CLOSED));const c={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Bc.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let x=0;x<p;x++){const g=h[x],{filter:{event:v,schema:b,table:y,filter:_}}=g,N=d&&d[x];if(N&&N.event===v&&N.schema===b&&N.table===y&&N.filter===_)m.push(Object.assign(Object.assign({},g),{id:N.id}));else{this.unsubscribe(),t==null||t(Bc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Bc.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Bc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pl.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new aN(this,pl.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new aN(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=pl;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,x,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(x=p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var m,x,g,v,b,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,N=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:x,table:g,commit_timestamp:v,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:v,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Gs.closed}_isJoined(){return this.state===Gs.joined}_isJoining(){return this.state===Gs.joining}_isLeaving(){return this.state===Gs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&XC.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pl.close,{},t)}_onError(t){this._on(pl.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=OI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=OI(t.columns,t.old_record)),r}}const J$e=()=>{},Z$e=typeof WebSocket<"u",eze=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tze{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=U$e,this.params={},this.timeout=QU,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=J$e,this.conn=null,this.sendBuffer=[],this.serializer=new V$e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>dc(async()=>{const{default:c}=await Promise.resolve().then(()=>im);return{default:c}},void 0).then(({default:c})=>c(...l)):s=fetch,(...l)=>s(...l)},this.endPoint=`${t}/${Yj.websocket}`,this.httpEndpoint=eH(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new JU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Z$e){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new rze(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),dc(async()=>{const{default:t}=await import("./browser-Mn4cS0po.js").then(r=>r.b);return{default:t}},__vite__mapDeps([2,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H$e}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hh.connecting:return u0.Connecting;case Hh.open:return u0.Open;case Hh.closing:return u0.Closing;default:return u0.Closed}}isConnected(){return this.connectionState()===u0.Open}channel(t,r={config:{}}){const n=new XC(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(pl.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(W$e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pl.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eze],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class rze{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Hh.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class KC extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ai(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nze extends KC{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Kj extends KC{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var aze=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const tH=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dc(async()=>{const{default:n}=await Promise.resolve().then(()=>im);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ize=()=>aze(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dc(()=>Promise.resolve().then(()=>im),void 0)).Response:Response}),Qj=e=>{if(Array.isArray(e))return e.map(r=>Qj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Qj(n)}),t};var bf=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const iN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sze=(e,t,r)=>bf(void 0,void 0,void 0,function*(){const n=yield ize();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new nze(iN(a),e.status||500))}).catch(a=>{t(new Kj(iN(a),a))}):t(new Kj(iN(e),e))}),oze=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Rg(e,t,r,n,a,i){return bf(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,oze(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>sze(c,l,n))})})}function Gy(e,t,r,n){return bf(this,void 0,void 0,function*(){return Rg(e,"GET",t,r,n)})}function Ju(e,t,r,n,a){return bf(this,void 0,void 0,function*(){return Rg(e,"POST",t,n,a,r)})}function lze(e,t,r,n,a){return bf(this,void 0,void 0,function*(){return Rg(e,"PUT",t,n,a,r)})}function cze(e,t,r,n){return bf(this,void 0,void 0,function*(){return Rg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function rH(e,t,r,n,a){return bf(this,void 0,void 0,function*(){return Rg(e,"DELETE",t,n,a,r)})}var Ss=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const uze={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dze{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=tH(a)}uploadOrUpdate(t,r,n,a){return Ss(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},MI),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ai(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ss(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:MI.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ai(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ss(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ju(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new KC("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ss(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ai(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ss(this,void 0,void 0,function*(){try{return{data:{path:(yield Ju(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ai(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ss(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ju(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(ai(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ss(this,void 0,void 0,function*(){try{const a=yield Ju(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(ai(a))return{data:null,error:a};throw a}})}download(t,r){return Ss(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Gy(this.fetch,`${this.url}/${a}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ai(l))return{data:null,error:l};throw l}})}info(t){return Ss(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qj(n),error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}exists(t){return Ss(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield cze(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ai(n)&&n instanceof Kj){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ss(this,void 0,void 0,function*(){try{return{data:yield rH(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ss(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},uze),r),{prefix:t||""});return{data:yield Ju(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ai(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fze="2.7.1",hze={"X-Client-Info":`storage-js/${fze}`};var ch=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class pze{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},hze),r),this.fetch=tH(n)}listBuckets(){return ch(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ai(t))return{data:null,error:t};throw t}})}getBucket(t){return ch(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ch(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ch(this,void 0,void 0,function*(){try{return{data:yield lze(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ch(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ch(this,void 0,void 0,function*(){try{return{data:yield rH(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}}class mze extends pze{constructor(t,r={},n){super(t,r,n)}from(t){return new dze(this.url,this.headers,t,this.fetch)}}const xze="2.48.1";let xx="";typeof Deno<"u"?xx="deno":typeof document<"u"?xx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xx="react-native":xx="node";const gze={"X-Client-Info":`supabase-js-${xx}/${xze}`},vze={headers:gze},bze={schema:"public"},yze={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wze={};var _ze=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Nze=e=>{let t;return e?t=e:typeof fetch>"u"?t=$U:t=fetch,(...r)=>t(...r)},jze=()=>typeof Headers>"u"?zU:Headers,Sze=(e,t,r)=>{const n=Nze(r),a=jze();return(i,s)=>_ze(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var Aze=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Cze(e){return e.replace(/\/$/,"")}function Eze(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>Aze(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const nH="2.67.3",kze="http://localhost:9999",Tze="supabase.auth.token",Oze={"X-Client-Info":`gotrue-js/${nH}`},FI=10,Jj="X-Supabase-Api-Version",aH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Pze(e){return Math.round(Date.now()/1e3)+e}function Dze(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $l=()=>typeof window<"u"&&typeof document<"u",Jd={tested:!1,writable:!1},zx=()=>{if(!$l())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jd.tested)return Jd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jd.tested=!0,Jd.writable=!0}catch{Jd.tested=!0,Jd.writable=!1}return Jd.writable};function Ize(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const iH=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dc(async()=>{const{default:n}=await Promise.resolve().then(()=>im);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Mze=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sH=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},T2=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},O2=async(e,t)=>{await e.removeItem(t)};function Fze(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,s,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)s=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=s<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class k5{constructor(){this.promise=new k5.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}k5.promiseConstructor=Promise;function RI(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Fze(n))}async function Rze(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Lze(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function Bze(e){return("0"+e.toString(16)).substr(-2)}function $ze(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Bze).join("")}async function zze(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function Uze(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hze(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await zze(e);return Uze(r)}async function uh(e,t,r=!1){const n=$ze();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await sH(e,`${t}-code-verifier`,a);const i=await Hze(n);return[i,n===i?"plain":"s256"]}const Wze=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vze(e){const t=e.headers.get(Jj);if(!t||!t.match(Wze))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class QC extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function or(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qze extends QC{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Gze(e){return or(e)&&e.name==="AuthApiError"}class oH extends QC{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yf extends QC{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Yu extends yf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yze(e){return or(e)&&e.name==="AuthSessionMissingError"}class sN extends yf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class P2 extends yf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class D2 extends yf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xze(e){return or(e)&&e.name==="AuthImplicitGrantRedirectError"}class LI extends yf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zj extends yf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function oN(e){return or(e)&&e.name==="AuthRetryableFetchError"}class BI extends yf{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Kze=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const o0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qze=[502,503,504];async function $I(e){var t;if(!Mze(e))throw new Zj(o0(e),0);if(Qze.includes(e.status))throw new Zj(o0(e),e.status);let r;try{r=await e.json()}catch(i){throw new oH(o0(i),i)}let n;const a=Vze(e);if(a&&a.getTime()>=aH["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new BI(o0(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new BI(o0(r),e.status,r.weak_password.reasons);throw new qze(o0(r),e.status||500,n)}const Jze=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function br(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Jj]||(i[Jj]=aH["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Zze(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Zze(e,t,r,n,a,i){const s=Jze(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Zj(o0(c),0)}if(l.ok||await $I(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $I(c)}}function Xu(e){var t;let r=null;nUe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Pze(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zI(e){const t=Xu(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function id(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eUe(e){return{data:e,error:null}}function tUe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=Kze(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function rUe(e){return e}function nUe(e){return e.access_token&&e.refresh_token&&e.expires_in}var aUe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class iUe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iH(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await br(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(or(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await br(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:id})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aUe(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await br(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tUe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(or(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await br(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:id})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await br(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:rUe});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const x=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(or(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await br(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:id})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await br(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:id})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await br(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:id})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await br(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(or(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await br(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}}const sUe={getItem:e=>zx()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zx()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zx()&&globalThis.localStorage.removeItem(e)}};function UI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function oUe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dh={debug:!!(globalThis&&zx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lH extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lUe extends lH{}async function cUe(e,t,r){dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),dh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw dh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lUe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}oUe();const uUe={url:kze,storageKey:Tze,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oze,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},sx=30*1e3,HI=3;async function WI(e,t,r){return await r()}class Y1{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Y1.nextInstanceID,Y1.nextInstanceID+=1,this.instanceID>0&&$l()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},uUe),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new iUe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=iH(a.fetch),this.lock=a.lock||WI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:$l()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cUe:this.lock=WI,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:zx()?this.storage=sUe:(this.memoryStorage={},this.storage=UI(this.memoryStorage)):(this.memoryStorage={},this.storage=UI(this.memoryStorage)),$l()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nH}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Ize(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),$l()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Xze(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return or(r)?{error:r}:{error:new oH("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Xu}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await uh(this.storage,this.storageKey)),i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Xu})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await br(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xu})}else throw new P2("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zI})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await br(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zI})}else throw new P2("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sN}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await T2(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await br(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xu});if(await O2(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sN}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(or(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await br(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xu}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sN}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await uh(this.storage,this.storageKey));const{error:f}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await br(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new P2("You must provide either an email or phone number.")}catch(l){if(or(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await br(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Xu});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await uh(this.storage,this.storageKey)),await br(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:eUe})}catch(i){if(or(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yu;const{error:a}=await br(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(or(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await br(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await br(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new P2("You must provide either an email or phone number and a type")}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await T2(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:id}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yu}:await br(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:id})})}catch(r){if(or(r))return Yze(r)&&(await this._removeSession(),await O2(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Yu;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await uh(this.storage,this.storageKey));const{data:u,error:d}=await br(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:id});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(or(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return RI(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yu;const r=Date.now()/1e3;let n=r,a=!0,i=null;const s=RI(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(or(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yu;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!$l())throw new D2("No browser detected.");if(t.error||t.error_description||t.error_code)throw new D2(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new LI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new D2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LI("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new D2("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=sx&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:x,error:g}=await this._getUser(i);if(g)throw g;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(or(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await T2(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(Gze(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await O2(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Dze(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await uh(this.storage,this.storageKey,!0));try{return await br(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(or(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await br(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return $l()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(or(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await br(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Lze(async a=>(a>0&&await Rze(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await br(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xu})),(a,i)=>{const s=200*Math.pow(2,a);return i&&oN(i)&&Date.now()+s-n<sx})}catch(n){if(this._debug(r,"error",n),or(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$l()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await T2(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+FI;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${FI}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),oN(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new k5;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Yu;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),or(i)){const s={session:null,error:i};return oN(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sH(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await O2(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$l()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sx);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/sx);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${sx}ms, refresh threshold is ${HI} ticks`),a<=HI&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lH)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$l()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await uh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await br(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await br(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(or(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:l}=await br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await br(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(or(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(a.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}Y1.nextInstanceID=0;const dUe=Y1;class fUe extends dUe{constructor(t){super(t)}}var hUe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class pUe{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Cze(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:bze,realtime:wze,auth:Object.assign(Object.assign({},yze),{storageKey:c}),global:vze},d=Eze(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Sze(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new $$e(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new x$e(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mze(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return hUe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fUe({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new tze(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mUe=(e,t,r)=>new pUe(e,t,r),xUe="https://rmockgbhcxrgqpeejrry.supabase.co",gUe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",Zd=mUe(xUe,gUe);function vUe(){const e=lM(),{addNotification:t}=Yo(),{data:r=[],isLoading:n}=oS({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(l){return console.error("Error fetching supplier orders:",l),[]}}}),a=gx({mutationFn:async l=>{const{data:c}=await Zd.from("supplier_products").select("id, price").in("id",l.products.map(h=>h.id)),u=l.products.reduce((h,p)=>{const m=c==null?void 0:c.find(x=>x.id===p.id);return h+((m==null?void 0:m.price)||0)*p.quantity},0),{data:d,error:f}=await Zd.from("supplier_orders").insert([{...l,status:"pending",total_amount:u}]).select().single();if(f)throw f;return t({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),d},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}}),i=gx({mutationFn:async({id:l,...c})=>{const{data:u,error:d}=await Zd.from("supplier_orders").update(c).eq("id",l).select().single();if(d)throw d;if(c.status==="completed"){const f=await Zd.from("supplier_orders").select("*").eq("id",l).single();if(f.data)for(const h of f.data.products)await Zd.rpc("update_stock",{product_id:h.id,quantity:h.quantity,storage_location:c.storage_location,expiry_date:c.expiry_date});t({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return u},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}}),s=gx({mutationFn:async({order_id:l,content:c})=>{var f;const{data:u,error:d}=await Zd.from("supplier_order_comments").insert([{order_id:l,content:c,user_id:(f=(await Zd.auth.getUser()).data.user)==null?void 0:f.id}]).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:r,isLoading:n,createOrder:a,updateOrder:i,addComment:s}}const VI=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function bUe(){const{orders:e,isLoading:t,updateOrder:r}=vUe(),[n,a]=K.useState(null);K.useState(!1),Yo();const[i,s]=I.useState("");return I.useState(null),VI.filter(l=>l.name.toLowerCase().includes(i.toLowerCase())||l.description.toLowerCase().includes(i.toLowerCase())||l.products.some(c=>c.toLowerCase().includes(i.toLowerCase()))),t?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):o.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:o.jsx(Gt,{size:24})})})]}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:i,onChange:l=>s(l.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),o.jsx(Da,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>{const c=VI.find(f=>f.id===l.supplier_id),u=l.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":l.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":l.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":l.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",d=l.status==="pending"?"Envoyé":l.status==="accepted"?"Validé":l.status==="delivering"?"En cours de livraison":l.status==="completed"?"Reçu":"Refusé";return o.jsx(Mg,{onClick:()=>a(l.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:(c==null?void 0:c.name)||"Fournisseur"}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u}`,children:d})]}),o.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[o.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(l.created_at).toLocaleDateString("fr-FR")]}),o.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",l.total_amount.toFixed(2),"€"]})]}),o.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[o.jsxs("p",{className:"text-sm font-medium text-white/70",children:[l.products.length," produit",l.products.length>1?"s":""]}),o.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.products.slice(0,2).map(f=>o.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[f.quantity,"× ",f.name]},f.id)),l.products.length>2&&o.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",l.products.length-2," autre",l.products.length-2>1?"s":""]})]})]}),l.comments&&l.comments.length>0&&o.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[o.jsx(hc,{size:14,className:"mr-1"}),l.comments.length," commentaire",l.comments.length>1?"s":""]})]})},l.id)})})]})]})})}const yUe=({onClose:e,onUpload:t})=>{const[r,n]=I.useState(""),[a,i]=I.useState(null),[s,l]=I.useState(!1),[c,u]=I.useState(""),d=I.useRef(null),f=x=>{if(x.target.files&&x.target.files[0]){const g=x.target.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}i(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}},h=x=>{if(x.preventDefault(),!r.trim()){u("Veuillez saisir un titre pour le document.");return}if(!a){u("Veuillez sélectionner un fichier.");return}t(r,a,s)},p=x=>{x.preventDefault()},m=x=>{if(x.preventDefault(),x.dataTransfer.files&&x.dataTransfer.files[0]){const g=x.dataTransfer.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}i(g),u(""),r||n(g.name.replace(/\.[^/.]+$/,""))}};return o.jsx(Ir,{children:o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:o.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:o.jsx(Gt,{size:20})})]}),o.jsxs("form",{onSubmit:h,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),o.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:r,onChange:x=>n(x.target.value)})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var x;return(x=d.current)==null?void 0:x.click()},onDragOver:p,onDrop:m,children:[a?o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(io,{size:40,className:"text-blue-500 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(a.size/1024/1024).toFixed(2)," MB"]}),o.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:x=>{x.stopPropagation(),i(null),d.current&&(d.current.value="")},children:"Changer de fichier"})]}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Uo,{size:40,className:"text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),o.jsx("input",{ref:d,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:f})]})}),o.jsx("div",{className:"mb-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:s,onChange:x=>l(x.target.checked)}),o.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),c&&o.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),o.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!a||!r.trim(),children:"Enregistrer"})]})]})]})})})},wUe=({documents:e,onDelete:t})=>{if(e.length===0)return o.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[o.jsx(IE,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),o.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const r=n=>{const a=URL.createObjectURL(n.file),i=window.document.createElement("a");i.style.display="none",i.href=a,i.download=n.title+"."+n.file.name.split(".").pop(),window.document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),window.document.body.removeChild(i)};return o.jsx("div",{className:"space-y-4",children:e.map(n=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:o.jsx(IE,{size:24,className:"text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[n.title,n.isRequired&&o.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[o.jsx(Ky,{size:12,className:"mr-1"}),"Obligatoire"]})]}),o.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[o.jsx(Oa,{size:14,className:"mr-1"}),o.jsxs("span",{children:["Ajouté le ",er(new Date(n.date),"dd MMMM yyyy",{locale:xn})]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>r(n),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:o.jsx(Ho,{size:18})}),o.jsx("button",{onClick:()=>t(n.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:o.jsx(Ei,{size:18})})]})]},n.id))})};var _Ue=Object.defineProperty,Yy=Object.getOwnPropertySymbols,cH=Object.prototype.hasOwnProperty,uH=Object.prototype.propertyIsEnumerable,qI=(e,t,r)=>t in e?_Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eS=(e,t)=>{for(var r in t||(t={}))cH.call(t,r)&&qI(e,r,t[r]);if(Yy)for(var r of Yy(t))uH.call(t,r)&&qI(e,r,t[r]);return e},tS=(e,t)=>{var r={};for(var n in e)cH.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Yy)for(var n of Yy(e))t.indexOf(n)<0&&uH.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ef;(e=>{const t=class pr{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<pr.MIN_VERSION||c>pr.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let m=0;m<this.size;m++)h.push(!1);for(let m=0;m<this.size;m++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),f==-1){let m=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const g=this.getPenaltyScore();g<m&&(f=x,m=g),this.applyMask(x)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return pr.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return pr.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,p=!0){if(!(pr.MIN_VERSION<=d&&d<=f&&f<=pr.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let m,x;for(m=d;;m++){const y=pr.getNumDataCodewords(m,u)*8,_=s.getTotalBits(c,m);if(_<=y){x=_;break}if(m>=f)throw new RangeError("Data too long")}for(const y of[pr.Ecc.MEDIUM,pr.Ecc.QUARTILE,pr.Ecc.HIGH])p&&x<=pr.getNumDataCodewords(m,y)*8&&(u=y);let g=[];for(const y of c){r(y.mode.modeBits,4,g),r(y.numChars,y.mode.numCharCountBits(m),g);for(const _ of y.getData())g.push(_)}a(g.length==x);const v=pr.getNumDataCodewords(m,u)*8;a(g.length<=v),r(0,Math.min(4,v-g.length),g),r(0,(8-g.length%8)%8,g),a(g.length%8==0);for(let y=236;g.length<v;y^=253)r(y,8,g);let b=[];for(;b.length*8<g.length;)b.push(0);return g.forEach((y,_)=>b[_>>>3]|=y<<7-(_&7)),new pr(m,u,b,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;a(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,n(f,h));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,n(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,n(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,n(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const f=n(u,d),h=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(h,p,f),this.setFunctionModule(p,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),p=c+f,m=u+d;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=pr.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=pr.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=pr.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(pr.getNumRawDataModules(u)/8),m=f-p%f,x=Math.floor(p/f);let g=[];const v=pr.reedSolomonComputeDivisor(h);for(let y=0,_=0;y<f;y++){let N=c.slice(_,_+x-h+(y<m?0:1));_+=N.length;const S=pr.reedSolomonComputeRemainder(N,v);y<m&&N.push(0),g.push(N.concat(S))}let b=[];for(let y=0;y<g[0].length;y++)g.forEach((_,N)=>{(y!=x-h||N>=m)&&b.push(_[y])});return a(b.length==p),b}drawCodewords(c){if(c.length!=Math.floor(pr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const p=d-h,x=(d+1&2)==0?this.size-1-f:f;!this.isFunction[x][p]&&u<c.length*8&&(this.modules[x][p]=n(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[h][g]==p?(m++,m==5?c+=pr.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*pr.PENALTY_N3),p=this.modules[h][g],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*pr.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,m=0,x=[0,0,0,0,0,0,0];for(let g=0;g<this.size;g++)this.modules[g][h]==p?(m++,m==5?c+=pr.PENALTY_N1:m>5&&c++):(this.finderPenaltyAddHistory(m,x),p||(c+=this.finderPenaltyCountPatterns(x)*pr.PENALTY_N3),p=this.modules[g][h],m=1);c+=this.finderPenaltyTerminateAndCount(p,m,x)*pr.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const m=this.modules[h][p];m==this.modules[h][p+1]&&m==this.modules[h+1][p]&&m==this.modules[h+1][p+1]&&(c+=pr.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((p,m)=>p+(m?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=f&&f<=9),c+=f*pr.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<pr.MIN_VERSION||c>pr.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(pr.getNumRawDataModules(c)/8)-pr.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*pr.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=pr.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=pr.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((p,m)=>d[m]^=pr.reedSolomonMultiply(p,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class Kn{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new Kn(Kn.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Kn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new Kn(Kn.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Kn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=Kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=Kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(f,11,u)}return d<c.length&&r(Kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Kn(Kn.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Kn.isNumeric(c)?[Kn.makeNumeric(c)]:Kn.isAlphanumeric(c)?[Kn.makeAlphanumeric(c)]:[Kn.makeBytes(Kn.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Kn(Kn.Mode.ECI,0,u)}static isNumeric(c){return Kn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Kn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=i;e.QrSegment=i})(ef||(ef={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(ef||(ef={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(ef||(ef={}));var kh=ef;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var NUe={L:kh.QrCode.Ecc.LOW,M:kh.QrCode.Ecc.MEDIUM,Q:kh.QrCode.Ecc.QUARTILE,H:kh.QrCode.Ecc.HIGH},dH=128,fH="L",hH="#FFFFFF",pH="#000000",mH=!1,xH=1,jUe=4,SUe=0,AUe=.1;function gH(e,t=0){const r=[];return e.forEach(function(n,a){let i=null;n.forEach(function(s,l){if(!s&&i!==null){r.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===n.length-1){if(!s)return;i===null?r.push(`M${l+t},${a+t} h1v1H${l+t}z`):r.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}s&&i===null&&(i=l)})}),r.join("")}function vH(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function CUe(e,t,r,n){if(n==null)return null;const a=e.length+r*2,i=Math.floor(t*AUe),s=a/t,l=(n.width||i)*s,c=(n.height||i)*s,u=n.x==null?e.length/2-l/2:n.x*s,d=n.y==null?e.length/2-c/2:n.y*s,f=n.opacity==null?1:n.opacity;let h=null;if(n.excavate){let m=Math.floor(u),x=Math.floor(d),g=Math.ceil(l+u-m),v=Math.ceil(c+d-x);h={x:m,y:x,w:g,h:v}}const p=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:p}}function EUe(e,t){return t!=null?Math.max(Math.floor(t),0):e?jUe:SUe}function bH({value:e,level:t,minVersion:r,includeMargin:n,marginSize:a,imageSettings:i,size:s,boostLevel:l}){let c=K.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((x,g)=>(x.push(...kh.QrSegment.makeSegments(g)),x),[]);return kh.QrCode.encodeSegments(m,NUe[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=K.useMemo(()=>{let p=c.getModules();const m=EUe(n,a),x=p.length+m*2,g=CUe(p,s,m,i);return{cells:p,margin:m,numCells:x,calculatedImageSettings:g}},[c,s,i,n,a]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var kUe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),TUe=K.forwardRef(function(t,r){const n=t,{value:a,size:i=dH,level:s=fH,bgColor:l=hH,fgColor:c=pH,includeMargin:u=mH,minVersion:d=xH,boostLevel:f,marginSize:h,imageSettings:p}=n,x=tS(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:g}=x,v=tS(x,["style"]),b=p==null?void 0:p.src,y=K.useRef(null),_=K.useRef(null),N=K.useCallback(B=>{y.current=B,typeof r=="function"?r(B):r&&(r.current=B)},[r]),[S,j]=K.useState(!1),{margin:A,cells:T,numCells:F,calculatedImageSettings:O}=bH({value:a,level:s,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:p,size:i});K.useEffect(()=>{if(y.current!=null){const B=y.current,G=B.getContext("2d");if(!G)return;let z=T;const V=_.current,Y=O!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;Y&&O.excavation!=null&&(z=vH(T,O.excavation));const U=window.devicePixelRatio||1;B.height=B.width=i*U;const ae=i/F*U;G.scale(ae,ae),G.fillStyle=l,G.fillRect(0,0,F,F),G.fillStyle=c,kUe?G.fill(new Path2D(gH(z,A))):T.forEach(function(he,k){he.forEach(function(P,R){P&&G.fillRect(R+A,k+A,1,1)})}),O&&(G.globalAlpha=O.opacity),Y&&G.drawImage(V,O.x+A,O.y+A,O.w,O.h)}}),K.useEffect(()=>{j(!1)},[b]);const E=eS({height:i,width:i},g);let L=null;return b!=null&&(L=K.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:()=>{j(!0)},ref:_,crossOrigin:O==null?void 0:O.crossOrigin})),K.createElement(K.Fragment,null,K.createElement("canvas",eS({style:E,height:i,width:i,ref:N,role:"img"},v)),L)});TUe.displayName="QRCodeCanvas";var yH=K.forwardRef(function(t,r){const n=t,{value:a,size:i=dH,level:s=fH,bgColor:l=hH,fgColor:c=pH,includeMargin:u=mH,minVersion:d=xH,boostLevel:f,title:h,marginSize:p,imageSettings:m}=n,x=tS(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:v,numCells:b,calculatedImageSettings:y}=bH({value:a,level:s,minVersion:d,boostLevel:f,includeMargin:u,marginSize:p,imageSettings:m,size:i});let _=v,N=null;m!=null&&y!=null&&(y.excavation!=null&&(_=vH(v,y.excavation)),N=K.createElement("image",{href:m.src,height:y.h,width:y.w,x:y.x+g,y:y.y+g,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const S=gH(_,g);return K.createElement("svg",eS({height:i,width:i,viewBox:`0 0 ${b} ${b}`,ref:r,role:"img"},x),!!h&&K.createElement("title",null,h),K.createElement("path",{fill:l,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),K.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),N)});yH.displayName="QRCodeSVG";const OUe=({documents:e,onClose:t})=>{const[r,n]=I.useState("");I.useEffect(()=>{if(e.length>0){const i=e.map(s=>({id:s.id,title:s.title,type:s.file.type,size:s.file.size,required:s.isRequired}));n(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:i,expiry:Date.now()+36e5}))}},[e]);const a=()=>{const i=window.document.getElementById("qr-code-svg");if(i){const s=window.document.createElement("canvas"),l=s.getContext("2d"),c=new XMLSerializer().serializeToString(i),u=new Image;u.onload=()=>{s.width=200,s.height=200,l==null||l.drawImage(u,0,0,200,200);const d=s.toDataURL("image/png"),f=window.document.createElement("a");f.href=d,f.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(f),f.click(),window.document.body.removeChild(f)},u.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};return o.jsx(Ir,{children:o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:o.jsx("div",{className:"flex justify-center",children:o.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:o.jsx(Gt,{size:20})})]}),e.length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Z1,{size:60,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"p-4 bg-white rounded-lg",children:o.jsx(yH,{id:"qr-code-svg",value:r,size:200,level:"H",includeMargin:!0})})}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Wx,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),o.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:e.map(i=>o.jsx("li",{children:i.title},i.id))})]})]})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx(Ho,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})})})})},PUe=()=>{const[e,t]=I.useState([]);return I.useEffect(()=>{(async()=>{})()},[]),{documents:e,addDocument:i=>{t(s=>[...s,i])},deleteDocument:i=>{t(s=>s.filter(l=>l.id!==i))},updateDocument:(i,s)=>{t(l=>l.map(c=>c.id===i?{...c,...s}:c))}}},DUe=()=>{const{documents:e,addDocument:t,deleteDocument:r}=PUe(),[n,a]=I.useState(!1),[i,s]=I.useState(!1),[l,c]=I.useState(""),u=e.filter(d=>d.title.toLowerCase().includes(l.toLowerCase()));return o.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[o.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[o.jsx(eb,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Coffre fort numérique"]}),o.jsx("p",{className:"text-white/70 md:hidden",children:"Stockez et gérez vos documents importants en toute sécurité"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter un document",children:[o.jsx(Uo,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:"Ajouter un document"})]}),o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Générer QR Code",children:[o.jsx(Z1,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:"Générer QR Code"})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("p",{className:"text-white/70 hidden md:block mb-6",children:"Stockez et gérez vos documents importants en toute sécurité"}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Da,{className:"absolute left-3 top-3 text-white/60",size:18,style:{top:"26%"},"aria-label":"Search icon"}),o.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:border-cyan-400/30 focus:ring-2 focus:ring-cyan-500/40 shadow-[0_2px_8px_rgba(0,0,0,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300",value:l,onChange:d=>c(d.target.value),"aria-label":"Rechercher un document"})]})}),u.length>0?o.jsx(wUe,{documents:u,onDelete:r}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:o.jsx(eb,{className:"w-8 h-8 text-cyan-400"})}),o.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Votre coffre-fort est vide"}),o.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez à ajouter des documents pour les protéger et y accéder à tout moment."}),o.jsxs("button",{onClick:()=>a(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Ajouter votre premier document",children:[o.jsx(Uo,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:"Ajouter votre premier document"})]})]})]})]}),n&&o.jsx(yUe,{onClose:()=>a(!1),onUpload:(d,f)=>{t({id:Date.now().toString(),title:d,file:f,date:new Date().toISOString()}),a(!1)}}),i&&o.jsx(OUe,{documents:e.filter(d=>d.isRequired),onClose:()=>s(!1)})]})};function IUe({onSelectContact:e}){const[t,r]=I.useState(""),[n,a]=I.useState(null),i=BC.filter(s=>s.name.toLowerCase().includes(t.toLowerCase()));return o.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),o.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:o.jsx(gr,{size:18})})]}),o.jsx("div",{className:"p-3 sm:p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:t,onChange:s=>r(s.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),o.jsx(Da,{className:"absolute left-3 transform -translate-y-1/2 text-white/40",style:{top:"33%"},"aria-label":"Search icon",size:16})]})}),n?o.jsx("div",{className:"flex-1",children:o.jsx(Hz,{contactId:n,onClose:()=>a(null)})}):o.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-white/10",children:i.length>0?o.jsx("div",{className:"space-y-0.5",children:i.map(s=>o.jsx("div",{onClick:()=>{a(s.id),e&&e(s.id)},className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",tabIndex:0,role:"button","aria-label":`Conversation avec ${s.name}`,children:o.jsxs("div",{className:"flex items-center justify-between pointer-events-none",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsxs("div",{className:"relative",children:[s.avatar?o.jsx("img",{src:s.avatar,alt:s.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:o.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:s.name.substring(0,1)})}),s.online&&o.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:s.name}),s.lastMessage&&o.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:s.lastMessage})]})]}),o.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[s.lastMessageTime&&o.jsx("span",{className:"text-xs text-white/40",children:s.lastMessageTime}),s.unreadCount>0&&o.jsx("span",{className:"bg-brand-primary text-white text-xs rounded-full px-1.5 py-0.5 min-w-[20px] text-center",children:s.unreadCount})]})]})},s.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[o.jsx(hc,{size:36,className:"mb-3 opacity-30"}),o.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function MUe(){const e=uo(),t=()=>{e(-1)};return o.jsxs("div",{className:"h-full flex flex-col bg-background text-white",children:[o.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:o.jsx(Vx,{size:18,className:"sm:w-5 sm:h-5"})}),o.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),o.jsx("div",{className:"flex-1 flex w-full",children:o.jsx(IUe,{})})]})}function FUe(){const[e,t]=I.useState(null),[r,n]=I.useState(!1),[a,i]=I.useState(null),[s,l]=I.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"75kg",arrivalDate:"2025-03-02",expiryDate:"2025-03-15"},{id:"F2-02",name:"Coques",quantity:"30kg",arrivalDate:"2025-03-03",expiryDate:"2025-03-10"}],"Chambre froide":[{id:"CF-01",name:"Huîtres Plates",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-03-05"},{id:"CF-02",name:"Moules",quantity:"80kg",arrivalDate:"2025-02-22",expiryDate:"2025-03-08"}]}),c=d=>{i({...d}),n(!0)},u=()=>{if(a&&e){const d={...s},f=d[e],h=f.findIndex(p=>p.id===a.id);h!==-1&&(f[h]=a,l(d)),n(!1),i(null)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(s).map(([d,f])=>o.jsxs(Mg,{onClick:()=>t(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:d}),o.jsxs("p",{className:"text-sm text-white/60",children:[f.length," produits"]})]}),o.jsx(ro,{className:"w-5 h-5 text-teal-400"})]}),o.jsx("div",{className:"space-y-2",children:f.map(h=>o.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-white",children:h.name}),o.jsx("button",{onClick:p=>{p.stopPropagation(),c(h)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Os,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.jsx("span",{className:"text-sm text-white/60",children:h.quantity}),o.jsxs("span",{className:"text-xs text-white/40",children:["Exp. ",new Date(h.expiryDate).toLocaleDateString("fr-FR")]})]})]},h.id))})]},d))}),r&&a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le produit"}),o.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Gt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du produit"}),o.jsx(tr,{value:a.name,onChange:d=>i({...a,name:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),o.jsx(tr,{value:a.quantity,onChange:d=>i({...a,quantity:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),o.jsx(tr,{type:"date",value:a.expiryDate,onChange:d=>i({...a,expiryDate:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),o.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[o.jsx(rf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const RUe=[{id:"1",date:"2025-03-15",supplier:"Fournisseur A",products:[{name:"Huîtres Fines de Claire",quantity:"100kg",price:800},{name:"Huîtres Spéciales",quantity:"50kg",price:500}],totalAmount:1300,status:"completed"}];function LUe(){const[e,t]=I.useState(RUe),[r,n]=I.useState(null),[a,i]=I.useState(!1),[s,l]=I.useState(null),c=d=>{l({...d}),i(!0)},u=()=>{if(s){const d=e.map(f=>f.id===s.id?s:f);t(d),i(!1),l(null)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>o.jsxs("div",{onClick:()=>n(d),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:d.supplier}),o.jsx("p",{className:"text-sm text-white/60",children:new Date(d.date).toLocaleDateString("fr-FR")})]}),o.jsx("button",{onClick:f=>{f.stopPropagation(),c(d)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Os,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-2",children:[d.products.map((f,h)=>o.jsxs("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-white",children:f.name}),o.jsx("span",{className:"text-sm text-white/60",children:f.quantity})]}),o.jsx("div",{className:"flex justify-end mt-1",children:o.jsxs("span",{className:"text-sm text-teal-400",children:[f.price,"€"]})})]},h)),o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Total"}),o.jsxs("span",{className:"text-sm font-medium text-white",children:[d.totalAmount,"€"]})]})})]})]},d.id))}),a&&s&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier l'achat"}),o.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Gt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),o.jsx(tr,{value:s.supplier,onChange:d=>l({...s,supplier:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),o.jsx(tr,{type:"date",value:s.date,onChange:d=>l({...s,date:d.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),s.products.map((d,f)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-white/80 mb-1",children:["Produit ",f+1]}),o.jsx(tr,{value:d.name,onChange:h=>{const p=[...s.products];p[f]={...d,name:h.target.value},l({...s,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40 mb-2",placeholder:"Nom du produit"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(tr,{value:d.quantity,onChange:h=>{const p=[...s.products];p[f]={...d,quantity:h.target.value},l({...s,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Quantité"}),o.jsx(tr,{type:"number",value:d.price,onChange:h=>{const p=[...s.products];p[f]={...d,price:Number(h.target.value)},l({...s,products:p})},className:"bg-white/5 border-white/10 text-white placeholder-white/40",placeholder:"Prix"})]})]},f)),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),o.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[o.jsx(rf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const GI=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function BUe(){const[e,t]=I.useState(""),[r,n]=I.useState("all"),[a,i]=I.useState({start:"",end:""}),[s,l]=I.useState(null),[c,u]=I.useState(!1),[d,f]=I.useState(null),h=y=>{l(y)},p=y=>{f({...y}),u(!0)},m=()=>{d&&(GI.map(y=>y.id===d.id?d:y),u(!1),f(null))},x=GI.filter(y=>{const _=y.number.toLowerCase().includes(e.toLowerCase())||y.supplier.toLowerCase().includes(e.toLowerCase())||y.products.toLowerCase().includes(e.toLowerCase()),N=r==="all"||y.type===r,S=(!a.start||y.date>=a.start)&&(!a.end||y.date<=a.end);return _&&N&&S}),g=y=>{switch(y){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},v=y=>{switch(y){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return y}},b=y=>new Date(y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Da,{className:"h-5 w-5 text-white/40"})}),o.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:e,onChange:y=>t(y.target.value)})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-48",children:o.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:r,onChange:y=>n(y.target.value),children:[o.jsx("option",{value:"all",children:"Tous les documents"}),o.jsx("option",{value:"invoice",children:"Factures"}),o.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),o.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(Ho,{size:20,className:"mr-2"}),"Exporter"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),o.jsx("input",{type:"date",value:a.start,onChange:y=>i(_=>({..._,start:y.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),o.jsx("input",{type:"date",value:a.end,onChange:y=>i(_=>({..._,end:y.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),o.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[o.jsx(qi,{size:20,className:"mr-2"}),"Filtrer"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(y=>o.jsxs(Mg,{onClick:()=>l(y),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:y.number}),o.jsx("p",{className:"text-sm text-white/60",children:y.supplier})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:_=>{_.stopPropagation(),h(y)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Wc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:_=>{_.stopPropagation(),p(y)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Os,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Date"}),o.jsx("span",{className:"text-sm font-medium text-white",children:b(y.date)})]})}),o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Produits"}),o.jsx("span",{className:"text-sm font-medium text-white",children:y.products})]})}),y.type==="invoice"&&o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Montant"}),o.jsx("span",{className:"text-sm font-medium text-white",children:y.amount})]})}),o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Statut"}),o.jsx("span",{className:`text-sm font-medium ${g(y.status)}`,children:v(y.status)})]})})]})]},y.id))}),c&&d&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le document"}),o.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Gt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro"}),o.jsx(tr,{value:d.number,onChange:y=>f({...d,number:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Fournisseur"}),o.jsx(tr,{value:d.supplier,onChange:y=>f({...d,supplier:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date"}),o.jsx(tr,{type:"date",value:d.date,onChange:y=>f({...d,date:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),d.type==="invoice"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Montant"}),o.jsx(tr,{type:"number",value:d.amount,onChange:y=>f({...d,amount:y.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),o.jsxs("select",{value:d.status,onChange:y=>f({...d,status:y.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",children:[o.jsx("option",{value:"validated",children:"Validé"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"rejected",children:"Rejeté"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),o.jsxs("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[o.jsx(rf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})}const $Ue=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],zUe={movement:fi,treatment:io,quality_check:d0,alert:Ai},lN={movement:"bg-emerald-400/20 text-emerald-300",treatment:"bg-emerald-500/20 text-emerald-300",quality_check:"bg-emerald-600/20 text-emerald-300",alert:"bg-emerald-700/20 text-emerald-300"};function UUe({searchQuery:e}){const t=$Ue.filter(r=>r.batchNumber.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase()));return o.jsxs("div",{className:"glass-effect rounded-xl overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-emerald-400/30",children:o.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),o.jsx("div",{className:"divide-y divide-white/10",children:t.map(r=>{const n=zUe[r.type];return o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg ${lN[r.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:o.jsx(n,{size:20,className:lN[r.type].split(" ")[1]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h4",{className:"text-lg font-medium text-white truncate",children:r.batchNumber}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${lN[r.type]}`,children:r.type==="movement"?"Déplacement":r.type==="treatment"?"Traitement":r.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),o.jsx("p",{className:"text-white/70 mt-1",children:r.description}),r.details&&o.jsxs("div",{className:"mt-2 space-y-1",children:[r.details.from&&r.details.to&&o.jsxs("div",{className:"text-sm text-white/60",children:["De: ",r.details.from," → Vers: ",r.details.to]}),r.details.treatment&&o.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",r.details.treatment]}),r.details.score&&o.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",r.details.score,"%"]}),r.details.issue&&o.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",r.details.issue]})]}),o.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(gd,{size:16,className:"mr-1"}),er(new Date(r.date),"PPp",{locale:xn})]}),o.jsx("div",{children:"•"}),o.jsxs("div",{children:["Par: ",r.user]})]})]})]})},r.id)})})]})}function HUe(){const[e,t]=I.useState(null),[r,n]=I.useState(!1),[a,i]=I.useState(null),[s,l]=I.useState([{id:"1",name:"Bassin A1",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.5,salinity:35.2,lastMaintenance:"2025-03-01",nextMaintenance:"2025-03-15",currentBatch:{id:"B1",name:"Huîtres Fines de Claire",quantity:"200kg",startDate:"2025-03-10",endDate:"2025-03-13"}},{id:"2",name:"Bassin A2",filterType:"UV + Mécanique",filterStatus:"active",temperature:12.8,salinity:34.9,lastMaintenance:"2025-03-05",nextMaintenance:"2025-03-19",currentBatch:{id:"B2",name:"Huîtres Spéciales",quantity:"150kg",startDate:"2025-03-11",endDate:"2025-03-14"}},{id:"3",name:"Bassin B1",filterType:"UV + Mécanique",filterStatus:"maintenance",temperature:0,salinity:0,lastMaintenance:"2025-03-12",nextMaintenance:"2025-03-13"}]),c=h=>{i({...h}),n(!0)},u=()=>{if(a){const h=s.map(p=>p.id===a.id?a:p);l(h),n(!1),i(null)}},d=h=>{switch(h){case"active":return o.jsx(Pp,{className:"w-5 h-5 text-green-500"});case"inactive":return o.jsx(aM,{className:"w-5 h-5 text-red-500"});case"maintenance":return o.jsx(Ua,{className:"w-5 h-5 text-yellow-500"})}},f=h=>{switch(h){case"active":return"Actif";case"inactive":return"Inactif";case"maintenance":return"En maintenance"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(h=>o.jsxs(Mg,{onClick:()=>t(h),className:"p-4 cursor-pointer hover:shadow-lg transition-shadow bg-white/5 backdrop-blur-sm border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:h.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d(h.filterStatus),o.jsx("span",{className:"text-sm text-white/60",children:f(h.filterStatus)})]})]}),o.jsx("button",{onClick:p=>{p.stopPropagation(),c(h)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Os,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[o.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Température"}),o.jsxs("div",{className:"font-medium text-white",children:[h.temperature,"°C"]})]}),o.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[o.jsx("div",{className:"text-xs text-teal-400 mb-1",children:"Salinité"}),o.jsxs("div",{className:"font-medium text-white",children:[h.salinity,"g/L"]})]})]}),h.currentBatch&&o.jsxs("div",{className:"bg-white/5 p-2 rounded-md border border-white/10",children:[o.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Lot en cours"}),o.jsx("div",{className:"font-medium text-white",children:h.currentBatch.name}),o.jsxs("div",{className:"text-sm text-white/60 mt-1",children:[h.currentBatch.quantity," • ",new Date(h.currentBatch.endDate).toLocaleDateString("fr-FR")]})]})]})]},h.id))}),r&&a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-lg p-6 max-w-md w-full border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le bassin"}),o.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Gt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Nom du bassin"}),o.jsx(tr,{value:a.name,onChange:h=>i({...a,name:h.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type de filtration"}),o.jsx(tr,{value:a.filterType,onChange:h=>i({...a,filterType:h.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Statut"}),o.jsxs("select",{value:a.filterStatus,onChange:h=>i({...a,filterStatus:h.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[o.jsx("option",{value:"active",children:"Actif"}),o.jsx("option",{value:"inactive",children:"Inactif"}),o.jsx("option",{value:"maintenance",children:"En maintenance"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Température (°C)"}),o.jsx(tr,{type:"number",step:"0.1",value:a.temperature,onChange:h=>i({...a,temperature:parseFloat(h.target.value)}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Salinité (g/L)"}),o.jsx(tr,{type:"number",step:"0.1",value:a.salinity,onChange:h=>i({...a,salinity:parseFloat(h.target.value)}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Dernière maintenance"}),o.jsx(tr,{type:"date",value:a.lastMaintenance,onChange:h=>i({...a,lastMaintenance:h.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Prochaine maintenance"}),o.jsx(tr,{type:"date",value:a.nextMaintenance,onChange:h=>i({...a,nextMaintenance:h.target.value}),className:"mt-1"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Annuler"}),o.jsxs("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-md",children:[o.jsx(rf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})})]})}const WUe=({searchQuery:e=""})=>{const[t,r]=I.useState([{id:"1",batchNumber:"Lot HF-2025-001",type:"Huîtres Fines de Claire",quantity:"200",status:"purification",startDate:"2025-03-10",location:"Bassin A1",expiryDate:"2025-03-24",notes:"Lot en cours de purification"}]),[n,a]=I.useState(null),[i,s]=I.useState(!1),[l,c]=I.useState(null),u=p=>{c({...p}),s(!0)},d=()=>{if(l){const p=t.map(m=>m.id===l.id?l:m);r(p),s(!1),c(null)}},f=t.filter(p=>p.status==="table1"||p.status==="table2"||p.status==="table3").slice(0,4),h=p=>Pq(new Date,new Date(p));return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>o.jsxs(Mg,{onClick:()=>a(p),className:"relative overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10 p-4 cursor-pointer hover:shadow-lg transition-all rounded-xl hover:bg-white/10",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:p.batchNumber}),o.jsx("p",{className:"text-sm text-white/60",children:p.type})]}),o.jsx("button",{onClick:m=>{m.stopPropagation(),u(p)},className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Os,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Quantité"}),o.jsx("span",{className:"text-sm font-medium text-white",children:p.quantity})]})}),o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Emplacement"}),o.jsx("span",{className:"text-sm font-medium text-white",children:p.location})]})}),o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Date d'expiration"}),o.jsx("span",{className:"text-sm font-medium text-white",children:new Date(p.expiryDate).toLocaleDateString("fr-FR")})]})}),o.jsx("div",{className:"bg-white/5 p-2 rounded-lg border border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-white/60",children:"Temps en trempe"}),o.jsxs("span",{className:"text-sm font-medium text-white",children:[h(p.startDate),"h"]})]})})]})]},p.id))}),i&&l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl rounded-xl p-6 max-w-md w-full border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Modifier le lot"}),o.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-white/10 rounded-full text-white/60 hover:text-white/80 transition-colors",children:o.jsx(Gt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Numéro du lot"}),o.jsx(tr,{value:l.batchNumber,onChange:p=>c({...l,batchNumber:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Type"}),o.jsx(tr,{value:l.type,onChange:p=>c({...l,type:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Quantité"}),o.jsx(tr,{value:l.quantity,onChange:p=>c({...l,quantity:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Emplacement"}),o.jsx(tr,{value:l.location,onChange:p=>c({...l,location:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Date d'expiration"}),o.jsx(tr,{type:"date",value:l.expiryDate,onChange:p=>c({...l,expiryDate:p.target.value}),className:"bg-white/5 border-white/10 text-white placeholder-white/40"})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg border border-white/10",children:"Annuler"}),o.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-teal-500 hover:bg-teal-600 rounded-lg",children:[o.jsx(rf,{className:"w-4 h-4 inline-block mr-2"}),"Enregistrer"]})]})]})]})})]})};class ur{constructor(t,r,n,a,i){this._legacyCanvasSize=ur.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=r:(console.warn(n||a||i?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof n=="object"?n:{},this._onDecodeError=r.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let s=!1;if(t.hidden&&(t.hidden=!1,s=!0),document.body.contains(t)||(document.body.appendChild(t),s=!0),n=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(a=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),i=this.$overlay.style,i.position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let l=window.getComputedStyle(t);l.display==="none"&&(t.style.setProperty("display","block","important"),s=!0),l.visibility!=="visible"&&(t.style.setProperty("visibility","visible","important"),s=!0),s&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=ur.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await ur.listCameras(!1)).length}catch{return!1}}static async listCameras(t=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),n;try{t&&(await r()).every(a=>!a.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((a,i)=>({id:a.deviceId,label:a.label||(i===0?"Default Camera":`Camera ${i+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),ur._stopVideoStream(n))}}async hasFlash(){let t;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;t=this.$video.srcObject}else t=(await this._getCameraStream()).stream;return"torch"in t.getVideoTracks()[0].getSettings()}catch{return!1}finally{t&&t!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),ur._stopVideoStream(t))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(t){throw this._flashOn=!1,t}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),ur._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:t,facingMode:r}=await this._getCameraStream();!this._active||this._paused?ur._stopVideoStream(t):(this._setVideoMirror(r),this.$video.srcObject=t,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(t){if(!this._paused)throw this._active=!1,t}}stop(){this.pause(),this._active=!1}async pause(t=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(ur._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return t?(r(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(r(),!0):!1)}async setCamera(t){t!==this._preferredCamera&&(this._preferredCamera=t,await this._restartVideoStream())}static async scanImage(t,r,n,a,i=!1,s=!1){let l,c=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(l=r.scanRegion,n=r.qrEngine,a=r.canvas,i=r.disallowCanvasResizing||!1,s=r.alsoTryWithoutScanRegion||!1,c=!0):console.warn(r||n||a||i||s?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!n;try{let u,d;[n,u]=await Promise.all([n||ur.createQrEngine(),ur._loadImage(t)]),[a,d]=ur._drawToCanvas(u,l,a,i);let f;if(n instanceof Worker){let h=n;r||ur._postWorkerMessageSync(h,"inversionMode","both"),f=await new Promise((p,m)=>{let x,g,v,b=-1;g=_=>{_.data.id===b&&(h.removeEventListener("message",g),h.removeEventListener("error",v),clearTimeout(x),_.data.data!==null?p({data:_.data.data,cornerPoints:ur._convertPoints(_.data.cornerPoints,l)}):m(ur.NO_QR_CODE_FOUND))},v=_=>{h.removeEventListener("message",g),h.removeEventListener("error",v),clearTimeout(x),m("Scanner error: "+(_?_.message||_:"Unknown Error"))},h.addEventListener("message",g),h.addEventListener("error",v),x=setTimeout(()=>v("timeout"),1e4);let y=d.getImageData(0,0,a.width,a.height);b=ur._postWorkerMessageSync(h,"decode",y,[y.data.buffer])})}else f=await Promise.race([new Promise((h,p)=>window.setTimeout(()=>p("Scanner error: timeout"),1e4)),(async()=>{try{var[h]=await n.detect(a);if(!h)throw ur.NO_QR_CODE_FOUND;return{data:h.rawValue,cornerPoints:ur._convertPoints(h.cornerPoints,l)}}catch(p){if(h=p.message||p,/not implemented|service unavailable/.test(h))return ur._disableBarcodeDetector=!0,ur.scanImage(t,{scanRegion:l,canvas:a,disallowCanvasResizing:i,alsoTryWithoutScanRegion:s});throw`Scanner error: ${h}`}})()]);return c?f:f.data}catch(u){if(!l||!s)throw u;let d=await ur.scanImage(t,{qrEngine:n,canvas:a,disallowCanvasResizing:i});return c?d:d.data}finally{r||ur._postWorkerMessage(n,"close")}}setGrayscaleWeights(t,r,n,a=!0){ur._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:n,useIntegerApproximation:a})}setInversionMode(t){ur._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>dc(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(n=>n.createWorker()),!(!ur._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:a})=>/arm/i.test(n||"arm")&&13<=parseInt(a||"13")).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,n=t.videoHeight,a=t.offsetWidth,i=t.offsetHeight,s=t.offsetLeft,l=t.offsetTop,c=window.getComputedStyle(t),u=c.objectFit,d=r/n,f=a/i;switch(u){case"none":var h=r,p=n;break;case"fill":h=a,p=i;break;default:(u==="cover"?d>f:d<f)?(p=i,h=p*d):(h=a,p=h/d),u==="scale-down"&&(h=Math.min(h,r),p=Math.min(p,n))}var[m,x]=c.objectPosition.split(" ").map((v,b)=>{const y=parseFloat(v);return v.endsWith("%")?(b?i-p:a-h)*y/100:y});c=this._scanRegion.width||r,f=this._scanRegion.height||n,u=this._scanRegion.x||0;var g=this._scanRegion.y||0;d=this.$overlay.style,d.width=`${c/r*h}px`,d.height=`${f/n*p}px`,d.top=`${l+x+g/n*p}px`,n=/scaleX\(-1\)/.test(t.style.transform),d.left=`${s+(n?a-m-h:m)+(n?r-u-c:u)/r*h}px`,d.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let n=r.x||0,a=r.y||0,i=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let s of t)s.x=s.x*i+n,s.y=s.y*r+a;return t}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var t=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;t<r&&await new Promise(a=>setTimeout(a,r-t)),this._lastScanTimestamp=Date.now();try{var n=await ur.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!ur._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=ur.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:a,y:i})=>`${a},${i}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(t){t!==ur.NO_QR_CODE_FOUND&&console.log(t)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let t=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],n=r.map(a=>Object.assign({},a,{[t]:{exact:this._preferredCamera}}));for(let a of[...n,...r])try{let i=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),s=this._getFacingMode(i)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:i,facingMode:s}}catch{}throw"Camera not found."}async _restartVideoStream(){let t=this._paused;await this.pause(!0)&&!t&&this._active&&await this.start()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+(t==="user"?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,n,a=!1){n=n||document.createElement("canvas");let i=r&&r.x?r.x:0,s=r&&r.y?r.y:0,l=r&&r.width?r.width:t.videoWidth||t.width,c=r&&r.height?r.height:t.videoHeight||t.height;return a||(a=r&&r.downScaledWidth?r.downScaledWidth:l,r=r&&r.downScaledHeight?r.downScaledHeight:c,n.width!==a&&(n.width=a),n.height!==r&&(n.height=r)),r=n.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(t,i,s,l,c,0,0,n.width,n.height),[n,r]}static async _loadImage(t){if(t instanceof Image)return await ur._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(t instanceof File||t instanceof Blob||t instanceof URL||typeof t=="string"){let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return await ur._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(t){t.complete&&t.naturalWidth!==0||await new Promise((r,n)=>{let a=i=>{t.removeEventListener("load",a),t.removeEventListener("error",a),i instanceof ErrorEvent?n("Image load error"):r()};t.addEventListener("load",a),t.addEventListener("error",a)})}static async _postWorkerMessage(t,r,n,a){return ur._postWorkerMessageSync(await t,r,n,a)}static _postWorkerMessageSync(t,r,n,a){if(!(t instanceof Worker))return-1;let i=ur._workerMessageId++;return t.postMessage({id:i,type:r,data:n},a),i}}ur.DEFAULT_CANVAS_SIZE=400;ur.NO_QR_CODE_FOUND="No QR code found";ur._disableBarcodeDetector=!1;ur._workerMessageId=0;function VUe({onClose:e,onScanSuccess:t}){const r=I.useRef(null),[n,a]=I.useState(null);I.useState(!1);const i=I.useRef(null);return I.useEffect(()=>{if(!r.current)return;const s=new ur(r.current,l=>{t(l.data),e()},{highlightScanRegion:!0,highlightCodeOutline:!0});return i.current=s,s.start().catch(l=>{a("Impossible d'accéder à la caméra. Vérifiez les permissions."),console.error(l)}),()=>{s.destroy()}},[t,e]),o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"rounded-xl p-6 w-full max-w-md relative backdrop-blur-sm border border-white/10",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:o.jsx(Gt,{size:20})}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Scanner un QR Code"}),o.jsx("div",{className:"relative",children:n?o.jsx("div",{className:"p-4 bg-red-500/20 text-red-400 rounded-lg",children:n}):o.jsxs(o.Fragment,{children:[o.jsx("video",{ref:r,className:"w-full aspect-square rounded-lg bg-black"}),o.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/50 rounded-lg pointer-events-none",children:o.jsx("div",{className:"absolute inset-0 border-2 border-cyan-500/20 rounded-lg animate-pulse"})})]})}),o.jsx("p",{className:"mt-4 text-sm text-white/60 text-center",children:"Placez le QR code dans le cadre pour le scanner automatiquement"})]})})}var qUe={exports:{}};const GUe=uM(oDe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return GUe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ga<"u"?Ga:typeof window<"u"?window:typeof self<"u"?self:Ga,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(x[v]=g[v])},h(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(p,m);function x(){this.constructor=p}p.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(p,m,x){this.table=m,this.pageNumber=m.pageNumber,this.pageCount=this.pageNumber,this.settings=m.settings,this.cursor=x,this.doc=p.getDocument()}return h}();c.HookData=d;var f=function(h){u(p,h);function p(m,x,g,v,b,y){var _=h.call(this,m,x,y)||this;return _.cell=g,_.row=v,_.column=b,_.section=v.section,_}return p}(d);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),m=u(664),x=u(972);function g(v){v.API.autoTable=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];var _;b.length===1?_=b[0]:(console.error("Use of deprecated autoTable initiation"),_=b[2]||{},_.columns=b[0],_.body=b[1]);var N=(0,p.parseInput)(this,_),S=(0,x.createTable)(this,N);return(0,m.drawTable)(this,S),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(b,y,_,N){(0,f.default)(b,y,_,N,this)},v.API.autoTableSetDefaults=function(b){return h.DocHandler.setDefaults(b,this),this},v.autoTableSetDefaults=function(b,y){h.DocHandler.setDefaults(b,y)},v.API.autoTableHtmlToJson=function(b,y){var _;if(y===void 0&&(y=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var N=new h.DocHandler(this),S=(0,d.parseHtml)(N,b,window,y,!1),j=S.head,A=S.body,T=((_=j[0])===null||_===void 0?void 0:_.map(function(F){return F.content}))||[];return{columns:T,rows:A,data:A}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},v.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=b,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=g},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,p,m){p=p||{};var x=1.15,g=m.internal.scaleFactor,v=m.internal.getFontSize()/g,b=m.getLineHeightFactor?m.getLineHeightFactor():x,y=v*b,_=/\r\n|\r|\n/g,N="",S=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(N=typeof d=="string"?d.split(_):d,S=N.length||1),h+=v*(2-x),p.valign==="middle"?h-=S/2*y:p.valign==="bottom"&&(h-=S*y),p.halign==="center"||p.halign==="right"){var j=v;if(p.halign==="center"&&(j*=.5),N&&S>=1){for(var A=0;A<N.length;A++)m.text(N[A],f-m.getStringUnitWidth(N[A])*j,h),h+=y;return m}f-=m.getStringUnitWidth(d)*j}return p.halign==="justify"?m.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):m.text(d,f,h),m}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(m,x,g){g.applyStyles(x,!0);var v=Array.isArray(m)?m:[m],b=v.map(function(y){return g.getTextWidth(y)}).reduce(function(y,_){return Math.max(y,_)},0);return b}c.getStringWidth=u;function d(m,x,g,v){var b=x.settings.tableLineWidth,y=x.settings.tableLineColor;m.applyStyles({lineWidth:b,lineColor:y});var _=f(b,!1);_&&m.rect(g.x,g.y,x.getWidth(m.pageSize().width),v.y-g.y,_)}c.addTableBorder=d;function f(m,x){var g=m>0,v=x||x===0;return g&&v?"DF":g?"S":v?"F":null}c.getFillStyle=f;function h(m,x){var g,v,b,y;if(m=m||x,Array.isArray(m)){if(m.length>=4)return{top:m[0],right:m[1],bottom:m[2],left:m[3]};if(m.length===3)return{top:m[0],right:m[1],bottom:m[2],left:m[1]};if(m.length===2)return{top:m[0],right:m[1],bottom:m[0],left:m[1]};m.length===1?m=m[0]:m=x}return typeof m=="object"?(typeof m.vertical=="number"&&(m.top=m.vertical,m.bottom=m.vertical),typeof m.horizontal=="number"&&(m.right=m.horizontal,m.left=m.horizontal),{left:(g=m.left)!==null&&g!==void 0?g:x,top:(v=m.top)!==null&&v!==void 0?v:x,right:(b=m.right)!==null&&b!==void 0?b:x,bottom:(y=m.bottom)!==null&&y!==void 0?y:x}):(typeof m!="number"&&(m=x),{top:m,right:m,bottom:m,left:m})}c.parseSpacing=h;function p(m,x){var g=h(x.settings.margin,0);return m.pageSize().width-(g.left+g.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(m,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(g[b]=v[b])},p(m,x)};return function(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(m,x);function g(){this.constructor=m}m.prototype=x===null?Object.create(x):(g.prototype=x.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(m,p);function m(x){var g=p.call(this)||this;return g._element=x,g}return m}(Array);c.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(p){var m={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return m[p]}c.getTheme=h},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(g,v,b,y,_){var N={},S=1.3333333333333333,j=p(v,function(U){return _.getComputedStyle(U).backgroundColor});j!=null&&(N.fillColor=j);var A=p(v,function(U){return _.getComputedStyle(U).color});A!=null&&(N.textColor=A);var T=x(y,b);T&&(N.cellPadding=T);var F="borderTopColor",O=S*b,E=y.borderTopWidth;if(y.borderBottomWidth===E&&y.borderRightWidth===E&&y.borderLeftWidth===E){var L=(parseFloat(E)||0)/O;L&&(N.lineWidth=L)}else N.lineWidth={top:(parseFloat(y.borderTopWidth)||0)/O,right:(parseFloat(y.borderRightWidth)||0)/O,bottom:(parseFloat(y.borderBottomWidth)||0)/O,left:(parseFloat(y.borderLeftWidth)||0)/O},N.lineWidth.top||(N.lineWidth.right?F="borderRightColor":N.lineWidth.bottom?F="borderBottomColor":N.lineWidth.left&&(F="borderLeftColor"));var B=p(v,function(U){return _.getComputedStyle(U)[F]});B!=null&&(N.lineColor=B);var G=["left","right","center","justify"];G.indexOf(y.textAlign)!==-1&&(N.halign=y.textAlign),G=["middle","bottom","top"],G.indexOf(y.verticalAlign)!==-1&&(N.valign=y.verticalAlign);var z=parseInt(y.fontSize||"");isNaN(z)||(N.fontSize=z/S);var V=h(y);V&&(N.fontStyle=V);var Y=(y.fontFamily||"").toLowerCase();return g.indexOf(Y)!==-1&&(N.font=Y),N}c.parseCss=f;function h(g){var v="";return(g.fontWeight==="bold"||g.fontWeight==="bolder"||parseInt(g.fontWeight)>=700)&&(v="bold"),(g.fontStyle==="italic"||g.fontStyle==="oblique")&&(v+="italic"),v}function p(g,v){var b=m(g,v);if(!b)return null;var y=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!y||!Array.isArray(y))return null;var _=[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])],N=parseInt(y[4]);return N===0||isNaN(_[0])||isNaN(_[1])||isNaN(_[2])?null:_}function m(g,v){var b=v(g);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?g.parentElement==null?null:m(g.parentElement,v):b}function x(g,v){var b=[g.paddingTop,g.paddingRight,g.paddingBottom,g.paddingLeft],y=96/(72/v),_=(parseInt(g.lineHeight)-parseInt(g.fontSize))/v/2,N=b.map(function(j){return parseInt(j||"0")/y}),S=(0,d.parseSpacing)(N,0);return _>S.top&&(S.top=_),_>S.bottom&&(S.bottom=_),S}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var m,x,g;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),b=v.fontStyle,y=v.fontName;if(h.font&&(y=h.font),h.fontStyle){b=h.fontStyle;var _=this.getFontList()[y];_&&_.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(_[0]),b=_[0])}if(this.jsPDFDocument.setFont(y,b),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var N=f.unifyColor(h.fillColor);N&&(m=this.jsPDFDocument).setFillColor.apply(m,N),N=f.unifyColor(h.textColor),N&&(x=this.jsPDFDocument).setTextColor.apply(x,N),N=f.unifyColor(h.lineColor),N&&(g=this.jsPDFDocument).setDrawColor.apply(g,N),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,m){return this.jsPDFDocument.splitTextToSize(h,p,m)},f.prototype.rect=function(h,p,m,x,g){return this.jsPDFDocument.rect(h,p,m,x,g)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(x,g,v,b,y){var _,N;b===void 0&&(b=!1),y===void 0&&(y=!1);var S;typeof g=="string"?S=v.document.querySelector(g):S=g;var j=Object.keys(x.getFontList()),A=x.scaleFactor(),T=[],F=[],O=[];if(!S)return console.error("Html table could not be found with input: ",g),{head:T,body:F,foot:O};for(var E=0;E<S.rows.length;E++){var L=S.rows[E],B=(N=(_=L==null?void 0:L.parentElement)===null||_===void 0?void 0:_.tagName)===null||N===void 0?void 0:N.toLowerCase(),G=p(j,A,v,L,b,y);G&&(B==="thead"?T.push(G):B==="tfoot"?O.push(G):F.push(G))}return{head:T,body:F,foot:O}}c.parseHtml=h;function p(x,g,v,b,y,_){for(var N=new f.HtmlRowInput(b),S=0;S<b.cells.length;S++){var j=b.cells[S],A=v.getComputedStyle(j);if(y||A.display!=="none"){var T=void 0;_&&(T=(0,d.parseCss)(x,j,g,A,v)),N.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:T,_element:j,content:m(j)})}}var F=v.getComputedStyle(b);if(N.length>0&&(y||F.display!=="none"))return N}function m(x){var g=x.cloneNode(!0);return g.innerHTML=g.innerHTML.replace(/\n/g,"").replace(/ +/g," "),g.innerHTML=g.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),g.innerText||g.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),m=u(792);function x(S,j){var A=new p.DocHandler(S),T=A.getDocumentOptions(),F=A.getGlobalOptions();(0,m.default)(A,F,T,j);var O=(0,f.assign)({},F,T,j),E;typeof window<"u"&&(E=window);var L=g(F,T,j),B=v(F,T,j),G=b(A,O),z=_(A,O,E);return{id:j.tableId,content:z,hooks:B,styles:L,settings:G}}c.parseInput=x;function g(S,j,A){for(var T={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},F=function(B){if(B==="columnStyles"){var G=S[B],z=j[B],V=A[B];T.columnStyles=(0,f.assign)({},G,z,V)}else{var Y=[S,j,A],U=Y.map(function(ae){return ae[B]||{}});T[B]=(0,f.assign)({},U[0],U[1],U[2])}},O=0,E=Object.keys(T);O<E.length;O++){var L=E[O];F(L)}return T}function v(S,j,A){for(var T=[S,j,A],F={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,E=T;O<E.length;O++){var L=E[O];L.didParseCell&&F.didParseCell.push(L.didParseCell),L.willDrawCell&&F.willDrawCell.push(L.willDrawCell),L.didDrawCell&&F.didDrawCell.push(L.didDrawCell),L.willDrawPage&&F.willDrawPage.push(L.willDrawPage),L.didDrawPage&&F.didDrawPage.push(L.didDrawPage)}return F}function b(S,j){var A,T,F,O,E,L,B,G,z,V,Y,U,ae=(0,h.parseSpacing)(j.margin,40/S.scaleFactor()),he=(A=y(S,j.startY))!==null&&A!==void 0?A:ae.top,k;j.showFoot===!0?k="everyPage":j.showFoot===!1?k="never":k=(T=j.showFoot)!==null&&T!==void 0?T:"everyPage";var P;j.showHead===!0?P="everyPage":j.showHead===!1?P="never":P=(F=j.showHead)!==null&&F!==void 0?F:"everyPage";var R=(O=j.useCss)!==null&&O!==void 0?O:!1,H=j.theme||(R?"plain":"striped"),X=!!j.horizontalPageBreak,oe=(E=j.horizontalPageBreakRepeat)!==null&&E!==void 0?E:null;return{includeHiddenHtml:(L=j.includeHiddenHtml)!==null&&L!==void 0?L:!1,useCss:R,theme:H,startY:he,margin:ae,pageBreak:(B=j.pageBreak)!==null&&B!==void 0?B:"auto",rowPageBreak:(G=j.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(z=j.tableWidth)!==null&&z!==void 0?z:"auto",showHead:P,showFoot:k,tableLineWidth:(V=j.tableLineWidth)!==null&&V!==void 0?V:0,tableLineColor:(Y=j.tableLineColor)!==null&&Y!==void 0?Y:200,horizontalPageBreak:X,horizontalPageBreakRepeat:oe,horizontalPageBreakBehaviour:(U=j.horizontalPageBreakBehaviour)!==null&&U!==void 0?U:"afterAllRows"}}function y(S,j){var A=S.getLastAutoTable(),T=S.scaleFactor(),F=S.pageNumber(),O=!1;if(A&&A.startPageNumber){var E=A.startPageNumber+A.pageNumber-1;O=E===F}return typeof j=="number"?j:(j==null||j===!1)&&O&&(A==null?void 0:A.finalY)!=null?A.finalY+20/T:null}function _(S,j,A){var T=j.head||[],F=j.body||[],O=j.foot||[];if(j.html){var E=j.includeHiddenHtml;if(A){var L=(0,d.parseHtml)(S,j.html,A,E,j.useCss)||{};T=L.head||T,F=L.body||T,O=L.foot||T}else console.error("Cannot parse html in non browser environment")}var B=j.columns||N(T,F,O);return{columns:B,head:T,body:F,foot:O}}function N(S,j,A){var T=S[0]||j[0]||A[0]||[],F=[];return Object.keys(T).filter(function(O){return O!=="_element"}).forEach(function(O){var E=1,L;Array.isArray(T)?L=T[parseInt(O)]:L=T[O],typeof L=="object"&&!Array.isArray(L)&&(E=(L==null?void 0:L.colSpan)||1);for(var B=0;B<E;B++){var G=void 0;Array.isArray(T)?G=F.length:G=O+(B>0?"_".concat(B):"");var z={dataKey:G};F.push(z)}}),F}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,p,m){for(var x=function(y){y&&typeof y!="object"&&console.error("The options parameter should be of type object, is: "+typeof y),typeof y.extendWidth<"u"&&(y.tableWidth=y.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof y.margins<"u"&&(typeof y.margin>"u"&&(y.margin=y.margins),console.error("Use of deprecated option: margins, use margin instead.")),y.startY&&typeof y.startY!="number"&&(console.error("Invalid value for startY option",y.startY),delete y.startY),!y.didDrawPage&&(y.afterPageContent||y.beforePageContent||y.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),y.didDrawPage=function(O){f.applyStyles(f.userStyles),y.beforePageContent&&y.beforePageContent(O),f.applyStyles(f.userStyles),y.afterPageContent&&y.afterPageContent(O),f.applyStyles(f.userStyles),y.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){y[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var E=O[0],L=O[1];y[L]&&(console.error("Use of deprecated option ".concat(L,". Use ").concat(E," instead")),y[E]=y[L])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var E=typeof O=="string"?O:O[0],L=typeof O=="string"?O:O[1];typeof y[E]<"u"&&(typeof y.styles[L]>"u"&&(y.styles[L]=y[E]),console.error("Use of deprecated option: "+E+", use the style "+L+" instead."))});for(var _=0,N=["styles","bodyStyles","headStyles","footStyles"];_<N.length;_++){var S=N[_];d(y[S]||{})}for(var j=y.columnStyles||{},A=0,T=Object.keys(j);A<T.length;A++){var F=T[A];d(j[F]||{})}},g=0,v=[h,p,m];g<v.length;g++){var b=v[g];x(b)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function v(b,y){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=y.columns,this.head=y.head,this.body=y.body,this.foot=y.foot}return v.prototype.getHeadHeight=function(b){return this.head.reduce(function(y,_){return y+_.getMaxCellHeight(b)},0)},v.prototype.getFootHeight=function(b){return this.foot.reduce(function(y,_){return y+_.getMaxCellHeight(b)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(b,y,_,N,S,j){for(var A=0,T=y;A<T.length;A++){var F=T[A],O=new f.CellHookData(b,this,_,N,S,j),E=F(O)===!1;if(_.text=Array.isArray(_.text)?_.text:[_.text],E)return!1}return!0},v.prototype.callEndPageHooks=function(b,y){b.applyStyles(b.userStyles);for(var _=0,N=this.hooks.didDrawPage;_<N.length;_++){var S=N[_];S(new f.HookData(b,this,y))}},v.prototype.callWillDrawPageHooks=function(b,y){for(var _=0,N=this.hooks.willDrawPage;_<N.length;_++){var S=N[_];S(new f.HookData(b,this,y))}},v.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var y=this.columns.reduce(function(N,S){return N+S.wrappedWidth},0);return y}else{var _=this.settings.margin;return b-_.left-_.right}},v}();c.Table=p;var m=function(){function v(b,y,_,N,S){S===void 0&&(S=!1),this.height=0,this.raw=b,b instanceof d.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=y,this.section=_,this.cells=N,this.spansMultiplePages=S}return v.prototype.getMaxCellHeight=function(b){var y=this;return b.reduce(function(_,N){var S;return Math.max(_,((S=y.cells[N.index])===null||S===void 0?void 0:S.height)||0)},0)},v.prototype.hasRowSpan=function(b){var y=this;return b.filter(function(_){var N=y.cells[_.index];return N?N.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(b,y){return this.getMaxCellHeight(y)<=b},v.prototype.getMinimumRowHeight=function(b,y){var _=this;return b.reduce(function(N,S){var j=_.cells[S.index];if(!j)return 0;var A=y.getLineHeight(j.styles.fontSize),T=j.padding("vertical"),F=T+A;return F>N?F:N},0)},v}();c.Row=m;var x=function(){function v(b,y,_){var N,S;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=y,this.section=_,this.raw=b;var j=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,j=(S=(N=b.content)!==null&&N!==void 0?N:b.title)!==null&&S!==void 0?S:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var A=j!=null?""+j:"",T=/\r\n|\r|\n/g;this.text=A.split(T)}return v.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var y=this.height-this.padding("vertical");b=this.y+y/2+this.padding("top")}var _;if(this.styles.halign==="right")_=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var N=this.width-this.padding("horizontal");_=this.x+N/2+this.padding("left")}else _=this.x+this.padding("left");return{x:_,y:b}},v.prototype.getContentHeight=function(b,y){y===void 0&&(y=1.15);var _=Array.isArray(this.text)?this.text.length:1,N=this.styles.fontSize/b*y,S=_*N+this.padding("vertical");return Math.max(S,this.styles.minCellHeight)},v.prototype.padding=function(b){var y=(0,h.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?y.top+y.bottom:b==="horizontal"?y.left+y.right:y[b]},v}();c.Cell=x;var g=function(){function v(b,y,_){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=y,this.index=_}return v.prototype.getMaxCustomCellWidth=function(b){for(var y=0,_=0,N=b.allRows();_<N.length;_++){var S=N[_],j=S.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(y=Math.max(y,j.styles.cellWidth))}return y},v}();c.Column=g},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,p,m){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(d),g=1;g<arguments.length;g++){var v=arguments[g];if(v!=null)for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(x[b]=v[b])}return x}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),m=u(356);function x(S,j){var A=new d.DocHandler(S),T=g(j,A.scaleFactor()),F=new f.Table(j,T);return(0,h.calculateWidths)(A,F),A.applyStyles(A.userStyles),F}c.createTable=x;function g(S,j){var A=S.content,T=_(A.columns);if(A.head.length===0){var F=b(T,"head");F&&A.head.push(F)}if(A.foot.length===0){var F=b(T,"foot");F&&A.foot.push(F)}var O=S.settings.theme,E=S.styles;return{columns:T,head:v("head",A.head,T,E,O,j),body:v("body",A.body,T,E,O,j),foot:v("foot",A.foot,T,E,O,j)}}function v(S,j,A,T,F,O){var E={},L=j.map(function(B,G){for(var z=0,V={},Y=0,U=0,ae=0,he=A;ae<he.length;ae++){var k=he[ae];if(E[k.index]==null||E[k.index].left===0)if(U===0){var P=void 0;Array.isArray(B)?P=B[k.index-Y-z]:P=B[k.dataKey];var R={};typeof P=="object"&&!Array.isArray(P)&&(R=(P==null?void 0:P.styles)||{});var H=N(S,k,G,F,T,O,R),X=new f.Cell(P,H,S);V[k.dataKey]=X,V[k.index]=X,U=X.colSpan-1,E[k.index]={left:X.rowSpan-1,times:U}}else U--,Y++;else E[k.index].left--,U=E[k.index].times,z++}return new f.Row(B,G,S,V)});return L}function b(S,j){var A={};return S.forEach(function(T){if(T.raw!=null){var F=y(j,T.raw);F!=null&&(A[T.dataKey]=F)}}),Object.keys(A).length>0?A:null}function y(S,j){if(S==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(S==="foot"&&typeof j=="object")return j.footer;return null}function _(S){return S.map(function(j,A){var T,F,O;return typeof j=="object"?O=(F=(T=j.dataKey)!==null&&T!==void 0?T:j.key)!==null&&F!==void 0?F:A:O=A,new f.Column(O,j,A)})}function N(S,j,A,T,F,O,E){var L=(0,p.getTheme)(T),B;S==="head"?B=F.headStyles:S==="body"?B=F.bodyStyles:S==="foot"&&(B=F.footStyles);var G=(0,m.assign)({},L.table,L[S],F.styles,B),z=F.columnStyles[j.dataKey]||F.columnStyles[j.index]||{},V=S==="body"?z:{},Y=S==="body"&&A%2===0?(0,m.assign)({},L.alternateRow,F.alternateRowStyles):{},U=(0,p.defaultStyles)(O),ae=(0,m.assign)({},U,G,Y,V);return(0,m.assign)(ae,E)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),m=u(136),x=u(224);function g(z,V){var Y=V.settings,U=Y.startY,ae=Y.margin,he={x:ae.left,y:U},k=V.getHeadHeight(V.columns)+V.getFootHeight(V.columns),P=U+ae.bottom+k;if(Y.pageBreak==="avoid"){var R=V.body,H=R.reduce(function(fe,re){return fe+re.height},0);P+=H}var X=new h.DocHandler(z);(Y.pageBreak==="always"||Y.startY!=null&&P>X.pageSize().height)&&(G(X),he.y=ae.top),V.callWillDrawPageHooks(X,he);var oe=(0,p.assign)({},he);V.startPageNumber=X.pageNumber(),Y.horizontalPageBreak?v(X,V,oe,he):(X.applyStyles(X.userStyles),(Y.showHead==="firstPage"||Y.showHead==="everyPage")&&V.head.forEach(function(fe){return F(X,V,fe,he,V.columns)}),X.applyStyles(X.userStyles),V.body.forEach(function(fe,re){var ve=re===V.body.length-1;T(X,V,fe,ve,oe,he,V.columns)}),X.applyStyles(X.userStyles),(Y.showFoot==="lastPage"||Y.showFoot==="everyPage")&&V.foot.forEach(function(fe){return F(X,V,fe,he,V.columns)})),(0,d.addTableBorder)(X,V,oe,he),V.callEndPageHooks(X,he),V.finalY=he.y,z.lastAutoTable=V,z.previousAutoTable=V,z.autoTable&&(z.autoTable.previous=V),X.applyStyles(X.userStyles)}c.drawTable=g;function v(z,V,Y,U){var ae=(0,x.calculateAllColumnsCanFitInPage)(z,V),he=V.settings;if(he.horizontalPageBreakBehaviour==="afterAllRows")ae.forEach(function(H,X){z.applyStyles(z.userStyles),X>0?B(z,V,Y,U,H.columns,!0):b(z,V,U,H.columns),y(z,V,Y,U,H.columns),N(z,V,U,H.columns)});else for(var k=-1,P=ae[0],R=function(){var H=k;if(P){z.applyStyles(z.userStyles);var X=P.columns;k>=0?B(z,V,Y,U,X,!0):b(z,V,U,X),H=_(z,V,k+1,U,X),N(z,V,U,X)}var oe=H-k;ae.slice(1).forEach(function(fe){z.applyStyles(z.userStyles),B(z,V,Y,U,fe.columns,!0),_(z,V,k+1,U,fe.columns,oe),N(z,V,U,fe.columns)}),k=H};k<V.body.length-1;)R()}function b(z,V,Y,U){var ae=V.settings;z.applyStyles(z.userStyles),(ae.showHead==="firstPage"||ae.showHead==="everyPage")&&V.head.forEach(function(he){return F(z,V,he,Y,U)})}function y(z,V,Y,U,ae){z.applyStyles(z.userStyles),V.body.forEach(function(he,k){var P=k===V.body.length-1;T(z,V,he,P,Y,U,ae)})}function _(z,V,Y,U,ae,he){z.applyStyles(z.userStyles),he=he??V.body.length;var k=Math.min(Y+he,V.body.length),P=-1;return V.body.slice(Y,k).forEach(function(R,H){var X=Y+H===V.body.length-1,oe=L(z,V,X,U);R.canEntireRowFit(oe,ae)&&(F(z,V,R,U,ae),P=Y+H)}),P}function N(z,V,Y,U){var ae=V.settings;z.applyStyles(z.userStyles),(ae.showFoot==="lastPage"||ae.showFoot==="everyPage")&&V.foot.forEach(function(he){return F(z,V,he,Y,U)})}function S(z,V,Y){var U=Y.getLineHeight(z.styles.fontSize),ae=z.padding("vertical"),he=Math.floor((V-ae)/U);return Math.max(0,he)}function j(z,V,Y,U){var ae={};z.spansMultiplePages=!0,z.height=0;for(var he=0,k=0,P=Y.columns;k<P.length;k++){var R=P[k],H=z.cells[R.index];if(H){Array.isArray(H.text)||(H.text=[H.text]);var X=new f.Cell(H.raw,H.styles,H.section);X=(0,p.assign)(X,H),X.text=[];var oe=S(H,V,U);H.text.length>oe&&(X.text=H.text.splice(oe,H.text.length));var fe=U.scaleFactor(),re=U.getLineHeightFactor();H.contentHeight=H.getContentHeight(fe,re),H.contentHeight>=V&&(H.contentHeight=V,X.styles.minCellHeight-=V),H.contentHeight>z.height&&(z.height=H.contentHeight),X.contentHeight=X.getContentHeight(fe,re),X.contentHeight>he&&(he=X.contentHeight),ae[R.index]=X}}var ve=new f.Row(z.raw,-1,z.section,ae,!0);ve.height=he;for(var Ce=0,q=Y.columns;Ce<q.length;Ce++){var R=q[Ce],X=ve.cells[R.index];X&&(X.height=ve.height);var H=z.cells[R.index];H&&(H.height=z.height)}return ve}function A(z,V,Y,U){var ae=z.pageSize().height,he=U.settings.margin,k=he.top+he.bottom,P=ae-k;V.section==="body"&&(P-=U.getHeadHeight(U.columns)+U.getFootHeight(U.columns));var R=V.getMinimumRowHeight(U.columns,z),H=R<Y;if(R>P)return console.error("Will not be able to print row ".concat(V.index," correctly since it's minimum height is larger than page height")),!0;if(!H)return!1;var X=V.hasRowSpan(U.columns),oe=V.getMaxCellHeight(U.columns)>P;return oe?(X&&console.error("The content of row ".concat(V.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(X||U.settings.rowPageBreak==="avoid")}function T(z,V,Y,U,ae,he,k){var P=L(z,V,U,he);if(Y.canEntireRowFit(P,k))F(z,V,Y,he,k);else if(A(z,Y,P,V)){var R=j(Y,P,V,z);F(z,V,Y,he,k),B(z,V,ae,he,k),T(z,V,R,U,ae,he,k)}else B(z,V,ae,he,k),T(z,V,Y,U,ae,he,k)}function F(z,V,Y,U,ae){U.x=V.settings.margin.left;for(var he=0,k=ae;he<k.length;he++){var P=k[he],R=Y.cells[P.index];if(!R){U.x+=P.width;continue}z.applyStyles(R.styles),R.x=U.x,R.y=U.y;var H=V.callCellHooks(z,V.hooks.willDrawCell,R,Y,P,U);if(H===!1){U.x+=P.width;continue}O(z,R,U);var X=R.getTextPos();(0,m.default)(R.text,X.x,X.y,{halign:R.styles.halign,valign:R.styles.valign,maxWidth:Math.ceil(R.width-R.padding("left")-R.padding("right"))},z.getDocument()),V.callCellHooks(z,V.hooks.didDrawCell,R,Y,P,U),U.x+=P.width}U.y+=Y.height}function O(z,V,Y){var U=V.styles;if(z.getDocument().setFillColor(z.getDocument().getFillColor()),typeof U.lineWidth=="number"){var ae=(0,d.getFillStyle)(U.lineWidth,U.fillColor);ae&&z.rect(V.x,Y.y,V.width,V.height,ae)}else typeof U.lineWidth=="object"&&(U.fillColor&&z.rect(V.x,Y.y,V.width,V.height,"F"),E(z,V,Y,U.lineWidth))}function E(z,V,Y,U){var ae,he,k,P;U.top&&(ae=Y.x,he=Y.y,k=Y.x+V.width,P=Y.y,U.right&&(k+=.5*U.right),U.left&&(ae-=.5*U.left),R(U.top,ae,he,k,P)),U.bottom&&(ae=Y.x,he=Y.y+V.height,k=Y.x+V.width,P=Y.y+V.height,U.right&&(k+=.5*U.right),U.left&&(ae-=.5*U.left),R(U.bottom,ae,he,k,P)),U.left&&(ae=Y.x,he=Y.y,k=Y.x,P=Y.y+V.height,U.top&&(he-=.5*U.top),U.bottom&&(P+=.5*U.bottom),R(U.left,ae,he,k,P)),U.right&&(ae=Y.x+V.width,he=Y.y,k=Y.x+V.width,P=Y.y+V.height,U.top&&(he-=.5*U.top),U.bottom&&(P+=.5*U.bottom),R(U.right,ae,he,k,P));function R(H,X,oe,fe,re){z.getDocument().setLineWidth(H),z.getDocument().line(X,oe,fe,re,"S")}}function L(z,V,Y,U){var ae=V.settings.margin.bottom,he=V.settings.showFoot;return(he==="everyPage"||he==="lastPage"&&Y)&&(ae+=V.getFootHeight(V.columns)),z.pageSize().height-U.y-ae}function B(z,V,Y,U,ae,he){ae===void 0&&(ae=[]),he===void 0&&(he=!1),z.applyStyles(z.userStyles),V.settings.showFoot==="everyPage"&&!he&&V.foot.forEach(function(P){return F(z,V,P,U,ae)}),V.callEndPageHooks(z,U);var k=V.settings.margin;(0,d.addTableBorder)(z,V,Y,U),G(z),V.pageNumber++,V.pageCount++,U.x=k.left,U.y=k.top,Y.y=k.top,V.callWillDrawPageHooks(z,U),V.settings.showHead==="everyPage"&&(V.head.forEach(function(P){return F(z,V,P,U,ae)}),z.applyStyles(z.userStyles))}c.addPage=B;function G(z){var V=z.pageNumber();z.setPage(V+1);var Y=z.pageNumber();return Y===V?(z.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,m,x){var g;x===void 0&&(x={});var v=(0,d.getPageAvailableWidth)(p,m),b=new Map,y=[],_=[],N=[];m.settings.horizontalPageBreakRepeat,Array.isArray(m.settings.horizontalPageBreakRepeat)?N=m.settings.horizontalPageBreakRepeat:(typeof m.settings.horizontalPageBreakRepeat=="string"||typeof m.settings.horizontalPageBreakRepeat=="number")&&(N=[m.settings.horizontalPageBreakRepeat]),N.forEach(function(T){var F=m.columns.find(function(O){return O.dataKey===T||O.index===T});F&&!b.has(F.index)&&(b.set(F.index,!0),y.push(F.index),_.push(m.columns[F.index]),v-=F.wrappedWidth)});for(var S=!0,j=(g=x==null?void 0:x.start)!==null&&g!==void 0?g:0;j<m.columns.length;){if(b.has(j)){j++;continue}var A=m.columns[j].wrappedWidth;if(S||v>=A)S=!1,y.push(j),_.push(m.columns[j]),v-=A;else break;j++}return{colIndexes:y,columns:_,lastIndex:j-1}}function h(p,m){for(var x=[],g=0;g<m.columns.length;g++){var v=f(p,m,{start:g});v.columns.length&&(x.push(v),g=v.lastIndex)}return x}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(y,_){h(y,_);var N=[],S=0;_.columns.forEach(function(A){var T=A.getMaxCustomCellWidth(_);T?A.width=T:(A.width=A.wrappedWidth,N.push(A)),S+=A.width});var j=_.getWidth(y.pageSize().width)-S;j&&(j=p(N,j,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),j&&(j=p(N,j,function(A){return A.minWidth})),j=Math.abs(j),!_.settings.horizontalPageBreak&&j>.1/y.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),x(_),g(_,y),m(_)}c.calculateWidths=f;function h(y,_){var N=y.scaleFactor(),S=_.settings.horizontalPageBreak,j=(0,d.getPageAvailableWidth)(y,_);_.allRows().forEach(function(A){for(var T=0,F=_.columns;T<F.length;T++){var O=F[T],E=A.cells[O.index];if(E){var L=_.hooks.didParseCell;_.callCellHooks(y,L,E,A,O,null);var B=E.padding("horizontal");E.contentWidth=(0,d.getStringWidth)(E.text,E.styles,y)+B;var G=(0,d.getStringWidth)(E.text.join(" ").split(/[^\S\u00A0]+/),E.styles,y);if(E.minReadableWidth=G+E.padding("horizontal"),typeof E.styles.cellWidth=="number")E.minWidth=E.styles.cellWidth,E.wrappedWidth=E.styles.cellWidth;else if(E.styles.cellWidth==="wrap"||S===!0)E.contentWidth>j?(E.minWidth=j,E.wrappedWidth=j):(E.minWidth=E.contentWidth,E.wrappedWidth=E.contentWidth);else{var z=10/N;E.minWidth=E.styles.minCellWidth||z,E.wrappedWidth=E.contentWidth,E.minWidth>E.wrappedWidth&&(E.wrappedWidth=E.minWidth)}}}}),_.allRows().forEach(function(A){for(var T=0,F=_.columns;T<F.length;T++){var O=F[T],E=A.cells[O.index];if(E&&E.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,E.wrappedWidth),O.minWidth=Math.max(O.minWidth,E.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,E.minReadableWidth);else{var L=_.styles.columnStyles[O.dataKey]||_.styles.columnStyles[O.index]||{},B=L.cellWidth||L.minCellWidth;B&&typeof B=="number"&&(O.minWidth=B,O.wrappedWidth=B)}E&&(E.colSpan>1&&!O.minWidth&&(O.minWidth=E.minWidth),E.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=E.minWidth))}})}function p(y,_,N){for(var S=_,j=y.reduce(function(z,V){return z+V.wrappedWidth},0),A=0;A<y.length;A++){var T=y[A],F=T.wrappedWidth/j,O=S*F,E=T.width+O,L=N(T),B=E<L?L:E;_-=B-T.width,T.width=B}if(_=Math.round(_*1e10)/1e10,_){var G=y.filter(function(z){return _<0?z.width>N(z):!0});G.length&&(_=p(G,_,N))}return _}c.resizeColumns=p;function m(y){for(var _={},N=1,S=y.allRows(),j=0;j<S.length;j++)for(var A=S[j],T=0,F=y.columns;T<F.length;T++){var O=F[T],E=_[O.index];if(N>1)N--,delete A.cells[O.index];else if(E)E.cell.height+=A.height,N=E.cell.colSpan,delete A.cells[O.index],E.left--,E.left<=1&&delete _[O.index];else{var L=A.cells[O.index];if(!L)continue;if(L.height=A.height,L.rowSpan>1){var B=S.length-j,G=L.rowSpan>B?B:L.rowSpan;_[O.index]={cell:L,left:G,row:A}}}}}function x(y){for(var _=y.allRows(),N=0;N<_.length;N++)for(var S=_[N],j=null,A=0,T=0,F=0;F<y.columns.length;F++){var O=y.columns[F];if(T-=1,T>1&&y.columns[F+1])A+=O.width,delete S.cells[O.index];else if(j){var E=j;delete S.cells[O.index],j=null,E.width=O.width+A}else{var E=S.cells[O.index];if(!E)continue;if(T=E.colSpan,A=0,E.colSpan>1){j=E,A+=O.width;continue}E.width=O.width+A}}}function g(y,_){for(var N={count:0,height:0},S=0,j=y.allRows();S<j.length;S++){for(var A=j[S],T=0,F=y.columns;T<F.length;T++){var O=F[T],E=A.cells[O.index];if(E){_.applyStyles(E.styles,!0);var L=E.width-E.padding("horizontal");if(E.styles.overflow==="linebreak")E.text=_.splitTextToSize(E.text,L+1/_.scaleFactor(),{fontSize:E.styles.fontSize});else if(E.styles.overflow==="ellipsize")E.text=v(E.text,L,E.styles,_,"...");else if(E.styles.overflow==="hidden")E.text=v(E.text,L,E.styles,_,"");else if(typeof E.styles.overflow=="function"){var B=E.styles.overflow(E.text,L);typeof B=="string"?E.text=[B]:E.text=B}E.contentHeight=E.getContentHeight(_.scaleFactor(),_.getLineHeightFactor());var G=E.contentHeight/E.rowSpan;E.rowSpan>1&&N.count*N.height<G*E.rowSpan?N={height:G,count:E.rowSpan}:N&&N.count>0&&N.height>G&&(G=N.height),G>A.height&&(A.height=G)}}N.count--}}function v(y,_,N,S,j){return y.map(function(A){return b(A,_,N,S,j)})}c.ellipsize=v;function b(y,_,N,S,j){var A=1e4*S.scaleFactor();if(_=Math.ceil(_*A)/A,_>=(0,d.getStringWidth)(y,N,S))return y;for(;_<(0,d.getStringWidth)(y+j,N,S)&&!(y.length<=1);)y=y.substring(0,y.length-1);return y.trim()+j}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return n[l].call(u.exports,u,u.exports,i),u.exports}var s={};return function(){var l=s;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var m=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return m.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return m.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return m.Row}});function x(_){(0,c.default)(_)}l.applyPlugin=x;function g(_,N){var S=(0,u.parseInput)(_,N),j=(0,f.createTable)(_,S);(0,d.drawTable)(_,j)}function v(_,N){var S=(0,u.parseInput)(_,N);return(0,f.createTable)(_,S)}l.__createTable=v;function b(_,N){(0,d.drawTable)(_,N)}l.__drawTable=b;try{var y=i(964);y.jsPDF&&(y=y.jsPDF),x(y)}catch{}l.default=g}(),s}()})})(qUe);const YUe=({isOpen:e,onClose:t,onImportMail:r,onScanQR:n})=>e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 w-full max-w-md relative",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white min-w-[44px] min-h-[44px] p-2 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-cyan-500/40 rounded-lg transition-all duration-300","aria-label":"Fermer",children:o.jsx(Gt,{size:20,"aria-hidden":"true"})}),o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Importer des Analyses"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:()=>{const a=document.createElement("input");a.type="file",a.accept=".eml,.msg",a.onchange=i=>{var l;const s=(l=i.target.files)==null?void 0:l[0];s&&r(s)},a.click()},children:[o.jsx(Go,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white",children:"Email du Laboratoire"}),o.jsx("p",{className:"text-sm text-white/60",children:"Importer directement depuis l'email"})]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex items-center gap-3",onClick:n,children:[o.jsx(Z1,{className:"w-5 h-5 text-cyan-400","aria-hidden":"true"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white",children:"Scanner QR Code"}),o.jsx("p",{className:"text-sm text-white/60",children:"Scanner le code depuis le rapport"})]})]})]})]})}):null,XUe=[{id:"A123",date:"2025-03-15",bassinId:"B001",laboratoire:"Labya",status:"conforme",technicien:"Jean Dupont",nextAnalyseDate:"2025-03-22",parameters:[{name:"pH",value:7.8,unit:"",threshold:8.5,status:"normal"},{name:"Température",value:12.5,unit:"°C",threshold:15,status:"normal"},{name:"Oxygène dissous",value:8.2,unit:"mg/L",threshold:7,status:"normal"},{name:"Salinité",value:33.5,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:2.8,unit:"NTU",threshold:5,status:"normal"},{name:"E. coli",value:45,unit:"UFC/100mL",threshold:230,status:"normal"}]},{id:"A124",date:"2025-03-15",bassinId:"B002",laboratoire:"Labya",status:"en-attente",technicien:"Marie Martin",parameters:[{name:"pH",value:8.3,unit:"",threshold:8.5,status:"warning"},{name:"Température",value:14.8,unit:"°C",threshold:15,status:"warning"},{name:"Oxygène dissous",value:6.8,unit:"mg/L",threshold:7,status:"warning"},{name:"Salinité",value:34.2,unit:"g/L",threshold:35,status:"normal"},{name:"Turbidité",value:4.2,unit:"NTU",threshold:5,status:"warning"},{name:"E. coli",value:180,unit:"UFC/100mL",threshold:230,status:"warning"}]}],KUe=()=>{const[e,t]=I.useState(null),[r,n]=I.useState(!1),[a,i]=I.useState(!1),{data:s,isLoading:l}=oS({queryKey:["analyses"],queryFn:async()=>(await new Promise(m=>setTimeout(m,1e3)),XUe)}),c=async m=>{console.log("Importing from email:",m),n(!1)},u=()=>{n(!1),i(!0)},d=m=>{try{const x=JSON.parse(atob(m.split("/").pop()||""));console.log("QR Code data:",x)}catch(x){console.error("Erreur lors du décodage du QR code:",x)}},f=async()=>{try{const m=new Ft;m.setFontSize(20),m.setTextColor(44,62,80),m.text("Rapport d'Analyses OYSTER CULT",15,20),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Généré le ${er(new Date,"d MMMM yyyy 'à' HH:mm",{locale:xn})}`,15,30);const x=(s==null?void 0:s.map(g=>[er(new Date(g.date),"dd/MM/yyyy"),g.bassinId,g.status.charAt(0).toUpperCase()+g.status.slice(1),g.technicien||"-",er(new Date(g.nextAnalyseDate||""),"dd/MM/yyyy")]))||[];m.autoTable({startY:40,head:[["Date","Bassin","Statut","Technicien","Prochaine Analyse"]],body:x,theme:"striped",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10}}),s==null||s.forEach((g,v)=>{v>0&&m.addPage();const b=20;m.setFontSize(16),m.setTextColor(44,62,80),m.text(`Détails Analyse - Bassin ${g.bassinId}`,15,b),m.setFontSize(12),m.setTextColor(100,100,100),m.text(`Date: ${er(new Date(g.date),"d MMMM yyyy",{locale:xn})}`,15,b+10),m.text(`Technicien: ${g.technicien||"-"}`,15,b+20),m.text(`Statut: ${g.status.charAt(0).toUpperCase()+g.status.slice(1)}`,15,b+30);const y=g.parameters.map(_=>[_.name,_.value.toString(),_.unit,_.threshold?_.threshold.toString():"-",_.status.charAt(0).toUpperCase()+_.status.slice(1)]);m.autoTable({startY:b+40,head:[["Paramètre","Valeur","Unité","Seuil","Statut"]],body:y,theme:"grid",headStyles:{fillColor:[44,62,80],textColor:[255,255,255]},styles:{fontSize:10},columnStyles:{0:{cellWidth:40},1:{cellWidth:30},2:{cellWidth:30},3:{cellWidth:30},4:{cellWidth:30}}})}),m.save(`analyses_${er(new Date,"yyyy-MM-dd")}.pdf`)}catch(m){console.error("Erreur lors de l'export:",m)}},h=m=>{switch(m){case"conforme":return"bg-emerald-500/20 text-emerald-400";case"non-conforme":return"bg-red-500/20 text-red-400";default:return"bg-amber-500/20 text-amber-400"}},p=m=>{switch(m){case"normal":return"text-emerald-400";case"warning":return"text-amber-400";case"critical":return"text-red-400";default:return"text-white"}};return o.jsxs("div",{className:"container mx-auto px-4 py-10 max-w-7xl",children:[o.jsxs("div",{className:"bg-gradient-to-br from-[rgba(15,23,42,0.3)] to-[rgba(20,100,100,0.3)] backdrop-filter backdrop-blur-[10px] p-6 rounded-lg shadow-[rgba(0,0,0,0.2)_0px_10px_20px_-5px,rgba(0,150,255,0.1)_0px_8px_16px_-8px,rgba(255,255,255,0.07)_0px_-1px_2px_0px_inset,rgba(0,65,255,0.05)_0px_0px_8px_inset,rgba(0,0,0,0.05)_0px_0px_1px_inset] border border-white/10 hover:border-white/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[o.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent flex items-center gap-2",children:[o.jsx(ME,{size:28,className:"text-cyan-400","aria-hidden":"true"}),"Analyses"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2),0_0_5px_rgba(0,0,0,0.2)_inset] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25),0_0_5px_rgba(0,0,0,0.2)_inset] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer des analyses",children:[o.jsx(Uo,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:"Importer Analyses"})]}),o.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Exporter en PDF",children:[o.jsx(Ho,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:"Exporter PDF"})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-cyan-500/10 flex items-center justify-center",children:o.jsx(io,{className:"h-5 w-5 text-cyan-400","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-medium text-white",children:"Résultats d'analyses"}),o.jsxs("p",{className:"text-sm text-white/60",children:["Dernière mise à jour: ",er(new Date,"d MMMM yyyy 'à' HH:mm",{locale:xn})]})]})]}),l?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"w-10 h-10 border-t-2 border-b-2 border-cyan-400 rounded-full animate-spin"})}):(s==null?void 0:s.length)===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center bg-white/5 rounded-lg border border-white/10",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4",children:o.jsx(ME,{className:"w-8 h-8 text-cyan-400","aria-hidden":"true"})}),o.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Aucune analyse disponible"}),o.jsx("p",{className:"text-white/60 max-w-md",children:"Commencez par importer des résultats d'analyses de laboratoire."}),o.jsxs("button",{onClick:()=>n(!0),className:"mt-6 flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 shadow-[0_4px_10px_rgba(0,0,0,0.25),0_0_15px_rgba(0,210,200,0.2)] hover:shadow-[0_6px_15px_rgba(0,0,0,0.3),0_0_20px_rgba(0,210,200,0.25)] min-w-[44px] min-h-[44px] focus:outline-none focus:ring-2 focus:ring-cyan-500/40 transition-all duration-300 transform hover:-translate-y-1","aria-label":"Importer votre première analyse",children:[o.jsx(Uo,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:"Importer une analyse"})]})]}):o.jsx("div",{className:"space-y-4",children:s==null?void 0:s.map(m=>o.jsxs("div",{className:`p-4 rounded-lg bg-white/5 border border-white/10 hover:border-cyan-400/30 transition-all duration-300 ${e===m.id?"shadow-[0_4px_15px_rgba(0,210,200,0.2)]":"shadow-[0_2px_10px_rgba(0,0,0,0.2)]"}`,children:[o.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>t(e===m.id?null:m.id),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${h(m.status)}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-white",children:["Bassin ",m.bassinId]}),o.jsxs("p",{className:"text-sm text-white/60",children:[er(new Date(m.date),"d MMMM yyyy",{locale:xn}),m.technicien?` • ${m.technicien}`:""]})]})]}),o.jsx("button",{"aria-label":e===m.id?"Masquer les détails":"Afficher les détails",className:"p-2 rounded-full bg-white/5 hover:bg-white/10 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",children:e===m.id?o.jsx(tf,{className:"w-5 h-5 text-white/60","aria-hidden":"true"}):o.jsx(Es,{className:"w-5 h-5 text-white/60","aria-hidden":"true"})})]}),e===m.id&&o.jsxs(ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-white/10",children:[o.jsx("h4",{className:"font-medium text-white mb-3",children:"Paramètres analysés"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.parameters.map((x,g)=>o.jsxs("div",{className:"bg-white/5 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-white/80",children:x.name}),o.jsxs("p",{className:`text-lg font-medium ${p(x.status)}`,children:[x.value," ",x.unit]})]}),x.threshold&&o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-white/60",children:"Seuil"}),o.jsxs("p",{className:"text-sm text-white/80",children:[x.threshold," ",x.unit]})]})]},g))}),m.nextAnalyseDate&&o.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/60",children:[o.jsx("span",{children:"Prochaine analyse prévue le:"}),o.jsx("span",{className:"text-white",children:er(new Date(m.nextAnalyseDate),"d MMMM yyyy",{locale:xn})})]})]})]},m.id))})]})]}),o.jsx(Ir,{children:r&&o.jsx(YUe,{isOpen:r,onClose:()=>n(!1),onImportMail:c,onScanQR:u})}),o.jsx(Ir,{children:a&&o.jsx(VUe,{onClose:()=>i(!1),onScanSuccess:d})})]})},Fa={container:`
    relative overflow-hidden rounded-xl
    bg-gradient-to-br from-[rgba(10,30,50,0.65)] to-[rgba(20,100,100,0.45)]
    -webkit-backdrop-filter: blur(20px)
    backdrop-filter: blur(20px)
    shadow-[rgba(0,0,0,0.2)_0px_5px_20px_-5px,rgba(0,200,200,0.1)_0px_5px_12px_-5px,rgba(255,255,255,0.07)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.05)_0px_0px_12px_inset,rgba(0,0,0,0.1)_0px_0px_8px_inset]
    border-0
  `,heading:`
    text-lg font-medium 
    bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent
  `,subheading:`
    text-sm text-white/70
  `,hoverEffect:`
    transition-all duration-200
    hover:shadow-[rgba(0,0,0,0.25)_0px_8px_25px_-5px,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(255,255,255,0.1)_0px_-1px_3px_0px_inset,rgba(0,200,200,0.1)_0px_0px_15px_inset,rgba(0,0,0,0.15)_0px_0px_8px_inset]
  `,progressBar:`
    relative h-2 rounded-full overflow-hidden
    bg-[rgba(0,20,40,0.3)] mt-2 mb-3
  `},QUe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},cN={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.4}}},JUe=()=>{const[e,t]=I.useState(!0),[r,n]=I.useState(!1),[a,i]=I.useState(!1),[s,l]=I.useState([{id:"1",name:"Caméra Entrée",ip:"192.168.1.100:554",status:"online",lastSeen:"24/03 17:47",alerts:0},{id:"2",name:"Caméra Bassin #1",ip:"192.168.1.101:554",status:"online",lastSeen:"24/03 17:50",alerts:2},{id:"3",name:"Caméra Bassin #2",ip:"192.168.1.102:554",status:"offline",lastSeen:"23/03 14:33",alerts:0},{id:"4",name:"Caméra Zone de Stockage",ip:"192.168.1.103:554",status:"online",lastSeen:"24/03 17:49",alerts:1}]);I.useEffect(()=>{const u=()=>{i(window.innerWidth<=768)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),I.useEffect(()=>{const u=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(u)},[]);const c=u=>{u.preventDefault();const d=new FormData(u.currentTarget),f={id:`${s.length+1}`,name:d.get("camera-name"),ip:d.get("camera-ip"),status:"online",lastSeen:new Date().toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),alerts:0};l([...s,f]),n(!1)};return e?o.jsx("div",{className:"h-full w-full flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-t-cyan-500 border-b-cyan-500 border-l-transparent border-r-transparent rounded-full animate-spin"}),o.jsx("span",{className:"mt-4 text-white/70",children:"Chargement des caméras..."})]})}):o.jsxs(ke.div,{initial:"hidden",animate:"visible",variants:QUe,className:"space-y-6",children:[o.jsx(pg,{icon:o.jsx(zW,{size:28,className:"text-white"}),title:"Surveillance"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 w-full",children:[o.jsxs(ke.div,{variants:cN,className:`${Fa.container} ${Fa.hoverEffect} p-5 space-y-4`,children:[o.jsx("h2",{className:Fa.heading,children:"Statistiques surveillance"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:Fa.subheading,children:"Caméras actives"}),o.jsxs("div",{className:"bg-green-500/20 text-green-300 text-xs px-2 py-1 rounded-full",children:[s.filter(u=>u.status==="online").length,"/",s.length]})]}),o.jsxs("div",{className:"text-2xl font-bold text-white mt-2",children:[Math.round(s.filter(u=>u.status==="online").length/s.length*100),"%"]}),o.jsx("div",{className:Fa.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-green-500 to-cyan-400",initial:{width:0},animate:{width:`${s.filter(u=>u.status==="online").length/s.length*100}%`},transition:{duration:1,ease:"easeOut"}})})]}),o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:Fa.subheading,children:"Alertes aujourd'hui"}),o.jsx("div",{className:"bg-amber-500/20 text-amber-300 text-xs px-2 py-1 rounded-full",children:s.reduce((u,d)=>u+d.alerts,0)})]}),o.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:s.reduce((u,d)=>u+d.alerts,0)}),o.jsx("div",{className:Fa.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-amber-500 to-orange-400",initial:{width:0},animate:{width:s.reduce((u,d)=>u+d.alerts,0)>0?"50%":"0%"},transition:{duration:1,ease:"easeOut"}})})]}),o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:Fa.subheading,children:"Durée fonctionnement"}),o.jsx("div",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-1 rounded-full",children:"Stable"})]}),o.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"6j 12h"}),o.jsx("div",{className:Fa.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-400",initial:{width:0},animate:{width:"85%"},transition:{duration:1,ease:"easeOut"}})})]}),o.jsxs("div",{className:"bg-[rgba(0,40,80,0.2)] rounded-lg p-3 shadow-[rgba(0,0,0,0.15)_0px_5px_12px,rgba(0,210,200,0.05)_0px_0px_3px_inset]",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:Fa.subheading,children:"Espace stockage"}),o.jsx("div",{className:"bg-cyan-500/20 text-cyan-300 text-xs px-2 py-1 rounded-full",children:"84%"})]}),o.jsx("div",{className:"text-2xl font-bold text-white mt-2",children:"758.4 Go"}),o.jsx("div",{className:Fa.progressBar,children:o.jsx(ke.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-400",initial:{width:0},animate:{width:"84%"},transition:{duration:1,ease:"easeOut"}})})]})]})]}),o.jsxs(ke.div,{variants:cN,className:`${Fa.container} ${Fa.hoverEffect} p-5`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsx("h2",{className:Fa.heading,children:"Caméras de surveillance"}),o.jsxs("button",{onClick:()=>n(!0),className:"px-3 py-1.5 bg-[rgba(0,128,128,0.3)] hover:bg-[rgba(0,128,128,0.4)] rounded-lg text-sm text-white flex items-center transition-all shadow-[rgba(0,0,0,0.15)_0px_4px_8px,rgba(0,210,200,0.1)_0px_0px_3px_inset] min-w-[44px] min-h-[44px]","aria-label":"Ajouter une caméra",children:[o.jsx(gr,{size:16,className:"mr-2"}),"Ajouter"]})]}),o.jsx("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:s.map(u=>o.jsxs("div",{className:"rounded-lg backdrop-blur-sm bg-[rgba(0,40,80,0.2)] border border-white/10 transition-all duration-200 hover:border-cyan-500/30 p-4 flex flex-col focus-visible:ring-2 focus-visible:ring-cyan-500/50 focus:outline-none",tabIndex:0,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-white",children:u.name}),o.jsx("p",{className:"text-white/60 text-sm",children:u.ip}),o.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",u.lastSeen]})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${u.status==="online"?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:u.status==="online"?"Connecté":"Déconnecté"})]}),o.jsxs("div",{className:"bg-[rgba(0,20,40,0.3)] rounded-lg h-24 overflow-hidden relative",children:[u.status==="online"?o.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url('/OYSTERCULT/images/camera-feed-${u.id}.jpg')`}}):o.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white/60",children:[o.jsx(Op,{className:"mr-2 opacity-50",size:18}),"Signal perdu"]}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-1",children:o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("span",{className:"text-xs text-white/80 bg-black/40 px-1.5 py-0.5 rounded text-right",children:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})})})]}),o.jsxs("div",{className:"flex justify-between gap-2 mt-3",children:[o.jsxs("button",{className:"flex-1 bg-[rgba(0,80,110,0.3)] hover:bg-[rgba(0,90,125,0.4)] text-white py-1.5 px-3 rounded-lg flex items-center justify-center text-sm transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-w-[44px] min-h-[44px]","aria-label":`Voir le flux de ${u.name}`,children:[o.jsx(Wc,{size:16,className:"mr-2"}),"Voir le flux"]}),o.jsx("button",{className:"bg-[rgba(180,40,40,0.2)] hover:bg-[rgba(180,40,40,0.3)] text-red-300 p-1.5 rounded-lg flex items-center justify-center transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/50 min-w-[44px] min-h-[44px]","aria-label":`Supprimer ${u.name}`,children:o.jsx(Ei,{size:16})})]})]},u.id))})]}),o.jsxs(ke.div,{variants:cN,className:`${Fa.container} ${Fa.hoverEffect} p-5`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsx("h2",{className:Fa.heading,children:"Journal d'alertes"}),o.jsx("div",{className:"text-sm text-white/60",children:"Aujourd'hui, 24 mars"})]}),o.jsxs("div",{className:"space-y-3 overflow-auto pr-1",style:{maxHeight:"calc(100vh - 230px)"},children:[[{id:1,camera:"Caméra Bassin #1",time:"16:05",message:"Mouvement détecté",level:"warning"},{id:2,camera:"Caméra Zone de Stockage",time:"15:32",message:"Objet retiré",level:"warning"},{id:3,camera:"Caméra Bassin #1",time:"14:47",message:"Niveau d'eau bas",level:"error"},{id:4,camera:"Caméra Bassin #2",time:"09:15",message:"Connexion perdue",level:"error"},{id:5,camera:"Caméra Entrée",time:"08:01",message:"Mouvement détecté",level:"info"}].map(u=>o.jsxs("div",{className:"p-3 rounded-lg flex items-center bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,25,45,0.4)] transition-colors",children:[o.jsx("div",{className:`
                  w-10 h-10 rounded-full mr-3 flex items-center justify-center
                  ${u.level==="error"?"bg-red-500/20 text-red-300":u.level==="warning"?"bg-amber-500/20 text-amber-300":"bg-blue-500/20 text-blue-300"}
                `,children:o.jsx(Ai,{size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium text-white",children:u.camera}),o.jsx("span",{className:"text-sm text-white/40",children:u.time})]}),o.jsx("p",{className:"text-sm mt-0.5 text-white/70",children:u.message})]})]},u.id)),o.jsx("button",{className:"w-full mt-4 bg-[rgba(0,40,80,0.2)] hover:bg-[rgba(0,50,90,0.3)] text-white/80 py-2 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 min-h-[44px]","aria-label":"Voir toutes les alertes",children:"Voir toutes les alertes"})]})]})]}),o.jsx(Ir,{children:r&&o.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:[o.jsx(ke.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>n(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),o.jsx(ke.div,{className:`relative w-full max-w-md rounded-xl ${Fa.container} overflow-hidden`,initial:{opacity:0,transform:"translateY(30px)"},animate:{opacity:1,transform:"translateY(0)"},exit:{opacity:0,transform:"translateY(30px)"},transition:{duration:.4,ease:[.19,1,.22,1]},children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:`text-xl ${Fa.heading}`,children:"Ajouter une caméra"}),o.jsx("button",{onClick:()=>n(!1),className:"rounded-full p-1.5 bg-[rgba(0,40,80,0.3)] hover:bg-[rgba(0,50,90,0.4)] transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50","aria-label":"Fermer",children:o.jsx(Gt,{size:18})})]}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"camera-name",className:"block text-sm font-medium mb-1 text-white/80",children:"Nom"}),o.jsx("input",{id:"camera-name",name:"camera-name",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Caméra Entrée",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"camera-location",className:"block text-sm font-medium mb-1 text-white/80",children:"Emplacement"}),o.jsx("input",{id:"camera-location",name:"camera-location",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"Entrée principale"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"camera-ip",className:"block text-sm font-medium mb-1 text-white/80",children:"Adresse IP"}),o.jsx("input",{id:"camera-ip",name:"camera-ip",type:"text",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",placeholder:"192.168.1.100:554",pattern:"^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\:[0-9]{1,5})?$",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"camera-type",className:"block text-sm font-medium mb-1 text-white/80",children:"Type"}),o.jsxs("select",{id:"camera-type",name:"camera-type",className:"w-full bg-[rgba(0,20,40,0.3)] border border-white/10 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-cyan-500/50 focus-visible:ring-2 focus-visible:ring-cyan-500/50",required:!0,children:[o.jsx("option",{value:"ip",children:"Caméra IP"}),o.jsx("option",{value:"rtsp",children:"RTSP Stream"}),o.jsx("option",{value:"hls",children:"HLS Stream"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2.5 bg-[rgba(0,20,40,0.3)] hover:bg-[rgba(0,30,50,0.4)] border border-white/10 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white/80 min-h-[44px]",children:"Annuler"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50 text-white font-medium min-h-[44px]",children:"Ajouter"})]})]})]})})]})})]})},rS=I.forwardRef(({children:e,className:t,variant:r="default",noPadding:n,fullWidth:a,...i},s)=>{const l="rounded-lg backdrop-blur-sm bg-black/40 border transition-all duration-200",c={default:"border-white/10",outlined:"border-white/20 shadow-sm",elevated:"border-white/10 shadow-lg"},u=n?"p-0":"p-6",d=a?"w-full":"";return o.jsx(ke.div,{ref:s,className:Ci(l,c[r],u,d,"focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500/50",t),...i,whileHover:{scale:1.005},transition:{type:"spring",duration:.3,...i.transition},style:{WebkitBackdropFilter:"blur(8px)",...i.style},tabIndex:i.tabIndex||0,children:e})});rS.displayName="Card";const Vu={success:e=>{console.log(`Success: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},3e3)},error:e=>{console.error(`Error: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-red-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},4e3)},info:e=>{console.info(`Info: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-blue-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)",setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>t.remove(),300)},3e3)},warning:e=>{console.warn(`Warning: ${e}`);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-yellow-500 text-white p-4 rounded shadow-lg z-50 flex items-center",t.setAttribute("role","alert"),t.setAttribute("aria-live","polite");const r=document.createElement("span");r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
    </svg>`,t.appendChild(r);const n=document.createElement("span");n.textContent=e,t.appendChild(n),document.body.appendChild(t),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.transition="all 0.3s ease-in-out",window.matchMedia("(prefers-reduced-motion: reduce)").matches?(t.style.opacity="1",t.style.transform="none"):(t.offsetWidth,t.style.opacity="1",t.style.transform="translateY(0)"),setTimeout(()=>{t.style.opacity="0",window.matchMedia("(prefers-reduced-motion: reduce)").matches||(t.style.transform="translateY(-20px)"),setTimeout(()=>t.remove(),300)},3e3)}},ZUe=()=>{const[e,t]=I.useState(()=>{const g=localStorage.getItem("surveillanceDevices");return g?JSON.parse(g):[{id:"1",name:"Caméra entrée",ipAddress:"192.168.1.100",port:"554",username:"admin",password:"********",isConnected:!0,lastSeen:new Date().toISOString()}]}),[r,n]=I.useState({name:"",ipAddress:"",port:"554",username:"admin",password:""}),[a,i]=I.useState(!1),[s,l]=I.useState(!1),[c,u]=I.useState(!0);I.useEffect(()=>{localStorage.setItem("surveillanceDevices",JSON.stringify(e))},[e]),I.useEffect(()=>{const g=setTimeout(()=>{u(!1)},800);return()=>clearTimeout(g)},[]);const d=(g,v)=>{n({...r,[g]:v})},f=()=>{if(!r.ipAddress||!r.port){Vu.error("Veuillez saisir l'adresse IP et le port");return}l(!0),setTimeout(()=>{l(!1),Math.random()>.2?Vu.success(`Connexion réussie à ${r.ipAddress}:${r.port}`):Vu.error(`Échec de connexion à ${r.ipAddress}:${r.port}`)},1500)},h=()=>{if(!r.name||!r.ipAddress){Vu.error("Veuillez saisir au moins le nom et l'adresse IP");return}const g={...r,id:Date.now().toString(),isConnected:!0,lastSeen:new Date().toISOString()};t([...e,g]),n({name:"",ipAddress:"",port:"554",username:"admin",password:""}),i(!1),Vu.success(`${g.name} ajouté avec succès`)},p=g=>{const v=e.find(b=>b.id===g);v&&(t(e.filter(b=>b.id!==g)),Vu.info(`${v.name} supprimé`))},m=g=>{Vu.info(`Ouverture du flux de ${g.name}...`),setTimeout(()=>{const v=e.map(b=>b.id===g.id?{...b,lastSeen:new Date().toISOString()}:b);t(v),Vu.success(`Flux de ${g.name} prêt à être affiché`)},1200)},x=g=>{if(!g)return"Jamais";const v=new Date(g);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(v)};return c?o.jsx("div",{className:"container mx-auto p-4 max-w-4xl flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"text-center",children:[o.jsx(pN,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-cyan-400"}),o.jsx("p",{className:"text-lg text-white/70",children:"Chargement des appareils de surveillance..."})]})}):o.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Surveillance Vidéo"}),o.jsxs(mn,{onClick:()=>i(!a),"aria-label":a?"Annuler l'ajout d'une caméra":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[a?o.jsx(Gt,{className:"mr-2"}):o.jsx(gr,{className:"mr-2"}),a?"Annuler":"Ajouter une caméra"]})]}),a&&o.jsxs(rS,{className:"p-4 mb-6 border border-blue-500/30",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Connecter un nouvel appareil"}),o.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(Kl,{htmlFor:"name",children:"Nom de l'appareil"}),o.jsx(tr,{id:"name",value:r.name,onChange:g=>d("name",g.target.value),placeholder:"Caméra entrée",className:"mt-1","aria-required":"true"})]}),o.jsxs("div",{children:[o.jsx(Kl,{htmlFor:"ipAddress",children:"Adresse IP"}),o.jsx(tr,{id:"ipAddress",value:r.ipAddress,onChange:g=>d("ipAddress",g.target.value),placeholder:"192.168.1.100",className:"mt-1","aria-required":"true"})]}),o.jsxs("div",{children:[o.jsx(Kl,{htmlFor:"port",children:"Port"}),o.jsx(tr,{id:"port",value:r.port,onChange:g=>d("port",g.target.value),placeholder:"554",className:"mt-1","aria-required":"true"})]}),o.jsxs("div",{children:[o.jsx(Kl,{htmlFor:"username",children:"Nom d'utilisateur"}),o.jsx(tr,{id:"username",value:r.username,onChange:g=>d("username",g.target.value),placeholder:"admin",className:"mt-1",autoComplete:"username"})]}),o.jsxs("div",{children:[o.jsx(Kl,{htmlFor:"password",children:"Mot de passe"}),o.jsx(tr,{id:"password",type:"password",value:r.password,onChange:g=>d("password",g.target.value),placeholder:"••••••••",autoComplete:"new-password",className:"mt-1"})]}),o.jsxs("div",{className:"flex gap-2 col-span-2 mt-2",children:[o.jsxs(mn,{variant:"outline",onClick:f,disabled:s,"aria-label":"Tester la connexion",className:"min-w-[44px] min-h-[44px]",children:[s?o.jsx(pN,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(Ky,{className:"mr-2 h-4 w-4"}),"Tester la connexion"]}),o.jsxs(mn,{onClick:h,"aria-label":"Ajouter la caméra",className:"min-w-[44px] min-h-[44px]",children:[o.jsx(gr,{className:"mr-2 h-4 w-4"}),"Ajouter"]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:["Vos appareils (",e.length,")"]}),e.length===0?o.jsxs("div",{className:"text-center p-8 bg-black/20 rounded-lg border border-white/10",children:[o.jsx(Op,{className:"mx-auto h-12 w-12 mb-3 opacity-50"}),o.jsx("p",{className:"text-white/70",children:"Aucun appareil de surveillance connecté"}),o.jsx("p",{className:"text-sm text-white/50 mb-4",children:'Cliquez sur "Ajouter une caméra" pour commencer'}),o.jsxs(mn,{onClick:()=>i(!0),"aria-label":"Ajouter une caméra",className:"min-w-[44px] min-h-[44px]",children:[o.jsx(gr,{className:"mr-2 h-4 w-4"}),"Ajouter une caméra"]})]}):o.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:e.map(g=>o.jsxs(rS,{className:"p-4 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-lg",children:g.name}),o.jsxs("p",{className:"text-white/60 text-sm",children:[g.ipAddress,":",g.port]}),o.jsxs("p",{className:"text-white/40 text-xs mt-1",children:["Dernière vue: ",x(g.lastSeen)]})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${g.isConnected?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,role:"status","aria-live":"polite",children:g.isConnected?"Connecté":"Déconnecté"})]}),o.jsxs("div",{className:"mt-auto flex gap-2 pt-4",children:[o.jsxs(mn,{variant:"outline",className:"flex-1 min-w-[44px] min-h-[44px]",onClick:()=>m(g),"aria-label":`Voir le flux de ${g.name}`,children:[o.jsx(Wc,{className:"mr-2 h-4 w-4"}),"Voir"]}),o.jsx(mn,{variant:"outline",className:"bg-red-500/10 hover:bg-red-500/20 text-red-300 min-w-[44px] min-h-[44px]",onClick:()=>p(g.id),"aria-label":`Supprimer ${g.name}`,children:o.jsx(Ei,{className:"h-4 w-4"})})]})]},g.id))})]})]})},eHe=new dM("https://cool-otter-362.convex.cloud");function tHe(){const e=uo(),t=X1(),[r,n]=I.useState(!1),[a,i]=I.useState(!1),[s,l]=I.useState(!1),c=I.useRef(null),[u,d]=I.useState(!1),[f,h]=I.useState(!1),{totalUnreadCount:p,markAsRead:m}=jY();I.useEffect(()=>{const g=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;d(g),g&&document.body.classList.add("ios-device")},[]),I.useEffect(()=>{const g=()=>{h(window.innerWidth<=768)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),I.useEffect(()=>{t.pathname.includes("/network/messages")||(c.current=t.pathname)},[t.pathname]);const x=()=>{t.pathname.includes("/network/messages")?e(c.current||"/dashboard"):e("/network/messages")};return o.jsxs(o.Fragment,{children:[o.jsx(gq,{onShowMobileMenu:()=>n(!0),onToggleNotifications:()=>i(!a),onShowEmergency:()=>l(!0),onEmergencyClick:()=>l(!0),onToggleMessages:x,unreadMessagesCount:p}),o.jsxs("div",{className:"flex min-h-screen h-full",children:[o.jsx("button",{className:"fixed top-6 left-6 z-50 md:hidden flex items-center justify-center w-14 h-14 rounded-lg shadow-lg transition-all duration-200",onClick:()=>n(!0),"aria-label":"Ouvrir le menu",style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",boxShadow:"rgba(0, 0, 0, 0.45) 0px 10px 30px -5px, rgba(0, 0, 0, 0.3) 5px 5px 20px -5px, rgba(0, 210, 200, 0.25) 0px 0px 15px inset",WebkitTapHighlightColor:"transparent",transform:"translateZ(0)",willChange:"transform"},children:o.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"24px",height:"24px",filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.4))"},children:[o.jsx("path",{d:"M15 20 Q25 12, 35 20 T55 20 T75 20 T95 20",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),o.jsx("path",{d:"M15 40 Q25 32, 35 40 T55 40 T75 40 T95 40",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),o.jsx("path",{d:"M15 60 Q25 52, 35 60 T55 60 T75 60 T95 60",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"}),o.jsx("path",{d:"M15 80 Q25 72, 35 80 T55 80 T75 80 T95 80",stroke:"white",strokeWidth:"7",strokeLinecap:"round",fill:"none"})]})}),o.jsx(bq,{showMobileMenu:r,onCloseMobileMenu:()=>n(!1),onEmergencyClick:()=>l(!0),onToggleMessages:x,onToggleNotifications:()=>i(!0)}),o.jsx("div",{className:`
            flex-1 pt-16 md:pt-16 
            pb-4 
            px-4 md:px-6 lg:px-8
            ml-0 lg:ml-[4.5rem] transition-all duration-300
            min-h-screen
          `,style:{background:"linear-gradient(135deg, rgba(0, 10, 40, 0.95) 0%, rgba(0, 128, 128, 0.9) 100%)",WebkitBackdropFilter:"blur(20px)",backdropFilter:"blur(20px)",willChange:"transform",transform:"translate3d(0,0,0)",position:"fixed",inset:"0",width:"100%",height:"100%",overflow:f&&t.pathname.endsWith("/dashboard")?"hidden":"auto"},children:o.jsx("main",{className:`flex-1 p-6 pt-12 ${t.pathname.endsWith("/dashboard")?"h-full":"h-[calc(100%-80px)]"} ${f&&t.pathname.endsWith("/dashboard")?"overflow-hidden":""}`,children:o.jsxs("div",{className:`max-w-7xl mx-auto h-full outlet-container ${t.pathname.includes("/tasks")&&!f?"mt-[50px]":""}`,style:{minHeight:"calc(100% - 40px)"},children:[o.jsx(qW,{}),o.jsx("div",{style:{height:"40px"}})]})})})]}),o.jsxs(Ir,{children:[a&&o.jsx(mY,{onClose:()=>i(!1)}),s&&o.jsx(wY,{isOpen:s,onClose:()=>l(!1)})]}),o.jsx(_Y,{})]})}function rHe(){const e=X1();uo();const t=localStorage.getItem("isAuthenticated")==="true";return e.pathname,o.jsx("div",{className:"min-h-screen w-screen h-screen fixed inset-0 overflow-hidden",children:o.jsxs(VW,{children:[o.jsx(vr,{path:"/auth",element:o.jsx(SY,{})}),o.jsx(vr,{path:"/surveillance/simple",element:o.jsx(JUe,{})}),t?o.jsxs(vr,{element:o.jsx(tHe,{}),children:[o.jsx(vr,{path:"/",element:o.jsx(f_,{to:"/dashboard",replace:!0})}),o.jsx(vr,{path:"/dashboard",element:o.jsx(xye,{})}),o.jsx(vr,{path:"/stocks",element:o.jsx(i7e,{})}),o.jsx(vr,{path:"/stock/:id",element:o.jsx(h7e,{})}),o.jsx(vr,{path:"/tables/:id",element:o.jsx(DFe,{})}),o.jsx(vr,{path:"/accounting",element:o.jsx(v7e,{})}),o.jsx(vr,{path:"/invoices",element:o.jsx(N7e,{})}),o.jsx(vr,{path:"/hr",element:o.jsx(F7e,{})}),o.jsx(vr,{path:"/network",element:o.jsx(Z7e,{})}),o.jsx(vr,{path:"/network/messages",element:o.jsx(MUe,{})}),o.jsx(vr,{path:"/config",element:o.jsx(Wz,{})}),o.jsx(vr,{path:"/notifications",element:o.jsx(_Fe,{})}),o.jsx(vr,{path:"/tasks",element:o.jsx(PFe,{})}),o.jsx(vr,{path:"/traceability",element:o.jsx(CBe,{})}),o.jsx(vr,{path:"/traceability/storage-locations",element:o.jsx(FUe,{})}),o.jsx(vr,{path:"/traceability/market-purchases",element:o.jsx(LUe,{})}),o.jsx(vr,{path:"/traceability/invoices-delivery-notes",element:o.jsx(BUe,{})}),o.jsx(vr,{path:"/traceability/batches",element:o.jsx(WUe,{})}),o.jsx(vr,{path:"/traceability/batch-history",element:o.jsx(UUe,{searchQuery:""})}),o.jsx(vr,{path:"/traceability/purification-pools",element:o.jsx(HUe,{})}),o.jsx(vr,{path:"/sales",element:o.jsx(OBe,{})}),o.jsx(vr,{path:"/purchases",element:o.jsx(RBe,{})}),o.jsx(vr,{path:"/profile",element:o.jsx(qBe,{})}),o.jsx(vr,{path:"/shop",element:o.jsx(GBe,{})}),o.jsx(vr,{path:"/suppliers",element:o.jsx(c$e,{})}),o.jsx(vr,{path:"/digital-vault",element:o.jsx(DUe,{})}),o.jsx(vr,{path:"/suppliers/:supplierId/catalog",element:o.jsx(u$e,{})}),o.jsx(vr,{path:"/suppliers/orders",element:o.jsx(bUe,{})}),o.jsx(vr,{path:"/surveillance",element:o.jsx(ZUe,{})}),o.jsx(vr,{path:"/analyses",element:o.jsx(KUe,{})}),o.jsx(vr,{path:"*",element:o.jsx(f_,{to:"/dashboard",replace:!0})})]}):o.jsx(vr,{path:"*",element:o.jsx(f_,{to:"/auth",replace:!0})})]})})}function nHe(){const e=new UW;return o.jsx(fM,{client:eHe,children:o.jsxs(HW,{client:e,children:[o.jsx(WW,{basename:"",children:o.jsx(rHe,{})}),o.jsx(FV,{position:"bottom-right"})]})})}const aHe=new dM("https://cool-otter-362.convex.cloud"),wH=document.getElementById("root");if(!wH)throw new Error("Root element not found");hM(wH).render(o.jsx(I.StrictMode,{children:o.jsx(fM,{client:aHe,children:o.jsx(nHe,{})})}));export{en as _};
//# sourceMappingURL=index-CvHsIAHD.js.map
