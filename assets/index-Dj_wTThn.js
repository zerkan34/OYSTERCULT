var ri=Object.defineProperty;var li=(t,a,s)=>a in t?ri(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var Ds=(t,a,s)=>li(t,typeof a!="symbol"?a+"":a,s);import{j as e,c as ni,p as di,m as j,M as ci,S as Et,a as Ge,u as Xe,b as Vt,d as Ks,e as Qt,B as Ie,P as de,r as c,A as _,C as wt,f as os,L as oi,g as xi,h as ea,i as ps,k as K,T as Se,G as ct,l as bs,n as gt,D as rt,o as mi,q as hi,U as me,s as gs,t as Ut,I as Fe,v as W,X as L,w as he,x as Jt,y as ee,z as T,E as ta,F as je,H as ce,J as I,K as ui,N as ue,O as pi,Q as we,R as bi,V as _e,W as Je,Y as Ms,Z as xs,_ as lt,$ as sa,a0 as aa,a1 as Ts,a2 as gi,a3 as jt,a4 as js,a5 as fs,a6 as ws,a7 as te,a8 as J,a9 as ji,aa as fi,ab as Ht,ac as ne,ad as ia,ae as wi,af as ve,ag as vi,ah as Ni,ai as yi,aj as it,ak as nt,al as vs,am as se,an as V,ao as ki,ap as ms,aq as Y,ar as Ue,as as Ci,at as Gt,au as De,av as Pe,aw as Ae,ax as ts,ay as fe,az as ze,aA as Si,aB as zi,aC as ot,aD as Di,aE as Mi,aF as ra,aG as la,aH as Ti,aI as na,aJ as da,aK as Pi,aL as Fi,aM as Ai,aN as Ns,aO as Ri,aP as Xt,aQ as ca,aR as oa,aS as oe,aT as Li,aU as xa,aV as ma,aW as ha,aX as hs,aY as qi,aZ as $i,a_ as Ei,a$ as ys,b0 as _i,b1 as Ii,b2 as vt,b3 as Nt,b4 as dt,b5 as Oi,b6 as Hi,b7 as Bi,b8 as Vi,b9 as Qi,ba as Ui,bb as Ji,bc as Gi,bd as yt,be as ua,bf as Oe,bg as pa,bh as ba,bi as ga,bj as _t,bk as Yt,bl as ks,bm as Xi,bn as ja,bo as fa,bp as Yi,bq as Wi,br as st,bs as wa,bt as Zi,bu as Ki,bv as va,bw as Ce,bx as er,by as It,bz as Na,bA as tr,bB as sr,bC as ar,bD as ir,bE as ya,bF as rr,bG as et,bH as Wt,bI as Ps,bJ as Fs,bK as lr,bL as nr,bM as dr,bN as cr,bO as or,bP as xr,bQ as ka,bR as Ca,bS as Sa,bT as za,bU as Da,bV as Ma,bW as mr,bX as hr,bY as ur,bZ as pr,b_ as br,b$ as gr,c0 as jr,c1 as As,c2 as fr,c3 as wr,c4 as vr,c5 as Nr,c6 as Rs,c7 as U,c8 as Ls,c9 as yr,ca as kr}from"./vendor-COko8kPf.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function G({variant:t="primary",size:a="md",fullWidth:s=!1,className:i="",children:r,...n}){const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors",x={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return e.jsx("button",{...n,className:`
        ${o}
        ${x[t]}
        ${m[a]}
        ${s?"w-full":""}
        ${i}
      `,children:r})}const Z=ni()(di(t=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[],unreadCount:0,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:a=>t({session:a}),setSidebarCollapsed:a=>t({sidebarCollapsed:a}),addNotification:a=>t(s=>{const i={...a,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...s.notifications,i],unreadCount:s.unreadCount+1}}),markAsRead:a=>t(s=>({notifications:s.notifications.map(i=>i.id===a?{...i,read:!0}:i),unreadCount:s.unreadCount-1})),markAllAsRead:()=>t(a=>({notifications:a.notifications.map(s=>({...s,read:!0})),unreadCount:0})),setTheme:a=>t({theme:a}),toggleTheme:()=>t(a=>({theme:a.theme==="dark"?"light":"dark"})),addBatch:a=>t(s=>({batches:[...s.batches,{...a,id:crypto.randomUUID()}]})),updateBatch:a=>t(s=>({batches:s.batches.map(i=>i.id===a.id?a:i)})),deleteBatch:a=>t(s=>({batches:s.batches.filter(i=>i.id!==a)})),setCompanyInfo:a=>t({companyInfo:a}),addUser:a=>t(s=>({users:[...s.users,{...a,id:crypto.randomUUID()}]})),updateUser:(a,s)=>t(i=>({users:i.users.map(r=>r.id===a?{...r,...s}:r)})),deleteUser:a=>t(s=>({users:s.users.filter(i=>i.id!==a)})),addRole:a=>t(s=>({roles:[...s.roles,{...a,id:crypto.randomUUID()}]})),updateRole:(a,s)=>t(i=>({roles:i.roles.map(r=>r.id===a?{...r,...s}:r)})),deleteRole:a=>t(s=>({roles:s.roles.filter(i=>i.id!==a)})),addSupplier:a=>t(s=>({suppliers:[...s.suppliers,{...a,id:crypto.randomUUID()}]})),updateSupplier:(a,s)=>t(i=>({suppliers:i.suppliers.map(r=>r.id===a?{...r,...s}:r)})),deleteSupplier:a=>t(s=>({suppliers:s.suppliers.filter(i=>i.id!==a)})),addPurchase:a=>t(s=>({purchases:[...s.purchases,{...a,id:crypto.randomUUID()}]})),updatePurchase:(a,s)=>t(i=>({purchases:i.purchases.map(r=>r.id===a?{...r,...s}:r)})),deletePurchase:a=>t(s=>({purchases:s.purchases.filter(i=>i.id!==a)})),resetSession:()=>t({session:null}),addTask:a=>t(s=>({tasks:[...s.tasks,{...a,id:crypto.randomUUID()}]})),updateTask:(a,s)=>t(i=>({tasks:i.tasks.map(r=>r.id===a?{...r,...s}:r)})),deleteTask:a=>t(s=>({tasks:s.tasks.filter(i=>i.id!==a)}))}),{name:"oyster-cult-storage",partialize:t=>({companyInfo:t.companyInfo,users:t.users,batches:t.batches,theme:t.theme,roles:t.roles,suppliers:t.suppliers,purchases:t.purchases,tasks:t.tasks})}));function Ta(){const{theme:t,toggleTheme:a}=Z();return e.jsxs(j.button,{onClick:a,className:"relative p-2 rounded-lg transition-colors hover:bg-[rgb(var(--color-background-hover))]",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":t==="dark"?"Passer en mode clair":"Passer en mode sombre",children:[e.jsx(j.div,{initial:!1,animate:{scale:t==="dark"?1:0,opacity:t==="dark"?1:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(ci,{className:"text-[rgb(var(--color-text-secondary))] hover:text-blue-400 transition-colors",size:24})}),e.jsx(j.div,{initial:!1,animate:{scale:t==="light"?1:0,opacity:t==="light"?1:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Et,{className:"text-[rgb(var(--color-brand-burgundy))] hover:text-[rgb(var(--color-brand-burgundy)_/_0.8)] transition-colors",size:24})}),e.jsx("div",{className:"w-6 h-6"})]})}function us({size:t=32,className:a="",withText:s=!1,textPosition:i="right"}){return e.jsxs("div",{className:`flex ${i==="bottom"?"flex-col items-center":"items-center"} ${a}`,style:{gap:t/4},children:[e.jsxs("div",{className:"relative flex items-center justify-center",style:{width:t,height:t},children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-full",style:{transform:"scale(1.2)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-burgundy/30 to-brand-burgundy rounded-full"}),e.jsx(j.div,{animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},className:"relative w-full h-full flex items-center justify-center",children:e.jsx(Ge,{className:"w-full h-full text-white"})})]}),s&&e.jsxs("div",{className:"font-industry tracking-wider whitespace-nowrap text-center",style:{fontSize:t/2},children:[e.jsx("span",{className:"text-gradient-cool font-bold",children:"OYSTER"}),e.jsx("span",{className:"text-white font-bold ml-1",children:"CULT"})]})]})}function Cr({onShowMobileMenu:t,onToggleNotifications:a,onShowEmergency:s,onEmergencyClick:i,onToggleMessages:r}){const{unreadCount:n}=Z(),o=Xe(),x=Vt(),m=()=>{x.pathname!=="/dashboard"&&o("/dashboard")};return e.jsx("header",{className:"fixed top-0 left-0 right-0 h-14 md:h-16 bg-background/80 backdrop-blur-sm border-b z-50 safe-area-inset-top",children:e.jsxs("div",{className:"h-full flex items-center justify-between px-2 md:px-4",children:[e.jsx(G,{variant:"ghost",size:"sm",onClick:t,className:"md:mr-2",children:e.jsx(Ks,{className:"h-4 w-4"})}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 cursor-pointer hidden sm:block",onClick:m,children:e.jsx(us,{size:32,withText:!0,textPosition:"right"})}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 cursor-pointer sm:hidden",onClick:m,children:e.jsx(us,{size:26})}),e.jsxs("div",{className:"flex items-center mr-[-0.5rem] md:mr-[-1rem] space-x-1 md:space-x-2",children:[e.jsxs(G,{"data-message-button":"true",variant:"ghost",size:"sm",onClick:r,className:`\r
            inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
            text-white/60 hover:text-white hover:bg-white/5\r
            px-3 py-1.5 text-sm\r
            \r
            relative group p-1.5 md:p-2\r
          `,children:[e.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(Qt,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-cyan-500 drop-shadow-[0_0_3px_rgba(6,182,212,0.5)]"})]}),e.jsxs(G,{"data-notification-bell":"true",variant:"ghost",size:"sm",onClick:a,className:`\r
            inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
            text-white/60 hover:text-white hover:bg-white/5\r
            px-3 py-1.5 text-sm\r
            \r
            relative group p-1.5 md:p-2\r
          `,children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(Ie,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-500 drop-shadow-[0_0_3px_rgba(59,130,246,0.5)]"}),n>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex items-center justify-center min-w-[14px] h-3.5 px-1 bg-amber-500 text-white text-[9px] font-bold rounded-full shadow-lg shadow-amber-900/20",children:n>9?"9+":n})]}),e.jsxs(G,{variant:"ghost",size:"sm",onClick:i,className:`\r
            inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
            text-white/60 hover:text-white hover:bg-white/5\r
            px-3 py-1.5 text-sm\r
            \r
            relative p-1 md:p-2\r
          `,children:[e.jsx("div",{className:"absolute inset-0 bg-red-500/30 rounded-full blur-lg"}),e.jsx("div",{className:"relative flex items-center justify-center h-7 w-7 md:h-8 md:w-8 bg-red-500 rounded-full",children:e.jsx(de,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-white drop-shadow-[0_0_3px_rgba(255,255,255,0.5)]"})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-800/50 rounded-lg blur-md opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"p-1 relative z-10",children:e.jsx(Ta,{})})]})]})]})})}const qs=t=>({pulse:{boxShadow:[`0 0 4px ${t}`,`0 0 8px ${t}`,`0 0 4px ${t}`],transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}}}),ss={Principal:{color:"from-blue-500/20 to-blue-600/5",textColor:"text-blue-300",indicator:"bg-gradient-to-b from-blue-400 to-[#0d9488]"},"Gestion des stocks":{color:"from-green-500/20 to-green-600/5",textColor:"text-green-300",indicator:"bg-gradient-to-b from-green-400 to-[#0d9488]"},Commercial:{color:"from-purple-500/20 to-purple-600/5",textColor:"text-purple-300",indicator:"bg-gradient-to-b from-purple-400 to-[#0d9488]"},Administration:{color:"from-amber-500/20 to-amber-600/5",textColor:"text-amber-300",indicator:"bg-gradient-to-b from-amber-400 to-[#0d9488]"},Paramètres:{color:"from-cyan-500/20 to-cyan-600/5",textColor:"text-cyan-300",indicator:"bg-gradient-to-b from-cyan-400 to-[#0d9488]"}},Sr=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:e.jsx(ea,{size:22})},{path:"/tasks",label:"Tâches",icon:e.jsx(ps,{size:22})}]},{category:"Gestion des stocks",items:[{path:"/inventory",label:"Stock",icon:e.jsx(K,{size:22})},{path:"/traceability",label:"Traçabilité",icon:e.jsx(Se,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:e.jsx(ct,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:e.jsx(bs,{size:22})},{path:"/purchases",label:"Commandes",icon:e.jsx(gt,{size:22})},{path:"/sales",label:"Ventes",icon:e.jsx(rt,{size:22})},{path:"/shop",label:"Boutique",icon:e.jsx(mi,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:e.jsx(hi,{size:22})},{path:"/hr",label:"RH",icon:e.jsx(me,{size:22})},{path:"/digitalvault",label:"Mon coffre-fort numérique",icon:e.jsx(gs,{size:22})}]},{category:"Paramètres",items:[{path:"/config",label:"Configuration",icon:e.jsx(Ge,{size:22})},{path:"/profile",label:"Mon Espace",icon:e.jsx(Ut,{size:22})}]}];function zr({showMobileMenu:t,onCloseMobileMenu:a,onEmergencyClick:s,onToggleMessages:i,onToggleNotifications:r}){const n=Vt(),o=Xe(),{setSession:x}=Z(),[m,u]=c.useState(!1),[l,d]=c.useState(null),[h,p]=c.useState(null),[b,f]=c.useState(!1),g=()=>{x(null),o("/auth")},v=()=>{f(!0),u(!m),setTimeout(()=>f(!1),300)},k={hidden:{opacity:0,x:-10},visible:w=>({opacity:1,x:0,transition:{delay:w*.05,duration:.2}})},F={expanded:{transform:"translateX(0) scaleX(1)",width:"18rem",transition:{type:"spring",stiffness:300,damping:25,mass:.8}},collapsed:{transform:"translateX(0) scaleX(1)",width:"5rem",transition:{type:"spring",stiffness:300,damping:25,mass:.8}},mobileHidden:{transform:"translateX(-100%)",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{transform:"translateX(0)",width:"85vw",maxWidth:"300px",transition:{type:"spring",stiffness:400,damping:30}}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`
          fixed inset-0 z-40 bg-black/50 backdrop-blur-sm lg:hidden
          ${t?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:a}),e.jsxs(j.div,{className:`
          fixed top-0 left-0 bottom-0 z-50 
          bg-gradient-to-b from-gray-900/95 to-brand-burgundy/90
          border-r border-white/10 shadow-xl shadow-black/40
          overflow-hidden
          ${t?"safe-area-inset-bottom":""}
        `,initial:"collapsed",animate:window.innerWidth>=1024?m?"collapsed":"expanded":t?"mobileVisible":"mobileHidden",variants:F,children:[e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs(j.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0d9488]/10 to-transparent"}),e.jsx(_,{mode:"wait",children:m?e.jsx(j.div,{className:"flex items-center justify-center px-2 py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):e.jsx(j.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"relative z-10",children:e.jsx(us,{})})})},"expanded-logo")}),e.jsx(j.button,{onClick:v,className:`
                rounded-full hidden lg:flex items-center justify-center transition-all duration-300 relative z-10
                w-8 h-8 bg-white/5 hover:bg-white/10 -webkit-backdrop-filter backdrop-filter backdrop-blur-md
                border border-white/10
              `,whileHover:{scale:1.05},whileTap:{scale:.95},children:m?e.jsx(wt,{size:16,className:"text-white/80"}):e.jsx(os,{size:16,className:"text-white/80"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto py-4 space-y-4 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:Sr.map((w,M)=>e.jsxs("div",{className:"px-4",children:[e.jsx("div",{className:`
                    text-xs font-semibold tracking-wider uppercase mb-2
                    ${ss[w.category].textColor}
                    ${m?"opacity-0 h-0 overflow-hidden":"opacity-100"}
                    transition-opacity duration-200
                  `,children:w.category}),e.jsx("div",{className:"space-y-1",children:w.items.map((N,D)=>{const A=n.pathname===N.path;N.path;const O=ss[w.category].color,q=ss[w.category].indicator;return e.jsx(oi,{to:N.path,onMouseEnter:()=>{d(w.category),p(N.path)},onMouseLeave:()=>{d(null),p(null)},children:e.jsxs(j.div,{className:`
                            group flex items-center rounded-xl px-3 py-2 relative
                            ${A?`bg-gradient-to-r ${O} -webkit-backdrop-filter backdrop-filter backdrop-blur-sm border border-white/10`:"hover:bg-white/5"}
                            transition-all duration-200
                          `,whileHover:{transform:"translateY(-2px)"},initial:"hidden",animate:"visible",custom:D,variants:k,children:[A&&e.jsx("div",{className:`absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-3/4 rounded-full ${q}`}),e.jsx("div",{className:`
                            flex items-center justify-center 
                            ${A?"text-white":"text-white/60 group-hover:text-white"}
                            transition-colors duration-200
                          `,children:N.icon}),!m&&e.jsx(j.span,{className:`
                                ml-3 text-sm font-medium
                                ${A?"text-white":"text-white/70 group-hover:text-white"}
                                transition-colors duration-200
                              `,initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{duration:.2},children:N.label})]})},N.path)})})]},w.category))}),e.jsxs("div",{className:"p-4 border-t border-white/10 bg-white/5 -webkit-backdrop-filter backdrop-filter backdrop-blur-sm",children:[!m&&e.jsx(j.div,{className:"mb-4 px-2",initial:{opacity:0},animate:{opacity:m?0:1,transition:{delay:.1,duration:.2}},children:e.jsxs(j.button,{onClick:s,className:"w-full flex items-center justify-center py-2.5 px-4 rounded-xl bg-gradient-to-r from-red-600/80 to-red-700/80 text-white font-medium shadow-lg border border-red-500/30",whileHover:{scale:1.02},whileTap:{scale:.98},animate:"pulse",variants:qs("rgba(239, 68, 68, 0.5)"),children:[e.jsx(de,{className:"mr-2",size:18}),e.jsx("span",{children:"Contacter l'assistance"})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(j.button,{className:"p-2 rounded-full text-white/70 hover:text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,children:e.jsx(Qt,{size:20})}),e.jsx(j.button,{className:"p-2 rounded-full text-white/70 hover:text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,children:e.jsx(Ie,{size:20})}),m&&e.jsx(j.button,{onClick:s,className:"p-2 rounded-full text-red-400 hover:text-red-300 hover:bg-red-900/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},animate:"pulse",variants:qs("rgba(239, 68, 68, 0.3)"),children:e.jsx(de,{size:20})}),e.jsx(j.button,{className:"p-2 rounded-full text-white/70 hover:text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,children:e.jsx(xi,{size:20})})]}),!m&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:e.jsx(Ta,{})})]})]})]}),e.jsx("button",{className:"lg:hidden absolute top-4 right-4 p-2 rounded-full bg-white/5 text-white/80 hover:bg-white/10 transition-colors",onClick:a,children:e.jsx(os,{size:24})})]}),e.jsx("button",{className:`
          lg:hidden fixed top-4 left-4 z-40 p-2 rounded-full 
          bg-brand-burgundy/90 text-white shadow-xl border border-white/10
          ${t?"hidden":"block"}
        `,onClick:()=>!t&&a(),children:e.jsx(Ks,{size:24})})]})}const Dr=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function Mr({onClose:t}){const{notifications:a,markAsRead:s,markAllAsRead:i,unreadCount:r}=Z(),[n,o]=c.useState("all"),[x,m]=c.useState(""),[u,l]=c.useState(!1);c.useState(null),c.useEffect(()=>{const h=p=>{p.key==="Escape"&&t()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[t]),c.useEffect(()=>{const h=p=>{const b=document.querySelector(".notifications-panel"),f=document.querySelector('[data-notification-bell="true"]');f&&f.contains(p.target)||b&&!b.contains(p.target)&&t()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[t]);const d=h=>{s(h)};return e.jsx(j.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md shadow-2xl z-[9999] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs(j.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Fe,{size:24,className:"text-brand-burgundy"}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:r})]}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!u),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(W,{size:20})}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(L,{size:20})})]})]}),e.jsx(_,{children:u&&e.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"relative mt-4",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:x,onChange:h=>m(h.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"flex space-x-2",children:Dr.map(h=>e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(h.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${n===h.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:h.label},h.value))}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:e.jsx(_,{mode:"popLayout",children:a.filter(h=>n==="unread"?!h.read:n==="important"?h.important:!0).filter(h=>x?h.title.toLowerCase().includes(x.toLowerCase())||h.message.toLowerCase().includes(x.toLowerCase()):!0).map((h,p)=>e.jsx(j.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:p*.05},className:`p-4 transition-colors relative group ${h.read?"bg-transparent":"bg-white/5"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${h.type==="alert"?"bg-red-500/20":h.type==="success"?"bg-green-500/20":h.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:h.type==="alert"?e.jsx(he,{className:"text-red-400",size:20}):h.type==="success"?e.jsx(Jt,{className:"text-green-400",size:20}):h.type==="warning"?e.jsx(he,{className:"text-yellow-400",size:20}):e.jsx(Fe,{className:"text-blue-400",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${h.type==="alert"?"text-red-400":h.type==="success"?"text-green-400":h.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:h.title}),e.jsx("p",{className:"text-sm text-white/70 mt-1",children:h.message})]}),!h.read&&e.jsx("div",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:14,className:"mr-1"}),T(new Date(h.timestamp),"PPp",{locale:I})]}),h.important&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),e.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[!h.read&&e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(h.id),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(ta,{size:16})}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(je,{size:16})}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5",children:e.jsx(ce,{size:16})})]})]})},h.id))})})]})})}const kt=t=>{const a=c.useRef(null);return c.useEffect(()=>{const s=r=>{a.current&&!a.current.contains(r.target)&&t()},i=setTimeout(()=>{document.addEventListener("mousedown",s)},100);return()=>{clearTimeout(i),document.removeEventListener("mousedown",s)}},[t]),a},Tr=(t,a)=>{const[s,i]=c.useState(0),[r,n]=c.useState(0),[o,x]=c.useState(0),[m,u]=c.useState(!1);return{handlers:{onTouchStart:p=>{i(p.touches[0].clientY),n(Date.now())},onTouchMove:async p=>{if(m)return;const f=p.touches[0].clientY-s,g=Date.now()-r;if(f>100&&g<300&&t){u(!0);try{await t()}finally{u(!1)}}},onTouchEnd:p=>{const b=Date.now();b-o<300&&a&&a(),x(b)}},isRefreshing:m}},Pr={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function xe({isOpen:t,onClose:a,children:s,title:i,size:r="md",showCloseButton:n=!0,className:o=""}){const x=kt(a);return c.useEffect(()=>{const m=u=>{u.key==="Escape"&&a()};return t&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow="unset"}},[t,a]),e.jsx(_,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs(j.div,{ref:x,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`w-full ${Pr[r]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${o}`,children:[(i||n)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[i&&e.jsx("h2",{className:"text-xl font-bold text-white",children:i}),n&&e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsx("div",{className:"p-6",children:s})]})})})]})})}function Fr({isOpen:t,onClose:a}){const[s,i]=c.useState(""),[r,n]=c.useState(""),[o,x]=c.useState(""),[m,u]=c.useState(8),[l,d]=c.useState(!0),[h,p]=c.useState(!1),[b,f]=c.useState(!1),g=[{id:"accident",label:"Accident de travail"},{id:"equipment",label:"Panne critique"},{id:"environmental",label:"Incident environnemental"},{id:"security",label:"Problème de sécurité"},{id:"boatIssue",label:"Panne en mer"}],v=[{name:"SAMU",number:"15",type:"medical"},{name:"Pompiers",number:"18",type:"fire"},{name:"Police",number:"17",type:"security"},{name:"Numéro d'urgence européen",number:"112",type:"all"},{name:"CROSS",number:"196",type:"sea"}];c.useEffect(()=>{let N;return t&&l&&m>0?N=setTimeout(()=>{u(D=>D-1)},1e3):m===0&&(f(!0),d(!1)),()=>{N&&clearTimeout(N)}},[t,m,l]),c.useEffect(()=>{t&&(u(8),d(!0),p(!1),f(!1))},[t]);const k=c.useCallback(()=>{d(!1),p(!0)},[]),F=c.useCallback(()=>{f(!0),i("boatIssue")},[]),w=c.useCallback(()=>{f(!0)},[]),M=c.useCallback(()=>{f(!1),a()},[a]);return b?e.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:s==="boatIssue"?e.jsx(ui,{className:"text-red-600 h-12 w-12"}):e.jsx(he,{className:"text-red-600 h-12 w-12"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:s==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),e.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ue,{className:"text-white mr-3",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),e.jsx("p",{className:"text-white/70",children:o||"Position GPS transmise automatiquement"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"text-white mr-3",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),e.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),e.jsx("button",{onClick:M,className:"px-8 py-3 bg-white text-red-600 rounded-lg font-bold hover:bg-white/90 transition-colors",children:"Fermer"})]}):e.jsx(xe,{isOpen:t,onClose:a,title:"Appel d'Urgence",size:"xl",showCloseButton:!1,className:"!bg-gradient-to-br !from-red-900/95 !to-brand-dark/95",children:e.jsxs("div",{className:"space-y-6",children:[l&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-white text-lg mb-2",children:"Appel automatique dans :"}),e.jsx("div",{className:"flex justify-center items-center mb-4",children:e.jsx("div",{className:"flex items-center justify-center bg-red-500 text-white w-16 h-16 rounded-full text-3xl font-bold",children:m})}),e.jsx("button",{onClick:k,className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Arrêter le compte à rebours"})]}),h&&e.jsx("div",{className:"mb-6 p-4 border border-red-500/30 rounded-lg bg-red-500/10",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(pi,{className:"text-red-500 mr-3 mt-1",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"En panne en mer ?"}),e.jsx("p",{className:"text-white/70 mb-4",children:"Vous êtes en panne en mer avec votre bateau ? Cliquez ici pour envoyer un appel d'aide immédiat. Une notification sera envoyée aux producteurs à proximité, et quelqu'un viendra rapidement vous prêter main forte."}),e.jsx("button",{onClick:F,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Je suis en panne"})]})]})}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Numéros d'urgence"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:v.map(N=>e.jsxs("a",{href:`tel:${N.number}`,className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:N.name}),e.jsx("div",{className:"text-red-400 text-lg font-bold",children:N.number})]})]},N.number))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type d'urgence"}),e.jsxs("select",{value:s,onChange:N=>i(N.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Sélectionner le type d'urgence"}),g.map(N=>e.jsx("option",{value:N.id,children:N.label},N.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description de l'urgence"}),e.jsx("textarea",{value:r,onChange:N=>n(N.target.value),rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Décrivez la situation d'urgence..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Localisation"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"text",value:o,onChange:N=>x(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Précisez l'emplacement..."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Signaler l'urgence"})]})]})})}function Ar(){const[t,a]=c.useState([]);return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.jsx(_,{children:t.map(s=>e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{a(i=>i.filter(r=>r.id!==s.id))},children:e.jsx(L,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.message})]},s.id))})})}const $s={focus:{scale:1.02,transition:{type:"spring",stiffness:300,damping:25}}};function Rr(){const t=Xe();c.useState("login");const[a,s]=c.useState(!1),[i,r]=c.useState(!1),[n,o]=c.useState(""),{setSession:x}=Z(),m=async u=>{u.preventDefault(),r(!0),o("");try{x({user:{id:"1",email:"demo@example.com",name:"Utilisateur Démo"},token:"demo-token"}),t("/dashboard")}catch{o("Échec de la connexion. Veuillez réessayer.")}finally{r(!1)}};return e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsx(j.div,{className:"glass-effect p-8 rounded-lg shadow-glass",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs(j.div,{variants:$s,whileFocus:"focus",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",defaultValue:"demo@example.com",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all duration-300",required:!0})]})]}),e.jsxs(j.div,{variants:$s,whileFocus:"focus",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:a?"text":"password",defaultValue:"demo",className:"w-full pl-10 pr-12 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all duration-300",required:!0}),e.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:a?e.jsx(bi,{size:20}):e.jsx(_e,{size:20})})]})]}),n&&e.jsx("p",{className:"text-red-400 text-sm",children:n}),e.jsxs(j.button,{type:"submit",disabled:i,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors relative overflow-hidden group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("span",{className:"relative z-10",children:i?"Connexion en cours...":"Se connecter"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy to-brand-purple opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mt-4",children:"Utilisez n'importe quel email/mot de passe pour la démo"})]})})})}const Lr={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},as={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function qr(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark via-brand-purple/20 to-brand-burgundy/20",children:e.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-4",children:[e.jsx(j.div,{initial:"hidden",animate:"visible",variants:Lr,className:"text-center max-w-4xl mx-auto px-4 mb-8",children:e.jsxs(j.div,{variants:as,className:"text-center",children:[e.jsx(j.div,{animate:{rotate:360},transition:{repeat:1/0,duration:3,ease:"linear"},children:e.jsx(Ge,{className:"w-24 h-24 md:w-32 md:h-32 text-brand-burgundy mx-auto"})}),e.jsx(j.h1,{variants:as,className:"text-3xl md:text-4xl font-industry text-white mt-4 animate-pulse",children:"OYSTER CULT"}),e.jsx(j.p,{variants:as,className:"text-lg md:text-xl text-white/60 mt-4",children:"Des données claires pour des coquillages d'exception"})]})},"logo"),e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:e.jsx(Rr,{})})]})})}const le={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,wavePeriod:5,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:13,windDirection:320,waveHeight:.7},{time:"18:00",temp:17,windSpeed:10,windDirection:300,waveHeight:.5},{time:"21:00",temp:15,windSpeed:8,windDirection:290,waveHeight:.3}]};function $r(t){return["N","NE","E","SE","S","SO","O","NO"][Math.round(t/45)%8]}function Er({condition:t}){switch(t){case"sunny":return e.jsx(Et,{className:"text-yellow-400",size:36});case"cloudy":return e.jsx(Ts,{className:"text-gray-400",size:36});case"rainy":return e.jsx(gi,{className:"text-blue-400",size:36});case"partly-cloudy":return e.jsxs("div",{className:"relative",children:[e.jsx(Et,{className:"text-yellow-400",size:36}),e.jsx(Ts,{className:"text-gray-400 absolute top-0 left-4",size:24})]});default:return e.jsx(Et,{className:"text-yellow-400",size:36})}}function Mt({title:t,icon:a,children:s,highlight:i=!1}){return e.jsxs("div",{className:`bg-white/5 rounded-xl border border-white/15 overflow-hidden transition-all ${i?"bg-gradient-to-br from-[#0d9488]/15 to-blue-500/15":""}`,style:{boxShadow:"0 8px 15px -10px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-white/15",style:{boxShadow:"0 1px 2px -1px rgba(0, 0, 0, 0.2)",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"},children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.div,{className:"text-[#0d9488] bg-[#0d9488]/10 p-2 rounded-lg",whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"inset 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(255, 255, 255, 0.1)"},children:a}),e.jsx("h3",{className:"text-sm font-medium text-white",style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:t})]}),e.jsx(j.div,{className:"text-white/40 hover:text-white/70 transition-colors cursor-help bg-white/10 p-1.5 rounded-full",whileHover:{scale:1.1,boxShadow:"0 4px 8px rgba(0, 0, 0, 0.3)"},style:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.25)"},children:e.jsx(Fe,{size:14})})]}),e.jsx("div",{className:"p-3 bg-gradient-to-b from-white/5 to-transparent text-sm",children:s})]})}function _r(){return e.jsx("div",{className:"rounded-2xl overflow-hidden border border-white/15 shadow-2xl",style:{background:"linear-gradient(to right, #0c1c2c 0%, #192f45 40%, #274060 70%, #2d4a70 100%)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 -1px 0 rgba(255, 255, 255, 0.1) inset",WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)"},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-blue-400 to-[#0d9488]",style:{boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3), 0 0 15px rgba(13, 148, 136, 0.5)"}}),e.jsx("h2",{className:"text-lg font-bold text-white",style:{textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:"Conditions météo maritimes"})]}),e.jsx(j.div,{className:"text-xs text-white/70 bg-white/10 px-2 py-1 rounded-full -webkit-backdrop-filter backdrop-filter backdrop-blur-sm border border-white/20",whileHover:{y:-2,boxShadow:"0 8px 12px rgba(0, 0, 0, 0.3)"},style:{boxShadow:"0 4px 8px -2px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1)"},children:"Dernière mise à jour: 10:30"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs(Mt,{title:"Conditions actuelles",icon:e.jsx(Je,{size:18}),highlight:!0,children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.div,{className:"bg-white/10 p-2 rounded-lg",whileHover:{scale:1.05,y:-2,boxShadow:"0 8px 15px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"0 5px 10px -3px rgba(0, 0, 0, 0.2)"},children:e.jsx(Er,{condition:le.conditions})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-bold text-white",style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.2)"},children:[le.temperature,"°C"]}),e.jsx("div",{className:"text-xs text-white/60",children:"Partiellement nuageux"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm",whileHover:{y:-2,boxShadow:"0 6px 10px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"0 3px 5px -1px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"text-xs text-white/60",children:"Humidité"}),e.jsxs("div",{className:"text-sm font-medium text-white",children:[le.humidity,"%"]})]}),e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm",whileHover:{y:-2,boxShadow:"0 6px 10px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"0 3px 5px -1px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"text-xs text-white/60",children:"Visibilité"}),e.jsxs("div",{className:"text-sm font-medium text-white",children:[le.visibility," km"]})]})]})]}),e.jsx(Mt,{title:"Conditions du vent",icon:e.jsx(Ms,{size:18}),children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm",whileHover:{y:-2,boxShadow:"0 6px 10px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"0 3px 5px -1px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"text-xs text-white/60",children:"Vitesse"}),e.jsxs("div",{className:"text-sm font-medium text-white",children:[le.windSpeed," km/h"]})]}),e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm",whileHover:{y:-2,boxShadow:"0 6px 10px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"0 3px 5px -1px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"text-xs text-white/60",children:"Direction"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(j.div,{className:"mr-2 p-1 bg-[#0d9488]/20 rounded-full",whileHover:{rotate:360},transition:{duration:2,ease:"linear"},style:{boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:e.jsx(xs,{size:14,className:"text-white",style:{transform:`rotate(${le.windDirection}deg)`}})}),e.jsx("div",{className:"text-sm font-medium text-white",children:$r(le.windDirection)})]})]})]})}),e.jsx(Mt,{title:"État de la mer",icon:e.jsx(lt,{size:18}),children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm",whileHover:{y:-2,boxShadow:"0 6px 10px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"0 3px 5px -1px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"text-xs text-white/60",children:"Hauteur des vagues"}),e.jsxs("div",{className:"text-sm font-medium text-white",style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.2)"},children:[le.waveHeight," m"]})]}),e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm",whileHover:{y:-2,boxShadow:"0 6px 10px rgba(0, 0, 0, 0.2)"},style:{boxShadow:"0 3px 5px -1px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"text-xs text-white/60",children:"Période"}),e.jsxs("div",{className:"text-sm font-medium text-white",style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.2)"},children:[le.wavePeriod," s"]})]})]})}),e.jsx(Mt,{title:"Marées",icon:e.jsx(sa,{size:18}),children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm flex justify-between items-center",whileHover:{y:-2},style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03))",transform:"translateZ(5px)"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60",children:"Prochaine marée haute"}),e.jsx("div",{className:"text-sm font-medium text-white",children:le.nextHighTide})]}),e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-full",style:{boxShadow:"0 2px 4px rgba(0, 0, 0, 0.15)"},children:e.jsx(xs,{className:"w-4 h-4 text-blue-400"})})]}),e.jsxs(j.div,{className:"bg-white/5 p-2 rounded-lg -webkit-backdrop-filter backdrop-filter backdrop-blur-sm flex justify-between items-center",whileHover:{y:-2},style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03))",transform:"translateZ(5px)"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60",children:"Prochaine marée basse"}),e.jsx("div",{className:"text-sm font-medium text-white",children:le.nextLowTide})]}),e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-full",style:{boxShadow:"0 2px 4px rgba(0, 0, 0, 0.15)"},children:e.jsx(aa,{className:"w-4 h-4 text-blue-400"})})]}),e.jsx(j.div,{className:"mt-2 relative h-20 bg-white/5 rounded-lg overflow-hidden",whileHover:{scale:1.02},style:{boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2), 0 -1px 0 rgba(255, 255, 255, 0.1) inset",transform:"translateZ(5px)"},children:e.jsxs("div",{className:"absolute inset-0 flex items-end justify-center",children:[e.jsx(j.div,{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-blue-500/60 to-[#0d9488]/30",initial:{transform:"scaleY(0)"},animate:{transform:`scaleY(${le.tideLevel/10})`},transition:{duration:1.5,ease:"easeInOut",repeat:1/0,repeatType:"reverse"},style:{height:"100%",transformOrigin:"bottom",boxShadow:"0 -10px 20px rgba(59, 130, 246, 0.3) inset"}}),e.jsx(j.div,{className:"absolute w-full h-3 bottom-0 bg-[url('/images/wave.svg')] bg-repeat-x bg-contain",animate:{x:[0,-20,0]},transition:{duration:3,ease:"linear",repeat:1/0},style:{backgroundSize:"20px 10px",transform:`translateY(${-(le.tideLevel/10)*100}%)`,filter:"drop-shadow(0 -1px 2px rgba(0, 0, 0, 0.3))"}}),e.jsxs("div",{className:"absolute bottom-2 text-white text-sm font-semibold px-3 py-1 rounded-full bg-black/20 backdrop-blur-sm",style:{boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[le.tideLevel," m"]})]})})]})})]}),e.jsxs("div",{className:"mt-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4",style:{boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",transform:"translateZ(0)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-base font-medium text-white",children:"Prévisions"}),e.jsx("span",{className:"text-sm text-white/60",children:"Prochaines 12 heures"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:le.forecast.map((t,a)=>e.jsxs(j.div,{className:"text-center p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",whileHover:{y:-3,boxShadow:"0 10px 15px rgba(0, 0, 0, 0.3)"},style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03))",transform:"translateZ(5px)"},children:[e.jsx("div",{className:"text-sm font-medium text-white",children:t.time}),e.jsxs("div",{className:"text-lg font-bold text-white my-1",children:[t.temp,"°C"]}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-white/60",children:[e.jsx(Ms,{size:14,className:"mr-1"}),t.windSpeed," km/h"]})]},a))})]})]})})}const Ir={hidden:{opacity:0,transform:"scale(0.95)"},visible:{opacity:1,transform:"scale(1)"},exit:{opacity:0,transform:"scale(0.95)"}},Or={hidden:{opacity:0,transform:"translateY(10px)"},visible:t=>({opacity:1,transform:"translateY(0px)",transition:{delay:t*.1,duration:.3,ease:"easeOut"}})},Tt=({icon:t,label:a,value:s,unit:i="",colorClass:r="text-white",index:n})=>e.jsxs(j.div,{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 hover:border-white/20 transition-all duration-300 shadow-lg",variants:Or,initial:"hidden",animate:"visible",custom:n,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:t}),e.jsx("div",{className:"text-white/70 text-sm",children:a})]}),e.jsxs("div",{className:`text-xl md:text-2xl font-bold mt-1 ${r}`,children:[s,i&&e.jsx("span",{className:"text-base font-normal text-white/50 ml-1",children:i})]})]}),Hr=()=>{const t=["T15","N°5","N°4","N°3","N°2","N°1"],a="N°4",s="N°3",i=t.indexOf(a)/(t.length-1)*100,r=t.indexOf(s)/(t.length-1)*100,n=()=>i<r?"#3b82f6":i===r?"#22c55e":"#ef4444",o=()=>{let u="linear-gradient(90deg, #3b82f6 0%";if(i<=r){u+=", #4287f7 30%",u+=", #5096fa 50%",u+=", #60a5fa 75%";const l=r*.85;if(i>=l){u+=`, #70b5fc ${l}%`;const d=(l+r)/2;u+=`, #90cca5 ${d}%`,u+=`, #22c55e ${i}%`}else u+=`, #60a5fa ${i}%`}else{u+=", #4287f7 30%",u+=", #5096fa 50%",u+=", #60a5fa 75%",u+=`, #70b5fc ${r*.85}%`,u+=`, #90cca5 ${r*.92}%`,u+=`, #22c55e ${r}%`;const l=r+r*.1;i>l?(u+=`, #e07c3e ${l}%`,u+=`, #ef4444 ${i}%`):u+=`, #d49e59 ${i}%`}return u+=")",u},x=`
    @keyframes pulse {
      0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
      70% { transform: translate(-50%, -50%) scale(1.8); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
    }
  `,m=n();return e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 transition-all duration-300 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:e.jsx(J,{className:"w-5 h-5 text-brand-burgundy"})}),e.jsx("div",{className:"text-white/70 text-sm",children:"Progression du calibre"})]}),e.jsxs("div",{className:"relative mt-3 mb-6",children:[e.jsxs("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden relative",children:[e.jsx("div",{className:"h-full rounded-full",style:{width:`${i}%`,background:o(),boxShadow:"inset 0 0 10px rgba(255, 255, 255, 0.2)"}}),e.jsxs("div",{className:"absolute",style:{left:`${i}%`,top:"50%",transform:"translate(-50%, -50%)",zIndex:10},children:[e.jsx("div",{className:"absolute rounded-full",style:{width:"22px",height:"22px",background:"radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%)",left:"50%",top:"50%",transform:"translate(-50%, -50%)",animation:"pulse 2s infinite ease-in-out",boxShadow:`0 0 10px ${m}33`}}),e.jsx("div",{className:"relative rounded-full bg-white",style:{width:"12px",height:"12px",border:`2px solid ${m}`,boxShadow:`0 0 5px rgba(255, 255, 255, 0.7), 0 0 10px ${m}80, inset 0 0 3px rgba(255, 255, 255, 0.5)`},children:e.jsx("div",{className:"absolute rounded-full",style:{width:"4px",height:"4px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:m}})})]})]}),e.jsx("div",{className:"absolute h-6 w-1 bg-green-400/30",style:{left:`${r}%`,top:"-1px",borderRadius:"1px"}}),e.jsx("div",{className:"flex justify-between mt-6",children:t.map((u,l)=>e.jsx("div",{className:`text-xs ${u===a?i<r?"text-blue-400 font-bold":i===r?"text-green-400 font-bold":"text-red-400 font-bold":u===s?"text-green-400 font-bold border border-green-400 rounded-full px-1.5 py-0.5":"text-white/50"}`,children:u},u))}),e.jsxs("div",{className:"flex justify-between mt-1 relative",children:[e.jsx("div",{className:"text-xs text-white/50",children:"Début"}),e.jsx("div",{className:"absolute",style:{left:`${r}%`,transform:"translateX(-50%)"},children:e.jsx("div",{className:"text-xs text-green-400 mt-4",children:"Objectif"})}),e.jsx("div",{className:"text-xs text-white/50",children:"Final"})]})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:x}})]})};function Br({table:t,onClose:a}){const s=kt(a),[i,r]=c.useState(!1),n=[{name:"Occupé",value:t.value,color:t.color},{name:"Libre",value:100-t.value,color:"#334155"}],o=[{date:"13/01/2025",action:"Échantillonnage",responsable:"Sophie L."},{date:"12/01/2025",action:"Vider 15 cordes",responsable:"Martin D."},{date:"11/01/2025",action:"Vider 15 cordes",responsable:"Thomas R."},{date:"10/01/2025",action:"Vider 15 cordes",responsable:"Marie C."}],m=(l=>l<=2?{text:"Excellent",color:"text-green-400"}:l<=3?{text:"Bon",color:"text-yellow-400"}:{text:"Critique",color:"text-red-400"})(t.mortality),u=()=>{const[l,d,h]=t.harvest.split("/"),p=new Date(parseInt(`20${h}`),parseInt(d)-1,parseInt(l)),b=new Date,f=p.getTime()-b.getTime();return Math.ceil(f/(1e3*60*60*24))};return e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),e.jsxs(j.div,{ref:s,className:"bg-gradient-to-br from-gray-900/95 to-brand-burgundy/80 rounded-2xl overflow-hidden max-w-3xl w-full max-h-[90vh] overflow-y-auto relative z-10 -webkit-backdrop-filter backdrop-filter backdrop-blur-lg border border-white/10 shadow-2xl",variants:Ir,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:t.type})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:e.jsx(L,{size:20})})]})}),e.jsxs("div",{className:"p-6",children:[i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2 text-white/70",children:[e.jsx("button",{onClick:()=>r(!1),className:"hover:text-white text-sm underline",children:"Retour"}),e.jsx("span",{children:"›"}),e.jsx("span",{className:"text-white",children:"Détails avancés"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-5 flex items-center",children:[e.jsx(ji,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Progression de croissance"]}),e.jsx("div",{className:"h-64 w-full bg-[#071a40] rounded-lg p-4 flex flex-col justify-center",children:e.jsxs("div",{className:"grid grid-cols-5 gap-3 mx-auto",children:[e.jsx("div",{className:"w-16 h-16 border border-white/30 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white/50 text-xs",children:"1"})}),e.jsxs("div",{className:"w-16 h-16 relative border border-white/30 rounded overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-brand-burgundy/80"}),e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white text-xs",children:"2"})]}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"3"})}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"4"})}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"5"})}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"6"})}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"7"})}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"8"})}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"9"})}),e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/80 border border-brand-burgundy rounded flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"10"})})]})})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(ps,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Historique des manipulations"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left p-2 text-white/70",children:"Date"}),e.jsx("th",{className:"text-left p-2 text-white/70",children:"Action"}),e.jsx("th",{className:"text-left p-2 text-white/70",children:"Responsable"})]})}),e.jsx("tbody",{children:o.map((l,d)=>e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("td",{className:"p-2 text-white",children:l.date}),e.jsx("td",{className:"p-2 text-white",children:l.action}),e.jsxs("td",{className:"p-2 text-white flex items-center",children:[e.jsx(fi,{className:"w-4 h-4 mr-1 text-brand-burgundy/70"}),l.responsable]})]},d))})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"relative w-40 h-40",children:[e.jsx(jt,{width:"100%",height:"100%",children:e.jsx(js,{children:e.jsx(fs,{data:n,cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",stroke:"none",children:n.map((l,d)=>e.jsx(ws,{fill:l.color},`cell-${d}`))})})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[e.jsxs("div",{className:"text-3xl font-bold text-white",children:[t.value,"%"]}),e.jsx("div",{className:"text-sm text-white/60",children:"Occupé"})]})]})}),e.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[e.jsx(Tt,{icon:e.jsx(te,{className:"w-5 h-5 text-brand-burgundy"}),label:"Date de récolte",value:t.harvest,index:0}),e.jsx(Tt,{icon:e.jsx(ee,{className:"w-5 h-5 text-brand-burgundy"}),label:"Jours restants",value:u(),unit:"jours",index:1}),e.jsx(Tt,{icon:e.jsx(he,{className:"w-5 h-5 text-brand-burgundy"}),label:"Mortalité",value:t.mortality,unit:"%",colorClass:m.color,index:2}),e.jsx(Tt,{icon:e.jsx(J,{className:"w-5 h-5 text-brand-burgundy"}),label:"Calibre actuel",value:"N°4",index:3})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(Hr,{})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Détails de la table"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-white/5 rounded-lg transition-all",children:[e.jsx("div",{className:"text-white/70",children:"Type"}),e.jsx("div",{className:"text-white font-medium",children:"Huîtres sur cordes"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-white/5 rounded-lg transition-all",children:[e.jsx("div",{className:"text-white/70",children:"Capacité totale"}),e.jsx("div",{className:"text-white font-medium",children:"1000 cordes"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-white/5 rounded-lg transition-all",children:[e.jsx("div",{className:"text-white/70",children:"Perches occupées"}),e.jsx("div",{className:"text-white font-medium",children:"850 perches"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-white/5 rounded-lg transition-all",children:[e.jsx("div",{className:"text-white/70",children:"Taux d'occupation"}),e.jsxs("div",{className:"text-white font-medium",children:[t.value,"%"]})]})]})]})})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 bg-brand-burgundy text-white rounded-lg flex items-center hover:bg-brand-burgundy/80 transition-all",onClick:()=>r(!i),children:[i?"Masquer les détails":"Voir plus de détails"," ",e.jsx(wt,{size:16,className:"ml-1"})]}),e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})]})]})]})]})}const at={overlay:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},content:{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.19,1,.22,1]}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},item:{initial:{opacity:0,y:15},animate:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5,ease:[.19,1,.22,1]}})}},Pt=({icon:t,label:a,value:s,unit:i="",subValue:r="",colorClass:n="text-white",index:o})=>e.jsxs(j.div,{custom:o,variants:at.item,initial:"initial",animate:"animate",whileHover:{scale:1.03,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"relative bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 shadow-lg",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center border border-white/5 shadow-inner",children:t}),e.jsx("div",{className:"text-white/70",children:a})]}),e.jsx("div",{className:`text-xl font-bold mt-2 ${n}`,children:typeof s=="number"||typeof s=="string"?e.jsxs(e.Fragment,{children:[s,i&&e.jsx("span",{className:"text-sm font-normal text-white/50 ml-1",children:i})]}):s}),r&&e.jsx("div",{className:"text-sm text-white/50 mt-1",children:r})]}),Vr=({name:t,weight:a,timeRemaining:s,index:i})=>e.jsxs(j.div,{custom:i+5,variants:at.item,initial:"initial",animate:"animate",whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center mr-3 border border-white/10",children:e.jsx(ia,{size:18,className:"text-blue-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:t}),e.jsx("div",{className:"text-sm text-white/60",children:a})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:s}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]});function Qr({pool:t,onClose:a}){const s=kt(a);Math.round(t.oxygen/100*50+(1-Math.abs(t.temperature-15)/10)*25+(1-Math.abs(t.ph-8)/1)*25);const i=[{name:"LOT-2025-001",weight:"500 kg (Huîtres N°3)",timeRemaining:"12h"},{name:"LOT-2025-002",weight:"300 kg (Huîtres N°2)",timeRemaining:"24h"}];return e.jsx(j.div,{...at.overlay,className:"fixed inset-0 bg-black/80 backdrop-blur-md z-50 flex items-center justify-center p-4",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:e.jsxs(j.div,{ref:s,...at.content,className:"bg-gradient-to-br from-gray-900/95 to-brand-burgundy/80 rounded-2xl overflow-hidden max-w-3xl w-full max-h-[90vh] overflow-y-auto relative z-10 border border-white/10 shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:"Bassin de purification"})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors rounded-full p-2 hover:bg-white/10","aria-label":"Fermer",children:e.jsx(L,{size:20})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs(j.div,{variants:at.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Stock dans le bassin"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsx("div",{className:"col-span-1 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"relative w-40 h-40",children:[e.jsx(jt,{width:"100%",height:"100%",children:e.jsx(js,{children:e.jsx(fs,{data:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:60,paddingAngle:2,dataKey:"value",startAngle:90,endAngle:-270,stroke:"none",children:[{name:"Huîtres N°3",value:16.7,color:"#0d9488"},{name:"Huîtres N°2",value:10,color:"#3b82f6"},{name:"Libre",value:73.3,color:"#334155"}].map((r,n)=>e.jsx(ws,{fill:r.color},`cell-${n}`))})})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:e.jsx("div",{className:"text-2xl font-bold text-white",children:"26.7%"})})]})}),e.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:[e.jsx(Pt,{icon:e.jsx(Je,{size:20,className:"text-brand-burgundy"}),label:"Température",value:12.5,unit:"°C",index:0}),e.jsx(Pt,{icon:e.jsx(Ht,{size:20,className:"text-brand-burgundy"}),label:"Oxygène dissous",value:87,unit:"%",index:1}),e.jsx(Pt,{icon:e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#0d9488] flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),label:"Huîtres N°3",value:500,unit:"kg",index:2}),e.jsx(Pt,{icon:e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#3b82f6] flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),label:"Huîtres N°2",value:300,unit:"kg",index:3})]})]}),e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white/10",children:e.jsx(ne,{size:20,className:"text-cyan-400"})}),e.jsx("div",{className:"text-white/70",children:"Dernier nettoyage"}),e.jsxs("div",{className:"text-white font-medium ml-auto",children:["12 mars 2025 ",e.jsx("span",{className:"text-sm text-white/50",children:"(il y a 1 jour)"})]})]})}),e.jsxs("div",{className:"h-48 w-full bg-gradient-to-br from-[#071a40]/95 to-[#0a2858]/95 rounded-xl overflow-hidden shadow-2xl border border-blue-900/20 relative mt-6",style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.2), 0 -1px 2px 0 rgba(255, 255, 255, 0.05) inset"},children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-gradient-to-r from-transparent via-white/30 to-transparent z-10"}),e.jsxs("div",{className:"relative h-full w-full",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsxs("div",{className:"h-full relative",style:{width:"16.7%"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/75 to-[#0d9488]/90 transition-all duration-500"}),e.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-brand-burgundy/30 mb-1 shadow-lg",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:"N°3"})}),e.jsx("div",{className:"text-xs text-white font-medium",children:"500kg"})]})})]}),e.jsxs("div",{className:"h-full relative",style:{width:"10%"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/75 to-blue-600/90 transition-all duration-500",style:{boxShadow:"0 0 20px rgba(37, 99, 235, 0.2)"}}),e.jsx("div",{className:"absolute left-1/2 bottom-4 transform -translate-x-1/2 z-20",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-md px-1.5 py-0.5 rounded-md border border-blue-500/30 mb-1 shadow-lg",children:e.jsx("span",{className:"text-white text-xs font-semibold",children:"N°2"})}),e.jsx("div",{className:"text-xs text-white font-medium",children:"300kg"})]})})]})]}),e.jsx("div",{className:"absolute left-[26.7%] inset-y-0 flex items-center pointer-events-none z-20",children:e.jsx("div",{className:"h-16 w-[2px] bg-white/80 shadow-[0_0_8px_rgba(255,255,255,0.6)] rounded-full"})})]})]})]}),e.jsxs(j.div,{variants:at.item,initial:"initial",animate:"animate",className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(ia,{className:"w-5 h-5 mr-2 text-brand-burgundy"}),"Lots en purification"]}),e.jsx("div",{className:"space-y-3",children:i.map((r,n)=>e.jsx(Vr,{name:r.name,weight:r.weight,timeRemaining:r.timeRemaining,index:n},r.name))})]})]}),e.jsx("div",{className:"flex justify-end mt-6 space-x-3",children:e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const Ur={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},Ft={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:30}}},Jr=t=>{const[a,s,i]=t.split("/"),r=new Date(parseInt(`20${i}`),parseInt(s)-1,parseInt(a));return wi(r,new Date)},Gr=[{name:"Table A1",value:85,color:"#22c55e",type:"Plates N°3",harvest:"15/06/25",mortality:2.1},{name:"Table A2",value:75,color:"#eab308",type:"Creuses N°2",harvest:"20/06/25",mortality:2.8},{name:"Table B1",value:90,color:"#22c55e",type:"Plates N°4",harvest:"01/07/25",mortality:1.9},{name:"Table B2",value:65,color:"#ef4444",type:"Creuses N°3",harvest:"05/07/25",mortality:3.2}],Xr=[{name:"Bassin A1",value:87,color:"#22c55e",type:"Purification",capacity:1200,currentLoad:1044,waterQuality:{quality:97,oxygen:94,temperature:12.3}},{name:"Bassin A2",value:75,color:"#eab308",type:"Purification",capacity:1200,currentLoad:900,waterQuality:{quality:93,oxygen:91,temperature:12.5}},{name:"Bassin B1",value:94,color:"#ef4444",type:"Stockage",capacity:2e3,currentLoad:1880,waterQuality:{quality:95,oxygen:92,temperature:12.8}}],Yr=[{id:1,title:"Température élevée",message:"Bassin B1: Température au dessus de 13°C depuis 2 heures",timestamp:"Aujourd'hui, 10:23",severity:"warning"},{id:2,title:"Niveau d'oxygène bas",message:"Bassin A2: Niveau d'oxygène sous 90% depuis 30 minutes",timestamp:"Aujourd'hui, 09:45",severity:"alert"},{id:3,title:"Maintenance programmée",message:"Filtres du Bassin A1: Nettoyage prévu demain à 8h00",timestamp:"Hier, 16:00",severity:"info"}];function Wr(){const[t,a]=c.useState(null),[s,i]=c.useState(null),[r,n]=c.useState(null),[o,x]=c.useState(null),[m,u]=c.useState(!1);return c.useEffect(()=>{const l=setTimeout(()=>{u(!0)},300);return()=>clearTimeout(l)},[]),e.jsxs(j.div,{className:"space-y-6 pb-10",initial:"hidden",animate:m?"show":"hidden",variants:Ur,children:[e.jsxs(j.div,{className:"flex items-center justify-between mb-6",variants:Ft,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative p-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy to-blue-600/60 blur-xl rounded-full opacity-70"}),e.jsx(ea,{size:26,className:"text-white relative z-10"})]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tableau de bord"})]}),e.jsxs(j.div,{className:"text-sm text-white/60 bg-white/5 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",whileHover:{scale:1.02},children:["OYSTER CULT • ",new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})]})]}),e.jsx(j.div,{variants:Ft,children:e.jsx(_r,{})}),e.jsx(j.div,{variants:Ft,children:e.jsx("div",{className:"bg-gradient-to-br from-gray-900/95 to-brand-burgundy/80 rounded-2xl overflow-hidden border border-white/10 shadow-xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 divide-y lg:divide-y-0 lg:divide-x divide-white/10",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-brand-burgundy to-purple-500"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Occupation des tables"})]}),e.jsx("div",{className:"text-sm text-white/60 bg-white/5 px-3 py-1 rounded-full backdrop-blur-sm",children:"4 tables actives"})]}),e.jsx("div",{className:"space-y-4",children:Gr.map((l,d)=>{const h=Jr(l.harvest);return e.jsxs(j.div,{className:`relative bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4 hover:bg-white/10 transition-all duration-300 cursor-pointer overflow-hidden ${t===l.name?"ring-2 ring-white/20 shadow-lg":""}`,onHoverStart:()=>a(l.name),onHoverEnd:()=>a(null),onClick:()=>n(l),whileHover:{y:-2},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:d*.1},children:[e.jsx(j.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/10 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:t===l.name?.8:0},transition:{duration:.3}}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-brand-burgundy/80 to-blue-500/80 rounded-full",style:{width:`${l.value}%`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium text-white",children:l.name}),e.jsx("div",{className:"text-xs text-white/70",children:l.type})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("div",{className:"text-base font-semibold text-white",children:[l.value,"%"]}),e.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-white/70",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"w-4 h-4 mr-1 text-white/50"}),e.jsx("span",{className:"text-white/90 mr-1",children:"Récolte:"})," ",l.harvest]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-1 text-white/50"}),e.jsxs("span",{className:"text-white/90",children:[h,"j"]})]})]}),e.jsxs("div",{className:`flex items-center px-2 py-0.5 rounded-full text-xs ${l.mortality<=2?"bg-green-500/20 text-green-300":l.mortality<=3?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:[e.jsx(he,{className:"w-3 h-3 mr-1"}),l.mortality,"% mortalité"]})]})]})]},d)})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-blue-500 to-teal-500"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Santé des bassins"})]}),e.jsx("div",{className:"text-sm text-white/60 bg-white/5 px-3 py-1 rounded-full backdrop-blur-sm",children:"3 bassins actifs"})]}),e.jsx("div",{className:"space-y-4",children:Xr.map((l,d)=>e.jsxs(j.div,{className:`relative bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4 hover:bg-white/10 transition-all duration-300 cursor-pointer overflow-hidden ${s===l.name?"ring-2 ring-white/20 shadow-lg":""}`,onHoverStart:()=>i(l.name),onHoverEnd:()=>i(null),onClick:()=>x(l),whileHover:{y:-2},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:d*.1},children:[e.jsx(j.div,{className:"absolute inset-0 bg-gradient-to-b from-[#0d9488]/10 to-blue-500/20 pointer-events-none",initial:{opacity:0},animate:{opacity:s===l.name?.8:.3},transition:{duration:.3}}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-[#0d9488]/80 to-blue-500/80 rounded-full",style:{width:`${l.value}%`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-medium text-white",children:l.name}),e.jsx("div",{className:"text-xs text-white/70",children:l.type})]})]}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs ${l.value>=85?"bg-green-500/20 text-green-300":l.value>=70?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:[l.value,"% occupé"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:`rounded-lg px-2 py-1.5 text-xs flex items-center justify-center ${l.waterQuality.quality>=95?"bg-green-500/20 text-green-300":l.waterQuality.quality>=90?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:[e.jsx(ne,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[l.waterQuality.quality,"%"]})]}),e.jsxs("div",{className:`rounded-lg px-2 py-1.5 text-xs flex items-center justify-center ${l.waterQuality.oxygen>=90?"bg-green-500/20 text-green-300":l.waterQuality.oxygen>=85?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[l.waterQuality.oxygen,"%"]})]}),e.jsxs("div",{className:`rounded-lg px-2 py-1.5 text-xs flex items-center justify-center ${l.waterQuality.temperature<=13?"bg-green-500/20 text-green-300":l.waterQuality.temperature<=14?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{className:"font-medium",children:[l.waterQuality.temperature,"°C"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(J,{className:"w-4 h-4 mr-1 text-white/50"}),e.jsx("span",{className:"text-white/90 mr-1",children:"Charge:"})," ",l.currentLoad," / ",l.capacity," kg"]}),e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(lt,{className:"w-4 h-4 mr-1 text-white/50"}),e.jsx("span",{className:"text-white/90",children:l.type==="Purification"?"24h restantes":"Stockage long terme"})]})]})]})]},d))})]})]})})}),e.jsx(j.div,{variants:Ft,children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/95 to-brand-burgundy/80 rounded-2xl overflow-hidden border border-white/10 shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-red-500 to-yellow-500"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Alertes récentes"})]}),e.jsx("div",{className:"text-sm text-white/60 bg-white/5 px-3 py-1 rounded-full backdrop-blur-sm",children:"3 nouvelles alertes"})]}),e.jsx("div",{className:"space-y-3",children:Yr.map((l,d)=>e.jsx(j.div,{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4 hover:bg-white/10 transition-all duration-300 cursor-pointer",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},whileHover:{x:3},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`mt-1 min-w-[8px] h-8 rounded-full mr-3 ${l.severity==="alert"?"bg-red-500":l.severity==="warning"?"bg-yellow-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-white",children:l.title}),e.jsx("p",{className:"text-sm text-white/70",children:l.message}),e.jsx("p",{className:"text-xs text-white/50 mt-1",children:l.timestamp})]})]}),e.jsx("button",{className:"text-white/60 hover:text-white rounded-full p-1 hover:bg-white/10 transition-colors",children:e.jsx(L,{size:16})})]})},l.id))})]})}),e.jsxs(_,{children:[r&&e.jsx(Br,{table:r,onClose:()=>n(null)}),o&&e.jsx(Qr,{pool:o,onClose:()=>x(null)})]})]})}const Zr=[{id:"1",name:"Bouzigues",tableNumber:"T-1234",position:{x:50,y:150},size:{width:150,height:400},status:"optimal",temperature:12.5,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:2.5,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`b1-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:300,estimatedHarvestDate:"2025-06-15"}},{id:"2",name:"Bouzigues",tableNumber:"T-1235",position:{x:250,y:150},size:{width:150,height:400},status:"optimal",temperature:12.8,salinity:34,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.8,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`b2-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:300,estimatedHarvestDate:"2025-06-20"}},{id:"3",name:"Mèze",tableNumber:"T-2234",position:{x:500,y:250},size:{width:150,height:400},status:"warning",temperature:13.2,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:4.2,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`m1-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:500,estimatedHarvestDate:"2025-07-01"}},{id:"4",name:"Mèze",tableNumber:"T-2235",position:{x:700,y:250},size:{width:150,height:400},status:"warning",temperature:13,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:3.7,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`m2-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"4",quantity:350,estimatedHarvestDate:"2025-07-05"}},{id:"5",name:"Marseillan",tableNumber:"T-3234",position:{x:900,y:400},size:{width:150,height:400},status:"optimal",temperature:12.3,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.5,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`ma1-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:550,estimatedHarvestDate:"2025-06-25"}},{id:"6",name:"Marseillan",tableNumber:"T-3235",position:{x:1100,y:400},size:{width:150,height:400},status:"optimal",temperature:12.4,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.9,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`ma2-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:480,estimatedHarvestDate:"2025-06-30"}}];function Pa({onTableSelect:t,onTableHover:a,hoveredTable:s,selectedTable:i}){var N,D,A,O,q,ae,R,Q,X,re,pe,ge,Ne,ye,Le,qe,y,E,H;c.useState(!0);const[r,n]=c.useState(1),[o,x]=c.useState({x:0,y:0}),[m,u]=c.useState(Zr);c.useState(null),c.useState(!1);const[l,d]=c.useState(null),[h,p]=c.useState(""),b={initial:{opacity:.6,scale:.95},animate:z=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:z*.1,ease:"easeInOut"}})},f={initial:{opacity:.8,scale:.95},animate:z=>({opacity:[.8,1,.8],scale:[.95,1.05,.95],transition:{duration:4,repeat:1/0,delay:z*.2,ease:"easeInOut"}})},g=()=>{n(z=>{const P=Math.min(z+.2,3);return console.log("Zoom in:",P),P})},v=()=>{n(z=>{const P=Math.max(z-.2,.5);return console.log("Zoom out:",P),P})},k=()=>{n(.5),x({x:0,y:0})},F=(z,P)=>{d(z),p(P)},w=z=>{console.log(`Table ID: ${z}, Nouveau numéro: ${h}`),m.map(P=>P.id===z?{...P,tableNumber:h}:P),d(null)},M=()=>{d(null)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{className:"col-span-9 glass-effect rounded-xl",children:e.jsxs("div",{className:"relative h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-burgundy/5 to-brand-burgundy/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,...')] opacity-10"})]}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 flex justify-between p-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(ve,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Bouzigues"})]}),e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(ve,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Mèze"})]}),e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(ve,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Marseillan"})]})]}),e.jsxs("div",{className:"absolute bottom-6 right-6 flex items-center space-x-4",children:[e.jsxs("div",{className:"glass-effect p-2 rounded-lg z-30",children:[e.jsx("button",{onClick:g,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:e.jsx(vi,{size:18})}),e.jsx("button",{onClick:v,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:e.jsx(Ni,{size:18})}),e.jsx("button",{onClick:k,className:"p-1.5 hover:bg-white/10 rounded-md text-white",children:e.jsx(yi,{size:18})})]}),e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 rounded-full blur-xl"}),e.jsxs("div",{className:"relative w-full h-full bg-black/40 backdrop-blur-sm rounded-full border border-white/20 flex items-center justify-center",children:[e.jsx(sa,{size:48,className:"text-brand-burgundy animate-spin-slow"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-white font-bold text-xs",children:"N"})})]})]})]}),e.jsx("div",{className:"relative h-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 transition-transform duration-300 ease-out",style:{transform:`scale(${r}) translate(${o.x}px, ${o.y}px)`,transformOrigin:"center center",cursor:"grab"},onMouseDown:z=>{const P=z.currentTarget,Me=z.clientX,ke=z.clientY,Ye=o.x,xt=o.y,He=Be=>{const We=(Be.clientX-Me)/r,Ze=(Be.clientY-ke)/r;x({x:Ye+We,y:xt+Ze}),P.style.cursor="grabbing"},$e=()=>{document.removeEventListener("mousemove",He),document.removeEventListener("mouseup",$e),P.style.cursor="grab"};document.addEventListener("mousemove",He),document.addEventListener("mouseup",$e)},children:m.map(z=>e.jsxs(j.div,{className:"absolute",style:{left:`${z.position.x}px`,top:`${z.position.y}px`,width:`${z.size.width}px`,height:`${z.size.height}px`},whileHover:{scale:1.02},onHoverStart:()=>a==null?void 0:a(z),onHoverEnd:()=>a==null?void 0:a(null),onClick:()=>t(z),children:[e.jsx("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 glass-effect px-3 py-1 rounded-full",children:l===z.id?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"text",value:h,onChange:P=>p(P.target.value),className:"w-20 py-1 px-2 bg-white/10 border border-white/20 rounded text-white text-sm",autoFocus:!0,onClick:P=>P.stopPropagation(),onKeyDown:P=>{P.stopPropagation(),P.key==="Enter"?w(z.id):P.key==="Escape"&&M()}}),e.jsx("button",{onClick:P=>{P.stopPropagation(),w(z.id)},className:"text-brand-primary hover:text-brand-primary/80",children:e.jsx(it,{size:14})})]}):e.jsxs("span",{className:"text-white text-sm font-medium cursor-pointer flex items-center",onClick:P=>{P.stopPropagation(),F(z.id,z.tableNumber)},children:[z.tableNumber,e.jsx(nt,{size:12,className:"ml-1 text-white/60 hover:text-white"})]})}),e.jsxs("div",{className:`relative h-full rounded-lg overflow-hidden transition-all duration-300
                        ${(i==null?void 0:i.id)===z.id?"ring-4 ring-brand-burgundy shadow-neon":"ring-1 ring-white/20"}`,children:[e.jsx("div",{className:`absolute inset-0 backdrop-blur-sm ${z.status==="optimal"?"bg-green-500/10":z.status==="warning"?"bg-yellow-500/10":"bg-red-500/10"}`,children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"})}),e.jsx("div",{className:"absolute inset-0 grid grid-cols-2 grid-rows-10 gap-2 p-4",children:z.cells.map((P,Me)=>e.jsx(j.div,{className:`relative rounded-md transition-all duration-300 ${P.filled?`${P.type==="triplo"?"bg-brand-burgundy shadow-neon":P.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5"}`,variants:P.filled?f:b,initial:"initial",animate:"animate",custom:Me,children:e.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:P.filled&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-bold",children:P.fillOrder})})})},P.id))})]})]},z.id))})}),e.jsxs("div",{className:"absolute bottom-6 left-6 glass-effect rounded-lg p-4",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Types d'huîtres"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-burgundy shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Triploïdes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-primary shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Diploïdes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-tertiary shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Naturelles"})]}),e.jsx("div",{className:"mt-4 pt-2 border-t border-white/10",children:e.jsx("span",{className:"text-white/60 text-sm",children:"Les numéros indiquent l'ordre de remplissage"})})]})]})]})}),e.jsx("div",{className:"col-span-3",children:e.jsx(_,{mode:"wait",children:s||i?e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"glass-effect p-6 rounded-xl h-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Table ",(N=i||s)==null?void 0:N.tableNumber]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${((D=i||s)==null?void 0:D.status)==="optimal"?"bg-green-500/20 text-green-400":((A=i||s)==null?void 0:A.status)==="warning"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:((O=i||s)==null?void 0:O.status)==="optimal"?"Optimal":((q=i||s)==null?void 0:q.status)==="warning"?"Attention":"Critique"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[e.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Température"}),e.jsxs("div",{className:"text-white font-medium flex items-center",children:[e.jsx(Je,{className:"w-4 h-4 mr-1 text-brand-burgundy"}),(ae=i||s)==null?void 0:ae.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[e.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Salinité"}),e.jsxs("div",{className:"text-white font-medium flex items-center",children:[e.jsx(ne,{className:"w-4 h-4 mr-1 text-brand-primary"}),(R=i||s)==null?void 0:R.salinity," g/L"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Occupation"}),e.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-brand-burgundy",style:{width:`${(((Q=i||s)==null?void 0:Q.cells.filter(z=>z.filled).length)||0)*5}%`}})}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-white/60",children:[(X=i||s)==null?void 0:X.cells.filter(z=>z.filled).length," / 20 emplacements"]}),e.jsxs("span",{className:"text-xs text-white/60",children:[(((re=i||s)==null?void 0:re.cells.filter(z=>z.filled).length)||0)*5,"%"]})]})]})]}),((pe=i||s)==null?void 0:pe.currentBatch)&&e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(J,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",(Ne=(ge=i||s)==null?void 0:ge.currentBatch)==null?void 0:Ne.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[(Le=(ye=i||s)==null?void 0:ye.currentBatch)==null?void 0:Le.quantity," kg d'Huîtres N°",(y=(qe=i||s)==null?void 0:qe.currentBatch)==null?void 0:y.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:new Date(((H=(E=i||s)==null?void 0:E.currentBatch)==null?void 0:H.estimatedHarvestDate)||"").toLocaleDateString()})]})]})]})]},"table-info"):e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"glass-effect p-6 rounded-xl flex flex-col items-center justify-center h-full text-center",children:[e.jsx("div",{className:"bg-white/5 rounded-full p-4 mb-4",children:e.jsx(ve,{className:"w-10 h-10 text-brand-burgundy"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sélectionnez une table"}),e.jsx("p",{className:"text-white/60",children:"Cliquez sur une table pour voir ses détails et gérer son contenu"})]},"no-table-selected")})})]})})}function Kr({isOpen:t,onClose:a,onConfirm:s,maintenanceType:i,lastMaintenance:r,uvLampHours:n}){const[o,x]=c.useState(""),[m,u]=c.useState(!1),l=()=>{s(i,o),u(!1),a()};return e.jsx(xe,{isOpen:t,onClose:a,title:i==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[e.jsx(he,{size:24,className:"text-yellow-400 flex-shrink-0"}),e.jsx("p",{className:"text-yellow-400",children:i==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ee,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),e.jsx("div",{className:"text-white font-medium",children:T(new Date(r),"PPP",{locale:I})})]})]}),i==="uv_lamp"&&n&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx(ee,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),e.jsxs("div",{className:`font-medium ${n>=8e3?"text-red-400":n>=7e3?"text-yellow-400":"text-white"}`,children:[n," heures"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),e.jsx("textarea",{value:o,onChange:d=>x(d.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),e.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",i==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})}function el({isOpen:t,onClose:a,onConfirm:s,batch:i}){const[r,n]=c.useState(i.quantity),[o,x]=c.useState(""),[m,u]=c.useState(""),[l,d]=c.useState(i.remainingTime>0),h=p=>{p.preventDefault(),s({quantity:r,destination:o,notes:m})};return e.jsx(xe,{isOpen:t,onClose:a,title:"Sortie de lot",size:"md",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),e.jsx("div",{className:"text-white font-medium",children:i.number})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white font-medium",children:i.type})]})]})]}),l&&e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(he,{size:20,className:"text-yellow-400 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),e.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",i.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),e.jsx("input",{type:"number",value:r,onChange:p=>n(Number(p.target.value)),max:i.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),e.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",i.quantity," unités"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),e.jsxs("select",{value:o,onChange:p=>x(p.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une destination..."}),e.jsx("option",{value:"stock",children:"Stock"}),e.jsx("option",{value:"vente",children:"Vente directe"}),e.jsx("option",{value:"destruction",children:"Destruction"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),e.jsx("textarea",{value:m,onChange:p=>u(p.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(vs,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})}const tl=[{id:"1",name:"Bassin A1",capacity:1e3,currentOccupancy:800,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"plates"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}];function sl({pool:t,onClose:a}){const[s,i]=c.useState("info"),r=kt(a),[n,o]=c.useState(!1),[x,m]=c.useState("cleaning"),[u,l]=c.useState(null),[d,h]=c.useState(!1),p=(f,g)=>{console.log(`Maintenance ${f} confirmée:`,g),o(!1)},b=f=>{console.log("Sortie du lot:",{batch:u,...f}),h(!1),l(null)};return e.jsxs(e.Fragment,{children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(j.div,{ref:r,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-white/60",children:["Système de filtration : ",t.filterType]})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{onClick:()=>i("info"),className:`px-4 py-2 rounded-lg transition-colors ${s==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),e.jsx("button",{onClick:()=>i("history"),className:`px-4 py-2 rounded-lg transition-colors ${s==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),e.jsx("button",{onClick:()=>i("config"),className:`px-4 py-2 rounded-lg transition-colors ${s==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),e.jsxs(_,{mode:"wait",children:[s==="info"&&e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Je,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ne,{size:20,className:"mr-2 text-brand-primary"}),"Qualité eau"]}),e.jsxs("div",{className:`text-2xl font-bold ${t.waterQuality>=95?"text-green-400":t.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(J,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(t.currentOccupancy/t.capacity*100),"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[t.currentOccupancy,"/",t.capacity]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en purification"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{m("cleaning"),o(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(ki,{size:16,className:"mr-1 inline-block"}),"Nettoyage"]}),e.jsxs("button",{onClick:()=>{m("uv_lamp"),o(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(ms,{size:16,className:"mr-1 inline-block"}),"Lampe UV"]}),e.jsxs("button",{className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(V,{size:16,className:"mr-1 inline-block"}),"Nouveau lot"]})]})]}),e.jsx("div",{className:"space-y-3",children:t.batches.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:f.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[f.quantity," kg - ",f.type]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[f.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),e.jsx("button",{onClick:()=>{l(f),h(!0)},className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:e.jsx(vs,{size:20,className:"text-white/60"})})]})]},f.id))})]}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ms,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),e.jsxs("div",{className:`text-lg font-medium ${t.uvLampHours>=8e3?"text-red-400":t.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:[t.uvLampHours," heures d'utilisation"]}),e.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",T(new Date(t.lastUVChange),"PP",{locale:I})]})]}),t.uvLampHours>=7e3&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{size:20,className:"text-yellow-400"}),e.jsx("span",{className:"text-yellow-400",children:t.uvLampHours>=8e3?"Changement nécessaire":"Changement recommandé"})]})]})})]},"info"),s==="history"&&e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx(ee,{size:16,className:"mr-2"}),e.jsxs("span",{children:["Dernier nettoyage: ",T(new Date(t.lastMaintenance),"PP",{locale:I})]})]})}),e.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx(se,{size:16,className:"mr-2"}),e.jsxs("span",{children:["Changement filtre: ",T(new Date(t.lastMaintenance),"PP",{locale:I})]})]})})]})]})},"history"),s==="config"&&e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),e.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"uv",children:"UV"}),e.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),e.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),e.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),s==="config"&&e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})}),n&&e.jsx(Kr,{isOpen:n,onClose:()=>o(!1),onConfirm:p,maintenanceType:x,lastMaintenance:t.lastMaintenance,uvLampHours:t.uvLampHours}),d&&u&&e.jsx(el,{isOpen:d,onClose:()=>{h(!1),l(null)},onConfirm:b,batch:u})]})}function al(){const[t,a]=c.useState(null),[s,i]=c.useState(null),[r,n]=c.useState(tl),[o,x]=c.useState(!1),[m,u]=c.useState(null),[l,d]=c.useState({number:"",quantity:0,type:"plates",entryTime:T(new Date,"yyyy-MM-dd'T'HH:mm")}),h=(b,f)=>{b.stopPropagation(),u(f),d({number:`LOT-${T(new Date,"yyyy")}-${String(Math.floor(Math.random()*999)).padStart(3,"0")}`,quantity:0,type:"plates",entryTime:T(new Date,"yyyy-MM-dd'T'HH:mm")}),x(!0)},p=()=>{m&&l.quantity>0&&(console.log(`Ajout d'un lot au bassin ${m.name}:`,l),x(!1),u(null))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 gap-6",children:r.map(b=>e.jsxs(j.div,{className:`bg-white/5 border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer relative overflow-hidden ${s===b.id?"ring-2 ring-brand-primary shadow-neon":""}`,onClick:()=>a(b),onHoverStart:()=>i(b.id),onHoverEnd:()=>i(null),whileHover:{y:-4},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:b.name}),e.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[e.jsx(se,{size:16,className:"mr-1"}),b.filterType]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:f=>h(f,b),className:"px-3 py-1 text-sm bg-brand-primary rounded-lg text-white hover:bg-brand-primary/80 transition-colors flex items-center",children:[e.jsx(V,{size:14,className:"mr-1"}),"Rentrer un lot"]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${b.filterStatus==="active"?"bg-green-500/20 text-green-300":b.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:b.filterStatus==="active"?"Actif":b.filterStatus==="maintenance"?"Maintenance":"Erreur"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),e.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(b.currentOccupancy/b.capacity*100),"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[b.currentOccupancy,"/",b.capacity]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),e.jsxs("div",{className:`text-xl font-bold ${b.waterQuality>=95?"text-green-400":b.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[b.waterQuality,"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[b.temperature,"°C"]})]})]}),e.jsx("div",{className:"space-y-3",children:b.batches.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:f.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[f.quantity," kg"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[f.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:e.jsx(vs,{size:20,className:"text-white/60"})})]})]},f.id))}),e.jsx(j.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:s===b.id?1:0},transition:{duration:.2}})]},b.id))}),e.jsx(_,{children:t&&e.jsx(sl,{pool:t,onClose:()=>a(null)})}),o&&m&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Rentrer un lot dans ",m.name]}),e.jsx("button",{onClick:()=>x(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:b=>{b.preventDefault(),p()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),e.jsx("input",{type:"text",value:l.number,onChange:b=>d({...l,number:b.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),e.jsxs("select",{value:l.type,onChange:b=>d({...l,type:b.target.value}),className:"w-full p-4 bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"plates",children:"Plates"}),e.jsx("option",{value:"creuses",children:"Creuses"}),e.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),e.jsx("input",{type:"number",value:l.quantity,onChange:b=>d({...l,quantity:parseInt(b.target.value)}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date et heure d'entrée"}),e.jsx("input",{type:"datetime-local",value:l.entryTime,onChange:b=>d({...l,entryTime:b.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter le lot"})]})]})]})})]})}const Es={squares:10,rows:5,columns:2},il=[{id:"1",number:1,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"101",name:"Lot 2023-A",date:new Date(2023,2,15)},{id:"102",name:"Lot 2023-B",date:new Date(2023,3,20)}]},{id:"2",number:2,status:"partial",remainingRopes:50,totalRopes:100,batches:[{id:"103",name:"Lot 2023-C",date:new Date(2023,4,10)}]},{id:"3",number:3,status:"empty",remainingRopes:100,totalRopes:100,batches:[]},{id:"4",number:4,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"104",name:"Lot 2023-D",date:new Date(2023,5,15)},{id:"105",name:"Lot 2023-E",date:new Date(2023,6,20)}]},{id:"5",number:5,status:"partial",remainingRopes:40,totalRopes:100,batches:[{id:"106",name:"Lot 2023-F",date:new Date(2023,7,10)},{id:"107",name:"Lot 2023-G",date:new Date(2023,8,20)}]},{id:"6",number:6,status:"empty",remainingRopes:100,totalRopes:100,batches:[]},{id:"7",number:7,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"108",name:"Lot 2023-H",date:new Date(2023,9,15)},{id:"109",name:"Lot 2023-I",date:new Date(2023,10,20)},{id:"110",name:"Lot 2023-J",date:new Date(2023,11,10)}]},{id:"8",number:8,status:"partial",remainingRopes:70,totalRopes:100,batches:[{id:"111",name:"Lot 2023-K",date:new Date(2023,0,15)}]},{id:"9",number:9,status:"empty",remainingRopes:100,totalRopes:100,batches:[]},{id:"10",number:10,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"112",name:"Lot 2023-L",date:new Date(2023,1,20)},{id:"113",name:"Lot 2023-M",date:new Date(2023,2,10)}]}],rl=(t,a)=>({id:String(a+1),name:t.batchNumber||`Lot ${t.id}`,date:t.startDate?new Date(t.startDate):new Date}),_s=t=>t==="table1"?1:t==="table2"?2:t==="table3"?3:0;function Fa(){const[t,a]=c.useState(null),[s,i]=c.useState(null),[r,n]=c.useState({x:0,y:0}),[o,x]=c.useState(!1),[m,u]=c.useState(!0),[l,d]=c.useState(!1),[h,p]=c.useState(null),[b,f]=c.useState(il),[g,v]=c.useState(!1),[k,F]=c.useState({type:"",quantity:1,date:T(new Date,"yyyy-MM-dd"),batchNumber:`LOT-${T(new Date,"yyyyMMdd")}-${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`}),[w,M]=c.useState(!1),[N,D]=c.useState(1),[A,O]=c.useState(""),{batches:q,updateBatch:ae}=Z();c.useEffect(()=>{const y={};for(let H=1;H<=Es.squares;H++)y[H]=[];q.forEach((H,z)=>{const P=_s(H.status);P>0&&P<=Es.squares&&y[P].push(rl(H,z))});const E=b.map(H=>{const z=y[H.number]||[];let P="empty";return z.length>0&&(P=z.length>=3?"full":"partial"),{...H,batches:z,status:P,remainingRopes:z.length===0?H.totalRopes:Math.max(0,H.totalRopes-z.length*25)}});if(f(E),s){const H=E.find(z=>z.id===s.id)||null;i(H),l&&h&&p(H)}},[q]);const R=()=>{h&&(s&&s.batches.length!==h.batches.length&&Q(s.number,h.number),i(h),d(!1))},Q=(y,E)=>{let H;E===1?H="table1":E===2?H="table2":H="table3",q.forEach(z=>{_s(z.status)===y&&ae({...z,status:H})})},X=(y,E)=>{h&&p({...h,[y]:E})},re=()=>{i(null),d(!1),p(null)};Y.useEffect(()=>{const y=E=>{E.key==="Escape"&&re()};return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[]);const pe=`
    /* Styles de scrollbar supprimés pour utiliser les styles globaux définis dans index.css */

    .trempe-modal {
      pointer-events: all !important;
      user-select: none;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
  `,ge=y=>{i(y)},Ne=(y,E)=>{a(y),n({x:E.clientX,y:E.clientY})},ye=()=>{o||a(null)},Le=y=>{n({x:y.clientX,y:y.clientY})},qe=()=>{s&&N>0&&(console.log(`Récolte de ${N} cordes du carré ${s.number}, lot: ${A}`),M(!1))};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:pe}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-medium text-white relative",children:[e.jsx("span",{className:"relative z-10",children:"Vue satellite des trempes"}),e.jsx("span",{className:"absolute -bottom-1 left-0 w-1/3 h-0.5 bg-gradient-to-r from-brand-primary via-blue-400 to-transparent rounded-full blur-[1px]"})]}),e.jsx("button",{className:"glass-effect p-2 rounded-lg hover:bg-white/5 transition-colors shadow-glow-subtle",children:e.jsx(Ge,{size:18,className:"text-white/60"})})]}),e.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10 shadow-glow-main relative",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 rounded-xl bg-white/5 border border-white/10 shadow-inner-glow",children:[e.jsxs("div",{className:"flex items-center gap-3 border-r border-r-white/10 pr-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center shadow-glow-blue",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-primary glow-dot-blue"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white/60 text-xs",children:"Carrés pleins"}),e.jsx("span",{className:"text-brand-primary text-lg font-medium glow-text-blue",children:b.filter(y=>y.status==="full").length})]})]}),e.jsxs("div",{className:"flex items-center gap-3 border-r border-r-white/10 pr-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-tertiary/20 flex items-center justify-center shadow-glow-gold",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-tertiary glow-dot-gold"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white/60 text-xs",children:"Carrés partiels"}),e.jsx("span",{className:"text-brand-tertiary text-lg font-medium glow-text-gold",children:b.filter(y=>y.status==="partial").length})]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-white/20"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white/60 text-xs",children:"Carrés vides"}),e.jsx("span",{className:"text-white/80 text-lg font-medium",children:b.filter(y=>y.status==="empty").length})]})]}),e.jsx("button",{onClick:()=>u(!m),className:`p-2 rounded-lg transition-all duration-300 ${m?"bg-brand-primary/20 text-brand-primary border border-brand-primary/30 shadow-glow-blue-button":"bg-white/5 text-white/60 border border-white/10"}`,title:m?"Désactiver le modal fixe":"Activer le modal fixe",children:e.jsx(_e,{size:18})})]})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 shadow-inner-glow",children:[e.jsx("h2",{className:"text-white/80 text-sm font-medium mb-3",children:"Vue satellite des trempes"}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:b.map(y=>e.jsxs("div",{onMouseEnter:E=>{a(y),Ne(y,E)},onMouseLeave:ye,onMouseMove:Le,onClick:()=>ge(y),className:`relative p-3 rounded-xl border ${y.status==="full"?"border-blue-400/30 bg-gradient-to-br from-blue-900/20 to-blue-800/5 shadow-trempe-blue":y.status==="partial"?"border-yellow-400/30 bg-gradient-to-br from-yellow-700/20 to-yellow-600/5 shadow-trempe-gold":"border-white/5 bg-gradient-to-br from-white/5 to-transparent"} cursor-pointer transition-all duration-200 ease-in-out hover:scale-[1.03] hover:shadow-glow-${y.status==="full"?"blue-intense":y.status==="partial"?"gold-intense":"white"}`,children:[e.jsx("div",{className:`absolute inset-0 rounded-xl transition-all duration-300 ${y.status==="full"?"bg-gradient-to-t from-brand-primary/30 to-brand-primary/5":y.status==="partial"?"bg-gradient-to-t from-brand-tertiary/30 to-brand-tertiary/5":""}`}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-lg font-medium ${y.status==="full"?"text-brand-primary glow-text-blue":y.status==="partial"?"text-brand-tertiary glow-text-gold":"text-white/60"}`,children:y.number}),e.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${y.status==="full"?"bg-brand-primary glow-dot-blue":y.status==="partial"?"bg-brand-tertiary glow-dot-gold":"bg-white/20"}`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`text-xs ${y.batches.length>0?"text-white/80":"text-white/40"}`,children:y.batches.length>0?`${y.batches.length} corde${y.batches.length>1?"s":""}`:"Aucune corde"}),e.jsxs("div",{className:`text-xs flex items-center gap-1 ${y.status!=="empty"?"text-white/80":"text-white/40"}`,children:[y.totalRopes!==void 0&&y.remainingRopes!==void 0?y.totalRopes-y.remainingRopes:0,e.jsx("span",{className:"text-white/20",children:"/"}),e.jsx("span",{className:"text-white/40",children:y.totalRopes!==void 0?y.totalRopes:0})]})]})]})]},y.id))})]})}),e.jsx("div",{className:"w-full glass-effect rounded-xl border border-white/10 backdrop-blur-md p-4 shadow-glow-subtle",children:t||s?e.jsxs("div",{className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${(t||s).status==="full"?"bg-brand-primary glow-dot-blue":(t||s).status==="partial"?"bg-brand-tertiary glow-dot-gold":"bg-white/20"}`}),e.jsxs("h3",{className:"text-sm font-semibold text-white",children:["Carré ",(t||s).number]})]}),e.jsxs("div",{className:`text-xs px-3 py-1 rounded-full flex items-center gap-1.5 ${(t||s).status==="full"?"bg-brand-primary/20 text-brand-primary border border-brand-primary/20":(t||s).status==="partial"?"bg-brand-tertiary/20 text-brand-tertiary border border-brand-tertiary/20":"bg-white/10 text-white/60 border border-white/10"}`,children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),(t||s).status==="full"?"Plein":(t||s).status==="partial"?"Partiel":"Vide"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-5",children:[e.jsxs("div",{className:`glass-effect rounded-lg p-2 text-center flex-1 border ${(t||s).batches.length>0?"border-brand-primary/20 shadow-glow-blue":"border-white/10"}`,children:[e.jsx("div",{className:`${(t||s).batches.length>0?"text-brand-primary glow-text-blue":"text-white/60"} text-lg font-medium`,children:(t||s).batches.length}),e.jsx("div",{className:"text-[10px] text-white/60",children:"Cordes"})]}),e.jsxs("div",{className:`glass-effect rounded-lg p-2 text-center flex-1 border ${(t||s).status!=="empty"?"border-brand-tertiary/20 shadow-glow-gold":"border-white/10"}`,children:[e.jsx("div",{className:`${(t||s).status!=="empty"?"text-brand-tertiary glow-text-gold":"text-white/60"} text-lg font-medium`,children:(t||s).status==="full"?"100%":(t||s).status==="partial"?"50%":"0%"}),e.jsx("div",{className:"text-[10px] text-white/60",children:"Capacité"})]}),e.jsx("div",{className:"glass-effect rounded-lg p-2 flex flex-col justify-between border border-white/10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("span",{className:"text-white/60 text-lg font-medium",children:(t||s).totalRopes!==void 0&&(t||s).remainingRopes!==void 0?(t||s).totalRopes-(t||s).remainingRopes:0}),e.jsx("span",{className:"text-white/40 text-xs",children:"/"}),e.jsx("span",{className:"text-white/40 text-sm",children:(t||s).totalRopes!==void 0?(t||s).totalRopes:0})]}),e.jsx("div",{className:"text-[10px] text-white/60",children:"Cordes"})]})})]}),e.jsx("div",{className:"mb-1",children:(t||s).batches.length>0?e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:e.jsx(Ue,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-xs text-white/70 font-medium",children:"Cordes dans ce carré"})]}),e.jsxs("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-white/10 text-white/60",children:[(t||s).batches.length," corde",(t||s).batches.length!==1?"s":""]})]}):e.jsx("div",{className:"text-center py-4 text-white/40 text-sm",children:"Aucune corde dans ce carré"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("div",{className:"p-3 rounded-full bg-white/5 mb-3",children:e.jsx(Fe,{size:24,className:"text-white/40"})}),e.jsx("p",{className:"text-white/60 text-center",children:"Sélectionnez un carré. Cliquez sur un carré pour voir ses détails et gérer son contenu."})]})})]})]})}),e.jsx(_,{children:s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:y=>{y.target===y.currentTarget&&re()},children:e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:300,damping:30},className:"glass-effect rounded-xl p-6 max-w-2xl w-full mx-4 relative custom-scrollbar overflow-y-auto max-h-[90vh]",children:[e.jsx("button",{onClick:re,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-white/5 transition-colors",children:e.jsx(L,{size:20,className:"text-white/60"})}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.status==="full"?"bg-brand-primary":s.status==="partial"?"bg-brand-tertiary":"bg-white/20"}`}),l?e.jsx("input",{type:"number",value:(h==null?void 0:h.number)||s.number,onChange:y=>X("number",parseInt(y.target.value)),className:"bg-white/10 text-xl font-medium text-white px-3 py-1 rounded-lg outline-none focus:ring-2 focus:ring-brand-primary"}):e.jsxs("h2",{className:"text-xl font-medium text-white",children:["Carré ",s.number]}),e.jsxs("select",{value:l&&(h==null?void 0:h.status)||s.status,onChange:y=>X("status",y.target.value),disabled:!l,className:`text-sm px-3 py-1 rounded-full ${s.status==="full"?"bg-brand-primary/20 text-brand-primary":s.status==="partial"?"bg-brand-tertiary/20 text-brand-tertiary":"bg-white/10 text-white/60"} ${!l&&"cursor-not-allowed"} [&>option]:bg-gray-800 [&>option]:text-white`,children:[e.jsx("option",{value:"full",className:"text-white",children:"Plein"}),e.jsx("option",{value:"partial",className:"text-white",children:"Partiel"}),e.jsx("option",{value:"empty",className:"text-white/60",children:"Vide"})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{size:16,className:"text-white/60"}),e.jsx("span",{className:"text-sm text-white/60",children:"Cordes"})]}),e.jsx("div",{className:"text-2xl font-medium text-white",children:l?e.jsx("input",{type:"number",value:(h==null?void 0:h.batches.length)||s.batches.length,onChange:y=>X("batches",Array(parseInt(y.target.value)).fill(null)),className:"bg-white/10 w-20 px-2 py-1 rounded outline-none focus:ring-2 focus:ring-brand-primary"}):s.batches.length})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{size:16,className:"text-white/60"}),e.jsx("span",{className:"text-sm text-white/60",children:"Cordes utilisées"})]}),e.jsx("div",{className:"text-2xl font-medium text-white",children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:(h==null?void 0:h.totalRopes)!==void 0?h.totalRopes-h.remainingRopes:s.totalRopes!==void 0?s.totalRopes-s.remainingRopes:0,onChange:y=>X("remainingRopes",parseInt(y.target.value)),className:"bg-white/10 w-20 px-2 py-1 rounded outline-none focus:ring-2 focus:ring-brand-primary"}),e.jsx("span",{children:"/"}),e.jsx("input",{type:"number",value:(h==null?void 0:h.totalRopes)!==void 0?h.totalRopes:s.totalRopes!==void 0?s.totalRopes:0,onChange:y=>X("totalRopes",parseInt(y.target.value)),className:"bg-white/10 w-20 px-2 py-1 rounded outline-none focus:ring-2 focus:ring-brand-primary"})]}):`${s.totalRopes!==void 0?s.totalRopes-s.remainingRopes:0}/${s.totalRopes!==void 0?s.totalRopes:0}`})]})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:e.jsx(Ue,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-xs text-white/70 font-medium",children:"Cordes dans ce carré"})]}),e.jsxs("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-white/10 text-white/60",children:[s.batches.length," corde",s.batches.length!==1?"s":""]})]}),s.batches.length>0?e.jsx("div",{className:"space-y-2 max-h-[150px] overflow-y-auto custom-scrollbar pr-1",children:s.batches.map(y=>e.jsx("div",{className:"bg-white/5 hover:bg-white/10 rounded-xl p-3 border border-white/5 transition-all duration-200 cursor-pointer transform hover:translate-x-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:y.name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-xs bg-white/10 px-2 py-0.5 rounded-full text-white/60",children:y.date&&Ci(y.date)?T(y.date,"dd MMM",{locale:I}):"Date inconnue"})})]})},y.id))}):e.jsx("div",{className:"text-center py-4 text-white/40 text-sm",children:"Aucune corde dans ce carré"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Détails du carré ",s.number]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors text-white",children:"Récolter"}),e.jsx("button",{onClick:re,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(L,{size:18,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"rounded-lg bg-white/5 p-3 mt-6",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[e.jsx(Fe,{size:16,className:"text-brand-primary"}),"Synchronisation avec la traçabilité"]}),e.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Les cordes affichées ici sont synchronisées avec la section traçabilité. Pour ajouter ou modifier une corde, utilisez le bouton ",e.jsx(V,{size:12,className:"inline text-red-500"}),"ci-dessus pour accéder à la section traçabilité."]})]}),e.jsx("div",{className:"flex items-center gap-3",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:R,className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(Gt,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Sauvegarder"})]}),e.jsxs("button",{onClick:()=>{d(!1),p(null)},className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(L,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Annuler"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{d(!0),p({...s})},className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(De,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Modifier"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(V,{size:16,className:"text-red-500"}),e.jsx("span",{children:"Ajouter une corde"})]}),e.jsxs("button",{className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(Ue,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Historique"})]})]})})]})})}),e.jsx(_,{children:g&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:y=>{y.target===y.currentTarget&&v(!1)},children:e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:300,damping:30},className:"glass-effect rounded-xl p-6 max-w-md w-full mx-4 relative",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ajouter une corde"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Types d'huîtres"}),e.jsxs("select",{value:k.type,onChange:y=>F({...k,type:y.target.value}),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",className:"text-white/60",children:"Sélectionner un type"}),e.jsx("option",{value:"plates",className:"text-white",children:"Plates"}),e.jsx("option",{value:"creuses",className:"text-white",children:"Creuses"}),e.jsx("option",{value:"speciales",className:"text-white",children:"Spéciales"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-white/60 mb-1",children:["Numéro de lot",e.jsx("span",{className:"ml-2 text-white/40",children:"(lot en cours)"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:k.batchNumber,onChange:y=>F({...k,batchNumber:y.target.value}),className:"flex-1 bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:k.batchNumber,children:k.batchNumber}),e.jsxs("option",{value:`LOT-${T(new Date,"yyyyMMdd")}-001`,children:["LOT-",T(new Date,"yyyyMMdd"),"-001"]}),e.jsxs("option",{value:`LOT-${T(new Date,"yyyyMMdd")}-002`,children:["LOT-",T(new Date,"yyyyMMdd"),"-002"]}),e.jsxs("option",{value:`LOT-${T(new Date,"yyyyMMdd")}-003`,children:["LOT-",T(new Date,"yyyyMMdd"),"-003"]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nombre de cordes"}),e.jsx("input",{type:"number",min:"1",value:k.quantity,onChange:y=>F({...k,quantity:parseInt(y.target.value)}),className:"w-full bg-white/10 text-white rounded-lg p-2 outline-none focus:ring-2 focus:ring-brand-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de mise en place"}),e.jsx("input",{type:"date",value:k.date,onChange:y=>F({...k,date:y.target.value}),className:"w-full bg-white/10 text-white rounded-lg p-2 outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{v(!1)},className:"flex-1 bg-brand-primary text-white rounded-lg py-2 px-4 hover:bg-brand-primary/80 transition-colors",children:"Ajouter"}),e.jsx("button",{onClick:()=>v(!1),className:"flex-1 bg-white/10 text-white rounded-lg py-2 px-4 hover:bg-white/20 transition-colors",children:"Annuler"})]})]})})}),w&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Récolte de cordes"}),e.jsx("button",{onClick:()=>M(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sélectionner une perche"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("select",{value:A,onChange:y=>O(y.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",className:"text-white/60",children:"Choisir une perche"}),[...Array(5)].map((y,E)=>e.jsxs("option",{value:`perche-${E+1}`,children:["Perche ",E+1]},E))]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Numéro de lot:"}),e.jsx("span",{className:"text-white font-medium",children:A?`LOT-${T(new Date,"yyyyMMdd")}-${A.split("-")[1].padStart(3,"0")}`:"LOT-000000-000"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes à récolter"}),e.jsx("input",{type:"number",min:"1",max:s.ropes||10,value:N,onChange:y=>D(Math.min(parseInt(y.target.value)||1,s.ropes||10)),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:s.ropes?`${s.ropes} cordes disponibles`:"Nombre de cordes inconnu"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Annuler"}),e.jsx("button",{type:"button",onClick:qe,className:"px-4 py-2 bg-green-600 rounded-lg text-white hover:bg-green-700 transition-colors",children:"Récolter"})]})]})]})})]})]})}function ll({cell:t,onClose:a,onUpdate:s,setShowNaissainModal:i}){const r=kt(a),[n,o]=c.useState(t.type||""),[x,m]=c.useState(t.ropeCount||0),[u,l]=c.useState(t.size||""),[d,h]=c.useState(0),[p,b]=c.useState(!t.filled),f=g=>{g.preventDefault();let v;p?v={type:n,ropeCount:x,size:u,filled:!0}:t.filled?v={harvestedRopes:d,batchNumber:`LOT-${new Date().getTime()}`}:v={type:n,ropeCount:x,size:u,filled:!0},s(v),a()};return e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(j.div,{ref:r,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.filled&&!p?"Récolte":t.filled&&p?"Modifier le bassin":"Nouvelle production"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),t.filled&&!p&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{type:"button",onClick:()=>b(!0),className:"flex items-center text-brand-tertiary hover:text-brand-tertiary/80 transition-colors",children:[e.jsx(nt,{size:16,className:"mr-1"}),"Modifier les propriétés"]})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[!t.filled||p?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de production"}),e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsx("button",{type:"button",onClick:()=>{i?i(!0):console.warn("setShowNaissainModal is not defined")},className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Naissain"})}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"triplo",label:"Triploïde",color:"bg-brand-burgundy"},{value:"diplo",label:"Diploïde",color:"bg-brand-primary"},{value:"naturelle",label:"Naturelle",color:"bg-brand-tertiary"}].map(g=>e.jsxs("button",{type:"button",onClick:()=>o(g.value),className:`p-3 rounded-lg flex flex-col items-center justify-center transition-all ${n===g.value?`${g.color} shadow-neon`:"bg-white/5 hover:bg-white/10"}`,children:[e.jsx("div",{className:`w-4 h-4 rounded-sm ${g.color} mb-2`}),e.jsx("span",{className:"text-sm text-white",children:g.label})]},g.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes par perche"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[e.jsx("button",{type:"button",onClick:()=>m(Math.max(0,x-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:x}),e.jsx("button",{type:"button",onClick:()=>m(x+1),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taille des huîtres"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:["T5","T10","T15","T20","T30"].map(g=>e.jsx("button",{type:"button",onClick:()=>l(g),className:`p-3 rounded-lg flex items-center justify-center transition-all ${u===g?"bg-brand-burgundy shadow-neon":"bg-white/5 hover:bg-white/10"}`,children:e.jsx("span",{className:"text-white font-medium",children:g})},g))})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes récoltées"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[e.jsx("button",{type:"button",onClick:()=>h(Math.max(0,d-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:d}),e.jsx("button",{type:"button",onClick:()=>h(Math.min(t.ropeCount,d+1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]}),e.jsxs("div",{className:"mt-2 text-sm text-white/60 text-center",children:["sur ",t.ropeCount," cordes au total"]})]})]}),e.jsxs("div",{className:"p-4 bg-brand-burgundy/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[e.jsx(Se,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Numéro de lot"})]}),e.jsxs("div",{className:"text-white font-mono",children:["LOT-",new Date().getTime()]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t.filled&&!p?"Valider la récolte":t.filled&&p?"Enregistrer les modifications":"Ajouter la production"})]})]})]})})}function Aa({table:t,onClose:a,onTableUpdate:s}){var ht;const i=S=>{S.stopPropagation()},r=S=>{S.target===S.currentTarget&&a()},[n,o]=c.useState(null),[x,m]=c.useState(!0),[u,l]=c.useState(!1),[d,h]=c.useState({side:"left"}),[p,b]=c.useState(""),[f,g]=c.useState(""),[v,k]=c.useState(!1),[F,w]=c.useState(t.tableNumber),[M,N]=c.useState(!1),[D,A]=c.useState(""),[O,q]=c.useState(null),[ae,R]=c.useState(T(new Date,"yyyy-MM-dd")),[Q,X]=c.useState(!1),[re,pe]=c.useState(""),[ge,Ne]=c.useState(!1),[ye,Le]=c.useState(T(new Date,"yyyy-MM-dd")),[qe,y]=c.useState(!1),[E,H]=c.useState([]),[z,P]=c.useState([]),[Me,ke]=c.useState(""),Ye=c.useRef(null),xt=(S,C)=>{console.log("Updating cell:",S,C);const $=t.cells.findIndex(be=>be.id===S);if($===-1)return;const ie=[...t.cells];ie[$]={...ie[$],...C},s&&s(t.id,{cells:ie})},He=S=>{h({side:S}),l(!0)},$e=()=>{console.log(`Remplissage de la colonne ${d.side} avec ordre de remplissage ${p} à la date ${f}`),l(!1),b(""),g("")},Be=()=>{s&&F.trim()!==""&&s(t.id,{tableNumber:F.trim()}),k(!1)},We=()=>{w(t.tableNumber),k(!1)},Ze=()=>{if(typeof D=="number"){const C=(Math.random()*2-1)*.2,$=D*(1+C);q(Number($.toFixed(1)))}console.log(`Échantillonnage enregistré avec un taux de mortalité de ${D}% à la date ${ae}`),N(!1)},Kt=()=>{A(""),q(null),R(T(new Date,"yyyy-MM-dd")),N(!0)},Ct=S=>{S.preventDefault();const C={source:re,date:T(new Date,"yyyy-MM-dd"),batchNumber:`NAIS-${new Date().getTime()}`};console.log("Naissain enregistré:",C),s&&s(t.id,{naissainSource:C.source,naissainBatchNumber:C.batchNumber}),X(!1),pe("")},St=()=>{console.log(`Recherche dans l'historique pour la date: ${ye}`)},mt=S=>{var ie;const C=(ie=S.target.files)==null?void 0:ie[0];if(!C)return;ke("");const $=new FileReader;$.onload=be=>{var Ke;try{const Te=(Ke=be.target)==null?void 0:Ke.result,Dt=Si(Te,{type:"binary"}),ai=Dt.SheetNames[0],ii=Dt.Sheets[ai],es=zi.sheet_to_json(ii);if(es.length===0){ke("Le fichier ne contient pas de données valides.");return}H(es),P(es.slice(0,5))}catch(Te){console.error("Erreur lors de la lecture du fichier Excel:",Te),ke("Une erreur est survenue lors de la lecture du fichier. Vérifiez que le format est correct.")}},$.onerror=()=>{ke("Une erreur est survenue lors de la lecture du fichier.")},$.readAsBinaryString(C)},zt=()=>{if(E.length===0){ke("Aucune donnée à importer.");return}if(console.log("Importation des données:",E),s){const S={lastUpdated:new Date().toISOString()};s(t.id,S)}y(!1),H([]),P([])};return e.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,children:[e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-2xl",onClick:i,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:(t==null?void 0:t.name)||"Détails de la table"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Pe,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.temperature?`${t.temperature}°C`:"Non disponible"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ne,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.salinity,"g/L"]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Ae,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.mortalityRate,"%"]})]})]}),(t==null?void 0:t.currentBatch)&&e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(J,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",t.currentBatch.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[t.currentBatch.quantity," unités"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:T(new Date(t.currentBatch.estimatedHarvestDate),"PP",{locale:I})})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(te,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.lastCheck),"PP",{locale:I})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.nextCheck),"PP",{locale:I})})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:()=>Ne(!0),children:"Historique"}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",onClick:()=>He("left"),children:"Remplir colonne gauche"}),e.jsx("button",{className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",onClick:()=>He("right"),children:"Remplir colonne droite"}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:Kt,children:"Échantillonnage"}),e.jsx("button",{className:"px-4 py-2 text-white/70 hover:text-white transition-colors",onClick:a,children:"Fermer"})]})]})]}),e.jsxs(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"w-80 glass-effect rounded-lg p-4 self-start mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-white font-medium flex items-center",children:[e.jsx(Fe,{size:16,className:"mr-2 text-brand-burgundy"}),"Types d'huîtres"]}),e.jsx("button",{onClick:()=>m(!x),className:"text-white/60 hover:text-white transition-colors",children:x?"Réduire":"Voir"})]}),e.jsx(_,{children:x&&e.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3 overflow-hidden",children:[{type:"triplo",label:"Triploïdes",color:"bg-brand-burgundy",description:"Huîtres stériles à croissance rapide"},{type:"diplo",label:"Diploïdes",color:"bg-brand-primary",description:"Huîtres naturelles améliorées"},{type:"naturelle",label:"Naturelles",color:"bg-brand-tertiary",description:"Huîtres sauvages traditionnelles"}].map(S=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-lg ${S.color} shadow-neon border-2 border-white/80 shadow-[0_0_15px_rgba(255,255,255,0.6)] flex-shrink-0`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:S.label}),e.jsx("div",{className:"text-sm text-white/60",children:S.description})]})]},S.type))})})]}),e.jsx(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-[400px] h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:e.jsx("div",{className:"relative h-full grid grid-cols-2 grid-rows-10 gap-1 p-8 transform rotate-0",children:t.cells.map((S,C)=>e.jsxs(j.button,{onClick:()=>o(S),className:`relative rounded-md transition-all duration-300 group ${S.filled?`${S.type==="triplo"?"bg-brand-burgundy shadow-neon":S.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5 hover:bg-white/10"}`,variants:{initial:{opacity:.6,scale:.95},animate:$=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:$*.1,ease:"easeInOut"}})},initial:"initial",animate:"animate",custom:C,children:[e.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:S.filled&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-bold",children:S.fillOrder||C+1})})}),S.filled&&e.jsx("div",{className:"absolute bottom-1 right-1 text-[8px] text-white/60",children:S.ropeCount}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/40 rounded-md transition-opacity",children:e.jsx(nt,{size:16,className:"text-white"})})]},S.id))})}),e.jsx(j.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"w-96 bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 h-full border-l border-white/10 overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),v?e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("input",{type:"text",value:F,onChange:S=>w(S.target.value),className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white",autoFocus:!0}),e.jsx("button",{onClick:Be,className:"p-2 bg-brand-primary/20 hover:bg-brand-primary/40 rounded-lg transition-colors",title:"Valider",children:e.jsx(it,{size:18,className:"text-white"})}),e.jsx("button",{onClick:We,className:"p-2 bg-red-500/20 hover:bg-red-500/40 rounded-lg transition-colors",title:"Annuler",children:e.jsx(L,{size:18,className:"text-white"})})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-white/60",children:t.tableNumber}),e.jsx("button",{onClick:()=>k(!0),className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:e.jsx(nt,{size:14,className:"text-white/60"})})]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(L,{size:24,className:"text-white/60"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Pe,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ne,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.salinity,"g/L"]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ee,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.lastCheck),"PP",{locale:I})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.nextCheck),"PP",{locale:I})})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),e.jsxs("span",{className:`text-lg font-medium ${t.mortalityRate>3?"text-red-400":t.mortalityRate>2?"text-yellow-400":"text-green-400"}`,children:[t.mortalityRate,"%"]})]})})]})]}),t.currentBatch&&e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(J,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",t.currentBatch.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[t.currentBatch.quantity," unités"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),e.jsx("span",{className:"text-white font-medium",children:(ht=t.currentBatch)!=null&&ht.estimatedHarvestDate?T(new Date(t.currentBatch.estimatedHarvestDate),"PP",{locale:I}):"Non définie"})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ts,{size:20,className:"mr-2 text-brand-tertiary"}),"Importation de données"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),e.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[e.jsx(fe,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]}),e.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),e.jsxs("button",{onClick:()=>y(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[e.jsx(ze,{size:18}),"Importer des données"]})]})]})]})}),e.jsx(_,{children:n&&e.jsx(ll,{cell:n,onClose:()=>o(null),onUpdate:S=>xt(n.id,S),setShowNaissainModal:X})}),e.jsx(_,{children:u&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Remplissage de la colonne ",d.side]}),e.jsx("button",{onClick:()=>l(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:S=>{S.preventDefault(),$e()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Ordre de remplissage"}),e.jsx("input",{type:"number",value:p,onChange:S=>b(S.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de remplissage"}),e.jsx("input",{type:"date",value:f,onChange:S=>g(S.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Remplir la colonne"})]})]})]})})}),e.jsx(_,{children:M&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Échantillonnage"}),e.jsx("button",{onClick:()=>N(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:S=>{S.preventDefault(),Ze()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux évalué de mortalité"}),e.jsx("input",{type:"number",value:D,onChange:S=>A(S.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 3.7%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux potentiel de mortalité (IA)"}),e.jsx("input",{type:"number",value:O,onChange:S=>q(S.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Prédiction IA calculée automatiquement",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date d'échantillonnage"}),e.jsx("input",{type:"date",value:ae,onChange:S=>R(S.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'échantillonnage"})]})]})]})})}),e.jsx(_,{children:Q&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestion du Naissain"}),e.jsx("button",{onClick:()=>X(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:Ct,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Source du naissain (écloserie)"}),e.jsx("input",{type:"text",value:re,onChange:S=>pe(S.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: Écloserie Atlantique"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot fournisseur"}),e.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: ATLANT-2025-0012"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de réception"}),e.jsx("input",{type:"date",className:"w-full p-4 bg-white/5 rounded-lg text-white",defaultValue:T(new Date,"yyyy-MM-dd")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité reçue"}),e.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 10000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes sur la qualité"}),e.jsx("textarea",{className:"w-full p-4 bg-white/5 rounded-lg text-white h-24 resize-none",placeholder:"Observations sur la qualité du naissain à la réception..."})]}),e.jsxs("div",{className:"bg-brand-burgundy/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[e.jsx(Fe,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Numéro de traçabilité"})]}),e.jsxs("div",{className:"text-white font-mono",children:["NAIS-",new Date().getTime()]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Ce numéro sera utilisé pour la traçabilité et permettra de suivre la performance de ce lot de naissain."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer le naissain"})]})]})]})})}),e.jsx(_,{children:ge&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Historique de la table ",t==null?void 0:t.name]}),e.jsx("button",{onClick:()=>Ne(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Rechercher par date"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"date",value:ye,onChange:S=>Le(S.target.value),className:"p-2 bg-white/5 rounded-lg text-white"}),e.jsx("button",{onClick:St,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Rechercher"})]})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsxs("h4",{className:"text-white font-medium mb-4",children:["Données pour le ",T(new Date(ye),"dd MMMM yyyy",{locale:I})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Pe,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ne,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Ae,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5%"})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(J,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsx("span",{className:"text-white font-medium",children:"5000 unités"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Source du naissain"}),e.jsx("span",{className:"text-white font-medium",children:"Écloserie Atlantique"})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4 mt-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(te,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:"26 févr. 2025"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Exporter les données"}),e.jsx("button",{type:"button",onClick:()=>Ne(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})]})]})]})})}),e.jsx(_,{children:qe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ts,{size:24,className:"mr-3 text-brand-tertiary"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Importer des données"})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"mb-6 bg-white/5 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Format de fichier attendu"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Votre fichier Excel doit contenir les colonnes suivantes :"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 text-sm mt-2 space-y-1",children:[e.jsx("li",{children:"Position (ID de la case)"}),e.jsx("li",{children:"Type (type de production)"}),e.jsx("li",{children:"Quantité (nombre d'unités)"}),e.jsx("li",{children:"Date de mise en place (format JJ/MM/AAAA)"}),e.jsx("li",{children:"Calibre (taille des huîtres)"}),e.jsx("li",{children:"Source (provenance du naissain)"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[e.jsx(fe,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]})})]}),e.jsxs("form",{onSubmit:S=>{S.preventDefault(),zt()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sélectionner un fichier Excel (.xlsx, .xls) ou CSV"}),e.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center cursor-pointer hover:border-white/40 transition-colors",onClick:()=>{var S;return(S=Ye.current)==null?void 0:S.click()},children:[e.jsx(ze,{size:36,className:"mx-auto text-white/60 mb-3"}),e.jsx("p",{className:"text-white/80 mb-2",children:"Glissez-déposez votre fichier ici ou cliquez pour parcourir"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Formats supportés: .xlsx, .xls, .csv"}),e.jsx("input",{type:"file",ref:Ye,onChange:mt,className:"hidden",accept:".xlsx, .xls, .csv"})]})]}),Me&&e.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 text-red-300 p-4 rounded-lg text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Erreur d'importation"}),Me]}),z.length>0&&e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsxs("h4",{className:"text-white font-medium mb-4",children:["Aperçu des données (",E.length," enregistrements au total)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-white/10",children:Object.keys(z[0]).map(S=>e.jsx("th",{className:"text-left py-2 px-3 text-white/80",children:S},S))})}),e.jsx("tbody",{children:z.map((S,C)=>e.jsx("tr",{className:"border-b border-white/5",children:Object.keys(S).map($=>e.jsx("td",{className:"py-2 px-3 text-white/70",children:S[$]},$))},C))})]})}),e.jsx("div",{className:"mt-4 text-white/60 text-sm",children:"* Seules les 5 premières lignes sont affichées"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",disabled:E.length===0,className:`px-4 py-2 rounded-lg text-white transition-colors flex items-center 
                    ${E.length===0?"bg-white/20 cursor-not-allowed":"bg-brand-burgundy hover:bg-brand-burgundy/90"}`,children:[e.jsx(ts,{size:18,className:"mr-2"}),"Importer les données"]})]})]})]})})})]})}function nl({isOpen:t,onClose:a}){const{register:s,handleSubmit:i,formState:{errors:r}}=ot(),n=o=>{console.log(o),a()};return e.jsx(xe,{isOpen:t,onClose:a,title:"Nouvel Article",size:"xl",children:e.jsxs("form",{onSubmit:i(n),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),e.jsx("input",{...s("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),e.jsx("input",{...s("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.sku.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{...s("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),e.jsxs("select",{...s("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"huitres",children:"Huîtres"}),e.jsx("option",{value:"materiels",children:"Matériels"}),e.jsx("option",{value:"emballages",children:"Emballages"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),e.jsxs("select",{...s("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"douzaines",children:"Douzaines"}),e.jsx("option",{value:"unites",children:"Unités"}),e.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),e.jsx("input",{type:"number",...s("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),e.jsx("input",{type:"number",...s("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),e.jsx("input",{type:"number",...s("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),e.jsx("input",{type:"number",step:"0.01",...s("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),e.jsx("input",{type:"number",step:"0.01",...s("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),e.jsx("input",{...s("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),e.jsxs("select",{...s("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),e.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),e.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const dl=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],cl=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],ol=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function xl({isOpen:t,onClose:a,onApplyFilters:s}){const[i,r]=Y.useState([]),[n,o]=Y.useState([]),[x,m]=Y.useState([]),[u,l]=Y.useState({min:"",max:""}),d=()=>{s({categories:i,locations:n,status:x,priceRange:u}),a()},h=()=>{r([]),o([]),m([]),l({min:"",max:""})};return e.jsx(xe,{isOpen:t,onClose:a,title:"Filtres avancés",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:dl.map(p=>e.jsx("button",{onClick:()=>{r(b=>b.includes(p.value)?b.filter(f=>f!==p.value):[...b,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${i.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:cl.map(p=>e.jsx("button",{onClick:()=>{o(b=>b.includes(p.value)?b.filter(f=>f!==p.value):[...b,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ol.map(p=>e.jsx("button",{onClick:()=>{m(b=>b.includes(p.value)?b.filter(f=>f!==p.value):[...b,p.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${x.includes(p.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p.label},p.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),e.jsx("input",{type:"number",value:u.min,onChange:p=>l({...u,min:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),e.jsx("input",{type:"number",value:u.max,onChange:p=>l({...u,max:p.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsx("button",{onClick:h,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}function Re(...t){return Di(Mi(t))}function bt({children:t,className:a,...s}){return e.jsx("div",{className:Re("bg-brand-dark border border-white/10 rounded-lg overflow-hidden",a),...s,children:t})}const B=c.forwardRef(({className:t,type:a,...s},i)=>e.jsx("input",{type:a,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t||""}`,ref:i,...s}));B.displayName="Input";const Ra=Fi,ml=Pi,La=c.forwardRef(({className:t,...a},s)=>e.jsx(ra,{ref:s,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${t||""}`,...a}));La.displayName=ra.displayName;const Cs=c.forwardRef(({className:t,children:a,...s},i)=>e.jsxs(ml,{children:[e.jsx(La,{}),e.jsxs(la,{ref:i,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${t||""}`,...s,children:[a,e.jsxs(Ti,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cs.displayName=la.displayName;const Ss=({className:t,...a})=>e.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${t||""}`,...a});Ss.displayName="DialogHeader";const qa=({className:t,...a})=>e.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${t||""}`,...a});qa.displayName="DialogFooter";const zs=c.forwardRef(({className:t,...a},s)=>e.jsx(na,{ref:s,className:`text-lg font-semibold leading-none tracking-tight ${t||""}`,...a}));zs.displayName=na.displayName;const $a=c.forwardRef(({className:t,...a},s)=>e.jsx(da,{ref:s,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${t||""}`,...a}));$a.displayName=da.displayName;const Is=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],hl=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function Ea(){const[t,a]=c.useState(null),[s,i]=c.useState(0),[r,n]=c.useState(null),[o,x]=c.useState(null),[m,u]=c.useState(!1),[l,d]=c.useState(0),[h,p]=c.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),b=w=>{const M=parseInt(w,10);!isNaN(M)&&M>=0&&i(M)},f=()=>t&&s?(t.price*s).toFixed(2):"0.00",g=w=>{switch(w){case"moules":return e.jsx(J,{className:"w-4 h-4"});case"palourdes":return e.jsx(oa,{className:"w-4 h-4"});default:return e.jsx(K,{className:"w-4 h-4"})}},v=()=>{console.log("Commande confirmée:",{product:t==null?void 0:t.name,quantity:s,total:f()}),a(null),i(0)},k=w=>{var N;const M=(N=w.target.files)==null?void 0:N[0];M&&p(D=>({...D,invoice:M}))},F=w=>{w.preventDefault(),console.log("Nouveau achat:",{...h,rating:l}),u(!1),p({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),d(0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),e.jsxs(G,{onClick:()=>u(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[e.jsx(V,{className:"w-4 h-4"}),"Nouvel achat"]})]}),e.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:hl.map(w=>e.jsxs(bt,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"relative p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-brand-burgundy"}),e.jsx("h3",{className:"text-base font-medium text-white",children:w.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-white/60",children:w.address}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx(de,{className:"w-4 h-4"}),w.contact]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",w.reliability,"%"]}),e.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",w.lastDelivery]})]})]})})})]},w.id))}),o==="CDB"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),e.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),e.jsxs(G,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Nouveau produit"]})]}),e.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:Is.map(w=>e.jsxs(bt,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(t==null?void 0:t.id)===w.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>a(w),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-base font-medium text-white",children:w.name}),e.jsx("p",{className:"text-sm text-white/60",children:w.description})]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[g(w.type),e.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:w.type})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-white/40"}),e.jsx("span",{className:"text-sm text-white",children:w.origin})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ai,{className:"w-4 h-4 text-white/40"}),e.jsxs("span",{className:"text-sm text-white",children:[w.price,"€/",w.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-white/40"}),e.jsxs("span",{className:"text-sm text-white",children:["Min. ",w.minOrder,w.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ri,{className:"w-4 h-4 text-white/40"}),e.jsx("span",{className:"text-sm text-white",children:w.calibre})]})]}),w.certification&&e.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:w.certification.map((M,N)=>e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:M},N))})]})]},w.id))})]}),t&&e.jsxs(bt,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"relative p-4",children:e.jsx("div",{className:"flex items-start gap-4",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",t.name]}),e.jsx(G,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>n(t.id),children:e.jsx(Fe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",t.unit,")"]}),e.jsx(B,{type:"number",value:s,onChange:w=>b(w.target.value),min:0,className:"bg-white/5 border-white/10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),e.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:e.jsxs("span",{className:"text-white font-medium",children:[f(),"€"]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",t.minOrder,t.unit]}),e.jsx(G,{variant:"default",size:"sm",disabled:s<t.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:v,children:"Confirmer la commande"})]})]})})})]}),r&&e.jsx(Ra,{open:!!r,children:e.jsxs(Cs,{children:[e.jsx(Ss,{children:e.jsx(zs,{children:"Détails du produit"})}),(()=>{var M;const w=Is.find(N=>N.id===r);return w?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:g(w.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:w.name}),e.jsx("p",{className:"text-sm text-white/60",children:w.description})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),e.jsx("span",{className:"text-sm text-white",children:w.calibre})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),e.jsx("span",{className:"text-sm text-white",children:w.conservation})]})]})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(M=w.certification)==null?void 0:M.map((N,D)=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:N},D))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(G,{variant:"outline",onClick:()=>n(null),children:"Fermer"})})]}):null})()]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(L,{className:"text-white/60",size:20})})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),e.jsx(B,{type:"text",value:h.supplier,onChange:w=>p(M=>({...M,supplier:w.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),e.jsx(B,{type:"text",value:h.product,onChange:w=>p(M=>({...M,product:w.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),e.jsx(B,{type:"date",value:h.expiryDate,onChange:w=>p(M=>({...M,expiryDate:w.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),e.jsxs("select",{value:h.storageLocation,onChange:w=>p(M=>({...M,storageLocation:w.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),e.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),e.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),e.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),e.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),e.jsx("option",{value:"Remise",children:"Remise"}),e.jsx("option",{value:"Cave",children:"Cave"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(w=>e.jsx("button",{type:"button",onClick:()=>d(w),className:"focus:outline-none",children:e.jsx(je,{size:24,className:w<=l?"text-yellow-400 fill-yellow-400":"text-white/20"})},w))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:k,className:"hidden"}),e.jsx(ze,{className:"w-5 h-5 text-white/60 mr-2"}),e.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(Xt,{className:"w-4 h-4"}),"Photo"]}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(ca,{className:"w-4 h-4"}),"Scanner"]})]}),h.invoice&&e.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",h.invoice.name]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(G,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Annuler"}),e.jsx(G,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function ul({isOpen:t,onClose:a}){const{register:s,handleSubmit:i,formState:{errors:r},setValue:n,watch:o}=ot({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[x,m]=c.useState(null),u=o("rating"),l=p=>{console.log(p),a()},d=p=>{var f;const b=(f=p.target.files)==null?void 0:f[0];if(b){const g=new FileReader;g.onloadend=()=>{m(g.result)},g.readAsDataURL(b)}},h=p=>{n("rating",p)};return e.jsx(xe,{isOpen:t,onClose:a,title:"Nouvel achat",size:"lg",children:e.jsxs("form",{onSubmit:i(l),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),e.jsx("input",{...s("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.productName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.productName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),e.jsx("input",{...s("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.supplierName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.supplierName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),e.jsx("input",{type:"date",...s("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.expiryDate&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.expiryDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),e.jsx("input",{...s("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.storageLocation&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.storageLocation.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),e.jsx("input",{type:"number",min:"1",...s("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.quantity&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.quantity.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",...s("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.unitPrice&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.unitPrice.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(p=>e.jsx("button",{type:"button",onClick:()=>h(p),className:"focus:outline-none",children:e.jsx(je,{size:24,className:`${p<=u?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),e.jsx("textarea",{...s("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),e.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:x?e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("img",{src:x,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>m(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(ze,{size:20,className:"mr-2"}),e.jsx("span",{children:"Choisir un fichier"}),e.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:d})]})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(Xt,{size:20,className:"mr-2"}),e.jsx("span",{children:"Prendre une photo"})]})})]})}),e.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:a,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}function pl(){var zt,ht,S;const[t,a]=c.useState("tables"),[s,i]=c.useState(""),[r,n]=c.useState(null),[o,x]=c.useState(null),[m,u]=c.useState(!1),[l,d]=c.useState(!1),[h,p]=c.useState(!1),[b,f]=c.useState(null),[g,v]=c.useState(!1),[k,F]=c.useState(!1),[w,M]=c.useState(null),[N,D]=c.useState(""),[A,O]=c.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[q,ae]=c.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),R=Y.useRef(null),Q=C=>{const $=Math.floor(Math.random()*1e4);return`${C}-${$.toString().padStart(5,"0")}`},X=()=>{if(!b||!A.name||!A.quantity)return;let C="";b.includes("Frigo")?C="F":b.includes("Congélateur")?C="C":b==="Remise"?C="R":b==="Cave"&&(C="CA");const $={id:Q(C),name:A.name,quantity:`${A.quantity}${A.unit==="unités"?" unités":A.unit==="bouteilles"?" bouteilles":A.unit}`,arrivalDate:A.arrivalDate,expiryDate:A.expiryDate===""?"N/A":A.expiryDate};ae({...q,[b]:[...q[b],$]}),O({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),v(!1)},re=(C,$)=>{M({id:$.id,name:$.name,quantity:$.quantity});const ie=$.quantity.match(/^(\d+(?:\.\d+)?)/);ie&&ie[1]?D(ie[1]):D(""),F(!0)},pe=C=>{const $=C.match(/[a-zA-Z]+|unités|bouteilles/);return $?$[0]:""},ge=C=>{const $=C.match(/^(\d+(?:\.\d+)?)/);return $?parseFloat($[1]):0},Ne=()=>{if(!b||!w)return;const C=ge(w.quantity),$=parseFloat(N),ie=pe(w.quantity),be=[...q[b]],Ke=be.findIndex(Te=>Te.id===w.id);if(Ke!==-1){if($>=C){const Te=be.filter(Dt=>Dt.id!==w.id);ae({...q,[b]:Te}),console.log(`Produit ${w.id} entièrement retiré de ${b}`)}else{const Te={...be[Ke],quantity:`${(C-$).toFixed(2).replace(/\.00$/,"")}${ie}`};be[Ke]=Te,ae({...q,[b]:be}),console.log(`${N}${ie} de ${w.name} retiré de ${b}`)}F(!1),M(null),D("")}},{handlers:ye,isRefreshing:Le}=Tr(async()=>{await new Promise(C=>setTimeout(C,1e3))}),qe=()=>{switch(t){case"tables":return"Tables";case"trempes":return"Trempes";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},[y,E]=c.useState(!1),{register:H,handleSubmit:z,formState:{errors:P}}=ot({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[Me,ke]=c.useState(null),Ye=C=>{console.log(C),E(!1)},xt=C=>{var ie;const $=(ie=C.target.files)==null?void 0:ie[0];if($){const be=new FileReader;be.onloadend=()=>{ke(be.result)},be.readAsDataURL($)}},He=()=>{ke(null)};c.useState(!1);const $e=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[Be,We]=c.useState(!1),[Ze,Kt]=c.useState(null),[Ct,St]=c.useState(!1),mt=C=>{Kt(C),St(!0)};return e.jsxs("div",{ref:R,className:"space-y-6",...ye,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:qe()}),e.jsx("div",{className:"flex items-center space-x-3"})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("tables"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="tables"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{size:16,className:"mr-2"}),"Tables"]})}),e.jsx("button",{onClick:()=>a("trempes"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="trempes"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{size:16,className:"mr-2"}),"Trempes"]})}),e.jsx("button",{onClick:()=>a("pools"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="pools"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{size:16,className:"mr-2"}),"Bassins"]})}),e.jsx("button",{onClick:()=>a("autres"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="autres"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{size:16,className:"mr-2"}),"Autres emplacements"]})}),e.jsx("button",{onClick:()=>a("achats"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="achats"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(gt,{size:16,className:"mr-2"}),"Achats"]})}),e.jsx("button",{onClick:()=>a("charges"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="charges"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{size:16,className:"mr-2"}),"Charges"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:C=>i(C.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtres"]})]}),t==="tables"&&e.jsx(Pa,{onTableSelect:n,onTableHover:x,hoveredTable:o,selectedTable:r}),t==="pools"&&e.jsx(al,{}),t==="trempes"&&e.jsx(Fa,{}),t==="autres"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),e.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Frigo 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(ne,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"500 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"65%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Frigo 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(ne,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"300 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"30%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Congélateur 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Pe,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"200 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"85%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Congélateur 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Pe,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"150 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"40%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Remise"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:e.jsx(K,{size:18,className:"text-amber-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),e.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"1000 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"55%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>f("Cave"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:e.jsx(ve,{size:18,className:"text-purple-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),e.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"800 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"25%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),t==="achats"&&e.jsx(Ea,{}),r&&e.jsx(Aa,{table:r,onClose:()=>n(null)}),m&&t!=="achats"&&e.jsx(nl,{isOpen:m,onClose:()=>u(!1)}),m&&t==="achats"&&e.jsx(ul,{isOpen:m,onClose:()=>u(!1)}),l&&e.jsx(xl,{isOpen:l,onClose:()=>d(!1)}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${b.includes("Frigo")?"bg-blue-500/20":b.includes("Congélateur")?"bg-cyan-500/20":b==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:b.includes("Frigo")?e.jsx(ne,{size:20,className:"text-blue-400"}):b.includes("Congélateur")?e.jsx(Pe,{size:20,className:"text-cyan-400"}):b==="Remise"?e.jsx(K,{size:20,className:"text-amber-400"}):e.jsx(ve,{size:20,className:"text-purple-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:b})]}),e.jsx("button",{onClick:()=>f(null),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-white/70",children:[(zt=q[b])==null?void 0:zt.length," produits stockés"]})}),e.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[e.jsx(V,{size:16}),"Ajouter un produit"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[e.jsx("div",{children:"Produit"}),e.jsx("div",{children:"Quantité"}),e.jsx("div",{children:"Date d'arrivée"}),e.jsx("div",{children:"DLC"}),e.jsx("div",{className:"text-right",children:"Actions"})]}),((ht=q[b])==null?void 0:ht.length)>0?(S=q[b])==null?void 0:S.map(C=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[e.jsx("div",{className:"font-medium",children:C.name}),e.jsx("div",{children:C.quantity}),e.jsx("div",{children:C.arrivalDate}),e.jsx("div",{children:C.expiryDate==="N/A"?e.jsx("span",{className:"text-white/50",children:"N/A"}):e.jsx("span",{className:`${new Date(C.expiryDate)<new Date?"text-red-400":new Date(C.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:C.expiryDate})}),e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{onClick:$=>{$.stopPropagation(),re(b,C)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},C.id)):e.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),g&&b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",b]}),e.jsx("button",{onClick:()=>v(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:C=>{C.preventDefault(),X()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),e.jsx("input",{type:"text",value:A.name,onChange:C=>O({...A,name:C.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),e.jsx("input",{type:"text",value:A.quantity,onChange:C=>O({...A,quantity:C.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),e.jsxs("select",{value:A.unit,onChange:C=>O({...A,unit:C.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"g",children:"g"}),e.jsx("option",{value:"tonnes",children:"tonnes"}),e.jsx("option",{value:"unités",children:"unités"}),e.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),e.jsx("input",{type:"date",value:A.arrivalDate,onChange:C=>O({...A,arrivalDate:C.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),e.jsx("input",{type:"date",value:A.expiryDate,onChange:C=>O({...A,expiryDate:C.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),e.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),e.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),e.jsx("button",{onClick:()=>p(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),e.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),e.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"",children:"Sélectionner un type"}),e.jsx("option",{value:"frigo",children:"Frigo"}),e.jsx("option",{value:"congelateur",children:"Congélateur"}),e.jsx("option",{value:"remise",children:"Remise"}),e.jsx("option",{value:"other",children:"Autre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),e.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"tonnes",children:"tonnes"}),e.jsx("option",{value:"units",children:"unités"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),k&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),e.jsx("button",{onClick:()=>{F(!1),M(null)},className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-white text-lg mb-2",children:w.name}),e.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",w.quantity]})]}),e.jsxs("form",{onSubmit:C=>{C.preventDefault(),Ne()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",min:"0.01",step:"0.01",max:ge(w.quantity),value:N,onChange:C=>D(C.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),e.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:pe(w.quantity)})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>{F(!1),M(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),t==="charges"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>E(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(rt,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),e.jsxs("button",{onClick:()=>We(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Ue,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(oe,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"50 €"}),e.jsx("button",{onClick:()=>mt($e[0]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(_e,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(oe,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"75 €"}),e.jsx("button",{onClick:()=>mt($e[1]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(_e,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(oe,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"200 €"}),e.jsx("button",{onClick:()=>mt($e[2]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(_e,{size:20})})]})]})]}),y&&e.jsx(xe,{isOpen:y,onClose:()=>E(!1),title:"Nouvelle Charge",size:"lg",children:e.jsxs("form",{onSubmit:z(Ye),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),e.jsx("input",{...H("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),P.chargeName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:P.chargeName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",...H("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),P.amount&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:P.amount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{...H("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),e.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:Me?e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("img",{src:Me,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),e.jsx("button",{type:"button",onClick:He,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(ze,{size:20,className:"mr-2"}),e.jsx("span",{children:"Choisir un fichier"}),e.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:xt})]})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(Xt,{size:20,className:"mr-2"}),e.jsx("span",{children:"Prendre une photo"})]})})]})}),e.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),Be&&e.jsx(xe,{isOpen:Be,onClose:()=>We(!1),title:"Calendrier",size:"lg",children:e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),Ct&&Ze&&e.jsx(xe,{isOpen:Ct,onClose:()=>St(!1),title:"Détails de la facture",size:"lg",children:e.jsx("div",{className:"p-4",children:e.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",Ze.name]})})}),Le&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white/5 rounded-full p-4",children:e.jsx("div",{className:"w-8 h-8 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})})})]})}function bl({value:t,onValueChange:a,children:s,className:i=""}){return e.jsx("div",{className:i,children:Y.Children.map(s,r=>Y.isValidElement(r)?Y.cloneElement(r,{value:t,onValueChange:a}):r)})}function gl({children:t,className:a=""}){return e.jsx("div",{className:`flex items-center space-x-4 border-b border-white/10 ${a}`,children:t})}function is({value:t,children:a,className:s=""}){const i=Y.useContext(_a),r=(i==null?void 0:i.value)===t;return e.jsx("button",{onClick:()=>i==null?void 0:i.onValueChange(t),className:`
        py-4 text-sm font-medium border-b-2 transition-colors
        ${r?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}
        ${s}
      `,children:a})}function rs({value:t,children:a,className:s=""}){const i=Y.useContext(_a);return(i==null?void 0:i.value)!==t?null:e.jsx("div",{className:s,children:a})}const _a=Y.createContext(null);function jl(){const[t,a]=c.useState(""),[s,i]=c.useState(!1),[r,n]=c.useState(null),[o,x]=c.useState(null),[m,u]=c.useState("bassins"),l=d=>{const h=d.target;!h.closest(".catalog-content")&&!h.closest(".catalog-button")&&i(!1)};return e.jsxs("div",{onClick:l,className:"h-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Stock"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Visualisez et gérez votre inventaire"})]}),e.jsxs(G,{className:"catalog-button bg-blue-600 hover:bg-blue-700 text-white",onClick:d=>{d.stopPropagation(),i(!s)},children:[e.jsx(_e,{className:"w-4 h-4 mr-2"}),s?"Masquer le catalogue":"Voir le catalogue"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),e.jsx(B,{type:"text",placeholder:"Rechercher dans le stock...",value:t,onChange:d=>a(d.target.value),className:"pl-10"})]}),e.jsxs(G,{variant:"outline",className:"gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Filtres"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`transition-all duration-300 ${s?"mr-80":""}`,children:e.jsxs(bl,{value:m,onValueChange:u,className:"space-y-6",children:[e.jsxs(gl,{children:[e.jsx(is,{value:"bassins",children:"Bassins"}),e.jsx(is,{value:"trempes",children:"Trempes"}),e.jsx(is,{value:"achats",children:"Achats"})]}),e.jsx(rs,{value:"bassins",children:e.jsx(bt,{children:e.jsx("div",{className:"p-6",children:e.jsx(Pa,{onTableSelect:n,onTableHover:x,hoveredTable:o,selectedTable:r})})})}),e.jsx(rs,{value:"trempes",children:e.jsx(Fa,{})}),e.jsx(rs,{value:"achats",children:e.jsx(Ea,{})})]})}),e.jsx("div",{className:`catalog-content fixed top-0 right-0 h-full w-80 bg-brand-dark border-l border-white/10 transform transition-transform duration-300 ${s?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Catalogue"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-medium",children:"Huîtres Spéciales"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Calibre 2"})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-medium",children:"Huîtres Fines"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Calibre 3"})]})]})]})})]}),r&&e.jsx(Aa,{table:r,onClose:()=>n(null)})]})}class ft extends c.PureComponent{render(){const{series:a,height:s,showGrid:i,showLegend:r}=this.props;if(!a||a.length===0||!a[0].data)return e.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:e.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const n=a[0].data.map((o,x)=>{const m={name:o.name};return a.forEach(u=>{u.data[x]&&(m[u.name]=u.data[x].value)}),m});return e.jsx(jt,{width:"100%",height:s,children:e.jsxs(Li,{data:n,children:[i&&e.jsx(xa,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),e.jsx(ma,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),e.jsx(ha,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),e.jsx(hs,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),r&&e.jsx(qi,{verticalAlign:"top",height:36,iconType:"circle",formatter:o=>e.jsx("span",{style:{color:"rgb(var(--color-text))"},children:o})}),a.map(o=>e.jsx($i,{type:"monotone",dataKey:o.name,stroke:o.color,strokeWidth:2,dot:{fill:o.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},o.name))]})})}}Ds(ft,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const fl={primary:{bg:"bg-brand-primary/10",border:"border-brand-primary/20",text:"text-brand-primary",shadow:"shadow-neon"},secondary:{bg:"bg-brand-secondary/10",border:"border-brand-secondary/20",text:"text-brand-secondary",shadow:"shadow-[0_0_20px_rgba(255,51,102,0.35)]"},tertiary:{bg:"bg-brand-tertiary/10",border:"border-brand-tertiary/20",text:"text-brand-tertiary",shadow:"shadow-[0_0_20px_rgba(112,0,255,0.35)]"}},wl={sm:{padding:"p-3 md:p-4",iconSize:"w-8 h-8 md:w-10 md:h-10",valueSize:"text-xl md:text-2xl",labelSize:"text-xs md:text-sm"},md:{padding:"p-4 md:p-6",iconSize:"w-10 h-10 md:w-12 md:h-12",valueSize:"text-2xl md:text-3xl",labelSize:"text-sm md:text-base"},lg:{padding:"p-5 md:p-8",iconSize:"w-12 h-12 md:w-14 md:h-14",valueSize:"text-3xl md:text-4xl",labelSize:"text-base md:text-lg"}};function Ee({icon:t,label:a,value:s,trend:i,color:r="primary",size:n="md"}){const o=fl[r],x=wl[n];return e.jsxs(j.div,{className:`relative glass-effect rounded-xl ${x.padding} group hover:glass-effect-hover touch-manipulation`,whileHover:{y:-4},transition:{duration:.2},children:[e.jsx("div",{className:`absolute inset-0 ${o.bg} rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`${x.iconSize} rounded-xl ${o.bg} ${o.border} border flex items-center justify-center group-hover:${o.shadow} transition-all duration-300`,children:e.jsx("div",{className:`${o.text}`,children:t})}),i&&e.jsxs("div",{className:`flex items-center ${i.positive?"text-green-500":"text-red-500"} text-xs md:text-sm font-medium`,children:[e.jsx("span",{className:"mr-1",children:i.positive?"↑":"↓"}),e.jsxs("span",{children:[Math.abs(i.value),"%"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:`${x.valueSize} font-bold text-white tracking-tight`,children:s}),e.jsx("p",{className:`${x.labelSize} text-gray-300 mt-1 font-medium`,children:a})]})]})]})}const vl=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],Nl=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function Ia({type:t,initialData:a,onSubmit:s,onCancel:i}){const{register:r,control:n,handleSubmit:o,watch:x,setValue:m,formState:{errors:u}}=ot({defaultValues:{type:t,status:"draft",date:T(new Date,"yyyy-MM-dd"),items:(a==null?void 0:a.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...a}}),{fields:l,append:d,remove:h}=Ei({control:n,name:"items"}),p=x("items"),b=()=>p.reduce((v,k)=>v+k.quantity*k.unit_price,0),f=()=>p.reduce((v,k)=>{const F=k.tax_rate||20;return v+k.quantity*k.unit_price*(F/100)},0),g=()=>b()+f();return e.jsxs("form",{onSubmit:o(s),className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Gt,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:t==="sale"?"Client":"Fournisseur"}),e.jsx("select",{...r("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:e.jsx("option",{value:"",children:"Sélectionner..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),e.jsx("input",{type:"date",...r("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),e.jsx("select",{...r("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:vl.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),e.jsxs("button",{type:"button",onClick:()=>d({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),e.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),e.jsx("th",{className:"px-4 py-3 w-16"})]})}),e.jsx("tbody",{children:l.map((v,k)=>{var F,w;return e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{...r(`items.${k}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",...r(`items.${k}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",step:"0.01",...r(`items.${k}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("select",{...r(`items.${k}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:Nl.map(M=>e.jsx("option",{value:M.rate,children:M.name},M.id))})}),e.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((F=p[k])==null?void 0:F.quantity)*((w=p[k])==null?void 0:w.unit_price)).toFixed(2),"€"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{type:"button",onClick:()=>h(k),className:"p-1 text-white/60 hover:text-white transition-colors",children:e.jsx(ce,{size:16})})})]},v.id)})})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-64 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),e.jsxs("span",{className:"text-white",children:[b().toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"TVA"}),e.jsxs("span",{className:"text-white",children:[f().toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[e.jsx("span",{className:"text-white",children:"Total TTC"}),e.jsxs("span",{className:"text-white",children:[g().toFixed(2),"€"]})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),e.jsx("textarea",{...r("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const Os=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],Hs=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],Bt=(t,a)=>({data:t.map(s=>({name:s.month,value:s[a]}))}),yl=[{name:"Revenus",color:"#00D1FF",...Bt(Os,"revenue")},{name:"Dépenses",color:"#FF3366",...Bt(Os,"expenses")}],kl=[{name:"Entrées",color:"#00D1FF",...Bt(Hs,"inflow")},{name:"Sorties",color:"#FF3366",...Bt(Hs,"outflow")}];function Cl(){const[t,a]=c.useState(!0),[s,i]=c.useState(""),[r,n]=c.useState(!1),o=x=>{console.log("Creating invoice:",x),n(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Comptabilité"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ys,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(_i,{size:20,className:"mr-2"}),"Nouvelle Facture"]})]})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-effect p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Revenus et Dépenses"}),e.jsx(ft,{series:yl,height:300})]}),e.jsxs("div",{className:"glass-effect p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Flux de Trésorerie"}),e.jsx(ft,{series:kl,height:300})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:x=>i(x.target.value),placeholder:"Rechercher des transactions...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtres"]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(te,{size:20,className:"mr-2"}),"Période"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Ee,{icon:e.jsx(V,{}),label:"Chiffre d'affaires",value:"58,000 €",trend:{value:12,positive:!0}}),e.jsx(Ee,{icon:e.jsx(xs,{}),label:"Bénéfice net",value:"12,500 €",trend:{value:8,positive:!0}}),e.jsx(Ee,{icon:e.jsx(aa,{}),label:"Dépenses",value:"45,500 €",trend:{value:5,positive:!1}}),e.jsx(Ee,{icon:e.jsx(Ii,{}),label:"Trésorerie",value:"25,800 €",trend:{value:3,positive:!0}})]}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-400",children:[e.jsx("th",{className:"pb-4",children:"Date"}),e.jsx("th",{className:"pb-4",children:"Description"}),e.jsx("th",{className:"pb-4",children:"Type"}),e.jsx("th",{className:"pb-4 text-right",children:"Montant"}),e.jsx("th",{className:"pb-4",children:"Statut"})]})}),e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-4",children:"15/06/2023"}),e.jsx("td",{children:"Facture #2023-156"}),e.jsx("td",{children:"Vente"}),e.jsx("td",{className:"text-right text-green-400",children:"+3,500€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full bg-green-900 text-green-300 text-sm",children:"Payée"})})]}),e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-4",children:"14/06/2023"}),e.jsx("td",{children:"Fournitures bureau"}),e.jsx("td",{children:"Dépense"}),e.jsx("td",{className:"text-right text-red-400",children:"-250€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-900 text-blue-300 text-sm",children:"Traitée"})})]}),e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-4",children:"12/06/2023"}),e.jsx("td",{children:"Facture #2023-155"}),e.jsx("td",{children:"Vente"}),e.jsx("td",{className:"text-right text-green-400",children:"+2,800€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full bg-yellow-900 text-yellow-300 text-sm",children:"En attente"})})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-6 z-50",children:e.jsx("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-[rgb(var(--color-card))/95] border border-blue-400/50 shadow-[0_0_15px_rgba(59,130,246,0.3)] backdrop-blur-lg rounded-xl overflow-hidden p-8",children:e.jsx(Ia,{type:"sale",onSubmit:o,onCancel:()=>n(!1)})})})]})}const Sl=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],zl={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},Dl={draft:ee,sent:Nt,paid:dt,overdue:he,cancelled:Oi};function Ml({type:t,onEdit:a,onDelete:s}){const[i,r]=c.useState(null),n=Sl.filter(m=>m.type===t),o=m=>{console.log("Downloading invoice:",m.number)},x=m=>{console.log("Sending invoice:",m.number)};return e.jsx("div",{className:"space-y-4",children:n.map(m=>{var l,d;const u=Dl[m.status];return e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(oe,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:m.number}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${zl[m.status]}`,children:[e.jsx(u,{size:12,className:"mr-1"}),m.status]})]}),e.jsx("div",{className:"mt-1 text-sm text-white/60",children:t==="sale"?(l=m.customer)==null?void 0:l.name:(d=m.supplier)==null?void 0:d.name}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Date"}),e.jsx("div",{className:"text-white",children:T(new Date(m.date),"PP",{locale:I})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Échéance"}),e.jsx("div",{className:"text-white",children:T(new Date(m.due_date),"PP",{locale:I})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Montant TTC"}),e.jsxs("div",{className:"text-white font-medium",children:[m.total.toFixed(2),"€"]})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>r(i===m.id?null:m.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(vt,{size:20,className:"text-white/60"})}),i===m.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsxs("button",{onClick:()=>o(m),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(fe,{size:16,className:"mr-2"}),"Télécharger"]}),m.status==="draft"&&e.jsxs("button",{onClick:()=>x(m),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Nt,{size:16,className:"mr-2"}),"Envoyer"]}),e.jsxs("button",{onClick:()=>a(m),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(nt,{size:16,className:"mr-2"}),"Modifier"]}),e.jsxs("button",{onClick:()=>s(m),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[e.jsx(ce,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},m.id)})})}function Tl(){const[t,a]=c.useState("sales"),[s,i]=c.useState(!1),[r,n]=c.useState(""),[o,x]=c.useState(null),m=d=>{console.log("Creating invoice:",d),i(!1)},u=d=>{x(d)},l=d=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${d.number} ?`)&&console.log("Deleting invoice:",d.number)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"}),"Factures Clients"]})}),e.jsx("button",{onClick:()=>a("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtres"]})]}),e.jsx(Ml,{type:t==="sales"?"sale":"purchase",onEdit:u,onDelete:l}),(s||o)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:e.jsx(Ia,{type:t==="sales"?"sale":"purchase",initialData:o||void 0,onSubmit:m,onCancel:()=>{i(!1),x(null)}})})})]})}const Pl=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function Fl({date:t,period:a,currentSchedule:s,onSave:i,onDelete:r}){const[n,o]=c.useState((s==null?void 0:s.start)||(a==="morning"?"08:00":"14:00")),[x,m]=c.useState((s==null?void 0:s.end)||(a==="morning"?"12:00":"18:00")),u=()=>{i({start:n,end:x})};return e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-white font-medium",children:[a==="morning"?"Matin":"Après-midi"," - ",T(t,"EEEE d MMMM",{locale:I})]}),s&&r&&e.jsx("button",{onClick:r,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:e.jsx(ce,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`start-${a}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),e.jsx("input",{id:`start-${a}`,type:"time",value:n,onChange:l=>o(l.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`end-${a}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),e.jsx("input",{id:`end-${a}`,type:"time",value:x,onChange:l=>m(l.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsx("button",{onClick:u,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function Oa({employee:t,onClose:a}){var v,k,F;const[s,i]=c.useState(new Date),[r,n]=c.useState(Pl),[o,x]=c.useState(null),{session:m}=Z();(v=m==null?void 0:m.user)==null||v.role;const u=Hi(s,{weekStartsOn:1}),l=Bi(s,{weekStartsOn:1}),d=Vi({start:u,end:l}),h=()=>i(Qi(s,1)),p=()=>i(Ui(s,1)),b=w=>r.find(M=>Ji(new Date(M.date),w)),f=(w,M,N)=>{n(D=>{const A=T(w,"yyyy-MM-dd"),O=D.findIndex(q=>q.date===A);if(O>=0){const q=[...D];return q[O]={...q[O],[M]:N},q}else return[...D,{id:crypto.randomUUID(),date:A,[M]:N}]}),x(null)},g=(w,M)=>{n(N=>{const D=T(w,"yyyy-MM-dd"),A=N.findIndex(O=>O.date===D);if(A>=0){const O=[...N],q=O[A];return M==="morning"?delete q.morning:delete q.afternoon,!q.morning&&!q.afternoon&&O.splice(A,1),O}return N}),x(null)};return e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("button",{onClick:h,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:e.jsx(os,{size:20,className:"text-white/60"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{size:20,className:"text-white/60"}),e.jsx("span",{className:"text-white font-medium",children:T(u,"MMMM yyyy",{locale:I})})]}),e.jsx("button",{onClick:p,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:e.jsx(wt,{size:20,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsx("div",{className:"grid grid-cols-7 gap-4",children:d.map((w,M)=>{var N,D,A,O,q,ae,R,Q,X,re,pe,ge;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-white/60",children:T(w,"EEEE",{locale:I})}),e.jsx("div",{className:"text-lg font-medium text-white",children:T(w,"d",{locale:I})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(j.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(N=b(w))!=null&&N.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>x({date:w,period:"morning"}),whileHover:{scale:1.02},children:[e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),e.jsx("div",{className:"text-sm text-white/60",children:(D=b(w))!=null&&D.morning?`${(O=(A=b(w))==null?void 0:A.morning)==null?void 0:O.start} - ${(ae=(q=b(w))==null?void 0:q.morning)==null?void 0:ae.end}`:"-"})]}),e.jsxs(j.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(R=b(w))!=null&&R.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>x({date:w,period:"afternoon"}),whileHover:{scale:1.02},children:[e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),e.jsx("div",{className:"text-sm text-white/60",children:(Q=b(w))!=null&&Q.afternoon?`${(re=(X=b(w))==null?void 0:X.afternoon)==null?void 0:re.start} - ${(ge=(pe=b(w))==null?void 0:pe.afternoon)==null?void 0:ge.end}`:"-"})]})]})]},M)})})}),e.jsx(_,{children:o&&e.jsx(j.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:e.jsx("div",{className:"w-80 p-6",children:e.jsx(Fl,{date:o.date,period:o.period,currentSchedule:(k=b(o.date))==null?void 0:k[o.period],onSave:w=>f(o.date,o.period,w),onDelete:(F=b(o.date))!=null&&F[o.period]?()=>g(o.date,o.period):void 0})})})})]})]})}const Al=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function Rl({searchQuery:t}){const[a,s]=c.useState(null),[i,r]=c.useState(!1),n=Al.filter(x=>x.name.toLowerCase().includes(t.toLowerCase())||x.position.toLowerCase().includes(t.toLowerCase())||x.department.toLowerCase().includes(t.toLowerCase())),o=(x,m)=>{m.stopPropagation(),s(x),r(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(x=>e.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:x.avatar?e.jsx("img",{src:x.avatar,alt:x.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-lg font-medium",children:x.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:x.name}),e.jsx("p",{className:"text-sm text-white/60",children:x.position})]})]}),e.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:e.jsx(vt,{size:20})})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),x.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(de,{size:16,className:"mr-2"}),x.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(ue,{size:16,className:"mr-2"}),x.location]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(x.hireDate).toLocaleDateString("fr-FR")]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${x.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:x.status==="active"?"Actif":"Inactif"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsxs("button",{onClick:m=>o(x,m),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[e.jsx(te,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},x.id))}),i&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>r(!1),children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:e.jsx(Oa,{employee:a,onClose:()=>r(!1)})})})]})}function Ll({onClose:t}){const{register:a,handleSubmit:s,formState:{errors:i}}=ot(),r=n=>{console.log(n),t()};return e.jsxs("form",{onSubmit:s(r),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),e.jsx("button",{type:"button",onClick:t,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{...a("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{...a("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.lastName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",...a("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{...a("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),e.jsx("input",{...a("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.position&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.position.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),e.jsxs("select",{...a("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"quality",children:"Contrôle Qualité"}),e.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),e.jsx("input",{...a("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",...a("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),e.jsx("input",{...a("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),e.jsx("input",{...a("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const ql=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function $l({isOpen:t,onClose:a,onConfirm:s,action:i}){return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:i==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),e.jsx("p",{className:"text-white/70 mb-6",children:i==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>s(i==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${i==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:i==="approve"?"Approuver":"Refuser"})]})]})}):null}function El({request:t,onClose:a,onValidate:s}){const[i,r]=c.useState(""),[n,o]=c.useState(null),x=m=>{s(t.id,m,i),o(null),a()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white font-medium",children:t.type})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Période"}),e.jsxs("div",{className:"text-white font-medium",children:[T(new Date(t.startDate),"dd/MM/yyyy")," - ",T(new Date(t.endDate),"dd/MM/yyyy")]})]})]}),t.reason&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),e.jsx("div",{className:"text-white",children:t.reason})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),e.jsx("textarea",{value:i,onChange:m=>r(m.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>o("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),e.jsx("button",{onClick:()=>o("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),e.jsx($l,{isOpen:n!==null,onClose:()=>o(null),onConfirm:m=>x(m),action:n||"approve"})]})}function _l(){const[t,a]=c.useState(ql),[s,i]=c.useState(null),[r,n]=c.useState({start:"",end:""}),o=(m,u,l)=>{a(t.map(d=>d.id===m?{...d,status:u?"approved":"rejected",notes:l}:d)),i(null)},x=t.filter(m=>{if(!r.start&&!r.end)return!0;const u=new Date(m.startDate),l=r.start?new Date(r.start):null,d=r.end?new Date(r.end):null;return l&&d?u>=l&&u<=d:l?u>=l:d?u<=d:!0});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:m=>n(u=>({...u,start:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:m=>n(u=>({...u,end:m.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsx("button",{onClick:()=>n({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("div",{className:"p-4 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),e.jsx("div",{className:"divide-y divide-white/10",children:x.map(m=>e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:e.jsx(te,{size:20,className:"text-white/60"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:m.type}),e.jsxs("div",{className:"text-sm text-white/60",children:["Du ",T(new Date(m.startDate),"dd/MM/yyyy",{locale:I})," au"," ",T(new Date(m.endDate),"dd/MM/yyyy",{locale:I})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${m.status==="approved"?"bg-green-500/20 text-green-300":m.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:m.status==="approved"?"Approuvé":m.status==="rejected"?"Refusé":"En attente"}),m.status==="pending"&&e.jsx("button",{onClick:()=>i(m.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),m.reason&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",m.reason]}),m.notes&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",m.notes]})]},m.id))})]}),s&&e.jsx(El,{request:t.find(m=>m.id===s),onClose:()=>i(null),onValidate:o})]})}const Il=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function Ol(){const[t,a]=c.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-6",children:Il.map(s=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.employeeName}),e.jsx("p",{className:"text-sm text-white/60",children:s.position})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s.status==="completed"?"bg-green-500/20 text-green-300":s.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:s.status==="completed"?"Terminé":s.status==="acknowledged"?"Validé":"Brouillon"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),e.jsxs("div",{className:`text-xl font-bold ${s.taskPerformance.averageScore>=90?"text-green-400":s.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[s.taskPerformance.averageScore,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),e.jsx("div",{className:"text-xl font-bold text-white",children:s.taskPerformance.tasksCompleted})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),e.jsxs("div",{className:"text-xl font-bold text-green-400",children:[s.taskPerformance.onTimeCompletion,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),e.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[s.taskPerformance.efficiencyRate,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(i=>e.jsx(je,{size:20,className:i<=s.overallRating?"text-yellow-400 fill-current":"text-white/20"},i)),e.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[s.overallRating,"/5"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.strengths.map((i,r)=>e.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:i},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.improvements.map((i,r)=>e.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:i},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.goals.map((i,r)=>e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:i},r))})]})]})]},s.id))})]})}const Hl={id:"default",name:"Planning Global"};function Bl(){const[t,a]=Gi(),[s,i]=c.useState(()=>t.get("tab")||"employees"),[r,n]=c.useState(!1),[o,x]=c.useState("");c.useEffect(()=>{const u=t.get("tab");u&&u!==s&&i(u)},[t]);const m=u=>{i(u),a({tab:u})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestion des Ressources Humaines"}),s==="employees"&&e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvel Employé"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>m("employees"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="employees"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{size:16,className:"mr-2"}),"Employés"]})}),e.jsx("button",{onClick:()=>m("schedule"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="schedule"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{size:16,className:"mr-2"}),"Planning"]})}),e.jsx("button",{onClick:()=>m("leave"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="leave"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{size:16,className:"mr-2"}),"Congés"]})}),e.jsx("button",{onClick:()=>m("performance"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="performance"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{size:16,className:"mr-2"}),"Évaluations"]})})]}),s==="employees"&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:o,onChange:u=>x(u.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtres"]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsx(Ll,{onClose:()=>n(!1)})})}),s==="employees"&&e.jsx(Rl,{searchQuery:o}),s==="leave"&&e.jsx(_l,{}),s==="performance"&&e.jsx(Ol,{}),s==="schedule"&&e.jsx(Oa,{employee:Hl,onClose:()=>m("employees")})]})}const Vl=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function Ql({searchQuery:t,selectedSkill:a}){const[s,i]=c.useState(null),r=Vl.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())||n.location.toLowerCase().includes(t.toLowerCase())||n.skills.some(o=>o.toLowerCase().includes(t.toLowerCase()))).filter(n=>!a||n.skills.includes(a)).sort((n,o)=>n.isVerified!==o.isVerified?o.isVerified?1:-1:o.rating-n.rating);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2",children:r.map(n=>e.jsx("div",{onClick:()=>i(n),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:n.name}),n.isVerified&&e.jsx("span",{className:"text-brand-primary",children:e.jsx(dt,{size:20})})]}),e.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{size:14,className:"mr-1"}),n.location]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{size:14,className:"mr-1 text-brand-primary"}),n.rating]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.skills.map((o,x)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:o},x))})]}),e.jsx(wt,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},n.id))}),s&&e.jsx(xe,{isOpen:!0,onClose:()=>i(null),title:s.name,size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(ue,{size:20,className:"mr-3"}),s.location]}),e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(we,{size:20,className:"mr-3"}),s.contact.email]}),e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(de,{size:20,className:"mr-3"}),s.contact.phone]}),s.contact.website&&e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(ct,{size:20,className:"mr-3"}),s.contact.website]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),e.jsx("div",{className:"space-y-2",children:s.certifications.map((n,o)=>e.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[e.jsx(dt,{size:16,className:"mr-2"}),n]},o))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),e.jsx("p",{className:"text-white/70",children:s.description})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[e.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const Ul=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function Jl({searchQuery:t}){const a=Ul.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase())||s.tags.some(i=>i.toLowerCase().includes(t.toLowerCase())));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),e.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),e.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),e.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),e.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:a.map((s,i)=>e.jsx("div",{className:`p-6 ${i<a.length-1?"border-b border-white/10":""}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:s.author.avatar?e.jsx("img",{src:s.author.avatar,alt:s.author.name,className:"w-full h-full rounded-full"}):e.jsx(yt,{size:20,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsx("span",{className:"text-sm text-white/60",children:s.author.name}),e.jsx("span",{className:"text-sm text-white/60",children:new Date(s.postedAt).toLocaleDateString("fr-FR")}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ua,{size:16,className:"mr-1"}),s.likes]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{size:16,className:"mr-1"}),s.views]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{size:16,className:"mr-1"}),s.replies]})]})]}),e.jsx("p",{className:"mt-4 text-white/70",children:s.content}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.tags.map((r,n)=>e.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",r]},n))})]})]})},s.id))})]})}const Gl=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],Xl={public:ct,network:me,private:gs};function Yl(){const[t,a]=Y.useState(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:"M"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:e.jsx(ct,{size:20})}),e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"network",children:"Mon réseau"}),e.jsx("option",{value:"private",children:"Privé"})]})]}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),e.jsx("div",{className:"space-y-6",children:Gl.map(s=>{const i=Xl[s.visibility];return e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:s.author.name.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-white font-medium",children:s.author.name}),e.jsx("span",{className:"text-white/40",children:"•"}),e.jsx("span",{className:"text-white/60",children:s.author.company})]}),e.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[e.jsx(i,{size:14,className:"mr-1"}),new Date(s.timestamp).toLocaleString()]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>a(t===s.id?null:s.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(vt,{size:20,className:"text-white/60"})}),t===s.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),e.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),e.jsx("p",{className:"mt-4 text-white/80",children:s.content}),e.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(ua,{size:20,className:"mr-2"}),s.likes]}),e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(Oe,{size:20,className:"mr-2"}),s.comments]}),e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(pa,{size:20,className:"mr-2"}),s.shares]})]})]})},s.id)})})]})}const Wl=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function Zl({searchQuery:t,onSelectContact:a}){const[s,i]=Y.useState(null),r=Wl.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())||n.company.toLowerCase().includes(t.toLowerCase())||n.tags.some(o=>o.toLowerCase().includes(t.toLowerCase())));return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(n=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"w-full h-full rounded-full"}):e.jsx(yt,{size:24,className:"text-white"})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${n.status==="online"?"bg-green-500":n.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:n.name}),e.jsx("p",{className:"text-sm text-white/60",children:n.position}),e.jsx("p",{className:"text-sm text-white/40",children:n.company})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(s===n.id?null:n.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(vt,{size:20,className:"text-white/60"})}),s===n.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsxs("button",{onClick:()=>a(n.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Oe,{size:16,className:"mr-2"}),"Message"]}),e.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(je,{size:16,className:"mr-2"}),n.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),n.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(de,{size:16,className:"mr-2"}),n.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(ue,{size:16,className:"mr-2"}),n.location]})]}),n.tags.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.tags.map((o,x)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:o},x))}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{onClick:()=>a(n.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),e.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},n.id))})}function Kl({onClose:t,type:a}){const s=()=>{switch(a){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return e.jsx(xe,{isOpen:!0,onClose:t,title:s(),size:"xl",children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function en({onClose:t}){const[a,s]=c.useState(""),[i,r]=c.useState(null),[n,o]=c.useState(!1),x=async m=>{m.preventDefault(),r(null),o(!0);try{if(!Bs(a))throw new Error("Format de code invalide");await new Promise(u=>setTimeout(u,1e3)),t()}catch(u){r(u instanceof Error?u.message:"Une erreur est survenue")}finally{o(!1)}};return e.jsx(xe,{isOpen:!0,onClose:t,title:"Ajouter un contact",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:e.jsx(me,{size:32,className:"text-brand-burgundy"})})}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),e.jsx("input",{type:"text",value:a,onChange:m=>{const u=tn(m.target.value);s(u),r(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),e.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),i&&e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-red-400",children:[e.jsx(he,{size:20,className:"mr-2"}),i]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:!Bs(a)||n,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Recherche...":"Ajouter"})]})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),e.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function tn(t){return(t.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function Bs(t){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(t)}function sn(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let s="";for(let i=0;i<8;i++){const r=Math.floor(Math.random()*t.length);s+=t[r]}return s}const At=[{id:"1",name:"Huîtres Marennes Oléron",email:"contact@huitres-mo.fr",phone:"05 46 85 12 34",address:"12 Route des Claires, 17320 Marennes",friend_code:"HMO17320",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Les Parcs de l'Estuaire",email:"commandes@parcs-estuaire.fr",phone:"05 46 36 45 78",address:"8 Quai des Ostréiculteurs, 17390 La Tremblade",friend_code:"LPE17390",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Atlantique Coquillages",email:"ventes@atlantique-coq.fr",phone:"02 51 68 23 45",address:"45 Avenue du Port, 85230 Bouin",friend_code:"ACQ85230",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"Cancale Premium",email:"service@cancale-premium.fr",phone:"02 99 89 67 89",address:"23 Rue du Port, 35260 Cancale",friend_code:"CAN35260",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"Arcachon Huîtres",email:"pro@arcachon-huitres.com",phone:"05 57 72 34 56",address:"56 Boulevard de la Plage, 33120 Arcachon",friend_code:"ARC33120",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],an={1:[{id:"1",supplier_id:"1",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"1",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],2:[{id:"3",supplier_id:"2",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],3:[{id:"4",supplier_id:"3",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],4:[{id:"5",supplier_id:"4",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],5:[{id:"6",supplier_id:"5",name:"Huîtres Gillardeau",description:"Les célèbres huîtres Gillardeau, reconnues mondialement",price:24,unit:"douzaine",category:"Premium",image:"/placeholder.jpg",available:!0,stock:100,minOrder:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function Zt(){const t=ba(),{data:a=At}=ga({queryKey:["suppliers"],queryFn:async()=>At}),s=_t({mutationFn:async r=>{const n=sn(),o={...r,friend_code:n,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return At.push({...o,id:String(At.length+1)}),o},onSuccess:()=>{t.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:a,createSupplier:s,getSupplierProducts:async r=>an[r]||[]}}function Ha({children:t,variant:a="default",className:s="",...i}){const r="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",n={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return e.jsx("div",{className:`${r} ${n[a]} ${s}`,...i,children:t})}function rn(){const{suppliers:t}=Zt(),a=t.filter(s=>s.is_friend);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),e.jsxs(Ha,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[a.length," partenaires"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>e.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:s.name}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(Yt,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm font-mono",children:s.friend_code})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(we,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(de,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(ue,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:s.address})]})]})]})},s.id))})]})}const ln=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],Vs=[{id:"1",content:"Bonjour, avez-vous des huîtres plates disponibles ?",sender:"Jean Dupont",timestamp:"10:15",isMe:!1},{id:"2",content:"Oui, nous en avons en stock. Quelle quantité vous intéresse ?",sender:"Moi",timestamp:"10:20",isMe:!0},{id:"3",content:"Je cherche environ 500 douzaines",sender:"Jean Dupont",timestamp:"10:25",isMe:!1}];function nn({contactId:t,onClose:a}){const[s,i]=c.useState(""),[r,n]=c.useState(""),o=Y.useRef(null),x=()=>{var u;(u=o.current)==null||u.scrollIntoView({behavior:"smooth"})};Y.useEffect(()=>{x()},[Vs]);const m=u=>{u.preventDefault(),s.trim()&&(console.log("Message envoyé:",s),i(""))};return e.jsxs("div",{className:"h-[calc(100vh-12rem)] flex flex-col md:flex-row",children:[e.jsxs("div",{className:"hidden md:block w-80 border-r border-white/10",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Rechercher une conversation...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]})}),e.jsx("div",{className:"divide-y divide-white/10",children:ln.map(u=>e.jsx("div",{className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${u.id===t?"bg-white/5":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:u.name.charAt(0)})}),u.online&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-white font-medium truncate",children:u.name}),u.lastMessageTime&&e.jsx("span",{className:"text-xs text-white/40",children:u.lastMessageTime})]}),u.lastMessage&&e.jsx("p",{className:"text-sm text-white/60 truncate",children:u.lastMessage})]}),u.unreadCount&&u.unreadCount>0&&e.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white",children:u.unreadCount})})]})},u.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[e.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("button",{onClick:a,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:e.jsx(ks,{size:18,className:"md:w-5 md:h-5"})}),e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:"J"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:"Jean Dupont"}),e.jsx("p",{className:"text-xs md:text-sm text-green-400",children:"En ligne"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[Vs.map(u=>e.jsx("div",{className:`flex ${u.isMe?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${u.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[e.jsx("p",{className:"text-sm md:text-base",children:u.content}),e.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${u.isMe?"text-white/60":"text-white/40"}`,children:u.timestamp})]})},u.id)),e.jsx("div",{ref:o})]}),e.jsx("form",{onSubmit:m,className:"p-3 md:p-4 border-t border-white/10",children:e.jsxs("div",{className:"flex items-end space-x-2 md:space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{value:s,onChange:u=>i(u.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none",rows:1}),e.jsxs("div",{className:"absolute bottom-2 md:bottom-3 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(Xi,{size:16,className:"md:w-5 md:h-5"})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(ja,{size:16,className:"md:w-5 md:h-5"})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(fa,{size:16,className:"md:w-5 md:h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Nt,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}const dn=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function Ba(){const[t,a]=c.useState(""),[s,i]=c.useState(null),r=dn.filter(n=>n.name.toLowerCase().includes(t.toLowerCase()));return e.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:s?e.jsx(nn,{contactId:s,onClose:()=>i(null)}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),e.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:e.jsx(V,{size:18})})]}),e.jsx("div",{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:t,onChange:n=>a(n.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:16})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:r.length>0?e.jsx("div",{className:"space-y-0.5",children:r.map(n=>e.jsx("div",{onClick:()=>i(n.id),className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxs("div",{className:"relative",children:[n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:e.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:n.name.substring(0,1)})}),n.online&&e.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:n.name}),n.lastMessage&&e.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:n.lastMessage})]})]}),e.jsxs("div",{className:"text-right pl-2 flex flex-col items-end",children:[n.lastMessageTime&&e.jsx("p",{className:"text-xs text-white/40 mb-1",children:n.lastMessageTime}),n.unreadCount&&e.jsx("div",{className:"bg-brand-burgundy text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:n.unreadCount})]})]})},n.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[e.jsx(Oe,{size:36,className:"mb-3 opacity-30"}),e.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function Qs({messageView:t=!1,activeTab:a}){const s=Vt(),[i,r]=c.useState(a||t?"messages":"feed"),[n,o]=c.useState(!1),[x,m]=c.useState(!1),[u,l]=c.useState(""),[d,h]=c.useState(null),[p,b]=c.useState(null),{unreadCount:f}=Z();return c.useEffect(()=>{var g;(g=s.state)!=null&&g.activeTab&&r(s.state.activeTab)},[s.state]),c.useEffect(()=>{a?r(a):t&&r("messages")},[t,a]),c.useEffect(()=>{s.pathname==="/network/messages"&&i!=="messages"&&r("messages")},[s.pathname,i]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Entre Pro"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>m(!0),className:"relative flex items-center px-4 py-2 bg-brand-primary/20 rounded-lg text-brand-primary hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Yi,{size:20,className:"mr-2"}),"Ajouter un contact"]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-brand-primary/20 rounded-lg text-brand-primary hover:bg-brand-primary/30 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvelle publication"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>r("feed"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="feed"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wi,{size:16,className:"mr-2"}),"Fil d'actualités"]})}),e.jsx("button",{onClick:()=>r("contacts"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="contacts"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{size:16,className:"mr-2"}),"Mon Réseau"]})}),e.jsx("button",{onClick:()=>r("directory"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="directory"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ct,{size:16,className:"mr-2"}),"Annuaire Prestataires"]})}),e.jsx("button",{onClick:()=>r("forum"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="forum"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{size:16,className:"mr-2"}),"Forum"]})}),e.jsx("button",{onClick:()=>r("messages"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="messages"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{size:16,className:"mr-2"}),"Messagerie"]})}),e.jsx("button",{onClick:()=>r("suppliers"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="suppliers"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{size:16,className:"mr-2"}),"Fournisseurs Amis"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:u,onChange:g=>l(g.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtres"]}),e.jsxs("button",{className:"relative p-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Ie,{size:20,className:"text-amber-500 drop-shadow-[0_0_3px_rgba(245,158,11,0.5)]"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center text-xs font-bold",children:f})]})]}),i==="feed"&&e.jsx(Yl,{}),i==="contacts"&&e.jsx(Zl,{searchQuery:u,onSelectContact:g=>{b(g),r("feed")}}),i==="directory"&&e.jsx(Ql,{searchQuery:u,selectedSkill:d}),i==="forum"&&e.jsx(Jl,{searchQuery:u}),i==="messages"&&e.jsx(Ba,{}),i==="suppliers"&&e.jsx(rn,{}),n&&e.jsx(Kl,{onClose:()=>o(!1)}),x&&e.jsx(en,{onClose:()=>m(!1)})]})}function cn(){const{companyInfo:t,setCompanyInfo:a}=Z(),[s,i]=c.useState({name:(t==null?void 0:t.name)||"",siret:(t==null?void 0:t.siret)||"",logo:(t==null?void 0:t.logo)||"",description:(t==null?void 0:t.description)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",website:(t==null?void 0:t.website)||""});c.useEffect(()=>{t&&i({name:t.name,siret:t.siret,logo:t.logo||"",description:t.description||"",email:t.email,phone:t.phone,address:t.address,website:t.website||""})},[t]);const r=o=>{const{name:x,value:m}=o.target;i(u=>({...u,[x]:m}))},n=o=>{o.preventDefault(),a(s),st.success("Informations de l'entreprise enregistrées avec succès")};return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Informations de l'entreprise"}),e.jsxs("form",{className:"space-y-6",onSubmit:n,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'entreprise"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:r,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Oyster Cult Enterprise",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Numéro SIRET"}),e.jsx("input",{type:"text",name:"siret",value:s.siret,onChange:r,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"123 456 789 00012",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Logo de l'entreprise"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-lg",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(ze,{className:"mx-auto h-12 w-12 text-white/40"}),e.jsxs("div",{className:"flex text-sm text-white/60",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-brand-burgundy hover:text-brand-burgundy/80 focus-within:outline-none",children:[e.jsx("span",{children:"Télécharger un fichier"}),e.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:o=>{var m;const x=(m=o.target.files)==null?void 0:m[0];x&&i(u=>({...u,logo:x.name}))}})]}),e.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),e.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG jusqu'à 10MB"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:r,rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de votre entreprise..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:r,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"contact@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:r,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"+33 1 23 45 67 89",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-3 text-white/40",size:20}),e.jsx("textarea",{name:"address",value:s.address,onChange:r,rows:2,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"url",name:"website",value:s.website,onChange:r,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"https://www.example.com"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>i({name:(t==null?void 0:t.name)||"",siret:(t==null?void 0:t.siret)||"",logo:(t==null?void 0:t.logo)||"",description:(t==null?void 0:t.description)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",website:(t==null?void 0:t.website)||""}),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})]})})}const Rt={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},on=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function xn(){const{addUser:t,deleteUser:a,updateUser:s,users:i}=Z(),[r,n]=c.useState(!1),[o,x]=c.useState(null);c.useState(null);const[m,u]=c.useState(null),[l,d]=c.useState(Rt),[h,p]=c.useState({}),b=N=>{x(N),d({firstName:N.firstName,lastName:N.lastName,email:N.email,phone:N.phone,position:N.position,department:N.department,location:N.location,startDate:N.startDate,employeeId:N.employeeId,emergencyContact:N.emergencyContact,role:N.role}),n(!0)},f=async N=>{if(N.preventDefault(),!!o&&M())try{await s(o.id,l),st.success("Utilisateur modifié avec succès"),x(null),d(Rt)}catch{st.error("Erreur lors de la modification de l'utilisateur")}},g=N=>{d({...l,[N.target.name]:N.target.value})},v=()=>{n(!1),x(null),d(Rt),p({})},k=async N=>{try{t({...N,employeeId:`EMP${Date.now().toString().slice(-4)}`}),st.success("Utilisateur ajouté avec succès"),n(!1),d(Rt)}catch{st.error("Erreur lors de l'ajout de l'utilisateur")}},F=N=>{a(N),u(null),st.success("Utilisateur supprimé avec succès")},w=N=>{N.preventDefault();const D={};l.firstName||(D.firstName="Le prénom est obligatoire"),l.lastName||(D.lastName="Le nom est obligatoire"),l.email||(D.email="L'email est obligatoire"),l.phone||(D.phone="Le téléphone est obligatoire"),l.position||(D.position="Le rôle est obligatoire"),l.startDate||(D.startDate="La date de début est obligatoire"),p(D),Object.keys(D).length===0&&k(l)},M=()=>{const N={};return l.firstName||(N.firstName="Le prénom est obligatoire"),l.lastName||(N.lastName="Le nom est obligatoire"),l.email||(N.email="L'email est obligatoire"),l.phone||(N.phone="Le téléphone est obligatoire"),l.position||(N.position="Le rôle est obligatoire"),l.startDate||(N.startDate="La date de début est obligatoire"),p(N),Object.keys(N).length===0};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Rôles & Permissions"}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Ajouter un utilisateur"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:on.map(N=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 group relative overflow-hidden hover:border-brand-primary/20 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-gradient-to-b from-brand-primary/0 via-brand-primary/20 to-brand-primary/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"flex items-start justify-between relative z-10",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(wa,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:N.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:N.description}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:"Utilisateurs"}),i.filter(D=>D.role===N.id).map(D=>e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-medium",children:[D.firstName," ",D.lastName]}),e.jsx("div",{className:"text-sm text-white/60 mt-1",children:D.position})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>b(D),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(De,{size:16,className:"text-white/60"})}),e.jsx("button",{onClick:()=>u(D.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ce,{size:16,className:"text-white/60"})})]})]})},D.id))]})]})]})})]},N.id))}),(r||o)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:o?"Modifier l'utilisateur":"Nouvel utilisateur"}),e.jsxs("form",{className:"space-y-6",onSubmit:o?f:w,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{type:"text",name:"firstName",value:l.firstName,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${h.firstName?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),h.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{type:"text",name:"lastName",value:l.lastName,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${h.lastName?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),h.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.lastName})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:l.email,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${h.email?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),h.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${h.phone?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),h.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Rôle"}),e.jsxs("select",{name:"position",value:l.position,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${h.position?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner un rôle"}),e.jsx("option",{value:"manageur",children:"Manageur"}),e.jsx("option",{value:"operateur",children:"Opérateur"}),e.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),e.jsx("option",{value:"comptable",children:"Comptable"})]}),h.position&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),e.jsxs("select",{name:"department",value:l.department,onChange:g,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"quality",children:"Contrôle Qualité"}),e.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),e.jsx("input",{type:"text",name:"location",value:l.location,onChange:g,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${h.startDate?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),h.startDate&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.startDate})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),e.jsx("input",{type:"text",name:"emergencyContact",value:l.emergencyContact,onChange:g,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Nom et numéro de téléphone"})]}),e.jsxs("div",{className:"p-4 bg-brand-primary/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-primary mb-2",children:[e.jsx(we,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Email de bienvenue"})]}),e.jsx("p",{className:"text-sm text-white/70",children:"Un email sera automatiquement envoyé à l'utilisateur avec ses identifiants de connexion."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:o?"Modifier l'utilisateur":"Ajouter l'utilisateur"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-500 mb-4",children:[e.jsx(Ae,{size:24}),e.jsx("h3",{className:"text-lg font-medium",children:"Confirmer la suppression"})]}),e.jsx("p",{className:"text-white/60 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>F(m),className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Supprimer"})]})]})})]})}const mn=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function hn(){const[t,a]=c.useState(!1),[s,i]=c.useState(null),[r,n]=c.useState(null),[o,x]=c.useState(mn),m=d=>{i(d),a(!0)},u=d=>{x(o.filter(h=>h.id!==d)),n(null)},l=d=>{if(s)x(o.map(h=>h.id===s.id?{...h,...d}:h));else{const h={id:crypto.randomUUID(),...d};x([...o,h])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(d=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(K,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:d.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(d),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(De,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ce,{size:20,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.sizes.map(h=>e.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",h]},h))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),e.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[e.jsxs("div",{children:["Stock minimum: ",d.minStock," ",d.unit,"s"]}),e.jsxs("div",{children:["Stock maximum: ",d.maxStock," ",d.unit,"s"]})]})]})]})]},d.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier le produit":"Nouveau produit"}),e.jsxs("form",{onSubmit:d=>{d.preventDefault();const h=new FormData(d.currentTarget),p=Object.fromEntries(h.entries());l(p)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),e.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.category,required:!0,children:[e.jsx("option",{value:"huitres",children:"Huîtres"}),e.jsx("option",{value:"materiels",children:"Matériels"}),e.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:s==null?void 0:s.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(d=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"sizes",value:d,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:s==null?void 0:s.sizes.includes(d)}),e.jsxs("span",{className:"text-white",children:["N°",d]})]},d))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),e.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.unit,required:!0,children:[e.jsx("option",{value:"douzaine",children:"Douzaine"}),e.jsx("option",{value:"piece",children:"Pièce"}),e.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer le produit"})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Ae,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const un=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function pn(){const[t,a]=c.useState(!1),[s,i]=c.useState(null),[r,n]=c.useState(null),[o,x]=c.useState(un),m=d=>{i(d),a(!0)},u=d=>{x(o.filter(h=>h.id!==d)),n(null)},l=d=>{if(s)x(o.map(h=>h.id===s.id?{...h,...d}:h));else{const h={id:crypto.randomUUID(),...d};x([...o,h])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(d=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(bs,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:d.type})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),d.contact.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(de,{size:16,className:"mr-2"}),d.contact.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(ue,{size:16,className:"mr-2"}),d.address]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.products.map((h,p)=>e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:h},p))})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(d),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(De,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ce,{size:20,className:"text-white/60"})})]})]})},d.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier le fournisseur":"Nouveau fournisseur"}),e.jsxs("form",{onSubmit:d=>{d.preventDefault();const h=new FormData(d.currentTarget),p={name:h.get("name"),type:h.get("type"),contact:{name:h.get("contactName"),email:h.get("email"),phone:h.get("phone")},address:h.get("address"),products:h.getAll("products"),status:"active"};l(p)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.type,required:!0,children:[e.jsx("option",{value:"naissain",children:"Naissain"}),e.jsx("option",{value:"emballages",children:"Emballages"}),e.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),e.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.email,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.phone,required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:s==null?void 0:s.address,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),e.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(d=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"products",value:d,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:s==null?void 0:s.products.includes(d)}),e.jsx("span",{className:"text-white",children:d})]},d))})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Ae,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const bn=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function gn(){const[t,a]=c.useState(!1),[s,i]=c.useState(null),[r,n]=c.useState(null),[o,x]=c.useState(bn),m=d=>{i(d),a(!0)},u=d=>{x(o.filter(h=>h.id!==d)),n(null)},l=d=>{if(s)x(o.map(h=>h.id===s.id?{...h,...d}:h));else{const h={id:crypto.randomUUID(),...d};x([...o,h])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(d=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(rt,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:d.type==="retail"?"Détail":"Gros"})]}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:d.description}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(d.validFrom).toLocaleDateString("fr-FR"),d.validTo&&` au ${new Date(d.validTo).toLocaleDateString("fr-FR")}`]}),e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm text-white/60",children:[e.jsx("th",{className:"text-left pb-2",children:"Produit"}),e.jsx("th",{className:"text-left pb-2",children:"Calibre"}),e.jsx("th",{className:"text-right pb-2",children:"Prix"}),d.type==="wholesale"&&e.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),e.jsx("tbody",{className:"text-white",children:d.products.map((h,p)=>e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsx("td",{className:"py-2",children:h.name}),e.jsxs("td",{className:"py-2",children:["N°",h.size]}),e.jsxs("td",{className:"text-right py-2",children:[h.price.toFixed(2),"€/",h.unit]}),d.type==="wholesale"&&e.jsx("td",{className:"text-right py-2",children:h.minQuantity})]},p))})]})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(d),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(De,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ce,{size:20,className:"text-white/60"})})]})]})},d.id))}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Ae,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier la liste de prix":"Nouvelle liste de prix"}),e.jsxs("form",{onSubmit:d=>{d.preventDefault();const h=new FormData(d.currentTarget),p={name:h.get("name"),description:h.get("description"),type:h.get("type"),validFrom:h.get("validFrom"),validTo:h.get("validTo"),products:[]};l(p)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.type,required:!0,children:[e.jsx("option",{value:"retail",children:"Vente au détail"}),e.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:s==null?void 0:s.description,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),e.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.validFrom,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),e.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.validTo})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),e.jsxs("div",{className:"space-y-4",children:[((s==null?void 0:s.products)||[]).map((d,h)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),e.jsxs("select",{name:`products[${h}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.name,children:[e.jsx("option",{value:"plates",children:"Huîtres Plates"}),e.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),e.jsxs("select",{name:`products[${h}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.size,children:[e.jsx("option",{value:"2",children:"N°2"}),e.jsx("option",{value:"3",children:"N°3"}),e.jsx("option",{value:"4",children:"N°4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),e.jsx("input",{type:"number",step:"0.01",name:`products[${h}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),e.jsx("input",{type:"number",name:`products[${h}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:d.minQuantity})]})]},h)),e.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const d=[...(s==null?void 0:s.products)||[]];d.push({name:"plates",size:"3",price:0,minQuantity:1}),i({...s||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:d})},children:"+ Ajouter un produit"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const jn=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function fn(){var d,h;const[t,a]=c.useState(!1),[s,i]=c.useState(null),[r,n]=c.useState(null),[o,x]=c.useState(jn),m=p=>{i(p),a(!0)},u=p=>{x(o.filter(b=>b.id!==p)),n(null)},l=p=>{if(s)x(o.map(b=>b.id===s.id?{...b,...p}:b));else{const b={id:crypto.randomUUID(),...p};x([...o,b])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Configuration table"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(p=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(ve,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.status==="active"?"bg-green-500/20 text-green-300":p.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.status==="active"?"Actif":p.status==="maintenance"?"Maintenance":"Inactif"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white",children:p.type}),e.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),e.jsx("div",{className:"text-white",children:p.capacity})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),e.jsx("div",{className:"text-white",children:p.cordCount})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(p),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(De,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(p.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ce,{size:20,className:"text-white/60"})})]})]})},p.id))}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Ae,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier la table":"Nouvelle table"}),e.jsxs("form",{onSubmit:p=>{p.preventDefault();const b=new FormData(p.currentTarget),f={name:b.get("name"),type:b.get("type"),capacity:Number(b.get("capacity")),cordCount:Number(b.get("cordCount")),cordLength:Number(b.get("cordLength")),oystersPerCord:Number(b.get("oystersPerCord")),coordinates:{latitude:Number(b.get("latitude")),longitude:Number(b.get("longitude"))}};l(f)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.type)||"table",required:!0,children:[e.jsx("option",{value:"table",children:"Table"}),e.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),e.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.capacity)||100,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),e.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.cordCount)||10,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(s==null?void 0:s.cordLength)||3,required:!0}),e.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),e.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.oystersPerCord)||130,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),e.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(d=s==null?void 0:s.coordinates)==null?void 0:d.latitude,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),e.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(h=s==null?void 0:s.coordinates)==null?void 0:h.longitude,required:!0})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer table"})]})]})]})})]})}const Us=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function wn(){const[t,a]=c.useState(!1);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:Us.map(s=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(Ns,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.name}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.symbol}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.type})]}),s.description&&e.jsx("p",{className:"text-sm text-white/60 mt-1",children:s.description}),s.baseUnit&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",s.symbol," = ",s.conversionFactor," ",s.baseUnit]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(De,{size:20,className:"text-white/60"})}),e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ce,{size:20,className:"text-white/60"})})]})]})},s.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"weight",children:"Poids"}),e.jsx("option",{value:"volume",children:"Volume"}),e.jsx("option",{value:"quantity",children:"Quantité"}),e.jsx("option",{value:"dimension",children:"Dimension"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Aucune"}),Us.map(s=>e.jsxs("option",{value:s.symbol,children:[s.name," (",s.symbol,")"]},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const vn=[{id:"company",label:"Entreprise",icon:e.jsx(Yt,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:e.jsx(me,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:e.jsx(K,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:e.jsx(rt,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:e.jsx(ve,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:e.jsx(Ns,{size:20}),description:"Configuration des unités de mesure"}];function Nn(){const[t,a]=c.useState("company"),s=()=>{switch(t){case"company":return e.jsx(cn,{});case"roles":return e.jsx(xn,{});case"products":return e.jsx(hn,{});case"suppliers":return e.jsx(pn,{});case"pricing":return e.jsx(gn,{});case"locations":return e.jsx(fn,{});case"units":return e.jsx(wn,{});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),e.jsx(Ge,{size:24,className:"text-[#00D1FF] relative z-10"})]}),e.jsx("h1",{className:"text-2xl font-bold text-gradient",children:"Configuration"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx(j.div,{className:"col-span-3 glass-effect rounded-lg overflow-hidden",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsx("nav",{className:"p-4 space-y-2",children:vn.map(i=>e.jsxs(j.button,{onClick:()=>a(i.id),className:`w-full flex items-start p-4 rounded-lg transition-all duration-300 group relative overflow-hidden
                  ${t===i.id?"bg-[#00D1FF]/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:i.icon}),e.jsxs("div",{className:"ml-3 text-left",children:[e.jsx("span",{className:"block font-medium",children:i.label}),e.jsx("span",{className:`text-sm ${t===i.id?"text-white/80":"text-white/40"}`,children:i.description})]}),t===i.id&&e.jsx(j.div,{className:"absolute inset-0 bg-[#00D1FF]/10",layoutId:"activeSection",transition:{type:"spring",stiffness:300,damping:30}})]},i.id))})}),e.jsx(j.div,{className:"col-span-9 glass-effect rounded-lg",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsx(_,{mode:"wait",children:e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"p-6",children:s()},t)})})]})]})}const yn=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],kn={alert:he,success:Jt,info:Ie,warning:ee},Cn={system:Ie,task:te,inventory:K,quality:oe,hr:me},Js={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function Sn({searchQuery:t,filter:a}){const[s,i]=c.useState(null),[r,n]=c.useState(yn),o=r.filter(l=>{const d=l.title.toLowerCase().includes(t.toLowerCase())||l.message.toLowerCase().includes(t.toLowerCase()),h=a==="all"||a==="unread"&&!l.read||a==="important"&&l.important;return d&&h}),x=l=>{n(r.map(d=>d.id===l?{...d,read:!0}:d))},m=l=>{n(r.map(d=>d.id===l?{...d,important:!d.important}:d))},u=l=>{n(r.filter(d=>d.id!==l))};return e.jsx("div",{className:"space-y-4",children:o.map(l=>{const d=kn[l.type],h=Cn[l.category];return e.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${l.read?"":"bg-white/10"}`,children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${Js[l.type].split(" ")[0]} flex items-center justify-center`,children:e.jsx(d,{size:20,className:Js[l.type].split(" ")[1]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.title}),l.important&&e.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!l.read&&e.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),e.jsx("p",{className:"text-white/70 mt-1",children:l.message}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:16,className:"mr-1"}),T(new Date(l.timestamp),"PPp",{locale:I})]}),e.jsx("div",{children:"•"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{size:16,className:"mr-1"}),l.category]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(s===l.id?null:l.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(vt,{size:20,className:"text-white/60"})}),s===l.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!l.read&&e.jsxs("button",{onClick:()=>x(l.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(ta,{size:16,className:"mr-2"}),"Marquer comme lu"]}),e.jsxs("button",{onClick:()=>m(l.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(je,{size:16,className:"mr-2"}),l.important?"Retirer important":"Marquer important"]}),e.jsxs("button",{onClick:()=>u(l.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[e.jsx(ce,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},l.id)})})}const ls=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],zn=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],ns=["#ef4444","#22c55e","#3b82f6","#eab308"];function Dn(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(Ie,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),e.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:e.jsx(he,{size:20,className:"text-red-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),e.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(Jt,{size:20,className:"text-green-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),e.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:e.jsx(ee,{size:20,className:"text-yellow-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),e.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),e.jsx("div",{className:"h-80",children:e.jsx(jt,{width:"100%",height:"100%",children:e.jsxs(js,{children:[e.jsx(fs,{data:ls,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:ls.map((t,a)=>e.jsx(ws,{fill:ns[a%ns.length]},`cell-${a}`))}),e.jsx(hs,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:t=>`${t}%`})]})})}),e.jsx("div",{className:"mt-6 space-y-4",children:ls.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ns[a]}}),e.jsx("span",{className:"text-white/70",children:t.name})]}),e.jsxs("span",{className:"text-white",children:[t.value,"%"]})]},t.name))})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),e.jsx("div",{className:"h-80",children:e.jsx(jt,{width:"100%",height:"100%",children:e.jsxs(Zi,{data:zn,children:[e.jsx(xa,{strokeDasharray:"3 3",stroke:"#ffffff10"}),e.jsx(ma,{dataKey:"date",stroke:"#ffffff60"}),e.jsx(ha,{stroke:"#ffffff60"}),e.jsx(hs,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),e.jsx(Ki,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function Mn({onClose:t}){return e.jsx(xe,{isOpen:!0,onClose:t,title:"Paramètres des notifications",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Application"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Email"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(va,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Mobile"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(de,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"SMS"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Alertes système"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Tâches"}),e.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Stock"}),e.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Qualité"}),e.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"RH"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function Tn(){const[t,a]=c.useState(!0),[s,i]=c.useState(!1),[r,n]=c.useState(""),[o,x]=c.useState("all");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ys,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Ge,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),t&&e.jsx(Dn,{}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:r,onChange:m=>n(m.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg transition-colors ${o==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),e.jsx("button",{onClick:()=>x("unread"),className:`px-4 py-2 rounded-lg transition-colors ${o==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),e.jsx("button",{onClick:()=>x("important"),className:`px-4 py-2 rounded-lg transition-colors ${o==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),e.jsx(Sn,{searchQuery:r,filter:o}),s&&e.jsx(Mn,{onClose:()=>i(!1)})]})}function Va({onClose:t,task:a}){const{register:s,handleSubmit:i,formState:{errors:r},setValue:n}=ot();c.useEffect(()=>{a&&(n("title",a.title),a.description&&n("description",a.description),a.priority&&n("priority",a.priority),a.dueDate&&n("dueDate",a.dueDate),a.assignee&&n("assignedTo",a.assignee))},[a,n]);const o=x=>{console.log(x),t()};return e.jsxs(j.form,{onSubmit:i(o),className:"relative rounded-2xl overflow-hidden shadow-2xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",damping:25,stiffness:300},style:{background:"linear-gradient(145deg, rgba(30, 41, 59, 0.85) 0%, rgba(15, 23, 42, 0.95) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.6)",WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500/80 to-blue-400/50"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(j.h2,{className:"text-xl font-medium text-white",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},children:a?"Éditer la tâche":"Nouvelle Tâche"}),e.jsx(j.button,{onClick:t,className:"text-white/60 hover:text-white p-2 rounded-full hover:bg-white/5 transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(L,{size:20})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Titre de la tâche"}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{...s("title",{required:"Le titre est requis"}),className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white shadow-inner focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 transition-all duration-200",placeholder:"Entrez le titre de la tâche",style:{WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)"}})]}),r.title&&e.jsxs(j.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1.5 text-sm text-red-400 flex items-center",children:[e.jsx(Ae,{size:14,className:"mr-1"}),r.title.message]})]}),e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Description"}),e.jsx("textarea",{...s("description"),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white shadow-inner focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 transition-all duration-200",placeholder:"Décrivez la tâche en détail",style:{WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)"}})]}),e.jsxs(j.div,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Priorité"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsxs("select",{...s("priority"),className:"w-full appearance-none bg-white/5 border border-white/10 rounded-lg pl-10 pr-10 py-2.5 text-white shadow-inner focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 transition-all duration-200",style:{WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)"},children:[e.jsx("option",{value:"low",children:"Basse"}),e.jsx("option",{value:"medium",children:"Moyenne"}),e.jsx("option",{value:"high",children:"Haute"})]}),e.jsx(Ce,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/40",size:18})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Date d'échéance"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"date",...s("dueDate"),className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white shadow-inner focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 transition-all duration-200",style:{WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)",colorScheme:"dark"}})]})]})]}),e.jsxs(j.div,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.25},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Assigné à"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsxs("select",{...s("assignedTo"),className:"w-full appearance-none bg-white/5 border border-white/10 rounded-lg pl-10 pr-10 py-2.5 text-white shadow-inner focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 transition-all duration-200",style:{WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)"},children:[e.jsx("option",{value:"",children:"Sélectionner un employé"}),e.jsx("option",{value:"user1",children:"Jean Dupont"}),e.jsx("option",{value:"user2",children:"Marie Martin"})]}),e.jsx(Ce,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/40",size:18})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Catégorie"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsxs("select",{...s("category"),className:"w-full appearance-none bg-white/5 border border-white/10 rounded-lg pl-10 pr-10 py-2.5 text-white shadow-inner focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 transition-all duration-200",style:{WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)"},children:[e.jsx("option",{value:"",children:"Sélectionner une catégorie"}),e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"quality",children:"Contrôle qualité"})]}),e.jsx(Ce,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/40",size:18})]})]})]}),e.jsxs(j.div,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Temps estimé (heures)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"number",...s("estimatedHours"),className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-white shadow-inner focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 transition-all duration-200",min:"0",step:"0.5",style:{WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/70 mb-1",children:"Tâche récurrente"}),e.jsx("div",{className:"flex items-center mt-3",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("input",{type:"checkbox",id:"recurring",...s("isRecurring"),className:"sr-only"}),e.jsxs("label",{htmlFor:"recurring",className:"flex items-center cursor-pointer",children:[e.jsx("div",{className:"relative w-10 h-5 bg-white/10 rounded-full transition duration-200 ease-linear",children:e.jsx("div",{className:"absolute left-1 top-1 bg-white/80 w-3 h-3 rounded-full transition-transform duration-200 ease-in-out peer-checked:transform peer-checked:translate-x-5"})}),e.jsx("span",{className:"ml-3 text-sm text-white/70",children:"Activer la récurrence"})]})]})})]})]})]}),e.jsxs(j.div,{className:"flex justify-end space-x-4 mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.35},children:[e.jsx(j.button,{type:"button",onClick:t,className:"px-4 py-2.5 text-white/60 hover:text-white transition-colors rounded-lg border border-transparent hover:border-white/10 hover:bg-white/5",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:"Annuler"}),e.jsxs(j.button,{type:"submit",className:"px-5 py-2.5 text-white font-medium rounded-lg flex items-center shadow-lg",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},style:{background:"linear-gradient(90deg, rgba(14, 165, 233, 0.9) 0%, rgba(56, 189, 248, 0.8) 100%)",boxShadow:"0 10px 15px -3px rgba(14, 165, 233, 0.2), 0 4px 6px -2px rgba(14, 165, 233, 0.1)"},children:[e.jsx(dt,{size:18,className:"mr-2"}),a?"Mettre à jour la tâche":"Créer la tâche"]})]})]})]})}const Pn=[{id:"1",user:"Jean Dupont",text:"J'ai commencé l'inspection dans la zone nord du parc A. Les huîtres présentent une bonne croissance uniforme.",date:"2025-03-13T14:30:00",rating:4},{id:"2",user:"Jean Dupont",text:"J'ai identifié quelques huîtres sous-dimensionnées dans le secteur est. Besoin d'une inspection plus approfondie.",date:"2025-03-13T15:15:00",rating:3,attachments:["Rapport_inspection_parcA_20250313.pdf","Photos_echantillons.jpg"]},{id:"3",user:"Marie Martin",text:"La rotation des poches dans la filière 3 est en cours. Nous avons constaté une amélioration notable de la croissance après le dernier ajustement des densités.",date:"2025-03-13T15:45:00",rating:5},{id:"4",user:"Sophie Bernard",text:"Les analyses d'eau montrent des taux de salinité et d'oxygène optimaux. Les résultats détaillés sont disponibles dans le rapport joint.",date:"2025-03-13T16:20:00",rating:4,attachments:["Analyse_eau_20250313.pdf"]}],Fn={hidden:{opacity:0,transform:"scale(0.95) translateY(10px)"},visible:{opacity:1,transform:"scale(1) translateY(0)",transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{opacity:0,transform:"scale(0.95) translateY(10px)",transition:{duration:.15,ease:[.4,0,1,1]}}},Lt={high:{bg:"bg-red-500/10",border:"border-red-500/30",color:"text-red-400",icon:e.jsx(It,{size:14,className:"text-red-400"})},medium:{bg:"bg-amber-500/10",border:"border-amber-500/30",color:"text-amber-400",icon:e.jsx(It,{size:14,className:"text-amber-400"})},low:{bg:"bg-green-500/10",border:"border-green-500/30",color:"text-green-400",icon:e.jsx(It,{size:14,className:"text-green-400"})}},qt={pending:{bg:"bg-blue-500/10",border:"border-blue-500/30",color:"text-blue-400",icon:e.jsx(Na,{size:14,className:"text-blue-400"})},in_progress:{bg:"bg-amber-500/10",border:"border-amber-500/30",color:"text-amber-400",icon:e.jsx(ee,{size:14,className:"text-amber-400"})},completed:{bg:"bg-emerald-500/10",border:"border-emerald-500/30",color:"text-emerald-400",icon:e.jsx(dt,{size:14,className:"text-emerald-400"})}};function An({task:t,onClose:a,onEdit:s}){const[i,r]=c.useState("commentaires"),[n,o]=c.useState(""),[x,m]=c.useState(null),[u,l]=c.useState(Pn),d=Y.useRef(null);c.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&a()};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[a]);const h=g=>{const v=new Date(g);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short",year:"numeric"}).format(v)},p=g=>new Date(g).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),b=t.status==="completed"?100:t.status==="in_progress"?65:0,f=()=>{if(n.trim()==="")return;const g={id:(u.length+1).toString(),user:"Utilisateur Actuel",text:n,date:new Date().toISOString(),rating:x||0};l([...u,g]),o(""),m(null)};return e.jsx(j.div,{className:"fixed inset-0 flex items-center justify-center z-50 p-4 md:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{backgroundColor:"rgba(0, 0, 0, 0.7)",WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)"},children:e.jsxs(j.div,{ref:d,className:"bg-gray-900/95 rounded-xl relative overflow-hidden w-full max-w-3xl max-h-[90vh] overflow-y-auto",variants:Fn,initial:"hidden",animate:"visible",exit:"exit",style:{border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",background:"linear-gradient(to bottom right, rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.6))"},children:[e.jsxs("div",{className:"relative p-6 border-b border-white/10",style:{background:"linear-gradient(to right, rgba(34, 197, 94, 0.1), transparent)"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-xl text-white font-semibold",children:t.title}),e.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[e.jsxs("div",{className:`text-xs px-2.5 py-1 rounded-full ${Lt[t.priority].bg} ${Lt[t.priority].border} ${Lt[t.priority].color} inline-flex items-center gap-1.5`,children:[Lt[t.priority].icon,e.jsx("span",{children:t.priority==="high"?"Priorité Haute":t.priority==="medium"?"Priorité Moyenne":"Priorité Basse"})]}),e.jsxs("div",{className:`text-xs px-2.5 py-1 rounded-full ${qt[t.status].bg} ${qt[t.status].border} ${qt[t.status].color} inline-flex items-center gap-1.5`,children:[qt[t.status].icon,e.jsx("span",{children:t.status==="completed"?"Terminée":t.status==="in_progress"?"En cours":"En attente"})]}),t.category&&e.jsxs("div",{className:"text-xs px-2.5 py-1 rounded-full bg-indigo-500/10 border-indigo-500/30 text-indigo-400 inline-flex items-center gap-1.5",children:[e.jsx(ps,{size:14}),e.jsx("span",{children:t.category})]})]})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white/90 transition-colors",children:e.jsx(L,{size:20})})]}),t.description&&e.jsx("p",{className:"text-white/70 text-sm mt-3 leading-relaxed",children:t.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[t.dueDate&&e.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[e.jsx(te,{size:16,className:"text-indigo-400"}),e.jsxs("span",{children:["Échéance: ",h(t.dueDate)]})]}),t.assignedTo&&e.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[e.jsx(yt,{size:16,className:"text-indigo-400"}),e.jsxs("span",{children:["Assignée à: ",t.assignedTo]})]}),t.location&&e.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[e.jsx(ue,{size:16,className:"text-indigo-400"}),e.jsxs("span",{children:["Emplacement: ",t.location]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("div",{className:"h-2 flex-1 bg-gray-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-teal-400",style:{width:`${b}%`}})}),e.jsxs("span",{className:"text-xs text-white/60",children:[b,"%"]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex border-b border-white/10 mb-6",children:[e.jsx("button",{className:`px-4 py-2 font-medium text-sm ${i==="commentaires"?"text-teal-400 border-b-2 border-teal-400":"text-white/60 hover:text-white/80"}`,onClick:()=>r("commentaires"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{size:16}),e.jsx("span",{children:"Commentaires"})]})}),e.jsx("button",{className:`px-4 py-2 font-medium text-sm ${i==="performance"?"text-teal-400 border-b-2 border-teal-400":"text-white/60 hover:text-white/80"}`,onClick:()=>r("performance"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{size:16}),e.jsx("span",{children:"Performance"})]})})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"min-h-[300px]",children:[i==="commentaires"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:u.map(g=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-violet-500 rounded-full flex items-center justify-center text-white font-medium",children:g.user.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white/90",children:g.user}),e.jsxs("div",{className:"text-xs text-white/60",children:[h(g.date)," à ",p(g.date)]})]})]}),g.rating&&e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((v,k)=>e.jsx(je,{size:14,className:k<g.rating?"text-amber-400 fill-amber-400":"text-white/20"},k))})]}),e.jsx("p",{className:"mt-3 text-sm text-white/80 leading-relaxed",children:g.text}),g.attachments&&g.attachments.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("div",{className:"text-xs text-white/60 font-medium",children:"Pièces jointes"}),g.attachments.map((v,k)=>e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 p-2 rounded text-sm text-white/70",children:[e.jsx(er,{size:14}),e.jsx("span",{children:v})]},k))]})]},g.id))}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h5",{className:"text-sm font-medium text-white/90",children:"Ajouter un commentaire"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((g,v)=>e.jsx("button",{type:"button",onClick:()=>m(v+1),className:"focus:outline-none",children:e.jsx(je,{size:16,className:x&&v<x?"text-amber-400 fill-amber-400":"text-white/20 hover:text-white/40"})},v))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Entrez votre commentaire...",value:n,onChange:g=>o(g.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white/90 placeholder:text-white/40 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"}),e.jsx("button",{onClick:f,disabled:n.trim()==="",className:"bg-green-600/20 border border-green-600/30 hover:bg-green-600/30 text-green-500 rounded-lg px-3 py-2 flex items-center gap-1 transition-colors disabled:opacity-50 disabled:pointer-events-none",children:e.jsx(Nt,{size:16})})]})]})})]}),i==="performance"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h5",{className:"text-sm font-medium text-white/90 mb-3",children:"Évaluation de la tâche"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[e.jsx("span",{className:"text-white/70",children:"Progression"}),e.jsxs("span",{className:"text-white/90",children:[b,"%"]})]}),e.jsx("div",{className:"h-2 bg-gray-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-teal-400",style:{width:`${b}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[e.jsx("span",{className:"text-white/70",children:"Temps estimé"}),e.jsxs("span",{className:"text-white/90",children:[t.estimatedTime||0," heures"]})]}),e.jsx("div",{className:"h-2 bg-gray-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500",style:{width:"100%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[e.jsx("span",{className:"text-white/70",children:"Temps passé"}),e.jsxs("span",{className:"text-white/90",children:[t.actualTime||0," heures"]})]}),e.jsx("div",{className:"h-2 bg-gray-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-violet-500",style:{width:`${t.actualTime?t.actualTime/(t.estimatedTime||1)*100:0}%`}})})]}),t.autoScore!==void 0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[e.jsx("span",{className:"text-white/70",children:"Score auto"}),e.jsxs("span",{className:"text-white/90",children:[t.autoScore,"/10"]})]}),e.jsx("div",{className:"h-2 bg-gray-700/50 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-amber-500",style:{width:`${t.autoScore/10*100}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h5",{className:"text-sm font-medium text-white/90 mb-3",children:"Historique de l'activité"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-1 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Tâche créée"}),e.jsx("span",{className:"text-xs text-white/40",children:"il y a 3 jours"})]}),e.jsxs("p",{className:"text-xs text-white/50 mt-0.5",children:["Assignée à ",t.assignedTo]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-1 bg-blue-500 rounded-full"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Changement de statut"}),e.jsx("span",{className:"text-xs text-white/40",children:"il y a 2 jours"})]}),e.jsx("p",{className:"text-xs text-white/50 mt-0.5",children:'Statut changé à "En cours"'})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-1 bg-amber-500 rounded-full"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/80",children:"Rapport ajouté"}),e.jsx("span",{className:"text-xs text-white/40",children:"il y a 1 jour"})]}),e.jsx("p",{className:"text-xs text-white/50 mt-0.5",children:"Premier rapport d'avancement ajouté"})]})]})]})]})]})]})})]})]})})}const ut=[{id:"1",title:"Inspection des huîtres",description:"Vérification de la qualité et de la taille des huîtres dans le parc A.",priority:"high",status:"pending",dueDate:"2025-03-15",category:"Qualité",assignedTo:"Jean Dupont",estimatedTime:3,location:"Parc A - Zone Nord",tags:["inspection","qualité","huîtres"]},{id:"2",title:"Maintenance des poches",description:"Entretien et rotation des poches d'huîtres pour optimiser la croissance.",priority:"medium",status:"in_progress",dueDate:"2025-03-14",category:"Maintenance",assignedTo:"Marie Martin",estimatedTime:5,location:"Parc B - Filière 3",tags:["maintenance","poches","rotation"]},{id:"3",title:"Analyse de l'eau",description:"Prélèvement et analyse des échantillons d'eau pour surveiller la qualité du milieu.",priority:"medium",status:"completed",dueDate:"2025-03-10",category:"Environnement",assignedTo:"Sophie Bernard",estimatedTime:2,actualTime:1.5,location:"Laboratoire",tags:["analyse","eau","qualité"]},{id:"4",title:"Préparation commandes",description:"Préparation des commandes pour livraison aux restaurants locaux.",priority:"high",status:"in_progress",dueDate:"2025-03-13",category:"Logistique",assignedTo:"Thomas Leroy",estimatedTime:4,location:"Zone de conditionnement",tags:["commandes","livraison","restaurants"]},{id:"5",title:"Contrôle des naissains",description:"Vérification de la croissance des naissains et ajustement des conditions.",priority:"low",status:"pending",dueDate:"2025-03-18",category:"Production",assignedTo:"Julie Moreau",estimatedTime:3,location:"Écloserie",tags:["naissains","croissance","surveillance"]}],Gs={high:{badgeClass:"text-red-300 bg-red-500/20 border-red-500/30",iconColor:"text-red-400",gradientClass:"from-red-500/10 to-transparent"},medium:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400",gradientClass:"from-amber-500/10 to-transparent"},low:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400",gradientClass:"from-green-500/10 to-transparent"}},Rn={pending:{badgeClass:"text-blue-300 bg-blue-500/20 border-blue-500/30",iconColor:"text-blue-400"},inProgress:{badgeClass:"text-amber-300 bg-amber-500/20 border-amber-500/30",iconColor:"text-amber-400"},completed:{badgeClass:"text-green-300 bg-green-500/20 border-green-500/30",iconColor:"text-green-400"},cancelled:{badgeClass:"text-gray-300 bg-gray-500/20 border-gray-500/30",iconColor:"text-gray-400"}};function Ln({searchQuery:t,onTaskSelect:a}){const[s,i]=c.useState(null),[r,n]=c.useState(null),x=ut.filter(p=>p.title.toLowerCase().includes(t.toLowerCase())||p.description&&p.description.toLowerCase().includes(t.toLowerCase())),m=p=>{n(r===p?null:p)},u=p=>{i(p)},l=p=>{console.log(`Delete task: ${p}`)},d=p=>{a&&a(p)},h=p=>new Date(p).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"task-list",children:[x.length===0?e.jsxs("div",{className:"empty-task-state",children:[e.jsx("div",{className:"empty-task-icon",children:e.jsx(tr,{size:40})}),e.jsx("h3",{className:"empty-task-title",children:"Aucune tâche trouvée"}),e.jsx("p",{className:"empty-task-text",children:"Commencez à ajouter de nouvelles tâches ou modifiez vos critères de recherche."})]}):e.jsx("div",{className:"task-grid",children:x.map(p=>{const b=p.priority,f=p.status,g=r===p.id,v=f==="completed"?e.jsx(dt,{size:14}):f==="in_progress"?e.jsx(ee,{size:14}):e.jsx(Na,{size:14}),k=f==="completed"?"Terminée":f==="in_progress"?"En cours":"En attente",F=f==="completed"?"completed":f==="in_progress"?"inProgress":"pending";return e.jsx("div",{className:"task-card-wrapper",onClick:()=>d(p),children:e.jsxs("div",{className:"task-card shadow-md",children:[e.jsx("div",{className:`task-card-header ${Gs[b].gradientClass}`,children:e.jsxs("div",{className:"task-header-content",children:[e.jsxs("div",{className:`priority-badge ${Gs[b].badgeClass}`,children:[e.jsx(It,{size:14}),e.jsx("span",{children:b==="high"?"Haute":b==="medium"?"Moyenne":"Basse"})]}),e.jsx("div",{className:"task-status",children:e.jsxs("div",{className:`status-badge ${Rn[F].badgeClass}`,children:[v,e.jsx("span",{children:k})]})}),e.jsx("button",{className:"expand-task-btn",onClick:w=>{w.stopPropagation(),m(p.id)},children:e.jsx(Ce,{size:16,className:`transition-transform ${g?"rotate-180":""}`})})]})}),e.jsxs("div",{className:"task-card-body",children:[e.jsx("h3",{className:"task-title",children:p.title}),e.jsx("p",{className:"task-description",children:p.description}),e.jsxs("div",{className:"task-metadata",children:[p.dueDate&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(te,{size:14,className:"metadata-icon"}),e.jsx("span",{children:h(p.dueDate)})]}),p.assignedTo&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(yt,{size:14,className:"metadata-icon"}),e.jsx("span",{children:p.assignedTo})]}),p.location&&e.jsxs("div",{className:"metadata-item",children:[e.jsx(ue,{size:14,className:"metadata-icon"}),e.jsx("span",{children:p.location})]})]}),e.jsxs("div",{className:`expanded-content ${g?"expanded":""}`,children:[p.tags&&p.tags.length>0&&e.jsx("div",{className:"task-tags",children:p.tags.map((w,M)=>e.jsxs("div",{className:"task-tag",children:[e.jsx(Se,{size:12}),e.jsx("span",{children:w})]},M))}),e.jsxs("div",{className:"task-actions",children:[e.jsxs("button",{className:"task-action-btn edit",onClick:w=>{w.stopPropagation(),u(p)},children:[e.jsx(nt,{size:14}),e.jsx("span",{children:"Modifier"})]}),e.jsxs("button",{className:"task-action-btn delete",onClick:w=>{w.stopPropagation(),l(p.id)},children:[e.jsx(ce,{size:14}),e.jsx("span",{children:"Supprimer"})]})]})]})]})]})},p.id)})}),s&&e.jsx(Va,{onClose:()=>i(null),task:s})]})}const qn={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{duration:.4,staggerChildren:.08}}},Ve={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:30}}},$n=[{label:"Haute",value:"high"},{label:"Moyenne",value:"medium"},{label:"Basse",value:"low"}],En=[{label:"En attente",value:"pending"},{label:"En cours",value:"in_progress"},{label:"Terminé",value:"completed"}],_n=[{label:"Production",value:"production"},{label:"Maintenance",value:"maintenance"},{label:"Contrôle qualité",value:"quality"}];function In(){const[t,a]=c.useState([]),[s,i]=c.useState([]),[r,n]=c.useState([]),[o,x]=c.useState({start:"",end:""}),[m,u]=c.useState({priority:!0,status:!0,category:!0,date:!0}),l=p=>{u(b=>({...b,[p]:!b[p]}))},d=()=>{a([]),i([]),n([]),x({start:"",end:""})},h=t.length+s.length+r.length+(o.start||o.end?1:0);return e.jsxs(j.div,{className:"task-filters-container",variants:qn,initial:"hidden",animate:"visible",style:{WebkitBackdropFilter:"blur(8px)",backdropFilter:"blur(8px)",background:"linear-gradient(145deg, rgba(37, 99, 235, 0.12) 0%, rgba(13, 148, 136, 0.08) 100%)",border:"1px solid rgba(37, 99, 235, 0.15)",borderRadius:"1rem",boxShadow:"0 20px 30px -10px rgba(0, 0, 0, 0.2), 0 0 15px rgba(0, 0, 0, 0.1)",overflow:"hidden",padding:"1.5rem",marginBottom:"1.5rem",position:"relative"},children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",style:{background:"radial-gradient(circle at 30% 30%, rgba(37, 99, 235, 0.15), transparent 80%)",opacity:.8}}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs(j.div,{className:"flex items-center justify-between",variants:Ve,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.div,{className:"filter-icon-container",whileHover:{rotate:15,scale:1.1},transition:{type:"spring",stiffness:400},style:{background:"linear-gradient(135deg, rgba(37, 99, 235, 0.4) 0%, rgba(13, 148, 136, 0.4) 100%)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:e.jsx(se,{size:18,className:"text-white"})}),e.jsxs(j.h3,{className:"text-lg font-medium text-white flex items-center",variants:Ve,children:["Filtres avancés",h>0&&e.jsx(j.span,{initial:{scale:0},animate:{scale:1},className:"ml-2 px-2 py-0.5 bg-gradient-to-r from-blue-500/80 to-emerald-500/80 text-white text-xs font-semibold rounded-full",children:h})]})]}),e.jsxs(j.button,{onClick:d,className:"reset-button",variants:Ve,whileHover:{y:-2,boxShadow:"0 6px 10px -2px rgba(0, 0, 0, 0.2)"},whileTap:{y:0,scale:.95},disabled:h===0,style:{opacity:h===0?.5:1,background:"linear-gradient(135deg, rgba(37, 99, 235, 0.2) 0%, rgba(13, 148, 136, 0.2) 100%)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",padding:"0.5rem 0.75rem",color:"white",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",transition:"all 0.2s ease",cursor:h===0?"default":"pointer"},children:[e.jsx(L,{size:14}),"Réinitialiser"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsxs(j.div,{variants:Ve,className:"filter-section",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 cursor-pointer",onClick:()=>l("priority"),children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-300 flex items-center",children:[e.jsx(Se,{size:14,className:"mr-1.5"}),"Priorité"]}),e.jsx(j.div,{animate:{rotate:m.priority?0:-90},transition:{duration:.3},children:e.jsx(Ce,{size:16,className:"text-blue-300"})})]}),e.jsx(_,{children:m.priority&&e.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:$n.map(p=>e.jsxs(j.button,{onClick:()=>{a(b=>b.includes(p.value)?b.filter(f=>f!==p.value):[...b,p.value])},className:`filter-chip ${t.includes(p.value)?"active-chip":""}`,whileHover:{y:-3,boxShadow:"0 8px 16px -4px rgba(0, 0, 0, 0.3)"},whileTap:{y:0,scale:.95},style:{background:t.includes(p.value)?"linear-gradient(135deg, rgba(37, 99, 235, 0.8) 0%, rgba(13, 148, 136, 0.8) 100%)":"rgba(255, 255, 255, 0.05)",boxShadow:t.includes(p.value)?"0 6px 12px -2px rgba(37, 99, 235, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)",border:t.includes(p.value)?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(255, 255, 255, 0.05)",borderRadius:"9999px",padding:"0.375rem 0.75rem",color:t.includes(p.value)?"white":"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.25rem",transition:"all 0.2s ease"},children:[t.includes(p.value)&&e.jsx(it,{size:12,className:"text-white"}),p.label]},p.value))})})})]}),e.jsxs(j.div,{variants:Ve,className:"filter-section",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 cursor-pointer",onClick:()=>l("status"),children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-300 flex items-center",children:[e.jsx(Ht,{size:14,className:"mr-1.5"}),"Statut"]}),e.jsx(j.div,{animate:{rotate:m.status?0:-90},transition:{duration:.3},children:e.jsx(Ce,{size:16,className:"text-blue-300"})})]}),e.jsx(_,{children:m.status&&e.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:En.map(p=>e.jsxs(j.button,{onClick:()=>{i(b=>b.includes(p.value)?b.filter(f=>f!==p.value):[...b,p.value])},className:`filter-chip ${s.includes(p.value)?"active-chip":""}`,whileHover:{y:-3,boxShadow:"0 8px 16px -4px rgba(0, 0, 0, 0.3)"},whileTap:{y:0,scale:.95},style:{background:s.includes(p.value)?"linear-gradient(135deg, rgba(37, 99, 235, 0.8) 0%, rgba(13, 148, 136, 0.8) 100%)":"rgba(255, 255, 255, 0.05)",boxShadow:s.includes(p.value)?"0 6px 12px -2px rgba(37, 99, 235, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)",border:s.includes(p.value)?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(255, 255, 255, 0.05)",borderRadius:"9999px",padding:"0.375rem 0.75rem",color:s.includes(p.value)?"white":"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.25rem",transition:"all 0.2s ease"},children:[s.includes(p.value)&&e.jsx(it,{size:12,className:"text-white"}),p.label]},p.value))})})})]}),e.jsxs(j.div,{variants:Ve,className:"filter-section",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 cursor-pointer",onClick:()=>l("category"),children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-300 flex items-center",children:[e.jsx(Se,{size:14,className:"mr-1.5"}),"Catégorie"]}),e.jsx(j.div,{animate:{rotate:m.category?0:-90},transition:{duration:.3},children:e.jsx(Ce,{size:16,className:"text-blue-300"})})]}),e.jsx(_,{children:m.category&&e.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:_n.map(p=>e.jsxs(j.button,{onClick:()=>{n(b=>b.includes(p.value)?b.filter(f=>f!==p.value):[...b,p.value])},className:`filter-chip ${r.includes(p.value)?"active-chip":""}`,whileHover:{y:-3,boxShadow:"0 8px 16px -4px rgba(0, 0, 0, 0.3)"},whileTap:{y:0,scale:.95},style:{background:r.includes(p.value)?"linear-gradient(135deg, rgba(37, 99, 235, 0.8) 0%, rgba(13, 148, 136, 0.8) 100%)":"rgba(255, 255, 255, 0.05)",boxShadow:r.includes(p.value)?"0 6px 12px -2px rgba(37, 99, 235, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)",border:r.includes(p.value)?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(255, 255, 255, 0.05)",borderRadius:"9999px",padding:"0.375rem 0.75rem",color:r.includes(p.value)?"white":"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.25rem",transition:"all 0.2s ease"},children:[r.includes(p.value)&&e.jsx(it,{size:12,className:"text-white"}),p.label]},p.value))})})})]}),e.jsxs(j.div,{variants:Ve,className:"filter-section",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 cursor-pointer",onClick:()=>l("date"),children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-300 flex items-center",children:[e.jsx(te,{size:14,className:"mr-1.5"}),"Période"]}),e.jsx(j.div,{animate:{rotate:m.date?0:-90},transition:{duration:.3},children:e.jsx(Ce,{size:16,className:"text-blue-300"})})]}),e.jsx(_,{children:m.date&&e.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start-date",className:"block text-xs text-white/70 mb-1",children:"Du"}),e.jsx(j.input,{id:"start-date",type:"date",value:o.start,onChange:p=>x({...o,start:p.target.value}),className:"date-input",whileFocus:{boxShadow:"0 0 0 2px rgba(37, 99, 235, 0.3)"},style:{width:"100%",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",padding:"0.5rem",color:"white",WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)",colorScheme:"dark"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end-date",className:"block text-xs text-white/70 mb-1",children:"Au"}),e.jsx(j.input,{id:"end-date",type:"date",value:o.end,onChange:p=>x({...o,end:p.target.value}),className:"date-input",whileFocus:{boxShadow:"0 0 0 2px rgba(37, 99, 235, 0.3)"},style:{width:"100%",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",padding:"0.5rem",color:"white",WebkitBackdropFilter:"blur(5px)",backdropFilter:"blur(5px)",colorScheme:"dark"}})]})]})})})]})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{background:"linear-gradient(to right, rgba(37, 99, 235, 0.7), rgba(13, 148, 136, 0.7), rgba(37, 99, 235, 0.7))",backgroundSize:"200% 100%",animation:"shimmer 3s infinite ease-in-out"}})]})}const On={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},Ot={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:30}}};function $t({title:t,value:a,icon:s,color:i,onClick:r}){return e.jsxs(j.div,{className:"task-stat-card relative overflow-hidden",variants:Ot,whileHover:{y:-5,transition:{duration:.2}},onClick:r,style:{cursor:r?"pointer":"default"},children:[e.jsxs("div",{className:"relative z-10 p-5 flex items-center gap-5",children:[e.jsx("div",{className:`stat-icon-container ${i}`,children:s}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{className:"stat-value",children:a}),e.jsx("p",{className:"stat-title",children:t})]}),e.jsx("div",{className:"absolute top-1/3 -right-8 w-32 h-32 rounded-full blur-3xl opacity-15",style:{background:`radial-gradient(circle, var(--${i}-600) 0%, transparent 70%)`}})]}),e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-black/20 to-transparent"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1/3 bg-gradient-to-l from-white/5 to-transparent"})]})]})}function Hn(){var f;const[t,a]=c.useState(""),[s,i]=c.useState(!1),[r,n]=c.useState(null),[o,x]=c.useState(!1),{session:m}=Z();(f=m==null?void 0:m.user)==null||f.role;const u=g=>{console.log("Opening task details for:",g.title),n(g)},l=()=>{console.log("Closing task details"),n(null)},d=ut.filter(g=>g.status==="pending").length,h=ut.filter(g=>g.status==="in_progress").length,p=ut.filter(g=>g.status==="completed").length,b=ut.filter(g=>g.priority==="high").length;return e.jsxs(j.div,{className:"task-page-container bg-gradient-to-br from-brand-dark via-brand-purple/20 to-brand-burgundy/20",initial:"hidden",animate:"visible",variants:On,children:[e.jsx("div",{className:"task-page-header-wrapper",children:e.jsxs(j.div,{className:"task-page-header",variants:Ot,children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx("div",{className:"icon-inner",children:e.jsx(sr,{size:32})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"header-title",children:"Gestion des Tâches"}),e.jsx("p",{className:"header-subtitle",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs(j.button,{onClick:()=>i(!0),className:"new-task-btn",whileHover:{scale:1.03,y:-2},whileTap:{scale:.97},children:[e.jsx(V,{size:20,className:"btn-icon"}),e.jsx("span",{children:"Nouvelle tâche"}),e.jsx(ar,{className:"sparks-effect",size:15})]})]})}),e.jsxs(j.div,{className:"search-filter-container",variants:Ot,children:[e.jsxs("div",{className:"search-container",children:[e.jsx("div",{className:"search-icon-container",children:e.jsx(W,{size:18,className:"search-icon"})}),e.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",className:"search-input",value:t,onChange:g=>a(g.target.value)})]}),e.jsxs(j.button,{onClick:()=>x(!o),className:`filter-button ${o?"active":""}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[e.jsx(se,{size:16,className:"btn-icon"}),e.jsx("span",{children:"Filtres"}),o&&e.jsx(ms,{size:14,className:"active-indicator"})]})]}),e.jsx(_,{children:o&&e.jsx(j.div,{className:"filters-container",initial:{opacity:0,y:-20,scaleY:0,transformOrigin:"top"},animate:{opacity:1,y:0,scaleY:1},exit:{opacity:0,y:-20,scaleY:0},transition:{duration:.3,ease:"easeInOut"},children:e.jsx(In,{})})}),e.jsxs(j.div,{className:"stats-dashboard",variants:Ot,children:[e.jsx($t,{title:"Tâches en cours",value:h,icon:e.jsx(ee,{size:22}),color:"blue"}),e.jsx($t,{title:"Tâches terminées",value:p,icon:e.jsx(Jt,{size:22}),color:"green"}),e.jsx($t,{title:"Tâches en attente",value:d,icon:e.jsx(ir,{size:22}),color:"amber"}),e.jsx($t,{title:"Haute priorité",value:b,icon:e.jsx(Ae,{size:22}),color:"red"})]}),e.jsxs("div",{className:"task-section-divider",children:[e.jsx("div",{className:"divider-line"}),e.jsx("div",{className:"divider-text",children:"Liste des tâches"}),e.jsx("div",{className:"divider-line"})]}),e.jsxs("div",{className:"task-section-header",children:[e.jsxs("div",{className:"task-section-title-wrapper",children:[e.jsx("div",{className:"task-section-bar"}),e.jsx("h2",{className:"task-section-title",children:"Conditions des tâches"})]}),e.jsxs("div",{className:"task-section-date",children:["Dernière mise à jour: ",new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("div",{className:"task-list-container",children:e.jsx(Ln,{searchQuery:t,onTaskSelect:u})}),e.jsx(_,{children:s&&e.jsx(Va,{onClose:()=>i(!1)})}),e.jsx(_,{children:r&&e.jsx(An,{task:r,onClose:l})})]})}function Bn({batch:t,isOpen:a,onClose:s}){const{updateBatch:i}=Z(),[r,n]=Y.useState({quantity:t.quantity,perchNumber:t.perchNumber,status:t.status}),o=x=>{x.preventDefault(),i({...t,...r}),s()};return a?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-md relative",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:e.jsx(L,{size:20})}),e.jsxs("h2",{className:"text-xl font-medium text-white mb-6",children:["Modifier le lot ",t.batchNumber]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Quantité"}),e.jsx("input",{type:"number",value:r.quantity,onChange:x=>n(m=>({...m,quantity:parseInt(x.target.value)})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Numéro de perche"}),e.jsx("input",{type:"number",value:r.perchNumber,onChange:x=>n(m=>({...m,perchNumber:parseInt(x.target.value)})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Table"}),e.jsxs("select",{value:r.status,onChange:x=>n(m=>({...m,status:x.target.value})),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"table1",children:"Table 1"}),e.jsx("option",{value:"table2",children:"Table 2"}),e.jsx("option",{value:"table3",children:"Table 3"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-brand-blue hover:bg-brand-blue/90 text-white font-medium py-2 px-4 rounded-lg",children:"Enregistrer les modifications"})]})]})}):null}function Vn({searchQuery:t}){const{batches:a}=Z(),[s,i]=c.useState(null),r=a.filter(o=>o.status==="table1"||o.status==="table2"||o.status==="table3").slice(0,4),n=o=>rr(new Date,new Date(o));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(o=>{const x=n(o.startDate),m=x>24;return e.jsxs("div",{className:`bg-white/5 border ${m?"border-blue-400/70":"border-white/10"} rounded-lg p-4 relative group ${m?"shadow-[0_0_10px_rgba(59,130,246,0.3)]":""}`,children:[e.jsx("button",{onClick:()=>i(o),className:"absolute top-3 right-3 p-2 bg-white/5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white/10",children:e.jsx(De,{size:16,className:"text-white/60"})}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(Se,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white",children:o.batchNumber}),e.jsxs("p",{className:"text-xs text-white/60",children:[o.type," - ",o.quantity," unités"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-white/60",children:"Carré de trempe"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${o.status==="table1"?"bg-green-500":o.status==="table2"?"bg-yellow-500":"bg-blue-500"}`}),e.jsx("p",{className:"text-sm font-medium text-white",children:o.status==="table1"?"Carré 1":o.status==="table2"?"Carré 2":"Carré 3"})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps en trempe"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ya,{size:16,className:m?"text-red-400":"text-white"}),e.jsxs("span",{className:`text-sm font-medium ${m?"text-red-400":"text-white"}`,children:[x,"h"]})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Quantité"}),e.jsxs("div",{className:"text-sm font-medium text-white",children:[o.quantity," ",o.type]})]})]},o.id)}),r.length===0&&e.jsx("div",{className:"col-span-full text-center py-8 text-white/60",children:"Aucun lot en trempe"})]}),s&&e.jsx(Bn,{batch:s,isOpen:!0,onClose:()=>i(null)})]})}const Qn=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],Un={movement:ue,treatment:oe,quality_check:Se,alert:he},ds={movement:"bg-blue-400/20 text-blue-300",treatment:"bg-blue-500/20 text-blue-300",quality_check:"bg-blue-600/20 text-blue-300",alert:"bg-blue-700/20 text-blue-300"};function Jn({searchQuery:t}){const a=Qn.filter(s=>s.batchNumber.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase()));return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 border border-blue-400/50 rounded-lg shadow-[0_0_5px_rgba(59,130,246,0.2)]",children:[e.jsx("div",{className:"p-6 border-b border-blue-400/30",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),e.jsx("div",{className:"divide-y divide-white/10",children:a.map(s=>{const i=Un[s.type];return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${ds[s.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:e.jsx(i,{size:20,className:ds[s.type].split(" ")[1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"text-lg font-medium text-white truncate",children:s.batchNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ds[s.type]}`,children:s.type==="movement"?"Déplacement":s.type==="treatment"?"Traitement":s.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),e.jsx("p",{className:"text-white/70 mt-1",children:s.description}),s.details&&e.jsxs("div",{className:"mt-2 space-y-1",children:[s.details.from&&s.details.to&&e.jsxs("div",{className:"text-sm text-white/60",children:["De: ",s.details.from," → Vers: ",s.details.to]}),s.details.treatment&&e.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",s.details.treatment]}),s.details.score&&e.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",s.details.score,"%"]}),s.details.issue&&e.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",s.details.issue]})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ue,{size:16,className:"mr-1"}),T(new Date(s.date),"PPp",{locale:I})]}),e.jsx("div",{children:"•"}),e.jsxs("div",{children:["Par: ",s.user]})]})]})]})},s.id)})})]})})}function Qa({children:t,onClick:a,className:s="",style:i}){const[r,n]=Y.useState(!1);return e.jsxs(j.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${s}`,style:i,onClick:a,onHoverStart:()=>n(!0),onHoverEnd:()=>n(!1),whileHover:{y:-4},children:[t,e.jsx(j.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:r?1:0},transition:{duration:.2}}),e.jsx(j.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:r?1:0,boxShadow:r?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const Xs=[{id:"1",name:"Bassin A1",filterType:"Bio-filtre",filterStatus:"active",currentOccupancy:800,capacity:1e3,waterQuality:98,temperature:12.5,lastMaintenance:"2025-02-25",nextMaintenance:"2025-03-03",batches:[{id:"1",number:"LOT-2025-001",quantity:500,remainingTime:18}]},{id:"2",name:"Bassin A2",filterType:"Bio-filtre",filterStatus:"maintenance",currentOccupancy:600,capacity:1e3,waterQuality:92,temperature:12.3,lastMaintenance:"2025-02-24",nextMaintenance:"2025-03-02",batches:[{id:"2",number:"LOT-2025-002",quantity:300,remainingTime:6}]},{id:"3",name:"Bassin B1",filterType:"UV-filtre",filterStatus:"active",currentOccupancy:900,capacity:1e3,waterQuality:95,temperature:12.4,lastMaintenance:"2025-02-23",nextMaintenance:"2025-03-01",batches:[{id:"3",number:"LOT-2025-003",quantity:600,remainingTime:12}]},{id:"4",name:"Bassin B2",filterType:"UV-filtre",filterStatus:"error",currentOccupancy:0,capacity:1e3,waterQuality:85,temperature:12.6,lastMaintenance:"2025-02-22",nextMaintenance:"2025-02-28",batches:[]}];function Gn(){const[t,a]=c.useState(null),[s,i]=c.useState(!1),[r,n]=c.useState(null),o=d=>{switch(d){case"active":return"bg-emerald-500/20 text-emerald-300";case"maintenance":return"bg-yellow-500/20 text-yellow-300";case"error":return"bg-red-500/20 text-red-300";default:return"bg-white/20 text-white"}},x=()=>{n(t),i(!0)},m=()=>{r&&(Xs.map(d=>d.id===r.id?r:d),a(r),i(!1),n(null))},u=()=>{i(!1),n(null)},l=(d,h)=>{r&&n({...r,[d]:h})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white",children:"État des bassins de purification"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Xs.map(d=>e.jsxs(Qa,{onClick:()=>a(d),className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(lt,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${o(d.filterStatus)}`,children:d.filterStatus==="active"?"Actif":d.filterStatus==="maintenance"?"Maintenance":"Erreur"}),e.jsxs("span",{className:"text-xs text-white/60",children:[e.jsx(se,{size:12,className:"inline mr-1"}),d.filterType]})]})]})]}),d.batches.length>0&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Lot en cours"}),e.jsx("div",{className:"text-white font-medium",children:d.batches[0].number}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60 mt-1",children:[e.jsx(ya,{size:12}),e.jsxs("span",{children:["Reste ",d.batches[0].remainingTime,"h"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-1",children:[e.jsx(Je,{size:14}),e.jsx("span",{children:"Température"})]}),e.jsxs("div",{className:"text-white font-medium",children:[d.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-1",children:[e.jsx(Ht,{size:14}),e.jsx("span",{children:"Qualité eau"})]}),e.jsxs("div",{className:`text-white font-medium ${d.waterQuality>=95?"text-emerald-400":d.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[d.waterQuality,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-1",children:[e.jsx(J,{size:14}),e.jsx("span",{children:"Occupation"})]}),e.jsxs("div",{className:"text-white font-medium",children:[Math.round(d.currentOccupancy/d.capacity*100),"%"]}),e.jsxs("div",{className:"text-xs text-white/60",children:[d.currentOccupancy,"/",d.capacity]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Maintenance"}),e.jsx("div",{className:"text-white font-medium",children:new Date(d.nextMaintenance).toLocaleDateString("fr-FR")})]})]})]},d.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(lt,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${o(t.filterStatus)}`,children:t.filterStatus==="active"?"Actif":t.filterStatus==="maintenance"?"Maintenance":"Erreur"}),e.jsxs("span",{className:"text-xs text-white/60",children:[e.jsx(se,{size:12,className:"inline mr-1"}),t.filterType]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:x,className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(De,{size:20,className:"mr-2"}),"Modifier"]}),e.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(L,{className:"text-white/60",size:20})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-2",children:[e.jsx(Je,{size:16}),e.jsx("span",{children:"Température"})]}),e.jsxs("div",{className:"text-2xl font-medium text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-2",children:[e.jsx(Ht,{size:16}),e.jsx("span",{children:"Qualité eau"})]}),e.jsxs("div",{className:`text-2xl font-medium ${t.waterQuality>=95?"text-emerald-400":t.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality,"%"]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Lots en cours"}),e.jsx("div",{className:"space-y-3",children:t.batches.length===0?e.jsx("div",{className:"text-center py-4 text-white/60",children:"Aucun lot en cours dans ce bassin"}):t.batches.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:d.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[d.quantity," kg"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[d.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]},d.id))})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Maintenance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Dernière maintenance"}),e.jsx("div",{className:"text-white font-medium",children:new Date(t.lastMaintenance).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Prochaine maintenance"}),e.jsx("div",{className:"text-white font-medium",children:new Date(t.nextMaintenance).toLocaleDateString("fr-FR")})]})]})]})]})]})}),s&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Modifier ",r.name]}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(L,{className:"text-white/60",size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du bassin"}),e.jsx(B,{type:"text",value:r.name,onChange:d=>l("name",d.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Type de filtre"}),e.jsx(B,{type:"text",value:r.filterType,onChange:d=>l("filterType",d.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Statut du filtre"}),e.jsxs("select",{value:r.filterStatus,onChange:d=>l("filterStatus",d.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"active",children:"Actif"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"error",children:"Erreur"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Capacité"}),e.jsx(B,{type:"number",value:r.capacity,onChange:d=>l("capacity",parseInt(d.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Température (°C)"}),e.jsx(B,{type:"number",step:"0.1",value:r.temperature,onChange:d=>l("temperature",parseFloat(d.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Prochaine maintenance"}),e.jsx(B,{type:"date",value:r.nextMaintenance,onChange:d=>l("nextMaintenance",d.target.value),className:"w-full"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 text-white hover:bg-white/5 rounded-lg transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-brand-blue hover:bg-brand-blue/90 rounded-lg text-white transition-colors",children:[e.jsx(Gt,{size:20,className:"mr-2"}),"Enregistrer"]})]})]})]})})]})}const Ys=[{id:"1",type:"Palourdes",supplier:"Mareyeur Express",quantity:500,unit:"kg",purchaseDate:"2025-02-18",expiryDate:"2025-02-25",storageLocation:"Bassin A3",status:"fresh",batchNumber:"PAL-2025-001",price:12.5,quality:95},{id:"2",type:"Moules",supplier:"Fruits de Mer Pro",quantity:300,unit:"kg",purchaseDate:"2025-02-17",expiryDate:"2025-02-22",storageLocation:"Bassin B1",status:"warning",batchNumber:"MOU-2025-002",price:8.75,quality:88}],Xn={fresh:"bg-blue-400/20 text-blue-300",warning:"bg-blue-500/30 text-blue-400",expired:"bg-blue-600/20 text-blue-400"};function Yn(){const[t,a]=c.useState(null),[s,i]=c.useState(!1),[r,n]=c.useState(null),o=()=>{n(t),i(!0)},x=()=>{r&&(Ys.map(l=>l.id===r.id?r:l),a(r),i(!1),n(null))},m=()=>{i(!1),n(null)},u=(l,d)=>{r&&n({...r,[l]:d})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Ys.map(l=>e.jsxs("div",{onClick:()=>a(l),className:"bg-white/5 border border-blue-400/50 rounded-lg p-6 hover:border-blue-400/70 transition-colors cursor-pointer shadow-[0_0_5px_rgba(59,130,246,0.2)]",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(K,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.type}),e.jsx("div",{className:"text-sm text-white/60",children:l.supplier})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${Xn[l.status]}`,children:l.status==="fresh"?"Frais":l.status==="warning"?"À surveiller":"Périmé"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Quantité"}),e.jsxs("div",{className:"text-lg font-medium text-white",children:[l.quantity," ",l.unit]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"DLC"}),e.jsx("div",{className:"text-lg font-medium text-white",children:new Date(l.expiryDate).toLocaleDateString()})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(Se,{size:16,className:"mr-2"}),"Lot: ",l.batchNumber]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(K,{size:16,className:"mr-2"}),"Stockage: ",l.storageLocation]})]})]},l.id))}),t&&!s&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"relative w-full max-w-3xl bg-[rgb(var(--color-card))/95] border border-blue-400/50 shadow-[0_0_15px_rgba(59,130,246,0.3)] backdrop-blur-lg rounded-xl overflow-hidden p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Détails de l'achat"}),e.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(L,{className:"text-white/60",size:20})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Produit"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Fournisseur"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Quantité"}),e.jsxs("p",{className:"text-sm text-white mt-1",children:[t.quantity," ",t.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Date d'achat"}),e.jsx("p",{className:"text-sm text-white mt-1",children:new Date(t.purchaseDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Date d'expiration"}),e.jsx("p",{className:"text-sm text-white mt-1",children:new Date(t.expiryDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Emplacement de stockage"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.storageLocation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Numéro de lot"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.batchNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Prix unitaire"}),e.jsxs("p",{className:"text-sm text-white mt-1",children:[t.price,"€/",t.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Qualité"}),e.jsxs("p",{className:"text-sm text-white mt-1",children:[t.quality,"%"]})]})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-6",children:e.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-brand-burgundy hover:bg-brand-burgundy/90 rounded-lg text-white transition-colors",children:[e.jsx(De,{size:20,className:"mr-2"}),"Modifier"]})})]})}),s&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"relative w-full max-w-3xl bg-[rgb(var(--color-card))/95] border border-blue-400/50 shadow-[0_0_15px_rgba(59,130,246,0.3)] backdrop-blur-lg rounded-xl overflow-hidden p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Modifier l'achat"}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(L,{className:"text-white/60",size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Type"}),e.jsx(B,{type:"text",value:r.type,onChange:l=>u("type",l.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Fournisseur"}),e.jsx(B,{type:"text",value:r.supplier,onChange:l=>u("supplier",l.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Quantité"}),e.jsx(B,{type:"number",value:r.quantity,onChange:l=>u("quantity",parseInt(l.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Unité"}),e.jsx(B,{type:"text",value:r.unit,onChange:l=>u("unit",l.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Date d'achat"}),e.jsx(B,{type:"date",value:r.purchaseDate,onChange:l=>u("purchaseDate",l.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Date d'expiration"}),e.jsx(B,{type:"date",value:r.expiryDate,onChange:l=>u("expiryDate",l.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Emplacement de stockage"}),e.jsx(B,{type:"text",value:r.storageLocation,onChange:l=>u("storageLocation",l.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Numéro de lot"}),e.jsx(B,{type:"text",value:r.batchNumber,onChange:l=>u("batchNumber",l.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Prix unitaire (€)"}),e.jsx(B,{type:"number",step:"0.01",value:r.price,onChange:l=>u("price",parseFloat(l.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Qualité (%)"}),e.jsx(B,{type:"number",min:"0",max:"100",value:r.quality,onChange:l=>u("quality",parseInt(l.target.value)),className:"w-full"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Statut"}),e.jsxs("select",{value:r.status,onChange:l=>u("status",l.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-4 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"fresh",children:"Frais"}),e.jsx("option",{value:"warning",children:"À surveiller"}),e.jsx("option",{value:"expired",children:"Périmé"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-white hover:bg-white/5 rounded-lg transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:x,className:"flex items-center px-4 py-2 bg-brand-burgundy hover:bg-brand-burgundy/90 rounded-lg text-white transition-colors",children:[e.jsx(Gt,{size:20,className:"mr-2"}),"Enregistrer"]})]})]})]})})]})}function Wn(){var i,r,n;const[t,a]=c.useState(null),s={"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Frigo 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(ne,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"500 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"65%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Frigo 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(ne,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"300 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"30%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Congélateur 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Pe,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"200 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"85%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Congélateur 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Pe,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"150 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"40%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Remise"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:e.jsx(K,{size:18,className:"text-amber-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),e.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"1000 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"55%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Cave"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:e.jsx(ve,{size:18,className:"text-purple-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),e.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"800 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"25%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${t.includes("Frigo")?"bg-blue-500/20":t.includes("Congélateur")?"bg-cyan-500/20":t==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:t.includes("Frigo")?e.jsx(ne,{size:20,className:"text-blue-400"}):t.includes("Congélateur")?e.jsx(Pe,{size:20,className:"text-cyan-400"}):t==="Remise"?e.jsx(K,{size:20,className:"text-amber-400"}):e.jsx(ve,{size:20,className:"text-purple-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:t})]}),e.jsx("button",{onClick:()=>a(null),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})]}),e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsx("div",{children:e.jsxs("p",{className:"text-white/70",children:[(i=s[t])==null?void 0:i.length," produits stockés"]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[e.jsx("div",{children:"Produit"}),e.jsx("div",{children:"Quantité"}),e.jsx("div",{children:"Date d'arrivée"}),e.jsx("div",{children:"DLC"})]}),((r=s[t])==null?void 0:r.length)>0?(n=s[t])==null?void 0:n.map(o=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsx("div",{children:o.quantity}),e.jsx("div",{children:o.arrivalDate}),e.jsx("div",{children:o.expiryDate==="N/A"?e.jsx("span",{className:"text-white/50",children:"N/A"}):e.jsx("span",{className:`${new Date(o.expiryDate)<new Date?"text-red-400":new Date(o.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:o.expiryDate})})]},o.id)):e.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})})]})}function Zn({onClose:t}){const[a,s]=c.useState({start:"",end:""}),[i,r]=c.useState(null),n=()=>{const o={producer:"OYSTER CULT",dateRange:a,timestamp:new Date().toISOString()},x=`https://api.oystercult.com/trace/${btoa(JSON.stringify(o))}`;r(x)};return e.jsx(xe,{isOpen:!0,onClose:t,title:"Générer un QR Code",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Période de traçabilité"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:a.start,onChange:o=>s({...a,start:o.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:a.end,onChange:o=>s({...a,end:o.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),i?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg",children:e.jsx("div",{className:"w-full aspect-square bg-white flex items-center justify-center",children:"QR Code"})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:()=>{},className:"flex-1 flex items-center justify-center px-4 py-2 bg-white/10 rounded-lg text-white",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Télécharger"]}),e.jsxs("button",{onClick:()=>{},className:"flex-1 flex items-center justify-center px-4 py-2 bg-white/10 rounded-lg text-white",children:[e.jsx(pa,{size:20,className:"mr-2"}),"Partager"]})]})]}):e.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white",children:"Générer le QR Code"})]})})}const Kn=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function ed(){const[t,a]=c.useState(""),[s,i]=c.useState("all"),[r,n]=c.useState({start:"",end:""}),[o,x]=c.useState(null),[m,u]=c.useState(!1),l=v=>{x(v),u(!0)},d=()=>{u(!1),x(null)},h=Kn.filter(v=>{const k=v.number.toLowerCase().includes(t.toLowerCase())||v.supplier.toLowerCase().includes(t.toLowerCase())||v.products.toLowerCase().includes(t.toLowerCase()),F=s==="all"||v.type===s,w=(!r.start||v.date>=r.start)&&(!r.end||v.date<=r.end);return k&&F&&w}),p=v=>{switch(v){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},b=v=>{switch(v){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return v}},f=v=>{switch(v){case"invoice":return"Facture";case"delivery_note":return"Bon de livraison";default:return v}},g=v=>new Date(v).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(W,{className:"h-5 w-5 text-white/40"})}),e.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:t,onChange:v=>a(v.target.value)})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-48",children:e.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:s,onChange:v=>i(v.target.value),children:[e.jsx("option",{value:"all",children:"Tous les documents"}),e.jsx("option",{value:"invoice",children:"Factures"}),e.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Exporter"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:v=>n(k=>({...k,start:v.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:v=>n(k=>({...k,end:v.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtrer"]})]}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[e.jsx("thead",{className:"bg-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Type"}),e.jsx(et,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Numéro"}),e.jsx(et,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Date"}),e.jsx(et,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Fournisseur"}),e.jsx(et,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Produits"}),e.jsx(et,{size:14})]})}),s!=="delivery_note"&&e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Montant"}),e.jsx(et,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-white/60 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/10",children:[h.map(v=>e.jsxs("tr",{className:"hover:bg-white/5",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2 text-brand-primary"}),e.jsx("span",{className:"text-white",children:f(v.type)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:v.number}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:g(v.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:v.supplier}),e.jsx("td",{className:"px-6 py-4 text-white",children:v.products}),s!=="delivery_note"&&v.type==="invoice"&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:v.amount}),s!=="delivery_note"&&v.type==="delivery_note"&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p(v.status)}`,children:b(v.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80",onClick:()=>l(v),title:"Voir le document",children:e.jsx(_e,{size:16})})})]},v.id)),h.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-white/60",children:"Aucun document trouvé correspondant aux critères de recherche."})})]})]})})}),m&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:[o.type==="invoice"?"Facture":"Bon de livraison"," - ",o.number]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-white/10 rounded-full",children:e.jsx(L,{size:24,className:"text-white"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Fournisseur"}),e.jsx("p",{className:"text-white font-medium",children:o.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Date"}),e.jsx("p",{className:"text-white font-medium",children:g(o.date)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Produits"}),e.jsx("p",{className:"text-white font-medium",children:o.products})]}),o.type==="invoice"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Montant"}),e.jsx("p",{className:"text-white font-medium",children:o.amount})]}),o.type==="delivery_note"&&o.expiryDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Date Limite de Consommation"}),e.jsx("p",{className:"text-white font-medium",children:g(o.expiryDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Statut"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p(o.status)}`,children:b(o.status)})]})]}),e.jsxs("div",{className:"border border-white/10 rounded-lg p-6 mb-6 bg-white/5",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(oe,{size:64,className:"text-brand-primary mb-4"})}),e.jsx("p",{className:"text-center text-white/60 mb-4",children:"Aperçu du document"}),e.jsxs("p",{className:"text-center text-white mb-4",children:[o.type==="invoice"?"Facture":"Bon de livraison"," ",o.number," du fournisseur ",o.supplier]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{className:"px-4 py-2 bg-brand-blue/20 border border-brand-blue/30 rounded-lg text-white hover:bg-brand-blue/30 transition-colors",children:[e.jsx(fe,{size:16,className:"inline-block mr-2"}),"Télécharger le document"]})})]})]})})]})}function td(){const[t,a]=c.useState("batches"),[s,i]=c.useState(!1);c.useState(!1);const[r,n]=c.useState({start:T(new Date,"yyyy-MM-dd"),end:T(new Date,"yyyy-MM-dd")}),o=c.useRef(null),{addBatch:x}=Z();c.useEffect(()=>{x({batchNumber:"LOT-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date(Date.now()-1e3*60*60*2).toISOString()}),x({batchNumber:"LOT-002",type:"Creuses",quantity:150,status:"table1",perchNumber:2,startDate:new Date(Date.now()-1e3*60*60*25).toISOString()}),x({batchNumber:"LOT-003",type:"Plates",quantity:200,status:"table2",perchNumber:1,startDate:new Date(Date.now()-1e3*60*60*12).toISOString()})},[]);const m=()=>{const l=new lr,d="OYSTER CULT",h=T(new Date,"PPP",{locale:I});l.setFontSize(20),l.text(d,105,20,{align:"center"}),l.setFontSize(12),l.text(`Rapport de traçabilité - ${h}`,105,30,{align:"center"}),l.setFontSize(14),l.text("Période du rapport:",14,45),l.text(`${T(new Date(r.start),"PPP",{locale:I})} au ${T(new Date(r.end),"PPP",{locale:I})}`,14,55),l.setFontSize(16),l.text("Lots en cours dans les bassins",14,70);const p=[["Bassin","N° Lot","Type","Quantité","Temps restant","Qualité"],["Bassin A1","LOT-2025-001","Plates","500 kg","12h","98%"],["Bassin A1","LOT-2025-002","Creuses","300 kg","24h","95%"],["Bassin A2","LOT-2025-003","Spéciales","600 kg","4h","92%"]];l.autoTable({startY:75,head:[p[0]],body:p.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}}),l.setFontSize(16),l.text("Achats et stockage",14,l.lastAutoTable.finalY+20);const b=[["Produit","Fournisseur","DLC","Stockage","Qualité"],["Palourdes","Mareyeur Express","25/02/2025","Bassin A3","95%"],["Moules","Fruits de Mer Pro","22/02/2025","Bassin B1","92%"]];l.autoTable({startY:l.lastAutoTable.finalY+25,head:[b[0]],body:b.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}}),l.setFontSize(16),l.text("Maintenance des bassins",14,l.lastAutoTable.finalY+20);const f=[["Bassin","Dernier nettoyage","Prochain nettoyage","État filtre","Qualité eau"],["Bassin A1","15/02/2025","22/02/2025","Optimal","98%"],["Bassin A2","10/02/2025","17/02/2025","À vérifier","92%"]];l.autoTable({startY:l.lastAutoTable.finalY+25,head:[f[0]],body:f.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}}),l.setFontSize(16),l.text("Contrôles qualité",14,l.lastAutoTable.finalY+20);const g=[["Date","Lot","Score","Inspecteur","Observations"],["19/02/2025","LOT-2025-001","92%","Marie Martin","RAS"],["19/02/2025","LOT-2025-002","88%","Jean Dupont","Surveillance accrue"]];l.autoTable({startY:l.lastAutoTable.finalY+25,head:[g[0]],body:g.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}});const v=l.getNumberOfPages();for(let k=1;k<=v;k++)l.setPage(k),l.setFontSize(10),l.text(`Page ${k} sur ${v}`,l.internal.pageSize.width/2,l.internal.pageSize.height-10,{align:"center"}),l.text(`Généré le ${T(new Date,"PPPp",{locale:I})}`,14,l.internal.pageSize.height-10);l.save(`tracabilite_${T(new Date,"yyyy-MM-dd")}.pdf`)},u=[{id:"batches",label:"Lots en cours",icon:K},{id:"pools",label:"Bassins",icon:lt},{id:"storage",label:"Autres emplacements",icon:Ps},{id:"market",label:"Achats",icon:Fs},{id:"invoices",label:"Factures et BL",icon:oe},{id:"history",label:"Historique",icon:Ue}];return e.jsxs("div",{ref:o,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Traçabilité"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Wt,{size:20,className:"mr-2"}),"QR Code"]}),e.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Télécharger la traçabilité"]})]})]}),e.jsx("div",{className:"flex items-center space-x-4 border-b border-white/10",children:u.map(l=>e.jsx("button",{onClick:()=>a(l.id),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t===l.id?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l.icon,{size:16,className:"mr-2"}),l.label]})},l.id))}),t==="history"&&e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:l=>n(d=>({...d,start:l.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:l=>n(d=>({...d,end:l.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtrer"]})]}),t==="batches"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(K,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Lots en trempe"})]})}),e.jsx(Vn,{searchQuery:""})]}),t==="pools"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(lt,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Bassins de purification"})]})}),e.jsx(Gn,{})]}),t==="storage"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(Ps,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Autres emplacements de stockage"})]})}),e.jsx(Wn,{})]}),t==="market"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(Fs,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Achats"})]})}),e.jsx(Yn,{})]}),t==="invoices"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(oe,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Factures et bons de livraison"})]})}),e.jsx(ed,{})]}),t==="history"&&e.jsx(Jn,{searchQuery:""}),s&&e.jsx(Zn,{onClose:()=>i(!1)})]})}const sd=[{month:"Jan",ventes:45e3,objectif:5e4},{month:"Fév",ventes:52e3,objectif:5e4},{month:"Mar",ventes:48e3,objectif:5e4},{month:"Avr",ventes:51e3,objectif:5e4},{month:"Mai",ventes:58e3,objectif:5e4},{month:"Juin",ventes:53e3,objectif:5e4}],ad=[{name:"Huîtres Plates",value:40},{name:"Huîtres Creuses",value:45},{name:"Huîtres Spéciales",value:15}],id=[{key:"ventes",name:"Ventes",color:"#00D1FF"},{key:"objectif",name:"Objectif",color:"#7000FF"}],rd=[{key:"value",name:"Répartition",color:"#00D1FF"}];function ld(){const[t,a]=c.useState(!0),[s,i]=c.useState("");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Ventes"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"btn-secondary",children:[e.jsx(ys,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{className:"btn-primary",children:[e.jsx(V,{size:20,className:"mr-2"}),"Nouvelle Vente"]})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsx(Ee,{icon:e.jsx(rt,{size:24}),label:"Chiffre d'affaires",value:"307,500€",trend:{value:12.5,positive:!0},color:"primary"}),e.jsx(Ee,{icon:e.jsx(K,{size:24}),label:"Commandes",value:"156",color:"secondary"}),e.jsx(Ee,{icon:e.jsx(nr,{size:24}),label:"Panier moyen",value:"1,972€",trend:{value:8.3,positive:!0},color:"tertiary"}),e.jsx(Ee,{icon:e.jsx(me,{size:24}),label:"Clients actifs",value:"89",color:"primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(ft,{title:"Évolution des ventes",type:"bar",data:sd,series:id,height:320}),e.jsx(ft,{title:"Répartition des ventes",type:"pie",data:ad,series:rd,height:320})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(W,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:r=>i(r.target.value),placeholder:"Rechercher une vente...",className:"input-modern w-full pl-10"})]}),e.jsxs("button",{className:"btn-secondary",children:[e.jsx(se,{size:20,className:"mr-2"}),"Filtres"]})]}),e.jsxs("div",{className:"glass-effect rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des ventes"})}),e.jsx("div",{className:"divide-y divide-white/10",children:[1,2,3,4,5].map(r=>e.jsx("div",{className:"p-6 hover:bg-white/5 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(K,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium text-white",children:["Commande #00",r]}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Restaurant La Marée"}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[e.jsx("span",{children:"15/02/2025"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"1,500€"}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"px-2 py-1 bg-brand-primary/20 text-brand-primary rounded-full text-xs",children:"Payée"})]})]})]})})},r))})]})]})}const Ws=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,freshness:5,quality:4,packaging:4.5}}];function nd({purchase:t,onClose:a}){const[s,i]=c.useState("comments"),[r,n]=c.useState(""),[o,x]=c.useState({overall:0,freshness:0,quality:0,packaging:0}),m=h=>{h.preventDefault(),r.trim()&&n("")},u=(h,p)=>{x(b=>({...b,[h]:p}))},l=h=>{h.preventDefault()},d=(h,p)=>e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(b=>e.jsx("button",{onClick:()=>p==null?void 0:p(b),className:`text-lg ${b<=h?"text-yellow-400":"text-white/20"}`,children:"★"},b))});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>i("comments"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${s==="comments"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{size:16,className:"mr-2"}),"Commentaires"]})}),e.jsx("button",{onClick:()=>i("ratings"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${s==="ratings"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{size:16,className:"mr-2"}),"Évaluation"]})})]}),s==="comments"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:Ws.filter(h=>h.type==="comment").map(h=>e.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:h.author.avatar?e.jsx("img",{src:h.author.avatar,alt:h.author.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-sm font-medium",children:h.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:h.author.name}),e.jsx("span",{className:"text-white/60 text-sm ml-2",children:T(new Date(h.timestamp),"PPp",{locale:I})})]})}),e.jsx("p",{className:"text-white/80 mt-2",children:h.content}),h.attachments&&h.attachments.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:h.attachments.map((p,b)=>e.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 bg-white/5 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:[e.jsx(ja,{size:16,className:"mr-2"}),p.name]},b))})]})]})},h.id))}),e.jsx("form",{onSubmit:m,className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:r,onChange:h=>n(h.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[e.jsx("button",{type:"button",className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(fa,{size:20})}),e.jsx("button",{type:"submit",disabled:!r.trim(),className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Nt,{size:20})})]})]})})]}),s==="ratings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:Ws.filter(h=>h.type==="rating").map(h=>{var p,b,f,g;return e.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:h.author.avatar?e.jsx("img",{src:h.author.avatar,alt:h.author.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-sm font-medium",children:h.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:h.author.name}),e.jsx("span",{className:"text-white/60 text-sm ml-2",children:T(new Date(h.timestamp),"PPp",{locale:I})})]})}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Note globale"}),d(((p=h.rating)==null?void 0:p.overall)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),d(((b=h.rating)==null?void 0:b.freshness)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Qualité"}),d(((f=h.rating)==null?void 0:f.quality)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Emballage"}),d(((g=h.rating)==null?void 0:g.packaging)||0)]})]})]})]})},h.id)})}),e.jsxs("form",{onSubmit:l,className:"bg-white/5 rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"text-white font-medium",children:"Nouvelle évaluation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Note globale"}),d(o.overall,h=>u("overall",h))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),d(o.freshness,h=>u("freshness",h))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Qualité"}),d(o.quality,h=>u("quality",h))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Emballage"}),d(o.packaging,h=>u("packaging",h))]})]}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'évaluation"})]})]})]})}function dd({order:t,onClose:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Commenter la commande ",t.id]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(L,{className:"text-white/60",size:20})})]}),e.jsx(nd,{purchase:t,onClose:a})]})}):null}function cd(){const[t,a]=c.useState(""),[s,i]=c.useState(null),[r,n]=c.useState(null),[o,x]=c.useState(!1),[m,u]=c.useState(0),[l,d]=c.useState({supplier:"",product:"",expiryDate:"",invoice:null}),h=g=>{switch(g){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},p=g=>{var k;const v=(k=g.target.files)==null?void 0:k[0];v&&d(F=>({...F,invoice:v}))},b=g=>{g.preventDefault(),console.log("Nouveau achat:",{...l,rating:m}),x(!1),d({supplier:"",product:"",expiryDate:"",invoice:null}),u(0)},f=[{id:"2024-0131",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:"180kg",status:"pending",icon:J,stockLocation:"En attente",lastUpdate:"01/03/2024 14:30"},{id:"2024-0130",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:"65kg",status:"confirmed",icon:J,stockLocation:"En attente",lastUpdate:"01/03/2024 11:20"},{id:"2024-0129",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:"90kg",status:"dispatched",icon:J,stockLocation:"En transit",lastUpdate:"01/03/2024 09:45"},{id:"2024-0128",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:"40kg",status:"in_transit",icon:J,stockLocation:"En transit",lastUpdate:"01/03/2024 08:15"},{id:"2024-0127",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:"200kg",status:"pending",icon:J,stockLocation:"En attente",lastUpdate:"01/03/2024 09:15"},{id:"2024-0126",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:"150kg",status:"confirmed",icon:J,stockLocation:"En attente",lastUpdate:"28/02/2024 16:45"},{id:"2024-0125",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:"50kg",status:"dispatched",icon:J,stockLocation:"En transit",lastUpdate:"28/02/2024 08:30"},{id:"2024-0124",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:"60kg",status:"in_transit",icon:J,stockLocation:"En transit",lastUpdate:"27/02/2024 19:00"},{id:"2024-0123",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:"100kg",status:"pending",icon:J,stockLocation:"Bassin A3",lastUpdate:"26/02/2024 14:30"},{id:"2024-0122",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:"150kg",status:"confirmed",icon:J,stockLocation:"Bassin B1",lastUpdate:"26/02/2024 10:15"},{id:"2024-0121",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:"45kg",status:"delivered",icon:oa,stockLocation:"Trempage T2",lastUpdate:"25/02/2024 16:45"},{id:"2024-0120",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:"80kg",status:"completed",icon:J,stockLocation:"Bassin C2",lastUpdate:"24/02/2024 11:20"},{id:"2024-0119",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:"40kg",status:"completed",icon:J,stockLocation:"Zone D3",lastUpdate:"22/02/2024 15:40"}];return e.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(B,{type:"text",placeholder:"Rechercher une commande...",value:t,onChange:g=>a(g.target.value),className:"w-full",leftIcon:e.jsx(W,{className:"w-4 h-4"})})}),e.jsxs(G,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"})," Filtres"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:f.map(g=>e.jsx("div",{children:e.jsx(bt,{className:"overflow-hidden",children:e.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>i(s===g.id?null:g.id),children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${h(g.status).bgColor}`,children:g.icon&&e.jsx(g.icon,{className:`w-5 h-5 ${h(g.status).textColor}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-base font-medium text-white",children:g.product}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${h(g.status).bgColor} ${h(g.status).textColor}`,children:h(g.status).label})]}),e.jsxs("p",{className:"text-sm text-white/60",children:[g.supplier," • #",g.id," • Livraison le ",g.deliveryDate]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-base font-medium text-white",children:[g.price,"€"]}),e.jsx("p",{className:"text-sm text-white/60",children:g.quantity})]}),e.jsx(wt,{className:`w-5 h-5 text-white/40 transition-transform ${s===g.id?"rotate-90":""}`})]}),s===g.id&&e.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-white/10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Statut"}),e.jsx("p",{className:`text-sm text-white mt-1 ${h(g.status).textColor}`,children:h(g.status).label})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Date de commande"}),e.jsx("p",{className:"text-sm text-white mt-1",children:"25/02/2024"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Fournisseur"}),e.jsx("p",{className:"text-sm text-white mt-1",children:g.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Emplacement stock"}),e.jsx("p",{className:"text-sm text-white mt-1",children:g.stockLocation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Dernière mise à jour"}),e.jsx("p",{className:"text-sm text-white mt-1",children:g.lastUpdate})]})]}),e.jsx("div",{className:"flex justify-end mt-6 space-x-4",children:e.jsxs("button",{onClick:()=>n(g.id),className:"px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-white transition-colors flex items-center space-x-2",children:[e.jsx(Oe,{size:16,className:"mr-2"}),"Commenter"]})})]})]})})},g.id))}),r&&e.jsx(dd,{order:f.find(g=>g.id===r),onClose:()=>n(null)}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(L,{className:"text-white/60",size:20})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),e.jsx(B,{type:"text",value:l.supplier,onChange:g=>d(v=>({...v,supplier:g.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Produit"}),e.jsx(B,{type:"text",value:l.product,onChange:g=>d(v=>({...v,product:g.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),e.jsx(B,{type:"date",value:l.expiryDate,onChange:g=>d(v=>({...v,expiryDate:g.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(g=>e.jsx("button",{type:"button",onClick:()=>u(g),className:"focus:outline-none",children:e.jsx(je,{size:24,className:g<=m?"text-yellow-400 fill-yellow-400":"text-white/20"})},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:p,className:"hidden"}),e.jsx(ze,{className:"w-5 h-5 text-white/60 mr-2"}),e.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(Xt,{className:"w-4 h-4"}),"Photo"]}),e.jsxs(G,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(ca,{className:"w-4 h-4"}),"Scanner"]})]}),l.invoice&&e.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",l.invoice.name]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(G,{type:"button",variant:"ghost",onClick:()=>x(!1),children:"Annuler"}),e.jsx(G,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function od(){var r;const[t,a]=c.useState(!1),{session:s}=Z(),i=n=>{n.preventDefault(),a(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(r=s==null?void 0:s.user)!=null&&r.avatar_url?e.jsx("img",{src:s.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx(Ut,{size:64,className:"text-brand-burgundy"})}),e.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[e.jsx(ze,{size:24}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Jean Dupont"}),e.jsx("p",{className:"text-white/60",children:"Responsable Production"}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),"jean.dupont@example.com"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(de,{size:16,className:"mr-2"}),"06 12 34 56 78"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(Yt,{size:16,className:"mr-2"}),"Zone Nord"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(te,{size:16,className:"mr-2"}),"Embauché le 15/01/2024"]})]})]}),e.jsx("button",{onClick:()=>a(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t?"Annuler":"Modifier"})]}),t?e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{type:"text",defaultValue:"Jean",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{type:"text",defaultValue:"Dupont",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",defaultValue:"jean.dupont@example.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",defaultValue:"06 12 34 56 78",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsx("textarea",{rows:3,defaultValue:"123 Rue de la Mer, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),e.jsx("div",{className:"text-white mt-1",children:"123 Rue de la Mer, 34140 Bouzigues"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Contact d'urgence"}),e.jsx("div",{className:"text-white mt-1",children:"Marie Dupont - 06 98 76 54 32"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),e.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function xd(){const[t,a]=c.useState(!1),[s,i]=c.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),e.jsx("button",{onClick:()=>a(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),t&&e.jsxs("form",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),e.jsx("button",{onClick:()=>i(!s),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),s&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(va,{size:20,className:"text-white/60 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(dr,{size:20,className:"text-white/60 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),e.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),e.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),e.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),e.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),e.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),e.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),e.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const md=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],hd={login:cr,settings:Ge,document:oe,notification:Ie};function ud(){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),e.jsx("div",{className:"divide-y divide-white/10",children:md.map(t=>{const a=hd[t.type];return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(a,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("h4",{className:"text-lg font-medium text-white",children:t.action})}),t.details&&e.jsx("p",{className:"text-white/70 mt-1",children:t.details}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:16,className:"mr-1"}),T(new Date(t.timestamp),"PPp",{locale:I})]}),t.location&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{children:t.location})]}),t.device&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{children:t.device})]})]})]})]})},t.id)})})]})})}function pd(){const[t,a]=c.useState([]),[s,i]=c.useState("csv"),[r,n]=c.useState({start:"",end:""}),o=()=>{console.log("Exporting data:",{selectedData:t,format:s,dateRange:r})};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("tasks"),onChange:x=>{x.target.checked?a([...t,"tasks"]):a(t.filter(m=>m!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Tâches"}),e.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("inventory"),onChange:x=>{x.target.checked?a([...t,"inventory"]):a(t.filter(m=>m!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),e.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("time"),onChange:x=>{x.target.checked?a([...t,"time"]):a(t.filter(m=>m!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),e.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("activity"),onChange:x=>{x.target.checked?a([...t,"activity"]):a(t.filter(m=>m!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Activité"}),e.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"format",value:"csv",checked:s==="csv",onChange:x=>i(x.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),e.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"format",value:"json",checked:s==="json",onChange:x=>i(x.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),e.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:x=>n({...r,start:x.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:x=>n({...r,end:x.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(he,{size:20,className:"text-yellow-400 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),e.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:o,disabled:t.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function bd(){var i;const{session:t}=Z(),a=gd((i=t==null?void 0:t.user)==null?void 0:i.id),s=()=>{navigator.clipboard.writeText(a)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),e.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:e.jsx(me,{size:24,className:"text-brand-burgundy"})})]}),e.jsx("div",{className:"mt-8 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),e.jsx(j.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:e.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:a})})]})}),e.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[e.jsxs(j.button,{onClick:s,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(or,{size:20,className:"mr-2"}),"Copier le code"]}),e.jsxs(j.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Wt,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),e.jsxs("ol",{className:"space-y-2 text-white/60",children:[e.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),e.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),e.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function gd(t){var i;return t&&((i=(Array.from(t).reduce((r,n)=>(r<<5)-r+n.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:i.join("-"))||"XXXX-XXXX-XXXX"}function jd(){const[t,a]=c.useState("info");return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mon Espace"})}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ut,{size:16,className:"mr-2"}),"Informations"]})}),e.jsx("button",{onClick:()=>a("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{size:16,className:"mr-2"}),"Code ami"]})}),e.jsx("button",{onClick:()=>a("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(wa,{size:16,className:"mr-2"}),"Sécurité"]})}),e.jsx("button",{onClick:()=>a("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ue,{size:16,className:"mr-2"}),"Activité"]})}),e.jsx("button",{onClick:()=>a("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:16,className:"mr-2"}),"Export"]})})]}),t==="info"&&e.jsx(od,{}),t==="friend-code"&&e.jsx(bd,{}),t==="security"&&e.jsx(xd,{}),t==="activity"&&e.jsx(ud,{}),t==="export"&&e.jsx(pd,{})]})}const tt="oystercult_cart";function Ua(){const[t,a]=c.useState([]),[s,i]=c.useState(!1);return c.useEffect(()=>{const m=localStorage.getItem(tt);if(m)try{a(JSON.parse(m))}catch(u){console.error("Erreur lors du chargement du panier:",u),localStorage.removeItem(tt)}},[]),{cartItems:t,addToCart:(m,u)=>{const l=[...t],d=l.find(h=>h.productId===m);d?d.quantity=u:l.push({productId:m,quantity:u}),a(l),localStorage.setItem(tt,JSON.stringify(l))},removeFromCart:m=>{const u=t.filter(l=>l.productId!==m);a(u),u.length===0?localStorage.removeItem(tt):localStorage.setItem(tt,JSON.stringify(u))},clearCart:()=>{a([]),localStorage.removeItem(tt)},isCartModalOpen:s,setIsCartModalOpen:()=>{i(!s)}}}function Ja({isOpen:t,onClose:a,items:s,products:i,onRemoveItem:r,onClearCart:n}){if(!t)return null;const o=s.reduce((m,u)=>{const l=i.find(d=>d.id===u.productId);return m+(l?l.price*u.quantity:0)},0),x=()=>{n(),a()};return e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[e.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:e.jsx(L,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:s.length===0?e.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):e.jsx("div",{className:"space-y-4",children:s.map(m=>{const u=i.find(l=>l.id===m.productId);return u?e.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:u.name}),e.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[m.quantity," ",u.unit," × ",u.price.toFixed(2),"€"]}),e.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(m.quantity*u.price).toFixed(2),"€"]})]}),e.jsx("button",{onClick:()=>r(m.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:e.jsx(ce,{className:"w-4 h-4 text-red-500"})})]},m.productId):null})})}),s.length>0&&e.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),e.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[o.toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),e.jsxs("button",{onClick:x,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[e.jsx(xr,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const cs=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function fd(){const[t,a]=c.useState(""),[s,i]=c.useState("all"),[r,n]=c.useState(!1),{cartItems:o,addToCart:x,removeFromCart:m,clearCart:u,isCartModalOpen:l,setIsCartModalOpen:d}=Ua();c.useEffect(()=>{const b=f=>{r&&n(!1)};return document.addEventListener("click",b),()=>{document.removeEventListener("click",b)}},[r]);const h=["all",...new Set(cs.map(b=>b.category))],p=cs.filter(b=>{const f=s==="all"||b.category===s,g=b.name.toLowerCase().includes(t.toLowerCase())||b.description.toLowerCase().includes(t.toLowerCase());return f&&g});return e.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:[e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))]",children:e.jsx("div",{className:"max-w-[1400px] mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold text-[rgb(var(--color-text-primary))]",children:"Boutique"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",onClick:()=>d(),children:[e.jsx(gt,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),o.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:o.length})]})})]})})}),e.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pt-12 pb-24",children:[e.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]"}),e.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:t,onChange:b=>a(b.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))]"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!r),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:s==="all"?"Toutes catégories":s}),e.jsx(Ce,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),r&&e.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:e.jsx("div",{className:"p-1",children:h.map(b=>e.jsx("button",{onClick:()=>{i(b),n(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${s===b?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:e.jsx("span",{className:"capitalize",children:b==="all"?"Toutes catégories":b})},b))})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(b=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-white break-words",children:b.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:b.description})]}),e.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[b.price,"€"]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:b.features.map((f,g)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:f},g))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),e.jsx("div",{className:"space-y-2",children:Object.entries(b.specifications).map(([f,g])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:f}),e.jsx("span",{className:"text-white",children:g})]},f))})]}),e.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:f=>{parseInt(f.target.value,10)<0&&(f.target.value="0")}}),e.jsx("button",{onClick:f=>{const g=f.currentTarget.previousElementSibling,v=parseInt(g.value,10);v>0&&x(b.id,v)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},b.id))}),e.jsx(Ja,{isOpen:l,onClose:()=>d(!1),items:o,products:cs,onRemoveItem:m,onClearCart:()=>{u(),d(!1)}})]})]})}const wd=hr,vd=mr,Ga=c.forwardRef(({className:t,...a},s)=>e.jsx(ka,{className:Re("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));Ga.displayName=ka.displayName;const Xa=c.forwardRef(({className:t,...a},s)=>e.jsxs(vd,{children:[e.jsx(Ga,{}),e.jsx(Ca,{ref:s,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));Xa.displayName=Ca.displayName;const Ya=({className:t,...a})=>e.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",t),...a});Ya.displayName="AlertDialogHeader";const Wa=({className:t,...a})=>e.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});Wa.displayName="AlertDialogFooter";const Za=c.forwardRef(({className:t,...a},s)=>e.jsx(Sa,{ref:s,className:Re("text-lg font-semibold",t),...a}));Za.displayName=Sa.displayName;const Ka=c.forwardRef(({className:t,...a},s)=>e.jsx(za,{ref:s,className:Re("text-sm text-muted-foreground",t),...a}));Ka.displayName=za.displayName;const ei=c.forwardRef(({className:t,...a},s)=>e.jsx(Da,{ref:s,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...a}));ei.displayName=Da.displayName;const ti=c.forwardRef(({className:t,...a},s)=>e.jsx(Ma,{ref:s,className:Re("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",t),...a}));ti.displayName=Ma.displayName;function Nd({supplier:t,onDelete:a,onViewCatalog:s}){const[i,r]=c.useState(!1),n=t.name.split(" ").map(m=>m[0]).join(""),x=(m=>{let u=0;for(let h=0;h<m.length;h++)u=m.charCodeAt(h)+((u<<5)-u);const l=(u&255)%60+220,d=(u&255)%40+180;return{from:`hsl(${l}, 70%, 65%)`,to:`hsl(${d}, 80%, 40%)`,text:`hsl(${l-10}, 80%, 75%)`}})(t.name);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full bg-[#1a1c25] rounded-xl shadow-lg overflow-hidden border border-[#2a2d3a] hover:border-[#3f4864] transition-all duration-300 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-24 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${x.from}20 0%, ${x.to}40 100%)`},children:e.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold shadow-md transform group-hover:scale-105 transition-transform duration-300",style:{background:`linear-gradient(135deg, ${x.from} 0%, ${x.to} 100%)`,color:"white",textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:n})}),t.is_friend&&e.jsxs("div",{className:"absolute top-2 right-2 bg-emerald-500/10 backdrop-blur-sm rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-emerald-500/10 shadow-sm",children:[e.jsx(ur,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Ami"})]})]}),e.jsxs("div",{className:"p-4 flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:t.name}),e.jsx("div",{className:"text-xs opacity-70 mb-1",children:t.friend_code&&e.jsxs("div",{className:"inline-flex items-center gap-1 mr-3 mb-2",children:[e.jsx(Yt,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-mono text-xs",children:t.friend_code})]})}),e.jsxs("div",{className:"space-y-2 flex-grow text-[#a0a3b8]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-3.5 h-3.5 shrink-0 text-[#8b8fa8]"}),e.jsx("span",{className:"text-xs truncate",children:t.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-3.5 h-3.5 shrink-0 text-[#8b8fa8]"}),e.jsx("span",{className:"text-xs",children:t.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-3.5 h-3.5 shrink-0 text-[#8b8fa8]"}),e.jsx("span",{className:"text-xs truncate",children:t.address})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-[#2a2d3a]",children:[e.jsxs("button",{onClick:()=>s(t.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 group-hover:translate-y-[-2px]",style:{background:`linear-gradient(135deg, ${x.from}30 0%, ${x.to}50 100%)`,color:x.text,boxShadow:`0 4px 10px -2px ${x.to}20`},children:[e.jsx(pr,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),e.jsx("button",{onClick:()=>r(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors duration-200",children:e.jsx(ce,{className:"w-4 h-4"})})]})]})]}),e.jsx(wd,{open:i,onOpenChange:r,children:e.jsxs(Xa,{children:[e.jsxs(Ya,{children:[e.jsx(Za,{children:"Confirmer la suppression"}),e.jsx(Ka,{children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),e.jsxs(Wa,{children:[e.jsx(ti,{children:"Annuler"}),e.jsx(ei,{onClick:()=>{a(t.id),r(!1)},className:"bg-red-500 hover:bg-red-600",children:"Supprimer"})]})]})})]})}const pt=c.forwardRef(({className:t,...a},s)=>e.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t||""}`,ref:s,...a}));pt.displayName="Label";function yd({open:t,onOpenChange:a,editingSupplier:s}){const{addSupplier:i,updateSupplier:r}=Zt(),n=!!s,[o,x]=c.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||""}),[m,u]=c.useState(!1),[l,d]=c.useState({}),h=f=>{const{name:g,value:v}=f.target;x(k=>({...k,[g]:v})),l[g]&&d(k=>{const F={...k};return delete F[g],F})},p=()=>{const f={};return o.name.trim()||(f.name="Le nom est requis"),o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(f.email="Format d'email invalide"):f.email="L'email est requis",o.phone.trim()||(f.phone="Le téléphone est requis"),o.address.trim()||(f.address="L'adresse est requise"),d(f),Object.keys(f).length===0},b=async f=>{if(f.preventDefault(),!!p()){u(!0);try{n&&s?await r.mutateAsync({id:s.id,...o}):await i.mutateAsync(o),a(!1),x({name:"",email:"",phone:"",address:""})}catch(g){console.error("Error saving supplier:",g)}finally{u(!1)}}};return e.jsx(Ra,{open:t,onOpenChange:a,children:e.jsxs(Cs,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",children:[e.jsxs(Ss,{children:[e.jsx(zs,{className:"text-white",children:n?"Modifier le fournisseur":"Ajouter un fournisseur"}),e.jsx($a,{children:n?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),e.jsxs("form",{onSubmit:b,className:"space-y-5 my-2",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(pt,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(yt,{className:"h-3.5 w-3.5 text-indigo-400"}),"Nom du fournisseur"]}),e.jsx(B,{id:"name",name:"name",value:o.name,onChange:h,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${l.name?"border-red-500":""}`}),l.name&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:l.name})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(pt,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(we,{className:"h-3.5 w-3.5 text-indigo-400"}),"Email"]}),e.jsx(B,{id:"email",name:"email",type:"email",value:o.email,onChange:h,placeholder:"contact@atlantique-coquillages.fr",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${l.email?"border-red-500":""}`}),l.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:l.email})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(pt,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(de,{className:"h-3.5 w-3.5 text-indigo-400"}),"Téléphone"]}),e.jsx(B,{id:"phone",name:"phone",value:o.phone,onChange:h,placeholder:"01 23 45 67 89",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${l.phone?"border-red-500":""}`}),l.phone&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:l.phone})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(pt,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ue,{className:"h-3.5 w-3.5 text-indigo-400"}),"Adresse"]}),e.jsx(B,{id:"address",name:"address",value:o.address,onChange:h,placeholder:"42 Avenue du Port, 85230 Bouin",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${l.address?"border-red-500":""}`}),l.address&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:l.address})]}),e.jsxs(qa,{className:"mt-6",children:[e.jsx(G,{type:"button",variant:"outline",onClick:()=>a(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),e.jsx(G,{type:"submit",disabled:m,className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white",children:m?"Enregistrement...":n?"Mettre à jour":"Ajouter"})]})]})]})})}function kd(){const{suppliers:t,isLoading:a,updateSupplier:s}=Zt(),[i,r]=c.useState(!1),[n,o]=c.useState(""),x=Xe(),m=async d=>{try{await s.mutateAsync({id:d,deleted:!0})}catch(h){console.error("Error deleting supplier:",h)}},u=d=>{x(`/suppliers/${d}/catalog`)},l=t.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.email.toLowerCase().includes(n.toLowerCase()));return a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-purple"})}):e.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Fournisseurs"}),e.jsx("p",{className:"text-gray-400",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-lg transition-all shadow-lg hover:shadow-indigo-500/20 duration-300",children:[e.jsx(V,{className:"w-5 h-5"}),"Ajouter un fournisseur"]})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-grow max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(W,{className:"w-4 h-4 text-gray-400"})}),e.jsx("input",{type:"text",className:"bg-[#1a1c25] border border-[#2a2d3a] text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 p-2.5",placeholder:"Rechercher un fournisseur...",value:n,onChange:d=>o(d.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 bg-[#1a1c25] px-3 py-1.5 rounded-lg border border-[#2a2d3a]",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[l.length," fournisseurs"]})]})]}),l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-gray-400",children:[e.jsx("div",{className:"bg-[#1a1c25] rounded-full p-4 mb-4",children:e.jsx(me,{className:"w-8 h-8 text-indigo-500 opacity-70"})}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Aucun fournisseur trouvé"}),e.jsx("p",{className:"max-w-md text-gray-500",children:n?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:l.map(d=>e.jsx(Nd,{supplier:d,onDelete:m,onViewCatalog:u},d.id))}),e.jsx(yd,{open:i,onOpenChange:r})]})}function Cd(){const{supplierId:t}=br(),a=Xe(),{suppliers:s,getSupplierProducts:i}=Zt(),{cartItems:r,addToCart:n,removeFromCart:o,clearCart:x,isCartModalOpen:m,setIsCartModalOpen:u,toggleCartModal:l}=Ua(),[d,h]=c.useState({}),[p,b]=c.useState(!0),[f,g]=c.useState([]),[v,k]=c.useState("all"),[F,w]=c.useState(""),[M,N]=c.useState(!1),D=s.find(R=>R.id===t);Y.useEffect(()=>{(async()=>{if(t)try{const Q=await i(t);g(Q)}catch(Q){console.error("Erreur lors du chargement des produits:",Q),g([{id:"1",name:"Huîtres Spéciales de Normandie",description:"Huîtres Spéciales de Normandie n°3, saveur iodée et douce",price:12.99,unit:"dz",min_order_quantity:2,category:"huîtres",stock:50},{id:"2",name:"Moules de Méditerranée",description:"Moules de Méditerranée fraîches, chair généreuse",price:8.5,unit:"kg",min_order_quantity:1,category:"moules",stock:30},{id:"3",name:"Palourdes de l'Atlantique",description:"Palourdes fraîches de l'Atlantique, idéales pour vos plats de fruits de mer",price:14.99,unit:"kg",min_order_quantity:.5,category:"palourdes",stock:20},{id:"4",name:"Huîtres Fines de Claire",description:"Huîtres Fines de Claire affinées en bassin, saveur délicate",price:15.99,unit:"dz",min_order_quantity:1,category:"huîtres",stock:40}])}finally{b(!1)}})()},[t,i]);const A=["all",...new Set(f.map(R=>R.category))],O=f.filter(R=>{const Q=v==="all"||R.category===v,X=R.name.toLowerCase().includes(F.toLowerCase())||R.description.toLowerCase().includes(F.toLowerCase());return Q&&X}),q=(R,Q)=>{h(X=>({...X,[R]:Q}))},ae=R=>{const Q=d[R]||0;Q>0&&n(R,Q)};return p?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-[rgb(var(--color-brand-primary))] border-solid rounded-full animate-spin"})}):e.jsxs("div",{className:"relative min-h-screen bg-[rgb(var(--color-brand-bg))]",children:[e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))]",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 py-4",children:[e.jsx("div",{className:"flex items-center justify-center relative",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("button",{onClick:()=>a(-1),className:"p-2 rounded-full bg-[rgb(var(--color-brand-surface)_/_0.5)] hover:bg-[rgb(var(--color-brand-surface))] transition-colors",children:e.jsx(ks,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-xl font-semibold text-[rgb(var(--color-text))]",children:(D==null?void 0:D.name)||"Catalogue Fournisseur"}),e.jsx("p",{className:"text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:(D==null?void 0:D.address)||"Produits disponibles"})]}),e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>u(!0),className:"p-2 rounded-full bg-[rgb(var(--color-brand-surface)_/_0.5)] hover:bg-[rgb(var(--color-brand-surface))] transition-colors relative",style:{boxShadow:r.length>0?"0 0 10px 2px rgb(var(--color-brand-primary))":"none"},children:[e.jsx(gt,{className:"w-5 h-5",style:{color:r.length>0?"rgb(var(--color-brand-primary))":"inherit"}}),r.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center bg-[rgb(var(--color-brand-primary))] text-white text-xs rounded-full animate-pulse",children:r.length})]})})]})}),e.jsxs("div",{className:"mt-4 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]"}),e.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:F,onChange:R=>w(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-[rgb(var(--color-brand-surface)_/_0.5)] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:border-[rgb(var(--color-brand-primary))] focus:outline-none"})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>N(!M),className:"px-4 py-2 bg-[rgb(var(--color-brand-surface)_/_0.5)] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none flex items-center gap-2 min-w-32",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{className:"capitalize",children:v==="all"?"Toutes catégories":v}),e.jsx(Ce,{className:"w-4 h-4 ml-auto"})]}),e.jsx(_,{children:M&&e.jsx(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute left-0 right-0 mt-2 bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-lg border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] z-50",children:e.jsx("div",{className:"py-1",children:A.map(R=>e.jsx("button",{onClick:()=>{k(R),N(!1)},className:`w-full px-4 py-2 text-left hover:bg-[rgb(var(--color-brand-surface)_/_0.7)] ${v===R?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":""}`,children:e.jsx("span",{className:"capitalize",children:R==="all"?"Toutes catégories":R})},R))})})})]})})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:O.map(R=>e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300 group hover:shadow-lg",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-[rgb(var(--color-brand-primary)_/_0.2)] to-[rgb(var(--color-brand-secondary)_/_0.2)] relative",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(gr,{className:"w-16 h-16 text-[rgb(var(--color-brand-primary)_/_0.3)] group-hover:scale-110 transition-transform duration-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold break-words w-full sm:w-auto",children:R.name}),e.jsx(Ha,{variant:"default",className:"capitalize whitespace-nowrap",children:R.category})]}),e.jsx("p",{className:"text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] mb-4 line-clamp-3",children:R.description}),e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[R.price.toFixed(2),"€ / ",R.unit]})}),e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-2",children:[e.jsx("input",{type:"number",min:0,step:R.min_order_quantity,value:d[R.id]||R.min_order_quantity||0,onChange:Q=>q(R.id,parseFloat(Q.target.value)),className:"w-full sm:w-20 px-3 py-2 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:border-[rgb(var(--color-brand-primary))] focus:outline-none"}),e.jsxs("button",{onClick:()=>ae(R.id),className:"w-full sm:flex-1 py-2 px-4 flex items-center justify-center gap-1 bg-[rgb(var(--color-brand-primary)_/_0.1)] hover:bg-[rgb(var(--color-brand-primary)_/_0.2)] text-[rgb(var(--color-brand-primary))] rounded-lg transition-colors group-hover:shadow-md",children:[e.jsx(gt,{className:"w-4 h-4"}),e.jsx("span",{children:"Ajouter au panier"})]})]})]})]},R.id))})}),e.jsx(Ja,{isOpen:m,onClose:()=>u(!1),items:r,products:f,onRemoveItem:o,onClearCart:x})]})}const Sd="https://rmockgbhcxrgqpeejrry.supabase.co",zd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",Qe=jr(Sd,zd);function Dd(){const t=ba(),{addNotification:a}=Z(),{data:s=[],isLoading:i}=ga({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(x){return console.error("Error fetching supplier orders:",x),[]}}}),r=_t({mutationFn:async x=>{const{data:m}=await Qe.from("supplier_products").select("id, price").in("id",x.products.map(h=>h.id)),u=x.products.reduce((h,p)=>{const b=m==null?void 0:m.find(f=>f.id===p.id);return h+((b==null?void 0:b.price)||0)*p.quantity},0),{data:l,error:d}=await Qe.from("supplier_orders").insert([{...x,status:"pending",total_amount:u}]).select().single();if(d)throw d;return a({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),l},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),n=_t({mutationFn:async({id:x,...m})=>{const{data:u,error:l}=await Qe.from("supplier_orders").update(m).eq("id",x).select().single();if(l)throw l;if(m.status==="completed"){const d=await Qe.from("supplier_orders").select("*").eq("id",x).single();if(d.data)for(const h of d.data.products)await Qe.rpc("update_stock",{product_id:h.id,quantity:h.quantity,storage_location:m.storage_location,expiry_date:m.expiry_date});a({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),o=_t({mutationFn:async({order_id:x,content:m})=>{var d;const{data:u,error:l}=await Qe.from("supplier_order_comments").insert([{order_id:x,content:m,user_id:(d=(await Qe.auth.getUser()).data.user)==null?void 0:d.id}]).select().single();if(l)throw l;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:s,isLoading:i,createOrder:r,updateOrder:n,addComment:o}}const Zs=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function Md(){const{orders:t,isLoading:a,updateOrder:s}=Dd(),[i,r]=Y.useState(null);Y.useState(!1),Z();const[n,o]=c.useState("");return c.useState(null),Zs.filter(x=>x.name.toLowerCase().includes(n.toLowerCase())||x.description.toLowerCase().includes(n.toLowerCase())||x.products.some(m=>m.toLowerCase().includes(n.toLowerCase()))),a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):e.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:e.jsx(L,{size:24})})})]}),e.jsxs("div",{className:"relative mb-8",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:n,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),e.jsx(W,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(x=>{const m=Zs.find(d=>d.id===x.supplier_id),u=x.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":x.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":x.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":x.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",l=x.status==="pending"?"Envoyé":x.status==="accepted"?"Validé":x.status==="delivering"?"En cours de livraison":x.status==="completed"?"Reçu":"Refusé";return e.jsx(Qa,{onClick:()=>r(x.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:(m==null?void 0:m.name)||"Fournisseur"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u}`,children:l})]}),e.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[e.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(x.created_at).toLocaleDateString("fr-FR")]}),e.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",x.total_amount.toFixed(2),"€"]})]}),e.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[e.jsxs("p",{className:"text-sm font-medium text-white/70",children:[x.products.length," produit",x.products.length>1?"s":""]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[x.products.slice(0,2).map(d=>e.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[d.quantity,"× ",d.name]},d.id)),x.products.length>2&&e.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",x.products.length-2," autre",x.products.length-2>1?"s":""]})]})]}),x.comments&&x.comments.length>0&&e.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[e.jsx(Oe,{size:14,className:"mr-1"}),x.comments.length," commentaire",x.comments.length>1?"s":""]})]})},x.id)})})]})]})})}const Td=({onClose:t,onUpload:a})=>{const[s,i]=c.useState(""),[r,n]=c.useState(null),[o,x]=c.useState(!1),[m,u]=c.useState(""),l=c.useRef(null),d=f=>{if(f.target.files&&f.target.files[0]){const g=f.target.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}n(g),u(""),s||i(g.name.replace(/\.[^/.]+$/,""))}},h=f=>{if(f.preventDefault(),!s.trim()){u("Veuillez saisir un titre pour le document.");return}if(!r){u("Veuillez sélectionner un fichier.");return}a(s,r,o)},p=f=>{f.preventDefault()},b=f=>{if(f.preventDefault(),f.dataTransfer.files&&f.dataTransfer.files[0]){const g=f.dataTransfer.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}n(g),u(""),s||i(g.name.replace(/\.[^/.]+$/,""))}};return e.jsx(_,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:e.jsx(L,{size:20})})]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),e.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:s,onChange:f=>i(f.target.value)})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},onDragOver:p,onDrop:b,children:[r?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(oe,{size:40,className:"text-blue-500 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(r.size/1024/1024).toFixed(2)," MB"]}),e.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:f=>{f.stopPropagation(),n(null),l.current&&(l.current.value="")},children:"Changer de fichier"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(ze,{size:40,className:"text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),e.jsx("input",{ref:l,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:d})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:o,onChange:f=>x(f.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),m&&e.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:m}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!r||!s.trim(),children:"Enregistrer"})]})]})]})]})})})},Pd=({documents:t,onDelete:a})=>{if(t.length===0)return e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[e.jsx(As,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),e.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const s=i=>{const r=URL.createObjectURL(i.file),n=window.document.createElement("a");n.style.display="none",n.href=r,n.download=i.title+"."+i.file.name.split(".").pop(),window.document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),window.document.body.removeChild(n)};return e.jsx("div",{className:"space-y-4",children:t.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(As,{size:24,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[i.title,i.isRequired&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[e.jsx(it,{size:12,className:"mr-1"}),"Obligatoire"]})]}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(te,{size:14,className:"mr-1"}),e.jsxs("span",{children:["Ajouté le ",T(new Date(i.date),"dd MMMM yyyy",{locale:I})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>s(i),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:e.jsx(fe,{size:18})}),e.jsx("button",{onClick:()=>a(i.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:e.jsx(ce,{size:18})})]})]},i.id))})},Fd=({documents:t,onClose:a})=>{const[s,i]=c.useState("");c.useEffect(()=>{if(t.length>0){const n=t.map(o=>({id:o.id,title:o.title,type:o.file.type,size:o.file.size,required:o.isRequired}));i(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:n,expiry:Date.now()+36e5}))}},[t]);const r=()=>{const n=window.document.getElementById("qr-code-svg");if(n){const o=window.document.createElement("canvas"),x=o.getContext("2d"),m=new XMLSerializer().serializeToString(n),u=new Image;u.onload=()=>{o.width=200,o.height=200,x==null||x.drawImage(u,0,0,200,200);const l=o.toDataURL("image/png"),d=window.document.createElement("a");d.href=l,d.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(d),d.click(),window.document.body.removeChild(d)},u.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(m)))}};return e.jsx(_,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:e.jsx(L,{size:20})})]}),t.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Wt,{size:60,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-white rounded-lg",children:e.jsx(fr,{id:"qr-code-svg",value:s,size:200,level:"H",includeMargin:!0})})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Fe,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),e.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:t.map(n=>e.jsx("li",{children:n.title},n.id))})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:r,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx(fe,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})]})})})},Ad=()=>{const[t,a]=c.useState([]);return c.useEffect(()=>{(async()=>{})()},[]),{documents:t,addDocument:n=>{a(o=>[...o,n])},deleteDocument:n=>{a(o=>o.filter(x=>x.id!==n))},updateDocument:(n,o)=>{a(x=>x.map(m=>m.id===n?{...m,...o}:m))}}},Rd=()=>{const{documents:t,addDocument:a,deleteDocument:s}=Ad(),[i,r]=c.useState(!1),[n,o]=c.useState(!1),[x,m]=c.useState(""),u=t.filter(l=>l.title.toLowerCase().includes(x.toLowerCase()));return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mon coffre-fort numérique"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy text-white rounded-lg hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(ze,{size:18,className:"mr-2"}),"Ajouter un document"]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors",children:[e.jsx(Wt,{size:18,className:"mr-2"}),"Générer QR Code"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-3 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",value:x,onChange:l=>m(l.target.value)})]})}),e.jsx(Pd,{documents:u,onDelete:s})]})]}),i&&e.jsx(Td,{onClose:()=>r(!1),onUpload:(l,d)=>{a({id:Date.now().toString(),title:l,file:d,date:new Date().toISOString()}),r(!1)}}),n&&e.jsx(Fd,{documents:t.filter(l=>l.isRequired),onClose:()=>o(!1)})]})};function Ld(){const t=Xe(),a=()=>{t(-1)};return e.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-background text-white",children:[e.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:a,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:e.jsx(ks,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),e.jsx("div",{className:"flex-1 flex w-full",children:e.jsx(Ba,{})})]})}const qd=new wr;function $d(){const{session:t,theme:a}=Z(),s=Xe(),i=Vt(),[r,n]=c.useState(!1),[o,x]=c.useState(!1),[m,u]=c.useState(!1),l=c.useRef(null),[d,h]=c.useState(!1);c.useEffect(()=>{const g=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;if(h(g),g){document.body.classList.add("ios-device");const v=document.querySelector('meta[name="viewport"]');if(v)v.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");else{const F=document.createElement("meta");F.name="viewport",F.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(F)}const k=document.createElement("style");k.innerHTML=`
        @media screen and (max-width: 768px) {
          input, select, textarea {
            font-size: 16px !important;
          }
        }
      `,document.head.appendChild(k)}},[]),c.useEffect(()=>{document.documentElement.setAttribute("data-theme",a)},[a]),c.useEffect(()=>{n(!1)},[i.pathname]);const p=i.pathname==="/network/messages";c.useEffect(()=>{p||(l.current=i.pathname)},[i.pathname,p]);const b=c.useCallback(()=>{x(g=>!g)},[]),f=c.useCallback(()=>{p?l.current&&l.current!=="/network/messages"?s(l.current):s("/dashboard"):(l.current=i.pathname,s("/network/messages"))},[p,s,i.pathname]);return t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark via-brand-purple/20 to-brand-burgundy/20",children:[e.jsx(Cr,{onShowMobileMenu:()=>n(!0),onToggleNotifications:b,onShowEmergency:()=>u(!0),onEmergencyClick:()=>u(!0),onToggleMessages:f}),e.jsxs("div",{className:"flex min-h-screen h-full",children:[e.jsx(zr,{showMobileMenu:r,onCloseMobileMenu:()=>n(!1),onEmergencyClick:()=>u(!0),onToggleMessages:f,onToggleNotifications:()=>x(!0)}),e.jsx("div",{className:`
          flex-1 bg-brand-dark pt-16 md:pt-16 
          ${d?"pb-safe":"pb-4"} 
          ${p?"":"px-4 md:px-6 lg:px-8"}
          ml-0 lg:ml-[4.5rem] transition-all duration-300
        `,children:e.jsx("main",{className:"flex-1 p-6 overflow-x-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(_,{mode:"wait",children:e.jsxs(Rs,{children:[e.jsx(U,{path:"/",element:e.jsx(Ls,{to:"/dashboard",replace:!0})}),e.jsx(U,{path:"/dashboard",element:e.jsx(Wr,{})}),e.jsx(U,{path:"/tasks",element:e.jsx(Hn,{})}),e.jsx(U,{path:"/digitalvault",element:e.jsx(Rd,{})}),e.jsx(U,{path:"/inventory",element:e.jsx(pl,{})}),e.jsx(U,{path:"/stock",element:e.jsx(jl,{})}),e.jsx(U,{path:"/traceability",element:e.jsx(td,{})}),e.jsx(U,{path:"/accounting",element:e.jsx(Cl,{})}),e.jsx(U,{path:"/invoices",element:e.jsx(Tl,{})}),e.jsx(U,{path:"/hr",element:e.jsx(Bl,{})}),e.jsx(U,{path:"/network",element:e.jsx(Qs,{})}),e.jsx(U,{path:"/network/messages",element:e.jsx(Ld,{})}),e.jsx(U,{path:"/messages",element:e.jsx(Qs,{activeTab:"messages"})}),e.jsx(U,{path:"/config",element:e.jsx(Nn,{})}),e.jsx(U,{path:"/notifications",element:e.jsx(Tn,{})}),e.jsx(U,{path:"/sales",element:e.jsx(ld,{})}),e.jsx(U,{path:"/purchases",element:e.jsx(cd,{})}),e.jsx(U,{path:"/profile",element:e.jsx(jd,{})}),e.jsx(U,{path:"/shop",element:e.jsx(fd,{})}),e.jsx(U,{path:"/suppliers",element:e.jsx(kd,{})}),e.jsx(U,{path:"/suppliers/orders",element:e.jsx(Md,{})}),e.jsx(U,{path:"/suppliers/:supplierId/catalog",element:e.jsx(Cd,{})})]})})})})})]}),e.jsx(_,{children:o&&e.jsx(Mr,{onClose:b})}),m&&e.jsx(Fr,{isOpen:m,onClose:()=>u(!1)}),e.jsx(Ar,{}),e.jsx(yr,{position:"bottom-right"})]}):e.jsxs(Rs,{children:[e.jsx(U,{path:"/auth",element:e.jsx(qr,{})}),e.jsx(U,{path:"*",element:e.jsx(Ls,{to:"/auth",replace:!0})})]})}function Ed(){return e.jsx(vr,{client:qd,children:e.jsx(Nr,{children:e.jsx($d,{})})})}const si=document.getElementById("root");if(!si)throw new Error("Root element not found");const _d=kr(si);_d.render(e.jsx(c.StrictMode,{children:e.jsx(Ed,{})}));
