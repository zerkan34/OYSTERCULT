var Ia=Object.defineProperty;var Oa=(t,a,s)=>a in t?Ia(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var hs=(t,a,s)=>Oa(t,typeof a!="symbol"?a+"":a,s);import{j as e,c as Ha,p as Ba,m as f,M as Va,S as Xt,a as Qe,u as Ue,b as Dt,d as Qa,e as ts,B as Je,P as xe,r as x,A as I,C as Mt,f as Es,L as Ua,g as Ja,h as $s,i as Ga,k as W,T as at,G as it,l as ss,n as ht,D as tt,o as Xa,q as Ya,U as oe,s as as,t as Tt,I as $e,v as Z,X as R,w as de,x as st,y as ee,z as T,E as Is,F as Ne,H as me,J as E,K as Za,N as be,O as Ka,Q as we,R as Wa,V as _e,W as Ve,Y as ei,Z as It,_ as Ee,$ as Os,a0 as Hs,a1 as us,a2 as ti,a3 as V,a4 as G,a5 as ae,a6 as le,a7 as si,a8 as ve,a9 as ai,aa as ii,ab as ri,ac as li,ad as is,ae as ut,af as rs,ag as ie,ah as Q,ai as ni,aj as ps,ak as Be,al as di,am as Pt,an as ze,ao as Te,ap as Pe,aq as Ot,ar as fe,as as Se,at as ci,au as oi,av as rt,aw as xi,ax as mi,ay as Bs,az as Vs,aA as hi,aB as Qs,aC as Us,aD as ui,aE as pi,aF as bi,aG as ls,aH as Js,aI as At,aJ as Gs,aK as Xs,aL as pe,aM as Yt,aN as ji,aO as Ys,aP as Zs,aQ as Ks,aR as Zt,aS as gi,aT as fi,aU as wi,aV as qt,aW as vi,aX as Ni,aY as bt,aZ as lt,a_ as Kt,a$ as yi,b0 as Ci,b1 as ki,b2 as Si,b3 as zi,b4 as Di,b5 as Mi,b6 as Ti,b7 as Ft,b8 as Ws,b9 as Ae,ba as ea,bb as ta,bc as sa,bd as kt,be as Rt,bf as ns,bg as Wt,bh as St,bi as ds,bj as Pi,bk as Ai,bl as et,bm as aa,bn as qi,bo as Fi,bp as Ri,bq as Li,br as _i,bs as ia,bt as cs,bu as ra,bv as Ei,bw as xt,bx as $i,by as bs,bz as Ke,bA as Lt,bB as js,bC as gs,bD as Ii,bE as Oi,bF as Hi,bG as Bi,bH as Vi,bI as la,bJ as na,bK as da,bL as ca,bM as oa,bN as xa,bO as Qi,bP as Ui,bQ as Ji,bR as Gi,bS as Xi,bT as Yi,bU as Zi,bV as fs,bW as Ki,bX as Wi,bY as er,bZ as tr,b_ as ws,b$ as J,c0 as vs,c1 as sr,c2 as ar}from"./vendor-B-0SAvkb.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function X({variant:t="primary",size:a="md",fullWidth:s=!1,className:i="",children:r,...n}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors",h={primary:"bg-brand-primary text-white hover:bg-brand-primary/90",secondary:"bg-white/10 text-white hover:bg-white/20",outline:"border border-white/10 text-white hover:bg-white/5",ghost:"text-white/60 hover:text-white hover:bg-white/5"},o={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return e.jsx("button",{...n,className:`
        ${c}
        ${h[t]}
        ${o[a]}
        ${s?"w-full":""}
        ${i}
      `,children:r})}const K=Ha()(Ba(t=>({session:null,sidebarCollapsed:!1,tasks:[],notifications:[],unreadCount:0,theme:"dark",batches:[{id:"1",batchNumber:"LOT-TEST-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date().toISOString()}],companyInfo:null,users:[],roles:[{id:"1",name:"Administrateur",description:"Gestion complète de l'application"},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches"},{id:"3",name:"Opérateur",description:"Gestion des lots et des tâches quotidiennes"}],suppliers:[],purchases:[],setSession:a=>t({session:a}),setSidebarCollapsed:a=>t({sidebarCollapsed:a}),addNotification:a=>t(s=>{const i={...a,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1};return{notifications:[...s.notifications,i],unreadCount:s.unreadCount+1}}),markAsRead:a=>t(s=>({notifications:s.notifications.map(i=>i.id===a?{...i,read:!0}:i),unreadCount:s.unreadCount-1})),markAllAsRead:()=>t(a=>({notifications:a.notifications.map(s=>({...s,read:!0})),unreadCount:0})),setTheme:a=>t({theme:a}),toggleTheme:()=>t(a=>({theme:a.theme==="dark"?"light":"dark"})),addBatch:a=>t(s=>({batches:[...s.batches,{...a,id:crypto.randomUUID()}]})),updateBatch:a=>t(s=>({batches:s.batches.map(i=>i.id===a.id?a:i)})),deleteBatch:a=>t(s=>({batches:s.batches.filter(i=>i.id!==a)})),setCompanyInfo:a=>t({companyInfo:a}),addUser:a=>t(s=>({users:[...s.users,{...a,id:crypto.randomUUID()}]})),updateUser:(a,s)=>t(i=>({users:i.users.map(r=>r.id===a?{...r,...s}:r)})),deleteUser:a=>t(s=>({users:s.users.filter(i=>i.id!==a)})),addRole:a=>t(s=>({roles:[...s.roles,{...a,id:crypto.randomUUID()}]})),updateRole:(a,s)=>t(i=>({roles:i.roles.map(r=>r.id===a?{...r,...s}:r)})),deleteRole:a=>t(s=>({roles:s.roles.filter(i=>i.id!==a)})),addSupplier:a=>t(s=>({suppliers:[...s.suppliers,{...a,id:crypto.randomUUID()}]})),updateSupplier:(a,s)=>t(i=>({suppliers:i.suppliers.map(r=>r.id===a?{...r,...s}:r)})),deleteSupplier:a=>t(s=>({suppliers:s.suppliers.filter(i=>i.id!==a)})),addPurchase:a=>t(s=>({purchases:[...s.purchases,{...a,id:crypto.randomUUID()}]})),updatePurchase:(a,s)=>t(i=>({purchases:i.purchases.map(r=>r.id===a?{...r,...s}:r)})),deletePurchase:a=>t(s=>({purchases:s.purchases.filter(i=>i.id!==a)})),resetSession:()=>t({session:null})}),{name:"oyster-cult-storage",partialize:t=>({companyInfo:t.companyInfo,users:t.users,batches:t.batches,theme:t.theme,roles:t.roles,suppliers:t.suppliers,purchases:t.purchases})}));function ma(){const{theme:t,toggleTheme:a}=K();return e.jsxs(f.button,{onClick:a,className:"relative p-2 rounded-lg transition-colors hover:bg-[rgb(var(--color-background-hover))]",whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":t==="dark"?"Passer en mode clair":"Passer en mode sombre",children:[e.jsx(f.div,{initial:!1,animate:{scale:t==="dark"?1:0,opacity:t==="dark"?1:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Va,{className:"text-[rgb(var(--color-text-secondary))] hover:text-blue-400 transition-colors",size:24})}),e.jsx(f.div,{initial:!1,animate:{scale:t==="light"?1:0,opacity:t==="light"?1:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Xt,{className:"text-[rgb(var(--color-brand-burgundy))] hover:text-[rgb(var(--color-brand-burgundy)_/_0.8)] transition-colors",size:24})}),e.jsx("div",{className:"w-6 h-6"})]})}function es({size:t=32,className:a="",withText:s=!1,textPosition:i="right"}){return e.jsxs("div",{className:`flex ${i==="bottom"?"flex-col items-center":"items-center"} ${a}`,style:{gap:t/4},children:[e.jsxs("div",{className:"relative flex items-center justify-center",style:{width:t,height:t},children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-full",style:{transform:"scale(1.2)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-burgundy/30 to-brand-burgundy rounded-full"}),e.jsx(f.div,{animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},className:"relative w-full h-full flex items-center justify-center",children:e.jsx(Qe,{className:"w-full h-full text-white"})})]}),s&&e.jsxs("div",{className:"font-industry tracking-wider whitespace-nowrap text-center",style:{fontSize:t/2},children:[e.jsx("span",{className:"text-gradient-cool font-bold",children:"OYSTER"}),e.jsx("span",{className:"text-white font-bold ml-1",children:"CULT"})]})]})}function ir({onShowMobileMenu:t,onToggleNotifications:a,onShowEmergency:s,onEmergencyClick:i,onToggleMessages:r}){const{unreadCount:n}=K(),c=Ue(),h=Dt(),o=()=>{h.pathname!=="/dashboard"&&c("/dashboard")};return e.jsx("header",{className:"fixed top-0 left-0 right-0 h-14 md:h-16 bg-background/80 backdrop-blur-sm border-b z-50 safe-area-inset-top",children:e.jsxs("div",{className:"h-full flex items-center justify-between px-2 md:px-4",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:t,className:"md:mr-2",children:e.jsx(Qa,{className:"h-4 w-4"})}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 cursor-pointer hidden sm:block",onClick:o,children:e.jsx(es,{size:32,withText:!0,textPosition:"right"})}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 cursor-pointer sm:hidden",onClick:o,children:e.jsx(es,{size:26})}),e.jsxs("div",{className:"flex items-center mr-[-0.5rem] md:mr-[-1rem] space-x-1 md:space-x-2",children:[e.jsxs(X,{"data-message-button":"true",variant:"ghost",size:"sm",onClick:r,className:`\r
            inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
            text-white/60 hover:text-white hover:bg-white/5\r
            px-3 py-1.5 text-sm\r
            \r
            relative group p-1.5 md:p-2\r
          `,children:[e.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(ts,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-cyan-500 drop-shadow-[0_0_3px_rgba(6,182,212,0.5)]"})]}),e.jsxs(X,{"data-notification-bell":"true",variant:"ghost",size:"sm",onClick:a,className:`\r
            inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
            text-white/60 hover:text-white hover:bg-white/5\r
            px-3 py-1.5 text-sm\r
            \r
            relative group p-1.5 md:p-2\r
          `,children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(Je,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-500 drop-shadow-[0_0_3px_rgba(59,130,246,0.5)]"}),n>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex items-center justify-center min-w-[14px] h-3.5 px-1 bg-amber-500 text-white text-[9px] font-bold rounded-full shadow-lg shadow-amber-900/20",children:n>9?"9+":n})]}),e.jsxs(X,{variant:"ghost",size:"sm",onClick:i,className:`\r
            inline-flex items-center justify-center font-medium rounded-lg transition-colors\r
            text-white/60 hover:text-white hover:bg-white/5\r
            px-3 py-1.5 text-sm\r
            \r
            relative p-1 md:p-2\r
          `,children:[e.jsx("div",{className:"absolute inset-0 bg-red-500/30 rounded-full blur-lg"}),e.jsx("div",{className:"relative flex items-center justify-center h-7 w-7 md:h-8 md:w-8 bg-red-500 rounded-full",children:e.jsx(xe,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-white drop-shadow-[0_0_3px_rgba(255,255,255,0.5)]"})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-800/50 rounded-lg blur-md opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"p-1 relative z-10",children:e.jsx(ma,{})})]})]})]})})}const rr=t=>({pulse:{boxShadow:[`0 0 4px ${t}`,`0 0 8px ${t}`,`0 0 4px ${t}`],transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}}}),lr={Principal:{color:"from-blue-500/30 to-blue-600/10",textColor:"text-blue-300"},"Gestion des stocks":{color:"from-green-500/30 to-green-600/10",textColor:"text-green-300"},Commercial:{color:"from-purple-500/30 to-purple-600/10",textColor:"text-purple-300"},Administration:{color:"from-amber-500/30 to-amber-600/10",textColor:"text-amber-300"},Paramètres:{color:"from-cyan-500/30 to-cyan-600/10",textColor:"text-cyan-300"}},nr=[{category:"Principal",items:[{path:"/dashboard",label:"Tableau de bord",icon:e.jsx($s,{size:22})},{path:"/tasks",label:"Tâches",icon:e.jsx(Ga,{size:22})}]},{category:"Gestion des stocks",items:[{path:"/inventory",label:"Stock",icon:e.jsx(W,{size:22})},{path:"/traceability",label:"Traçabilité",icon:e.jsx(at,{size:22})}]},{category:"Commercial",items:[{path:"/network",label:"Entre Pro",icon:e.jsx(it,{size:22})},{path:"/suppliers",label:"Fournisseurs",icon:e.jsx(ss,{size:22})},{path:"/purchases",label:"Commandes",icon:e.jsx(ht,{size:22})},{path:"/sales",label:"Ventes",icon:e.jsx(tt,{size:22})},{path:"/shop",label:"Boutique",icon:e.jsx(Xa,{size:22})}]},{category:"Administration",items:[{path:"/accounting",label:"Comptabilité",icon:e.jsx(Ya,{size:22})},{path:"/hr",label:"RH",icon:e.jsx(oe,{size:22})},{path:"/digitalvault",label:"Mon coffre-fort numérique",icon:e.jsx(as,{size:22})}]},{category:"Paramètres",items:[{path:"/config",label:"Configuration",icon:e.jsx(Qe,{size:22})},{path:"/profile",label:"Mon Espace",icon:e.jsx(Tt,{size:22})}]}];function dr({showMobileMenu:t,onCloseMobileMenu:a,onEmergencyClick:s,onToggleMessages:i,onToggleNotifications:r}){const n=Dt(),c=Ue(),{setSession:h}=K(),[o,u]=x.useState(!1),[d,l]=x.useState(null),[m,b]=x.useState(null),[p,j]=x.useState(!1),g=()=>{h(null),c("/auth")},w=()=>{j(!0),u(!o),setTimeout(()=>j(!1),300)},k={hidden:{opacity:0,x:-10},visible:D=>({opacity:1,x:0,transition:{delay:D*.05,duration:.2}})},q={expanded:{width:"18rem",transition:{type:"spring",stiffness:300,damping:25,mass:.8}},collapsed:{width:"5rem",transition:{type:"spring",stiffness:300,damping:25,mass:.8}},mobileHidden:{x:"-100%",transition:{type:"spring",stiffness:400,damping:30}},mobileVisible:{x:0,width:"85vw",maxWidth:"300px",transition:{type:"spring",stiffness:400,damping:30}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{delay:.1,duration:.2}}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`
          fixed inset-0 z-40 bg-black/50 backdrop-blur-sm lg:hidden
          ${t?"opacity-100":"opacity-0 pointer-events-none"}
          transition-opacity duration-300
        `,onClick:a}),e.jsx(f.div,{className:`
          fixed top-0 left-0 bottom-0 z-50 bg-brand-dark
          border-r border-white/10 shadow-xl shadow-black/40
          overflow-hidden
          ${t?"safe-area-inset-bottom":""}
        `,initial:"collapsed",animate:window.innerWidth>=1024?o?"collapsed":"expanded":t?"mobileVisible":"mobileHidden",variants:q,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs(f.div,{className:"p-6 flex items-center justify-between border-b border-white/10 relative overflow-hidden",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent opacity-50"}),e.jsx(I,{mode:"wait",children:o?e.jsx(f.div,{className:"flex items-center justify-center px-2 py-2 relative z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"collapsed-logo"):e.jsx(f.div,{className:"flex items-center justify-between px-4 py-2 relative z-10 w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"relative z-10",children:e.jsx(es,{})})})},"expanded-logo")}),e.jsx(f.button,{onClick:w,className:`
                rounded-lg hidden lg:flex items-center justify-center transition-all duration-300 relative z-10
                p-2.5 bg-white/15 hover:bg-white/25 border border-white/20
              `,whileHover:{scale:1.1},whileTap:{scale:.95},disabled:p,"aria-label":o?"Déplier la barre latérale":"Replier la barre latérale",children:o?e.jsx(Mt,{className:"w-[22px] h-[22px] text-white hover:text-white"}):e.jsx(Es,{className:"w-[22px] h-[22px] text-white hover:text-white"})})]}),e.jsx("nav",{className:"flex-1 space-y-2 md:space-y-4 p-3 md:p-4 overflow-y-auto custom-scrollbar",children:nr.map((D,N)=>{const C=lr[D.category];return e.jsxs(f.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1+N*.05},onMouseEnter:()=>l(D.category),onMouseLeave:()=>l(null),children:[e.jsx(I,{children:!o&&e.jsxs(f.div,{className:"px-4 mb-3 relative rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},whileHover:{scale:1.02},children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${C.color} opacity-0 rounded-lg ${d===D.category?"opacity-30":""} transition-opacity duration-300`}),e.jsx("p",{className:`text-xs font-medium ${C.textColor} uppercase tracking-wider relative z-10`,children:D.category})]})}),e.jsx("div",{className:"space-y-2",children:D.items.map((P,O)=>{const L=n.pathname===P.path;return e.jsx(f.div,{custom:O,variants:k,initial:"hidden",animate:"visible",whileHover:{scale:1.03,transition:{duration:.2}},onMouseEnter:()=>b(P.path),onMouseLeave:()=>b(null),children:e.jsxs(Ua,{to:P.path,className:`
                              relative flex items-center px-3 md:px-4 py-2 md:py-3 rounded-lg text-sm
                              transition-all duration-200 ease-in-out overflow-hidden
                              ${L?`bg-white/10 text-white shadow-[0_0_12px_rgba(255,255,255,0.1)] 
                                   ${C.textColor.includes("blue")?"shadow-[0_0_8px_rgba(59,130,246,0.5)]":C.textColor.includes("green")?"shadow-[0_0_8px_rgba(16,185,129,0.5)]":C.textColor.includes("purple")?"shadow-[0_0_8px_rgba(139,92,246,0.5)]":C.textColor.includes("amber")?"shadow-[0_0_8px_rgba(245,158,11,0.5)]":"shadow-[0_0_8px_rgba(6,182,212,0.5)]"}`:`text-white/70 hover:bg-white/8 hover:text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.07)]
                                   hover:${C.textColor.includes("blue")?"shadow-[0_0_6px_rgba(59,130,246,0.4)]":C.textColor.includes("green")?"shadow-[0_0_6px_rgba(16,185,129,0.4)]":C.textColor.includes("purple")?"shadow-[0_0_6px_rgba(139,92,246,0.4)]":C.textColor.includes("amber")?"shadow-[0_0_6px_rgba(245,158,11,0.4)]":"shadow-[0_0_6px_rgba(6,182,212,0.4)]"}`}
                            `,children:[L&&e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-transparent opacity-30",initial:{opacity:0},animate:{opacity:.3},transition:{duration:.3}}),e.jsx("div",{className:`
                              relative z-10 transition-all duration-200
                              ${L?`text-${C.textColor.split("-")[1]}`:"text-white/70 group-hover:text-white"}
                              flex items-center justify-center w-7 h-7 rounded-full
                              ${!L&&m===P.path?"shadow-[0_0_5px_rgba(255,255,255,0.4)] filter brightness-110":""}
                              transition-all transform hover:scale-110
                            `,children:L?e.jsx(f.div,{animate:"pulse",variants:rr(C.textColor.includes("blue")?"#3b82f680":C.textColor.includes("green")?"#10b98180":C.textColor.includes("purple")?"#8b5cf680":C.textColor.includes("amber")?"#f59e0b80":"#06b6d480"),className:"flex items-center justify-center",children:P.icon}):e.jsx("div",{className:m===P.path?"animate-pulse":"",children:P.icon})}),e.jsx(I,{children:!o&&e.jsx(f.span,{className:`ml-2 md:ml-3 relative z-10 ${L?"font-medium":""} whitespace-nowrap`,variants:v,initial:"hidden",animate:"visible",exit:"hidden",children:P.label})}),o&&e.jsx(I,{children:m===P.path&&e.jsxs(f.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:20},exit:{opacity:0,x:5},transition:{type:"spring",stiffness:350,damping:25},className:`
                                      absolute left-14 px-4 py-2 rounded-lg z-50
                                      text-sm font-medium whitespace-nowrap
                                      bg-gradient-to-r 
                                      ${C.color.replace("/30","/70").replace("/10","/40")} 
                                      backdrop-blur-sm border border-white/10
                                      ${C.textColor.includes("blue")?"shadow-[0_0_10px_rgba(59,130,246,0.5)]":C.textColor.includes("green")?"shadow-[0_0_10px_rgba(16,185,129,0.5)]":C.textColor.includes("purple")?"shadow-[0_0_10px_rgba(139,92,246,0.5)]":C.textColor.includes("amber")?"shadow-[0_0_10px_rgba(245,158,11,0.5)]":"shadow-[0_0_10px_rgba(6,182,212,0.5)]"}
                                    `,children:[e.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-2 rotate-45",style:{background:C.textColor.includes("blue")?"rgba(59,130,246,0.3)":C.textColor.includes("green")?"rgba(16,185,129,0.3)":C.textColor.includes("purple")?"rgba(139,92,246,0.3)":C.textColor.includes("amber")?"rgba(245,158,11,0.3)":"rgba(6,182,212,0.3)"}}),e.jsx("span",{className:"text-white font-medium",children:P.label})]})}),L&&e.jsx(f.div,{className:"absolute left-0 w-1.5 h-8 rounded-r-md",style:{background:`linear-gradient(to bottom, ${C.textColor.includes("blue")?"#3b82f6":C.textColor.includes("green")?"#10b981":C.textColor.includes("purple")?"#8b5cf6":C.textColor.includes("amber")?"#f59e0b":"#06b6d4"}, transparent)`},initial:{height:0},animate:{height:24},transition:{duration:.2}})]})},P.path)})})]},N)})}),e.jsxs(f.div,{className:"p-4 border-t border-white/10 space-y-2 relative",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.5},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-50"}),e.jsxs(f.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:s,className:"w-full flex items-center px-4 py-2.5 text-white bg-red-500 hover:bg-red-600 rounded-lg transition-all duration-200 relative z-10 shadow-[0_0_15px_rgba(239,68,68,0.3)]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-red-500 opacity-100 rounded-lg"}),e.jsx(xe,{size:22,className:"relative z-10"}),e.jsx(I,{children:!o&&e.jsx(f.span,{className:"ml-3 relative z-10 font-medium",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},children:"Urgence"})})]}),e.jsxs(f.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:g,className:"w-full flex items-center px-4 py-2.5 text-white/60 hover:text-white hover:bg-white/8 rounded-lg transition-all duration-200 relative z-10",children:[e.jsx(Ja,{size:22,className:"relative z-10"}),e.jsx(I,{children:!o&&e.jsx(f.span,{className:"ml-3 relative z-10",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2},children:"Déconnexion"})})]}),e.jsx("div",{className:"px-4 relative z-10",children:e.jsx(ma,{})})]})]})})]})}const cr=[{label:"Toutes",value:"all"},{label:"Non lues",value:"unread"},{label:"Importantes",value:"important"}];function or({onClose:t}){const{notifications:a,markAsRead:s,markAllAsRead:i,unreadCount:r}=K(),[n,c]=x.useState("all"),[h,o]=x.useState(""),[u,d]=x.useState(!1);x.useState(null),x.useEffect(()=>{const m=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[t]),x.useEffect(()=>{const m=b=>{const p=document.querySelector(".notifications-panel"),j=document.querySelector('[data-notification-bell="true"]');j&&j.contains(b.target)||p&&!p.contains(b.target)&&t()};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[t]);const l=m=>{s(m)};return e.jsx(f.div,{className:"notifications-panel fixed inset-y-0 right-0 w-full max-w-md bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md shadow-2xl z-[9999] margin-top-65",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs(f.div,{className:"p-6 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx($e,{size:24,className:"text-brand-burgundy"}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-burgundy rounded-full flex items-center justify-center text-xs text-white",children:r})]}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Notifications"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!u),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(Z,{size:20})}),e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(R,{size:20})})]})]}),e.jsx(I,{children:u&&e.jsx(f.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"relative mt-4",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:h,onChange:m=>o(m.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all"})]})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"flex space-x-2",children:cr.map(m=>e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(m.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${n===m.value?"bg-brand-burgundy text-white":"bg-white/5 text-white/60 hover:bg-white/10 hover:text-white"}`,children:m.label},m.value))}),e.jsx(f.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"text-sm text-brand-burgundy hover:text-brand-burgundy/80 transition-colors",children:"Tout marquer comme lu"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:e.jsx(I,{mode:"popLayout",children:a.filter(m=>n==="unread"?!m.read:n==="important"?m.important:!0).filter(m=>h?m.title.toLowerCase().includes(h.toLowerCase())||m.message.toLowerCase().includes(h.toLowerCase()):!0).map((m,b)=>e.jsx(f.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:b*.05},className:`p-4 transition-colors relative group ${m.read?"bg-transparent":"bg-white/5"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${m.type==="alert"?"bg-red-500/20":m.type==="success"?"bg-green-500/20":m.type==="warning"?"bg-yellow-500/20":"bg-blue-500/20"}`,children:m.type==="alert"?e.jsx(de,{className:"text-red-400",size:20}):m.type==="success"?e.jsx(st,{className:"text-green-400",size:20}):m.type==="warning"?e.jsx(de,{className:"text-yellow-400",size:20}):e.jsx($e,{className:"text-blue-400",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${m.type==="alert"?"text-red-400":m.type==="success"?"text-green-400":m.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:m.title}),e.jsx("p",{className:"text-sm text-white/70 mt-1",children:m.message})]}),!m.read&&e.jsx("div",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-white/40",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:14,className:"mr-1"}),T(new Date(m.timestamp),"PPp",{locale:E})]}),m.important&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{className:"text-brand-burgundy",children:"Important"})]})]})]})]}),e.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[!m.read&&e.jsx(f.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>l(m.id),className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(Is,{size:16})}),e.jsx(f.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(Ne,{size:16})}),e.jsx(f.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5",children:e.jsx(me,{size:16})})]})]})},m.id))})})]})})}const jt=t=>{const a=x.useRef(null);return x.useEffect(()=>{const s=r=>{a.current&&!a.current.contains(r.target)&&t()},i=setTimeout(()=>{document.addEventListener("mousedown",s)},100);return()=>{clearTimeout(i),document.removeEventListener("mousedown",s)}},[t]),a},xr=(t,a)=>{const[s,i]=x.useState(0),[r,n]=x.useState(0),[c,h]=x.useState(0),[o,u]=x.useState(!1);return{handlers:{onTouchStart:b=>{i(b.touches[0].clientY),n(Date.now())},onTouchMove:async b=>{if(o)return;const j=b.touches[0].clientY-s,g=Date.now()-r;if(j>100&&g<300&&t){u(!0);try{await t()}finally{u(!1)}}},onTouchEnd:b=>{const p=Date.now();p-c<300&&a&&a(),h(p)}},isRefreshing:o}},mr={sm:"max-w-md",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function ne({isOpen:t,onClose:a,children:s,title:i,size:r="md",showCloseButton:n=!0,className:c=""}){const h=jt(a);return x.useEffect(()=>{const o=u=>{u.key==="Escape"&&a()};return t&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[t,a]),e.jsx(I,{children:t&&e.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs(f.div,{ref:h,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`w-full ${mr[r]} bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md rounded-lg shadow-xl ${c}`,children:[(i||n)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[i&&e.jsx("h2",{className:"text-xl font-bold text-white",children:i}),n&&e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsx("div",{className:"p-6",children:s})]})})})]})})}function hr({isOpen:t,onClose:a}){const[s,i]=x.useState(""),[r,n]=x.useState(""),[c,h]=x.useState(""),[o,u]=x.useState(8),[d,l]=x.useState(!0),[m,b]=x.useState(!1),[p,j]=x.useState(!1),g=[{id:"accident",label:"Accident de travail"},{id:"equipment",label:"Panne critique"},{id:"environmental",label:"Incident environnemental"},{id:"security",label:"Problème de sécurité"},{id:"boatIssue",label:"Panne en mer"}],w=[{name:"SAMU",number:"15",type:"medical"},{name:"Pompiers",number:"18",type:"fire"},{name:"Police",number:"17",type:"security"},{name:"Numéro d'urgence européen",number:"112",type:"all"},{name:"CROSS",number:"196",type:"sea"}];x.useEffect(()=>{let N;return t&&d&&o>0?N=setTimeout(()=>{u(C=>C-1)},1e3):o===0&&(j(!0),l(!1)),()=>{N&&clearTimeout(N)}},[t,o,d]),x.useEffect(()=>{t&&(u(8),l(!0),b(!1),j(!1))},[t]);const k=x.useCallback(()=>{l(!1),b(!0)},[]),q=x.useCallback(()=>{j(!0),i("boatIssue")},[]),v=x.useCallback(()=>{j(!0)},[]),D=x.useCallback(()=>{j(!1),a()},[a]);return p?e.jsxs("div",{className:"fixed inset-0 bg-red-900 z-50 flex flex-col items-center justify-center p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-white mb-4",children:s==="boatIssue"?e.jsx(Za,{className:"text-red-600 h-12 w-12"}):e.jsx(de,{className:"text-red-600 h-12 w-12"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s==="boatIssue"?"Appel d'aide en mer envoyé":"Appel d'urgence activé"}),e.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:s==="boatIssue"?"Une notification a été envoyée aux producteurs à proximité et aux services de secours. Quelqu'un viendra vous prêter main forte rapidement.":"Des notifications ont été envoyées aux producteurs à proximité et aux services de secours."})]}),e.jsxs("div",{className:"p-6 bg-white/10 rounded-lg max-w-2xl w-full mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(be,{className:"text-white mr-3",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Localisation"}),e.jsx("p",{className:"text-white/70",children:c||"Position GPS transmise automatiquement"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"text-white mr-3",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Heure de l'appel"}),e.jsx("p",{className:"text-white/70",children:new Date().toLocaleTimeString()})]})]})]}),e.jsx("button",{onClick:D,className:"px-8 py-3 bg-white text-red-600 rounded-lg font-bold hover:bg-white/90 transition-colors",children:"Fermer"})]}):e.jsx(ne,{isOpen:t,onClose:a,title:"Appel d'Urgence",size:"xl",showCloseButton:!1,className:"!bg-gradient-to-br !from-red-900/95 !to-brand-dark/95",children:e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-white text-lg mb-2",children:"Appel automatique dans :"}),e.jsx("div",{className:"flex justify-center items-center mb-4",children:e.jsx("div",{className:"flex items-center justify-center bg-red-500 text-white w-16 h-16 rounded-full text-3xl font-bold",children:o})}),e.jsx("button",{onClick:k,className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Arrêter le compte à rebours"})]}),m&&e.jsx("div",{className:"mb-6 p-4 border border-red-500/30 rounded-lg bg-red-500/10",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ka,{className:"text-red-500 mr-3 mt-1",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"En panne en mer ?"}),e.jsx("p",{className:"text-white/70 mb-4",children:"Vous êtes en panne en mer avec votre bateau ? Cliquez ici pour envoyer un appel d'aide immédiat. Une notification sera envoyée aux producteurs à proximité, et quelqu'un viendra rapidement vous prêter main forte."}),e.jsx("button",{onClick:q,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Je suis en panne"})]})]})}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-red-400 mb-2",children:"Numéros d'urgence"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(N=>e.jsxs("a",{href:`tel:${N.number}`,className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx(xe,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:N.name}),e.jsx("div",{className:"text-red-400 text-lg font-bold",children:N.number})]})]},N.number))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type d'urgence"}),e.jsxs("select",{value:s,onChange:N=>i(N.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Sélectionner le type d'urgence"}),g.map(N=>e.jsx("option",{value:N.id,children:N.label},N.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description de l'urgence"}),e.jsx("textarea",{value:r,onChange:N=>n(N.target.value),rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Décrivez la situation d'urgence..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Localisation"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"text",value:c,onChange:N=>h(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Précisez l'emplacement..."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Signaler l'urgence"})]})]})})}function ur(){const[t,a]=x.useState([]);return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.jsx(I,{children:t.map(s=>e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg p-4 max-w-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{a(i=>i.filter(r=>r.id!==s.id))},children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.message})]},s.id))})})}const Ns={focus:{scale:1.02,transition:{type:"spring",stiffness:300,damping:25}}};function pr(){const t=Ue();x.useState("login");const[a,s]=x.useState(!1),[i,r]=x.useState(!1),[n,c]=x.useState(""),{setSession:h}=K(),o=async u=>{u.preventDefault(),r(!0),c("");try{h({user:{id:"1",email:"demo@example.com",name:"Utilisateur Démo"},token:"demo-token"}),t("/dashboard")}catch{c("Échec de la connexion. Veuillez réessayer.")}finally{r(!1)}};return e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsx(f.div,{className:"glass-effect p-8 rounded-lg shadow-glass",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs(f.div,{variants:Ns,whileFocus:"focus",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",defaultValue:"demo@example.com",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all duration-300",required:!0})]})]}),e.jsxs(f.div,{variants:Ns,whileFocus:"focus",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:a?"text":"password",defaultValue:"demo",className:"w-full pl-10 pr-12 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:border-brand-burgundy/50 focus:ring-1 focus:ring-brand-burgundy/50 transition-all duration-300",required:!0}),e.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/40 hover:text-white/60 transition-colors",children:a?e.jsx(Wa,{size:20}):e.jsx(_e,{size:20})})]})]}),n&&e.jsx("p",{className:"text-red-400 text-sm",children:n}),e.jsxs(f.button,{type:"submit",disabled:i,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors relative overflow-hidden group",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("span",{className:"relative z-10",children:i?"Connexion en cours...":"Se connecter"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy to-brand-purple opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mt-4",children:"Utilisez n'importe quel email/mot de passe pour la démo"})]})})})}const br={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.3}}},Ht={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};function jr(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark via-brand-purple/20 to-brand-burgundy/20",children:e.jsxs("div",{className:"relative min-h-screen flex flex-col items-center justify-center p-4",children:[e.jsx(f.div,{initial:"hidden",animate:"visible",variants:br,className:"text-center max-w-4xl mx-auto px-4 mb-8",children:e.jsxs(f.div,{variants:Ht,className:"text-center",children:[e.jsx(f.div,{animate:{rotate:360},transition:{repeat:1/0,duration:3,ease:"linear"},children:e.jsx(Qe,{className:"w-24 h-24 md:w-32 md:h-32 text-brand-burgundy mx-auto"})}),e.jsx(f.h1,{variants:Ht,className:"text-3xl md:text-4xl font-industry text-white mt-4 animate-pulse",children:"OYSTER CULT"}),e.jsx(f.p,{variants:Ht,className:"text-lg md:text-xl text-white/60 mt-4",children:"Des données claires pour des coquillages d'exception"})]})},"logo"),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"w-full max-w-md",children:e.jsx(pr,{})})]})})}const gr={primary:{bg:"bg-brand-primary/10",border:"border-brand-primary/20",text:"text-brand-primary",shadow:"shadow-neon"},secondary:{bg:"bg-brand-secondary/10",border:"border-brand-secondary/20",text:"text-brand-secondary",shadow:"shadow-[0_0_20px_rgba(255,51,102,0.35)]"},tertiary:{bg:"bg-brand-tertiary/10",border:"border-brand-tertiary/20",text:"text-brand-tertiary",shadow:"shadow-[0_0_20px_rgba(112,0,255,0.35)]"}},fr={sm:{padding:"p-3 md:p-4",iconSize:"w-8 h-8 md:w-10 md:h-10",valueSize:"text-xl md:text-2xl",labelSize:"text-xs md:text-sm"},md:{padding:"p-4 md:p-6",iconSize:"w-10 h-10 md:w-12 md:h-12",valueSize:"text-2xl md:text-3xl",labelSize:"text-sm md:text-base"},lg:{padding:"p-5 md:p-8",iconSize:"w-12 h-12 md:w-14 md:h-14",valueSize:"text-3xl md:text-4xl",labelSize:"text-base md:text-lg"}};function ge({icon:t,label:a,value:s,trend:i,color:r="primary",size:n="md"}){const c=gr[r],h=fr[n];return e.jsxs(f.div,{className:`relative glass-effect rounded-xl ${h.padding} group hover:glass-effect-hover touch-manipulation`,whileHover:{y:-4},transition:{duration:.2},children:[e.jsx("div",{className:`absolute inset-0 ${c.bg} rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`${h.iconSize} rounded-xl ${c.bg} ${c.border} border flex items-center justify-center group-hover:${c.shadow} transition-all duration-300`,children:e.jsx("div",{className:`${c.text}`,children:t})}),i&&e.jsxs("div",{className:`flex items-center ${i.positive?"text-green-500":"text-red-500"} text-xs md:text-sm font-medium`,children:[e.jsx("span",{className:"mr-1",children:i.positive?"↑":"↓"}),e.jsxs("span",{children:[Math.abs(i.value),"%"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:`${h.valueSize} font-bold text-white tracking-tight`,children:s}),e.jsx("p",{className:`${h.labelSize} text-gray-300 mt-1 font-medium`,children:a})]})]})]})}const ce={temperature:18,humidity:75,windSpeed:15,windDirection:315,windGust:25,conditions:"partly-cloudy",waveHeight:.8,waveDirection:290,tideLevel:4.2,nextHighTide:"14:30",nextLowTide:"20:45",visibility:12,forecast:[{time:"12:00",temp:18,windSpeed:15,windDirection:315,waveHeight:.8},{time:"15:00",temp:19,windSpeed:18,windDirection:320,waveHeight:.9},{time:"18:00",temp:17,windSpeed:20,windDirection:310,waveHeight:1},{time:"21:00",temp:16,windSpeed:16,windDirection:305,waveHeight:.9}]},ys=t=>{const a=["N","NE","E","SE","S","SO","O","NO"],s=Math.round(t/45)%8;return a[s]},wr=({condition:t})=>{switch(t){case"sunny":return e.jsx(Xt,{className:"w-12 h-12 text-yellow-400"});case"cloudy":return e.jsx(us,{className:"w-12 h-12 text-white/60"});case"rainy":return e.jsx(ti,{className:"w-12 h-12 text-blue-400"});case"partly-cloudy":return e.jsxs("div",{className:"relative",children:[e.jsx(Xt,{className:"w-12 h-12 text-yellow-400"}),e.jsx(us,{className:"w-8 h-8 text-white/60 absolute -bottom-2 -right-2"})]})}},Nt=({title:t,icon:a,children:s})=>{const[i,r]=V.useState(!1);return e.jsxs(f.div,{className:`bg-white/5 rounded-lg p-4 transition-all duration-200 relative overflow-hidden ${i?"shadow-[0_0_15px_rgba(59,130,246,0.3)]":""}`,onHoverStart:()=>r(!0),onHoverEnd:()=>r(!1),whileHover:{scale:1.01},children:[e.jsx(f.div,{className:"absolute inset-0 bg-blue-500/10 pointer-events-none",initial:{opacity:0},animate:{opacity:i?.3:0},transition:{duration:.2}}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4 relative z-10",children:[e.jsx("div",{className:`text-brand-burgundy transition-all duration-200 ${i?"text-blue-400":""}`,children:a}),e.jsx("h3",{className:"text-white font-medium",children:t})]}),e.jsx("div",{className:"relative z-10",children:s})]})};function vr(){return e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 border border-white/10 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6 p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Nt,{title:"Conditions actuelles",icon:e.jsx(Ve,{size:20}),children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(wr,{condition:ce.conditions}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-white",children:[ce.temperature,"°C"]}),e.jsx("div",{className:"text-white/60",children:"Partiellement nuageux"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Humidité"}),e.jsxs("div",{className:"text-lg font-medium text-white",children:[ce.humidity,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Visibilité"}),e.jsxs("div",{className:"text-lg font-medium text-white",children:[ce.visibility," km"]})]})]})]}),e.jsx(Nt,{title:"Conditions du vent",icon:e.jsx(ei,{size:20}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Vitesse"}),e.jsxs("div",{className:"text-lg font-medium text-white",children:[ce.windSpeed," km/h"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Direction"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(It,{className:"text-brand-burgundy mr-2",size:16,style:{transform:`rotate(${ce.windDirection}deg)`}}),e.jsx("span",{className:"text-lg font-medium text-white",children:ys(ce.windDirection)})]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Nt,{title:"État de la mer",icon:e.jsx(Ee,{size:20}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Hauteur"}),e.jsxs("div",{className:"text-lg font-medium text-white",children:[ce.waveHeight,"m"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Direction"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(It,{className:"text-brand-burgundy mr-2",size:16,style:{transform:`rotate(${ce.waveDirection}deg)`}}),e.jsx("span",{className:"text-lg font-medium text-white",children:ys(ce.waveDirection)})]})]})]})}),e.jsx(Nt,{title:"Marées",icon:e.jsx(Ee,{size:20}),children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Niveau actuel"}),e.jsxs("div",{className:"text-lg font-medium text-white",children:[ce.tideLevel,"m"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Coefficient"}),e.jsx("div",{className:"text-lg font-medium text-white",children:"95"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Prochaine PM"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Os,{className:"w-4 h-4 text-brand-burgundy mr-1"}),e.jsx("span",{className:"text-lg font-medium text-white",children:ce.nextHighTide})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Prochaine BM"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hs,{className:"w-4 h-4 text-brand-burgundy mr-1"}),e.jsx("span",{className:"text-lg font-medium text-white",children:ce.nextLowTide})]})]})]})})]})]}),e.jsxs("div",{className:"border-t border-white/10 p-6",children:[e.jsx("h3",{className:"text-white font-medium mb-4",children:"Prévisions horaires"}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:ce.forecast.map((t,a)=>e.jsxs(f.div,{className:"bg-white/5 rounded-lg p-3 transition-all duration-200 relative overflow-hidden",whileHover:{scale:1.03,boxShadow:"0 0 15px rgba(59, 130, 246, 0.3)"},onHoverStart:s=>{},children:[e.jsx(f.div,{className:"absolute inset-0 bg-blue-500/10 pointer-events-none",initial:{opacity:0},whileHover:{opacity:.3},transition:{duration:.2}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-sm text-white/60 mb-2",children:t.time}),e.jsxs("div",{className:"text-lg font-medium text-white mb-2",children:[t.temp,"°C"]}),e.jsxs("div",{className:"space-y-2 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(It,{className:"w-4 h-4 text-brand-burgundy mr-1",style:{transform:`rotate(${t.windDirection}deg)`}}),e.jsxs("span",{children:[t.windSpeed," km/h"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ee,{className:"w-4 h-4 text-brand-burgundy mr-1"}),e.jsxs("span",{children:[t.waveHeight,"m"]})]})]})]})]},a))})]})]})}function Nr({table:t,onClose:a}){const s=jt(a);return e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(f.div,{ref:s,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:t.type})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(G,{size:20,className:"mr-2 text-brand-burgundy"}),"Occupation"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.value,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ae,{size:20,className:"mr-2 text-brand-burgundy"}),"Récolte prévue"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.harvest})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(de,{size:20,className:"mr-2 text-brand-burgundy"}),"Mortalité"]}),e.jsxs("div",{className:`text-2xl font-bold ${t.mortality<=2?"text-green-400":t.mortality<=3?"text-yellow-400":"text-red-400"}`,children:[t.mortality,"%"]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"État des stocks"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Stock actuel"}),e.jsx("div",{className:"text-sm text-white/60",children:"5000 unités"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:"85%"}),e.jsx("div",{className:"text-sm text-white/60",children:"de la capacité"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Stock minimum"}),e.jsx("div",{className:"text-sm text-white/60",children:"1000 unités"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:"20%"}),e.jsx("div",{className:"text-sm text-white/60",children:"de la capacité"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Stock maximum"}),e.jsx("div",{className:"text-sm text-white/60",children:"6000 unités"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-medium",children:"100%"}),e.jsx("div",{className:"text-sm text-white/60",children:"de la capacité"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}function yr({pool:t,onClose:a}){const s=jt(a);return e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(f.div,{ref:s,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-white/60",children:["Bassin de ",t.type]})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Ve,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.waterQuality.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(le,{size:20,className:"mr-2 text-brand-burgundy"}),"Qualité eau"]}),e.jsxs("div",{className:`text-2xl font-bold ${t.waterQuality.quality>=95?"text-green-400":t.waterQuality.quality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality.quality,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(G,{size:20,className:"mr-2 text-brand-burgundy"}),"Occupation"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(t.currentLoad/t.capacity*100),"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[t.currentLoad,"/",t.capacity]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Lots en purification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"LOT-2025-001"}),e.jsx("div",{className:"text-sm text-white/60",children:"500 kg"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white",children:"12h"}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"LOT-2025-002"}),e.jsx("div",{className:"text-sm text-white/60",children:"300 kg"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white",children:"24h"}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})})]})]})})}const Cr=t=>{const[a,s,i]=t.split("/"),r=new Date(parseInt(`20${i}`),parseInt(s)-1,parseInt(a));return si(r,new Date)},kr=[{name:"Table A1",value:85,color:"#22c55e",type:"Plates N°3",harvest:"15/06/25",mortality:2.1},{name:"Table A2",value:75,color:"#eab308",type:"Creuses N°2",harvest:"20/06/25",mortality:2.8},{name:"Table B1",value:90,color:"#22c55e",type:"Plates N°4",harvest:"01/07/25",mortality:1.9},{name:"Table B2",value:65,color:"#ef4444",type:"Creuses N°3",harvest:"05/07/25",mortality:3.2}],Sr=[{name:"Bassin A1",value:80,color:"#22c55e",type:"Purification",capacity:1e3,currentLoad:800,waterQuality:{quality:98,oxygen:95,temperature:12.5}},{name:"Bassin A2",value:65,color:"#eab308",type:"Purification",capacity:1e3,currentLoad:650,waterQuality:{quality:92,oxygen:88,temperature:13.2}},{name:"Bassin B1",value:90,color:"#22c55e",type:"Stockage",capacity:1500,currentLoad:1350,waterQuality:{quality:96,oxygen:92,temperature:12.8}}];function zr(){const[t,a]=x.useState(null),[s,i]=x.useState(null),[r,n]=x.useState(null),[c,h]=x.useState(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-full"}),e.jsx($s,{size:24,className:"text-brand-burgundy relative z-10"})]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tableau de bord"})]}),e.jsx(vr,{}),e.jsx("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-white",children:"Occupation des tables"}),e.jsx("div",{className:"text-xs md:text-sm text-white/60",children:"4 tables actives"})]}),e.jsx("div",{className:"space-y-3",children:kr.map((o,u)=>{const d=Cr(o.harvest);return e.jsxs(f.div,{className:`relative bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-all duration-200 cursor-pointer overflow-hidden ${t===o.name?"ring-2 ring-brand-burgundy shadow-neon":""}`,onHoverStart:()=>a(o.name),onHoverEnd:()=>a(null),onClick:()=>n(o),whileHover:{y:-4},children:[e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:t===o.name?1:0},transition:{duration:.2}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm md:text-base text-white",children:o.name}),e.jsx("div",{className:"text-xs text-white/70",children:o.type})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm md:text-base font-semibold text-white",children:[o.value,"%"]}),e.jsx("div",{className:"text-xs text-white/70",children:"occupée"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:"w-4 h-4 mr-1"}),"Récolte: ",o.harvest]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-1"}),d,"j"]})]}),e.jsxs("div",{className:`flex items-center ${o.mortality<=2?"text-green-400":o.mortality<=3?"text-yellow-400":"text-red-400"}`,children:[e.jsx(de,{className:"w-4 h-4 mr-1"}),o.mortality,"% mortalité"]})]})]})]},u)})})]}),e.jsxs("div",{className:"space-y-4 md:space-y-6 mt-6 md:mt-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-white",children:"Santé des bassins"}),e.jsx("div",{className:"text-xs md:text-sm text-white/60",children:"3 bassins actifs"})]}),e.jsx("div",{className:"space-y-3",children:Sr.map((o,u)=>e.jsxs(f.div,{className:`relative bg-white/5 rounded-lg p-4 hover:bg-white/10 transition-all duration-200 cursor-pointer overflow-hidden ${s===o.name?"ring-2 ring-brand-burgundy shadow-neon":""}`,onHoverStart:()=>i(o.name),onHoverEnd:()=>i(null),onClick:()=>h(o),whileHover:{y:-4},children:[e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-burgundy/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:s===o.name?1:0},transition:{duration:.2}}),e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 to-blue-500/10 pointer-events-none",initial:{opacity:0},animate:{opacity:s===o.name?1:.5},transition:{duration:.2}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm md:text-base text-white",children:o.name}),e.jsx("div",{className:"text-xs text-white/70",children:o.type})]})]}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm ${o.value>=85?"bg-green-500/20 text-green-300":o.value>=70?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:[o.value,"% occupé"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsx("div",{className:`px-2 py-1 rounded-lg text-sm ${o.waterQuality.quality>=95?"bg-green-500/20 text-green-300":o.waterQuality.quality>=90?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-3 h-3 mr-1"}),o.waterQuality.quality,"%"]})}),e.jsx("div",{className:`px-2 py-1 rounded-lg text-sm ${o.waterQuality.oxygen>=90?"bg-green-500/20 text-green-300":o.waterQuality.oxygen>=85?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),o.waterQuality.oxygen,"%"]})}),e.jsx("div",{className:`px-2 py-1 rounded-lg text-sm ${o.waterQuality.temperature<=13?"bg-green-500/20 text-green-300":o.waterQuality.temperature<=14?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ve,{className:"w-3 h-3 mr-1"}),o.waterQuality.temperature,"°C"]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(G,{className:"w-4 h-4 mr-1"}),o.currentLoad," / ",o.capacity," kg"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(Ee,{className:"w-4 h-4 mr-1"}),o.type==="Purification"?"24h restantes":"Stockage long terme"]})]})]})]},u))})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ge,{icon:e.jsx(W,{size:24,className:"text-brand-accent"}),label:"Stock total",value:"156,000",trend:{value:12,positive:!0},color:"primary"}),e.jsx(ge,{icon:e.jsx(ae,{size:24,className:"text-brand-accent"}),label:"Récoltes prévues",value:"15/06",unit:"Table A1, A2",color:"secondary"}),e.jsx(ge,{icon:e.jsx(ee,{size:24,className:"text-brand-accent"}),label:"Dernier échantillonnage",value:"19/02",unit:"Table B1, B2",color:"tertiary"}),e.jsx(ge,{icon:e.jsx(de,{size:24,className:"text-brand-accent"}),label:"Taux mortalité moyen",value:"2.4",unit:"%",trend:{value:.3,positive:!1},color:"primary"})]}),e.jsx("div",{className:"glass-effect rounded-xl p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-white",children:"Alertes récentes"}),e.jsx("div",{className:"text-xs md:text-sm text-white/60",children:"3 nouvelles alertes"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"}),e.jsxs(I,{children:[r&&e.jsx(Nr,{table:r,onClose:()=>n(null)}),c&&e.jsx(yr,{pool:c,onClose:()=>h(null)})]})]})}const Dr=[{id:"1",name:"Bouzigues",tableNumber:"T-1234",position:{x:50,y:150},size:{width:150,height:400},status:"optimal",temperature:12.5,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:2.5,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`b1-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:300,estimatedHarvestDate:"2025-06-15"}},{id:"2",name:"Bouzigues",tableNumber:"T-1235",position:{x:250,y:150},size:{width:150,height:400},status:"optimal",temperature:12.8,salinity:34,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.8,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`b2-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:300,estimatedHarvestDate:"2025-06-20"}},{id:"3",name:"Mèze",tableNumber:"T-2234",position:{x:500,y:250},size:{width:150,height:400},status:"warning",temperature:13.2,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:4.2,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`m1-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:500,estimatedHarvestDate:"2025-07-01"}},{id:"4",name:"Mèze",tableNumber:"T-2235",position:{x:700,y:250},size:{width:150,height:400},status:"warning",temperature:13,salinity:33,lastCheck:"2025-02-18",nextCheck:"2025-02-25",mortalityRate:3.7,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`m2-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"4",quantity:350,estimatedHarvestDate:"2025-07-05"}},{id:"5",name:"Marseillan",tableNumber:"T-3234",position:{x:900,y:400},size:{width:150,height:400},status:"optimal",temperature:12.3,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.5,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`ma1-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"3",quantity:550,estimatedHarvestDate:"2025-06-25"}},{id:"6",name:"Marseillan",tableNumber:"T-3235",position:{x:1100,y:400},size:{width:150,height:400},status:"optimal",temperature:12.4,salinity:35,lastCheck:"2025-02-19",nextCheck:"2025-02-26",mortalityRate:1.9,cells:Array(20).fill(null).map((t,a)=>{const s=Math.random()>.3,i=a%2,r=Math.floor(a/2),n=i===0?r+1:r+11;return{id:`ma2-cell-${a}`,filled:s,fillOrder:s?n:void 0,type:["triplo","diplo","naturelle"][Math.floor(Math.random()*3)]}}),currentBatch:{size:"2",quantity:480,estimatedHarvestDate:"2025-06-30"}}];function ha({onTableSelect:t,onTableHover:a,hoveredTable:s,selectedTable:i}){var N,C,P,O,L,te,F,U,Y,re,he,je,ye,Ce,Fe,Re,y,$,H;x.useState(!0);const[r,n]=x.useState(1),[c,h]=x.useState({x:0,y:0}),[o,u]=x.useState(Dr);x.useState(null),x.useState(!1);const[d,l]=x.useState(null),[m,b]=x.useState(""),p={initial:{opacity:.6,scale:.95},animate:M=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:M*.1,ease:"easeInOut"}})},j={initial:{opacity:.8,scale:.95},animate:M=>({opacity:[.8,1,.8],scale:[.95,1.05,.95],transition:{duration:4,repeat:1/0,delay:M*.2,ease:"easeInOut"}})},g=()=>{n(M=>{const A=Math.min(M+.2,3);return console.log("Zoom in:",A),A})},w=()=>{n(M=>{const A=Math.max(M-.2,.5);return console.log("Zoom out:",A),A})},k=()=>{n(.5),h({x:0,y:0})},q=(M,A)=>{l(M),b(A)},v=M=>{console.log(`Table ID: ${M}, Nouveau numéro: ${m}`),o.map(A=>A.id===M?{...A,tableNumber:m}:A),l(null)},D=()=>{l(null)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx("div",{className:"col-span-9 glass-effect rounded-xl",children:e.jsxs("div",{className:"relative h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-burgundy/5 to-brand-burgundy/10"}),e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,...')] opacity-10"})]}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 flex justify-between p-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(ve,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Bouzigues"})]}),e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(ve,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Mèze"})]}),e.jsxs("div",{className:"glass-effect rounded-lg px-4 py-2 flex items-center space-x-2",children:[e.jsx(ve,{size:16,className:"text-brand-burgundy"}),e.jsx("span",{className:"text-white font-medium",children:"Marseillan"})]})]}),e.jsxs("div",{className:"absolute bottom-6 right-6 flex items-center space-x-4",children:[e.jsxs("div",{className:"glass-effect p-2 rounded-lg z-30",children:[e.jsx("button",{onClick:g,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:e.jsx(ai,{size:18})}),e.jsx("button",{onClick:w,className:"p-1.5 hover:bg-white/10 rounded-md text-white mr-1",children:e.jsx(ii,{size:18})}),e.jsx("button",{onClick:k,className:"p-1.5 hover:bg-white/10 rounded-md text-white",children:e.jsx(ri,{size:18})})]}),e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 rounded-full blur-xl"}),e.jsxs("div",{className:"relative w-full h-full bg-black/40 backdrop-blur-sm rounded-full border border-white/20 flex items-center justify-center",children:[e.jsx(li,{size:48,className:"text-brand-burgundy animate-spin-slow"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-white font-bold text-xs",children:"N"})})]})]})]}),e.jsx("div",{className:"relative h-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 transition-transform duration-300 ease-out",style:{transform:`scale(${r}) translate(${c.x}px, ${c.y}px)`,transformOrigin:"center center",cursor:"grab"},onMouseDown:M=>{const A=M.currentTarget,De=M.clientX,ke=M.clientY,Ge=c.x,nt=c.y,Ie=Oe=>{const Xe=(Oe.clientX-De)/r,Ye=(Oe.clientY-ke)/r;h({x:Ge+Xe,y:nt+Ye}),A.style.cursor="grabbing"},Le=()=>{document.removeEventListener("mousemove",Ie),document.removeEventListener("mouseup",Le),A.style.cursor="grab"};document.addEventListener("mousemove",Ie),document.addEventListener("mouseup",Le)},children:o.map(M=>e.jsxs(f.div,{className:"absolute",style:{left:`${M.position.x}px`,top:`${M.position.y}px`,width:`${M.size.width}px`,height:`${M.size.height}px`},whileHover:{scale:1.02},onHoverStart:()=>a==null?void 0:a(M),onHoverEnd:()=>a==null?void 0:a(null),onClick:()=>t(M),children:[e.jsx("div",{className:"absolute -top-16 left-1/2 transform -translate-x-1/2 glass-effect px-3 py-1 rounded-full",children:d===M.id?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"text",value:m,onChange:A=>b(A.target.value),className:"w-20 py-1 px-2 bg-white/10 border border-white/20 rounded text-white text-sm",autoFocus:!0,onClick:A=>A.stopPropagation(),onKeyDown:A=>{A.stopPropagation(),A.key==="Enter"?v(M.id):A.key==="Escape"&&D()}}),e.jsx("button",{onClick:A=>{A.stopPropagation(),v(M.id)},className:"text-brand-primary hover:text-brand-primary/80",children:e.jsx(is,{size:14})})]}):e.jsxs("span",{className:"text-white text-sm font-medium cursor-pointer flex items-center",onClick:A=>{A.stopPropagation(),q(M.id,M.tableNumber)},children:[M.tableNumber,e.jsx(ut,{size:12,className:"ml-1 text-white/60 hover:text-white"})]})}),e.jsxs("div",{className:`relative h-full rounded-lg overflow-hidden transition-all duration-300
                        ${(i==null?void 0:i.id)===M.id?"ring-4 ring-brand-burgundy shadow-neon":"ring-1 ring-white/20"}`,children:[e.jsx("div",{className:`absolute inset-0 backdrop-blur-sm ${M.status==="optimal"?"bg-green-500/10":M.status==="warning"?"bg-yellow-500/10":"bg-red-500/10"}`,children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"})}),e.jsx("div",{className:"absolute inset-0 grid grid-cols-2 grid-rows-10 gap-2 p-4",children:M.cells.map((A,De)=>e.jsx(f.div,{className:`relative rounded-md transition-all duration-300 ${A.filled?`${A.type==="triplo"?"bg-brand-burgundy shadow-neon":A.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5"}`,variants:A.filled?j:p,initial:"initial",animate:"animate",custom:De,children:e.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:A.filled&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-bold",children:A.fillOrder})})})},A.id))})]})]},M.id))})}),e.jsxs("div",{className:"absolute bottom-6 left-6 glass-effect rounded-lg p-4",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Types d'huîtres"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-burgundy shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Triploïdes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-primary shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Diploïdes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-sm bg-brand-tertiary shadow-neon"}),e.jsx("span",{className:"text-white/60 text-sm",children:"Naturelles"})]}),e.jsx("div",{className:"mt-4 pt-2 border-t border-white/10",children:e.jsx("span",{className:"text-white/60 text-sm",children:"Les numéros indiquent l'ordre de remplissage"})})]})]})]})}),e.jsx("div",{className:"col-span-3",children:e.jsx(I,{mode:"wait",children:s||i?e.jsxs(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"glass-effect p-6 rounded-xl h-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Table ",(N=i||s)==null?void 0:N.tableNumber]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm ${((C=i||s)==null?void 0:C.status)==="optimal"?"bg-green-500/20 text-green-400":((P=i||s)==null?void 0:P.status)==="warning"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:((O=i||s)==null?void 0:O.status)==="optimal"?"Optimal":((L=i||s)==null?void 0:L.status)==="warning"?"Attention":"Critique"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[e.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Température"}),e.jsxs("div",{className:"text-white font-medium flex items-center",children:[e.jsx(Ve,{className:"w-4 h-4 mr-1 text-brand-burgundy"}),(te=i||s)==null?void 0:te.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[e.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Salinité"}),e.jsxs("div",{className:"text-white font-medium flex items-center",children:[e.jsx(le,{className:"w-4 h-4 mr-1 text-brand-primary"}),(F=i||s)==null?void 0:F.salinity," g/L"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Occupation"}),e.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-brand-burgundy",style:{width:`${(((U=i||s)==null?void 0:U.cells.filter(M=>M.filled).length)||0)*5}%`}})}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsxs("span",{className:"text-xs text-white/60",children:[(Y=i||s)==null?void 0:Y.cells.filter(M=>M.filled).length," / 20 emplacements"]}),e.jsxs("span",{className:"text-xs text-white/60",children:[(((re=i||s)==null?void 0:re.cells.filter(M=>M.filled).length)||0)*5,"%"]})]})]})]}),((he=i||s)==null?void 0:he.currentBatch)&&e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(G,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",(ye=(je=i||s)==null?void 0:je.currentBatch)==null?void 0:ye.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[(Fe=(Ce=i||s)==null?void 0:Ce.currentBatch)==null?void 0:Fe.quantity," kg d'Huîtres N°",(y=(Re=i||s)==null?void 0:Re.currentBatch)==null?void 0:y.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:new Date(((H=($=i||s)==null?void 0:$.currentBatch)==null?void 0:H.estimatedHarvestDate)||"").toLocaleDateString()})]})]})]})]},"table-info"):e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"glass-effect p-6 rounded-xl flex flex-col items-center justify-center h-full text-center",children:[e.jsx("div",{className:"bg-white/5 rounded-full p-4 mb-4",children:e.jsx(ve,{className:"w-10 h-10 text-brand-burgundy"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sélectionnez une table"}),e.jsx("p",{className:"text-white/60",children:"Cliquez sur une table pour voir ses détails et gérer son contenu"})]},"no-table-selected")})})]})})}function Mr({isOpen:t,onClose:a,onConfirm:s,maintenanceType:i,lastMaintenance:r,uvLampHours:n}){const[c,h]=x.useState(""),[o,u]=x.useState(!1),d=()=>{s(i,c),u(!1),a()};return e.jsx(ne,{isOpen:t,onClose:a,title:i==="cleaning"?"Nettoyage du bassin":"Changement de la lampe UV",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[e.jsx(de,{size:24,className:"text-yellow-400 flex-shrink-0"}),e.jsx("p",{className:"text-yellow-400",children:i==="cleaning"?"Le bassin devra être vidé pour le nettoyage. Assurez-vous qu'aucun lot n'est en cours de purification.":"La lampe UV doit être changée après 8000 heures d'utilisation pour garantir son efficacité."})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ee,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Dernière maintenance"}),e.jsx("div",{className:"text-white font-medium",children:T(new Date(r),"PPP",{locale:E})})]})]}),i==="uv_lamp"&&n&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx(ee,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Heures d'utilisation"}),e.jsxs("div",{className:`font-medium ${n>=8e3?"text-red-400":n>=7e3?"text-yellow-400":"text-white"}`,children:[n," heures"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de maintenance"}),e.jsx("textarea",{value:c,onChange:l=>h(l.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes sur la maintenance..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer la maintenance"})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60]",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmer l'opération"}),e.jsxs("p",{className:"text-white/70 mb-6",children:["Êtes-vous sûr de vouloir procéder à ",i==="cleaning"?"ce nettoyage":"ce changement de lampe UV"," ? Cette action sera enregistrée dans l'historique de maintenance."]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Confirmer"})]})]})})]})})}function Tr({isOpen:t,onClose:a,onConfirm:s,batch:i}){const[r,n]=x.useState(i.quantity),[c,h]=x.useState(""),[o,u]=x.useState(""),[d,l]=x.useState(i.remainingTime>0),m=b=>{b.preventDefault(),s({quantity:r,destination:c,notes:o})};return e.jsx(ne,{isOpen:t,onClose:a,title:"Sortie de lot",size:"md",children:e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Détails du lot"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Numéro de lot"}),e.jsx("div",{className:"text-white font-medium",children:i.number})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white font-medium",children:i.type})]})]})]}),d&&e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(de,{size:20,className:"text-yellow-400 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium",children:"Attention"}),e.jsxs("p",{className:"text-yellow-400/80 mt-1",children:["Ce lot a encore ",i.remainingTime,"h de purification restantes. Êtes-vous sûr de vouloir le sortir maintenant ?"]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité à sortir"}),e.jsx("input",{type:"number",value:r,onChange:b=>n(Number(b.target.value)),max:i.quantity,min:1,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",required:!0}),e.jsxs("p",{className:"mt-1 text-sm text-white/60",children:["Maximum disponible : ",i.quantity," unités"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Destination"}),e.jsxs("select",{value:c,onChange:b=>h(b.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner une destination..."}),e.jsx("option",{value:"stock",children:"Stock"}),e.jsx("option",{value:"vente",children:"Vente directe"}),e.jsx("option",{value:"destruction",children:"Destruction"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes"}),e.jsx("textarea",{value:o,onChange:b=>u(b.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes ou observations..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(rs,{size:20,className:"mr-2"}),"Sortir le lot"]})]})]})})}const Pr=[{id:"1",name:"Bassin A1",capacity:1e3,currentOccupancy:800,filterType:"UV + Ozone",filterStatus:"active",waterQuality:98,lastMaintenance:"2025-02-15",temperature:12.5,uvLampHours:7500,lastUVChange:"2024-08-15",batches:[{id:"b1",number:"LOT-2025-001",quantity:500,entryTime:"2025-02-18T08:00:00",remainingTime:12,type:"plates"},{id:"b2",number:"LOT-2025-002",quantity:300,entryTime:"2025-02-19T10:00:00",remainingTime:24,type:"creuses"}]},{id:"2",name:"Bassin A2",capacity:1e3,currentOccupancy:600,filterType:"UV",filterStatus:"maintenance",waterQuality:92,lastMaintenance:"2025-02-10",temperature:13,uvLampHours:8200,lastUVChange:"2024-07-01",batches:[{id:"b3",number:"LOT-2025-003",quantity:600,entryTime:"2025-02-17T14:00:00",remainingTime:4,type:"speciales"}]}];function Ar({pool:t,onClose:a}){const[s,i]=x.useState("info"),r=jt(a),[n,c]=x.useState(!1),[h,o]=x.useState("cleaning"),[u,d]=x.useState(null),[l,m]=x.useState(!1),b=(j,g)=>{console.log(`Maintenance ${j} confirmée:`,g),c(!1)},p=j=>{console.log("Sortie du lot:",{batch:u,...j}),m(!1),d(null)};return e.jsxs(e.Fragment,{children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(f.div,{ref:r,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),e.jsxs("p",{className:"text-white/60",children:["Système de filtration : ",t.filterType]})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{onClick:()=>i("info"),className:`px-4 py-2 rounded-lg transition-colors ${s==="info"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Informations"}),e.jsx("button",{onClick:()=>i("history"),className:`px-4 py-2 rounded-lg transition-colors ${s==="history"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Historique"}),e.jsx("button",{onClick:()=>i("config"),className:`px-4 py-2 rounded-lg transition-colors ${s==="config"?"bg-brand-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:"Configuration"})]}),e.jsxs(I,{mode:"wait",children:[s==="info"&&e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Ve,{size:20,className:"mr-2 text-brand-primary"}),"Température"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(le,{size:20,className:"mr-2 text-brand-primary"}),"Qualité eau"]}),e.jsxs("div",{className:`text-2xl font-bold ${t.waterQuality>=95?"text-green-400":t.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(G,{size:20,className:"mr-2 text-brand-primary"}),"Occupation"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(t.currentOccupancy/t.capacity*100),"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[t.currentOccupancy,"/",t.capacity]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Lots en purification"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{o("cleaning"),c(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(ni,{size:16,className:"mr-1 inline-block"}),"Nettoyage"]}),e.jsxs("button",{onClick:()=>{o("uv_lamp"),c(!0)},className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(ps,{size:16,className:"mr-1 inline-block"}),"Lampe UV"]}),e.jsxs("button",{className:"px-3 py-1.5 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Q,{size:16,className:"mr-1 inline-block"}),"Nouveau lot"]})]})]}),e.jsx("div",{className:"space-y-3",children:t.batches.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:j.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[j.quantity," kg - ",j.type]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[j.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),e.jsx("button",{onClick:()=>{d(j),m(!0)},className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:e.jsx(rs,{size:20,className:"text-white/60"})})]})]},j.id))})]}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(ps,{size:20,className:"mr-2 text-brand-primary"}),"Lampe UV"]}),e.jsxs("div",{className:`text-lg font-medium ${t.uvLampHours>=8e3?"text-red-400":t.uvLampHours>=7e3?"text-yellow-400":"text-white"}`,children:[t.uvLampHours," heures d'utilisation"]}),e.jsxs("div",{className:"text-sm text-white/60",children:["Dernier changement: ",T(new Date(t.lastUVChange),"PP",{locale:E})]})]}),t.uvLampHours>=7e3&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{size:20,className:"text-yellow-400"}),e.jsx("span",{className:"text-yellow-400",children:t.uvLampHours>=8e3?"Changement nécessaire":"Changement recommandé"})]})]})})]},"info"),s==="history"&&e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Historique des opérations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx(ee,{size:16,className:"mr-2"}),e.jsxs("span",{children:["Dernier nettoyage: ",T(new Date(t.lastMaintenance),"PP",{locale:E})]})]})}),e.jsx("div",{className:"p-3 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx(ie,{size:16,className:"mr-2"}),e.jsxs("span",{children:["Changement filtre: ",T(new Date(t.lastMaintenance),"PP",{locale:E})]})]})})]})]})},"history"),s==="config"&&e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Configuration du bassin"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de filtration"}),e.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"uv",children:"UV"}),e.jsx("option",{value:"uv_ozone",children:"UV + Ozone"}),e.jsx("option",{value:"mechanical",children:"Mécanique"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Durée de purification par défaut"}),e.jsx("input",{type:"number",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Heures"})]})]})]})},"config")]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),s==="config"&&e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})}),n&&e.jsx(Mr,{isOpen:n,onClose:()=>c(!1),onConfirm:b,maintenanceType:h,lastMaintenance:t.lastMaintenance,uvLampHours:t.uvLampHours}),l&&u&&e.jsx(Tr,{isOpen:l,onClose:()=>{m(!1),d(null)},onConfirm:p,batch:u})]})}function qr(){const[t,a]=x.useState(null),[s,i]=x.useState(null),[r,n]=x.useState(Pr),[c,h]=x.useState(!1),[o,u]=x.useState(null),[d,l]=x.useState({number:"",quantity:0,type:"plates",entryTime:T(new Date,"yyyy-MM-dd'T'HH:mm")}),m=(p,j)=>{p.stopPropagation(),u(j),l({number:`LOT-${T(new Date,"yyyy")}-${String(Math.floor(Math.random()*999)).padStart(3,"0")}`,quantity:0,type:"plates",entryTime:T(new Date,"yyyy-MM-dd'T'HH:mm")}),h(!0)},b=()=>{o&&d.quantity>0&&(console.log(`Ajout d'un lot au bassin ${o.name}:`,d),h(!1),u(null))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 gap-6",children:r.map(p=>e.jsxs(f.div,{className:`bg-white/5 border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer relative overflow-hidden ${s===p.id?"ring-2 ring-brand-primary shadow-neon":""}`,onClick:()=>a(p),onHoverStart:()=>i(p.id),onHoverEnd:()=>i(null),whileHover:{y:-4},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:p.name}),e.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/60",children:[e.jsx(ie,{size:16,className:"mr-1"}),p.filterType]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:j=>m(j,p),className:"px-3 py-1 text-sm bg-brand-primary rounded-lg text-white hover:bg-brand-primary/80 transition-colors flex items-center",children:[e.jsx(Q,{size:14,className:"mr-1"}),"Rentrer un lot"]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${p.filterStatus==="active"?"bg-green-500/20 text-green-300":p.filterStatus==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:p.filterStatus==="active"?"Actif":p.filterStatus==="maintenance"?"Maintenance":"Erreur"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Occupation"}),e.jsxs("div",{className:"text-xl font-bold text-white",children:[Math.round(p.currentOccupancy/p.capacity*100),"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[p.currentOccupancy,"/",p.capacity]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Qualité eau"}),e.jsxs("div",{className:`text-xl font-bold ${p.waterQuality>=95?"text-green-400":p.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[p.waterQuality,"%"]}),e.jsxs("div",{className:"text-sm text-white/60",children:[p.temperature,"°C"]})]})]}),e.jsx("div",{className:"space-y-3",children:p.batches.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:j.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[j.quantity," kg"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[j.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]}),e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",title:"Sortir le lot",children:e.jsx(rs,{size:20,className:"text-white/60"})})]})]},j.id))}),e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-r from-brand-primary/5 to-transparent pointer-events-none",initial:{opacity:0},animate:{opacity:s===p.id?1:0},transition:{duration:.2}})]},p.id))}),e.jsx(I,{children:t&&e.jsx(Ar,{pool:t,onClose:()=>a(null)})}),c&&o&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",onClick:p=>p.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Rentrer un lot dans ",o.name]}),e.jsx("button",{onClick:()=>h(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:p=>{p.preventDefault(),b()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot"}),e.jsx("input",{type:"text",value:d.number,onChange:p=>l({...d,number:p.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type d'huîtres"}),e.jsxs("select",{value:d.type,onChange:p=>l({...d,type:p.target.value}),className:"w-full p-4 bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"plates",children:"Plates"}),e.jsx("option",{value:"creuses",children:"Creuses"}),e.jsx("option",{value:"speciales",children:"Spéciales"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité"}),e.jsx("input",{type:"number",value:d.quantity,onChange:p=>l({...d,quantity:parseInt(p.target.value)}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date et heure d'entrée"}),e.jsx("input",{type:"datetime-local",value:d.entryTime,onChange:p=>l({...d,entryTime:p.target.value}),className:"w-full p-4 bg-white/5 rounded-lg text-white border border-white/10"})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter le lot"})]})]})]})})]})}const Cs={squares:10,rows:5,columns:2},Fr=[{id:"1",number:1,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"101",name:"Lot 2023-A",date:new Date(2023,2,15)},{id:"102",name:"Lot 2023-B",date:new Date(2023,3,20)}]},{id:"2",number:2,status:"partial",remainingRopes:50,totalRopes:100,batches:[{id:"103",name:"Lot 2023-C",date:new Date(2023,4,10)}]},{id:"3",number:3,status:"empty",remainingRopes:100,totalRopes:100,batches:[]},{id:"4",number:4,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"104",name:"Lot 2023-D",date:new Date(2023,5,15)},{id:"105",name:"Lot 2023-E",date:new Date(2023,6,20)}]},{id:"5",number:5,status:"partial",remainingRopes:40,totalRopes:100,batches:[{id:"106",name:"Lot 2023-F",date:new Date(2023,7,10)},{id:"107",name:"Lot 2023-G",date:new Date(2023,8,20)}]},{id:"6",number:6,status:"empty",remainingRopes:100,totalRopes:100,batches:[]},{id:"7",number:7,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"108",name:"Lot 2023-H",date:new Date(2023,9,15)},{id:"109",name:"Lot 2023-I",date:new Date(2023,10,20)},{id:"110",name:"Lot 2023-J",date:new Date(2023,11,10)}]},{id:"8",number:8,status:"partial",remainingRopes:70,totalRopes:100,batches:[{id:"111",name:"Lot 2023-K",date:new Date(2023,0,15)}]},{id:"9",number:9,status:"empty",remainingRopes:100,totalRopes:100,batches:[]},{id:"10",number:10,status:"full",remainingRopes:0,totalRopes:100,batches:[{id:"112",name:"Lot 2023-L",date:new Date(2023,1,20)},{id:"113",name:"Lot 2023-M",date:new Date(2023,2,10)}]}],Rr=(t,a)=>({id:String(a+1),name:t.batchNumber||`Lot ${t.id}`,date:t.startDate?new Date(t.startDate):new Date}),ks=t=>t==="table1"?1:t==="table2"?2:t==="table3"?3:0;function ua(){const[t,a]=x.useState(null),[s,i]=x.useState(null),[r,n]=x.useState({x:0,y:0}),[c,h]=x.useState(!1),[o,u]=x.useState(!0),[d,l]=x.useState(!1),[m,b]=x.useState(null),[p,j]=x.useState(Fr),[g,w]=x.useState(!1),[k,q]=x.useState({type:"",quantity:1,date:T(new Date,"yyyy-MM-dd"),batchNumber:`LOT-${T(new Date,"yyyyMMdd")}-${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`}),[v,D]=x.useState(!1),[N,C]=x.useState(1),[P,O]=x.useState(""),{batches:L,updateBatch:te}=K();x.useEffect(()=>{const y={};for(let H=1;H<=Cs.squares;H++)y[H]=[];L.forEach((H,M)=>{const A=ks(H.status);A>0&&A<=Cs.squares&&y[A].push(Rr(H,M))});const $=p.map(H=>{const M=y[H.number]||[];let A="empty";return M.length>0&&(A=M.length>=3?"full":"partial"),{...H,batches:M,status:A,remainingRopes:M.length===0?H.totalRopes:Math.max(0,H.totalRopes-M.length*25)}});if(j($),s){const H=$.find(M=>M.id===s.id)||null;i(H),d&&m&&b(H)}},[L]);const F=()=>{m&&(s&&s.batches.length!==m.batches.length&&U(s.number,m.number),i(m),l(!1))},U=(y,$)=>{let H;$===1?H="table1":$===2?H="table2":H="table3",L.forEach(M=>{ks(M.status)===y&&te({...M,status:H})})},Y=(y,$)=>{m&&b({...m,[y]:$})},re=()=>{i(null),l(!1),b(null)};V.useEffect(()=>{const y=$=>{$.key==="Escape"&&re()};return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[]);const he=`
    /* Styles de scrollbar supprimés pour utiliser les styles globaux définis dans index.css */

    .trempe-modal {
      pointer-events: all !important;
      user-select: none;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
  `,je=y=>{i(y)},ye=(y,$)=>{a(y),n({x:$.clientX,y:$.clientY})},Ce=()=>{c||a(null)},Fe=y=>{n({x:y.clientX,y:y.clientY})},Re=()=>{s&&N>0&&(console.log(`Récolte de ${N} cordes du carré ${s.number}, lot: ${P}`),D(!1))};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:he}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-medium text-white relative",children:[e.jsx("span",{className:"relative z-10",children:"Vue satellite des trempes"}),e.jsx("span",{className:"absolute -bottom-1 left-0 w-1/3 h-0.5 bg-gradient-to-r from-brand-primary via-blue-400 to-transparent rounded-full blur-[1px]"})]}),e.jsx("button",{className:"glass-effect p-2 rounded-lg hover:bg-white/5 transition-colors shadow-glow-subtle",children:e.jsx(Qe,{size:18,className:"text-white/60"})})]}),e.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10 shadow-glow-main relative",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 rounded-xl bg-white/5 border border-white/10 shadow-inner-glow",children:[e.jsxs("div",{className:"flex items-center gap-3 border-r border-r-white/10 pr-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center shadow-glow-blue",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-primary glow-dot-blue"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white/60 text-xs",children:"Carrés pleins"}),e.jsx("span",{className:"text-brand-primary text-lg font-medium glow-text-blue",children:p.filter(y=>y.status==="full").length})]})]}),e.jsxs("div",{className:"flex items-center gap-3 border-r border-r-white/10 pr-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-tertiary/20 flex items-center justify-center shadow-glow-gold",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-tertiary glow-dot-gold"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white/60 text-xs",children:"Carrés partiels"}),e.jsx("span",{className:"text-brand-tertiary text-lg font-medium glow-text-gold",children:p.filter(y=>y.status==="partial").length})]})]}),e.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-white/20"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white/60 text-xs",children:"Carrés vides"}),e.jsx("span",{className:"text-white/80 text-lg font-medium",children:p.filter(y=>y.status==="empty").length})]})]}),e.jsx("button",{onClick:()=>u(!o),className:`p-2 rounded-lg transition-all duration-300 ${o?"bg-brand-primary/20 text-brand-primary border border-brand-primary/30 shadow-glow-blue-button":"bg-white/5 text-white/60 border border-white/10"}`,title:o?"Désactiver le modal fixe":"Activer le modal fixe",children:e.jsx(_e,{size:18})})]})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 shadow-inner-glow",children:[e.jsx("h2",{className:"text-white/80 text-sm font-medium mb-3",children:"Vue satellite des trempes"}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:p.map(y=>e.jsxs("div",{onMouseEnter:$=>{a(y),ye(y,$)},onMouseLeave:Ce,onMouseMove:Fe,onClick:()=>je(y),className:`relative p-3 rounded-xl border ${y.status==="full"?"border-blue-400/30 bg-gradient-to-br from-blue-900/20 to-blue-800/5 shadow-trempe-blue":y.status==="partial"?"border-yellow-400/30 bg-gradient-to-br from-yellow-700/20 to-yellow-600/5 shadow-trempe-gold":"border-white/5 bg-gradient-to-br from-white/5 to-transparent"} cursor-pointer transition-all duration-200 ease-in-out hover:scale-[1.03] hover:shadow-glow-${y.status==="full"?"blue-intense":y.status==="partial"?"gold-intense":"white"}`,children:[e.jsx("div",{className:`absolute inset-0 rounded-xl transition-all duration-300 ${y.status==="full"?"bg-gradient-to-t from-brand-primary/30 to-brand-primary/5":y.status==="partial"?"bg-gradient-to-t from-brand-tertiary/30 to-brand-tertiary/5":""}`}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-lg font-medium ${y.status==="full"?"text-brand-primary glow-text-blue":y.status==="partial"?"text-brand-tertiary glow-text-gold":"text-white/60"}`,children:y.number}),e.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${y.status==="full"?"bg-brand-primary glow-dot-blue":y.status==="partial"?"bg-brand-tertiary glow-dot-gold":"bg-white/20"}`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`text-xs ${y.batches.length>0?"text-white/80":"text-white/40"}`,children:y.batches.length>0?`${y.batches.length} corde${y.batches.length>1?"s":""}`:"Aucune corde"}),e.jsxs("div",{className:`text-xs flex items-center gap-1 ${y.status!=="empty"?"text-white/80":"text-white/40"}`,children:[y.totalRopes!==void 0&&y.remainingRopes!==void 0?y.totalRopes-y.remainingRopes:0,e.jsx("span",{className:"text-white/20",children:"/"}),e.jsx("span",{className:"text-white/40",children:y.totalRopes!==void 0?y.totalRopes:0})]})]})]})]},y.id))})]})}),e.jsx("div",{className:"w-full glass-effect rounded-xl border border-white/10 backdrop-blur-md p-4 shadow-glow-subtle",children:t||s?e.jsxs("div",{className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${(t||s).status==="full"?"bg-brand-primary glow-dot-blue":(t||s).status==="partial"?"bg-brand-tertiary glow-dot-gold":"bg-white/20"}`}),e.jsxs("h3",{className:"text-sm font-semibold text-white",children:["Carré ",(t||s).number]})]}),e.jsxs("div",{className:`text-xs px-3 py-1 rounded-full flex items-center gap-1.5 ${(t||s).status==="full"?"bg-brand-primary/20 text-brand-primary border border-brand-primary/20":(t||s).status==="partial"?"bg-brand-tertiary/20 text-brand-tertiary border border-brand-tertiary/20":"bg-white/10 text-white/60 border border-white/10"}`,children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),(t||s).status==="full"?"Plein":(t||s).status==="partial"?"Partiel":"Vide"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-5",children:[e.jsxs("div",{className:`glass-effect rounded-lg p-2 text-center flex-1 border ${(t||s).batches.length>0?"border-brand-primary/20 shadow-glow-blue":"border-white/10"}`,children:[e.jsx("div",{className:`${(t||s).batches.length>0?"text-brand-primary glow-text-blue":"text-white/60"} text-lg font-medium`,children:(t||s).batches.length}),e.jsx("div",{className:"text-[10px] text-white/60",children:"Cordes"})]}),e.jsxs("div",{className:`glass-effect rounded-lg p-2 text-center flex-1 border ${(t||s).status!=="empty"?"border-brand-tertiary/20 shadow-glow-gold":"border-white/10"}`,children:[e.jsx("div",{className:`${(t||s).status!=="empty"?"text-brand-tertiary glow-text-gold":"text-white/60"} text-lg font-medium`,children:(t||s).status==="full"?"100%":(t||s).status==="partial"?"50%":"0%"}),e.jsx("div",{className:"text-[10px] text-white/60",children:"Capacité"})]}),e.jsx("div",{className:"glass-effect rounded-lg p-2 flex flex-col justify-between border border-white/10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("span",{className:"text-white/60 text-lg font-medium",children:(t||s).totalRopes!==void 0&&(t||s).remainingRopes!==void 0?(t||s).totalRopes-(t||s).remainingRopes:0}),e.jsx("span",{className:"text-white/40 text-xs",children:"/"}),e.jsx("span",{className:"text-white/40 text-sm",children:(t||s).totalRopes!==void 0?(t||s).totalRopes:0})]}),e.jsx("div",{className:"text-[10px] text-white/60",children:"Cordes"})]})})]}),e.jsx("div",{className:"mb-1",children:(t||s).batches.length>0?e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:e.jsx(Be,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-xs text-white/70 font-medium",children:"Cordes dans ce carré"})]}),e.jsxs("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-white/10 text-white/60",children:[(t||s).batches.length," corde",(t||s).batches.length!==1?"s":""]})]}):e.jsx("div",{className:"text-center py-4 text-white/40 text-sm",children:"Aucune corde dans ce carré"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("div",{className:"p-3 rounded-full bg-white/5 mb-3",children:e.jsx($e,{size:24,className:"text-white/40"})}),e.jsx("p",{className:"text-white/60 text-center",children:"Sélectionnez un carré. Cliquez sur un carré pour voir ses détails et gérer son contenu."})]})})]})]})}),e.jsx(I,{children:s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:y=>{y.target===y.currentTarget&&re()},children:e.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:300,damping:30},className:"glass-effect rounded-xl p-6 max-w-2xl w-full mx-4 relative custom-scrollbar overflow-y-auto max-h-[90vh]",children:[e.jsx("button",{onClick:re,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-white/5 transition-colors",children:e.jsx(R,{size:20,className:"text-white/60"})}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.status==="full"?"bg-brand-primary":s.status==="partial"?"bg-brand-tertiary":"bg-white/20"}`}),d?e.jsx("input",{type:"number",value:(m==null?void 0:m.number)||s.number,onChange:y=>Y("number",parseInt(y.target.value)),className:"bg-white/10 text-xl font-medium text-white px-3 py-1 rounded-lg outline-none focus:ring-2 focus:ring-brand-primary"}):e.jsxs("h2",{className:"text-xl font-medium text-white",children:["Carré ",s.number]}),e.jsxs("select",{value:d&&(m==null?void 0:m.status)||s.status,onChange:y=>Y("status",y.target.value),disabled:!d,className:`text-sm px-3 py-1 rounded-full ${s.status==="full"?"bg-brand-primary/20 text-brand-primary":s.status==="partial"?"bg-brand-tertiary/20 text-brand-tertiary":"bg-white/10 text-white/60"} ${!d&&"cursor-not-allowed"} [&>option]:bg-gray-800 [&>option]:text-white`,children:[e.jsx("option",{value:"full",className:"text-white",children:"Plein"}),e.jsx("option",{value:"partial",className:"text-white",children:"Partiel"}),e.jsx("option",{value:"empty",className:"text-white/60",children:"Vide"})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{size:16,className:"text-white/60"}),e.jsx("span",{className:"text-sm text-white/60",children:"Cordes"})]}),e.jsx("div",{className:"text-2xl font-medium text-white",children:d?e.jsx("input",{type:"number",value:(m==null?void 0:m.batches.length)||s.batches.length,onChange:y=>Y("batches",Array(parseInt(y.target.value)).fill(null)),className:"bg-white/10 w-20 px-2 py-1 rounded outline-none focus:ring-2 focus:ring-brand-primary"}):s.batches.length})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{size:16,className:"text-white/60"}),e.jsx("span",{className:"text-sm text-white/60",children:"Cordes utilisées"})]}),e.jsx("div",{className:"text-2xl font-medium text-white",children:d?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:(m==null?void 0:m.totalRopes)!==void 0?m.totalRopes-m.remainingRopes:s.totalRopes!==void 0?s.totalRopes-s.remainingRopes:0,onChange:y=>Y("remainingRopes",parseInt(y.target.value)),className:"bg-white/10 w-20 px-2 py-1 rounded outline-none focus:ring-2 focus:ring-brand-primary"}),e.jsx("span",{children:"/"}),e.jsx("input",{type:"number",value:(m==null?void 0:m.totalRopes)!==void 0?m.totalRopes:s.totalRopes!==void 0?s.totalRopes:0,onChange:y=>Y("totalRopes",parseInt(y.target.value)),className:"bg-white/10 w-20 px-2 py-1 rounded outline-none focus:ring-2 focus:ring-brand-primary"})]}):`${s.totalRopes!==void 0?s.totalRopes-s.remainingRopes:0}/${s.totalRopes!==void 0?s.totalRopes:0}`})]})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-white/10",children:e.jsx(Be,{size:14,className:"text-white"})}),e.jsx("span",{className:"text-xs text-white/70 font-medium",children:"Cordes dans ce carré"})]}),e.jsxs("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-white/10 text-white/60",children:[s.batches.length," corde",s.batches.length!==1?"s":""]})]}),s.batches.length>0?e.jsx("div",{className:"space-y-2 max-h-[150px] overflow-y-auto custom-scrollbar pr-1",children:s.batches.map(y=>e.jsx("div",{className:"bg-white/5 hover:bg-white/10 rounded-xl p-3 border border-white/5 transition-all duration-200 cursor-pointer transform hover:translate-x-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:y.name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-xs bg-white/10 px-2 py-0.5 rounded-full text-white/60",children:y.date&&di(y.date)?T(y.date,"dd MMM",{locale:E}):"Date inconnue"})})]})},y.id))}):e.jsx("div",{className:"text-center py-4 text-white/40 text-sm",children:"Aucune corde dans ce carré"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Détails du carré ",s.number]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors text-white",children:"Récolter"}),e.jsx("button",{onClick:re,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(R,{size:18,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"rounded-lg bg-white/5 p-3 mt-6",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[e.jsx($e,{size:16,className:"text-brand-primary"}),"Synchronisation avec la traçabilité"]}),e.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Les cordes affichées ici sont synchronisées avec la section traçabilité. Pour ajouter ou modifier une corde, utilisez le bouton ",e.jsx(Q,{size:12,className:"inline text-red-500"}),"ci-dessus pour accéder à la section traçabilité."]})]}),e.jsx("div",{className:"flex items-center gap-3",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:F,className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(Pt,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Sauvegarder"})]}),e.jsxs("button",{onClick:()=>{l(!1),b(null)},className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(R,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Annuler"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{l(!0),b({...s})},className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(ze,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Modifier"})]}),e.jsxs("button",{onClick:()=>w(!0),className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(Q,{size:16,className:"text-red-500"}),e.jsx("span",{children:"Ajouter une corde"})]}),e.jsxs("button",{className:"flex-1 glass-effect rounded-lg py-3 px-4 flex items-center justify-center gap-2 hover:bg-white/5 transition-colors text-white",children:[e.jsx(Be,{size:16,className:"text-white/60"}),e.jsx("span",{children:"Historique"})]})]})})]})})}),e.jsx(I,{children:g&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:y=>{y.target===y.currentTarget&&w(!1)},children:e.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:300,damping:30},className:"glass-effect rounded-xl p-6 max-w-md w-full mx-4 relative",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ajouter une corde"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Types d'huîtres"}),e.jsxs("select",{value:k.type,onChange:y=>q({...k,type:y.target.value}),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",className:"text-white/60",children:"Sélectionner un type"}),e.jsx("option",{value:"plates",className:"text-white",children:"Plates"}),e.jsx("option",{value:"creuses",className:"text-white",children:"Creuses"}),e.jsx("option",{value:"speciales",className:"text-white",children:"Spéciales"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-white/60 mb-1",children:["Numéro de lot",e.jsx("span",{className:"ml-2 text-white/40",children:"(lot en cours)"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:k.batchNumber,onChange:y=>q({...k,batchNumber:y.target.value}),className:"flex-1 bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:k.batchNumber,children:k.batchNumber}),e.jsxs("option",{value:`LOT-${T(new Date,"yyyyMMdd")}-001`,children:["LOT-",T(new Date,"yyyyMMdd"),"-001"]}),e.jsxs("option",{value:`LOT-${T(new Date,"yyyyMMdd")}-002`,children:["LOT-",T(new Date,"yyyyMMdd"),"-002"]}),e.jsxs("option",{value:`LOT-${T(new Date,"yyyyMMdd")}-003`,children:["LOT-",T(new Date,"yyyyMMdd"),"-003"]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nombre de cordes"}),e.jsx("input",{type:"number",min:"1",value:k.quantity,onChange:y=>q({...k,quantity:parseInt(y.target.value)}),className:"w-full bg-white/10 text-white rounded-lg p-2 outline-none focus:ring-2 focus:ring-brand-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de mise en place"}),e.jsx("input",{type:"date",value:k.date,onChange:y=>q({...k,date:y.target.value}),className:"w-full bg-white/10 text-white rounded-lg p-2 outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{w(!1)},className:"flex-1 bg-brand-primary text-white rounded-lg py-2 px-4 hover:bg-brand-primary/80 transition-colors",children:"Ajouter"}),e.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-white/10 text-white rounded-lg py-2 px-4 hover:bg-white/20 transition-colors",children:"Annuler"})]})]})})}),v&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Récolte de cordes"}),e.jsx("button",{onClick:()=>D(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sélectionner une perche"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("select",{value:P,onChange:y=>O(y.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",className:"text-white/60",children:"Choisir une perche"}),[...Array(5)].map((y,$)=>e.jsxs("option",{value:`perche-${$+1}`,children:["Perche ",$+1]},$))]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Numéro de lot:"}),e.jsx("span",{className:"text-white font-medium",children:P?`LOT-${T(new Date,"yyyyMMdd")}-${P.split("-")[1].padStart(3,"0")}`:"LOT-000000-000"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes à récolter"}),e.jsx("input",{type:"number",min:"1",max:s.ropes||10,value:N,onChange:y=>C(Math.min(parseInt(y.target.value)||1,s.ropes||10)),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:s.ropes?`${s.ropes} cordes disponibles`:"Nombre de cordes inconnu"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Annuler"}),e.jsx("button",{type:"button",onClick:Re,className:"px-4 py-2 bg-green-600 rounded-lg text-white hover:bg-green-700 transition-colors",children:"Récolter"})]})]})]})})]})]})}function Lr({cell:t,onClose:a,onUpdate:s,setShowNaissainModal:i}){const r=jt(a),[n,c]=x.useState(t.type||""),[h,o]=x.useState(t.ropeCount||0),[u,d]=x.useState(t.size||""),[l,m]=x.useState(0),[b,p]=x.useState(!t.filled),j=g=>{g.preventDefault();let w;b?w={type:n,ropeCount:h,size:u,filled:!0}:t.filled?w={harvestedRopes:l,batchNumber:`LOT-${new Date().getTime()}`}:w={type:n,ropeCount:h,size:u,filled:!0},s(w),a()};return e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(f.div,{ref:r,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.filled&&!b?"Récolte":t.filled&&b?"Modifier le bassin":"Nouvelle production"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),t.filled&&!b&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{type:"button",onClick:()=>p(!0),className:"flex items-center text-brand-tertiary hover:text-brand-tertiary/80 transition-colors",children:[e.jsx(ut,{size:16,className:"mr-1"}),"Modifier les propriétés"]})}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[!t.filled||b?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Type de production"}),e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsx("button",{type:"button",onClick:()=>{i?i(!0):console.warn("setShowNaissainModal is not defined")},className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Naissain"})}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"triplo",label:"Triploïde",color:"bg-brand-burgundy"},{value:"diplo",label:"Diploïde",color:"bg-brand-primary"},{value:"naturelle",label:"Naturelle",color:"bg-brand-tertiary"}].map(g=>e.jsxs("button",{type:"button",onClick:()=>c(g.value),className:`p-3 rounded-lg flex flex-col items-center justify-center transition-all ${n===g.value?`${g.color} shadow-neon`:"bg-white/5 hover:bg-white/10"}`,children:[e.jsx("div",{className:`w-4 h-4 rounded-sm ${g.color} mb-2`}),e.jsx("span",{className:"text-sm text-white",children:g.label})]},g.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes par perche"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[e.jsx("button",{type:"button",onClick:()=>o(Math.max(0,h-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:h}),e.jsx("button",{type:"button",onClick:()=>o(h+1),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taille des huîtres"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:["T5","T10","T15","T20","T30"].map(g=>e.jsx("button",{type:"button",onClick:()=>d(g),className:`p-3 rounded-lg flex items-center justify-center transition-all ${u===g?"bg-brand-burgundy shadow-neon":"bg-white/5 hover:bg-white/10"}`,children:e.jsx("span",{className:"text-white font-medium",children:g})},g))})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Nombre de cordes récoltées"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between bg-white/5 rounded-lg p-4",children:[e.jsx("button",{type:"button",onClick:()=>m(Math.max(0,l-1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:l}),e.jsx("button",{type:"button",onClick:()=>m(Math.min(t.ropeCount,l+1)),className:"w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"+"})]}),e.jsxs("div",{className:"mt-2 text-sm text-white/60 text-center",children:["sur ",t.ropeCount," cordes au total"]})]})]}),e.jsxs("div",{className:"p-4 bg-brand-burgundy/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[e.jsx(at,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Numéro de lot"})]}),e.jsxs("div",{className:"text-white font-mono",children:["LOT-",new Date().getTime()]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t.filled&&!b?"Valider la récolte":t.filled&&b?"Enregistrer les modifications":"Ajouter la production"})]})]})]})})}function pa({table:t,onClose:a,onTableUpdate:s}){var ct;const i=z=>{z.stopPropagation()},r=z=>{z.target===z.currentTarget&&a()},[n,c]=x.useState(null),[h,o]=x.useState(!0),[u,d]=x.useState(!1),[l,m]=x.useState({side:"left"}),[b,p]=x.useState(""),[j,g]=x.useState(""),[w,k]=x.useState(!1),[q,v]=x.useState(t.tableNumber),[D,N]=x.useState(!1),[C,P]=x.useState(""),[O,L]=x.useState(null),[te,F]=x.useState(T(new Date,"yyyy-MM-dd")),[U,Y]=x.useState(!1),[re,he]=x.useState(""),[je,ye]=x.useState(!1),[Ce,Fe]=x.useState(T(new Date,"yyyy-MM-dd")),[Re,y]=x.useState(!1),[$,H]=x.useState([]),[M,A]=x.useState([]),[De,ke]=x.useState(""),Ge=x.useRef(null),nt=(z,S)=>{console.log("Updating cell:",z,S);const _=t.cells.findIndex(ue=>ue.id===z);if(_===-1)return;const se=[...t.cells];se[_]={...se[_],...S},s&&s(t.id,{cells:se})},Ie=z=>{m({side:z}),d(!0)},Le=()=>{console.log(`Remplissage de la colonne ${l.side} avec ordre de remplissage ${b} à la date ${j}`),d(!1),p(""),g("")},Oe=()=>{s&&q.trim()!==""&&s(t.id,{tableNumber:q.trim()}),k(!1)},Xe=()=>{v(t.tableNumber),k(!1)},Ye=()=>{if(typeof C=="number"){const S=(Math.random()*2-1)*.2,_=C*(1+S);L(Number(_.toFixed(1)))}console.log(`Échantillonnage enregistré avec un taux de mortalité de ${C}% à la date ${te}`),N(!1)},Et=()=>{P(""),L(null),F(T(new Date,"yyyy-MM-dd")),N(!0)},gt=z=>{z.preventDefault();const S={source:re,date:T(new Date,"yyyy-MM-dd"),batchNumber:`NAIS-${new Date().getTime()}`};console.log("Naissain enregistré:",S),s&&s(t.id,{naissainSource:S.source,naissainBatchNumber:S.batchNumber}),Y(!1),he("")},ft=()=>{console.log(`Recherche dans l'historique pour la date: ${Ce}`)},dt=z=>{var se;const S=(se=z.target.files)==null?void 0:se[0];if(!S)return;ke("");const _=new FileReader;_.onload=ue=>{var Ze;try{const Me=(Ze=ue.target)==null?void 0:Ze.result,vt=ci(Me,{type:"binary"}),Ea=vt.SheetNames[0],$a=vt.Sheets[Ea],$t=oi.sheet_to_json($a);if($t.length===0){ke("Le fichier ne contient pas de données valides.");return}H($t),A($t.slice(0,5))}catch(Me){console.error("Erreur lors de la lecture du fichier Excel:",Me),ke("Une erreur est survenue lors de la lecture du fichier. Vérifiez que le format est correct.")}},_.onerror=()=>{ke("Une erreur est survenue lors de la lecture du fichier.")},_.readAsBinaryString(S)},wt=()=>{if($.length===0){ke("Aucune donnée à importer.");return}if(console.log("Importation des données:",$),s){const z={lastUpdated:new Date().toISOString()};s(t.id,z)}y(!1),H([]),A([])};return e.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,children:[e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-2xl",onClick:i,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:(t==null?void 0:t.name)||"Détails de la table"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Te,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:t.temperature?`${t.temperature}°C`:"Non disponible"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(le,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.salinity,"g/L"]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Pe,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.mortalityRate,"%"]})]})]}),(t==null?void 0:t.currentBatch)&&e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(G,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",t.currentBatch.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[t.currentBatch.quantity," unités"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:T(new Date(t.currentBatch.estimatedHarvestDate),"PP",{locale:E})})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ae,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.lastCheck),"PP",{locale:E})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.nextCheck),"PP",{locale:E})})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:()=>ye(!0),children:"Historique"}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",onClick:()=>Ie("left"),children:"Remplir colonne gauche"}),e.jsx("button",{className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",onClick:()=>Ie("right"),children:"Remplir colonne droite"}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",onClick:Et,children:"Échantillonnage"}),e.jsx("button",{className:"px-4 py-2 text-white/70 hover:text-white transition-colors",onClick:a,children:"Fermer"})]})]})]}),e.jsxs(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"w-80 glass-effect rounded-lg p-4 self-start mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-white font-medium flex items-center",children:[e.jsx($e,{size:16,className:"mr-2 text-brand-burgundy"}),"Types d'huîtres"]}),e.jsx("button",{onClick:()=>o(!h),className:"text-white/60 hover:text-white transition-colors",children:h?"Réduire":"Voir"})]}),e.jsx(I,{children:h&&e.jsx(f.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3 overflow-hidden",children:[{type:"triplo",label:"Triploïdes",color:"bg-brand-burgundy",description:"Huîtres stériles à croissance rapide"},{type:"diplo",label:"Diploïdes",color:"bg-brand-primary",description:"Huîtres naturelles améliorées"},{type:"naturelle",label:"Naturelles",color:"bg-brand-tertiary",description:"Huîtres sauvages traditionnelles"}].map(z=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-lg ${z.color} shadow-neon border-2 border-white/80 shadow-[0_0_15px_rgba(255,255,255,0.6)] flex-shrink-0`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:z.label}),e.jsx("div",{className:"text-sm text-white/60",children:z.description})]})]},z.type))})})]}),e.jsx(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-[400px] h-[800px] bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden border border-white/10",children:e.jsx("div",{className:"relative h-full grid grid-cols-2 grid-rows-10 gap-1 p-8 transform rotate-0",children:t.cells.map((z,S)=>e.jsxs(f.button,{onClick:()=>c(z),className:`relative rounded-md transition-all duration-300 group ${z.filled?`${z.type==="triplo"?"bg-brand-burgundy shadow-neon":z.type==="diplo"?"bg-brand-primary shadow-neon":"bg-brand-tertiary shadow-neon"}`:"bg-white/5 hover:bg-white/10"}`,variants:{initial:{opacity:.6,scale:.95},animate:_=>({opacity:[.6,1,.6],scale:[.95,1,.95],transition:{duration:3,repeat:1/0,delay:_*.1,ease:"easeInOut"}})},initial:"initial",animate:"animate",custom:S,children:[e.jsx("div",{className:"absolute inset-0 rounded-md border-2 border-white shadow-[0_0_8px_rgba(255,255,255,0.8)]",children:z.filled&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white font-bold",children:z.fillOrder||S+1})})}),z.filled&&e.jsx("div",{className:"absolute bottom-1 right-1 text-[8px] text-white/60",children:z.ropeCount}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/40 rounded-md transition-opacity",children:e.jsx(ut,{size:16,className:"text-white"})})]},z.id))})}),e.jsx(f.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"w-96 bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 h-full border-l border-white/10 overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.name}),w?e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("input",{type:"text",value:q,onChange:z=>v(z.target.value),className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white",autoFocus:!0}),e.jsx("button",{onClick:Oe,className:"p-2 bg-brand-primary/20 hover:bg-brand-primary/40 rounded-lg transition-colors",title:"Valider",children:e.jsx(is,{size:18,className:"text-white"})}),e.jsx("button",{onClick:Xe,className:"p-2 bg-red-500/20 hover:bg-red-500/40 rounded-lg transition-colors",title:"Annuler",children:e.jsx(R,{size:18,className:"text-white"})})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-white/60",children:t.tableNumber}),e.jsx("button",{onClick:()=>k(!0),className:"ml-2 p-1 hover:bg-white/10 rounded-lg transition-colors",title:"Modifier le numéro de table",children:e.jsx(ut,{size:14,className:"text-white/60"})})]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(R,{size:24,className:"text-white/60"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Te,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(le,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.salinity,"g/L"]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ee,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.lastCheck),"PP",{locale:E})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:T(new Date(t.nextCheck),"PP",{locale:E})})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Taux de mortalité estimé"}),e.jsxs("span",{className:`text-lg font-medium ${t.mortalityRate>3?"text-red-400":t.mortalityRate>2?"text-yellow-400":"text-green-400"}`,children:[t.mortalityRate,"%"]})]})})]})]}),t.currentBatch&&e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(G,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsxs("span",{className:"text-white font-medium",children:["N°",t.currentBatch.size]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsxs("span",{className:"text-white font-medium",children:[t.currentBatch.quantity," unités"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Récolte prévue"}),e.jsx("span",{className:"text-white font-medium",children:(ct=t.currentBatch)!=null&&ct.estimatedHarvestDate?T(new Date(t.currentBatch.estimatedHarvestDate),"PP",{locale:E}):"Non définie"})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(Ot,{size:20,className:"mr-2 text-brand-tertiary"}),"Importation de données"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),e.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[e.jsx(fe,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]}),e.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Importez vos données existantes pour remplir rapidement les tables et suivre leur production."}),e.jsxs("button",{onClick:()=>y(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-brand-tertiary/80 rounded-lg text-white hover:bg-brand-tertiary transition-colors",children:[e.jsx(Se,{size:18}),"Importer des données"]})]})]})]})}),e.jsx(I,{children:n&&e.jsx(Lr,{cell:n,onClose:()=>c(null),onUpdate:z=>nt(n.id,z),setShowNaissainModal:Y})}),e.jsx(I,{children:u&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Remplissage de la colonne ",l.side]}),e.jsx("button",{onClick:()=>d(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:z=>{z.preventDefault(),Le()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Ordre de remplissage"}),e.jsx("input",{type:"number",value:b,onChange:z=>p(z.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de remplissage"}),e.jsx("input",{type:"date",value:j,onChange:z=>g(z.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Remplir la colonne"})]})]})]})})}),e.jsx(I,{children:D&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Échantillonnage"}),e.jsx("button",{onClick:()=>N(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:z=>{z.preventDefault(),Ye()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux évalué de mortalité"}),e.jsx("input",{type:"number",value:C,onChange:z=>P(z.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 3.7%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Taux potentiel de mortalité (IA)"}),e.jsx("input",{type:"number",value:O,onChange:z=>L(z.target.valueAsNumber),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Prédiction IA calculée automatiquement",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date d'échantillonnage"}),e.jsx("input",{type:"date",value:te,onChange:z=>F(z.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'échantillonnage"})]})]})]})})}),e.jsx(I,{children:U&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Gestion du Naissain"}),e.jsx("button",{onClick:()=>Y(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:gt,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Source du naissain (écloserie)"}),e.jsx("input",{type:"text",value:re,onChange:z=>he(z.target.value),className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: Écloserie Atlantique"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Numéro de lot fournisseur"}),e.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: ATLANT-2025-0012"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date de réception"}),e.jsx("input",{type:"date",className:"w-full p-4 bg-white/5 rounded-lg text-white",defaultValue:T(new Date,"yyyy-MM-dd")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Quantité reçue"}),e.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 rounded-lg text-white",placeholder:"Ex: 10000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes sur la qualité"}),e.jsx("textarea",{className:"w-full p-4 bg-white/5 rounded-lg text-white h-24 resize-none",placeholder:"Observations sur la qualité du naissain à la réception..."})]}),e.jsxs("div",{className:"bg-brand-burgundy/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-burgundy mb-2",children:[e.jsx($e,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Numéro de traçabilité"})]}),e.jsxs("div",{className:"text-white font-mono",children:["NAIS-",new Date().getTime()]}),e.jsx("p",{className:"text-xs text-white/60 mt-2",children:"Ce numéro sera utilisé pour la traçabilité et permettra de suivre la performance de ce lot de naissain."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>Y(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer le naissain"})]})]})]})})}),e.jsx(I,{children:je&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Historique de la table ",t==null?void 0:t.name]}),e.jsx("button",{onClick:()=>ye(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"Rechercher par date"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"date",value:Ce,onChange:z=>Fe(z.target.value),className:"p-2 bg-white/5 rounded-lg text-white"}),e.jsx("button",{onClick:ft,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Rechercher"})]})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsxs("h4",{className:"text-white font-medium mb-4",children:["Données pour le ",T(new Date(Ce),"dd MMMM yyyy",{locale:E})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Te,{size:20,className:"mr-2 text-brand-burgundy"}),"Température"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"12.5°C"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(le,{size:20,className:"mr-2 text-brand-primary"}),"Salinité"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"35g/L"})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-2",children:[e.jsx(Pe,{size:20,className:"mr-2 text-brand-tertiary"}),"Mortalité"]}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5%"})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(G,{size:20,className:"mr-2 text-brand-burgundy"}),"Lot en cours"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Calibre"}),e.jsx("span",{className:"text-white font-medium",children:"N°3"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Quantité"}),e.jsx("span",{className:"text-white font-medium",children:"5000 unités"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Date de récolte estimée"}),e.jsx("span",{className:"text-white font-medium",children:"15 juin 2025"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/60",children:"Source du naissain"}),e.jsx("span",{className:"text-white font-medium",children:"Écloserie Atlantique"})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-lg p-4 mt-4",children:[e.jsxs("div",{className:"flex items-center text-white/80 mb-4",children:[e.jsx(ae,{size:20,className:"mr-2 text-brand-tertiary"}),"Échantillonnage"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Dernier échantillonnage"}),e.jsx("span",{className:"text-white",children:"19 févr. 2025"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Prochain échantillonnage"}),e.jsx("span",{className:"text-white",children:"26 févr. 2025"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-brand-tertiary rounded-lg text-white hover:bg-brand-tertiary/90 transition-colors",children:"Exporter les données"}),e.jsx("button",{type:"button",onClick:()=>ye(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"})]})]})]})})}),e.jsx(I,{children:Re&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center",children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ot,{size:24,className:"mr-3 text-brand-tertiary"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Importer des données"})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"mb-6 bg-white/5 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"Format de fichier attendu"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Votre fichier Excel doit contenir les colonnes suivantes :"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 text-sm mt-2 space-y-1",children:[e.jsx("li",{children:"Position (ID de la case)"}),e.jsx("li",{children:"Type (type de production)"}),e.jsx("li",{children:"Quantité (nombre d'unités)"}),e.jsx("li",{children:"Date de mise en place (format JJ/MM/AAAA)"}),e.jsx("li",{children:"Calibre (taille des huîtres)"}),e.jsx("li",{children:"Source (provenance du naissain)"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("a",{href:"#",className:"text-brand-tertiary text-sm hover:underline flex items-center",children:[e.jsx(fe,{size:16,className:"mr-1"}),"Télécharger un modèle de fichier"]})})]}),e.jsxs("form",{onSubmit:z=>{z.preventDefault(),wt()},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sélectionner un fichier Excel (.xlsx, .xls) ou CSV"}),e.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center cursor-pointer hover:border-white/40 transition-colors",onClick:()=>{var z;return(z=Ge.current)==null?void 0:z.click()},children:[e.jsx(Se,{size:36,className:"mx-auto text-white/60 mb-3"}),e.jsx("p",{className:"text-white/80 mb-2",children:"Glissez-déposez votre fichier ici ou cliquez pour parcourir"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Formats supportés: .xlsx, .xls, .csv"}),e.jsx("input",{type:"file",ref:Ge,onChange:dt,className:"hidden",accept:".xlsx, .xls, .csv"})]})]}),De&&e.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 text-red-300 p-4 rounded-lg text-sm",children:[e.jsx("div",{className:"font-medium mb-1",children:"Erreur d'importation"}),De]}),M.length>0&&e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsxs("h4",{className:"text-white font-medium mb-4",children:["Aperçu des données (",$.length," enregistrements au total)"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-white/10",children:Object.keys(M[0]).map(z=>e.jsx("th",{className:"text-left py-2 px-3 text-white/80",children:z},z))})}),e.jsx("tbody",{children:M.map((z,S)=>e.jsx("tr",{className:"border-b border-white/5",children:Object.keys(z).map(_=>e.jsx("td",{className:"py-2 px-3 text-white/70",children:z[_]},_))},S))})]})}),e.jsx("div",{className:"mt-4 text-white/60 text-sm",children:"* Seules les 5 premières lignes sont affichées"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",disabled:$.length===0,className:`px-4 py-2 rounded-lg text-white transition-colors flex items-center 
                    ${$.length===0?"bg-white/20 cursor-not-allowed":"bg-brand-burgundy hover:bg-brand-burgundy/90"}`,children:[e.jsx(Ot,{size:18,className:"mr-2"}),"Importer les données"]})]})]})]})})})]})}function _r({isOpen:t,onClose:a}){const{register:s,handleSubmit:i,formState:{errors:r}}=rt(),n=c=>{console.log(c),a()};return e.jsx(ne,{isOpen:t,onClose:a,title:"Nouvel Article",size:"xl",children:e.jsxs("form",{onSubmit:i(n),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'article"}),e.jsx("input",{...s("name",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"SKU"}),e.jsx("input",{...s("sku",{required:"Le SKU est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.sku.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{...s("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),e.jsxs("select",{...s("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"huitres",children:"Huîtres"}),e.jsx("option",{value:"materiels",children:"Matériels"}),e.jsx("option",{value:"emballages",children:"Emballages"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),e.jsxs("select",{...s("unit"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"douzaines",children:"Douzaines"}),e.jsx("option",{value:"unites",children:"Unités"}),e.jsx("option",{value:"kg",children:"Kilogrammes"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock actuel"}),e.jsx("input",{type:"number",...s("currentStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock minimum"}),e.jsx("input",{type:"number",...s("minimumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Stock maximum"}),e.jsx("input",{type:"number",...s("maximumStock"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix d'achat"}),e.jsx("input",{type:"number",step:"0.01",...s("costPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix de vente"}),e.jsx("input",{type:"number",step:"0.01",...s("sellingPrice"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Emplacement"}),e.jsx("input",{...s("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Fournisseur"}),e.jsxs("select",{...s("supplier"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",children:"Sélectionner un fournisseur"}),e.jsx("option",{value:"supplier1",children:"Fournisseur 1"}),e.jsx("option",{value:"supplier2",children:"Fournisseur 2"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Créer l'article"})]})]})})}const Er=[{label:"Huîtres",value:"huitres"},{label:"Matériels",value:"materiels"},{label:"Emballages",value:"emballages"}],$r=[{label:"Zone A",value:"zone_a"},{label:"Zone B",value:"zone_b"},{label:"Zone C",value:"zone_c"}],Ir=[{label:"En stock",value:"in_stock"},{label:"Stock faible",value:"low_stock"},{label:"Rupture",value:"out_of_stock"}];function Or({isOpen:t,onClose:a,onApplyFilters:s}){const[i,r]=V.useState([]),[n,c]=V.useState([]),[h,o]=V.useState([]),[u,d]=V.useState({min:"",max:""}),l=()=>{s({categories:i,locations:n,status:h,priceRange:u}),a()},m=()=>{r([]),c([]),o([]),d({min:"",max:""})};return e.jsx(ne,{isOpen:t,onClose:a,title:"Filtres avancés",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Er.map(b=>e.jsx("button",{onClick:()=>{r(p=>p.includes(b.value)?p.filter(j=>j!==b.value):[...p,b.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${i.includes(b.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Emplacement"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:$r.map(b=>e.jsx("button",{onClick:()=>{c(p=>p.includes(b.value)?p.filter(j=>j!==b.value):[...p,b.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(b.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut du stock"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ir.map(b=>e.jsx("button",{onClick:()=>{o(p=>p.includes(b.value)?p.filter(j=>j!==b.value):[...p,b.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${h.includes(b.value)?"bg-brand-primary text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Fourchette de prix"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix minimum"}),e.jsx("input",{type:"number",value:u.min,onChange:b=>d({...u,min:b.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix maximum"}),e.jsx("input",{type:"number",value:u.max,onChange:b=>d({...u,max:b.target.value}),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"100"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsx("button",{onClick:m,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-sm text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-brand-primary rounded-lg text-sm text-white hover:bg-brand-primary/90 transition-colors",children:"Appliquer les filtres"})]})]})]})})}function qe(...t){return xi(mi(t))}function mt({children:t,className:a,...s}){return e.jsx("div",{className:qe("bg-brand-dark border border-white/10 rounded-lg overflow-hidden",a),...s,children:t})}const B=x.forwardRef(({className:t,type:a,...s},i)=>e.jsx("input",{type:a,className:`flex h-10 w-full rounded-md border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))] px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--color-brand-primary))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t||""}`,ref:i,...s}));B.displayName="Input";const ba=pi,Hr=ui,ja=x.forwardRef(({className:t,...a},s)=>e.jsx(Bs,{ref:s,className:`fixed inset-0 z-50 bg-black/80 backdrop-blur-sm ${t||""}`,...a}));ja.displayName=Bs.displayName;const os=x.forwardRef(({className:t,children:a,...s},i)=>e.jsxs(Hr,{children:[e.jsx(ja,{}),e.jsxs(Vs,{ref:i,className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-background/95 p-6 shadow-lg duration-200 sm:rounded-lg md:w-full ${t||""}`,...s,children:[a,e.jsxs(hi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));os.displayName=Vs.displayName;const xs=({className:t,...a})=>e.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${t||""}`,...a});xs.displayName="DialogHeader";const ga=({className:t,...a})=>e.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${t||""}`,...a});ga.displayName="DialogFooter";const ms=x.forwardRef(({className:t,...a},s)=>e.jsx(Qs,{ref:s,className:`text-lg font-semibold leading-none tracking-tight ${t||""}`,...a}));ms.displayName=Qs.displayName;const fa=x.forwardRef(({className:t,...a},s)=>e.jsx(Us,{ref:s,className:`text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] ${t||""}`,...a}));fa.displayName=Us.displayName;const Ss=[{id:"M001",name:"Moules de Méditerranée",type:"moules",price:4.5,unit:"kg",minOrder:100,description:"Moules de Méditerranée, chair généreuse et iodée",origin:"Méditerranée",calibre:"40/50",conservation:"5 jours",certification:["Label Rouge","Pêche durable"]},{id:"P001",name:"Palourdes de l'étang de Thau",type:"palourdes",price:12.9,unit:"kg",minOrder:50,description:"Palourdes sauvages de l'étang de Thau, qualité exceptionnelle",origin:"Étang de Thau",calibre:"20/30",conservation:"7 jours",certification:["IGP Thau"]}],Br=[{id:"CDB",name:"CDB - Coquillages De Bretagne",address:"12 Quai des Marées, 56000 Vannes",contact:"02.97.54.32.10",preferredProducts:["Moules","Palourdes"],lastDelivery:"2025-02-24",reliability:97,status:"active"},{id:"1",name:"Fournisseur A",address:"123 Rue de la Mer",contact:"0123456789",preferredProducts:["Huîtres","Palourdes"],lastDelivery:"2025-02-20",reliability:98,status:"active"}];function wa(){const[t,a]=x.useState(null),[s,i]=x.useState(0),[r,n]=x.useState(null),[c,h]=x.useState(null),[o,u]=x.useState(!1),[d,l]=x.useState(0),[m,b]=x.useState({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),p=v=>{const D=parseInt(v,10);!isNaN(D)&&D>=0&&i(D)},j=()=>t&&s?(t.price*s).toFixed(2):"0.00",g=v=>{switch(v){case"moules":return e.jsx(G,{className:"w-4 h-4"});case"palourdes":return e.jsx(Xs,{className:"w-4 h-4"});default:return e.jsx(W,{className:"w-4 h-4"})}},w=()=>{console.log("Commande confirmée:",{product:t==null?void 0:t.name,quantity:s,total:j()}),a(null),i(0)},k=v=>{var N;const D=(N=v.target.files)==null?void 0:N[0];D&&b(C=>({...C,invoice:D}))},q=v=>{v.preventDefault(),console.log("Nouveau achat:",{...m,rating:d}),u(!1),b({supplier:"",product:"",expiryDate:"",storageLocation:"",invoice:null}),l(0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configuration des achats"}),e.jsxs(X,{onClick:()=>u(!0),className:"flex items-center gap-2 bg-brand-blue hover:bg-brand-blue/90 text-white",children:[e.jsx(Q,{className:"w-4 h-4"}),"Nouvel achat"]})]}),e.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:Br.map(v=>e.jsxs(mt,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"relative p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-brand-burgundy"}),e.jsx("h3",{className:"text-base font-medium text-white",children:v.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-white/60",children:v.address}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx(xe,{className:"w-4 h-4"}),v.contact]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-green-500/20 text-green-500 rounded-lg",children:["Fiabilité ",v.reliability,"%"]}),e.jsxs("span",{className:"text-xs font-medium px-2 py-1 bg-blue-500/20 text-blue-500 rounded-lg",children:["Dernière livraison : ",v.lastDelivery]})]})]})})})]},v.id))}),c==="CDB"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Catalogue CDB"}),e.jsx("p",{className:"text-sm text-white/60",children:"Sélectionnez vos produits et passez commande"})]}),e.jsxs(X,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),"Nouveau produit"]})]}),e.jsx("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:Ss.map(v=>e.jsxs(mt,{className:`relative overflow-hidden cursor-pointer transition-all duration-200 ${(t==null?void 0:t.id)===v.id?"ring-2 ring-brand-burgundy ring-offset-2 ring-offset-black":"hover:bg-white/5"}`,onClick:()=>a(v),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-base font-medium text-white",children:v.name}),e.jsx("p",{className:"text-sm text-white/60",children:v.description})]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-brand-burgundy/20 rounded-lg",children:[g(v.type),e.jsx("span",{className:"text-xs font-medium text-brand-burgundy",children:v.type})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"w-4 h-4 text-white/40"}),e.jsx("span",{className:"text-sm text-white",children:v.origin})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bi,{className:"w-4 h-4 text-white/40"}),e.jsxs("span",{className:"text-sm text-white",children:[v.price,"€/",v.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-white/40"}),e.jsxs("span",{className:"text-sm text-white",children:["Min. ",v.minOrder,v.unit]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Js,{className:"w-4 h-4 text-white/40"}),e.jsx("span",{className:"text-sm text-white",children:v.calibre})]})]}),v.certification&&e.jsx("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-white/10",children:v.certification.map((D,N)=>e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-500/10 text-blue-400 rounded-lg",children:D},N))})]})]},v.id))})]}),t&&e.jsxs(mt,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"relative p-4",children:e.jsx("div",{className:"flex items-start gap-4",children:e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-base font-medium text-white",children:["Commander ",t.name]}),e.jsx(X,{variant:"ghost",size:"sm",className:"text-white/60 hover:text-white",onClick:()=>n(t.id),children:e.jsx($e,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm text-white/60",children:["Quantité (",t.unit,")"]}),e.jsx(B,{type:"number",value:s,onChange:v=>p(v.target.value),min:0,className:"bg-white/5 border-white/10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-white/60",children:"Total estimé"}),e.jsx("div",{className:"h-9 px-3 flex items-center bg-white/5 rounded-md border border-white/10",children:e.jsxs("span",{className:"text-white font-medium",children:[j(),"€"]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("p",{className:"text-sm text-white/60",children:["Minimum de commande : ",t.minOrder,t.unit]}),e.jsx(X,{variant:"default",size:"sm",disabled:s<t.minOrder,className:"bg-brand-burgundy hover:bg-brand-burgundy/90",onClick:w,children:"Confirmer la commande"})]})]})})})]}),r&&e.jsx(ba,{open:!!r,children:e.jsxs(os,{children:[e.jsx(xs,{children:e.jsx(ms,{children:"Détails du produit"})}),(()=>{var D;const v=Ss.find(N=>N.id===r);return v?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white/5 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-brand-burgundy/20 rounded-lg",children:g(v.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white",children:v.name}),e.jsx("p",{className:"text-sm text-white/60",children:v.description})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-white mb-2",children:"Caractéristiques"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Calibre"}),e.jsx("span",{className:"text-sm text-white",children:v.calibre})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-white/60",children:"Conservation"}),e.jsx("span",{className:"text-sm text-white",children:v.conservation})]})]})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-white mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(D=v.certification)==null?void 0:D.map((N,C)=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 rounded-lg text-sm",children:N},C))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{variant:"outline",onClick:()=>n(null),children:"Fermer"})})]}):null})()]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),e.jsx(B,{type:"text",value:m.supplier,onChange:v=>b(D=>({...D,supplier:v.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du produit"}),e.jsx(B,{type:"text",value:m.product,onChange:v=>b(D=>({...D,product:v.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),e.jsx(B,{type:"date",value:m.expiryDate,onChange:v=>b(D=>({...D,expiryDate:v.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Lieu de stockage"}),e.jsxs("select",{value:m.storageLocation,onChange:v=>b(D=>({...D,storageLocation:v.target.value})),className:"w-full px-3 py-2 rounded-md bg-brand-dark/80 border border-brand-blue/30 text-white focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner un lieu de stockage"}),e.jsx("option",{value:"Frigo 1",children:"Frigo 1"}),e.jsx("option",{value:"Frigo 2",children:"Frigo 2"}),e.jsx("option",{value:"Congélateur 1",children:"Congélateur 1"}),e.jsx("option",{value:"Congélateur 2",children:"Congélateur 2"}),e.jsx("option",{value:"Remise",children:"Remise"}),e.jsx("option",{value:"Cave",children:"Cave"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation du produit"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(v=>e.jsx("button",{type:"button",onClick:()=>l(v),className:"focus:outline-none",children:e.jsx(Ne,{size:24,className:v<=d?"text-yellow-400 fill-yellow-400":"text-white/20"})},v))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:k,className:"hidden"}),e.jsx(Se,{className:"w-5 h-5 text-white/60 mr-2"}),e.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),e.jsxs(X,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(At,{className:"w-4 h-4"}),"Photo"]}),e.jsxs(X,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(Gs,{className:"w-4 h-4"}),"Scanner"]})]}),m.invoice&&e.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",m.invoice.name]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(X,{type:"button",variant:"ghost",onClick:()=>u(!1),children:"Annuler"}),e.jsx(X,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function Vr({isOpen:t,onClose:a}){const{register:s,handleSubmit:i,formState:{errors:r},setValue:n,watch:c}=rt({defaultValues:{rating:0,quantity:1,unitPrice:0}}),[h,o]=x.useState(null),u=c("rating"),d=b=>{console.log(b),a()},l=b=>{var j;const p=(j=b.target.files)==null?void 0:j[0];if(p){const g=new FileReader;g.onloadend=()=>{o(g.result)},g.readAsDataURL(p)}},m=b=>{n("rating",b)};return e.jsx(ne,{isOpen:t,onClose:a,title:"Nouvel achat",size:"lg",children:e.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),e.jsx("input",{...s("productName",{required:"Le nom du produit est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.productName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.productName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),e.jsx("input",{...s("supplierName",{required:"Le nom du fournisseur est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.supplierName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.supplierName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"DLC"}),e.jsx("input",{type:"date",...s("expiryDate",{required:"La DLC est requise"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.expiryDate&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.expiryDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),e.jsx("input",{...s("storageLocation",{required:"Le lieu de stockage est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.storageLocation&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.storageLocation.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Quantité"}),e.jsx("input",{type:"number",min:"1",...s("quantity",{required:"La quantité est requise",min:{value:1,message:"La quantité doit être supérieure à 0"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.quantity&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.quantity.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prix unitaire (€)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",...s("unitPrice",{required:"Le prix unitaire est requis",min:{value:0,message:"Le prix doit être positif"}}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),r.unitPrice&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:r.unitPrice.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Note de qualité"}),e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(b=>e.jsx("button",{type:"button",onClick:()=>m(b),className:"focus:outline-none",children:e.jsx(Ne,{size:24,className:`${b<=u?"text-yellow-400 fill-current":"text-white/20"} transition-colors`})},b))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes / Commentaires"}),e.jsx("textarea",{...s("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez des notes ou commentaires sur l'achat..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),e.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:h?e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("img",{src:h,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>o(null),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(Se,{size:20,className:"mr-2"}),e.jsx("span",{children:"Choisir un fichier"}),e.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:l})]})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(At,{size:20,className:"mr-2"}),e.jsx("span",{children:"Prendre une photo"})]})})]})}),e.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Traçabilité et Comptabilité"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:a,className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})})}function Qr(){var wt,ct,z;const[t,a]=x.useState("tables"),[s,i]=x.useState(""),[r,n]=x.useState(null),[c,h]=x.useState(null),[o,u]=x.useState(!1),[d,l]=x.useState(!1),[m,b]=x.useState(!1),[p,j]=x.useState(null),[g,w]=x.useState(!1),[k,q]=x.useState(!1),[v,D]=x.useState(null),[N,C]=x.useState(""),[P,O]=x.useState({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),[L,te]=x.useState({"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]}),F=V.useRef(null),U=S=>{const _=Math.floor(Math.random()*1e4);return`${S}-${_.toString().padStart(5,"0")}`},Y=()=>{if(!p||!P.name||!P.quantity)return;let S="";p.includes("Frigo")?S="F":p.includes("Congélateur")?S="C":p==="Remise"?S="R":p==="Cave"&&(S="CA");const _={id:U(S),name:P.name,quantity:`${P.quantity}${P.unit==="unités"?" unités":P.unit==="bouteilles"?" bouteilles":P.unit}`,arrivalDate:P.arrivalDate,expiryDate:P.expiryDate===""?"N/A":P.expiryDate};te({...L,[p]:[...L[p],_]}),O({name:"",quantity:"",unit:"kg",arrivalDate:new Date().toISOString().substring(0,10),expiryDate:new Date(Date.now()+7*24*60*60*1e3).toISOString().substring(0,10)}),w(!1)},re=(S,_)=>{D({id:_.id,name:_.name,quantity:_.quantity});const se=_.quantity.match(/^(\d+(?:\.\d+)?)/);se&&se[1]?C(se[1]):C(""),q(!0)},he=S=>{const _=S.match(/[a-zA-Z]+|unités|bouteilles/);return _?_[0]:""},je=S=>{const _=S.match(/^(\d+(?:\.\d+)?)/);return _?parseFloat(_[1]):0},ye=()=>{if(!p||!v)return;const S=je(v.quantity),_=parseFloat(N),se=he(v.quantity),ue=[...L[p]],Ze=ue.findIndex(Me=>Me.id===v.id);if(Ze!==-1){if(_>=S){const Me=ue.filter(vt=>vt.id!==v.id);te({...L,[p]:Me}),console.log(`Produit ${v.id} entièrement retiré de ${p}`)}else{const Me={...ue[Ze],quantity:`${(S-_).toFixed(2).replace(/\.00$/,"")}${se}`};ue[Ze]=Me,te({...L,[p]:ue}),console.log(`${N}${se} de ${v.name} retiré de ${p}`)}q(!1),D(null),C("")}},{handlers:Ce,isRefreshing:Fe}=xr(async()=>{await new Promise(S=>setTimeout(S,1e3))}),Re=()=>{switch(t){case"tables":return"Tables";case"trempes":return"Trempes";case"pools":return"Bassins";case"autres":return"Autres emplacements";case"achats":return"Achats";case"charges":return"Charges";default:return""}},[y,$]=x.useState(!1),{register:H,handleSubmit:M,formState:{errors:A}}=rt({defaultValues:{chargeName:"",amount:0,description:"",invoice:null}}),[De,ke]=x.useState(null),Ge=S=>{console.log(S),$(!1)},nt=S=>{var se;const _=(se=S.target.files)==null?void 0:se[0];if(_){const ue=new FileReader;ue.onloadend=()=>{ke(ue.result)},ue.readAsDataURL(_)}},Ie=()=>{ke(null)};x.useState(!1);const Le=[{id:"CH-001",name:"Carburant voiture",amount:50,date:"2025-03-01"},{id:"CH-002",name:"Carburant bateau",amount:75,date:"2025-03-03"},{id:"CH-003",name:"Réparation équipement",amount:200,date:"2025-03-05"}],[Oe,Xe]=x.useState(!1),[Ye,Et]=x.useState(null),[gt,ft]=x.useState(!1),dt=S=>{Et(S),ft(!0)};return e.jsxs("div",{ref:F,className:"space-y-6",...Ce,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:Re()}),e.jsx("div",{className:"flex items-center space-x-3"})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("tables"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="tables"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{size:16,className:"mr-2"}),"Tables"]})}),e.jsx("button",{onClick:()=>a("trempes"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="trempes"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:16,className:"mr-2"}),"Trempes"]})}),e.jsx("button",{onClick:()=>a("pools"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="pools"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:16,className:"mr-2"}),"Bassins"]})}),e.jsx("button",{onClick:()=>a("autres"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="autres"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{size:16,className:"mr-2"}),"Autres emplacements"]})}),e.jsx("button",{onClick:()=>a("achats"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="achats"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ht,{size:16,className:"mr-2"}),"Achats"]})}),e.jsx("button",{onClick:()=>a("charges"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="charges"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(tt,{size:16,className:"mr-2"}),"Charges"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:S=>i(S.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtres"]})]}),t==="tables"&&e.jsx(ha,{onTableSelect:n,onTableHover:h,hoveredTable:c,selectedTable:r}),t==="pools"&&e.jsx(qr,{}),t==="trempes"&&e.jsx(ua,{}),t==="autres"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-medium text-white",children:"Lieux de stockage alternatifs"}),e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:18,className:"mr-2"}),"Ajouter lieu de stockage"]})]}),e.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>j("Frigo 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(le,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"500 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"65%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>j("Frigo 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(le,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"300 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"30%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>j("Congélateur 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Te,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"200 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"85%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>j("Congélateur 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Te,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"150 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"40%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>j("Remise"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:e.jsx(W,{size:18,className:"text-amber-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),e.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"1000 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"55%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>j("Cave"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:e.jsx(ve,{size:18,className:"text-purple-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),e.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"800 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"25%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})})]}),t==="achats"&&e.jsx(wa,{}),r&&e.jsx(pa,{table:r,onClose:()=>n(null)}),o&&t!=="achats"&&e.jsx(_r,{isOpen:o,onClose:()=>u(!1)}),o&&t==="achats"&&e.jsx(Vr,{isOpen:o,onClose:()=>u(!1)}),d&&e.jsx(Or,{isOpen:d,onClose:()=>l(!1)}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${p.includes("Frigo")?"bg-blue-500/20":p.includes("Congélateur")?"bg-cyan-500/20":p==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:p.includes("Frigo")?e.jsx(le,{size:20,className:"text-blue-400"}):p.includes("Congélateur")?e.jsx(Te,{size:20,className:"text-cyan-400"}):p==="Remise"?e.jsx(W,{size:20,className:"text-amber-400"}):e.jsx(ve,{size:20,className:"text-purple-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:p})]}),e.jsx("button",{onClick:()=>j(null),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-white/70",children:[(wt=L[p])==null?void 0:wt.length," produits stockés"]})}),e.jsxs("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors flex items-center gap-2",children:[e.jsx(Q,{size:16}),"Ajouter un produit"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[e.jsx("div",{children:"Produit"}),e.jsx("div",{children:"Quantité"}),e.jsx("div",{children:"Date d'arrivée"}),e.jsx("div",{children:"DLC"}),e.jsx("div",{className:"text-right",children:"Actions"})]}),((ct=L[p])==null?void 0:ct.length)>0?(z=L[p])==null?void 0:z.map(S=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[e.jsx("div",{className:"font-medium",children:S.name}),e.jsx("div",{children:S.quantity}),e.jsx("div",{children:S.arrivalDate}),e.jsx("div",{children:S.expiryDate==="N/A"?e.jsx("span",{className:"text-white/50",children:"N/A"}):e.jsx("span",{className:`${new Date(S.expiryDate)<new Date?"text-red-400":new Date(S.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:S.expiryDate})}),e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{onClick:_=>{_.stopPropagation(),re(p,S)},className:"px-3 py-1 bg-brand-burgundy/80 hover:bg-brand-burgundy text-white text-xs rounded-lg transition-colors",children:"Sortir"})})]},S.id)):e.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})}),g&&p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Ajouter un produit - ",p]}),e.jsx("button",{onClick:()=>w(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{onSubmit:S=>{S.preventDefault(),Y()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Nom du produit"}),e.jsx("input",{type:"text",value:P.name,onChange:S=>O({...P,name:S.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: Huîtres Fines de Claire"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité"}),e.jsx("input",{type:"text",value:P.quantity,onChange:S=>O({...P,quantity:S.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Ex: 50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Unité"}),e.jsxs("select",{value:P.unit,onChange:S=>O({...P,unit:S.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"g",children:"g"}),e.jsx("option",{value:"tonnes",children:"tonnes"}),e.jsx("option",{value:"unités",children:"unités"}),e.jsx("option",{value:"bouteilles",children:"bouteilles"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'arrivée"}),e.jsx("input",{type:"date",value:P.arrivalDate,onChange:S=>O({...P,arrivalDate:S.target.value}),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Date d'expiration (DLC)"}),e.jsx("input",{type:"date",value:P.expiryDate,onChange:S=>O({...P,expiryDate:S.target.value}),className:"w-full p-3 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue"}),e.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Laissez vide si non applicable"})]}),e.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Nouveau lieu de stockage"}),e.jsx("button",{onClick:()=>b(!1),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Lieu de stockage"}),e.jsx("input",{type:"text",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Entrepôt principal"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type de stockage"}),e.jsxs("select",{className:"w-full p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"",children:"Sélectionner un type"}),e.jsx("option",{value:"frigo",children:"Frigo"}),e.jsx("option",{value:"congelateur",children:"Congélateur"}),e.jsx("option",{value:"remise",children:"Remise"}),e.jsx("option",{value:"other",children:"Autre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Capacité (estimée)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",className:"w-full p-4 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: 1000"}),e.jsxs("select",{className:"p-4 bg-brand-dark/80 rounded-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue appearance-none",children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"tonnes",children:"tonnes"}),e.jsx("option",{value:"units",children:"unités"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"w-full py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Enregistrer"})]})]})]})}),k&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Sortir un produit"}),e.jsx("button",{onClick:()=>{q(!1),D(null)},className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-white text-lg mb-2",children:v.name}),e.jsxs("p",{className:"text-white/70",children:["Quantité disponible: ",v.quantity]})]}),e.jsxs("form",{onSubmit:S=>{S.preventDefault(),ye()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/80 mb-2",children:"Quantité à sortir"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",min:"0.01",step:"0.01",max:je(v.quantity),value:N,onChange:S=>C(S.target.value),required:!0,className:"w-full p-3 bg-brand-dark/80 rounded-l-lg text-white border border-brand-blue/30 focus:border-brand-blue focus:outline-none focus:ring-1 focus:ring-brand-blue",placeholder:"Quantité"}),e.jsx("span",{className:"bg-white/10 text-white px-4 py-3 rounded-r-lg border-t border-r border-b border-brand-blue/30",children:he(v.quantity)})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>{q(!1),D(null)},className:"px-4 py-2 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Confirmer"})]})]})]})}),t==="charges"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-medium text-white",children:"Charges"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>$(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(tt,{size:18,className:"mr-2"}),"Nouvelle Charge"]}),e.jsxs("button",{onClick:()=>Xe(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Be,{size:18,className:"mr-2"}),"Calendrier"]})]})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Carburant voiture"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-01"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"50 €"}),e.jsx("button",{onClick:()=>dt(Le[0]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(_e,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Carburant bateau"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-03"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"75 €"}),e.jsx("button",{onClick:()=>dt(Le[1]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(_e,{size:20})})]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Réparation équipement"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Date: 2025-03-05"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("p",{className:"text-white font-medium",children:"200 €"}),e.jsx("button",{onClick:()=>dt(Le[2]),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(_e,{size:20})})]})]})]}),y&&e.jsx(ne,{isOpen:y,onClose:()=>$(!1),title:"Nouvelle Charge",size:"lg",children:e.jsxs("form",{onSubmit:M(Ge),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la charge"}),e.jsx("input",{...H("chargeName",{required:"Le nom de la charge est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),A.chargeName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:A.chargeName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Montant (€)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",...H("amount",{required:"Le montant est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),A.amount&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:A.amount.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{...H("description"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white resize-none",placeholder:"Ajoutez une description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Facture (photo/scan)"}),e.jsx("div",{className:"flex flex-col items-center justify-center p-4 border border-dashed border-white/20 rounded-lg bg-white/5",children:De?e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("img",{src:De,alt:"Aperçu de la facture",className:"max-h-48 mx-auto object-contain rounded-lg"}),e.jsx("button",{type:"button",onClick:Ie,className:"w-full py-2 text-sm text-white/70 hover:text-white border border-white/10 rounded-lg transition-colors",children:"Supprimer et choisir une autre"})]}):e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("label",{htmlFor:"invoice-upload",className:"cursor-pointer bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(Se,{size:20,className:"mr-2"}),e.jsx("span",{children:"Choisir un fichier"}),e.jsx("input",{id:"invoice-upload",type:"file",accept:"image/*",className:"hidden",onChange:nt})]})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-sm text-white/40",children:"ou"})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"button",className:"bg-white/10 hover:bg-white/15 text-white rounded-lg px-4 py-3 flex items-center justify-center transition-colors duration-200",children:[e.jsx(At,{size:20,className:"mr-2"}),e.jsx("span",{children:"Prendre une photo"})]})})]})}),e.jsx("p",{className:"mt-2 text-xs text-white/50",children:"La facture sera disponible dans Comptabilité"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:()=>$(!1),className:"px-5 py-2 border border-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/5 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-primary hover:bg-brand-primary/90 rounded-lg text-white transition-colors",children:"Enregistrer"})]})]})}),Oe&&e.jsx(ne,{isOpen:Oe,onClose:()=>Xe(!1),title:"Calendrier",size:"lg",children:e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-white",children:"Ici, vous pouvez intégrer un composant de calendrier."})})})]}),gt&&Ye&&e.jsx(ne,{isOpen:gt,onClose:()=>ft(!1),title:"Détails de la facture",size:"lg",children:e.jsx("div",{className:"p-4",children:e.jsxs("p",{className:"text-white",children:["Détails de la facture pour ",Ye.name]})})}),Fe&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white/5 rounded-full p-4",children:e.jsx("div",{className:"w-8 h-8 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})})})]})}function Ur({value:t,onValueChange:a,children:s,className:i=""}){return e.jsx("div",{className:i,children:V.Children.map(s,r=>V.isValidElement(r)?V.cloneElement(r,{value:t,onValueChange:a}):r)})}function Jr({children:t,className:a=""}){return e.jsx("div",{className:`flex items-center space-x-4 border-b border-white/10 ${a}`,children:t})}function Bt({value:t,children:a,className:s=""}){const i=V.useContext(va),r=(i==null?void 0:i.value)===t;return e.jsx("button",{onClick:()=>i==null?void 0:i.onValueChange(t),className:`
        py-4 text-sm font-medium border-b-2 transition-colors
        ${r?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}
        ${s}
      `,children:a})}function Vt({value:t,children:a,className:s=""}){const i=V.useContext(va);return(i==null?void 0:i.value)!==t?null:e.jsx("div",{className:s,children:a})}const va=V.createContext(null);function Gr(){const[t,a]=x.useState(""),[s,i]=x.useState(!1),[r,n]=x.useState(null),[c,h]=x.useState(null),[o,u]=x.useState("bassins"),d=l=>{const m=l.target;!m.closest(".catalog-content")&&!m.closest(".catalog-button")&&i(!1)};return e.jsxs("div",{onClick:d,className:"h-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Stock"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Visualisez et gérez votre inventaire"})]}),e.jsxs(X,{className:"catalog-button bg-blue-600 hover:bg-blue-700 text-white",onClick:l=>{l.stopPropagation(),i(!s)},children:[e.jsx(_e,{className:"w-4 h-4 mr-2"}),s?"Masquer le catalogue":"Voir le catalogue"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),e.jsx(B,{type:"text",placeholder:"Rechercher dans le stock...",value:t,onChange:l=>a(l.target.value),className:"pl-10"})]}),e.jsxs(X,{variant:"outline",className:"gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Filtres"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`transition-all duration-300 ${s?"mr-80":""}`,children:e.jsxs(Ur,{value:o,onValueChange:u,className:"space-y-6",children:[e.jsxs(Jr,{children:[e.jsx(Bt,{value:"bassins",children:"Bassins"}),e.jsx(Bt,{value:"trempes",children:"Trempes"}),e.jsx(Bt,{value:"achats",children:"Achats"})]}),e.jsx(Vt,{value:"bassins",children:e.jsx(mt,{children:e.jsx("div",{className:"p-6",children:e.jsx(ha,{onTableSelect:n,onTableHover:h,hoveredTable:c,selectedTable:r})})})}),e.jsx(Vt,{value:"trempes",children:e.jsx(ua,{})}),e.jsx(Vt,{value:"achats",children:e.jsx(wa,{})})]})}),e.jsx("div",{className:`catalog-content fixed top-0 right-0 h-full w-80 bg-brand-dark border-l border-white/10 transform transition-transform duration-300 ${s?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Catalogue"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-medium",children:"Huîtres Spéciales"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Calibre 2"})]}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-medium",children:"Huîtres Fines"}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Calibre 3"})]})]})]})})]}),r&&e.jsx(pa,{table:r,onClose:()=>n(null)})]})}class pt extends x.PureComponent{render(){const{series:a,height:s,showGrid:i,showLegend:r}=this.props;if(!a||a.length===0||!a[0].data)return e.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] bg-white/5 rounded-lg border border-white/10",children:e.jsx("p",{className:"text-white/60",children:"Aucune donnée disponible"})});const n=a[0].data.map((c,h)=>{const o={name:c.name};return a.forEach(u=>{u.data[h]&&(o[u.name]=u.data[h].value)}),o});return e.jsx(Yt,{width:"100%",height:s,children:e.jsxs(ji,{data:n,children:[i&&e.jsx(Ys,{strokeDasharray:"3 3",stroke:"rgb(var(--color-border) / 0.5)"}),e.jsx(Zs,{dataKey:"name",stroke:"rgb(var(--color-text-secondary))",fontSize:12}),e.jsx(Ks,{stroke:"rgb(var(--color-text-secondary))",fontSize:12}),e.jsx(Zt,{contentStyle:{backgroundColor:"rgb(var(--color-background))",border:"1px solid rgb(var(--color-border))",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),r&&e.jsx(gi,{verticalAlign:"top",height:36,iconType:"circle",formatter:c=>e.jsx("span",{style:{color:"rgb(var(--color-text))"},children:c})}),a.map(c=>e.jsx(fi,{type:"monotone",dataKey:c.name,stroke:c.color,strokeWidth:2,dot:{fill:c.color,strokeWidth:0},activeDot:{r:6,strokeWidth:0}},c.name))]})})}}hs(pt,"defaultProps",{height:300,showGrid:!0,showLegend:!0});const Xr=[{id:"1",name:"À réception",days:0},{id:"2",name:"30 jours",days:30},{id:"3",name:"60 jours",days:60}],Yr=[{id:"1",name:"TVA 20%",rate:20,isDefault:!0},{id:"2",name:"TVA 10%",rate:10,isDefault:!1},{id:"3",name:"TVA 5.5%",rate:5.5,isDefault:!1}];function Na({type:t,initialData:a,onSubmit:s,onCancel:i}){const{register:r,control:n,handleSubmit:c,watch:h,setValue:o,formState:{errors:u}}=rt({defaultValues:{type:t,status:"draft",date:T(new Date,"yyyy-MM-dd"),items:(a==null?void 0:a.items)||[{description:"",quantity:1,unit_price:0,tax_rate:20}],...a}}),{fields:d,append:l,remove:m}=wi({control:n,name:"items"}),b=h("items"),p=()=>b.reduce((w,k)=>w+k.quantity*k.unit_price,0),j=()=>b.reduce((w,k)=>{const q=k.tax_rate||20;return w+k.quantity*k.unit_price*(q/100)},0),g=()=>p()+j();return e.jsxs("form",{onSubmit:c(s),className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t==="sale"?"Nouvelle Facture":"Nouvelle Facture Fournisseur"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Pt,{size:20,className:"mr-2"}),"Enregistrer"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:t==="sale"?"Client":"Fournisseur"}),e.jsx("select",{...r("customer_id"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:e.jsx("option",{value:"",children:"Sélectionner..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),e.jsx("input",{type:"date",...r("date"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Conditions de paiement"}),e.jsx("select",{...r("payment_terms"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:Xr.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Articles"}),e.jsxs("button",{type:"button",onClick:()=>l({description:"",quantity:1,unit_price:0,tax_rate:20}),className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Ajouter un article"]})]}),e.jsx("div",{className:"bg-white/5 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-white",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Quantité"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Prix unitaire"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"TVA"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:"Total HT"}),e.jsx("th",{className:"px-4 py-3 w-16"})]})}),e.jsx("tbody",{children:d.map((w,k)=>{var q,v;return e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{...r(`items.${k}.description`),className:"w-full px-3 py-1 bg-white/5 border border-white/10 rounded text-white",placeholder:"Description de l'article"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",...r(`items.${k}.quantity`),className:"w-24 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"1"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",step:"0.01",...r(`items.${k}.unit_price`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white text-right",min:"0"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("select",{...r(`items.${k}.tax_rate`),className:"w-32 px-3 py-1 bg-white/5 border border-white/10 rounded text-white",children:Yr.map(D=>e.jsx("option",{value:D.rate,children:D.name},D.id))})}),e.jsxs("td",{className:"px-4 py-3 text-right text-white",children:[(((q=b[k])==null?void 0:q.quantity)*((v=b[k])==null?void 0:v.unit_price)).toFixed(2),"€"]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{type:"button",onClick:()=>m(k),className:"p-1 text-white/60 hover:text-white transition-colors",children:e.jsx(me,{size:16})})})]},w.id)})})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-64 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Sous-total HT"}),e.jsxs("span",{className:"text-white",children:[p().toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"TVA"}),e.jsxs("span",{className:"text-white",children:[j().toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between text-base font-medium pt-2 border-t border-white/10",children:[e.jsx("span",{className:"text-white",children:"Total TTC"}),e.jsxs("span",{className:"text-white",children:[g().toFixed(2),"€"]})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Notes"}),e.jsx("textarea",{...r("notes"),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Notes ou conditions particulières..."})]})]})}const zs=[{month:"Jan",revenue:45e3,expenses:32e3},{month:"Fév",revenue:52e3,expenses:35e3},{month:"Mar",revenue:48e3,expenses:33e3},{month:"Avr",revenue:51e3,expenses:36e3},{month:"Mai",revenue:58e3,expenses:38e3},{month:"Juin",revenue:53e3,expenses:34e3}],Ds=[{month:"Jan",inflow:55e3,outflow:42e3},{month:"Fév",inflow:62e3,outflow:45e3},{month:"Mar",inflow:58e3,outflow:43e3},{month:"Avr",inflow:61e3,outflow:46e3},{month:"Mai",inflow:68e3,outflow:48e3},{month:"Juin",inflow:63e3,outflow:44e3}],zt=(t,a)=>({data:t.map(s=>({name:s.month,value:s[a]}))}),Zr=[{name:"Revenus",color:"#00D1FF",...zt(zs,"revenue")},{name:"Dépenses",color:"#FF3366",...zt(zs,"expenses")}],Kr=[{name:"Entrées",color:"#00D1FF",...zt(Ds,"inflow")},{name:"Sorties",color:"#FF3366",...zt(Ds,"outflow")}];function Wr(){const[t,a]=x.useState(!0),[s,i]=x.useState(""),[r,n]=x.useState(!1),c=h=>{console.log("Creating invoice:",h),n(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Comptabilité"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(qt,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(vi,{size:20,className:"mr-2"}),"Nouvelle Facture"]})]})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-effect p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Revenus et Dépenses"}),e.jsx(pt,{series:Zr,height:300})]}),e.jsxs("div",{className:"glass-effect p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Flux de Trésorerie"}),e.jsx(pt,{series:Kr,height:300})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),placeholder:"Rechercher des transactions...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtres"]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ae,{size:20,className:"mr-2"}),"Période"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ge,{icon:e.jsx(Q,{}),label:"Chiffre d'affaires",value:"58,000 €",trend:{value:12,positive:!0}}),e.jsx(ge,{icon:e.jsx(Os,{}),label:"Bénéfice net",value:"12,500 €",trend:{value:8,positive:!0}}),e.jsx(ge,{icon:e.jsx(Hs,{}),label:"Dépenses",value:"45,500 €",trend:{value:5,positive:!1}}),e.jsx(ge,{icon:e.jsx(Ni,{}),label:"Trésorerie",value:"25,800 €",trend:{value:3,positive:!0}})]}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-400",children:[e.jsx("th",{className:"pb-4",children:"Date"}),e.jsx("th",{className:"pb-4",children:"Description"}),e.jsx("th",{className:"pb-4",children:"Type"}),e.jsx("th",{className:"pb-4 text-right",children:"Montant"}),e.jsx("th",{className:"pb-4",children:"Statut"})]})}),e.jsxs("tbody",{className:"text-white",children:[e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-4",children:"15/06/2023"}),e.jsx("td",{children:"Facture #2023-156"}),e.jsx("td",{children:"Vente"}),e.jsx("td",{className:"text-right text-green-400",children:"+3,500€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full bg-green-900 text-green-300 text-sm",children:"Payée"})})]}),e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-4",children:"14/06/2023"}),e.jsx("td",{children:"Fournitures bureau"}),e.jsx("td",{children:"Dépense"}),e.jsx("td",{className:"text-right text-red-400",children:"-250€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-900 text-blue-300 text-sm",children:"Traitée"})})]}),e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-4",children:"12/06/2023"}),e.jsx("td",{children:"Facture #2023-155"}),e.jsx("td",{children:"Vente"}),e.jsx("td",{className:"text-right text-green-400",children:"+2,800€"}),e.jsx("td",{children:e.jsx("span",{className:"px-2 py-1 rounded-full bg-yellow-900 text-yellow-300 text-sm",children:"En attente"})})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-6 z-50",children:e.jsx("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-[rgb(var(--color-card))/95] border border-blue-400/50 shadow-[0_0_15px_rgba(59,130,246,0.3)] backdrop-blur-lg rounded-xl overflow-hidden p-8",children:e.jsx(Na,{type:"sale",onSubmit:c,onCancel:()=>n(!1)})})})]})}const el=[{id:"1",type:"sale",number:"FACT-2025-001",date:"2025-02-20",due_date:"2025-03-20",customer_id:"1",customer:{id:"1",name:"Restaurant La Marée",email:"contact@lamaree.fr",address:"123 Avenue de la Mer, 17000 La Rochelle"},status:"sent",subtotal:1250,tax:250,total:1500,notes:"",items:[{id:"1",invoice_id:"1",description:"Huîtres Plates N°3",quantity:50,unit_price:25,tax_rate:20,total:1500}]},{id:"2",type:"purchase",number:"FACT-2025-002",date:"2025-02-19",due_date:"2025-03-19",supplier_id:"1",supplier:{id:"1",name:"Naissain Express",email:"contact@naissain-express.fr",address:"456 Route des Parcs, 17560 Bourcefranc-le-Chapus"},status:"paid",subtotal:800,tax:160,total:960,notes:"",items:[{id:"2",invoice_id:"2",description:"Naissain d'huîtres",quantity:1e3,unit_price:.8,tax_rate:20,total:960}]}],tl={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",paid:"bg-green-500/20 text-green-300",overdue:"bg-red-500/20 text-red-300",cancelled:"bg-yellow-500/20 text-yellow-300"},sl={draft:ee,sent:lt,paid:Kt,overdue:de,cancelled:yi};function al({type:t,onEdit:a,onDelete:s}){const[i,r]=x.useState(null),n=el.filter(o=>o.type===t),c=o=>{console.log("Downloading invoice:",o.number)},h=o=>{console.log("Sending invoice:",o.number)};return e.jsx("div",{className:"space-y-4",children:n.map(o=>{var d,l;const u=sl[o.status];return e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(pe,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:o.number}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center ${tl[o.status]}`,children:[e.jsx(u,{size:12,className:"mr-1"}),o.status]})]}),e.jsx("div",{className:"mt-1 text-sm text-white/60",children:t==="sale"?(d=o.customer)==null?void 0:d.name:(l=o.supplier)==null?void 0:l.name}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Date"}),e.jsx("div",{className:"text-white",children:T(new Date(o.date),"PP",{locale:E})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Échéance"}),e.jsx("div",{className:"text-white",children:T(new Date(o.due_date),"PP",{locale:E})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Montant TTC"}),e.jsxs("div",{className:"text-white font-medium",children:[o.total.toFixed(2),"€"]})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>r(i===o.id?null:o.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(bt,{size:20,className:"text-white/60"})}),i===o.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsxs("button",{onClick:()=>c(o),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(fe,{size:16,className:"mr-2"}),"Télécharger"]}),o.status==="draft"&&e.jsxs("button",{onClick:()=>h(o),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(lt,{size:16,className:"mr-2"}),"Envoyer"]}),e.jsxs("button",{onClick:()=>a(o),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(ut,{size:16,className:"mr-2"}),"Modifier"]}),e.jsxs("button",{onClick:()=>s(o),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[e.jsx(me,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},o.id)})})}function il(){const[t,a]=x.useState("sales"),[s,i]=x.useState(!1),[r,n]=x.useState(""),[c,h]=x.useState(null),o=l=>{console.log("Creating invoice:",l),i(!1)},u=l=>{h(l)},d=l=>{confirm(`Êtes-vous sûr de vouloir supprimer la facture ${l.number} ?`)&&console.log("Deleting invoice:",l.number)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Factures"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle Facture"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("sales"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="sales"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{size:16,className:"mr-2"}),"Factures Clients"]})}),e.jsx("button",{onClick:()=>a("purchases"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="purchases"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:16,className:"mr-2"}),"Factures Fournisseurs"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:r,onChange:l=>n(l.target.value),placeholder:"Rechercher une facture...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtres"]})]}),e.jsx(al,{type:t==="sales"?"sale":"purchase",onEdit:u,onDelete:d}),(s||c)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:e.jsx(Na,{type:t==="sales"?"sale":"purchase",initialData:c||void 0,onSubmit:o,onCancel:()=>{i(!1),h(null)}})})})]})}const rl=[{id:"1",date:"2025-02-19",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"18:00"}},{id:"2",date:"2025-02-20",morning:{start:"08:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"}},{id:"3",date:"2025-02-21",morning:{start:"07:30",end:"12:00"}}];function ll({date:t,period:a,currentSchedule:s,onSave:i,onDelete:r}){const[n,c]=x.useState((s==null?void 0:s.start)||(a==="morning"?"08:00":"14:00")),[h,o]=x.useState((s==null?void 0:s.end)||(a==="morning"?"12:00":"18:00")),u=()=>{i({start:n,end:h})};return e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-white font-medium",children:[a==="morning"?"Matin":"Après-midi"," - ",T(t,"EEEE d MMMM",{locale:E})]}),s&&r&&e.jsx("button",{onClick:r,className:"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/5","aria-label":"Supprimer le créneau",children:e.jsx(me,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`start-${a}`,className:"block text-sm text-white/60 mb-1",children:"Début"}),e.jsx("input",{id:`start-${a}`,type:"time",value:n,onChange:d=>c(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`end-${a}`,className:"block text-sm text-white/60 mb-1",children:"Fin"}),e.jsx("input",{id:`end-${a}`,type:"time",value:h,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsx("button",{onClick:u,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})}function ya({employee:t,onClose:a}){var w,k,q;const[s,i]=x.useState(new Date),[r,n]=x.useState(rl),[c,h]=x.useState(null),{session:o}=K();(w=o==null?void 0:o.user)==null||w.role;const u=Ci(s,{weekStartsOn:1}),d=ki(s,{weekStartsOn:1}),l=Si({start:u,end:d}),m=()=>i(zi(s,1)),b=()=>i(Di(s,1)),p=v=>r.find(D=>Mi(new Date(D.date),v)),j=(v,D,N)=>{n(C=>{const P=T(v,"yyyy-MM-dd"),O=C.findIndex(L=>L.date===P);if(O>=0){const L=[...C];return L[O]={...L[O],[D]:N},L}else return[...C,{id:crypto.randomUUID(),date:P,[D]:N}]}),h(null)},g=(v,D)=>{n(N=>{const C=T(v,"yyyy-MM-dd"),P=N.findIndex(O=>O.date===C);if(P>=0){const O=[...N],L=O[P];return D==="morning"?delete L.morning:delete L.afternoon,!L.morning&&!L.afternoon&&O.splice(P,1),O}return N}),h(null)};return e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:t.name}),e.jsx("p",{className:"text-white/60",children:"Planning hebdomadaire"})]})})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("button",{onClick:m,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine précédente",children:e.jsx(Es,{size:20,className:"text-white/60"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{size:20,className:"text-white/60"}),e.jsx("span",{className:"text-white font-medium",children:T(u,"MMMM yyyy",{locale:E})})]}),e.jsx("button",{onClick:b,className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Semaine suivante",children:e.jsx(Mt,{size:20,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsx("div",{className:"grid grid-cols-7 gap-4",children:l.map((v,D)=>{var N,C,P,O,L,te,F,U,Y,re,he,je;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-white/60",children:T(v,"EEEE",{locale:E})}),e.jsx("div",{className:"text-lg font-medium text-white",children:T(v,"d",{locale:E})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(N=p(v))!=null&&N.morning?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>h({date:v,period:"morning"}),whileHover:{scale:1.02},children:[e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Matin"}),e.jsx("div",{className:"text-sm text-white/60",children:(C=p(v))!=null&&C.morning?`${(O=(P=p(v))==null?void 0:P.morning)==null?void 0:O.start} - ${(te=(L=p(v))==null?void 0:L.morning)==null?void 0:te.end}`:"-"})]}),e.jsxs(f.div,{className:`rounded-lg p-3 cursor-pointer transition-colors ${(F=p(v))!=null&&F.afternoon?"bg-[#00D1FF]/20":"bg-white/5 hover:bg-white/10"}`,onClick:()=>h({date:v,period:"afternoon"}),whileHover:{scale:1.02},children:[e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Après-midi"}),e.jsx("div",{className:"text-sm text-white/60",children:(U=p(v))!=null&&U.afternoon?`${(re=(Y=p(v))==null?void 0:Y.afternoon)==null?void 0:re.start} - ${(je=(he=p(v))==null?void 0:he.afternoon)==null?void 0:je.end}`:"-"})]})]})]},D)})})}),e.jsx(I,{children:c&&e.jsx(f.div,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"border-l border-white/10 overflow-hidden",children:e.jsx("div",{className:"w-80 p-6",children:e.jsx(ll,{date:c.date,period:c.period,currentSchedule:(k=p(c.date))==null?void 0:k[c.period],onSave:v=>j(c.date,c.period,v),onDelete:(q=p(c.date))!=null&&q[c.period]?()=>g(c.date,c.period):void 0})})})})]})]})}const nl=[{id:"1",name:"Jean Dupont",position:"Responsable Production",department:"Production",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"Site A",status:"active",hireDate:"2024-01-15"},{id:"2",name:"Marie Martin",position:"Technicienne Maintenance",department:"Maintenance",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Site B",status:"active",hireDate:"2024-02-01"}];function dl({searchQuery:t}){const[a,s]=x.useState(null),[i,r]=x.useState(!1),n=nl.filter(h=>h.name.toLowerCase().includes(t.toLowerCase())||h.position.toLowerCase().includes(t.toLowerCase())||h.department.toLowerCase().includes(t.toLowerCase())),c=(h,o)=>{o.stopPropagation(),s(h),r(!0)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(h=>e.jsx("div",{className:"bg-white/5 rounded-lg border border-white/10 hover:border-white/20 transition-all duration-200 group",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#00D1FF]/20 rounded-full flex items-center justify-center",children:h.avatar?e.jsx("img",{src:h.avatar,alt:h.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-lg font-medium",children:h.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:h.name}),e.jsx("p",{className:"text-sm text-white/60",children:h.position})]})]}),e.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:e.jsx(bt,{size:20})})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),h.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(xe,{size:16,className:"mr-2"}),h.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(be,{size:16,className:"mr-2"}),h.location]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-white/60",children:["Embauché le ",new Date(h.hireDate).toLocaleDateString("fr-FR")]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${h.status==="active"?"bg-[#00D1FF]/20 text-[#00D1FF]":"bg-yellow-500/20 text-yellow-300"}`,children:h.status==="active"?"Actif":"Inactif"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsxs("button",{onClick:o=>c(h,o),className:"w-full flex items-center justify-center px-4 py-2 bg-[#00D1FF]/20 rounded-lg text-[#00D1FF] hover:bg-[#00D1FF]/30 transition-colors",children:[e.jsx(ae,{size:16,className:"mr-2"}),"Voir le planning"]})})]})},h.id))}),i&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",onClick:()=>r(!1),children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",onClick:h=>h.stopPropagation(),children:e.jsx(ya,{employee:a,onClose:()=>r(!1)})})})]})}function cl({onClose:t}){const{register:a,handleSubmit:s,formState:{errors:i}}=rt(),r=n=>{console.log(n),t()};return e.jsxs("form",{onSubmit:s(r),className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Nouvel Employé"}),e.jsx("button",{type:"button",onClick:t,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{...a("firstName",{required:"Le prénom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{...a("lastName",{required:"Le nom est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.lastName.message})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",...a("email",{required:"L'email est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{...a("phone"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Poste"}),e.jsx("input",{...a("position",{required:"Le poste est requis"}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"}),i.position&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.position.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),e.jsxs("select",{...a("department"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"quality",children:"Contrôle Qualité"}),e.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),e.jsx("input",{...a("location"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",...a("startDate"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Identifiant employé"}),e.jsx("input",{...a("employeeId"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),e.jsx("input",{...a("emergencyContact"),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'employé"})]})]})}const ol=[{id:"1",type:"Congés payés",startDate:"2025-03-15",endDate:"2025-03-22",status:"approved",reason:"Vacances"},{id:"2",type:"Maladie",startDate:"2025-02-10",endDate:"2025-02-12",status:"approved",reason:"Grippe"},{id:"3",type:"RTT",startDate:"2025-04-01",endDate:"2025-04-01",status:"pending",reason:"Personnel"}];function xl({isOpen:t,onClose:a,onConfirm:s,action:i}){return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:i==="approve"?"Confirmer l'approbation":"Confirmer le refus"}),e.jsx("p",{className:"text-white/70 mb-6",children:i==="approve"?"Êtes-vous sûr de vouloir approuver cette demande de congé ?":"Êtes-vous sûr de vouloir refuser cette demande de congé ?"}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>s(i==="approve"),className:`px-4 py-2 rounded-lg text-white transition-colors ${i==="approve"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:i==="approve"?"Approuver":"Refuser"})]})]})}):null}function ml({request:t,onClose:a,onValidate:s}){const[i,r]=x.useState(""),[n,c]=x.useState(null),h=o=>{s(t.id,o,i),c(null),a()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Validation de congé"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white font-medium",children:t.type})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Période"}),e.jsxs("div",{className:"text-white font-medium",children:[T(new Date(t.startDate),"dd/MM/yyyy")," - ",T(new Date(t.endDate),"dd/MM/yyyy")]})]})]}),t.reason&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Motif"}),e.jsx("div",{className:"text-white",children:t.reason})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Notes de validation"}),e.jsx("textarea",{value:i,onChange:o=>r(o.target.value),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des notes optionnelles..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>c("reject"),className:"px-4 py-2 bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30 transition-colors",children:"Refuser"}),e.jsx("button",{onClick:()=>c("approve"),className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors",children:"Approuver"})]})]})]})}),e.jsx(xl,{isOpen:n!==null,onClose:()=>c(null),onConfirm:o=>h(o),action:n||"approve"})]})}function hl(){const[t,a]=x.useState(ol),[s,i]=x.useState(null),[r,n]=x.useState({start:"",end:""}),c=(o,u,d)=>{a(t.map(l=>l.id===o?{...l,status:u?"approved":"rejected",notes:d}:l)),i(null)},h=t.filter(o=>{if(!r.start&&!r.end)return!0;const u=new Date(o.startDate),d=r.start?new Date(r.start):null,l=r.end?new Date(r.end):null;return d&&l?u>=d&&u<=l:d?u>=d:l?u<=l:!0});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Gestion des Congés"}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle demande"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Solde congés payés"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"15 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"RTT restants"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"5 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Congés pris"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"12 jours"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Congés à venir"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"7 jours"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:o=>n(u=>({...u,start:o.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:o=>n(u=>({...u,end:o.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsx("button",{onClick:()=>n({start:"",end:""}),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Réinitialiser"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("div",{className:"p-4 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Demandes de congés"})}),e.jsx("div",{className:"divide-y divide-white/10",children:h.map(o=>e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:e.jsx(ae,{size:20,className:"text-white/60"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:o.type}),e.jsxs("div",{className:"text-sm text-white/60",children:["Du ",T(new Date(o.startDate),"dd/MM/yyyy",{locale:E})," au"," ",T(new Date(o.endDate),"dd/MM/yyyy",{locale:E})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${o.status==="approved"?"bg-green-500/20 text-green-300":o.status==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:o.status==="approved"?"Approuvé":o.status==="rejected"?"Refusé":"En attente"}),o.status==="pending"&&e.jsx("button",{onClick:()=>i(o.id),className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Valider"})]})]}),o.reason&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Motif : ",o.reason]}),o.notes&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Notes : ",o.notes]})]},o.id))})]}),s&&e.jsx(ml,{request:t.find(o=>o.id===s),onClose:()=>i(null),onValidate:c})]})}const ul=[{id:"1",employeeName:"Jean Dupont",position:"Responsable Production",date:"2025-01-15",overallRating:4.5,status:"completed",strengths:["Leadership","Organisation","Communication"],improvements:["Délégation"],goals:["Formation équipe","Optimisation processus"],taskPerformance:{averageScore:92,tasksCompleted:45,onTimeCompletion:95,efficiencyRate:88}},{id:"2",employeeName:"Marie Martin",position:"Technicienne Maintenance",date:"2025-02-01",overallRating:4.2,status:"draft",strengths:["Expertise technique","Résolution problèmes"],improvements:["Documentation"],goals:["Certification avancée"],taskPerformance:{averageScore:87,tasksCompleted:38,onTimeCompletion:92,efficiencyRate:85}}];function pl(){const[t,a]=x.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Évaluations de Performance"}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle évaluation"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-6",children:ul.map(s=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.employeeName}),e.jsx("p",{className:"text-sm text-white/60",children:s.position})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s.status==="completed"?"bg-green-500/20 text-green-300":s.status==="acknowledged"?"bg-blue-500/20 text-blue-300":"bg-yellow-500/20 text-yellow-300"}`,children:s.status==="completed"?"Terminé":s.status==="acknowledged"?"Validé":"Brouillon"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Performance des tâches"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Score moyen"}),e.jsxs("div",{className:`text-xl font-bold ${s.taskPerformance.averageScore>=90?"text-green-400":s.taskPerformance.averageScore>=80?"text-yellow-400":"text-red-400"}`,children:[s.taskPerformance.averageScore,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Tâches complétées"}),e.jsx("div",{className:"text-xl font-bold text-white",children:s.taskPerformance.tasksCompleted})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Respect des délais"}),e.jsxs("div",{className:"text-xl font-bold text-green-400",children:[s.taskPerformance.onTimeCompletion,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Taux d'efficacité"}),e.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[s.taskPerformance.efficiencyRate,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2,3,4,5].map(i=>e.jsx(Ne,{size:20,className:i<=s.overallRating?"text-yellow-400 fill-current":"text-white/20"},i)),e.jsxs("span",{className:"text-white/60 text-sm ml-2",children:[s.overallRating,"/5"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Points forts"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.strengths.map((i,r)=>e.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm",children:i},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Axes d'amélioration"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.improvements.map((i,r)=>e.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm",children:i},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Objectifs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.goals.map((i,r)=>e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm",children:i},r))})]})]})]},s.id))})]})}const bl={id:"default",name:"Planning Global"};function jl(){const[t,a]=Ti(),[s,i]=x.useState(()=>t.get("tab")||"employees"),[r,n]=x.useState(!1),[c,h]=x.useState("");x.useEffect(()=>{const u=t.get("tab");u&&u!==s&&i(u)},[t]);const o=u=>{i(u),a({tab:u})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestion des Ressources Humaines"}),s==="employees"&&e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvel Employé"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>o("employees"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="employees"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"}),"Employés"]})}),e.jsx("button",{onClick:()=>o("schedule"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="schedule"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{size:16,className:"mr-2"}),"Planning"]})}),e.jsx("button",{onClick:()=>o("leave"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="leave"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{size:16,className:"mr-2"}),"Congés"]})}),e.jsx("button",{onClick:()=>o("performance"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="performance"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{size:16,className:"mr-2"}),"Évaluations"]})})]}),s==="employees"&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:c,onChange:u=>h(u.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtres"]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsx(cl,{onClose:()=>n(!1)})})}),s==="employees"&&e.jsx(dl,{searchQuery:c}),s==="leave"&&e.jsx(hl,{}),s==="performance"&&e.jsx(pl,{}),s==="schedule"&&e.jsx(ya,{employee:bl,onClose:()=>o("employees")})]})}const gl=[{id:"1",name:"Réparation Marine Pro",location:"Bouzigues, France",skills:["Réparateur de Bateau","Maintenance"],contact:{email:"contact@rmp.fr",phone:"05 46 12 34 56",website:"www.rmp.fr"},rating:4.8,certifications:["Certification Marine","Expert Agréé"],isVerified:!0,description:"Spécialiste de la réparation et maintenance de bateaux professionnels"},{id:"2",name:"Transport Maritime Express",location:"Marennes, France",skills:["Transport","Logistique"],contact:{email:"info@tme.fr",phone:"05 46 23 45 67"},rating:4.5,certifications:["Transport Maritime"],isVerified:!1,description:"Transport maritime professionnel"}];function fl({searchQuery:t,selectedSkill:a}){const[s,i]=x.useState(null),r=gl.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())||n.location.toLowerCase().includes(t.toLowerCase())||n.skills.some(c=>c.toLowerCase().includes(t.toLowerCase()))).filter(n=>!a||n.skills.includes(a)).sort((n,c)=>n.isVerified!==c.isVerified?c.isVerified?1:-1:c.rating-n.rating);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2",children:r.map(n=>e.jsx("div",{onClick:()=>i(n),className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:n.name}),n.isVerified&&e.jsx("span",{className:"text-brand-primary",children:e.jsx(Kt,{size:20})})]}),e.jsxs("div",{className:"flex items-center mt-1 space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{size:14,className:"mr-1"}),n.location]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{size:14,className:"mr-1 text-brand-primary"}),n.rating]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.skills.map((c,h)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:c},h))})]}),e.jsx(Mt,{size:20,className:"text-white/20 group-hover:text-white/60 transition-colors"})]})},n.id))}),s&&e.jsx(ne,{isOpen:!0,onClose:()=>i(null),title:s.name,size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(be,{size:20,className:"mr-3"}),s.location]}),e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(we,{size:20,className:"mr-3"}),s.contact.email]}),e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(xe,{size:20,className:"mr-3"}),s.contact.phone]}),s.contact.website&&e.jsxs("div",{className:"flex items-center text-white/70",children:[e.jsx(it,{size:20,className:"mr-3"}),s.contact.website]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Certifications"}),e.jsx("div",{className:"space-y-2",children:s.certifications.map((n,c)=>e.jsxs("div",{className:"flex items-center px-3 py-2 bg-brand-primary/20 text-brand-primary rounded-lg",children:[e.jsx(Kt,{size:16,className:"mr-2"}),n]},c))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"À propos"}),e.jsx("p",{className:"text-white/70",children:s.description})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[e.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Fermer"}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Contacter"})]})]})})]})}const wl=[{id:"1",title:"Gestion de la mortalité hivernale",content:"Quelles sont vos techniques pour minimiser la mortalité pendant l'hiver ?",category:"Production",author:{name:"Jean Dupont"},postedAt:"2025-02-19T10:00:00",likes:15,views:234,replies:8,tags:["Mortalité","Hiver","Techniques"]},{id:"2",title:"Nouvelle réglementation sanitaire",content:"Discussion sur les impacts de la nouvelle réglementation sanitaire",category:"Réglementation",author:{name:"Marie Martin"},postedAt:"2025-02-19T09:00:00",likes:23,views:567,replies:12,tags:["Réglementation","Sanitaire"]}];function vl({searchQuery:t}){const a=wl.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase())||s.tags.some(i=>i.toLowerCase().includes(t.toLowerCase())));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"256"}),e.jsx("div",{className:"text-sm text-white/60",children:"Discussions"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"1,234"}),e.jsx("div",{className:"text-sm text-white/60",children:"Messages"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"89"}),e.jsx("div",{className:"text-sm text-white/60",children:"Membres actifs"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"15"}),e.jsx("div",{className:"text-sm text-white/60",children:"Nouveaux aujourd'hui"})]})]}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:a.map((s,i)=>e.jsx("div",{className:`p-6 ${i<a.length-1?"border-b border-white/10":""}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center flex-shrink-0",children:s.author.avatar?e.jsx("img",{src:s.author.avatar,alt:s.author.name,className:"w-full h-full rounded-full"}):e.jsx(Ft,{size:20,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsx("span",{className:"text-sm text-white/60",children:s.author.name}),e.jsx("span",{className:"text-sm text-white/60",children:new Date(s.postedAt).toLocaleDateString("fr-FR")}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ws,{size:16,className:"mr-1"}),s.likes]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{size:16,className:"mr-1"}),s.views]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{size:16,className:"mr-1"}),s.replies]})]})]}),e.jsx("p",{className:"mt-4 text-white/70",children:s.content}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.tags.map((r,n)=>e.jsxs("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["#",r]},n))})]})]})},s.id))})]})}const Nl=[{id:"1",author:{name:"Jean Dupont",company:"Huîtres Dupont & Fils"},content:"Nouvelle livraison d'huîtres plates de qualité exceptionnelle disponible. N'hésitez pas à me contacter pour plus d'informations.",timestamp:"2025-02-19T10:30:00",likes:15,comments:3,shares:2,visibility:"public"},{id:"2",author:{name:"Marie Martin",company:"Ostréiculture Martin"},content:"Recherche fournisseur de poches d'élevage pour livraison urgente. Merci de me contacter en MP.",timestamp:"2025-02-19T09:15:00",likes:8,comments:5,shares:1,visibility:"network"}],yl={public:it,network:oe,private:as};function Cl(){const[t,a]=V.useState(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:"M"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{placeholder:"Partagez une actualité...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"text-white/60 hover:text-white transition-colors",children:e.jsx(it,{size:20})}),e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-1 text-white text-sm",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"network",children:"Mon réseau"}),e.jsx("option",{value:"private",children:"Privé"})]})]}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Publier"})]})]})]})}),e.jsx("div",{className:"space-y-6",children:Nl.map(s=>{const i=yl[s.visibility];return e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:s.author.name.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-white font-medium",children:s.author.name}),e.jsx("span",{className:"text-white/40",children:"•"}),e.jsx("span",{className:"text-white/60",children:s.author.company})]}),e.jsxs("div",{className:"flex items-center mt-1 text-sm text-white/40",children:[e.jsx(i,{size:14,className:"mr-1"}),new Date(s.timestamp).toLocaleString()]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>a(t===s.id?null:s.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(bt,{size:20,className:"text-white/60"})}),t===s.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Signaler"}),e.jsx("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5",children:"Masquer"})]})]})]}),e.jsx("p",{className:"mt-4 text-white/80",children:s.content}),e.jsxs("div",{className:"mt-4 flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(Ws,{size:20,className:"mr-2"}),s.likes]}),e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(Ae,{size:20,className:"mr-2"}),s.comments]}),e.jsxs("button",{className:"flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx(ea,{size:20,className:"mr-2"}),s.shares]})]})]})},s.id)})})]})}const kl=[{id:"1",name:"Jean Dupont",company:"Huîtres Dupont & Fils",position:"Directeur Commercial",email:"jean.dupont@example.com",phone:"06 12 34 56 78",location:"La Rochelle",status:"online",favorite:!0,tags:["Fournisseur","Huîtres"]},{id:"2",name:"Marie Martin",company:"Ostréiculture Martin",position:"Responsable Production",email:"marie.martin@example.com",phone:"06 23 45 67 89",location:"Marennes",status:"offline",lastActive:"2025-02-19T09:15:00",favorite:!1,tags:["Client","Production"]}];function Sl({searchQuery:t,onSelectContact:a}){const[s,i]=V.useState(null),r=kl.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())||n.company.toLowerCase().includes(t.toLowerCase())||n.tags.some(c=>c.toLowerCase().includes(t.toLowerCase())));return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(n=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-colors",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-brand-burgundy rounded-full flex items-center justify-center",children:n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"w-full h-full rounded-full"}):e.jsx(Ft,{size:24,className:"text-white"})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-brand-dark ${n.status==="online"?"bg-green-500":n.status==="away"?"bg-yellow-500":"bg-gray-500"}`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:n.name}),e.jsx("p",{className:"text-sm text-white/60",children:n.position}),e.jsx("p",{className:"text-sm text-white/40",children:n.company})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(s===n.id?null:n.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(bt,{size:20,className:"text-white/60"})}),s===n.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[e.jsxs("button",{onClick:()=>a(n.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Ae,{size:16,className:"mr-2"}),"Message"]}),e.jsxs("button",{className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Ne,{size:16,className:"mr-2"}),n.favorite?"Retirer des favoris":"Ajouter aux favoris"]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),n.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(xe,{size:16,className:"mr-2"}),n.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(be,{size:16,className:"mr-2"}),n.location]})]}),n.tags.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.tags.map((c,h)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-sm text-white/70",children:c},h))}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{onClick:()=>a(n.id),className:"flex-1 px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Message"}),e.jsx("button",{className:"px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Profil"})]})]})},n.id))})}function zl({onClose:t,type:a}){const s=()=>{switch(a){case"directory":return"Mettre à jour mon profil";case"marketplace":return"Nouvelle annonce";case"forum":return"Nouvelle discussion";default:return""}};return e.jsx(ne,{isOpen:!0,onClose:t,title:s(),size:"xl",children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Titre"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Titre de votre publication..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Contenu de votre publication..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Tags"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ajoutez des tags séparés par des virgules..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Publier"})]})]})})}function Dl({onClose:t}){const[a,s]=x.useState(""),[i,r]=x.useState(null),[n,c]=x.useState(!1),h=async o=>{o.preventDefault(),r(null),c(!0);try{if(!Ms(a))throw new Error("Format de code invalide");await new Promise(u=>setTimeout(u,1e3)),t()}catch(u){r(u instanceof Error?u.message:"Une erreur est survenue")}finally{c(!1)}};return e.jsx(ne,{isOpen:!0,onClose:t,title:"Ajouter un contact",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-brand-burgundy/20 rounded-full flex items-center justify-center",children:e.jsx(oe,{size:32,className:"text-brand-burgundy"})})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Code ami"}),e.jsx("input",{type:"text",value:a,onChange:o=>{const u=Ml(o.target.value);s(u),r(null)},placeholder:"XXXX-XXXX-XXXX",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white text-center font-mono text-xl tracking-wider",maxLength:14}),e.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Entrez le code ami de la personne que vous souhaitez ajouter"})]}),i&&e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-red-400",children:[e.jsx(de,{size:20,className:"mr-2"}),i]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:!Ms(a)||n,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Recherche...":"Ajouter"})]})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment obtenir un code ami ?"}),e.jsx("p",{className:"text-sm text-white/60",children:"Chaque utilisateur dispose d'un code ami unique disponible dans son profil. Demandez à votre contact de partager son code avec vous pour l'ajouter à votre réseau."})]})]})})}function Ml(t){return(t.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-")}function Ms(t){return/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(t)}function Tl(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let s="";for(let i=0;i<8;i++){const r=Math.floor(Math.random()*t.length);s+=t[r]}return s}const yt=[{id:"1",name:"Huîtres Marennes Oléron",email:"contact@huitres-mo.fr",phone:"05 46 85 12 34",address:"12 Route des Claires, 17320 Marennes",friend_code:"HMO17320",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Les Parcs de l'Estuaire",email:"commandes@parcs-estuaire.fr",phone:"05 46 36 45 78",address:"8 Quai des Ostréiculteurs, 17390 La Tremblade",friend_code:"LPE17390",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Atlantique Coquillages",email:"ventes@atlantique-coq.fr",phone:"02 51 68 23 45",address:"45 Avenue du Port, 85230 Bouin",friend_code:"ACQ85230",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"Cancale Premium",email:"service@cancale-premium.fr",phone:"02 99 89 67 89",address:"23 Rue du Port, 35260 Cancale",friend_code:"CAN35260",is_friend:!0,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"Arcachon Huîtres",email:"pro@arcachon-huitres.com",phone:"05 57 72 34 56",address:"56 Boulevard de la Plage, 33120 Arcachon",friend_code:"ARC33120",is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],Pl={1:[{id:"1",supplier_id:"1",name:"Huîtres Spéciales N°3",description:"Huîtres charnues de qualité supérieure, affinées en claire pendant 2 mois minimum",price:8.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:450,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",supplier_id:"1",name:"Huîtres Fines de Claire N°2",description:"Huîtres raffinées, affinées en claire pendant 3 semaines minimum",price:9.5,unit:"douzaine",category:"Fines de Claire",image:"/placeholder.jpg",available:!0,stock:300,minOrder:5,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],2:[{id:"3",supplier_id:"2",name:"Huîtres Spéciales N°2",description:"Huîtres de qualité supérieure",price:10.5,unit:"douzaine",category:"Spéciales",image:"/placeholder.jpg",available:!0,stock:200,minOrder:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],3:[{id:"4",supplier_id:"3",name:"Huîtres Plates de Belon",description:"Huîtres plates de Belon, goût unique et iodé",price:14.5,unit:"douzaine",category:"Plates",image:"/placeholder.jpg",available:!0,stock:150,minOrder:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],4:[{id:"5",supplier_id:"4",name:"Huîtres Label Rouge",description:"Huîtres labellisées Label Rouge, qualité supérieure garantie",price:12,unit:"douzaine",category:"Label Rouge",image:"/placeholder.jpg",available:!0,stock:400,minOrder:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],5:[{id:"6",supplier_id:"5",name:"Huîtres Gillardeau",description:"Les célèbres huîtres Gillardeau, reconnues mondialement",price:24,unit:"douzaine",category:"Premium",image:"/placeholder.jpg",available:!0,stock:100,minOrder:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]};function _t(){const t=ta(),{data:a=yt}=sa({queryKey:["suppliers"],queryFn:async()=>yt}),s=kt({mutationFn:async r=>{const n=Tl(),c={...r,friend_code:n,is_friend:!1,deleted:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return yt.push({...c,id:String(yt.length+1)}),c},onSuccess:()=>{t.invalidateQueries({queryKey:["suppliers"]})}});return{suppliers:a,createSupplier:s,getSupplierProducts:async r=>Pl[r]||[]}}function Ca({children:t,variant:a="default",className:s="",...i}){const r="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",n={default:"bg-[rgb(var(--color-brand-muted))] text-[rgb(var(--color-text-primary))]",success:"bg-green-500/10 text-green-500",warning:"bg-yellow-500/10 text-yellow-500",error:"bg-red-500/10 text-red-500"};return e.jsx("div",{className:`${r} ${n[a]} ${s}`,...i,children:t})}function Al(){const{suppliers:t}=_t(),a=t.filter(s=>s.is_friend);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Fournisseurs Partenaires"}),e.jsxs(Ca,{variant:"outline",className:"text-[rgb(var(--color-brand-primary))]",children:[a.length," partenaires"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>e.jsx("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:s.name}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(Rt,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm font-mono",children:s.friend_code})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(we,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(xe,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:[e.jsx(be,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:s.address})]})]})]})},s.id))})]})}const ql=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}],Ts=[{id:"1",content:"Bonjour, avez-vous des huîtres plates disponibles ?",sender:"Jean Dupont",timestamp:"10:15",isMe:!1},{id:"2",content:"Oui, nous en avons en stock. Quelle quantité vous intéresse ?",sender:"Moi",timestamp:"10:20",isMe:!0},{id:"3",content:"Je cherche environ 500 douzaines",sender:"Jean Dupont",timestamp:"10:25",isMe:!1}];function Fl({contactId:t,onClose:a}){const[s,i]=x.useState(""),[r,n]=x.useState(""),c=V.useRef(null),h=()=>{var u;(u=c.current)==null||u.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{h()},[Ts]);const o=u=>{u.preventDefault(),s.trim()&&(console.log("Message envoyé:",s),i(""))};return e.jsxs("div",{className:"h-[calc(100vh-12rem)] flex flex-col md:flex-row",children:[e.jsxs("div",{className:"hidden md:block w-80 border-r border-white/10",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Rechercher une conversation...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]})}),e.jsx("div",{className:"divide-y divide-white/10",children:ql.map(u=>e.jsx("div",{className:`p-4 hover:bg-white/5 cursor-pointer transition-colors ${u.id===t?"bg-white/5":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:u.name.charAt(0)})}),u.online&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-brand-dark"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-white font-medium truncate",children:u.name}),u.lastMessageTime&&e.jsx("span",{className:"text-xs text-white/40",children:u.lastMessageTime})]}),u.lastMessage&&e.jsx("p",{className:"text-sm text-white/60 truncate",children:u.lastMessage})]}),u.unreadCount&&u.unreadCount>0&&e.jsx("div",{className:"w-5 h-5 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white",children:u.unreadCount})})]})},u.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[e.jsx("div",{className:"p-3 md:p-4 border-b border-white/10",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("button",{onClick:a,className:"p-1.5 md:p-2 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:e.jsx(ns,{size:18,className:"md:w-5 md:h-5"})}),e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-brand-burgundy rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm md:text-base",children:"J"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium text-sm md:text-base",children:"Jean Dupont"}),e.jsx("p",{className:"text-xs md:text-sm text-green-400",children:"En ligne"})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[Ts.map(u=>e.jsx("div",{className:`flex ${u.isMe?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg p-2 md:p-3 ${u.isMe?"bg-brand-burgundy text-white":"bg-white/5 text-white"}`,children:[e.jsx("p",{className:"text-sm md:text-base",children:u.content}),e.jsx("div",{className:`text-[10px] md:text-xs mt-1 ${u.isMe?"text-white/60":"text-white/40"}`,children:u.timestamp})]})},u.id)),e.jsx("div",{ref:c})]}),e.jsx("form",{onSubmit:o,className:"p-3 md:p-4 border-t border-white/10",children:e.jsxs("div",{className:"flex items-end space-x-2 md:space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{value:s,onChange:u=>i(u.target.value),placeholder:"Écrivez votre message...",className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/5 border border-white/10 rounded-lg text-white text-sm md:text-base placeholder-white/40 resize-none",rows:1}),e.jsxs("div",{className:"absolute bottom-2 md:bottom-3 right-2 md:right-3 flex items-center space-x-1 md:space-x-2",children:[e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(Wt,{size:16,className:"md:w-5 md:h-5"})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(St,{size:16,className:"md:w-5 md:h-5"})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(ds,{size:16,className:"md:w-5 md:h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-3 py-2 md:px-4 md:py-3 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(lt,{size:18,className:"md:w-5 md:h-5"})})]})})]})]})}const Rl=[{id:"1",name:"Jean Dupont",lastMessage:"Parfait, merci !",lastMessageTime:"10:30",unreadCount:2,online:!0},{id:"2",name:"Marie Martin",lastMessage:"Je vous recontacte demain",lastMessageTime:"09:15",online:!1},{id:"3",name:"Pierre Durand",lastMessage:"Pouvez-vous me donner les prix pour...",lastMessageTime:"Hier",online:!0},{id:"4",name:"Sophie Dubois",lastMessage:"Je vous envoie les documents",lastMessageTime:"Lun",unreadCount:1,online:!1},{id:"5",name:"Luc Moreau",lastMessage:"Merci pour votre réponse",lastMessageTime:"23/02",online:!0}];function ka(){const[t,a]=x.useState(""),[s,i]=x.useState(null),r=Rl.filter(n=>n.name.toLowerCase().includes(t.toLowerCase()));return e.jsx("div",{className:"flex-1 h-full w-full max-w-full overflow-hidden",children:s?e.jsx(Fl,{contactId:s,onClose:()=>i(null)}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"}),e.jsx("button",{className:"p-1.5 sm:p-2 bg-brand-burgundy rounded-full text-white hover:bg-brand-burgundy/80 transition-colors",children:e.jsx(Q,{size:18})})]}),e.jsx("div",{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une conversation...",value:t,onChange:n=>a(n.target.value),className:"w-full px-3 py-2 sm:px-4 sm:py-3 pl-9 sm:pl-10 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 text-sm sm:text-base"}),e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:16})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:r.length>0?e.jsx("div",{className:"space-y-0.5",children:r.map(n=>e.jsx("div",{onClick:()=>i(n.id),className:"p-2 sm:p-3 hover:bg-white/5 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxs("div",{className:"relative",children:[n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full"}):e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-brand-primary/20 border border-brand-primary/30 flex items-center justify-center",children:e.jsx("span",{className:"text-brand-primary text-base sm:text-lg font-medium",children:n.name.substring(0,1)})}),n.online&&e.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-white text-sm sm:text-base",children:n.name}),n.lastMessage&&e.jsx("p",{className:"text-xs sm:text-sm text-white/60 truncate max-w-[150px] sm:max-w-[180px] md:max-w-[220px] lg:max-w-[280px]",children:n.lastMessage})]})]}),e.jsxs("div",{className:"text-right pl-2 flex flex-col items-end",children:[n.lastMessageTime&&e.jsx("p",{className:"text-xs text-white/40 mb-1",children:n.lastMessageTime}),n.unreadCount&&e.jsx("div",{className:"bg-brand-burgundy text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:n.unreadCount})]})]})},n.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/40 p-4",children:[e.jsx(Ae,{size:36,className:"mb-3 opacity-30"}),e.jsx("p",{className:"text-sm",children:"Aucune conversation trouvée"})]})})]})})}function Ps({messageView:t=!1,activeTab:a}){const s=Dt(),[i,r]=x.useState(a||t?"messages":"feed"),[n,c]=x.useState(!1),[h,o]=x.useState(!1),[u,d]=x.useState(""),[l,m]=x.useState(null),[b,p]=x.useState(null),{unreadCount:j}=K();return x.useEffect(()=>{var g;(g=s.state)!=null&&g.activeTab&&r(s.state.activeTab)},[s.state]),x.useEffect(()=>{a?r(a):t&&r("messages")},[t,a]),x.useEffect(()=>{s.pathname==="/network/messages"&&i!=="messages"&&r("messages")},[s.pathname,i]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Entre Pro"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>o(!0),className:"relative flex items-center px-4 py-2 bg-brand-primary/20 rounded-lg text-brand-primary hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Pi,{size:20,className:"mr-2"}),"Ajouter un contact"]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-brand-primary/20 rounded-lg text-brand-primary hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle publication"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>r("feed"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="feed"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ai,{size:16,className:"mr-2"}),"Fil d'actualités"]})}),e.jsx("button",{onClick:()=>r("contacts"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="contacts"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"}),"Mon Réseau"]})}),e.jsx("button",{onClick:()=>r("directory"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="directory"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{size:16,className:"mr-2"}),"Annuaire Prestataires"]})}),e.jsx("button",{onClick:()=>r("forum"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="forum"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{size:16,className:"mr-2"}),"Forum"]})}),e.jsx("button",{onClick:()=>r("messages"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="messages"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ts,{size:16,className:"mr-2"}),"Messagerie"]})}),e.jsx("button",{onClick:()=>r("suppliers"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${i==="suppliers"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"}),"Fournisseurs Amis"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:u,onChange:g=>d(g.target.value),placeholder:"Rechercher...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtres"]}),e.jsxs("button",{className:"relative p-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Je,{size:20,className:"text-amber-500 drop-shadow-[0_0_3px_rgba(245,158,11,0.5)]"}),j>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center text-xs font-bold",children:j})]})]}),i==="feed"&&e.jsx(Cl,{}),i==="contacts"&&e.jsx(Sl,{searchQuery:u,onSelectContact:g=>{p(g),r("feed")}}),i==="directory"&&e.jsx(fl,{searchQuery:u,selectedSkill:l}),i==="forum"&&e.jsx(vl,{searchQuery:u}),i==="messages"&&e.jsx(ka,{}),i==="suppliers"&&e.jsx(Al,{}),n&&e.jsx(zl,{onClose:()=>c(!1)}),h&&e.jsx(Dl,{onClose:()=>o(!1)})]})}function Ll(){const{companyInfo:t,setCompanyInfo:a}=K(),[s,i]=x.useState({name:(t==null?void 0:t.name)||"",siret:(t==null?void 0:t.siret)||"",logo:(t==null?void 0:t.logo)||"",description:(t==null?void 0:t.description)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",website:(t==null?void 0:t.website)||""});x.useEffect(()=>{t&&i({name:t.name,siret:t.siret,logo:t.logo||"",description:t.description||"",email:t.email,phone:t.phone,address:t.address,website:t.website||""})},[t]);const r=c=>{const{name:h,value:o}=c.target;i(u=>({...u,[h]:o}))},n=c=>{c.preventDefault(),a(s),et.success("Informations de l'entreprise enregistrées avec succès")};return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Informations de l'entreprise"}),e.jsxs("form",{className:"space-y-6",onSubmit:n,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'entreprise"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:r,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Oyster Cult Enterprise",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Numéro SIRET"}),e.jsx("input",{type:"text",name:"siret",value:s.siret,onChange:r,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"123 456 789 00012",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Logo de l'entreprise"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-white/10 border-dashed rounded-lg",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(Se,{className:"mx-auto h-12 w-12 text-white/40"}),e.jsxs("div",{className:"flex text-sm text-white/60",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-brand-burgundy hover:text-brand-burgundy/80 focus-within:outline-none",children:[e.jsx("span",{children:"Télécharger un fichier"}),e.jsx("input",{id:"file-upload",name:"logo",type:"file",className:"sr-only",onChange:c=>{var o;const h=(o=c.target.files)==null?void 0:o[0];h&&i(u=>({...u,logo:h.name}))}})]}),e.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),e.jsx("p",{className:"text-xs text-white/40",children:"PNG, JPG jusqu'à 10MB"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:r,rows:4,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de votre entreprise..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:r,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"contact@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:r,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"+33 1 23 45 67 89",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-3 top-3 text-white/40",size:20}),e.jsx("textarea",{name:"address",value:s.address,onChange:r,rows:2,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site web"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40",size:20}),e.jsx("input",{type:"url",name:"website",value:s.website,onChange:r,className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"https://www.example.com"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>i({name:(t==null?void 0:t.name)||"",siret:(t==null?void 0:t.siret)||"",logo:(t==null?void 0:t.logo)||"",description:(t==null?void 0:t.description)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",website:(t==null?void 0:t.website)||""}),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})]})})}const Ct={firstName:"",lastName:"",email:"",phone:"",position:"",department:"production",location:"",startDate:"",employeeId:"",emergencyContact:"",role:"1"},_l=[{id:"1",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:["all"],users:[]},{id:"2",name:"Manager",description:"Gestion des équipes et des tâches",permissions:["read:all","write:tasks","manage:users"],users:[]},{id:"3",name:"Opérateur",description:"Exécution des tâches quotidiennes",permissions:["read:tasks","write:tasks"],users:[]},{id:"4",name:"Comptable",description:"Gestion de la comptabilité et des finances",permissions:["read:sales","write:sales","read:purchases","write:purchases","read:inventory","read:reports"],users:[]}];function El(){const{addUser:t,deleteUser:a,updateUser:s,users:i}=K(),[r,n]=x.useState(!1),[c,h]=x.useState(null);x.useState(null);const[o,u]=x.useState(null),[d,l]=x.useState(Ct),[m,b]=x.useState({}),p=N=>{h(N),l({firstName:N.firstName,lastName:N.lastName,email:N.email,phone:N.phone,position:N.position,department:N.department,location:N.location,startDate:N.startDate,employeeId:N.employeeId,emergencyContact:N.emergencyContact,role:N.role}),n(!0)},j=async N=>{if(N.preventDefault(),!!c&&D())try{await s(c.id,d),et.success("Utilisateur modifié avec succès"),h(null),l(Ct)}catch{et.error("Erreur lors de la modification de l'utilisateur")}},g=N=>{l({...d,[N.target.name]:N.target.value})},w=()=>{n(!1),h(null),l(Ct),b({})},k=async N=>{try{t({...N,employeeId:`EMP${Date.now().toString().slice(-4)}`}),et.success("Utilisateur ajouté avec succès"),n(!1),l(Ct)}catch{et.error("Erreur lors de l'ajout de l'utilisateur")}},q=N=>{a(N),u(null),et.success("Utilisateur supprimé avec succès")},v=N=>{N.preventDefault();const C={};d.firstName||(C.firstName="Le prénom est obligatoire"),d.lastName||(C.lastName="Le nom est obligatoire"),d.email||(C.email="L'email est obligatoire"),d.phone||(C.phone="Le téléphone est obligatoire"),d.position||(C.position="Le rôle est obligatoire"),d.startDate||(C.startDate="La date de début est obligatoire"),b(C),Object.keys(C).length===0&&k(d)},D=()=>{const N={};return d.firstName||(N.firstName="Le prénom est obligatoire"),d.lastName||(N.lastName="Le nom est obligatoire"),d.email||(N.email="L'email est obligatoire"),d.phone||(N.phone="Le téléphone est obligatoire"),d.position||(N.position="Le rôle est obligatoire"),d.startDate||(N.startDate="La date de début est obligatoire"),b(N),Object.keys(N).length===0};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Rôles & Permissions"}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Ajouter un utilisateur"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:_l.map(N=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 group relative overflow-hidden hover:border-brand-primary/20 transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-gradient-to-b from-brand-primary/0 via-brand-primary/20 to-brand-primary/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"flex items-start justify-between relative z-10",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(aa,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:N.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:N.description}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:"Utilisateurs"}),i.filter(C=>C.role===N.id).map(C=>e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-medium",children:[C.firstName," ",C.lastName]}),e.jsx("div",{className:"text-sm text-white/60 mt-1",children:C.position})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p(C),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ze,{size:16,className:"text-white/60"})}),e.jsx("button",{onClick:()=>u(C.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(me,{size:16,className:"text-white/60"})})]})]})},C.id))]})]})]})})]},N.id))}),(r||c)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:c?"Modifier l'utilisateur":"Nouvel utilisateur"}),e.jsxs("form",{className:"space-y-6",onSubmit:c?j:v,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{type:"text",name:"firstName",value:d.firstName,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${m.firstName?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),m.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{type:"text",name:"lastName",value:d.lastName,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${m.lastName?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),m.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.lastName})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:d.email,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${m.email?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),m.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${m.phone?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),m.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Rôle"}),e.jsxs("select",{name:"position",value:d.position,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${m.position?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0,children:[e.jsx("option",{value:"",children:"Sélectionner un rôle"}),e.jsx("option",{value:"manageur",children:"Manageur"}),e.jsx("option",{value:"operateur",children:"Opérateur"}),e.jsx("option",{value:"comptable_full",children:"Comptable Tout accès"}),e.jsx("option",{value:"comptable",children:"Comptable"})]}),m.position&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Département"}),e.jsxs("select",{name:"department",value:d.department,onChange:g,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"quality",children:"Contrôle Qualité"}),e.jsx("option",{value:"logistics",children:"Logistique"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Site"}),e.jsx("input",{type:"text",name:"location",value:d.location,onChange:g,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",name:"startDate",value:d.startDate,onChange:g,className:`w-full px-4 py-2 bg-white/5 border ${m.startDate?"border-red-500":"border-white/10"} rounded-lg text-white`,required:!0}),m.startDate&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.startDate})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Contact d'urgence"}),e.jsx("input",{type:"text",name:"emergencyContact",value:d.emergencyContact,onChange:g,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Nom et numéro de téléphone"})]}),e.jsxs("div",{className:"p-4 bg-brand-primary/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-brand-primary mb-2",children:[e.jsx(we,{size:20,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Email de bienvenue"})]}),e.jsx("p",{className:"text-sm text-white/70",children:"Un email sera automatiquement envoyé à l'utilisateur avec ses identifiants de connexion."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:c?"Modifier l'utilisateur":"Ajouter l'utilisateur"})]})]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-500 mb-4",children:[e.jsx(Pe,{size:24}),e.jsx("h3",{className:"text-lg font-medium",children:"Confirmer la suppression"})]}),e.jsx("p",{className:"text-white/60 mb-6",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>q(o),className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Supprimer"})]})]})})]})}const $l=[{id:"1",name:"Huîtres Plates",category:"Huîtres",description:"Huîtres plates de qualité supérieure",sizes:["2","3","4"],unit:"douzaine",minStock:100,maxStock:1e3},{id:"2",name:"Huîtres Creuses",category:"Huîtres",description:"Huîtres creuses standard",sizes:["2","3","4","5"],unit:"douzaine",minStock:200,maxStock:2e3}];function Il(){const[t,a]=x.useState(!1),[s,i]=x.useState(null),[r,n]=x.useState(null),[c,h]=x.useState($l),o=l=>{i(l),a(!0)},u=l=>{h(c.filter(m=>m.id!==l)),n(null)},d=l=>{if(s)h(c.map(m=>m.id===s.id?{...m,...l}:m));else{const m={id:crypto.randomUUID(),...l};h([...c,m])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuration des Produits"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouveau produit"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map(l=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(W,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:l.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(l),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ze,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(l.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(me,{size:20,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Calibres disponibles"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.sizes.map(m=>e.jsxs("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:["N°",m]},m))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Gestion du stock"}),e.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[e.jsxs("div",{children:["Stock minimum: ",l.minStock," ",l.unit,"s"]}),e.jsxs("div",{children:["Stock maximum: ",l.maxStock," ",l.unit,"s"]})]})]})]})]},l.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier le produit":"Nouveau produit"}),e.jsxs("form",{onSubmit:l=>{l.preventDefault();const m=new FormData(l.currentTarget),b=Object.fromEntries(m.entries());d(b)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du produit"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Huîtres Plates",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Catégorie"}),e.jsxs("select",{name:"category",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.category,required:!0,children:[e.jsx("option",{value:"huitres",children:"Huîtres"}),e.jsx("option",{value:"materiels",children:"Matériels"}),e.jsx("option",{value:"emballages",children:"Emballages"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description du produit...",defaultValue:s==null?void 0:s.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Calibres disponibles"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["1","2","3","4","5"].map(l=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"sizes",value:l,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:s==null?void 0:s.sizes.includes(l)}),e.jsxs("span",{className:"text-white",children:["N°",l]})]},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité"}),e.jsxs("select",{name:"unit",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.unit,required:!0,children:[e.jsx("option",{value:"douzaine",children:"Douzaine"}),e.jsx("option",{value:"piece",children:"Pièce"}),e.jsx("option",{value:"kg",children:"Kilogramme"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer le produit"})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce produit ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const Ol=[{id:"1",name:"Naissain Express",type:"Naissain",contact:{name:"Jean Martin",email:"jean.martin@naissain-express.fr",phone:"01 23 45 67 89"},address:"123 Route de la Mer, 17000 La Rochelle",products:["Naissain d'huîtres plates","Naissain d'huîtres creuses"],status:"active"},{id:"2",name:"Emballages Océan",type:"Emballages",contact:{name:"Marie Dubois",email:"contact@emballages-ocean.fr",phone:"02 34 56 78 90"},address:"456 Avenue du Port, 44000 Nantes",products:["Bourriches","Cagettes","Étiquettes"],status:"active"}];function Hl(){const[t,a]=x.useState(!1),[s,i]=x.useState(null),[r,n]=x.useState(null),[c,h]=x.useState(Ol),o=l=>{i(l),a(!0)},u=l=>{h(c.filter(m=>m.id!==l)),n(null)},d=l=>{if(s)h(c.map(m=>m.id===s.id?{...m,...l}:m));else{const m={id:crypto.randomUUID(),...l};h([...c,m])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Fournisseurs"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouveau fournisseur"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map(l=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(ss,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:l.type})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),l.contact.email]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(xe,{size:16,className:"mr-2"}),l.contact.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[e.jsx(be,{size:16,className:"mr-2"}),l.address]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produits fournis"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.products.map((m,b)=>e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-sm text-white/70",children:m},b))})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(l),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ze,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(l.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(me,{size:20,className:"text-white/60"})})]})]})},l.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier le fournisseur":"Nouveau fournisseur"}),e.jsxs("form",{onSubmit:l=>{l.preventDefault();const m=new FormData(l.currentTarget),b={name:m.get("name"),type:m.get("type"),contact:{name:m.get("contactName"),email:m.get("email"),phone:m.get("phone")},address:m.get("address"),products:m.getAll("products"),status:"active"};d(b)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom du fournisseur"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Naissain Express",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.type,required:!0,children:[e.jsx("option",{value:"naissain",children:"Naissain"}),e.jsx("option",{value:"emballages",children:"Emballages"}),e.jsx("option",{value:"materiels",children:"Matériels"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Contact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Nom du contact"}),e.jsx("input",{type:"text",name:"contactName",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.email,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"phone",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.contact.phone,required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsx("textarea",{name:"address",rows:2,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Adresse complète...",defaultValue:s==null?void 0:s.address,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Produits fournis"}),e.jsx("div",{className:"space-y-2",children:["Naissain","Bourriches","Matériel d'élevage"].map(l=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"products",value:l,className:"w-4 h-4 bg-white/5 border border-white/10 rounded",defaultChecked:s==null?void 0:s.products.includes(l)}),e.jsx("span",{className:"text-white",children:l})]},l))})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer le fournisseur"})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})})]})}const Bl=[{id:"1",name:"Prix Détail 2025",description:"Liste des prix pour la vente au détail",type:"retail",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:24.9},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:19.9}],validFrom:"2025-01-01",validTo:"2025-12-31"},{id:"2",name:"Prix Grossiste 2025",description:"Liste des prix pour la vente en gros",type:"wholesale",products:[{name:"Huîtres Plates",size:"3",unit:"douzaine",price:18.9,minQuantity:100},{name:"Huîtres Creuses",size:"3",unit:"douzaine",price:14.9,minQuantity:100}],validFrom:"2025-01-01",validTo:"2025-12-31"}];function Vl(){const[t,a]=x.useState(!1),[s,i]=x.useState(null),[r,n]=x.useState(null),[c,h]=x.useState(Bl),o=l=>{i(l),a(!0)},u=l=>{h(c.filter(m=>m.id!==l)),n(null)},d=l=>{if(s)h(c.map(m=>m.id===s.id?{...m,...l}:m));else{const m={id:crypto.randomUUID(),...l};h([...c,m])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Tarification"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle liste de prix"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map(l=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(tt,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.type==="retail"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"}`,children:l.type==="retail"?"Détail":"Gros"})]}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:l.description}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"text-sm text-white/60",children:["Valide du ",new Date(l.validFrom).toLocaleDateString("fr-FR"),l.validTo&&` au ${new Date(l.validTo).toLocaleDateString("fr-FR")}`]}),e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-sm text-white/60",children:[e.jsx("th",{className:"text-left pb-2",children:"Produit"}),e.jsx("th",{className:"text-left pb-2",children:"Calibre"}),e.jsx("th",{className:"text-right pb-2",children:"Prix"}),l.type==="wholesale"&&e.jsx("th",{className:"text-right pb-2",children:"Qté min."})]})}),e.jsx("tbody",{className:"text-white",children:l.products.map((m,b)=>e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsx("td",{className:"py-2",children:m.name}),e.jsxs("td",{className:"py-2",children:["N°",m.size]}),e.jsxs("td",{className:"text-right py-2",children:[m.price.toFixed(2),"€/",m.unit]}),l.type==="wholesale"&&e.jsx("td",{className:"text-right py-2",children:m.minQuantity})]},b))})]})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(l),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ze,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(l.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(me,{size:20,className:"text-white/60"})})]})]})},l.id))}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cette liste de prix ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier la liste de prix":"Nouvelle liste de prix"}),e.jsxs("form",{onSubmit:l=>{l.preventDefault();const m=new FormData(l.currentTarget),b={name:m.get("name"),description:m.get("description"),type:m.get("type"),validFrom:m.get("validFrom"),validTo:m.get("validTo"),products:[]};d(b)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de la liste"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Prix Détail 2025",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.type,required:!0,children:[e.jsx("option",{value:"retail",children:"Vente au détail"}),e.jsx("option",{value:"wholesale",children:"Vente en gros"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de la liste de prix...",defaultValue:s==null?void 0:s.description,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide à partir du"}),e.jsx("input",{type:"date",name:"validFrom",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.validFrom,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Valide jusqu'au"}),e.jsx("input",{type:"date",name:"validTo",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:s==null?void 0:s.validTo})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Produits"}),e.jsxs("div",{className:"space-y-4",children:[((s==null?void 0:s.products)||[]).map((l,m)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Produit"}),e.jsxs("select",{name:`products[${m}].name`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:l.name,children:[e.jsx("option",{value:"plates",children:"Huîtres Plates"}),e.jsx("option",{value:"creuses",children:"Huîtres Creuses"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Calibre"}),e.jsxs("select",{name:`products[${m}].size`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:l.size,children:[e.jsx("option",{value:"2",children:"N°2"}),e.jsx("option",{value:"3",children:"N°3"}),e.jsx("option",{value:"4",children:"N°4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Prix"}),e.jsx("input",{type:"number",step:"0.01",name:`products[${m}].price`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:l.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Qté min."}),e.jsx("input",{type:"number",name:`products[${m}].minQuantity`,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:l.minQuantity})]})]},m)),e.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",onClick:()=>{const l=[...(s==null?void 0:s.products)||[]];l.push({name:"plates",size:"3",price:0,minQuantity:1}),i({...s||{name:"",description:"",type:"retail",validFrom:"",validTo:"",products:[]},products:l})},children:"+ Ajouter un produit"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer la liste"})]})]})]})})]})}const Ql=[{id:"1",name:"Zone Nord",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1558,longitude:-1.1532},status:"active"},{id:"2",name:"Zone Sud",type:"table",capacity:100,currentOccupancy:0,cordCount:10,cordLength:3,oystersPerCord:130,coordinates:{latitude:46.1498,longitude:-1.1502},status:"active"}];function Ul(){var l,m;const[t,a]=x.useState(!1),[s,i]=x.useState(null),[r,n]=x.useState(null),[c,h]=x.useState(Ql),o=b=>{i(b),a(!0)},u=b=>{h(c.filter(p=>p.id!==b)),n(null)},d=b=>{if(s)h(c.map(p=>p.id===s.id?{...p,...b}:p));else{const p={id:crypto.randomUUID(),...b};h([...c,p])}a(!1),i(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Emplacements des tables"}),e.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Configuration table"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map(b=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-brand-primary/20 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(ve,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:b.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.status==="active"?"bg-green-500/20 text-green-300":b.status==="maintenance"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:b.status==="active"?"Actif":b.status==="maintenance"?"Maintenance":"Inactif"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Type"}),e.jsx("div",{className:"text-white",children:b.type}),e.jsx("div",{className:"text-sm text-white/60 mt-4",children:"Nombre de perches"}),e.jsx("div",{className:"text-white",children:b.capacity})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Nombre de corde par perches"}),e.jsx("div",{className:"text-white",children:b.cordCount})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(b),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ze,{size:20,className:"text-white/60"})}),e.jsx("button",{onClick:()=>n(b.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(me,{size:20,className:"text-white/60"})})]})]})},b.id))}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{size:24,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Confirmer la suppression"}),e.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Êtes-vous sûr de vouloir supprimer cet emplacement ? Cette action est irréversible."}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:()=>u(r),className:"px-4 py-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors",children:"Supprimer"})]})]})]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:s?"Modifier la table":"Nouvelle table"}),e.jsxs("form",{onSubmit:b=>{b.preventDefault();const p=new FormData(b.currentTarget),j={name:p.get("name"),type:p.get("type"),capacity:Number(p.get("capacity")),cordCount:Number(p.get("cordCount")),cordLength:Number(p.get("cordLength")),oystersPerCord:Number(p.get("oystersPerCord")),coordinates:{latitude:Number(p.get("latitude")),longitude:Number(p.get("longitude"))}};d(j)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'emplacement"}),e.jsx("input",{type:"text",name:"name",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Table Nord",defaultValue:s==null?void 0:s.name,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.type)||"table",required:!0,children:[e.jsx("option",{value:"table",children:"Table"}),e.jsx("option",{value:"tableTrempe",children:"Table de trempe"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de perches"}),e.jsx("input",{type:"number",name:"capacity",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.capacity)||100,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre de corde par perches"}),e.jsx("input",{type:"number",name:"cordCount",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.cordCount)||10,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Longueur de corde"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",name:"cordLength",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-l-lg text-white",defaultValue:(s==null?void 0:s.cordLength)||3,required:!0}),e.jsx("span",{className:"bg-white/10 px-3 py-2 rounded-r-lg text-white/60",children:"mètres"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nombre d'huitres par cordes"}),e.jsx("input",{type:"number",name:"oystersPerCord",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(s==null?void 0:s.oystersPerCord)||130,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Coordonnées GPS"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Latitude"}),e.jsx("input",{type:"number",name:"latitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(l=s==null?void 0:s.coordinates)==null?void 0:l.latitude,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Longitude"}),e.jsx("input",{type:"number",name:"longitude",step:"0.0001",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",defaultValue:(m=s==null?void 0:s.coordinates)==null?void 0:m.longitude,required:!0})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>{a(!1),i(null)},className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:s?"Mettre à jour":"Créer table"})]})]})]})})]})}const As=[{id:"1",name:"Douzaine",symbol:"dz",type:"quantity",description:"Unité de base pour les huîtres"},{id:"2",name:"Kilogramme",symbol:"kg",type:"weight",description:"Unité de poids standard"},{id:"3",name:"Pochon",symbol:"pch",type:"quantity",baseUnit:"douzaine",conversionFactor:12,description:"Contenant standard pour l'élevage"},{id:"4",name:"Caisse de conditionnement",symbol:"ccon",type:"quantity",baseUnit:"douzaine",conversionFactor:24,description:"Caisse utilisée pour le conditionnement des huîtres"},{id:"5",name:"Caisse de stockage bassin",symbol:"cstk",type:"quantity",baseUnit:"douzaine",conversionFactor:36,description:"Caisse pour le stockage en bassin"}];function Jl(){const[t,a]=x.useState(!1);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Unités & Mesures"}),e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle unité"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:As.map(s=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(ls,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:s.name}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.symbol}),e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:s.type})]}),s.description&&e.jsx("p",{className:"text-sm text-white/60 mt-1",children:s.description}),s.baseUnit&&e.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["1 ",s.symbol," = ",s.conversionFactor," ",s.baseUnit]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ze,{size:20,className:"text-white/60"})}),e.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(me,{size:20,className:"text-white/60"})})]})]})},s.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 backdrop-blur-md p-6 rounded-lg w-full max-w-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Nouvelle unité"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom de l'unité"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: Douzaine"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Symbole"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Ex: dz"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Type"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"weight",children:"Poids"}),e.jsx("option",{value:"volume",children:"Volume"}),e.jsx("option",{value:"quantity",children:"Quantité"}),e.jsx("option",{value:"dimension",children:"Dimension"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Description"}),e.jsx("textarea",{rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Description de l'unité..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Unité de base"}),e.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[e.jsx("option",{value:"",children:"Aucune"}),As.map(s=>e.jsxs("option",{value:s.symbol,children:[s.name," (",s.symbol,")"]},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Facteur de conversion"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Créer l'unité"})]})]})]})})]})}const Gl=[{id:"company",label:"Entreprise",icon:e.jsx(Rt,{size:20}),description:"Informations et paramètres de l'entreprise"},{id:"roles",label:"Rôles & Permissions",icon:e.jsx(oe,{size:20}),description:"Gestion des accès et des droits utilisateurs"},{id:"products",label:"Produits",icon:e.jsx(W,{size:20}),description:"Configuration des produits et du catalogue"},{id:"pricing",label:"Tarification",icon:e.jsx(tt,{size:20}),description:"Configuration des prix et remises"},{id:"locations",label:"Emplacements",icon:e.jsx(ve,{size:20}),description:"Configuration des tables"},{id:"units",label:"Unités & Mesures",icon:e.jsx(ls,{size:20}),description:"Configuration des unités de mesure"}];function Xl(){const[t,a]=x.useState("company"),s=()=>{switch(t){case"company":return e.jsx(Ll,{});case"roles":return e.jsx(El,{});case"products":return e.jsx(Il,{});case"suppliers":return e.jsx(Hl,{});case"pricing":return e.jsx(Vl,{});case"locations":return e.jsx(Ul,{});case"units":return e.jsx(Jl,{});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[#00D1FF]/20 blur-xl rounded-full"}),e.jsx(Qe,{size:24,className:"text-[#00D1FF] relative z-10"})]}),e.jsx("h1",{className:"text-2xl font-bold text-gradient",children:"Configuration"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsx(f.div,{className:"col-span-3 glass-effect rounded-lg overflow-hidden",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsx("nav",{className:"p-4 space-y-2",children:Gl.map(i=>e.jsxs(f.button,{onClick:()=>a(i.id),className:`w-full flex items-start p-4 rounded-lg transition-all duration-300 group relative overflow-hidden
                  ${t===i.id?"bg-[#00D1FF]/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:i.icon}),e.jsxs("div",{className:"ml-3 text-left",children:[e.jsx("span",{className:"block font-medium",children:i.label}),e.jsx("span",{className:`text-sm ${t===i.id?"text-white/80":"text-white/40"}`,children:i.description})]}),t===i.id&&e.jsx(f.div,{className:"absolute inset-0 bg-[#00D1FF]/10",layoutId:"activeSection",transition:{type:"spring",stiffness:300,damping:30}})]},i.id))})}),e.jsx(f.div,{className:"col-span-9 glass-effect rounded-lg",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsx(I,{mode:"wait",children:e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"p-6",children:s()},t)})})]})]})}const Yl=[{id:"1",type:"alert",title:"Alerte stock critique",message:"Le stock d'huîtres plates N°3 est en dessous du seuil minimum",timestamp:"2025-02-19T10:30:00",read:!1,important:!0,category:"inventory",link:"/inventory"},{id:"2",type:"success",title:"Tâche terminée",message:"Marie Martin a terminé l'inspection des tables",timestamp:"2025-02-19T09:15:00",read:!1,important:!1,category:"task",link:"/tasks"},{id:"3",type:"warning",title:"Contrôle qualité requis",message:"Le lot LOT-2025-001 nécessite un contrôle qualité",timestamp:"2025-02-19T08:45:00",read:!0,important:!0,category:"quality",link:"/quality"},{id:"4",type:"info",title:"Nouveau congé",message:"Jean Dupont a déposé une demande de congés",timestamp:"2025-02-19T08:30:00",read:!0,important:!1,category:"hr",link:"/hr"}],Zl={alert:de,success:st,info:Je,warning:ee},Kl={system:Je,task:ae,inventory:W,quality:pe,hr:oe},qs={alert:"bg-red-500/20 text-red-300",success:"bg-green-500/20 text-green-300",info:"bg-blue-500/20 text-blue-300",warning:"bg-yellow-500/20 text-yellow-300"};function Wl({searchQuery:t,filter:a}){const[s,i]=x.useState(null),[r,n]=x.useState(Yl),c=r.filter(d=>{const l=d.title.toLowerCase().includes(t.toLowerCase())||d.message.toLowerCase().includes(t.toLowerCase()),m=a==="all"||a==="unread"&&!d.read||a==="important"&&d.important;return l&&m}),h=d=>{n(r.map(l=>l.id===d?{...l,read:!0}:l))},o=d=>{n(r.map(l=>l.id===d?{...l,important:!l.important}:l))},u=d=>{n(r.filter(l=>l.id!==d))};return e.jsx("div",{className:"space-y-4",children:c.map(d=>{const l=Zl[d.type],m=Kl[d.category];return e.jsx("div",{className:`bg-white/5 border border-white/10 rounded-lg hover:border-white/20 transition-colors ${d.read?"":"bg-white/10"}`,children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${qs[d.type].split(" ")[0]} flex items-center justify-center`,children:e.jsx(l,{size:20,className:qs[d.type].split(" ")[1]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.title}),d.important&&e.jsx("span",{className:"px-2 py-1 bg-brand-burgundy/20 text-brand-burgundy rounded-full text-xs",children:"Important"}),!d.read&&e.jsx("span",{className:"w-2 h-2 bg-brand-burgundy rounded-full"})]}),e.jsx("p",{className:"text-white/70 mt-1",children:d.message}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:16,className:"mr-1"}),T(new Date(d.timestamp),"PPp",{locale:E})]}),e.jsx("div",{children:"•"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{size:16,className:"mr-1"}),d.category]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(s===d.id?null:d.id),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(bt,{size:20,className:"text-white/60"})}),s===d.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-md rounded-lg shadow-lg py-1 z-10",children:[!d.read&&e.jsxs("button",{onClick:()=>h(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Is,{size:16,className:"mr-2"}),"Marquer comme lu"]}),e.jsxs("button",{onClick:()=>o(d.id),className:"w-full px-4 py-2 text-left text-white hover:bg-white/5 flex items-center",children:[e.jsx(Ne,{size:16,className:"mr-2"}),d.important?"Retirer important":"Marquer important"]}),e.jsxs("button",{onClick:()=>u(d.id),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-white/5 flex items-center",children:[e.jsx(me,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]})})},d.id)})})}const Qt=[{name:"Alertes",value:15},{name:"Succès",value:25},{name:"Informations",value:40},{name:"Avertissements",value:20}],en=[{date:"Lun",count:12},{date:"Mar",count:15},{date:"Mer",count:8},{date:"Jeu",count:20},{date:"Ven",count:14}],Ut=["#ef4444","#22c55e","#3b82f6","#eab308"];function tn(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(Je,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Total notifications"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"156"}),e.jsx("div",{className:"text-sm text-white/60",children:"Cette semaine"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:e.jsx(de,{size:20,className:"text-red-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Non lues"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"8"}),e.jsx("div",{className:"text-sm text-red-300",children:"Nécessite attention"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(st,{size:20,className:"text-green-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Traitées"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"142"}),e.jsx("div",{className:"text-sm text-green-300",children:"91% de résolution"})]})]})}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:e.jsx(ee,{size:20,className:"text-yellow-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60 text-sm",children:"Temps moyen"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"2.5h"}),e.jsx("div",{className:"text-sm text-white/60",children:"De résolution"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Notifications par type"}),e.jsx("div",{className:"h-80",children:e.jsx(Yt,{width:"100%",height:"100%",children:e.jsxs(qi,{children:[e.jsx(Fi,{data:Qt,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:Qt.map((t,a)=>e.jsx(Ri,{fill:Ut[a%Ut.length]},`cell-${a}`))}),e.jsx(Zt,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},formatter:t=>`${t}%`})]})})}),e.jsx("div",{className:"mt-6 space-y-4",children:Qt.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ut[a]}}),e.jsx("span",{className:"text-white/70",children:t.name})]}),e.jsxs("span",{className:"text-white",children:[t.value,"%"]})]},t.name))})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white mb-6",children:"Volume par jour"}),e.jsx("div",{className:"h-80",children:e.jsx(Yt,{width:"100%",height:"100%",children:e.jsxs(Li,{data:en,children:[e.jsx(Ys,{strokeDasharray:"3 3",stroke:"#ffffff10"}),e.jsx(Zs,{dataKey:"date",stroke:"#ffffff60"}),e.jsx(Ks,{stroke:"#ffffff60"}),e.jsx(Zt,{contentStyle:{background:"#1A1A1A",border:"none",borderRadius:"0.5rem"},itemStyle:{color:"#fff"}}),e.jsx(_i,{dataKey:"count",name:"Notifications",fill:"#8B0000"})]})})})]})]})]})}function sn({onClose:t}){return e.jsx(ne,{isOpen:!0,onClose:t,title:"Paramètres des notifications",size:"xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Canaux de notification"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Je,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Application"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications dans l'interface"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Email"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications par email"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ia,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Mobile"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications push sur mobile"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xe,{size:20,className:"text-white/60"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"SMS"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications par SMS"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Types de notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Alertes système"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications critiques du système"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Tâches"}),e.jsx("div",{className:"text-sm text-white/60",children:"Mises à jour des tâches assignées"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Stock"}),e.jsx("div",{className:"text-sm text-white/60",children:"Alertes de niveau de stock"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"Qualité"}),e.jsx("div",{className:"text-sm text-white/60",children:"Rapports de contrôle qualité"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white",children:"RH"}),e.jsx("div",{className:"text-sm text-white/60",children:"Notifications RH et congés"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-white/10 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-burgundy"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-white/10",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]})})}function an(){const[t,a]=x.useState(!0),[s,i]=x.useState(!1),[r,n]=x.useState(""),[c,h]=x.useState("all");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Notifications"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(qt,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Qe,{size:20,className:"mr-2"}),"Paramètres"]})]})]}),t&&e.jsx(tn,{}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:r,onChange:o=>n(o.target.value),placeholder:"Rechercher dans les notifications...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg transition-colors ${c==="all"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Toutes"}),e.jsx("button",{onClick:()=>h("unread"),className:`px-4 py-2 rounded-lg transition-colors ${c==="unread"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Non lues"}),e.jsx("button",{onClick:()=>h("important"),className:`px-4 py-2 rounded-lg transition-colors ${c==="important"?"bg-brand-burgundy text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Importantes"})]})]}),e.jsx(Wl,{searchQuery:r,filter:c}),s&&e.jsx(sn,{onClose:()=>i(!1)})]})}const rn=[{id:"1",content:"J'ai commencé l'inspection des tables 1 à 3.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Je vais avoir du retard à cause d'un problème technique sur la table 2.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T10:30:00",type:"delay",delayReason:{hours:2,reason:"Problème technique sur la table 2 nécessitant une intervention maintenance.",status:"approved"}},{id:"3",content:"Retard approuvé. Merci pour la notification rapide.",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:45:00",type:"status_change"}];function ln({task:t}){const[a,s]=x.useState(""),[i,r]=x.useState(!1),[n,c]=x.useState(""),[h,o]=x.useState(""),u=l=>{l.preventDefault(),a.trim()&&s("")},d=l=>{l.preventDefault(),r(!1),c(""),o("")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:rn.map(l=>{var m,b,p,j;return e.jsx("div",{className:`p-4 rounded-lg ${l.type==="delay"?"bg-yellow-500/10 border border-yellow-500/20":l.type==="status_change"?"bg-green-500/10 border border-green-500/20":"bg-white/5"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:l.author.avatar?e.jsx("img",{src:l.author.avatar,alt:l.author.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-sm font-medium",children:l.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:l.author.name}),e.jsx("span",{className:"text-white/60 text-sm ml-2",children:T(new Date(l.timestamp),"PPp",{locale:E})})]}),l.type==="delay"&&e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${((m=l.delayReason)==null?void 0:m.status)==="approved"?"bg-green-500/20 text-green-300":((b=l.delayReason)==null?void 0:b.status)==="rejected"?"bg-red-500/20 text-red-300":"bg-yellow-500/20 text-yellow-300"}`,children:((p=l.delayReason)==null?void 0:p.status)==="approved"?"Retard approuvé":((j=l.delayReason)==null?void 0:j.status)==="rejected"?"Retard refusé":"En attente"})]}),e.jsx("p",{className:"text-white/80 mt-2",children:l.content}),l.type==="delay"&&l.delayReason&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(ee,{size:16,className:"mr-2"}),"Retard estimé: ",l.delayReason.hours," heures"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(Pe,{size:16,className:"mr-2"}),"Raison: ",l.delayReason.reason]})]}),l.attachments&&l.attachments.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:l.attachments.map((g,w)=>e.jsxs("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 bg-white/5 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:[g.type==="image"?e.jsx(St,{size:16,className:"mr-2"}):e.jsx(Wt,{size:16,className:"mr-2"}),g.name]},w))})]})]})},l.id)})}),i&&e.jsxs("form",{onSubmit:d,className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[e.jsx("h4",{className:"text-white font-medium mb-4",children:"Signaler un retard"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Retard estimé (heures)"}),e.jsx("input",{type:"number",value:n,onChange:l=>c(l.target.value),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",min:"0",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Raison du retard"}),e.jsx("textarea",{value:h,onChange:l=>o(l.target.value),rows:3,className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white",placeholder:"Expliquez la raison du retard..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-yellow-500/20 text-yellow-300 rounded-lg hover:bg-yellow-500/30 transition-colors",children:"Signaler le retard"})]})]})]}),e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[!i&&e.jsx("button",{onClick:()=>r(!0),className:"mb-4 px-4 py-2 bg-yellow-500/20 text-yellow-300 rounded-lg hover:bg-yellow-500/30 transition-colors",children:"Signaler un retard"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:a,onChange:l=>s(l.target.value),placeholder:"Écrivez un commentaire...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(Wt,{size:20})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(St,{size:20})}),e.jsx("button",{type:"button",className:"p-1 text-white/40 hover:text-white transition-colors",children:e.jsx(ds,{size:20})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:!a.trim(),className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(lt,{size:16,className:"mr-2"}),"Envoyer"]})})]})]})]})}function nn({task:t,onClose:a}){var h;const[s,i]=x.useState("comments"),{session:r}=K();(h=r==null?void 0:r.user)==null||h.role;const c=(()=>{if(!t.estimatedTime||!t.actualTime)return null;const o=t.estimatedTime/t.actualTime*100,u=Math.round(o);let d;return u>=100?d="Excellent":u>=90?d="Très bien":u>=80?d="Bien":u>=70?d="Moyen":d="À améliorer",{score:u,rating:d,timeDiff:Math.abs(t.actualTime-t.estimatedTime),isAhead:t.actualTime<t.estimatedTime}})();return e.jsx(ne,{isOpen:!0,onClose:a,size:"xl",showCloseButton:!1,children:e.jsxs("div",{className:"h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.title}),e.jsx("p",{className:"text-white/60 mt-1",children:t.description})]}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm",children:[e.jsxs("div",{className:"flex items-center text-white/80",children:[e.jsx(oe,{size:16,className:"mr-2"}),t.assignedTo.name]}),e.jsxs("div",{className:"flex items-center text-white/80",children:[e.jsx(ae,{size:16,className:"mr-2"}),T(new Date(t.dueDate),"PPP",{locale:E})]}),e.jsxs("div",{className:"flex items-center text-white/80",children:[e.jsx(ee,{size:16,className:"mr-2"}),t.estimatedTime," heures estimées"]})]})]}),e.jsx("div",{className:"border-b border-white/10",children:e.jsxs("div",{className:"flex space-x-4 px-6",children:[e.jsx("button",{onClick:()=>i("comments"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="comments"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ae,{size:16,className:"mr-2"}),"Commentaires"]})}),e.jsx("button",{onClick:()=>i("performance"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${s==="performance"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(qt,{size:16,className:"mr-2"}),"Performance"]})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s==="comments"?e.jsx(ln,{task:t}):e.jsx("div",{className:"space-y-6",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white/5 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Score de performance"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Basé sur le temps estimé vs temps réel"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-3xl font-bold ${c.score>=100?"text-green-400":c.score>=80?"text-yellow-400":"text-red-400"}`,children:[c.score,"%"]}),e.jsx("div",{className:"text-white/60 mt-1",children:c.rating})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(cs,{size:20,className:"text-brand-burgundy"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Temps estimé"}),e.jsxs("div",{className:"text-xl font-bold text-white",children:[t.estimatedTime,"h"]})]})]})}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{size:20,className:"text-brand-burgundy"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Temps réel"}),e.jsxs("div",{className:"text-xl font-bold text-white",children:[t.actualTime,"h"]})]})]})}),e.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ra,{size:20,className:c.isAhead?"text-green-400":"text-red-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white/60",children:"Différence"}),e.jsxs("div",{className:`text-xl font-bold ${c.isAhead?"text-green-400":"text-red-400"}`,children:[c.isAhead?"-":"+",c.timeDiff,"h"]})]})]})})]}),c.score>=90&&e.jsxs("div",{className:"bg-white/5 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Badges obtenus"}),e.jsxs("div",{className:"flex space-x-4",children:[c.score>=100&&e.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 text-green-300 px-4 py-2 rounded-lg",children:[e.jsx(Js,{size:20}),e.jsx("span",{children:"Performance exceptionnelle"})]}),c.score>=90&&e.jsxs("div",{className:"flex items-center space-x-2 bg-blue-500/20 text-blue-300 px-4 py-2 rounded-lg",children:[e.jsx(st,{size:20}),e.jsx("span",{children:"Objectif dépassé"})]})]})]})]}):e.jsx("div",{className:"text-center text-white/60 py-8",children:"Les données de performance seront disponibles une fois la tâche terminée"})})})]})})}const dn={sent:"bg-blue-500/20 text-blue-300",received:"bg-yellow-500/20 text-yellow-300",in_progress:"bg-purple-500/20 text-purple-300",completed:"bg-green-500/20 text-green-300",problem:"bg-blue-500/20 text-blue-300"},cn={sent:"ENVOYÉ",received:"REÇUE",in_progress:"EN COURS",completed:"TERMINÉ",problem:"PROBLÈME"},on={sent:lt,received:st,in_progress:ee,completed:st,problem:Pe};function xn({searchQuery:t}){var d;const[a,s]=x.useState(null),[i,r]=x.useState(null),{session:n}=K(),c=((d=n==null?void 0:n.user)==null?void 0:d.role)==="admin",o=[{id:"1",title:"Inspection des tables",description:"Vérification de l'état des tables de production",status:"in_progress",priority:"high",dueDate:"2025-02-20",assignedTo:{name:"Jean Dupont"},location:"Zone Nord - Table A1",progress:65,tags:["inspection","maintenance"],estimatedTime:2.5,actualTime:2},{id:"2",title:"Maintenance des équipements",description:"Entretien régulier des équipements de production",status:"sent",priority:"medium",dueDate:"2025-02-22",assignedTo:{name:"Marie Martin"},location:"Atelier principal",progress:0,tags:["maintenance","équipement"],estimatedTime:4,actualTime:0}].filter(l=>l.title.toLowerCase().includes(t.toLowerCase())||l.description.toLowerCase().includes(t.toLowerCase())||l.assignedTo.name.toLowerCase().includes(t.toLowerCase())),u=l=>{if(!l.estimatedTime||!l.actualTime)return null;const m=l.estimatedTime/l.actualTime*100;return Math.round(m)};return e.jsxs(e.Fragment,{children:[e.jsx(f.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},children:o.map(l=>{const m=on[l.status],b=u(l);return e.jsx(f.div,{className:"glass-effect rounded-lg hover:glass-effect-hover cursor-pointer group",onClick:()=>s(l),onHoverStart:()=>r(l.id),onHoverEnd:()=>r(null),whileHover:{y:-2},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white group-hover:text-brand-burgundy transition-colors",children:l.title}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm flex items-center ${dn[l.status]}`,children:[e.jsx(m,{size:16,className:"mr-1.5"}),cn[l.status]]})]}),e.jsx("p",{className:"mt-2 text-sm text-white/70 group-hover:text-white/90 transition-colors",children:l.description}),l.tags&&l.tags.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[e.jsx(at,{size:16,className:"text-white/40"}),e.jsx("div",{className:"flex space-x-2",children:l.tags.map((p,j)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/60",children:p},j))})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ft,{size:16,className:"mr-2"}),l.assignedTo.name]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{size:16,className:"mr-2"}),T(new Date(l.dueDate),"PPP",{locale:E})]}),l.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{size:16,className:"mr-2"}),l.location]}),c&&l.status==="completed"&&b!==null&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:16,className:"mr-2"}),e.jsxs("span",{className:b>=100?"text-green-400":b>=80?"text-yellow-400":"text-blue-400",children:["Rendement: ",b,"%"]})]})]})]}),e.jsxs(f.div,{className:"flex items-center space-x-2",animate:{opacity:i===l.id?1:0},transition:{duration:.2},children:[e.jsx(f.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(Ne,{size:20})}),e.jsx(f.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-2 text-white/60 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:e.jsx(Ae,{size:20})})]})]}),e.jsx(f.div,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-brand-burgundy",initial:{opacity:0,x:-10},animate:{opacity:i===l.id?1:0,x:i===l.id?0:-10},transition:{duration:.2},children:e.jsx(Ei,{size:24})})]})},l.id)})}),e.jsx(I,{children:a&&e.jsx(nn,{task:a,onClose:()=>s(null)})})]})}function mn({onClose:t}){const{register:a,handleSubmit:s,formState:{errors:i}}=rt(),r=n=>{console.log(n),t()};return e.jsxs("form",{onSubmit:s(r),className:"bg-gray-900 p-6 rounded-lg relative",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:e.jsx(R,{size:20})}),e.jsx("h2",{className:"text-xl font-medium text-white mb-6",children:"Nouvelle Tâche"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Titre de la tâche"}),e.jsx("input",{...a("title",{required:"Le titre est requis"}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",placeholder:"Entrez le titre de la tâche"}),i.title&&e.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.title.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Description"}),e.jsx("textarea",{...a("description"),rows:4,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",placeholder:"Décrivez la tâche en détail"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Priorité"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{...a("priority"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"low",children:"Basse"}),e.jsx("option",{value:"medium",children:"Moyenne"}),e.jsx("option",{value:"high",children:"Haute"})]}),e.jsx(xt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70",size:16})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date d'échéance"}),e.jsx("input",{type:"date",...a("dueDate"),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Assigné à"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{...a("assignedTo"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",children:"Sélectionner un employé"}),e.jsx("option",{value:"user1",children:"Jean Dupont"}),e.jsx("option",{value:"user2",children:"Marie Martin"})]}),e.jsx(xt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70",size:16})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Catégorie"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{...a("category"),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"",children:"Sélectionner une catégorie"}),e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"quality",children:"Contrôle qualité"})]}),e.jsx(xt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70",size:16})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Temps estimé (heures)"}),e.jsx("input",{type:"number",...a("estimatedHours"),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white",min:"0",step:"0.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Tâche récurrente"}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"checkbox",...a("isRecurring"),className:"form-checkbox bg-white/5 border border-white/10 text-brand-blue rounded"}),e.jsx("span",{className:"ml-2 text-sm text-white/60",children:"Activer la récurrence"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white/60 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-blue hover:bg-brand-blue/90 text-white font-medium rounded-lg transition-colors",children:"Créer la tâche"})]})]})}const hn=[{label:"Haute",value:"high"},{label:"Moyenne",value:"medium"},{label:"Basse",value:"low"}],un=[{label:"En attente",value:"pending"},{label:"En cours",value:"in_progress"},{label:"Terminé",value:"completed"}],pn=[{label:"Production",value:"production"},{label:"Maintenance",value:"maintenance"},{label:"Contrôle qualité",value:"quality"}];function bn({isOpen:t,onClose:a,onApplyFilters:s}){const[i,r]=V.useState([]),[n,c]=V.useState([]),[h,o]=V.useState([]),[u,d]=V.useState({start:"",end:""}),l=()=>{s({priorities:i,statuses:n,categories:h,dateRange:u}),a()},m=()=>{r([]),c([]),o([]),d({start:"",end:""})};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"glass-effect p-6 rounded-lg w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Filtres avancés"}),e.jsx("button",{onClick:a,className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Priorité"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:hn.map(b=>e.jsx("button",{onClick:()=>{r(p=>p.includes(b.value)?p.filter(j=>j!==b.value):[...p,b.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${i.includes(b.value)?"bg-brand-burgundy text-white":"bg-white/5 text-white hover:bg-white/10"}`,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Statut"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:un.map(b=>e.jsx("button",{onClick:()=>{c(p=>p.includes(b.value)?p.filter(j=>j!==b.value):[...p,b.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${n.includes(b.value)?"bg-brand-burgundy text-white":"bg-white/5 text-white hover:bg-white/10"}`,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Catégorie"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:pn.map(b=>e.jsx("button",{onClick:()=>{o(p=>p.includes(b.value)?p.filter(j=>j!==b.value):[...p,b.value])},className:`px-3 py-1.5 rounded-full text-sm transition-colors ${h.includes(b.value)?"bg-brand-burgundy text-white":"bg-white/5 text-white hover:bg-white/10"}`,children:b.label},b.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Période"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Du"}),e.jsx("input",{type:"date",value:u.start,onChange:b=>d({...u,start:b.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Au"}),e.jsx("input",{type:"date",value:u.end,onChange:b=>d({...u,end:b.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsx("button",{onClick:m,className:"text-white/60 hover:text-white transition-colors text-sm",children:"Réinitialiser les filtres"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Appliquer les filtres"})]})]})]})]})}):null}function jn(){const[t,a]=x.useState(!1),[s,i]=x.useState(!1),[r,n]=x.useState("");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestion des Tâches"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-brand-primary/20 rounded-lg text-brand-primary hover:bg-brand-primary/30 transition-colors",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle Tâche"]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:r,onChange:c=>n(c.target.value),placeholder:"Rechercher une tâche...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtres"]})]}),e.jsx(xn,{searchQuery:r}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]",children:e.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsx(mn,{onClose:()=>a(!1)})})}),e.jsx(bn,{isOpen:s,onClose:()=>i(!1),onApplyFilters:()=>{}})]})}function gn({batch:t,isOpen:a,onClose:s}){const{updateBatch:i}=K(),[r,n]=V.useState({quantity:t.quantity,perchNumber:t.perchNumber,status:t.status}),c=h=>{h.preventDefault(),i({...t,...r}),s()};return a?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-md relative",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-white/60 hover:text-white",children:e.jsx(R,{size:20})}),e.jsxs("h2",{className:"text-xl font-medium text-white mb-6",children:["Modifier le lot ",t.batchNumber]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Quantité"}),e.jsx("input",{type:"number",value:r.quantity,onChange:h=>n(o=>({...o,quantity:parseInt(h.target.value)})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Numéro de perche"}),e.jsx("input",{type:"number",value:r.perchNumber,onChange:h=>n(o=>({...o,perchNumber:parseInt(h.target.value)})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Table"}),e.jsxs("select",{value:r.status,onChange:h=>n(o=>({...o,status:h.target.value})),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"table1",children:"Table 1"}),e.jsx("option",{value:"table2",children:"Table 2"}),e.jsx("option",{value:"table3",children:"Table 3"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-brand-blue hover:bg-brand-blue/90 text-white font-medium py-2 px-4 rounded-lg",children:"Enregistrer les modifications"})]})]})}):null}function fn({searchQuery:t}){const{batches:a}=K(),[s,i]=x.useState(null),r=a.filter(c=>c.status==="table1"||c.status==="table2"||c.status==="table3").slice(0,4),n=c=>$i(new Date,new Date(c));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(c=>{const h=n(c.startDate),o=h>24;return e.jsxs("div",{className:`bg-white/5 border ${o?"border-blue-400/70":"border-white/10"} rounded-lg p-4 relative group ${o?"shadow-[0_0_10px_rgba(59,130,246,0.3)]":""}`,children:[e.jsx("button",{onClick:()=>i(c),className:"absolute top-3 right-3 p-2 bg-white/5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white/10",children:e.jsx(ze,{size:16,className:"text-white/60"})}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(at,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-white",children:c.batchNumber}),e.jsxs("p",{className:"text-xs text-white/60",children:[c.type," - ",c.quantity," unités"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-white/60",children:"Carré de trempe"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${c.status==="table1"?"bg-green-500":c.status==="table2"?"bg-yellow-500":"bg-blue-500"}`}),e.jsx("p",{className:"text-sm font-medium text-white",children:c.status==="table1"?"Carré 1":c.status==="table2"?"Carré 2":"Carré 3"})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Temps en trempe"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{size:16,className:o?"text-red-400":"text-white"}),e.jsxs("span",{className:`text-sm font-medium ${o?"text-red-400":"text-white"}`,children:[h,"h"]})]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-white/60 mb-1",children:"Quantité"}),e.jsxs("div",{className:"text-sm font-medium text-white",children:[c.quantity," ",c.type]})]})]},c.id)}),r.length===0&&e.jsx("div",{className:"col-span-full text-center py-8 text-white/60",children:"Aucun lot en trempe"})]}),s&&e.jsx(gn,{batch:s,isOpen:!0,onClose:()=>i(null)})]})}const wn=[{id:"1",batchNumber:"LOT-2025-001",type:"movement",description:"Déplacement du lot",date:"2025-02-19T10:00:00",user:"Jean Dupont",details:{from:"Zone Nord - Table A1",to:"Zone Nord - Table A2"}},{id:"2",batchNumber:"LOT-2025-001",type:"treatment",description:"Traitement préventif",date:"2025-02-18T14:30:00",user:"Marie Martin",details:{treatment:"Nettoyage des poches"}}],vn={movement:be,treatment:pe,quality_check:at,alert:de},Jt={movement:"bg-blue-400/20 text-blue-300",treatment:"bg-blue-500/20 text-blue-300",quality_check:"bg-blue-600/20 text-blue-300",alert:"bg-blue-700/20 text-blue-300"};function Nn({searchQuery:t}){const a=wn.filter(s=>s.batchNumber.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase()));return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white/5 border border-blue-400/50 rounded-lg shadow-[0_0_5px_rgba(59,130,246,0.2)]",children:[e.jsx("div",{className:"p-6 border-b border-blue-400/30",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des événements"})}),e.jsx("div",{className:"divide-y divide-white/10",children:a.map(s=>{const i=vn[s.type];return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${Jt[s.type].split(" ")[0]} flex items-center justify-center flex-shrink-0`,children:e.jsx(i,{size:20,className:Jt[s.type].split(" ")[1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"text-lg font-medium text-white truncate",children:s.batchNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Jt[s.type]}`,children:s.type==="movement"?"Déplacement":s.type==="treatment"?"Traitement":s.type==="quality_check"?"Contrôle qualité":"Alerte"})]}),e.jsx("p",{className:"text-white/70 mt-1",children:s.description}),s.details&&e.jsxs("div",{className:"mt-2 space-y-1",children:[s.details.from&&s.details.to&&e.jsxs("div",{className:"text-sm text-white/60",children:["De: ",s.details.from," → Vers: ",s.details.to]}),s.details.treatment&&e.jsxs("div",{className:"text-sm text-white/60",children:["Traitement: ",s.details.treatment]}),s.details.score&&e.jsxs("div",{className:"text-sm text-white/60",children:["Score qualité: ",s.details.score,"%"]}),s.details.issue&&e.jsxs("div",{className:"text-sm text-red-400",children:["Problème: ",s.details.issue]})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{size:16,className:"mr-1"}),T(new Date(s.date),"PPp",{locale:E})]}),e.jsx("div",{children:"•"}),e.jsxs("div",{children:["Par: ",s.user]})]})]})]})},s.id)})})]})})}function Sa({children:t,onClick:a,className:s="",style:i}){const[r,n]=V.useState(!1);return e.jsxs(f.div,{className:`relative overflow-hidden bg-white/5 border border-white/10 ${s}`,style:i,onClick:a,onHoverStart:()=>n(!0),onHoverEnd:()=>n(!1),whileHover:{y:-4},children:[t,e.jsx(f.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-blue-500/5 pointer-events-none",initial:{opacity:0},animate:{opacity:r?1:0},transition:{duration:.2}}),e.jsx(f.div,{className:"absolute inset-0 pointer-events-none rounded-lg border border-blue-500/30",initial:{opacity:0},animate:{opacity:r?1:0,boxShadow:r?"0 0 15px 1px rgba(59, 130, 246, 0.3)":"none"},transition:{duration:.2}})]})}const Fs=[{id:"1",name:"Bassin A1",filterType:"Bio-filtre",filterStatus:"active",currentOccupancy:800,capacity:1e3,waterQuality:98,temperature:12.5,lastMaintenance:"2025-02-25",nextMaintenance:"2025-03-03",batches:[{id:"1",number:"LOT-2025-001",quantity:500,remainingTime:18}]},{id:"2",name:"Bassin A2",filterType:"Bio-filtre",filterStatus:"maintenance",currentOccupancy:600,capacity:1e3,waterQuality:92,temperature:12.3,lastMaintenance:"2025-02-24",nextMaintenance:"2025-03-02",batches:[{id:"2",number:"LOT-2025-002",quantity:300,remainingTime:6}]},{id:"3",name:"Bassin B1",filterType:"UV-filtre",filterStatus:"active",currentOccupancy:900,capacity:1e3,waterQuality:95,temperature:12.4,lastMaintenance:"2025-02-23",nextMaintenance:"2025-03-01",batches:[{id:"3",number:"LOT-2025-003",quantity:600,remainingTime:12}]},{id:"4",name:"Bassin B2",filterType:"UV-filtre",filterStatus:"error",currentOccupancy:0,capacity:1e3,waterQuality:85,temperature:12.6,lastMaintenance:"2025-02-22",nextMaintenance:"2025-02-28",batches:[]}];function yn(){const[t,a]=x.useState(null),[s,i]=x.useState(!1),[r,n]=x.useState(null),c=l=>{switch(l){case"active":return"bg-emerald-500/20 text-emerald-300";case"maintenance":return"bg-yellow-500/20 text-yellow-300";case"error":return"bg-red-500/20 text-red-300";default:return"bg-white/20 text-white"}},h=()=>{n(t),i(!0)},o=()=>{r&&(Fs.map(l=>l.id===r.id?r:l),a(r),i(!1),n(null))},u=()=>{i(!1),n(null)},d=(l,m)=>{r&&n({...r,[l]:m})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-medium text-white",children:"État des bassins de purification"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Fs.map(l=>e.jsxs(Sa,{onClick:()=>a(l),className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:l.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${c(l.filterStatus)}`,children:l.filterStatus==="active"?"Actif":l.filterStatus==="maintenance"?"Maintenance":"Erreur"}),e.jsxs("span",{className:"text-xs text-white/60",children:[e.jsx(ie,{size:12,className:"inline mr-1"}),l.filterType]})]})]})]}),l.batches.length>0&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Lot en cours"}),e.jsx("div",{className:"text-white font-medium",children:l.batches[0].number}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/60 mt-1",children:[e.jsx(cs,{size:12}),e.jsxs("span",{children:["Reste ",l.batches[0].remainingTime,"h"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-1",children:[e.jsx(Ve,{size:14}),e.jsx("span",{children:"Température"})]}),e.jsxs("div",{className:"text-white font-medium",children:[l.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-1",children:[e.jsx(bs,{size:14}),e.jsx("span",{children:"Qualité eau"})]}),e.jsxs("div",{className:`text-white font-medium ${l.waterQuality>=95?"text-emerald-400":l.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[l.waterQuality,"%"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-1",children:[e.jsx(G,{size:14}),e.jsx("span",{children:"Occupation"})]}),e.jsxs("div",{className:"text-white font-medium",children:[Math.round(l.currentOccupancy/l.capacity*100),"%"]}),e.jsxs("div",{className:"text-xs text-white/60",children:[l.currentOccupancy,"/",l.capacity]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Maintenance"}),e.jsx("div",{className:"text-white font-medium",children:new Date(l.nextMaintenance).toLocaleDateString("fr-FR")})]})]})]},l.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{className:"text-brand-blue",size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs ${c(t.filterStatus)}`,children:t.filterStatus==="active"?"Actif":t.filterStatus==="maintenance"?"Maintenance":"Erreur"}),e.jsxs("span",{className:"text-xs text-white/60",children:[e.jsx(ie,{size:12,className:"inline mr-1"}),t.filterType]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ze,{size:20,className:"mr-2"}),"Modifier"]}),e.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-2",children:[e.jsx(Ve,{size:16}),e.jsx("span",{children:"Température"})]}),e.jsxs("div",{className:"text-2xl font-medium text-white",children:[t.temperature,"°C"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60 mb-2",children:[e.jsx(bs,{size:16}),e.jsx("span",{children:"Qualité eau"})]}),e.jsxs("div",{className:`text-2xl font-medium ${t.waterQuality>=95?"text-emerald-400":t.waterQuality>=90?"text-yellow-400":"text-red-400"}`,children:[t.waterQuality,"%"]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Lots en cours"}),e.jsx("div",{className:"space-y-3",children:t.batches.length===0?e.jsx("div",{className:"text-center py-4 text-white/60",children:"Aucun lot en cours dans ce bassin"}):t.batches.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:l.number}),e.jsxs("div",{className:"text-sm text-white/60",children:[l.quantity," kg"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white",children:[l.remainingTime,"h"]}),e.jsx("div",{className:"text-sm text-white/60",children:"restantes"})]})]},l.id))})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Maintenance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Dernière maintenance"}),e.jsx("div",{className:"text-white font-medium",children:new Date(t.lastMaintenance).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60 mb-1",children:"Prochaine maintenance"}),e.jsx("div",{className:"text-white font-medium",children:new Date(t.nextMaintenance).toLocaleDateString("fr-FR")})]})]})]})]})]})}),s&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Modifier ",r.name]}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du bassin"}),e.jsx(B,{type:"text",value:r.name,onChange:l=>d("name",l.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Type de filtre"}),e.jsx(B,{type:"text",value:r.filterType,onChange:l=>d("filterType",l.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Statut du filtre"}),e.jsxs("select",{value:r.filterStatus,onChange:l=>d("filterStatus",l.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"active",children:"Actif"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"error",children:"Erreur"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Capacité"}),e.jsx(B,{type:"number",value:r.capacity,onChange:l=>d("capacity",parseInt(l.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Température (°C)"}),e.jsx(B,{type:"number",step:"0.1",value:r.temperature,onChange:l=>d("temperature",parseFloat(l.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Prochaine maintenance"}),e.jsx(B,{type:"date",value:r.nextMaintenance,onChange:l=>d("nextMaintenance",l.target.value),className:"w-full"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 text-white hover:bg-white/5 rounded-lg transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-brand-blue hover:bg-brand-blue/90 rounded-lg text-white transition-colors",children:[e.jsx(Pt,{size:20,className:"mr-2"}),"Enregistrer"]})]})]})]})})]})}const Rs=[{id:"1",type:"Palourdes",supplier:"Mareyeur Express",quantity:500,unit:"kg",purchaseDate:"2025-02-18",expiryDate:"2025-02-25",storageLocation:"Bassin A3",status:"fresh",batchNumber:"PAL-2025-001",price:12.5,quality:95},{id:"2",type:"Moules",supplier:"Fruits de Mer Pro",quantity:300,unit:"kg",purchaseDate:"2025-02-17",expiryDate:"2025-02-22",storageLocation:"Bassin B1",status:"warning",batchNumber:"MOU-2025-002",price:8.75,quality:88}],Cn={fresh:"bg-blue-400/20 text-blue-300",warning:"bg-blue-500/30 text-blue-400",expired:"bg-blue-600/20 text-blue-400"};function kn(){const[t,a]=x.useState(null),[s,i]=x.useState(!1),[r,n]=x.useState(null),c=()=>{n(t),i(!0)},h=()=>{r&&(Rs.map(d=>d.id===r.id?r:d),a(r),i(!1),n(null))},o=()=>{i(!1),n(null)},u=(d,l)=>{r&&n({...r,[d]:l})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Rs.map(d=>e.jsxs("div",{onClick:()=>a(d),className:"bg-white/5 border border-blue-400/50 rounded-lg p-6 hover:border-blue-400/70 transition-colors cursor-pointer shadow-[0_0_5px_rgba(59,130,246,0.2)]",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(W,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:d.type}),e.jsx("div",{className:"text-sm text-white/60",children:d.supplier})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${Cn[d.status]}`,children:d.status==="fresh"?"Frais":d.status==="warning"?"À surveiller":"Périmé"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"Quantité"}),e.jsxs("div",{className:"text-lg font-medium text-white",children:[d.quantity," ",d.unit]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-white/60",children:"DLC"}),e.jsx("div",{className:"text-lg font-medium text-white",children:new Date(d.expiryDate).toLocaleDateString()})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(at,{size:16,className:"mr-2"}),"Lot: ",d.batchNumber]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(W,{size:16,className:"mr-2"}),"Stockage: ",d.storageLocation]})]})]},d.id))}),t&&!s&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"relative w-full max-w-3xl bg-[rgb(var(--color-card))/95] border border-blue-400/50 shadow-[0_0_15px_rgba(59,130,246,0.3)] backdrop-blur-lg rounded-xl overflow-hidden p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Détails de l'achat"}),e.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Produit"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Fournisseur"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Quantité"}),e.jsxs("p",{className:"text-sm text-white mt-1",children:[t.quantity," ",t.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Date d'achat"}),e.jsx("p",{className:"text-sm text-white mt-1",children:new Date(t.purchaseDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Date d'expiration"}),e.jsx("p",{className:"text-sm text-white mt-1",children:new Date(t.expiryDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Emplacement de stockage"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.storageLocation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Numéro de lot"}),e.jsx("p",{className:"text-sm text-white mt-1",children:t.batchNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Prix unitaire"}),e.jsxs("p",{className:"text-sm text-white mt-1",children:[t.price,"€/",t.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Qualité"}),e.jsxs("p",{className:"text-sm text-white mt-1",children:[t.quality,"%"]})]})]}),e.jsx("div",{className:"flex justify-end gap-3 mt-6",children:e.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 bg-brand-burgundy hover:bg-brand-burgundy/90 rounded-lg text-white transition-colors",children:[e.jsx(ze,{size:20,className:"mr-2"}),"Modifier"]})})]})}),s&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"relative w-full max-w-3xl bg-[rgb(var(--color-card))/95] border border-blue-400/50 shadow-[0_0_15px_rgba(59,130,246,0.3)] backdrop-blur-lg rounded-xl overflow-hidden p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Modifier l'achat"}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Type"}),e.jsx(B,{type:"text",value:r.type,onChange:d=>u("type",d.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Fournisseur"}),e.jsx(B,{type:"text",value:r.supplier,onChange:d=>u("supplier",d.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Quantité"}),e.jsx(B,{type:"number",value:r.quantity,onChange:d=>u("quantity",parseInt(d.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Unité"}),e.jsx(B,{type:"text",value:r.unit,onChange:d=>u("unit",d.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Date d'achat"}),e.jsx(B,{type:"date",value:r.purchaseDate,onChange:d=>u("purchaseDate",d.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Date d'expiration"}),e.jsx(B,{type:"date",value:r.expiryDate,onChange:d=>u("expiryDate",d.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Emplacement de stockage"}),e.jsx(B,{type:"text",value:r.storageLocation,onChange:d=>u("storageLocation",d.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Numéro de lot"}),e.jsx(B,{type:"text",value:r.batchNumber,onChange:d=>u("batchNumber",d.target.value),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Prix unitaire (€)"}),e.jsx(B,{type:"number",step:"0.01",value:r.price,onChange:d=>u("price",parseFloat(d.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Qualité (%)"}),e.jsx(B,{type:"number",min:"0",max:"100",value:r.quality,onChange:d=>u("quality",parseInt(d.target.value)),className:"w-full"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Statut"}),e.jsxs("select",{value:r.status,onChange:d=>u("status",d.target.value),className:"w-full bg-gray-800 border border-white/10 rounded-lg px-4 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",children:[e.jsx("option",{value:"fresh",children:"Frais"}),e.jsx("option",{value:"warning",children:"À surveiller"}),e.jsx("option",{value:"expired",children:"Périmé"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 text-white hover:bg-white/5 rounded-lg transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-brand-burgundy hover:bg-brand-burgundy/90 rounded-lg text-white transition-colors",children:[e.jsx(Pt,{size:20,className:"mr-2"}),"Enregistrer"]})]})]})]})})]})}function Sn(){var i,r,n;const[t,a]=x.useState(null),s={"Frigo 1":[{id:"F1-01",name:"Huîtres Fines de Claire",quantity:"50kg",arrivalDate:"2025-02-25",expiryDate:"2025-03-10"},{id:"F1-02",name:"Moules de Bouchot",quantity:"25kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-08"},{id:"F1-03",name:"Palourdes",quantity:"15kg",arrivalDate:"2025-02-28",expiryDate:"2025-03-07"}],"Frigo 2":[{id:"F2-01",name:"Huîtres Spéciales",quantity:"30kg",arrivalDate:"2025-02-27",expiryDate:"2025-03-12"},{id:"F2-02",name:"Crevettes Royales",quantity:"10kg",arrivalDate:"2025-03-01",expiryDate:"2025-03-05"}],"Congélateur 1":[{id:"C1-01",name:"Saumon Frais",quantity:"40kg",arrivalDate:"2025-01-15",expiryDate:"2025-04-15"},{id:"C1-02",name:"Huîtres Surgelées",quantity:"60kg",arrivalDate:"2025-02-10",expiryDate:"2025-08-10"},{id:"C1-03",name:"Coquilles St-Jacques",quantity:"35kg",arrivalDate:"2025-02-20",expiryDate:"2025-05-20"}],"Congélateur 2":[{id:"C2-01",name:"Filets de Poisson",quantity:"25kg",arrivalDate:"2025-02-15",expiryDate:"2025-06-15"},{id:"C2-02",name:"Fruits de Mer",quantity:"20kg",arrivalDate:"2025-02-25",expiryDate:"2025-05-25"}],Remise:[{id:"R-01",name:"Matériel d'emballage",quantity:"200 unités",arrivalDate:"2025-01-10",expiryDate:"N/A"},{id:"R-02",name:"Sachets biodégradables",quantity:"500 unités",arrivalDate:"2025-02-01",expiryDate:"N/A"}],Cave:[{id:"CA-01",name:"Vin blanc",quantity:"50 bouteilles",arrivalDate:"2024-10-15",expiryDate:"2026-10-15"},{id:"CA-02",name:"Huîtres affinées",quantity:"100kg",arrivalDate:"2025-02-20",expiryDate:"2025-04-20"}]};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"glass-effect rounded-xl p-6 border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Frigo 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(le,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 1"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"500 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"65%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"65%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Frigo 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/20 flex items-center justify-center mr-3",children:e.jsx(le,{size:18,className:"text-blue-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Frigo 2"})]}),e.jsx("div",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-1 rounded-full",children:"Frigo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"300 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"30%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:"30%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Congélateur 1"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Te,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 1"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"200 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"85%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"85%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Congélateur 2"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-cyan-500/20 flex items-center justify-center mr-3",children:e.jsx(Te,{size:18,className:"text-cyan-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Congélateur 2"})]}),e.jsx("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs px-2 py-1 rounded-full",children:"Congélateur"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"150 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"40%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-cyan-400 h-full rounded-full",style:{width:"40%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Remise"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-amber-500/20 flex items-center justify-center mr-3",children:e.jsx(W,{size:18,className:"text-amber-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Remise"})]}),e.jsx("div",{className:"bg-amber-500/20 text-amber-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"1000 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"55%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:"55%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer group",onClick:()=>a("Cave"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/20 flex items-center justify-center mr-3",children:e.jsx(ve,{size:18,className:"text-purple-400"})}),e.jsx("h3",{className:"text-white font-medium",children:"Cave"})]}),e.jsx("div",{className:"bg-purple-500/20 text-purple-400 text-xs px-2 py-1 rounded-full",children:"Remise"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Capacité"}),e.jsx("span",{className:"text-white",children:"800 kg"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Occupation"}),e.jsx("span",{className:"text-white",children:"25%"})]}),e.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden mt-2",children:e.jsx("div",{className:"bg-purple-400 h-full rounded-full",style:{width:"25%"}})}),e.jsx("div",{className:"hidden group-hover:block mt-3",children:e.jsx("p",{className:"text-xs text-white/70 italic",children:"Cliquez pour voir les produits stockés"})})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-brand-dark/95 to-brand-purple/95 p-6 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-md flex items-center justify-center mr-3 ${t.includes("Frigo")?"bg-blue-500/20":t.includes("Congélateur")?"bg-cyan-500/20":t==="Remise"?"bg-amber-500/20":"bg-purple-500/20"}`,children:t.includes("Frigo")?e.jsx(le,{size:20,className:"text-blue-400"}):t.includes("Congélateur")?e.jsx(Te,{size:20,className:"text-cyan-400"}):t==="Remise"?e.jsx(W,{size:20,className:"text-amber-400"}):e.jsx(ve,{size:20,className:"text-purple-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:t})]}),e.jsx("button",{onClick:()=>a(null),className:"text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})]}),e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsx("div",{children:e.jsxs("p",{className:"text-white/70",children:[(i=s[t])==null?void 0:i.length," produits stockés"]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 bg-white/5 rounded-lg text-white/70 text-sm font-medium",children:[e.jsx("div",{children:"Produit"}),e.jsx("div",{children:"Quantité"}),e.jsx("div",{children:"Date d'arrivée"}),e.jsx("div",{children:"DLC"})]}),((r=s[t])==null?void 0:r.length)>0?(n=s[t])==null?void 0:n.map(c=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 bg-white/5 hover:bg-white/10 rounded-lg text-white text-sm transition-colors",children:[e.jsx("div",{className:"font-medium",children:c.name}),e.jsx("div",{children:c.quantity}),e.jsx("div",{children:c.arrivalDate}),e.jsx("div",{children:c.expiryDate==="N/A"?e.jsx("span",{className:"text-white/50",children:"N/A"}):e.jsx("span",{className:`${new Date(c.expiryDate)<new Date?"text-red-400":new Date(c.expiryDate)<new Date(Date.now()+7*24*60*60*1e3)?"text-amber-400":"text-green-400"}`,children:c.expiryDate})})]},c.id)):e.jsx("div",{className:"text-center py-6 text-white/60",children:"Aucun produit stocké dans cet emplacement"})]})]})})]})}function zn({onClose:t}){const[a,s]=x.useState({start:"",end:""}),[i,r]=x.useState(null),n=()=>{const c={producer:"OYSTER CULT",dateRange:a,timestamp:new Date().toISOString()},h=`https://api.oystercult.com/trace/${btoa(JSON.stringify(c))}`;r(h)};return e.jsx(ne,{isOpen:!0,onClose:t,title:"Générer un QR Code",size:"md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Période de traçabilité"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:a.start,onChange:c=>s({...a,start:c.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:a.end,onChange:c=>s({...a,end:c.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),i?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg",children:e.jsx("div",{className:"w-full aspect-square bg-white flex items-center justify-center",children:"QR Code"})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:()=>{},className:"flex-1 flex items-center justify-center px-4 py-2 bg-white/10 rounded-lg text-white",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Télécharger"]}),e.jsxs("button",{onClick:()=>{},className:"flex-1 flex items-center justify-center px-4 py-2 bg-white/10 rounded-lg text-white",children:[e.jsx(ea,{size:20,className:"mr-2"}),"Partager"]})]})]}):e.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white",children:"Générer le QR Code"})]})})}const Dn=[{id:"1",type:"invoice",number:"FC-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",amount:"1,250.00 €",products:"Palourdes (150kg)",status:"validated"},{id:"2",type:"delivery_note",number:"BL-2025-001",date:"2025-02-15",supplier:"Mareyeur Express",products:"Palourdes (150kg)",status:"validated",expiryDate:"2025-03-15"},{id:"3",type:"invoice",number:"FC-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",amount:"2,340.00 €",products:"Moules (200kg), Huîtres (50kg)",status:"validated"},{id:"4",type:"delivery_note",number:"BL-2025-002",date:"2025-02-10",supplier:"Fruits de Mer Pro",products:"Moules (200kg), Huîtres (50kg)",status:"validated",expiryDate:"2025-03-10"},{id:"5",type:"invoice",number:"FC-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",amount:"890.00 €",products:"Huîtres creuses (100kg)",status:"validated"},{id:"6",type:"delivery_note",number:"BL-2025-003",date:"2025-02-05",supplier:"Mareyeur Express",products:"Huîtres creuses (100kg)",status:"validated",expiryDate:"2025-03-05"},{id:"7",type:"invoice",number:"FC-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",amount:"1,780.00 €",products:"Palourdes (100kg), Moules (80kg)",status:"validated"},{id:"8",type:"delivery_note",number:"BL-2025-004",date:"2025-01-28",supplier:"Fruits de Mer Pro",products:"Palourdes (100kg), Moules (80kg)",status:"validated",expiryDate:"2025-02-28"}];function Mn(){const[t,a]=x.useState(""),[s,i]=x.useState("all"),[r,n]=x.useState({start:"",end:""}),[c,h]=x.useState(null),[o,u]=x.useState(!1),d=w=>{h(w),u(!0)},l=()=>{u(!1),h(null)},m=Dn.filter(w=>{const k=w.number.toLowerCase().includes(t.toLowerCase())||w.supplier.toLowerCase().includes(t.toLowerCase())||w.products.toLowerCase().includes(t.toLowerCase()),q=s==="all"||w.type===s,v=(!r.start||w.date>=r.start)&&(!r.end||w.date<=r.end);return k&&q&&v}),b=w=>{switch(w){case"validated":return"bg-green-500/20 text-green-500";case"pending":return"bg-yellow-500/20 text-yellow-500";case"rejected":return"bg-red-500/20 text-red-500";default:return"bg-gray-500/20 text-gray-500"}},p=w=>{switch(w){case"validated":return"Validé";case"pending":return"En attente";case"rejected":return"Rejeté";default:return w}},j=w=>{switch(w){case"invoice":return"Facture";case"delivery_note":return"Bon de livraison";default:return w}},g=w=>new Date(w).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Z,{className:"h-5 w-5 text-white/40"})}),e.jsx("input",{type:"text",placeholder:"Rechercher par numéro, fournisseur ou produits...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",value:t,onChange:w=>a(w.target.value)})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-48",children:e.jsxs("select",{className:"w-full bg-gray-800 border border-white/10 rounded-lg px-3 py-2 text-white [&>option]:bg-gray-800 [&>option]:text-white",value:s,onChange:w=>i(w.target.value),children:[e.jsx("option",{value:"all",children:"Tous les documents"}),e.jsx("option",{value:"invoice",children:"Factures"}),e.jsx("option",{value:"delivery_note",children:"Bons de livraison"})]})}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Exporter"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:w=>n(k=>({...k,start:w.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:w=>n(k=>({...k,end:w.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtrer"]})]}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/10",children:[e.jsx("thead",{className:"bg-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Type"}),e.jsx(Ke,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Numéro"}),e.jsx(Ke,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Date"}),e.jsx(Ke,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Fournisseur"}),e.jsx(Ke,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Produits"}),e.jsx(Ke,{size:14})]})}),s!=="delivery_note"&&e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-white",children:[e.jsx("span",{children:"Montant"}),e.jsx(Ke,{size:14})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-white/60 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/10",children:[m.map(w=>e.jsxs("tr",{className:"hover:bg-white/5",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{size:16,className:"mr-2 text-brand-primary"}),e.jsx("span",{className:"text-white",children:j(w.type)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:w.number}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:g(w.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:w.supplier}),e.jsx("td",{className:"px-6 py-4 text-white",children:w.products}),s!=="delivery_note"&&w.type==="invoice"&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:w.amount}),s!=="delivery_note"&&w.type==="delivery_note"&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-white",children:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b(w.status)}`,children:p(w.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80",onClick:()=>d(w),title:"Voir le document",children:e.jsx(_e,{size:16})})})]},w.id)),m.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-white/60",children:"Aucun document trouvé correspondant aux critères de recherche."})})]})]})})}),o&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 border border-white/10 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:[c.type==="invoice"?"Facture":"Bon de livraison"," - ",c.number]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-white/10 rounded-full",children:e.jsx(R,{size:24,className:"text-white"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Fournisseur"}),e.jsx("p",{className:"text-white font-medium",children:c.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Date"}),e.jsx("p",{className:"text-white font-medium",children:g(c.date)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Produits"}),e.jsx("p",{className:"text-white font-medium",children:c.products})]}),c.type==="invoice"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Montant"}),e.jsx("p",{className:"text-white font-medium",children:c.amount})]}),c.type==="delivery_note"&&c.expiryDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Date Limite de Consommation"}),e.jsx("p",{className:"text-white font-medium",children:g(c.expiryDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 mb-1",children:"Statut"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b(c.status)}`,children:p(c.status)})]})]}),e.jsxs("div",{className:"border border-white/10 rounded-lg p-6 mb-6 bg-white/5",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(pe,{size:64,className:"text-brand-primary mb-4"})}),e.jsx("p",{className:"text-center text-white/60 mb-4",children:"Aperçu du document"}),e.jsxs("p",{className:"text-center text-white mb-4",children:[c.type==="invoice"?"Facture":"Bon de livraison"," ",c.number," du fournisseur ",c.supplier]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{className:"px-4 py-2 bg-brand-blue/20 border border-brand-blue/30 rounded-lg text-white hover:bg-brand-blue/30 transition-colors",children:[e.jsx(fe,{size:16,className:"inline-block mr-2"}),"Télécharger le document"]})})]})]})})]})}function Tn(){const[t,a]=x.useState("batches"),[s,i]=x.useState(!1);x.useState(!1);const[r,n]=x.useState({start:T(new Date,"yyyy-MM-dd"),end:T(new Date,"yyyy-MM-dd")}),c=x.useRef(null),{addBatch:h}=K();x.useEffect(()=>{h({batchNumber:"LOT-001",type:"Plates",quantity:100,status:"table1",perchNumber:1,startDate:new Date(Date.now()-1e3*60*60*2).toISOString()}),h({batchNumber:"LOT-002",type:"Creuses",quantity:150,status:"table1",perchNumber:2,startDate:new Date(Date.now()-1e3*60*60*25).toISOString()}),h({batchNumber:"LOT-003",type:"Plates",quantity:200,status:"table2",perchNumber:1,startDate:new Date(Date.now()-1e3*60*60*12).toISOString()})},[]);const o=()=>{const d=new Ii,l="OYSTER CULT",m=T(new Date,"PPP",{locale:E});d.setFontSize(20),d.text(l,105,20,{align:"center"}),d.setFontSize(12),d.text(`Rapport de traçabilité - ${m}`,105,30,{align:"center"}),d.setFontSize(14),d.text("Période du rapport:",14,45),d.text(`${T(new Date(r.start),"PPP",{locale:E})} au ${T(new Date(r.end),"PPP",{locale:E})}`,14,55),d.setFontSize(16),d.text("Lots en cours dans les bassins",14,70);const b=[["Bassin","N° Lot","Type","Quantité","Temps restant","Qualité"],["Bassin A1","LOT-2025-001","Plates","500 kg","12h","98%"],["Bassin A1","LOT-2025-002","Creuses","300 kg","24h","95%"],["Bassin A2","LOT-2025-003","Spéciales","600 kg","4h","92%"]];d.autoTable({startY:75,head:[b[0]],body:b.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}}),d.setFontSize(16),d.text("Achats et stockage",14,d.lastAutoTable.finalY+20);const p=[["Produit","Fournisseur","DLC","Stockage","Qualité"],["Palourdes","Mareyeur Express","25/02/2025","Bassin A3","95%"],["Moules","Fruits de Mer Pro","22/02/2025","Bassin B1","92%"]];d.autoTable({startY:d.lastAutoTable.finalY+25,head:[p[0]],body:p.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}}),d.setFontSize(16),d.text("Maintenance des bassins",14,d.lastAutoTable.finalY+20);const j=[["Bassin","Dernier nettoyage","Prochain nettoyage","État filtre","Qualité eau"],["Bassin A1","15/02/2025","22/02/2025","Optimal","98%"],["Bassin A2","10/02/2025","17/02/2025","À vérifier","92%"]];d.autoTable({startY:d.lastAutoTable.finalY+25,head:[j[0]],body:j.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}}),d.setFontSize(16),d.text("Contrôles qualité",14,d.lastAutoTable.finalY+20);const g=[["Date","Lot","Score","Inspecteur","Observations"],["19/02/2025","LOT-2025-001","92%","Marie Martin","RAS"],["19/02/2025","LOT-2025-002","88%","Jean Dupont","Surveillance accrue"]];d.autoTable({startY:d.lastAutoTable.finalY+25,head:[g[0]],body:g.slice(1),theme:"striped",headStyles:{fillColor:[139,0,0]},alternateRowStyles:{fillColor:[245,245,245]}});const w=d.getNumberOfPages();for(let k=1;k<=w;k++)d.setPage(k),d.setFontSize(10),d.text(`Page ${k} sur ${w}`,d.internal.pageSize.width/2,d.internal.pageSize.height-10,{align:"center"}),d.text(`Généré le ${T(new Date,"PPPp",{locale:E})}`,14,d.internal.pageSize.height-10);d.save(`tracabilite_${T(new Date,"yyyy-MM-dd")}.pdf`)},u=[{id:"batches",label:"Lots en cours",icon:W},{id:"pools",label:"Bassins",icon:Ee},{id:"storage",label:"Autres emplacements",icon:js},{id:"market",label:"Achats",icon:gs},{id:"invoices",label:"Factures et BL",icon:pe},{id:"history",label:"Historique",icon:Be}];return e.jsxs("div",{ref:c,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Traçabilité"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(Lt,{size:20,className:"mr-2"}),"QR Code"]}),e.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Télécharger la traçabilité"]})]})]}),e.jsx("div",{className:"flex items-center space-x-4 border-b border-white/10",children:u.map(d=>e.jsx("button",{onClick:()=>a(d.id),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t===d.id?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d.icon,{size:16,className:"mr-2"}),d.label]})},d.id))}),t==="history"&&e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:d=>n(l=>({...l,start:d.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:d=>n(l=>({...l,end:d.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtrer"]})]}),t==="batches"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Lots en trempe"})]})}),e.jsx(fn,{searchQuery:""})]}),t==="pools"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Bassins de purification"})]})}),e.jsx(yn,{})]}),t==="storage"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(js,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Autres emplacements de stockage"})]})}),e.jsx(Sn,{})]}),t==="market"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(gs,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Achats"})]})}),e.jsx(kn,{})]}),t==="invoices"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-blue/20 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"text-brand-blue",size:20})}),e.jsx("h2",{className:"text-lg font-medium text-white",children:"Factures et bons de livraison"})]})}),e.jsx(Mn,{})]}),t==="history"&&e.jsx(Nn,{searchQuery:""}),s&&e.jsx(zn,{onClose:()=>i(!1)})]})}const Pn=[{month:"Jan",ventes:45e3,objectif:5e4},{month:"Fév",ventes:52e3,objectif:5e4},{month:"Mar",ventes:48e3,objectif:5e4},{month:"Avr",ventes:51e3,objectif:5e4},{month:"Mai",ventes:58e3,objectif:5e4},{month:"Juin",ventes:53e3,objectif:5e4}],An=[{name:"Huîtres Plates",value:40},{name:"Huîtres Creuses",value:45},{name:"Huîtres Spéciales",value:15}],qn=[{key:"ventes",name:"Ventes",color:"#00D1FF"},{key:"objectif",name:"Objectif",color:"#7000FF"}],Fn=[{key:"value",name:"Répartition",color:"#00D1FF"}];function Rn(){const[t,a]=x.useState(!0),[s,i]=x.useState("");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Ventes"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>a(!t),className:"btn-secondary",children:[e.jsx(qt,{size:20,className:"mr-2"}),"Statistiques"]}),e.jsxs("button",{className:"btn-primary",children:[e.jsx(Q,{size:20,className:"mr-2"}),"Nouvelle Vente"]})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsx(ge,{icon:e.jsx(tt,{size:24}),label:"Chiffre d'affaires",value:"307,500€",trend:{value:12.5,positive:!0},color:"primary"}),e.jsx(ge,{icon:e.jsx(W,{size:24}),label:"Commandes",value:"156",color:"secondary"}),e.jsx(ge,{icon:e.jsx(ra,{size:24}),label:"Panier moyen",value:"1,972€",trend:{value:8.3,positive:!0},color:"tertiary"}),e.jsx(ge,{icon:e.jsx(oe,{size:24}),label:"Clients actifs",value:"89",color:"primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(pt,{title:"Évolution des ventes",type:"bar",data:Pn,series:qn,height:320}),e.jsx(pt,{title:"Répartition des ventes",type:"pie",data:An,series:Fn,height:320})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:r=>i(r.target.value),placeholder:"Rechercher une vente...",className:"input-modern w-full pl-10"})]}),e.jsxs("button",{className:"btn-secondary",children:[e.jsx(ie,{size:20,className:"mr-2"}),"Filtres"]})]}),e.jsxs("div",{className:"glass-effect rounded-xl",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique des ventes"})}),e.jsx("div",{className:"divide-y divide-white/10",children:[1,2,3,4,5].map(r=>e.jsx("div",{className:"p-6 hover:bg-white/5 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-primary/20 flex items-center justify-center",children:e.jsx(W,{size:20,className:"text-brand-primary"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium text-white",children:["Commande #00",r]}),e.jsx("p",{className:"text-sm text-white/60 mt-1",children:"Restaurant La Marée"}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[e.jsx("span",{children:"15/02/2025"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"1,500€"}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"px-2 py-1 bg-brand-primary/20 text-brand-primary rounded-full text-xs",children:"Payée"})]})]})]})})},r))})]})]})}const Ls=[{id:"1",content:"Produits reçus en excellent état.",author:{name:"Jean Dupont"},timestamp:"2025-02-20T09:00:00",type:"comment"},{id:"2",content:"Évaluation du lot reçu",author:{name:"Marie Martin"},timestamp:"2025-02-20T10:30:00",type:"rating",rating:{overall:4.5,freshness:5,quality:4,packaging:4.5}}];function Ln({purchase:t,onClose:a}){const[s,i]=x.useState("comments"),[r,n]=x.useState(""),[c,h]=x.useState({overall:0,freshness:0,quality:0,packaging:0}),o=m=>{m.preventDefault(),r.trim()&&n("")},u=(m,b)=>{h(p=>({...p,[m]:b}))},d=m=>{m.preventDefault()},l=(m,b)=>e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(p=>e.jsx("button",{onClick:()=>b==null?void 0:b(p),className:`text-lg ${p<=m?"text-yellow-400":"text-white/20"}`,children:"★"},p))});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>i("comments"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${s==="comments"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ts,{size:16,className:"mr-2"}),"Commentaires"]})}),e.jsx("button",{onClick:()=>i("ratings"),className:`py-2 px-4 text-sm font-medium border-b-2 transition-colors ${s==="ratings"?"border-brand-primary text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{size:16,className:"mr-2"}),"Évaluation"]})})]}),s==="comments"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:Ls.filter(m=>m.type==="comment").map(m=>e.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:m.author.avatar?e.jsx("img",{src:m.author.avatar,alt:m.author.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-sm font-medium",children:m.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:m.author.name}),e.jsx("span",{className:"text-white/60 text-sm ml-2",children:T(new Date(m.timestamp),"PPp",{locale:E})})]})}),e.jsx("p",{className:"text-white/80 mt-2",children:m.content}),m.attachments&&m.attachments.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:m.attachments.map((b,p)=>e.jsxs("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 bg-white/5 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:[e.jsx(St,{size:16,className:"mr-2"}),b.name]},p))})]})]})},m.id))}),e.jsx("form",{onSubmit:o,className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:r,onChange:m=>n(m.target.value),placeholder:"Ajouter un commentaire...",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 resize-none",rows:3}),e.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center space-x-2",children:[e.jsx("button",{type:"button",className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ds,{size:20})}),e.jsx("button",{type:"submit",disabled:!r.trim(),className:"p-2 text-white/60 hover:text-white hover:bg-white/5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(lt,{size:20})})]})]})})]}),s==="ratings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:Ls.filter(m=>m.type==="rating").map(m=>{var b,p,j,g;return e.jsx("div",{className:"p-4 rounded-lg bg-white/5",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-brand-burgundy rounded-full flex items-center justify-center",children:m.author.avatar?e.jsx("img",{src:m.author.avatar,alt:m.author.name,className:"w-full h-full rounded-full"}):e.jsx("span",{className:"text-white text-sm font-medium",children:m.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white",children:m.author.name}),e.jsx("span",{className:"text-white/60 text-sm ml-2",children:T(new Date(m.timestamp),"PPp",{locale:E})})]})}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Note globale"}),l(((b=m.rating)==null?void 0:b.overall)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),l(((p=m.rating)==null?void 0:p.freshness)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Qualité"}),l(((j=m.rating)==null?void 0:j.quality)||0)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Emballage"}),l(((g=m.rating)==null?void 0:g.packaging)||0)]})]})]})]})},m.id)})}),e.jsxs("form",{onSubmit:d,className:"bg-white/5 rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"text-white font-medium",children:"Nouvelle évaluation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Note globale"}),l(c.overall,m=>u("overall",m))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Fraîcheur"}),l(c.freshness,m=>u("freshness",m))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Qualité"}),l(c.quality,m=>u("quality",m))]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/60",children:"Emballage"}),l(c.packaging,m=>u("packaging",m))]})]}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer l'évaluation"})]})]})]})}function _n({order:t,onClose:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Commenter la commande ",t.id]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsx(Ln,{purchase:t,onClose:a})]})}):null}function En(){const[t,a]=x.useState(""),[s,i]=x.useState(null),[r,n]=x.useState(null),[c,h]=x.useState(!1),[o,u]=x.useState(0),[d,l]=x.useState({supplier:"",product:"",expiryDate:"",invoice:null}),m=g=>{switch(g){case"pending":return{label:"En attente",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case"confirmed":return{label:"Confirmée",bgColor:"bg-blue-500/20",textColor:"text-blue-400",borderColor:"border-blue-500/30"};case"dispatched":return{label:"Expédiée",bgColor:"bg-indigo-500/20",textColor:"text-indigo-400",borderColor:"border-indigo-500/30"};case"in_transit":return{label:"En transit",bgColor:"bg-purple-500/20",textColor:"text-purple-400",borderColor:"border-purple-500/30"};case"delivered":return{label:"Livrée",bgColor:"bg-green-500/20",textColor:"text-green-400",borderColor:"border-green-500/30"};case"completed":return{label:"Traitée",bgColor:"bg-teal-500/20",textColor:"text-teal-400",borderColor:"border-teal-500/30"};default:return{label:"Inconnue",bgColor:"bg-gray-500/20",textColor:"text-gray-400",borderColor:"border-gray-500/30"}}},b=g=>{var k;const w=(k=g.target.files)==null?void 0:k[0];w&&l(q=>({...q,invoice:w}))},p=g=>{g.preventDefault(),console.log("Nouveau achat:",{...d,rating:o}),h(!1),l({supplier:"",product:"",expiryDate:"",invoice:null}),u(0)},j=[{id:"2024-0131",product:"Huîtres spéciales n°2 Bouzigues",supplier:"Bassin de Thau SARL",deliveryDate:"15/03",price:1420,quantity:"180kg",status:"pending",icon:G,stockLocation:"En attente",lastUpdate:"01/03/2024 14:30"},{id:"2024-0130",product:"Palourdes vénérirupis",supplier:"Conchyliculteurs Normands",deliveryDate:"14/03",price:850,quantity:"65kg",status:"confirmed",icon:G,stockLocation:"En attente",lastUpdate:"01/03/2024 11:20"},{id:"2024-0129",product:"Coquilles Saint-Jacques Normandie",supplier:"Pêcherie Atlantique",deliveryDate:"12/03",price:1680,quantity:"90kg",status:"dispatched",icon:G,stockLocation:"En transit",lastUpdate:"01/03/2024 09:45"},{id:"2024-0128",product:"Coques fraîches Baie de Somme",supplier:"Marée du Nord",deliveryDate:"11/03",price:720,quantity:"40kg",status:"in_transit",icon:G,stockLocation:"En transit",lastUpdate:"01/03/2024 08:15"},{id:"2024-0127",product:"Huîtres creuses Marennes-Oléron",supplier:"Maison Gillardeau",deliveryDate:"10/03",price:1250,quantity:"200kg",status:"pending",icon:G,stockLocation:"En attente",lastUpdate:"01/03/2024 09:15"},{id:"2024-0126",product:"Moules bouchot AOP Mont Saint-Michel",supplier:"Mytiliculteurs Bretons",deliveryDate:"08/03",price:680,quantity:"150kg",status:"confirmed",icon:G,stockLocation:"En attente",lastUpdate:"28/02/2024 16:45"},{id:"2024-0125",product:"Crevettes grises de l'Atlantique",supplier:"Pêcheurs de la Manche",deliveryDate:"05/03",price:950,quantity:"50kg",status:"dispatched",icon:G,stockLocation:"En transit",lastUpdate:"28/02/2024 08:30"},{id:"2024-0124",product:"Crabes dormeurs de Bretagne",supplier:"Criée de Roscoff",deliveryDate:"03/03",price:1100,quantity:"60kg",status:"in_transit",icon:G,stockLocation:"En transit",lastUpdate:"27/02/2024 19:00"},{id:"2024-0123",product:"Moules de Méditerranée",supplier:"CDB",deliveryDate:"28/02",price:450,quantity:"100kg",status:"pending",icon:G,stockLocation:"Bassin A3",lastUpdate:"26/02/2024 14:30"},{id:"2024-0122",product:"Huîtres Spéciales",supplier:"Cancale Huîtres",deliveryDate:"27/02",price:780,quantity:"150kg",status:"confirmed",icon:G,stockLocation:"Bassin B1",lastUpdate:"26/02/2024 10:15"},{id:"2024-0121",product:"Bar de ligne",supplier:"Pêcheurs Bretons",deliveryDate:"26/02",price:890,quantity:"45kg",status:"delivered",icon:Xs,stockLocation:"Trempage T2",lastUpdate:"25/02/2024 16:45"},{id:"2024-0120",product:"Huîtres plates Belon",supplier:"Ostréiculteurs du Morbihan",deliveryDate:"24/02",price:1350,quantity:"80kg",status:"completed",icon:G,stockLocation:"Bassin C2",lastUpdate:"24/02/2024 11:20"},{id:"2024-0119",product:"Palourdes de Thau",supplier:"Étang de Thau",deliveryDate:"22/02",price:580,quantity:"40kg",status:"completed",icon:G,stockLocation:"Zone D3",lastUpdate:"22/02/2024 15:40"}];return e.jsxs("div",{className:"container mx-auto p-4 space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(B,{type:"text",placeholder:"Rechercher une commande...",value:t,onChange:g=>a(g.target.value),className:"w-full",leftIcon:e.jsx(Z,{className:"w-4 h-4"})})}),e.jsxs(X,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"})," Filtres"]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:j.map(g=>e.jsx("div",{children:e.jsx(mt,{className:"overflow-hidden",children:e.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>i(s===g.id?null:g.id),children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${m(g.status).bgColor}`,children:g.icon&&e.jsx(g.icon,{className:`w-5 h-5 ${m(g.status).textColor}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-base font-medium text-white",children:g.product}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${m(g.status).bgColor} ${m(g.status).textColor}`,children:m(g.status).label})]}),e.jsxs("p",{className:"text-sm text-white/60",children:[g.supplier," • #",g.id," • Livraison le ",g.deliveryDate]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-base font-medium text-white",children:[g.price,"€"]}),e.jsx("p",{className:"text-sm text-white/60",children:g.quantity})]}),e.jsx(Mt,{className:`w-5 h-5 text-white/40 transition-transform ${s===g.id?"rotate-90":""}`})]}),s===g.id&&e.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-white/10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Statut"}),e.jsx("p",{className:`text-sm text-white mt-1 ${m(g.status).textColor}`,children:m(g.status).label})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Date de commande"}),e.jsx("p",{className:"text-sm text-white mt-1",children:"25/02/2024"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Fournisseur"}),e.jsx("p",{className:"text-sm text-white mt-1",children:g.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Emplacement stock"}),e.jsx("p",{className:"text-sm text-white mt-1",children:g.stockLocation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/40",children:"Dernière mise à jour"}),e.jsx("p",{className:"text-sm text-white mt-1",children:g.lastUpdate})]})]}),e.jsx("div",{className:"flex justify-end mt-6 space-x-4",children:e.jsxs("button",{onClick:()=>n(g.id),className:"px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-white transition-colors flex items-center space-x-2",children:[e.jsx(Ae,{size:16,className:"mr-2"}),"Commenter"]})})]})]})})},g.id))}),r&&e.jsx(_n,{order:j.find(g=>g.id===r),onClose:()=>n(null)}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-6 z-50",children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 w-full max-w-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Nouvel achat"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/5 rounded-lg",children:e.jsx(R,{className:"text-white/60",size:20})})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Nom du fournisseur"}),e.jsx(B,{type:"text",value:d.supplier,onChange:g=>l(w=>({...w,supplier:g.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Produit"}),e.jsx(B,{type:"text",value:d.product,onChange:g=>l(w=>({...w,product:g.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"DLC"}),e.jsx(B,{type:"date",value:d.expiryDate,onChange:g=>l(w=>({...w,expiryDate:g.target.value})),className:"w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Évaluation"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(g=>e.jsx("button",{type:"button",onClick:()=>u(g),className:"focus:outline-none",children:e.jsx(Ne,{size:24,className:g<=o?"text-yellow-400 fill-yellow-400":"text-white/20"})},g))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-2",children:"Facture"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-center px-4 py-3 border border-dashed border-white/20 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b,className:"hidden"}),e.jsx(Se,{className:"w-5 h-5 text-white/60 mr-2"}),e.jsx("span",{className:"text-white/60",children:"Choisir un fichier"})]})}),e.jsxs(X,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(At,{className:"w-4 h-4"}),"Photo"]}),e.jsxs(X,{type:"button",variant:"outline",className:"flex items-center gap-2",onClick:()=>{},children:[e.jsx(Gs,{className:"w-4 h-4"}),"Scanner"]})]}),d.invoice&&e.jsxs("p",{className:"mt-2 text-sm text-white/60",children:["Fichier sélectionné : ",d.invoice.name]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(X,{type:"button",variant:"ghost",onClick:()=>h(!1),children:"Annuler"}),e.jsx(X,{type:"submit",className:"bg-brand-blue hover:bg-brand-blue/90",children:"Enregistrer"})]})]})]})})]})}function $n(){var r;const[t,a]=x.useState(!1),{session:s}=K(),i=n=>{n.preventDefault(),a(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-brand-burgundy/20 flex items-center justify-center overflow-hidden",children:(r=s==null?void 0:s.user)!=null&&r.avatar_url?e.jsx("img",{src:s.user.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx(Tt,{size:64,className:"text-brand-burgundy"})}),e.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity rounded-full",children:[e.jsx(Se,{size:24}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Jean Dupont"}),e.jsx("p",{className:"text-white/60",children:"Responsable Production"}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(we,{size:16,className:"mr-2"}),"jean.dupont@example.com"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(xe,{size:16,className:"mr-2"}),"06 12 34 56 78"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(Rt,{size:16,className:"mr-2"}),"Zone Nord"]}),e.jsxs("div",{className:"flex items-center text-white/60",children:[e.jsx(ae,{size:16,className:"mr-2"}),"Embauché le 15/01/2024"]})]})]}),e.jsx("button",{onClick:()=>a(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:t?"Annuler":"Modifier"})]}),t?e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Prénom"}),e.jsx("input",{type:"text",defaultValue:"Jean",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nom"}),e.jsx("input",{type:"text",defaultValue:"Dupont",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),e.jsx("input",{type:"email",defaultValue:"jean.dupont@example.com",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Téléphone"}),e.jsx("input",{type:"tel",defaultValue:"06 12 34 56 78",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Adresse"}),e.jsx("textarea",{rows:3,defaultValue:"123 Rue de la Mer, 34140 Bouzigues",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Enregistrer"})]})]}):e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Informations complémentaires"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Adresse"}),e.jsx("div",{className:"text-white mt-1",children:"123 Rue de la Mer, 34140 Bouzigues"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Contact d'urgence"}),e.jsx("div",{className:"text-white mt-1",children:"Marie Dupont - 06 98 76 54 32"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-white/60",children:"Numéro de sécurité sociale"}),e.jsx("div",{className:"text-white mt-1",children:"1 85 12 17 123 456 78"})]})]})]})]})}function In(){const[t,a]=x.useState(!1),[s,i]=x.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Mot de passe"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Dernière modification il y a 3 mois"})]}),e.jsx("button",{onClick:()=>a(!t),className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Modifier"})]}),t&&e.jsxs("form",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Mot de passe actuel"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirmer le nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-white/70 hover:text-white transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors",children:"Mettre à jour"})]})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Double authentification"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Sécurisez votre compte avec la 2FA"})]}),e.jsx("button",{onClick:()=>i(!s),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors",children:"Configurer"})]}),s&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ia,{size:20,className:"text-white/60 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Application d'authentification"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une application comme Google Authenticator pour générer des codes"})]})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Oi,{size:20,className:"text-white/60 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Clé de sécurité"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Utilisez une clé de sécurité physique (YubiKey, etc.)"})]})]})})]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sessions actives"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Chrome - Windows"}),e.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 2 minutes"}),e.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.1"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs",children:"Session actuelle"})})]})}),e.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Safari - iPhone"}),e.jsx("div",{className:"text-sm text-white/60",children:"Dernière activité: Il y a 1 heure"}),e.jsx("div",{className:"text-sm text-white/60",children:"IP: 192.168.1.2"})]}),e.jsx("button",{className:"text-brand-primary hover:text-brand-primary/80 transition-colors",children:"Déconnecter"})]})})]})]}),e.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/20 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-brand-primary mb-4",children:"Zone dangereuse"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Supprimer le compte"}),e.jsx("div",{className:"text-white/60 mt-1",children:"Cette action est irréversible et supprimera toutes vos données"})]}),e.jsx("button",{className:"px-4 py-2 bg-brand-primary/20 text-brand-primary rounded-lg hover:bg-brand-primary/30 transition-colors",children:"Supprimer mon compte"})]})]})]})}const On=[{id:"1",type:"login",action:"Connexion",timestamp:"2025-02-19T10:30:00",location:"La Rochelle, France",device:"Chrome - Windows"},{id:"2",type:"settings",action:"Modification du profil",timestamp:"2025-02-19T09:15:00",details:"Mise à jour des informations personnelles"},{id:"3",type:"document",action:"Téléchargement rapport",timestamp:"2025-02-19T08:45:00",details:"Rapport de production - Janvier 2025"},{id:"4",type:"notification",action:"Paramètres de notification",timestamp:"2025-02-19T08:30:00",details:"Activation des notifications mobiles"}],Hn={login:Hi,settings:Qe,document:pe,notification:Je};function Bn(){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsx("h3",{className:"text-lg font-medium text-white",children:"Historique d'activité"})}),e.jsx("div",{className:"divide-y divide-white/10",children:On.map(t=>{const a=Hn[t.type];return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-brand-burgundy/20 flex items-center justify-center",children:e.jsx(a,{size:20,className:"text-brand-burgundy"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("h4",{className:"text-lg font-medium text-white",children:t.action})}),t.details&&e.jsx("p",{className:"text-white/70 mt-1",children:t.details}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-white/60",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:16,className:"mr-1"}),T(new Date(t.timestamp),"PPp",{locale:E})]}),t.location&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{children:t.location})]}),t.device&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"•"}),e.jsx("div",{children:t.device})]})]})]})]})},t.id)})})]})})}function Vn(){const[t,a]=x.useState([]),[s,i]=x.useState("csv"),[r,n]=x.useState({start:"",end:""}),c=()=>{console.log("Exporting data:",{selectedData:t,format:s,dateRange:r})};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Export des données"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sélectionner les données"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("tasks"),onChange:h=>{h.target.checked?a([...t,"tasks"]):a(t.filter(o=>o!=="tasks"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Tâches"}),e.jsx("div",{className:"text-sm text-white/60",children:"Historique des tâches"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("inventory"),onChange:h=>{h.target.checked?a([...t,"inventory"]):a(t.filter(o=>o!=="inventory"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Inventaire"}),e.jsx("div",{className:"text-sm text-white/60",children:"Données de stock"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("time"),onChange:h=>{h.target.checked?a([...t,"time"]):a(t.filter(o=>o!=="time"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Temps de travail"}),e.jsx("div",{className:"text-sm text-white/60",children:"Suivi du temps"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includes("activity"),onChange:h=>{h.target.checked?a([...t,"activity"]):a(t.filter(o=>o!=="activity"))},className:"w-4 h-4 bg-white/5 border border-white/10 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"Activité"}),e.jsx("div",{className:"text-sm text-white/60",children:"Historique d'activité"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Format d'export"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"format",value:"csv",checked:s==="csv",onChange:h=>i(h.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),e.jsx("div",{className:"text-white font-medium",children:"CSV"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"format",value:"json",checked:s==="json",onChange:h=>i(h.target.value),className:"w-4 h-4 bg-white/5 border border-white/10 rounded-full"}),e.jsx("div",{className:"text-white font-medium",children:"JSON"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Période"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:r.start,onChange:h=>n({...r,start:h.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-white/60 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:r.end,onChange:h=>n({...r,end:h.target.value}),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]})]}),e.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(de,{size:20,className:"text-yellow-400 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium",children:"Note importante"}),e.jsx("p",{className:"text-yellow-400/80 mt-1",children:"L'export peut contenir des données sensibles. Assurez-vous de les stocker de manière sécurisée."})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:c,disabled:t.length===0,className:"flex items-center px-4 py-2 bg-brand-burgundy rounded-lg text-white hover:bg-brand-burgundy/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(fe,{size:20,className:"mr-2"}),"Exporter les données"]})})]})]})})}function Qn(){var i;const{session:t}=K(),a=Un((i=t==null?void 0:t.user)==null?void 0:i.id),s=()=>{navigator.clipboard.writeText(a)};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Mon Code Ami"}),e.jsx("p",{className:"text-white/60 mt-1",children:"Partagez ce code pour vous connecter avec d'autres professionnels"})]}),e.jsx("div",{className:"w-12 h-12 bg-brand-burgundy/20 rounded-lg flex items-center justify-center",children:e.jsx(oe,{size:24,className:"text-brand-burgundy"})})]}),e.jsx("div",{className:"mt-8 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-brand-burgundy/20 blur-xl rounded-xl"}),e.jsx(f.div,{className:"relative bg-gradient-to-br from-brand-dark to-brand-purple p-8 rounded-xl border border-white/10",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:e.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider text-center text-white",children:a})})]})}),e.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[e.jsxs(f.button,{onClick:s,className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Bi,{size:20,className:"mr-2"}),"Copier le code"]}),e.jsxs(f.button,{className:"flex items-center px-4 py-2 bg-white/5 rounded-lg text-white hover:bg-white/10 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(Lt,{size:20,className:"mr-2"}),"Afficher le QR Code"]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Comment ça marche ?"}),e.jsxs("ol",{className:"space-y-2 text-white/60",children:[e.jsx("li",{children:"1. Partagez votre code ami avec un autre professionnel"}),e.jsx("li",{children:'2. Utilisez son code dans la section "Entre Pro" pour vous connecter'}),e.jsx("li",{children:"3. Une fois connectés, vous pourrez échanger et collaborer facilement"})]})]})]})})}function Un(t){var i;return t&&((i=(Array.from(t).reduce((r,n)=>(r<<5)-r+n.charCodeAt(0),0).toString(36).toUpperCase()+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789").slice(0,12).match(/.{1,4}/g))==null?void 0:i.join("-"))||"XXXX-XXXX-XXXX"}function Jn(){const[t,a]=x.useState("info");return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mon Espace"})}),e.jsxs("div",{className:"flex items-center space-x-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>a("info"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="info"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Tt,{size:16,className:"mr-2"}),"Informations"]})}),e.jsx("button",{onClick:()=>a("friend-code"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="friend-code"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(oe,{size:16,className:"mr-2"}),"Code ami"]})}),e.jsx("button",{onClick:()=>a("security"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="security"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(aa,{size:16,className:"mr-2"}),"Sécurité"]})}),e.jsx("button",{onClick:()=>a("activity"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="activity"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{size:16,className:"mr-2"}),"Activité"]})}),e.jsx("button",{onClick:()=>a("export"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${t==="export"?"border-brand-burgundy text-white":"border-transparent text-white/60 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:16,className:"mr-2"}),"Export"]})})]}),t==="info"&&e.jsx($n,{}),t==="friend-code"&&e.jsx(Qn,{}),t==="security"&&e.jsx(In,{}),t==="activity"&&e.jsx(Bn,{}),t==="export"&&e.jsx(Vn,{})]})}const We="oystercult_cart";function za(){const[t,a]=x.useState([]),[s,i]=x.useState(!1);return x.useEffect(()=>{const o=localStorage.getItem(We);if(o)try{a(JSON.parse(o))}catch(u){console.error("Erreur lors du chargement du panier:",u),localStorage.removeItem(We)}},[]),{cartItems:t,addToCart:(o,u)=>{const d=[...t],l=d.find(m=>m.productId===o);l?l.quantity=u:d.push({productId:o,quantity:u}),a(d),localStorage.setItem(We,JSON.stringify(d))},removeFromCart:o=>{const u=t.filter(d=>d.productId!==o);a(u),u.length===0?localStorage.removeItem(We):localStorage.setItem(We,JSON.stringify(u))},clearCart:()=>{a([]),localStorage.removeItem(We)},isCartModalOpen:s,setIsCartModalOpen:()=>{i(!s)}}}function Da({isOpen:t,onClose:a,items:s,products:i,onRemoveItem:r,onClearCart:n}){if(!t)return null;const c=s.reduce((o,u)=>{const d=i.find(l=>l.id===u.productId);return o+(d?d.price*u.quantity:0)},0),h=()=>{n(),a()};return e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-xl w-full max-w-md mx-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[e.jsx("h2",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Panier"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-[rgb(var(--color-brand-surface-hover))] rounded-lg transition-colors",children:e.jsx(R,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"})})]}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:s.length===0?e.jsx("p",{className:"text-center text-[rgb(var(--color-text-secondary))]",children:"Votre panier est vide"}):e.jsx("div",{className:"space-y-4",children:s.map(o=>{const u=i.find(d=>d.id===o.productId);return u?e.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-[rgb(var(--color-brand-surface-hover))] rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-[rgb(var(--color-text-primary))]",children:u.name}),e.jsxs("p",{className:"text-sm text-[rgb(var(--color-text-secondary))]",children:[o.quantity," ",u.unit," × ",u.price.toFixed(2),"€"]}),e.jsxs("p",{className:"text-sm font-medium text-[rgb(var(--color-brand-primary))]",children:["Total: ",(o.quantity*u.price).toFixed(2),"€"]})]}),e.jsx("button",{onClick:()=>r(o.productId),className:"p-2 hover:bg-[rgb(var(--color-brand-surface))] rounded-lg transition-colors",children:e.jsx(me,{className:"w-4 h-4 text-red-500"})})]},o.productId):null})})}),s.length>0&&e.jsxs("div",{className:"p-4 border-t border-[rgb(var(--color-border)_/_var(--color-border-opacity))]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:"Total"}),e.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[c.toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:"Vider"}),e.jsxs("button",{onClick:h,className:"flex-1 px-4 py-2 bg-[rgb(var(--color-brand-primary))] text-white rounded-lg hover:bg-[rgb(var(--color-brand-primary)_/_0.9)] transition-colors flex items-center justify-center gap-2",children:[e.jsx(Vi,{className:"w-4 h-4"}),"Valider la commande"]})]})]})]})})}const Gt=[{id:"1",name:"Capteur de courantologie",description:"Mesure précise des courants marins avec transmission en temps réel",price:899.99,category:"sensor",features:["Mesure bidirectionnelle","Précision ±0.1 m/s","Transmission sans fil","Batterie longue durée"],inStock:!0,specifications:{"Plage de mesure":"0-10 m/s",Autonomie:"12 mois","Profondeur max":"50m",Protection:"IP68"},image:"https://example.com/image1.jpg"},{id:"2",name:"Sonde pH connectée",description:"Surveillance continue du pH avec alertes automatiques",price:299.99,category:"sensor",features:["Calibration automatique","Alertes personnalisables","Interface intuitive","Installation facile"],inStock:!0,specifications:{"Plage pH":"0-14",Précision:"±0.01 pH","Temps de réponse":"<5s",Température:"0-50°C"},image:"https://example.com/image2.jpg"},{id:"3",name:"Bracelet d'urgence",description:"Bracelet connecté étanche avec bouton d'appel d'urgence",price:149.99,category:"device",features:["Étanche IP68","Batterie 7 jours","Géolocalisation","Bouton SOS"],inStock:!0,specifications:{Matériau:"Silicone médical",Connectivité:"Bluetooth 5.0",Autonomie:"7 jours",Résistance:"5 ATM"},image:"https://example.com/image3.jpg"}];function Gn(){const[t,a]=x.useState(""),[s,i]=x.useState("all"),[r,n]=x.useState(!1),{cartItems:c,addToCart:h,removeFromCart:o,clearCart:u,isCartModalOpen:d,setIsCartModalOpen:l}=za();x.useEffect(()=>{const p=j=>{r&&n(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}},[r]);const m=["all",...new Set(Gt.map(p=>p.category))],b=Gt.filter(p=>{const j=s==="all"||p.category===s,g=p.name.toLowerCase().includes(t.toLowerCase())||p.description.toLowerCase().includes(t.toLowerCase());return j&&g});return e.jsxs("div",{className:"min-h-screen bg-[rgb(var(--color-brand-bg))]",children:[e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))]",children:e.jsx("div",{className:"max-w-[1400px] mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold text-[rgb(var(--color-text-primary))]",children:"Boutique"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{className:"p-2 rounded-lg hover:bg-[rgb(var(--color-brand-surface-hover))] transition-colors relative",onClick:()=>l(),children:[e.jsx(ht,{className:"w-5 h-5 text-[rgb(var(--color-text-secondary))]"}),c.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-[rgb(var(--color-brand-primary))] text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:c.length})]})})]})})}),e.jsxs("main",{className:"max-w-[1400px] mx-auto px-6 pt-12 pb-24",children:[e.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary))]"}),e.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:t,onChange:p=>a(p.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none focus:border-[rgb(var(--color-brand-primary))]"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!r),className:"w-full sm:w-48 px-4 py-2.5 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-[rgb(var(--color-text-primary))]",children:s==="all"?"Toutes catégories":s}),e.jsx(xt,{className:"w-4 h-4 text-[rgb(var(--color-text-secondary))]"})]}),r&&e.jsx("div",{className:"absolute z-20 mt-1 w-full bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg shadow-lg",children:e.jsx("div",{className:"p-1",children:m.map(p=>e.jsx("button",{onClick:()=>{i(p),n(!1)},className:`w-full text-left px-3 py-2 rounded-md transition-colors ${s===p?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":"hover:bg-[rgb(var(--color-brand-surface-hover))] text-[rgb(var(--color-text-primary))]"}`,children:e.jsx("span",{className:"capitalize",children:p==="all"?"Toutes catégories":p})},p))})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(p=>e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg overflow-hidden hover:border-white/20 transition-all duration-200",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-white break-words",children:p.name}),e.jsx("p",{className:"text-sm text-white/60 mt-1 line-clamp-3",children:p.description})]}),e.jsxs("div",{className:"text-xl font-bold text-white whitespace-nowrap",children:[p.price,"€"]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:p.features.map((j,g)=>e.jsx("span",{className:"px-2 py-1 bg-white/5 rounded-full text-xs text-white/70",children:j},g))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Spécifications"}),e.jsx("div",{className:"space-y-2",children:Object.entries(p.specifications).map(([j,g])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:j}),e.jsx("span",{className:"text-white",children:g})]},j))})]}),e.jsx("div",{className:"mt-6 flex items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",defaultValue:"0",className:"w-20 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20",onChange:j=>{parseInt(j.target.value,10)<0&&(j.target.value="0")}}),e.jsx("button",{onClick:j=>{const g=j.currentTarget.previousElementSibling,w=parseInt(g.value,10);w>0&&h(p.id,w)},className:"px-4 py-2 bg-brand-primary rounded-lg text-white hover:bg-brand-primary/90 transition-colors",children:"Ajouter au panier"})]})})]})},p.id))}),e.jsx(Da,{isOpen:d,onClose:()=>l(!1),items:c,products:Gt,onRemoveItem:o,onClearCart:()=>{u(),l(!1)}})]})]})}const Xn=Ui,Yn=Qi,Ma=x.forwardRef(({className:t,...a},s)=>e.jsx(la,{className:qe("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));Ma.displayName=la.displayName;const Ta=x.forwardRef(({className:t,...a},s)=>e.jsxs(Yn,{children:[e.jsx(Ma,{}),e.jsx(na,{ref:s,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));Ta.displayName=na.displayName;const Pa=({className:t,...a})=>e.jsx("div",{className:qe("flex flex-col space-y-2 text-center sm:text-left",t),...a});Pa.displayName="AlertDialogHeader";const Aa=({className:t,...a})=>e.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});Aa.displayName="AlertDialogFooter";const qa=x.forwardRef(({className:t,...a},s)=>e.jsx(da,{ref:s,className:qe("text-lg font-semibold",t),...a}));qa.displayName=da.displayName;const Fa=x.forwardRef(({className:t,...a},s)=>e.jsx(ca,{ref:s,className:qe("text-sm text-muted-foreground",t),...a}));Fa.displayName=ca.displayName;const Ra=x.forwardRef(({className:t,...a},s)=>e.jsx(oa,{ref:s,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...a}));Ra.displayName=oa.displayName;const La=x.forwardRef(({className:t,...a},s)=>e.jsx(xa,{ref:s,className:qe("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-semibold ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 sm:mt-0",t),...a}));La.displayName=xa.displayName;function Zn({supplier:t,onDelete:a,onViewCatalog:s}){const[i,r]=x.useState(!1),n=t.name.split(" ").map(o=>o[0]).join(""),h=(o=>{let u=0;for(let m=0;m<o.length;m++)u=o.charCodeAt(m)+((u<<5)-u);const d=(u&255)%60+220,l=(u&255)%40+180;return{from:`hsl(${d}, 70%, 65%)`,to:`hsl(${l}, 80%, 40%)`,text:`hsl(${d-10}, 80%, 75%)`}})(t.name);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full bg-[#1a1c25] rounded-xl shadow-lg overflow-hidden border border-[#2a2d3a] hover:border-[#3f4864] transition-all duration-300 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-24 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${h.from}20 0%, ${h.to}40 100%)`},children:e.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-2xl font-bold shadow-md transform group-hover:scale-105 transition-transform duration-300",style:{background:`linear-gradient(135deg, ${h.from} 0%, ${h.to} 100%)`,color:"white",textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:n})}),t.is_friend&&e.jsxs("div",{className:"absolute top-2 right-2 bg-emerald-500/10 backdrop-blur-sm rounded-full px-3 py-1 flex items-center gap-1 border border-emerald-500/20 shadow-emerald-500/10 shadow-sm",children:[e.jsx(Ji,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"text-xs font-medium text-emerald-400",children:"Ami"})]})]}),e.jsxs("div",{className:"p-4 flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:t.name}),e.jsx("div",{className:"text-xs opacity-70 mb-1",children:t.friend_code&&e.jsxs("div",{className:"inline-flex items-center gap-1 mr-3 mb-2",children:[e.jsx(Rt,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-mono text-xs",children:t.friend_code})]})}),e.jsxs("div",{className:"space-y-2 flex-grow text-[#a0a3b8]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-3.5 h-3.5 shrink-0 text-[#8b8fa8]"}),e.jsx("span",{className:"text-xs truncate",children:t.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-3.5 h-3.5 shrink-0 text-[#8b8fa8]"}),e.jsx("span",{className:"text-xs",children:t.phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-3.5 h-3.5 shrink-0 text-[#8b8fa8]"}),e.jsx("span",{className:"text-xs truncate",children:t.address})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-[#2a2d3a]",children:[e.jsxs("button",{onClick:()=>s(t.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 group-hover:translate-y-[-2px]",style:{background:`linear-gradient(135deg, ${h.from}30 0%, ${h.to}50 100%)`,color:h.text,boxShadow:`0 4px 10px -2px ${h.to}20`},children:[e.jsx(Gi,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Catalogue"})]}),e.jsx("button",{onClick:()=>r(!0),className:"flex items-center justify-center p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors duration-200",children:e.jsx(me,{className:"w-4 h-4"})})]})]})]}),e.jsx(Xn,{open:i,onOpenChange:r,children:e.jsxs(Ta,{children:[e.jsxs(Pa,{children:[e.jsx(qa,{children:"Confirmer la suppression"}),e.jsx(Fa,{children:"Êtes-vous sûr de vouloir supprimer ce fournisseur ? Cette action est irréversible."})]}),e.jsxs(Aa,{children:[e.jsx(La,{children:"Annuler"}),e.jsx(Ra,{onClick:()=>{a(t.id),r(!1)},className:"bg-red-500 hover:bg-red-600",children:"Supprimer"})]})]})})]})}const ot=x.forwardRef(({className:t,...a},s)=>e.jsx("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${t||""}`,ref:s,...a}));ot.displayName="Label";function Kn({open:t,onOpenChange:a,editingSupplier:s}){const{addSupplier:i,updateSupplier:r}=_t(),n=!!s,[c,h]=x.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||""}),[o,u]=x.useState(!1),[d,l]=x.useState({}),m=j=>{const{name:g,value:w}=j.target;h(k=>({...k,[g]:w})),d[g]&&l(k=>{const q={...k};return delete q[g],q})},b=()=>{const j={};return c.name.trim()||(j.name="Le nom est requis"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(j.email="Format d'email invalide"):j.email="L'email est requis",c.phone.trim()||(j.phone="Le téléphone est requis"),c.address.trim()||(j.address="L'adresse est requise"),l(j),Object.keys(j).length===0},p=async j=>{if(j.preventDefault(),!!b()){u(!0);try{n&&s?await r.mutateAsync({id:s.id,...c}):await i.mutateAsync(c),a(!1),h({name:"",email:"",phone:"",address:""})}catch(g){console.error("Error saving supplier:",g)}finally{u(!1)}}};return e.jsx(ba,{open:t,onOpenChange:a,children:e.jsxs(os,{className:"sm:max-w-[500px] bg-[#1a1c25] text-white border-[#2a2d3a]",children:[e.jsxs(xs,{children:[e.jsx(ms,{className:"text-white",children:n?"Modifier le fournisseur":"Ajouter un fournisseur"}),e.jsx(fa,{children:n?"Modifiez les informations du fournisseur ci-dessous.":"Remplissez les informations du nouveau fournisseur."})]}),e.jsxs("form",{onSubmit:p,className:"space-y-5 my-2",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(ot,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ft,{className:"h-3.5 w-3.5 text-indigo-400"}),"Nom du fournisseur"]}),e.jsx(B,{id:"name",name:"name",value:c.name,onChange:m,placeholder:"Atlantique Coquillages",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.name?"border-red-500":""}`}),d.name&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.name})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(ot,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(we,{className:"h-3.5 w-3.5 text-indigo-400"}),"Email"]}),e.jsx(B,{id:"email",name:"email",type:"email",value:c.email,onChange:m,placeholder:"contact@atlantique-coquillages.fr",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.email?"border-red-500":""}`}),d.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.email})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(ot,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(xe,{className:"h-3.5 w-3.5 text-indigo-400"}),"Téléphone"]}),e.jsx(B,{id:"phone",name:"phone",value:c.phone,onChange:m,placeholder:"01 23 45 67 89",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.phone?"border-red-500":""}`}),d.phone&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.phone})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(ot,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(be,{className:"h-3.5 w-3.5 text-indigo-400"}),"Adresse"]}),e.jsx(B,{id:"address",name:"address",value:c.address,onChange:m,placeholder:"42 Avenue du Port, 85230 Bouin",className:`bg-[#12141d] border-[#2a2d3a] focus:border-indigo-500 text-white ${d.address?"border-red-500":""}`}),d.address&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:d.address})]}),e.jsxs(ga,{className:"mt-6",children:[e.jsx(X,{type:"button",variant:"outline",onClick:()=>a(!1),className:"border-[#2a2d3a] text-white hover:bg-[#2a2d3a] hover:text-white",children:"Annuler"}),e.jsx(X,{type:"submit",disabled:o,className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white",children:o?"Enregistrement...":n?"Mettre à jour":"Ajouter"})]})]})]})})}function Wn(){const{suppliers:t,isLoading:a,updateSupplier:s}=_t(),[i,r]=x.useState(!1),[n,c]=x.useState(""),h=Ue(),o=async l=>{try{await s.mutateAsync({id:l,deleted:!0})}catch(m){console.error("Error deleting supplier:",m)}},u=l=>{h(`/suppliers/${l}/catalog`)},d=t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.email.toLowerCase().includes(n.toLowerCase()));return a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-purple"})}):e.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Fournisseurs"}),e.jsx("p",{className:"text-gray-400",children:"Gérez vos fournisseurs et accédez à leurs catalogues"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-lg transition-all shadow-lg hover:shadow-indigo-500/20 duration-300",children:[e.jsx(Q,{className:"w-5 h-5"}),"Ajouter un fournisseur"]})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-grow max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(Z,{className:"w-4 h-4 text-gray-400"})}),e.jsx("input",{type:"text",className:"bg-[#1a1c25] border border-[#2a2d3a] text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 p-2.5",placeholder:"Rechercher un fournisseur...",value:n,onChange:l=>c(l.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 bg-[#1a1c25] px-3 py-1.5 rounded-lg border border-[#2a2d3a]",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[d.length," fournisseurs"]})]})]}),d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-gray-400",children:[e.jsx("div",{className:"bg-[#1a1c25] rounded-full p-4 mb-4",children:e.jsx(oe,{className:"w-8 h-8 text-indigo-500 opacity-70"})}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Aucun fournisseur trouvé"}),e.jsx("p",{className:"max-w-md text-gray-500",children:n?"Aucun résultat ne correspond à votre recherche. Essayez avec d'autres termes.":"Commencez par ajouter un fournisseur en cliquant sur le bouton ci-dessus."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:d.map(l=>e.jsx(Zn,{supplier:l,onDelete:o,onViewCatalog:u},l.id))}),e.jsx(Kn,{open:i,onOpenChange:r})]})}function ed(){const{supplierId:t}=Xi(),a=Ue(),{suppliers:s,getSupplierProducts:i}=_t(),{cartItems:r,addToCart:n,removeFromCart:c,clearCart:h,isCartModalOpen:o,setIsCartModalOpen:u,toggleCartModal:d}=za(),[l,m]=x.useState({}),[b,p]=x.useState(!0),[j,g]=x.useState([]),[w,k]=x.useState("all"),[q,v]=x.useState(""),[D,N]=x.useState(!1),C=s.find(F=>F.id===t);V.useEffect(()=>{(async()=>{if(t)try{const U=await i(t);g(U)}catch(U){console.error("Erreur lors du chargement des produits:",U),g([{id:"1",name:"Huîtres Spéciales de Normandie",description:"Huîtres Spéciales de Normandie n°3, saveur iodée et douce",price:12.99,unit:"dz",min_order_quantity:2,category:"huîtres",stock:50},{id:"2",name:"Moules de Méditerranée",description:"Moules de Méditerranée fraîches, chair généreuse",price:8.5,unit:"kg",min_order_quantity:1,category:"moules",stock:30},{id:"3",name:"Palourdes de l'Atlantique",description:"Palourdes fraîches de l'Atlantique, idéales pour vos plats de fruits de mer",price:14.99,unit:"kg",min_order_quantity:.5,category:"palourdes",stock:20},{id:"4",name:"Huîtres Fines de Claire",description:"Huîtres Fines de Claire affinées en bassin, saveur délicate",price:15.99,unit:"dz",min_order_quantity:1,category:"huîtres",stock:40}])}finally{p(!1)}})()},[t,i]);const P=["all",...new Set(j.map(F=>F.category))],O=j.filter(F=>{const U=w==="all"||F.category===w,Y=F.name.toLowerCase().includes(q.toLowerCase())||F.description.toLowerCase().includes(q.toLowerCase());return U&&Y}),L=(F,U)=>{m(Y=>({...Y,[F]:U}))},te=F=>{const U=l[F]||0;U>0&&n(F,U)};return b?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"w-16 h-16 border-t-4 border-[rgb(var(--color-brand-primary))] border-solid rounded-full animate-spin"})}):e.jsxs("div",{className:"relative min-h-screen bg-[rgb(var(--color-brand-bg))]",children:[e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-[rgb(var(--color-border)_/_var(--color-border-opacity))] bg-[rgb(var(--color-brand-surface))]",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 py-4",children:[e.jsx("div",{className:"flex items-center justify-center relative",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("button",{onClick:()=>a(-1),className:"p-2 rounded-full bg-[rgb(var(--color-brand-surface)_/_0.5)] hover:bg-[rgb(var(--color-brand-surface))] transition-colors",children:e.jsx(ns,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-xl font-semibold text-[rgb(var(--color-text))]",children:(C==null?void 0:C.name)||"Catalogue Fournisseur"}),e.jsx("p",{className:"text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]",children:(C==null?void 0:C.address)||"Produits disponibles"})]}),e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>u(!0),className:"p-2 rounded-full bg-[rgb(var(--color-brand-surface)_/_0.5)] hover:bg-[rgb(var(--color-brand-surface))] transition-colors relative",style:{boxShadow:r.length>0?"0 0 10px 2px rgb(var(--color-brand-primary))":"none"},children:[e.jsx(ht,{className:"w-5 h-5",style:{color:r.length>0?"rgb(var(--color-brand-primary))":"inherit"}}),r.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center bg-[rgb(var(--color-brand-primary))] text-white text-xs rounded-full animate-pulse",children:r.length})]})})]})}),e.jsxs("div",{className:"mt-4 flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))]"}),e.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:q,onChange:F=>v(F.target.value),className:"w-full pl-10 pr-4 py-2 bg-[rgb(var(--color-brand-surface)_/_0.5)] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:border-[rgb(var(--color-brand-primary))] focus:outline-none"})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>N(!D),className:"px-4 py-2 bg-[rgb(var(--color-brand-surface)_/_0.5)] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:outline-none flex items-center gap-2 min-w-32",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{className:"capitalize",children:w==="all"?"Toutes catégories":w}),e.jsx(xt,{className:"w-4 h-4 ml-auto"})]}),e.jsx(I,{children:D&&e.jsx(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute left-0 right-0 mt-2 bg-[rgb(var(--color-brand-surface))] rounded-lg shadow-lg border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] z-50",children:e.jsx("div",{className:"py-1",children:P.map(F=>e.jsx("button",{onClick:()=>{k(F),N(!1)},className:`w-full px-4 py-2 text-left hover:bg-[rgb(var(--color-brand-surface)_/_0.7)] ${w===F?"bg-[rgb(var(--color-brand-primary)_/_0.1)] text-[rgb(var(--color-brand-primary))]":""}`,children:e.jsx("span",{className:"capitalize",children:F==="all"?"Toutes catégories":F})},F))})})})]})})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:O.map(F=>e.jsxs("div",{className:"bg-[rgb(var(--color-brand-surface)_/_0.5)] backdrop-blur-sm rounded-xl border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] overflow-hidden hover:border-[rgb(var(--color-brand-primary)_/_0.5)] transition-all duration-300 group hover:shadow-lg",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-[rgb(var(--color-brand-primary)_/_0.2)] to-[rgb(var(--color-brand-secondary)_/_0.2)] relative",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Yi,{className:"w-16 h-16 text-[rgb(var(--color-brand-primary)_/_0.3)] group-hover:scale-110 transition-transform duration-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold break-words w-full sm:w-auto",children:F.name}),e.jsx(Ca,{variant:"default",className:"capitalize whitespace-nowrap",children:F.category})]}),e.jsx("p",{className:"text-sm text-[rgb(var(--color-text-secondary)_/_var(--color-text-opacity-secondary))] mb-4 line-clamp-3",children:F.description}),e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsxs("span",{className:"text-lg font-medium text-[rgb(var(--color-text-primary))]",children:[F.price.toFixed(2),"€ / ",F.unit]})}),e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-2",children:[e.jsx("input",{type:"number",min:0,step:F.min_order_quantity,value:l[F.id]||F.min_order_quantity||0,onChange:U=>L(F.id,parseFloat(U.target.value)),className:"w-full sm:w-20 px-3 py-2 bg-[rgb(var(--color-brand-surface))] border border-[rgb(var(--color-border)_/_var(--color-border-opacity))] rounded-lg focus:border-[rgb(var(--color-brand-primary))] focus:outline-none"}),e.jsxs("button",{onClick:()=>te(F.id),className:"w-full sm:flex-1 py-2 px-4 flex items-center justify-center gap-1 bg-[rgb(var(--color-brand-primary)_/_0.1)] hover:bg-[rgb(var(--color-brand-primary)_/_0.2)] text-[rgb(var(--color-brand-primary))] rounded-lg transition-colors group-hover:shadow-md",children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{children:"Ajouter au panier"})]})]})]})]},F.id))})}),e.jsx(Da,{isOpen:o,onClose:()=>u(!1),items:r,products:j,onRemoveItem:c,onClearCart:h})]})}const td="https://rmockgbhcxrgqpeejrry.supabase.co",sd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtb2NrZ2JoY3hyZ3FwZWVyanJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk5MjEwNzcsImV4cCI6MjA1NTQ5NzA3N30.OvRK77iH8MDMJA_fdGdNqeitAOxzIRQMk7CqT8FOAs4",He=Zi(td,sd);function ad(){const t=ta(),{addNotification:a}=K(),{data:s=[],isLoading:i}=sa({queryKey:["supplier_orders"],queryFn:async()=>{try{return[{id:"1",supplier_id:"hmo",status:"pending",products:[{id:"1",name:"Huîtres plates",quantity:120,price:8.5},{id:"2",name:"Huîtres creuses",quantity:240,price:7.2}],total_amount:2748,created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString(),comments:[]},{id:"2",supplier_id:"lpb",status:"accepted",products:[{id:"3",name:"Moules de Bouzigues",quantity:50,price:6}],total_amount:300,created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString(),comments:[{id:"1",content:"Commande validée par le fournisseur. Livraison prévue la semaine prochaine.",created_at:new Date(Date.now()-2592e5).toISOString(),user_id:"1"}]},{id:"3",supplier_id:"ac",status:"delivering",products:[{id:"4",name:"Huîtres du Bassin",quantity:80,price:9.5},{id:"5",name:"Palourdes",quantity:30,price:12}],total_amount:1120,created_at:new Date(Date.now()-6048e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString(),comments:[{id:"2",content:"Votre commande est en cours de livraison. Arrivée prévue demain matin.",created_at:new Date(Date.now()-864e5).toISOString(),user_id:"1"}]},{id:"4",supplier_id:"cp",status:"completed",products:[{id:"6",name:"Huîtres plates",quantity:50,price:8.5},{id:"7",name:"Moules de bouchot",quantity:80,price:5.2}],total_amount:841,storage_location:"Zone A, Étagère 3",created_at:new Date(Date.now()-10368e5).toISOString(),updated_at:new Date(Date.now()-6912e5).toISOString(),comments:[{id:"3",content:"Commande reçue et stockée. Qualité conforme aux attentes.",created_at:new Date(Date.now()-6912e5).toISOString(),user_id:"1"}]},{id:"5",supplier_id:"hmo",status:"rejected",products:[{id:"8",name:"Huîtres spéciales",quantity:20,price:15}],total_amount:300,created_at:new Date(Date.now()-864e6).toISOString(),updated_at:new Date(Date.now()-7776e5).toISOString(),comments:[{id:"4",content:"Commande refusée par le fournisseur. Stock insuffisant pour le moment.",created_at:new Date(Date.now()-7776e5).toISOString(),user_id:"2"}]}]}catch(h){return console.error("Error fetching supplier orders:",h),[]}}}),r=kt({mutationFn:async h=>{const{data:o}=await He.from("supplier_products").select("id, price").in("id",h.products.map(m=>m.id)),u=h.products.reduce((m,b)=>{const p=o==null?void 0:o.find(j=>j.id===b.id);return m+((p==null?void 0:p.price)||0)*b.quantity},0),{data:d,error:l}=await He.from("supplier_orders").insert([{...h,status:"pending",total_amount:u}]).select().single();if(l)throw l;return a({title:"Commande créée",message:"La commande a été créée avec succès",type:"success",important:!1,category:"inventory"}),d},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),n=kt({mutationFn:async({id:h,...o})=>{const{data:u,error:d}=await He.from("supplier_orders").update(o).eq("id",h).select().single();if(d)throw d;if(o.status==="completed"){const l=await He.from("supplier_orders").select("*").eq("id",h).single();if(l.data)for(const m of l.data.products)await He.rpc("update_stock",{product_id:m.id,quantity:m.quantity,storage_location:o.storage_location,expiry_date:o.expiry_date});a({title:"Stock mis à jour",message:"Le stock a été mis à jour avec les produits livrés",type:"success",important:!1,category:"inventory"})}return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}}),c=kt({mutationFn:async({order_id:h,content:o})=>{var l;const{data:u,error:d}=await He.from("supplier_order_comments").insert([{order_id:h,content:o,user_id:(l=(await He.auth.getUser()).data.user)==null?void 0:l.id}]).select().single();if(d)throw d;return u},onSuccess:()=>{t.invalidateQueries({queryKey:["supplier_orders"]})}});return{orders:s,isLoading:i,createOrder:r,updateOrder:n,addComment:c}}const _s=[{id:"hmo",name:"HMO",description:"Huîtres de Marennes Oléron",products:["Huîtres plates","Huîtres creuses","Huîtres spéciales"]},{id:"lpb",name:"LPB",description:"Les Parcs de Bouzigues",products:["Moules de Bouzigues","Huîtres de Bouzigues"]},{id:"ac",name:"AC",description:"Arcachon Coquillages",products:["Huîtres du Bassin","Palourdes","Coques"]},{id:"cp",name:"CP",description:"Cancale Production",products:["Huîtres plates","Huîtres creuses","Moules de bouchot"]}];function id(){const{orders:t,isLoading:a,updateOrder:s}=ad(),[i,r]=V.useState(null);V.useState(!1),K();const[n,c]=x.useState("");return x.useState(null),_s.filter(h=>h.name.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase())||h.products.some(o=>o.toLowerCase().includes(n.toLowerCase()))),a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[rgb(var(--color-brand-primary))]"})}):e.jsx("div",{className:"min-h-screen bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Commandes Fournisseurs"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/5 rounded-lg text-white/60 hover:text-white transition-colors",children:e.jsx(R,{size:24})})})]}),e.jsxs("div",{className:"relative mb-8",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une commande...",value:n,onChange:h=>c(h.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-white/20"}),e.jsx(Z,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/40",size:20})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Vos commandes récentes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>{const o=_s.find(l=>l.id===h.supplier_id),u=h.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":h.status==="accepted"?"bg-green-500/20 text-green-400 border-green-500/30":h.status==="delivering"?"bg-blue-500/20 text-blue-400 border-blue-500/30":h.status==="completed"?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-red-500/20 text-red-400 border-red-500/30",d=h.status==="pending"?"Envoyé":h.status==="accepted"?"Validé":h.status==="delivering"?"En cours de livraison":h.status==="completed"?"Reçu":"Refusé";return e.jsx(Sa,{onClick:()=>r(h.id),className:"bg-[rgb(var(--color-brand-surface)_/_var(--glass-opacity))] backdrop-blur-md border border-white/10 rounded-lg p-6 hover:border-white/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:(o==null?void 0:o.name)||"Fournisseur"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u}`,children:d})]}),e.jsxs("div",{className:"text-sm text-white/60 mb-3",children:[e.jsxs("p",{className:"mb-1",children:["Commandé le ",new Date(h.created_at).toLocaleDateString("fr-FR")]}),e.jsxs("p",{className:"font-medium text-white/80",children:["Total: ",h.total_amount.toFixed(2),"€"]})]}),e.jsxs("div",{className:"border-t border-white/5 pt-3 mt-auto",children:[e.jsxs("p",{className:"text-sm font-medium text-white/70",children:[h.products.length," produit",h.products.length>1?"s":""]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[h.products.slice(0,2).map(l=>e.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:[l.quantity,"× ",l.name]},l.id)),h.products.length>2&&e.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded",children:["+",h.products.length-2," autre",h.products.length-2>1?"s":""]})]})]}),h.comments&&h.comments.length>0&&e.jsxs("div",{className:"mt-3 flex items-center text-white/50 text-sm",children:[e.jsx(Ae,{size:14,className:"mr-1"}),h.comments.length," commentaire",h.comments.length>1?"s":""]})]})},h.id)})})]})]})})}const rd=({onClose:t,onUpload:a})=>{const[s,i]=x.useState(""),[r,n]=x.useState(null),[c,h]=x.useState(!1),[o,u]=x.useState(""),d=x.useRef(null),l=j=>{if(j.target.files&&j.target.files[0]){const g=j.target.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}n(g),u(""),s||i(g.name.replace(/\.[^/.]+$/,""))}},m=j=>{if(j.preventDefault(),!s.trim()){u("Veuillez saisir un titre pour le document.");return}if(!r){u("Veuillez sélectionner un fichier.");return}a(s,r,c)},b=j=>{j.preventDefault()},p=j=>{if(j.preventDefault(),j.dataTransfer.files&&j.dataTransfer.files[0]){const g=j.dataTransfer.files[0];if(g.size>10*1024*1024){u("Le fichier est trop volumineux. La taille maximale est de 10 MB.");return}if(!["application/pdf","image/jpeg","image/png"].includes(g.type)){u("Format de fichier non pris en charge. Veuillez utiliser PDF, JPG ou PNG.");return}n(g),u(""),s||i(g.name.replace(/\.[^/.]+$/,""))}};return e.jsx(I,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),e.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Ajouter un document"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:e.jsx(R,{size:20})})]}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Titre du document"}),e.jsx("input",{type:"text",id:"title",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Ex: Carte d'identité, Permis de conduire...",value:s,onChange:j=>i(j.target.value)})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>{var j;return(j=d.current)==null?void 0:j.click()},onDragOver:b,onDrop:p,children:[r?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(pe,{size:40,className:"text-blue-500 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(r.size/1024/1024).toFixed(2)," MB"]}),e.jsx("button",{type:"button",className:"mt-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",onClick:j=>{j.stopPropagation(),n(null),d.current&&(d.current.value="")},children:"Changer de fichier"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Se,{size:40,className:"text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cliquez pour sélectionner un fichier"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"ou glissez-déposez ici"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Format supporté: PDF, JPG, PNG (max. 10 MB)"})]}),e.jsx("input",{ref:d,type:"file",className:"hidden",accept:"application/pdf,image/jpeg,image/png",onChange:l})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c,onChange:j=>h(j.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Document obligatoire (visible dans le QR code)"})]})}),o&&e.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:o}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600 dark:hover:bg-gray-600",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",disabled:!r||!s.trim(),children:"Enregistrer"})]})]})]})]})})})},ld=({documents:t,onDelete:a})=>{if(t.length===0)return e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-brand-dark via-brand-purple/30 to-brand-burgundy/30 rounded-lg border border-white/10",children:[e.jsx(fs,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white",children:"Aucun document"}),e.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ajoutez vos documents importants pour y accéder facilement lors d'un contrôle."})]});const s=i=>{const r=URL.createObjectURL(i.file),n=window.document.createElement("a");n.style.display="none",n.href=r,n.download=i.title+"."+i.file.name.split(".").pop(),window.document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),window.document.body.removeChild(n)};return e.jsx("div",{className:"space-y-4",children:t.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(fs,{size:24,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[i.title,i.isRequired&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:[e.jsx(is,{size:12,className:"mr-1"}),"Obligatoire"]})]}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(ae,{size:14,className:"mr-1"}),e.jsxs("span",{children:["Ajouté le ",T(new Date(i.date),"dd MMMM yyyy",{locale:E})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>s(i),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded-full dark:text-blue-400 dark:hover:bg-blue-900/40",title:"Télécharger",children:e.jsx(fe,{size:18})}),e.jsx("button",{onClick:()=>a(i.id),className:"p-1.5 text-red-600 hover:bg-red-100 rounded-full dark:text-red-400 dark:hover:bg-red-900/40",title:"Supprimer",children:e.jsx(me,{size:18})})]})]},i.id))})},nd=({documents:t,onClose:a})=>{const[s,i]=x.useState("");x.useEffect(()=>{if(t.length>0){const n=t.map(c=>({id:c.id,title:c.title,type:c.file.type,size:c.file.size,required:c.isRequired}));i(JSON.stringify({type:"OYSTERCULT_DIGITAL_VAULT",documents:n,expiry:Date.now()+36e5}))}},[t]);const r=()=>{const n=window.document.getElementById("qr-code-svg");if(n){const c=window.document.createElement("canvas"),h=c.getContext("2d"),o=new XMLSerializer().serializeToString(n),u=new Image;u.onload=()=>{c.width=200,c.height=200,h==null||h.drawImage(u,0,0,200,200);const d=c.toDataURL("image/png"),l=window.document.createElement("a");l.href=d,l.download="coffre-fort-numerique-qrcode.png",window.document.body.appendChild(l),l.click(),window.document.body.removeChild(l)},u.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(o)))}};return e.jsx(I,{children:e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen p-4",children:[e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),e.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6 mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"QR Code d'accès"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:e.jsx(R,{size:20})})]}),t.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Lt,{size:60,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Aucun document obligatoire"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez pas encore ajouté de documents marqués comme obligatoires."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-white rounded-lg",children:e.jsx(Ki,{id:"qr-code-svg",value:s,size:200,level:"H",includeMargin:!0})})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Ce QR code donne accès aux documents suivants :"}),e.jsx("ul",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400 list-disc list-inside",children:t.map(n=>e.jsx("li",{children:n.title},n.id))})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:r,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx(fe,{size:18,className:"mr-2"}),"Télécharger le QR Code"]})})]})]})]})})})},dd=()=>{const[t,a]=x.useState([]);return x.useEffect(()=>{(async()=>{})()},[]),{documents:t,addDocument:n=>{a(c=>[...c,n])},deleteDocument:n=>{a(c=>c.filter(h=>h.id!==n))},updateDocument:(n,c)=>{a(h=>h.map(o=>o.id===n?{...o,...c}:o))}}},cd=()=>{const{documents:t,addDocument:a,deleteDocument:s}=dd(),[i,r]=x.useState(!1),[n,c]=x.useState(!1),[h,o]=x.useState(""),u=t.filter(d=>d.title.toLowerCase().includes(h.toLowerCase()));return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mon coffre-fort numérique"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 bg-brand-burgundy text-white rounded-lg hover:bg-brand-burgundy/90 transition-colors",children:[e.jsx(Se,{size:18,className:"mr-2"}),"Ajouter un document"]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors",children:[e.jsx(Lt,{size:18,className:"mr-2"}),"Générer QR Code"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-3 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Rechercher un document...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",value:h,onChange:d=>o(d.target.value)})]})}),e.jsx(ld,{documents:u,onDelete:s})]})]}),i&&e.jsx(rd,{onClose:()=>r(!1),onUpload:(d,l)=>{a({id:Date.now().toString(),title:d,file:l,date:new Date().toISOString()}),r(!1)}}),n&&e.jsx(nd,{documents:t.filter(d=>d.isRequired),onClose:()=>c(!1)})]})};function od(){const t=Ue(),a=()=>{t(-1)};return e.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-background text-white",children:[e.jsx("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:a,className:"p-1.5 sm:p-2 mr-2 sm:mr-3 rounded-full hover:bg-white/10 text-white/80 hover:text-white transition-colors",children:e.jsx(ns,{size:18,className:"sm:w-5 sm:h-5"})}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Messagerie"})]})}),e.jsx("div",{className:"flex-1 flex w-full",children:e.jsx(ka,{})})]})}const xd=new Wi;function md(){const{session:t,theme:a}=K(),s=Ue(),i=Dt(),[r,n]=x.useState(!1),[c,h]=x.useState(!1),[o,u]=x.useState(!1),d=x.useRef(null),[l,m]=x.useState(!1);x.useEffect(()=>{const g=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;if(m(g),g){document.body.classList.add("ios-device");const w=document.querySelector('meta[name="viewport"]');if(w)w.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");else{const q=document.createElement("meta");q.name="viewport",q.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(q)}const k=document.createElement("style");k.innerHTML=`
        @media screen and (max-width: 768px) {
          input, select, textarea {
            font-size: 16px !important;
          }
        }
      `,document.head.appendChild(k)}},[]),x.useEffect(()=>{document.documentElement.setAttribute("data-theme",a)},[a]),x.useEffect(()=>{n(!1)},[i.pathname]);const b=i.pathname==="/network/messages";x.useEffect(()=>{b||(d.current=i.pathname)},[i.pathname,b]);const p=x.useCallback(()=>{h(g=>!g)},[]),j=x.useCallback(()=>{b?d.current&&d.current!=="/network/messages"?s(d.current):s("/dashboard"):(d.current=i.pathname,s("/network/messages"))},[b,s,i.pathname]);return t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-dark via-brand-purple/20 to-brand-burgundy/20",children:[e.jsx(ir,{onShowMobileMenu:()=>n(!0),onToggleNotifications:p,onShowEmergency:()=>u(!0),onEmergencyClick:()=>u(!0),onToggleMessages:j}),e.jsxs("div",{className:"flex min-h-screen h-full",children:[e.jsx(dr,{showMobileMenu:r,onCloseMobileMenu:()=>n(!1),onEmergencyClick:()=>u(!0),onToggleMessages:j,onToggleNotifications:()=>h(!0)}),e.jsx("div",{className:`
          flex-1 bg-brand-dark pt-16 md:pt-16 
          ${l?"pb-safe":"pb-4"} 
          ${b?"":"px-4 md:px-6 lg:px-8"}
          ml-0 lg:ml-[4.5rem] transition-all duration-300
        `,children:e.jsx("main",{className:"flex-1 p-6 overflow-x-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(I,{mode:"wait",children:e.jsxs(ws,{children:[e.jsx(J,{path:"/",element:e.jsx(vs,{to:"/dashboard",replace:!0})}),e.jsx(J,{path:"/dashboard",element:e.jsx(zr,{})}),e.jsx(J,{path:"/tasks",element:e.jsx(jn,{})}),e.jsx(J,{path:"/digitalvault",element:e.jsx(cd,{})}),e.jsx(J,{path:"/inventory",element:e.jsx(Qr,{})}),e.jsx(J,{path:"/stock",element:e.jsx(Gr,{})}),e.jsx(J,{path:"/traceability",element:e.jsx(Tn,{})}),e.jsx(J,{path:"/accounting",element:e.jsx(Wr,{})}),e.jsx(J,{path:"/invoices",element:e.jsx(il,{})}),e.jsx(J,{path:"/hr",element:e.jsx(jl,{})}),e.jsx(J,{path:"/network",element:e.jsx(Ps,{})}),e.jsx(J,{path:"/network/messages",element:e.jsx(od,{})}),e.jsx(J,{path:"/messages",element:e.jsx(Ps,{activeTab:"messages"})}),e.jsx(J,{path:"/config",element:e.jsx(Xl,{})}),e.jsx(J,{path:"/notifications",element:e.jsx(an,{})}),e.jsx(J,{path:"/sales",element:e.jsx(Rn,{})}),e.jsx(J,{path:"/purchases",element:e.jsx(En,{})}),e.jsx(J,{path:"/profile",element:e.jsx(Jn,{})}),e.jsx(J,{path:"/shop",element:e.jsx(Gn,{})}),e.jsx(J,{path:"/suppliers",element:e.jsx(Wn,{})}),e.jsx(J,{path:"/suppliers/orders",element:e.jsx(id,{})}),e.jsx(J,{path:"/suppliers/:supplierId/catalog",element:e.jsx(ed,{})})]})})})})})]}),e.jsx(I,{children:c&&e.jsx(or,{onClose:p})}),o&&e.jsx(hr,{isOpen:o,onClose:()=>u(!1)}),e.jsx(ur,{}),e.jsx(sr,{position:"bottom-right"})]}):e.jsxs(ws,{children:[e.jsx(J,{path:"/auth",element:e.jsx(jr,{})}),e.jsx(J,{path:"*",element:e.jsx(vs,{to:"/auth",replace:!0})})]})}function hd(){return e.jsx(er,{client:xd,children:e.jsx(tr,{children:e.jsx(md,{})})})}const _a=document.getElementById("root");if(!_a)throw new Error("Root element not found");const ud=ar(_a);ud.render(e.jsx(x.StrictMode,{children:e.jsx(hd,{})}));
